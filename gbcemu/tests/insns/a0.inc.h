    TEST(gbcemu, opcode_a0) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // A0 0000
        gbc.setState(0x6fcf, 0x82ea, 0x74b0, 0x129e, 0x37b5, 0x6aa1, 0x0, 0x0);
        gbc.writeMem(0x6fcf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x82ea);
        EXPECT(gbc.pc(), 0x6fd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0001
        gbc.setState(0xe53e, 0x56a1, 0x2a10, 0x6f2c, 0xa9cd, 0x5dbd, 0x1, 0x0);
        gbc.writeMem(0xe53e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x56a1);
        EXPECT(gbc.pc(), 0xe53f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe53e), 0xa0);
        // A0 0002
        gbc.setState(0x1ab0, 0x2041, 0x2b40, 0xaa68, 0xd86d, 0xe2f9, 0x0, 0x1);
        gbc.writeMem(0x1ab0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2041);
        EXPECT(gbc.pc(), 0x1ab1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0004
        gbc.setState(0x980d, 0xf824, 0xdbd0, 0x9b10, 0x4c21, 0xeea9, 0x0, 0x1);
        gbc.writeMem(0x980d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xf824);
        EXPECT(gbc.pc(), 0x980e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x980d), 0xa0);
        // A0 0005
        gbc.setState(0xa7e, 0x46fa, 0x8cf0, 0x2f6b, 0x2a93, 0x5c0d, 0x1, 0x0);
        gbc.writeMem(0xa7e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x46fa);
        EXPECT(gbc.pc(), 0xa7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0006
        gbc.setState(0x5da8, 0xda72, 0x9fe0, 0xd230, 0xc066, 0xcbf, 0x1, 0x0);
        gbc.writeMem(0x5da8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xda72);
        EXPECT(gbc.pc(), 0x5da9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0007
        gbc.setState(0x498f, 0x315d, 0x2950, 0xbdf4, 0x1bb, 0xa147, 0x0, 0x0);
        gbc.writeMem(0x498f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x315d);
        EXPECT(gbc.pc(), 0x4990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0008
        gbc.setState(0xd4ee, 0x2830, 0x7aa0, 0xc7d2, 0xfedd, 0xbd6a, 0x1, 0x1);
        gbc.writeMem(0xd4ee, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2830);
        EXPECT(gbc.pc(), 0xd4ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4ee), 0xa0);
        // A0 0009
        gbc.setState(0xae07, 0x62f, 0xfbd0, 0x889e, 0xa753, 0x865d, 0x1, 0x0);
        gbc.writeMem(0xae07, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x62f);
        EXPECT(gbc.pc(), 0xae08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae07), 0xa0);
        // A0 000A
        gbc.setState(0x3df0, 0xd72b, 0xff10, 0x6d48, 0xf088, 0xe70e, 0x0, 0x1);
        gbc.writeMem(0x3df0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xd72b);
        EXPECT(gbc.pc(), 0x3df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 000B
        gbc.setState(0x23d5, 0x8ef0, 0xb0d0, 0x1132, 0xd3ea, 0xb7f5, 0x1, 0x1);
        gbc.writeMem(0x23d5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8ef0);
        EXPECT(gbc.pc(), 0x23d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 000C
        gbc.setState(0x856a, 0xafde, 0x8b50, 0x79ee, 0xaa3b, 0x213c, 0x0, 0x0);
        gbc.writeMem(0x856a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xafde);
        EXPECT(gbc.pc(), 0x856b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x856a), 0xa0);
        // A0 000D
        gbc.setState(0x4afa, 0xa5fe, 0xc3e0, 0x4d8a, 0x54d4, 0x706f, 0x0, 0x1);
        gbc.writeMem(0x4afa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa5fe);
        EXPECT(gbc.pc(), 0x4afb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 000E
        gbc.setState(0xc849, 0xc44, 0x14a0, 0x9cd0, 0xf3fb, 0xed91, 0x1, 0x0);
        gbc.writeMem(0xc849, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc44);
        EXPECT(gbc.pc(), 0xc84a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc849), 0xa0);
        // A0 000F
        gbc.setState(0x3673, 0x59bd, 0x8000, 0x2c9, 0x2b94, 0xa1b, 0x1, 0x0);
        gbc.writeMem(0x3673, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x59bd);
        EXPECT(gbc.pc(), 0x3674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0010
        gbc.setState(0x5716, 0x8466, 0x8280, 0xcdcb, 0xf23c, 0xd4c1, 0x1, 0x1);
        gbc.writeMem(0x5716, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8466);
        EXPECT(gbc.pc(), 0x5717);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0011
        gbc.setState(0x572, 0xcc6a, 0xf00, 0xe106, 0x2513, 0x69d5, 0x0, 0x0);
        gbc.writeMem(0x572, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcc6a);
        EXPECT(gbc.pc(), 0x573);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0012
        gbc.setState(0x18ba, 0x72d9, 0xbea0, 0x98d2, 0xe0d2, 0x20dc, 0x1, 0x0);
        gbc.writeMem(0x18ba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x72d9);
        EXPECT(gbc.pc(), 0x18bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0013
        gbc.setState(0x4cfa, 0xae1e, 0xa910, 0xbc63, 0x105d, 0x9340, 0x0, 0x1);
        gbc.writeMem(0x4cfa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xae1e);
        EXPECT(gbc.pc(), 0x4cfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0014
        gbc.setState(0x5b6e, 0xb70d, 0xa7d0, 0xf581, 0xbcb3, 0x8fd7, 0x0, 0x0);
        gbc.writeMem(0x5b6e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb70d);
        EXPECT(gbc.pc(), 0x5b6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0015
        gbc.setState(0x5f98, 0x4dc8, 0x5700, 0x7d9f, 0x37fc, 0x6dd8, 0x0, 0x0);
        gbc.writeMem(0x5f98, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4dc8);
        EXPECT(gbc.pc(), 0x5f99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0016
        gbc.setState(0x1248, 0x2b3f, 0x5f60, 0x90db, 0x18f0, 0x5cd1, 0x0, 0x0);
        gbc.writeMem(0x1248, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2b3f);
        EXPECT(gbc.pc(), 0x1249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0017
        gbc.setState(0x7051, 0xcea7, 0xcf80, 0x17d0, 0x5135, 0x62b8, 0x0, 0x1);
        gbc.writeMem(0x7051, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xcea7);
        EXPECT(gbc.pc(), 0x7052);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0018
        gbc.setState(0xb9c6, 0xf8a, 0x7520, 0xcbaf, 0xb801, 0xbe5a, 0x1, 0x1);
        gbc.writeMem(0xb9c6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf8a);
        EXPECT(gbc.pc(), 0xb9c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9c6), 0xa0);
        // A0 0019
        gbc.setState(0x907, 0x3c66, 0x8800, 0xc206, 0x4312, 0xafc2, 0x0, 0x1);
        gbc.writeMem(0x907, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3c66);
        EXPECT(gbc.pc(), 0x908);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 001A
        gbc.setState(0x2af6, 0x8d4, 0xa850, 0x4093, 0x8d78, 0x1c6a, 0x0, 0x1);
        gbc.writeMem(0x2af6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x8d4);
        EXPECT(gbc.pc(), 0x2af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 001C
        gbc.setState(0xe0c8, 0xc971, 0x1e40, 0x62b2, 0xe519, 0x89b3, 0x1, 0x0);
        gbc.writeMem(0xe0c8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc971);
        EXPECT(gbc.pc(), 0xe0c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0c8), 0xa0);
        // A0 001D
        gbc.setState(0xb1ac, 0x4f46, 0x1600, 0xea8a, 0x41c1, 0x800a, 0x1, 0x1);
        gbc.writeMem(0xb1ac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4f46);
        EXPECT(gbc.pc(), 0xb1ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ac), 0xa0);
        // A0 001E
        gbc.setState(0xc565, 0x2f25, 0xe6f0, 0x9968, 0xaa9e, 0xdeeb, 0x0, 0x1);
        gbc.writeMem(0xc565, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x2f25);
        EXPECT(gbc.pc(), 0xc566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc565), 0xa0);
        // A0 001F
        gbc.setState(0xba43, 0x118c, 0xd620, 0x6f31, 0x339b, 0xc939, 0x1, 0x1);
        gbc.writeMem(0xba43, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x118c);
        EXPECT(gbc.pc(), 0xba44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba43), 0xa0);
        // A0 0020
        gbc.setState(0x1ce9, 0xc0fa, 0xc5a0, 0xcfb0, 0x3a98, 0xcdf3, 0x1, 0x0);
        gbc.writeMem(0x1ce9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc0fa);
        EXPECT(gbc.pc(), 0x1cea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0021
        gbc.setState(0xa85b, 0x55e7, 0x7350, 0xaeb4, 0xcedf, 0x7bc6, 0x1, 0x0);
        gbc.writeMem(0xa85b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x55e7);
        EXPECT(gbc.pc(), 0xa85c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85b), 0xa0);
        // A0 0022
        gbc.setState(0xc6c9, 0xf0cc, 0x7e00, 0xc557, 0xded4, 0x6f40, 0x1, 0x0);
        gbc.writeMem(0xc6c9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xf0cc);
        EXPECT(gbc.pc(), 0xc6ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6c9), 0xa0);
        // A0 0023
        gbc.setState(0xe191, 0xf581, 0xd280, 0x55c8, 0xe74f, 0xf5ef, 0x0, 0x0);
        gbc.writeMem(0xe191, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf581);
        EXPECT(gbc.pc(), 0xe192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe191), 0xa0);
        // A0 0024
        gbc.setState(0x799f, 0x5ac2, 0xe2d0, 0x420b, 0x1376, 0x41f8, 0x1, 0x1);
        gbc.writeMem(0x799f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5ac2);
        EXPECT(gbc.pc(), 0x79a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0025
        gbc.setState(0x538b, 0x976e, 0x1d40, 0xca0c, 0xc0c6, 0x276d, 0x0, 0x0);
        gbc.writeMem(0x538b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x976e);
        EXPECT(gbc.pc(), 0x538c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0026
        gbc.setState(0xb246, 0xce8f, 0x4da0, 0x7ad6, 0x88a9, 0xd1ab, 0x1, 0x1);
        gbc.writeMem(0xb246, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xce8f);
        EXPECT(gbc.pc(), 0xb247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb246), 0xa0);
        // A0 0027
        gbc.setState(0x2f1f, 0x79cd, 0x4cd0, 0x920f, 0x4e72, 0x1d60, 0x1, 0x1);
        gbc.writeMem(0x2f1f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x79cd);
        EXPECT(gbc.pc(), 0x2f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0029
        gbc.setState(0xa30e, 0x9768, 0x14e0, 0xce6c, 0x6bea, 0x361, 0x0, 0x0);
        gbc.writeMem(0xa30e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x9768);
        EXPECT(gbc.pc(), 0xa30f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30e), 0xa0);
        // A0 002A
        gbc.setState(0xea77, 0x39ac, 0xb9f0, 0x2a6d, 0x50e, 0xc4d2, 0x1, 0x1);
        gbc.writeMem(0xea77, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x39ac);
        EXPECT(gbc.pc(), 0xea78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea77), 0xa0);
        // A0 002B
        gbc.setState(0x9c87, 0x8327, 0xba10, 0x7135, 0xc22, 0x12b7, 0x0, 0x0);
        gbc.writeMem(0x9c87, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8327);
        EXPECT(gbc.pc(), 0x9c88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c87), 0xa0);
        // A0 002C
        gbc.setState(0x694e, 0x6e3, 0x4bd0, 0xc79f, 0xe7b9, 0x8a97, 0x1, 0x0);
        gbc.writeMem(0x694e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6e3);
        EXPECT(gbc.pc(), 0x694f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 002D
        gbc.setState(0x522a, 0x65f5, 0xf10, 0x7e06, 0xc04, 0xb308, 0x0, 0x1);
        gbc.writeMem(0x522a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x65f5);
        EXPECT(gbc.pc(), 0x522b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 002E
        gbc.setState(0x613f, 0x83d3, 0x32a0, 0xcbda, 0x6047, 0xf194, 0x1, 0x1);
        gbc.writeMem(0x613f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x83d3);
        EXPECT(gbc.pc(), 0x6140);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 002F
        gbc.setState(0xe681, 0x9db0, 0x9680, 0x8b33, 0xbd45, 0x58b4, 0x0, 0x0);
        gbc.writeMem(0xe681, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9db0);
        EXPECT(gbc.pc(), 0xe682);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe681), 0xa0);
        // A0 0030
        gbc.setState(0x9af, 0xd53, 0xe980, 0x5c98, 0x3964, 0x154b, 0x0, 0x0);
        gbc.writeMem(0x9af, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd53);
        EXPECT(gbc.pc(), 0x9b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0031
        gbc.setState(0xec03, 0x4164, 0xea0, 0xaa1c, 0x2888, 0xcf3e, 0x1, 0x1);
        gbc.writeMem(0xec03, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4164);
        EXPECT(gbc.pc(), 0xec04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec03), 0xa0);
        // A0 0032
        gbc.setState(0xce54, 0x1d99, 0x1fa0, 0xfa19, 0x9e02, 0x4eb4, 0x0, 0x0);
        gbc.writeMem(0xce54, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1d99);
        EXPECT(gbc.pc(), 0xce55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce54), 0xa0);
        // A0 0033
        gbc.setState(0x386a, 0xf27b, 0x3ae0, 0x8b46, 0xdd0d, 0x3689, 0x0, 0x0);
        gbc.writeMem(0x386a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf27b);
        EXPECT(gbc.pc(), 0x386b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0034
        gbc.setState(0x1552, 0x51ca, 0x9890, 0xb9af, 0x9239, 0x44b3, 0x1, 0x1);
        gbc.writeMem(0x1552, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x51ca);
        EXPECT(gbc.pc(), 0x1553);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0035
        gbc.setState(0x9971, 0xef96, 0x7d40, 0x2f30, 0x9a94, 0x7b45, 0x1, 0x1);
        gbc.writeMem(0x9971, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xef96);
        EXPECT(gbc.pc(), 0x9972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9971), 0xa0);
        // A0 0036
        gbc.setState(0xdb5c, 0xe074, 0x5220, 0x1892, 0xeb5d, 0xbc3e, 0x1, 0x1);
        gbc.writeMem(0xdb5c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe074);
        EXPECT(gbc.pc(), 0xdb5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb5c), 0xa0);
        // A0 0037
        gbc.setState(0xd2d3, 0x4534, 0xd730, 0xc381, 0xdacf, 0x3c47, 0x0, 0x0);
        gbc.writeMem(0xd2d3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4534);
        EXPECT(gbc.pc(), 0xd2d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2d3), 0xa0);
        // A0 0038
        gbc.setState(0x4327, 0x2d9b, 0xa40, 0xf17, 0xbc24, 0xb994, 0x0, 0x1);
        gbc.writeMem(0x4327, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2d9b);
        EXPECT(gbc.pc(), 0x4328);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0039
        gbc.setState(0xb2ca, 0x377, 0x10e0, 0xf42c, 0x7e3f, 0x5f30, 0x0, 0x0);
        gbc.writeMem(0xb2ca, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x377);
        EXPECT(gbc.pc(), 0xb2cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ca), 0xa0);
        // A0 003A
        gbc.setState(0x94b0, 0x5d22, 0x7a80, 0xb8ff, 0x3022, 0x4c5f, 0x0, 0x0);
        gbc.writeMem(0x94b0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x5d22);
        EXPECT(gbc.pc(), 0x94b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94b0), 0xa0);
        // A0 003B
        gbc.setState(0xe223, 0x9d29, 0x9620, 0x7245, 0xf9b9, 0x3260, 0x0, 0x1);
        gbc.writeMem(0xe223, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x9d29);
        EXPECT(gbc.pc(), 0xe224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe223), 0xa0);
        // A0 003C
        gbc.setState(0x3102, 0xac46, 0xc650, 0xa763, 0xb966, 0x65f4, 0x1, 0x0);
        gbc.writeMem(0x3102, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xac46);
        EXPECT(gbc.pc(), 0x3103);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 003D
        gbc.setState(0xb63b, 0x295b, 0xa0a0, 0x2a83, 0xbed2, 0xd3b0, 0x1, 0x0);
        gbc.writeMem(0xb63b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x295b);
        EXPECT(gbc.pc(), 0xb63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb63b), 0xa0);
        // A0 003E
        gbc.setState(0x2982, 0x775a, 0x25b0, 0xfb4b, 0x1a8, 0xcd22, 0x0, 0x0);
        gbc.writeMem(0x2982, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x775a);
        EXPECT(gbc.pc(), 0x2983);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 003F
        gbc.setState(0x7447, 0xe14d, 0x1ea0, 0xceb3, 0x8315, 0x4d04, 0x1, 0x0);
        gbc.writeMem(0x7447, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe14d);
        EXPECT(gbc.pc(), 0x7448);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0040
        gbc.setState(0x3324, 0xb52, 0xd010, 0x44b4, 0xe2df, 0xa9b9, 0x1, 0x0);
        gbc.writeMem(0x3324, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb52);
        EXPECT(gbc.pc(), 0x3325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0041
        gbc.setState(0xd862, 0x1120, 0x7750, 0x1fb5, 0xc38f, 0x5ce8, 0x0, 0x1);
        gbc.writeMem(0xd862, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1120);
        EXPECT(gbc.pc(), 0xd863);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd862), 0xa0);
        // A0 0042
        gbc.setState(0x291, 0xcad2, 0x1ef0, 0x8d09, 0x2170, 0xc363, 0x0, 0x1);
        gbc.writeMem(0x291, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xcad2);
        EXPECT(gbc.pc(), 0x292);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0043
        gbc.setState(0x13b9, 0xd0b4, 0x2750, 0xa891, 0x8b1d, 0x5b63, 0x0, 0x0);
        gbc.writeMem(0x13b9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd0b4);
        EXPECT(gbc.pc(), 0x13ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0044
        gbc.setState(0xd2ac, 0x534a, 0xbd20, 0xccaa, 0x4110, 0x6174, 0x1, 0x1);
        gbc.writeMem(0xd2ac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x534a);
        EXPECT(gbc.pc(), 0xd2ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2ac), 0xa0);
        // A0 0045
        gbc.setState(0x9b57, 0x46ca, 0x6270, 0xe499, 0x9c0a, 0xa6c7, 0x1, 0x1);
        gbc.writeMem(0x9b57, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x46ca);
        EXPECT(gbc.pc(), 0x9b58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b57), 0xa0);
        // A0 0046
        gbc.setState(0x4f93, 0x86a9, 0xbaa0, 0x5656, 0x796d, 0xa9ad, 0x1, 0x1);
        gbc.writeMem(0x4f93, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x86a9);
        EXPECT(gbc.pc(), 0x4f94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0047
        gbc.setState(0xb1aa, 0x51f7, 0xc900, 0x3659, 0x5037, 0x8b8f, 0x0, 0x1);
        gbc.writeMem(0xb1aa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x51f7);
        EXPECT(gbc.pc(), 0xb1ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1aa), 0xa0);
        // A0 0048
        gbc.setState(0xe9ed, 0x1e52, 0x3c40, 0xbaa4, 0xf1f2, 0x2ede, 0x0, 0x1);
        gbc.writeMem(0xe9ed, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1e52);
        EXPECT(gbc.pc(), 0xe9ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ed), 0xa0);
        // A0 0049
        gbc.setState(0x4f57, 0x32d6, 0x8430, 0x1840, 0x4fc9, 0x9f39, 0x1, 0x0);
        gbc.writeMem(0x4f57, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x32d6);
        EXPECT(gbc.pc(), 0x4f58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 004A
        gbc.setState(0xed36, 0xd46d, 0x7d10, 0xdb93, 0xacf1, 0xb541, 0x1, 0x1);
        gbc.writeMem(0xed36, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd46d);
        EXPECT(gbc.pc(), 0xed37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed36), 0xa0);
        // A0 004B
        gbc.setState(0x637d, 0xad63, 0x9b30, 0xdb5, 0x45dd, 0x2f9f, 0x1, 0x0);
        gbc.writeMem(0x637d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xad63);
        EXPECT(gbc.pc(), 0x637e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 004C
        gbc.setState(0xb6bb, 0x1fa4, 0xe820, 0x3b32, 0xfb11, 0xd66, 0x0, 0x0);
        gbc.writeMem(0xb6bb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1fa4);
        EXPECT(gbc.pc(), 0xb6bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6bb), 0xa0);
        // A0 004D
        gbc.setState(0x4660, 0x5eaa, 0xff0, 0xd353, 0xfc72, 0xa5d9, 0x1, 0x0);
        gbc.writeMem(0x4660, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5eaa);
        EXPECT(gbc.pc(), 0x4661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 004E
        gbc.setState(0x5e8f, 0x2042, 0xf30, 0x7ce0, 0x15b0, 0xd31, 0x0, 0x1);
        gbc.writeMem(0x5e8f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2042);
        EXPECT(gbc.pc(), 0x5e90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 004F
        gbc.setState(0x6020, 0xe841, 0x2a30, 0x40fd, 0xd92e, 0x2f26, 0x0, 0x1);
        gbc.writeMem(0x6020, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xe841);
        EXPECT(gbc.pc(), 0x6021);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0050
        gbc.setState(0x4570, 0xb190, 0x8820, 0xb6f6, 0x6fa6, 0x62e9, 0x1, 0x0);
        gbc.writeMem(0x4570, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xb190);
        EXPECT(gbc.pc(), 0x4571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0051
        gbc.setState(0x3010, 0xbda6, 0x1010, 0x1aa9, 0xd62b, 0xa94b, 0x1, 0x0);
        gbc.writeMem(0x3010, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbda6);
        EXPECT(gbc.pc(), 0x3011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0052
        gbc.setState(0x631c, 0x5e8f, 0x4080, 0x5001, 0x5836, 0x8e43, 0x0, 0x0);
        gbc.writeMem(0x631c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x5e8f);
        EXPECT(gbc.pc(), 0x631d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0053
        gbc.setState(0xc1ac, 0x7ba7, 0x7a70, 0x3625, 0x223b, 0xb967, 0x1, 0x0);
        gbc.writeMem(0xc1ac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x7ba7);
        EXPECT(gbc.pc(), 0xc1ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1ac), 0xa0);
        // A0 0054
        gbc.setState(0xd05b, 0x4820, 0x6060, 0x49a3, 0x5107, 0x468d, 0x0, 0x0);
        gbc.writeMem(0xd05b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4820);
        EXPECT(gbc.pc(), 0xd05c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd05b), 0xa0);
        // A0 0055
        gbc.setState(0x12c4, 0xb502, 0xfed0, 0x78c0, 0x9f45, 0xf9bd, 0x0, 0x0);
        gbc.writeMem(0x12c4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb502);
        EXPECT(gbc.pc(), 0x12c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0056
        gbc.setState(0x3b6c, 0xb30, 0x7f50, 0x7ad2, 0x664c, 0x5274, 0x1, 0x0);
        gbc.writeMem(0x3b6c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb30);
        EXPECT(gbc.pc(), 0x3b6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0057
        gbc.setState(0x8624, 0x87e4, 0xa7f0, 0x62da, 0x8a1e, 0xfd3e, 0x0, 0x0);
        gbc.writeMem(0x8624, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x87e4);
        EXPECT(gbc.pc(), 0x8625);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8624), 0xa0);
        // A0 0058
        gbc.setState(0x30bf, 0xe922, 0xf500, 0x97a6, 0x27ff, 0xcb34, 0x0, 0x0);
        gbc.writeMem(0x30bf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe922);
        EXPECT(gbc.pc(), 0x30c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0059
        gbc.setState(0xaee5, 0xbaa3, 0x1840, 0x936b, 0xc6ed, 0x4e6d, 0x1, 0x0);
        gbc.writeMem(0xaee5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xbaa3);
        EXPECT(gbc.pc(), 0xaee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaee5), 0xa0);
        // A0 005A
        gbc.setState(0x58f4, 0x44a8, 0x7bd0, 0x6e10, 0x95ea, 0x9e03, 0x1, 0x0);
        gbc.writeMem(0x58f4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x44a8);
        EXPECT(gbc.pc(), 0x58f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 005B
        gbc.setState(0xba2, 0x8236, 0x6860, 0xa580, 0x4807, 0x227c, 0x1, 0x1);
        gbc.writeMem(0xba2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8236);
        EXPECT(gbc.pc(), 0xba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 005C
        gbc.setState(0x44b7, 0x11d5, 0x3a20, 0xeff7, 0x9001, 0x375e, 0x0, 0x0);
        gbc.writeMem(0x44b7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x11d5);
        EXPECT(gbc.pc(), 0x44b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 005D
        gbc.setState(0x4b99, 0x94f9, 0x7470, 0x48ed, 0x4491, 0x9611, 0x0, 0x0);
        gbc.writeMem(0x4b99, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x94f9);
        EXPECT(gbc.pc(), 0x4b9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 005E
        gbc.setState(0xc99b, 0x7f04, 0x6eb0, 0xa291, 0x328a, 0x9917, 0x0, 0x1);
        gbc.writeMem(0xc99b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7f04);
        EXPECT(gbc.pc(), 0xc99c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc99b), 0xa0);
        // A0 005F
        gbc.setState(0x9d5f, 0x8832, 0x60e0, 0xb31d, 0xa550, 0x688d, 0x1, 0x1);
        gbc.writeMem(0x9d5f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8832);
        EXPECT(gbc.pc(), 0x9d60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d5f), 0xa0);
        // A0 0060
        gbc.setState(0x8552, 0xb069, 0xf310, 0x2019, 0x162f, 0x7a99, 0x0, 0x0);
        gbc.writeMem(0x8552, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb069);
        EXPECT(gbc.pc(), 0x8553);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8552), 0xa0);
        // A0 0061
        gbc.setState(0x638e, 0x1356, 0x9a30, 0xb250, 0x7c0d, 0x37aa, 0x0, 0x1);
        gbc.writeMem(0x638e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1356);
        EXPECT(gbc.pc(), 0x638f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0062
        gbc.setState(0xdac9, 0x890d, 0x90c0, 0x43d, 0xd6fc, 0x8725, 0x1, 0x1);
        gbc.writeMem(0xdac9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x890d);
        EXPECT(gbc.pc(), 0xdaca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac9), 0xa0);
        // A0 0063
        gbc.setState(0x695a, 0x9482, 0x8ca0, 0xf5a7, 0xbf57, 0x6fd5, 0x1, 0x1);
        gbc.writeMem(0x695a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9482);
        EXPECT(gbc.pc(), 0x695b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0064
        gbc.setState(0x964f, 0x7789, 0x7420, 0xf015, 0x1dce, 0xdbbb, 0x0, 0x1);
        gbc.writeMem(0x964f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7789);
        EXPECT(gbc.pc(), 0x9650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x964f), 0xa0);
        // A0 0065
        gbc.setState(0x33d7, 0x93b0, 0xb450, 0x9de4, 0xbadf, 0x588, 0x0, 0x0);
        gbc.writeMem(0x33d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x93b0);
        EXPECT(gbc.pc(), 0x33d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0066
        gbc.setState(0x8299, 0xa282, 0xd5b0, 0xed30, 0xbe5c, 0x17d6, 0x1, 0x0);
        gbc.writeMem(0x8299, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa282);
        EXPECT(gbc.pc(), 0x829a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8299), 0xa0);
        // A0 0067
        gbc.setState(0x8a08, 0xc496, 0x7bf0, 0x2388, 0x7d28, 0x4144, 0x1, 0x0);
        gbc.writeMem(0x8a08, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc496);
        EXPECT(gbc.pc(), 0x8a09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a08), 0xa0);
        // A0 0068
        gbc.setState(0xe3c0, 0x7286, 0x5a40, 0x3ebf, 0x4fa4, 0xfcb7, 0x0, 0x0);
        gbc.writeMem(0xe3c0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7286);
        EXPECT(gbc.pc(), 0xe3c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3c0), 0xa0);
        // A0 0069
        gbc.setState(0xbe6a, 0x47df, 0x90e0, 0xfd11, 0x499, 0x272e, 0x0, 0x1);
        gbc.writeMem(0xbe6a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x47df);
        EXPECT(gbc.pc(), 0xbe6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6a), 0xa0);
        // A0 006A
        gbc.setState(0xdbac, 0xf3df, 0x3e00, 0x348c, 0x65aa, 0x4b94, 0x0, 0x0);
        gbc.writeMem(0xdbac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf3df);
        EXPECT(gbc.pc(), 0xdbad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbac), 0xa0);
        // A0 006B
        gbc.setState(0x3497, 0xa4e6, 0x49c0, 0x9de7, 0xe387, 0x8d5, 0x1, 0x0);
        gbc.writeMem(0x3497, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xa4e6);
        EXPECT(gbc.pc(), 0x3498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 006C
        gbc.setState(0xce47, 0x39d2, 0xb8d0, 0x2376, 0xc5d7, 0x9625, 0x1, 0x1);
        gbc.writeMem(0xce47, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x39d2);
        EXPECT(gbc.pc(), 0xce48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce47), 0xa0);
        // A0 006D
        gbc.setState(0x4aaa, 0x1388, 0x8760, 0x4f5c, 0xac60, 0xe283, 0x1, 0x0);
        gbc.writeMem(0x4aaa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1388);
        EXPECT(gbc.pc(), 0x4aab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 006E
        gbc.setState(0x83b3, 0x2dae, 0xaa10, 0x6a0f, 0x5351, 0xc6e9, 0x0, 0x0);
        gbc.writeMem(0x83b3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2dae);
        EXPECT(gbc.pc(), 0x83b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83b3), 0xa0);
        // A0 006F
        gbc.setState(0xb922, 0x5484, 0x5800, 0xc06c, 0x8328, 0xc6e2, 0x0, 0x0);
        gbc.writeMem(0xb922, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x5484);
        EXPECT(gbc.pc(), 0xb923);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb922), 0xa0);
        // A0 0070
        gbc.setState(0x5aba, 0xd5fc, 0xefe0, 0xe0d7, 0x3369, 0x9d3, 0x1, 0x1);
        gbc.writeMem(0x5aba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd5fc);
        EXPECT(gbc.pc(), 0x5abb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0071
        gbc.setState(0x71cd, 0x54fc, 0x380, 0x80a9, 0xf165, 0xb75c, 0x1, 0x1);
        gbc.writeMem(0x71cd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x54fc);
        EXPECT(gbc.pc(), 0x71ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0072
        gbc.setState(0x9ee4, 0x9e5b, 0x5f30, 0x26a3, 0xf0a8, 0xa71c, 0x1, 0x0);
        gbc.writeMem(0x9ee4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9e5b);
        EXPECT(gbc.pc(), 0x9ee5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee4), 0xa0);
        // A0 0073
        gbc.setState(0xc28a, 0xa3c4, 0x8030, 0x9aa9, 0xa876, 0xb96b, 0x0, 0x1);
        gbc.writeMem(0xc28a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa3c4);
        EXPECT(gbc.pc(), 0xc28b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc28a), 0xa0);
        // A0 0074
        gbc.setState(0xeae4, 0xbea, 0xde20, 0xb1ed, 0x4f1, 0x46c7, 0x0, 0x1);
        gbc.writeMem(0xeae4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xbea);
        EXPECT(gbc.pc(), 0xeae5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae4), 0xa0);
        // A0 0075
        gbc.setState(0x7d9f, 0xa81c, 0x2130, 0xc300, 0x7811, 0xa4f6, 0x0, 0x0);
        gbc.writeMem(0x7d9f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xa81c);
        EXPECT(gbc.pc(), 0x7da0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0076
        gbc.setState(0x564d, 0x3074, 0xb470, 0xbe2e, 0xfc31, 0xf9c1, 0x0, 0x1);
        gbc.writeMem(0x564d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3074);
        EXPECT(gbc.pc(), 0x564e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0077
        gbc.setState(0x4f99, 0xec26, 0xe5a0, 0x70ac, 0x55eb, 0x3b1e, 0x1, 0x0);
        gbc.writeMem(0x4f99, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xec26);
        EXPECT(gbc.pc(), 0x4f9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0078
        gbc.setState(0x64cc, 0x2785, 0xefe0, 0x1203, 0x4d80, 0x2870, 0x0, 0x0);
        gbc.writeMem(0x64cc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2785);
        EXPECT(gbc.pc(), 0x64cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 007A
        gbc.setState(0x7fc1, 0x692d, 0x1cf0, 0x6216, 0x6524, 0xa998, 0x0, 0x0);
        gbc.writeMem(0x7fc1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x692d);
        EXPECT(gbc.pc(), 0x7fc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 007B
        gbc.setState(0x6778, 0x3f18, 0x69f0, 0xc929, 0xbfac, 0xcc65, 0x0, 0x1);
        gbc.writeMem(0x6778, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3f18);
        EXPECT(gbc.pc(), 0x6779);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 007C
        gbc.setState(0x8b5d, 0x401e, 0xb4b0, 0x669d, 0xc22d, 0x163e, 0x0, 0x1);
        gbc.writeMem(0x8b5d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x401e);
        EXPECT(gbc.pc(), 0x8b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b5d), 0xa0);
        // A0 007E
        gbc.setState(0xdaf7, 0x5cb8, 0xe570, 0x2a8b, 0x242a, 0x589b, 0x0, 0x0);
        gbc.writeMem(0xdaf7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x5cb8);
        EXPECT(gbc.pc(), 0xdaf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf7), 0xa0);
        // A0 007F
        gbc.setState(0x6c08, 0x484b, 0x9710, 0x922d, 0x140b, 0x7efb, 0x1, 0x0);
        gbc.writeMem(0x6c08, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x484b);
        EXPECT(gbc.pc(), 0x6c09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0080
        gbc.setState(0x6e29, 0xa3ba, 0x41e0, 0xd6b6, 0xa205, 0xe3df, 0x0, 0x1);
        gbc.writeMem(0x6e29, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa3ba);
        EXPECT(gbc.pc(), 0x6e2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0081
        gbc.setState(0xdcd5, 0x64f3, 0xe8a0, 0x602a, 0x9a9d, 0xd492, 0x0, 0x0);
        gbc.writeMem(0xdcd5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x64f3);
        EXPECT(gbc.pc(), 0xdcd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd5), 0xa0);
        // A0 0082
        gbc.setState(0x57a3, 0xe4fe, 0x98a0, 0x347f, 0xbea6, 0x65d4, 0x0, 0x1);
        gbc.writeMem(0x57a3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe4fe);
        EXPECT(gbc.pc(), 0x57a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0083
        gbc.setState(0xa04d, 0xd80d, 0xcf00, 0x76d3, 0x9753, 0x1daf, 0x0, 0x0);
        gbc.writeMem(0xa04d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd80d);
        EXPECT(gbc.pc(), 0xa04e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa04d), 0xa0);
        // A0 0084
        gbc.setState(0xc4a5, 0xdd9f, 0x5b10, 0x1bf0, 0x7ac4, 0x2ce1, 0x0, 0x0);
        gbc.writeMem(0xc4a5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xdd9f);
        EXPECT(gbc.pc(), 0xc4a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4a5), 0xa0);
        // A0 0085
        gbc.setState(0xd5b7, 0xc696, 0x3a80, 0x529b, 0xa91d, 0x61de, 0x1, 0x0);
        gbc.writeMem(0xd5b7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc696);
        EXPECT(gbc.pc(), 0xd5b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b7), 0xa0);
        // A0 0086
        gbc.setState(0x27f6, 0x5a91, 0xc900, 0xca17, 0xb238, 0x2a7e, 0x0, 0x0);
        gbc.writeMem(0x27f6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5a91);
        EXPECT(gbc.pc(), 0x27f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0087
        gbc.setState(0x592a, 0xface, 0x2180, 0x59c8, 0x8a3d, 0x7131, 0x1, 0x1);
        gbc.writeMem(0x592a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xface);
        EXPECT(gbc.pc(), 0x592b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0088
        gbc.setState(0xd54a, 0xbf62, 0xcba0, 0xf63e, 0x9a94, 0x42bf, 0x0, 0x0);
        gbc.writeMem(0xd54a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xbf62);
        EXPECT(gbc.pc(), 0xd54b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd54a), 0xa0);
        // A0 0089
        gbc.setState(0x237e, 0xaad9, 0x7ca0, 0xcec4, 0xabb9, 0x67d2, 0x1, 0x1);
        gbc.writeMem(0x237e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xaad9);
        EXPECT(gbc.pc(), 0x237f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 008A
        gbc.setState(0xe9e8, 0x728a, 0x7f00, 0xc539, 0x93df, 0x604a, 0x0, 0x0);
        gbc.writeMem(0xe9e8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x728a);
        EXPECT(gbc.pc(), 0xe9e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9e8), 0xa0);
        // A0 008B
        gbc.setState(0x4180, 0x61b6, 0x1ba0, 0x3c3, 0xb1ac, 0x79ba, 0x1, 0x0);
        gbc.writeMem(0x4180, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x61b6);
        EXPECT(gbc.pc(), 0x4181);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 008C
        gbc.setState(0x2225, 0xe64a, 0xc090, 0x69af, 0xbf6d, 0x2346, 0x1, 0x1);
        gbc.writeMem(0x2225, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe64a);
        EXPECT(gbc.pc(), 0x2226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 008D
        gbc.setState(0x46a, 0xdbee, 0x8e00, 0xb78f, 0x8441, 0xec5c, 0x0, 0x1);
        gbc.writeMem(0x46a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xdbee);
        EXPECT(gbc.pc(), 0x46b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 008E
        gbc.setState(0x61e, 0xfc58, 0x4d00, 0x5a9a, 0xc90f, 0x1522, 0x1, 0x1);
        gbc.writeMem(0x61e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xfc58);
        EXPECT(gbc.pc(), 0x61f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 008F
        gbc.setState(0x3b0e, 0xacdb, 0xb850, 0x5165, 0x5f39, 0x2851, 0x1, 0x0);
        gbc.writeMem(0x3b0e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xacdb);
        EXPECT(gbc.pc(), 0x3b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0090
        gbc.setState(0x2b5e, 0x5968, 0x25b0, 0xd22b, 0x3425, 0x2faa, 0x0, 0x1);
        gbc.writeMem(0x2b5e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5968);
        EXPECT(gbc.pc(), 0x2b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0091
        gbc.setState(0x45ef, 0x9a68, 0x10f0, 0x917, 0xb8a8, 0xdb27, 0x1, 0x0);
        gbc.writeMem(0x45ef, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9a68);
        EXPECT(gbc.pc(), 0x45f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0092
        gbc.setState(0x20fa, 0x31a5, 0x3150, 0x71f, 0x4619, 0xa10c, 0x1, 0x1);
        gbc.writeMem(0x20fa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x31a5);
        EXPECT(gbc.pc(), 0x20fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0094
        gbc.setState(0x9dee, 0xe578, 0x13a0, 0xe6b5, 0xf645, 0x8d01, 0x0, 0x1);
        gbc.writeMem(0x9dee, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe578);
        EXPECT(gbc.pc(), 0x9def);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dee), 0xa0);
        // A0 0095
        gbc.setState(0x8d36, 0xd066, 0xc8f0, 0x6707, 0xe074, 0x59db, 0x0, 0x0);
        gbc.writeMem(0x8d36, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd066);
        EXPECT(gbc.pc(), 0x8d37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d36), 0xa0);
        // A0 0096
        gbc.setState(0x8ee5, 0xf196, 0x9b0, 0x687e, 0xd7e1, 0x7b50, 0x0, 0x0);
        gbc.writeMem(0x8ee5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf196);
        EXPECT(gbc.pc(), 0x8ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ee5), 0xa0);
        // A0 0097
        gbc.setState(0x5ea8, 0xa38a, 0x1a0, 0xc971, 0xc97a, 0xd67a, 0x0, 0x0);
        gbc.writeMem(0x5ea8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa38a);
        EXPECT(gbc.pc(), 0x5ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0098
        gbc.setState(0x1a8b, 0x60c4, 0x6ac0, 0x93a8, 0x9bdd, 0x1573, 0x1, 0x0);
        gbc.writeMem(0x1a8b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x60c4);
        EXPECT(gbc.pc(), 0x1a8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0099
        gbc.setState(0x32aa, 0x26c3, 0x2cd0, 0x982e, 0xd815, 0x7015, 0x0, 0x0);
        gbc.writeMem(0x32aa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x26c3);
        EXPECT(gbc.pc(), 0x32ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 009A
        gbc.setState(0x1442, 0xb0ae, 0x9580, 0x3b2e, 0x7d1e, 0xcbfc, 0x0, 0x0);
        gbc.writeMem(0x1442, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb0ae);
        EXPECT(gbc.pc(), 0x1443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 009B
        gbc.setState(0x1a8f, 0xff85, 0xe3b0, 0x84c9, 0xe6d7, 0x61d2, 0x0, 0x0);
        gbc.writeMem(0x1a8f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xff85);
        EXPECT(gbc.pc(), 0x1a90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 009C
        gbc.setState(0x961d, 0x8b38, 0xd590, 0x3639, 0x8a69, 0xfde1, 0x0, 0x1);
        gbc.writeMem(0x961d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8b38);
        EXPECT(gbc.pc(), 0x961e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x961d), 0xa0);
        // A0 009D
        gbc.setState(0x6f2f, 0x44c6, 0x23b0, 0xc731, 0x6ff3, 0xd8f4, 0x0, 0x0);
        gbc.writeMem(0x6f2f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x44c6);
        EXPECT(gbc.pc(), 0x6f30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 009E
        gbc.setState(0xed2b, 0xa699, 0xfa80, 0x7c52, 0x50b9, 0x585c, 0x0, 0x0);
        gbc.writeMem(0xed2b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa699);
        EXPECT(gbc.pc(), 0xed2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed2b), 0xa0);
        // A0 009F
        gbc.setState(0x7978, 0x87fc, 0x2570, 0x9b, 0xf518, 0x6414, 0x1, 0x0);
        gbc.writeMem(0x7978, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x87fc);
        EXPECT(gbc.pc(), 0x7979);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00A0
        gbc.setState(0x53cd, 0xf044, 0xcd20, 0x4571, 0xbdde, 0xe0a7, 0x0, 0x0);
        gbc.writeMem(0x53cd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xf044);
        EXPECT(gbc.pc(), 0x53ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00A1
        gbc.setState(0x8a33, 0x5ec2, 0x7db0, 0x41bd, 0x1d40, 0xfbb6, 0x0, 0x0);
        gbc.writeMem(0x8a33, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x5ec2);
        EXPECT(gbc.pc(), 0x8a34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a33), 0xa0);
        // A0 00A2
        gbc.setState(0x9a83, 0xc210, 0xb100, 0xdf57, 0xa04, 0x7954, 0x0, 0x1);
        gbc.writeMem(0x9a83, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc210);
        EXPECT(gbc.pc(), 0x9a84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a83), 0xa0);
        // A0 00A3
        gbc.setState(0xcc29, 0xc1b3, 0x3e20, 0x1b2d, 0x626c, 0xe467, 0x1, 0x1);
        gbc.writeMem(0xcc29, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc1b3);
        EXPECT(gbc.pc(), 0xcc2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc29), 0xa0);
        // A0 00A4
        gbc.setState(0x2c5d, 0x3c17, 0xd370, 0x62da, 0x438, 0xc770, 0x0, 0x1);
        gbc.writeMem(0x2c5d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3c17);
        EXPECT(gbc.pc(), 0x2c5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00A5
        gbc.setState(0x890a, 0x9fa6, 0xde0, 0x9df7, 0xb232, 0xcf8f, 0x0, 0x0);
        gbc.writeMem(0x890a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9fa6);
        EXPECT(gbc.pc(), 0x890b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x890a), 0xa0);
        // A0 00A6
        gbc.setState(0xdb0d, 0x6ba7, 0x47a0, 0xbc68, 0xb78a, 0x4ed4, 0x1, 0x1);
        gbc.writeMem(0xdb0d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6ba7);
        EXPECT(gbc.pc(), 0xdb0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb0d), 0xa0);
        // A0 00A7
        gbc.setState(0x4734, 0xa51f, 0x49f0, 0xcee8, 0xa919, 0xa597, 0x0, 0x1);
        gbc.writeMem(0x4734, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa51f);
        EXPECT(gbc.pc(), 0x4735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00A8
        gbc.setState(0x8a78, 0x2cad, 0x590, 0x9c49, 0xc5e0, 0x143d, 0x0, 0x0);
        gbc.writeMem(0x8a78, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2cad);
        EXPECT(gbc.pc(), 0x8a79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a78), 0xa0);
        // A0 00A9
        gbc.setState(0x494, 0x27e3, 0xda70, 0xf23, 0xe5dc, 0x60a7, 0x1, 0x1);
        gbc.writeMem(0x494, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x27e3);
        EXPECT(gbc.pc(), 0x495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00AA
        gbc.setState(0x92eb, 0xeea, 0x6180, 0x5ac3, 0x36a1, 0x10b6, 0x0, 0x1);
        gbc.writeMem(0x92eb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xeea);
        EXPECT(gbc.pc(), 0x92ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92eb), 0xa0);
        // A0 00AB
        gbc.setState(0x1f2, 0x81a3, 0x4710, 0xa8ad, 0x7f3e, 0xb18b, 0x0, 0x0);
        gbc.writeMem(0x1f2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x81a3);
        EXPECT(gbc.pc(), 0x1f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00AC
        gbc.setState(0x3229, 0x589e, 0xa30, 0xb916, 0x71c9, 0x175b, 0x1, 0x0);
        gbc.writeMem(0x3229, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x589e);
        EXPECT(gbc.pc(), 0x322a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00AD
        gbc.setState(0x7126, 0x5d16, 0xb360, 0xac18, 0x3ec1, 0xaacc, 0x1, 0x0);
        gbc.writeMem(0x7126, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5d16);
        EXPECT(gbc.pc(), 0x7127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00AE
        gbc.setState(0xd246, 0x3c82, 0xc6e0, 0xc740, 0x6504, 0x6a89, 0x1, 0x0);
        gbc.writeMem(0xd246, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3c82);
        EXPECT(gbc.pc(), 0xd247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd246), 0xa0);
        // A0 00AF
        gbc.setState(0x2da0, 0xfee0, 0xe130, 0xb2c9, 0x61f2, 0x826e, 0x0, 0x0);
        gbc.writeMem(0x2da0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfee0);
        EXPECT(gbc.pc(), 0x2da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B0
        gbc.setState(0xe1a5, 0xab51, 0xa9e0, 0xb016, 0xc112, 0x9b82, 0x1, 0x0);
        gbc.writeMem(0xe1a5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xab51);
        EXPECT(gbc.pc(), 0xe1a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1a5), 0xa0);
        // A0 00B1
        gbc.setState(0x24ad, 0x471d, 0xf1d0, 0x13fc, 0xd290, 0x54bf, 0x1, 0x1);
        gbc.writeMem(0x24ad, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x471d);
        EXPECT(gbc.pc(), 0x24ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B2
        gbc.setState(0x2d37, 0x1dae, 0x1020, 0x72cb, 0x1e6a, 0x83a0, 0x0, 0x0);
        gbc.writeMem(0x2d37, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1dae);
        EXPECT(gbc.pc(), 0x2d38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B3
        gbc.setState(0x15, 0x8c8c, 0x2c20, 0x481d, 0x9747, 0xe3c9, 0x1, 0x1);
        gbc.writeMem(0x15, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8c8c);
        EXPECT(gbc.pc(), 0x16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B4
        gbc.setState(0x696a, 0x2823, 0x21e0, 0x5cd7, 0x92ef, 0x394a, 0x1, 0x0);
        gbc.writeMem(0x696a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2823);
        EXPECT(gbc.pc(), 0x696b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B5
        gbc.setState(0x4976, 0x2f81, 0x7da0, 0x6a9a, 0x79f6, 0xbec4, 0x0, 0x0);
        gbc.writeMem(0x4976, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2f81);
        EXPECT(gbc.pc(), 0x4977);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B6
        gbc.setState(0x8cb5, 0x36ed, 0x8060, 0x5940, 0xf34f, 0x8203, 0x1, 0x1);
        gbc.writeMem(0x8cb5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x36ed);
        EXPECT(gbc.pc(), 0x8cb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cb5), 0xa0);
        // A0 00B7
        gbc.setState(0x3e24, 0xb1db, 0xe160, 0xb308, 0x9fcc, 0x10e3, 0x0, 0x0);
        gbc.writeMem(0x3e24, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb1db);
        EXPECT(gbc.pc(), 0x3e25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B8
        gbc.setState(0x2f1b, 0x96d4, 0xf670, 0xbf29, 0xd5bc, 0x8511, 0x0, 0x0);
        gbc.writeMem(0x2f1b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x96d4);
        EXPECT(gbc.pc(), 0x2f1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00B9
        gbc.setState(0x166b, 0x7f7c, 0xf520, 0x9127, 0x2599, 0x3966, 0x0, 0x0);
        gbc.writeMem(0x166b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7f7c);
        EXPECT(gbc.pc(), 0x166c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00BA
        gbc.setState(0xda82, 0xda9b, 0x30f0, 0x86a4, 0x63bc, 0x6ac6, 0x1, 0x0);
        gbc.writeMem(0xda82, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xda9b);
        EXPECT(gbc.pc(), 0xda83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda82), 0xa0);
        // A0 00BB
        gbc.setState(0xec2f, 0xa53d, 0x1920, 0x56bf, 0x5678, 0xc450, 0x1, 0x1);
        gbc.writeMem(0xec2f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa53d);
        EXPECT(gbc.pc(), 0xec30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec2f), 0xa0);
        // A0 00BC
        gbc.setState(0xec0, 0x84ec, 0xc540, 0x5dc4, 0xf766, 0x7ce5, 0x0, 0x1);
        gbc.writeMem(0xec0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x84ec);
        EXPECT(gbc.pc(), 0xec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00BD
        gbc.setState(0xd08a, 0xe525, 0x6920, 0x2da5, 0x2e4f, 0x959a, 0x0, 0x1);
        gbc.writeMem(0xd08a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xe525);
        EXPECT(gbc.pc(), 0xd08b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd08a), 0xa0);
        // A0 00BE
        gbc.setState(0x88a9, 0x9814, 0x2790, 0xa112, 0x7799, 0xadcd, 0x1, 0x0);
        gbc.writeMem(0x88a9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9814);
        EXPECT(gbc.pc(), 0x88aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a9), 0xa0);
        // A0 00BF
        gbc.setState(0x4f1e, 0x90b8, 0xf4c0, 0xd465, 0x216d, 0xdd25, 0x0, 0x0);
        gbc.writeMem(0x4f1e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x90b8);
        EXPECT(gbc.pc(), 0x4f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C0
        gbc.setState(0x5b1a, 0x1459, 0x22f0, 0x5207, 0xc996, 0x5c1c, 0x1, 0x0);
        gbc.writeMem(0x5b1a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1459);
        EXPECT(gbc.pc(), 0x5b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C2
        gbc.setState(0x709f, 0x1431, 0x3610, 0x8e49, 0x282b, 0x1a05, 0x0, 0x0);
        gbc.writeMem(0x709f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x1431);
        EXPECT(gbc.pc(), 0x70a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C3
        gbc.setState(0x3714, 0xb82c, 0x4620, 0xfa5d, 0x996f, 0x4367, 0x1, 0x0);
        gbc.writeMem(0x3714, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb82c);
        EXPECT(gbc.pc(), 0x3715);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C4
        gbc.setState(0x36e2, 0x6665, 0xb1f0, 0x654a, 0xfaf7, 0x76a3, 0x0, 0x0);
        gbc.writeMem(0x36e2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6665);
        EXPECT(gbc.pc(), 0x36e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C5
        gbc.setState(0xc252, 0xa47d, 0x2740, 0x536d, 0xa6d, 0xd326, 0x1, 0x0);
        gbc.writeMem(0xc252, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xa47d);
        EXPECT(gbc.pc(), 0xc253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc252), 0xa0);
        // A0 00C6
        gbc.setState(0x98a9, 0x3ecd, 0x6870, 0xcbe6, 0x88da, 0x3f40, 0x1, 0x1);
        gbc.writeMem(0x98a9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3ecd);
        EXPECT(gbc.pc(), 0x98aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98a9), 0xa0);
        // A0 00C7
        gbc.setState(0x3b8a, 0xdbc, 0x9470, 0x5b52, 0xbd8d, 0x4642, 0x1, 0x0);
        gbc.writeMem(0x3b8a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xdbc);
        EXPECT(gbc.pc(), 0x3b8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C8
        gbc.setState(0x55ff, 0x8f02, 0x6910, 0xd550, 0x6ef, 0xb259, 0x0, 0x1);
        gbc.writeMem(0x55ff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8f02);
        EXPECT(gbc.pc(), 0x5600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00C9
        gbc.setState(0x9b72, 0x3af4, 0x7d00, 0xcfa2, 0xf4ee, 0xeec5, 0x0, 0x0);
        gbc.writeMem(0x9b72, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3af4);
        EXPECT(gbc.pc(), 0x9b73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b72), 0xa0);
        // A0 00CA
        gbc.setState(0x3d2a, 0x6394, 0x2320, 0x4a6b, 0xe03a, 0xc61e, 0x1, 0x0);
        gbc.writeMem(0x3d2a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6394);
        EXPECT(gbc.pc(), 0x3d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00CB
        gbc.setState(0xe40c, 0x95b7, 0x1fb0, 0xf9fd, 0x33dc, 0x308e, 0x1, 0x1);
        gbc.writeMem(0xe40c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x95b7);
        EXPECT(gbc.pc(), 0xe40d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe40c), 0xa0);
        // A0 00CC
        gbc.setState(0x7e54, 0xaa62, 0xfc90, 0xe6c4, 0x83b4, 0x6279, 0x1, 0x0);
        gbc.writeMem(0x7e54, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xaa62);
        EXPECT(gbc.pc(), 0x7e55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00CD
        gbc.setState(0x7ad0, 0x696, 0x5950, 0x56b7, 0x14d3, 0x8df9, 0x0, 0x0);
        gbc.writeMem(0x7ad0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x696);
        EXPECT(gbc.pc(), 0x7ad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00CE
        gbc.setState(0x780f, 0x620f, 0x4dd0, 0xc9de, 0xa3b6, 0x5a86, 0x0, 0x1);
        gbc.writeMem(0x780f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x620f);
        EXPECT(gbc.pc(), 0x7810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00CF
        gbc.setState(0xdcb1, 0x3625, 0xfda0, 0xeb8, 0x24b, 0x233, 0x0, 0x1);
        gbc.writeMem(0xdcb1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3625);
        EXPECT(gbc.pc(), 0xdcb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcb1), 0xa0);
        // A0 00D0
        gbc.setState(0xca68, 0x97bb, 0x5da0, 0xa64d, 0xc934, 0xdb7, 0x0, 0x0);
        gbc.writeMem(0xca68, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x97bb);
        EXPECT(gbc.pc(), 0xca69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca68), 0xa0);
        // A0 00D1
        gbc.setState(0x2554, 0x5afd, 0xccd0, 0xfe9d, 0x87a0, 0xeb53, 0x1, 0x0);
        gbc.writeMem(0x2554, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5afd);
        EXPECT(gbc.pc(), 0x2555);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00D2
        gbc.setState(0x72bc, 0x63ef, 0x5350, 0xae51, 0x159d, 0x19ae, 0x1, 0x0);
        gbc.writeMem(0x72bc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x63ef);
        EXPECT(gbc.pc(), 0x72bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00D3
        gbc.setState(0x933b, 0xe6a7, 0x61c0, 0x2c71, 0x94d, 0x9aa4, 0x0, 0x1);
        gbc.writeMem(0x933b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe6a7);
        EXPECT(gbc.pc(), 0x933c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933b), 0xa0);
        // A0 00D4
        gbc.setState(0x66d5, 0x47fb, 0xc730, 0xf1a, 0x33af, 0xc4ea, 0x0, 0x0);
        gbc.writeMem(0x66d5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x47fb);
        EXPECT(gbc.pc(), 0x66d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00D5
        gbc.setState(0x5633, 0xc5, 0x9930, 0xd4b4, 0xe143, 0x6b89, 0x1, 0x0);
        gbc.writeMem(0x5633, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc5);
        EXPECT(gbc.pc(), 0x5634);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00D6
        gbc.setState(0x412c, 0xfa3b, 0x3cb0, 0x9d87, 0xdb43, 0x9994, 0x0, 0x0);
        gbc.writeMem(0x412c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfa3b);
        EXPECT(gbc.pc(), 0x412d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00D7
        gbc.setState(0xe96e, 0x663b, 0xc5a0, 0xf488, 0x5067, 0xe14c, 0x1, 0x1);
        gbc.writeMem(0xe96e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x663b);
        EXPECT(gbc.pc(), 0xe96f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe96e), 0xa0);
        // A0 00D8
        gbc.setState(0x537a, 0x242c, 0x1580, 0x9c80, 0xd66f, 0xc050, 0x1, 0x1);
        gbc.writeMem(0x537a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x242c);
        EXPECT(gbc.pc(), 0x537b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00D9
        gbc.setState(0xd38b, 0xf9bd, 0x7c70, 0x488d, 0x4113, 0xe8f9, 0x0, 0x1);
        gbc.writeMem(0xd38b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf9bd);
        EXPECT(gbc.pc(), 0xd38c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd38b), 0xa0);
        // A0 00DA
        gbc.setState(0x79af, 0x3231, 0x93a0, 0x21cb, 0x5844, 0x93f3, 0x0, 0x0);
        gbc.writeMem(0x79af, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x3231);
        EXPECT(gbc.pc(), 0x79b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00DB
        gbc.setState(0x5ec8, 0xe95f, 0x7910, 0x4d7c, 0x72a0, 0x9718, 0x0, 0x0);
        gbc.writeMem(0x5ec8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xe95f);
        EXPECT(gbc.pc(), 0x5ec9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00DC
        gbc.setState(0x1529, 0x48f, 0x4580, 0x907e, 0x83e2, 0xe295, 0x0, 0x0);
        gbc.writeMem(0x1529, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x48f);
        EXPECT(gbc.pc(), 0x152a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00DD
        gbc.setState(0xeecb, 0x811d, 0x7f20, 0x8b6, 0xb40d, 0xcc46, 0x0, 0x0);
        gbc.writeMem(0xeecb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x811d);
        EXPECT(gbc.pc(), 0xeecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeecb), 0xa0);
        // A0 00DE
        gbc.setState(0x2cdb, 0x7689, 0x57a0, 0xaabe, 0x9a6b, 0x4bdf, 0x1, 0x1);
        gbc.writeMem(0x2cdb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7689);
        EXPECT(gbc.pc(), 0x2cdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00DF
        gbc.setState(0x52a8, 0xa71a, 0xcf20, 0xb3ff, 0xca37, 0x71d4, 0x0, 0x1);
        gbc.writeMem(0x52a8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa71a);
        EXPECT(gbc.pc(), 0x52a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E0
        gbc.setState(0x72b4, 0x67c7, 0x9480, 0xc6af, 0x20a, 0x754c, 0x0, 0x0);
        gbc.writeMem(0x72b4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x67c7);
        EXPECT(gbc.pc(), 0x72b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E1
        gbc.setState(0x5c81, 0x6fa7, 0xbf40, 0xd984, 0x4988, 0x37ed, 0x0, 0x0);
        gbc.writeMem(0x5c81, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x6fa7);
        EXPECT(gbc.pc(), 0x5c82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E2
        gbc.setState(0xc124, 0x72a9, 0xafa0, 0xfb8, 0xf5cd, 0xe10c, 0x0, 0x1);
        gbc.writeMem(0xc124, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x72a9);
        EXPECT(gbc.pc(), 0xc125);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc124), 0xa0);
        // A0 00E3
        gbc.setState(0x2bf, 0xe7af, 0xd6c0, 0x78cb, 0xf2bb, 0xcd68, 0x0, 0x0);
        gbc.writeMem(0x2bf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe7af);
        EXPECT(gbc.pc(), 0x2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E4
        gbc.setState(0xd877, 0xf711, 0xd610, 0xe88f, 0x75a, 0x89bc, 0x1, 0x0);
        gbc.writeMem(0xd877, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf711);
        EXPECT(gbc.pc(), 0xd878);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd877), 0xa0);
        // A0 00E5
        gbc.setState(0x3927, 0x55b2, 0xb20, 0x628e, 0xc401, 0x9f8, 0x0, 0x1);
        gbc.writeMem(0x3927, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x55b2);
        EXPECT(gbc.pc(), 0x3928);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E6
        gbc.setState(0x4b9b, 0xbfa4, 0xdea0, 0x444b, 0xa485, 0x663, 0x1, 0x0);
        gbc.writeMem(0x4b9b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xbfa4);
        EXPECT(gbc.pc(), 0x4b9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E7
        gbc.setState(0x3ea2, 0x7c6c, 0xfad0, 0x41c7, 0x658, 0x54eb, 0x1, 0x1);
        gbc.writeMem(0x3ea2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7c6c);
        EXPECT(gbc.pc(), 0x3ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E8
        gbc.setState(0x2891, 0x613a, 0x8cf0, 0x46ce, 0x2be4, 0x7f5c, 0x1, 0x1);
        gbc.writeMem(0x2891, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x613a);
        EXPECT(gbc.pc(), 0x2892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00E9
        gbc.setState(0x806b, 0x4b0e, 0x89b0, 0x3229, 0xf8a5, 0xa133, 0x1, 0x1);
        gbc.writeMem(0x806b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4b0e);
        EXPECT(gbc.pc(), 0x806c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x806b), 0xa0);
        // A0 00EA
        gbc.setState(0x2bb0, 0xa7fc, 0xe040, 0x291f, 0x9ce0, 0xb4ce, 0x1, 0x1);
        gbc.writeMem(0x2bb0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xa7fc);
        EXPECT(gbc.pc(), 0x2bb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00EB
        gbc.setState(0xae81, 0x53f3, 0xd8f0, 0xbdaa, 0xd574, 0xddb7, 0x1, 0x1);
        gbc.writeMem(0xae81, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x53f3);
        EXPECT(gbc.pc(), 0xae82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae81), 0xa0);
        // A0 00EC
        gbc.setState(0x101c, 0x3bf7, 0x8fb0, 0x9b7, 0x9268, 0xdcd5, 0x0, 0x1);
        gbc.writeMem(0x101c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3bf7);
        EXPECT(gbc.pc(), 0x101d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00ED
        gbc.setState(0x2b6d, 0x14be, 0x6770, 0x37aa, 0xf273, 0x8b3, 0x0, 0x0);
        gbc.writeMem(0x2b6d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x14be);
        EXPECT(gbc.pc(), 0x2b6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00EE
        gbc.setState(0xdc51, 0xf6bd, 0x9a50, 0x9586, 0xd27, 0xe96c, 0x1, 0x1);
        gbc.writeMem(0xdc51, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf6bd);
        EXPECT(gbc.pc(), 0xdc52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc51), 0xa0);
        // A0 00EF
        gbc.setState(0xae04, 0x6c1e, 0xe50, 0xaf91, 0x8d61, 0xa298, 0x1, 0x1);
        gbc.writeMem(0xae04, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6c1e);
        EXPECT(gbc.pc(), 0xae05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae04), 0xa0);
        // A0 00F0
        gbc.setState(0x1025, 0x5766, 0x2f10, 0xdb7b, 0x69e2, 0x8c38, 0x1, 0x0);
        gbc.writeMem(0x1025, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5766);
        EXPECT(gbc.pc(), 0x1026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00F1
        gbc.setState(0x8e45, 0xe500, 0xa80, 0xc151, 0x919b, 0xda09, 0x1, 0x1);
        gbc.writeMem(0x8e45, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe500);
        EXPECT(gbc.pc(), 0x8e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e45), 0xa0);
        // A0 00F2
        gbc.setState(0xea6d, 0x9a3c, 0xc140, 0xf8e7, 0xc19c, 0x4c97, 0x0, 0x1);
        gbc.writeMem(0xea6d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x9a3c);
        EXPECT(gbc.pc(), 0xea6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea6d), 0xa0);
        // A0 00F3
        gbc.setState(0x58f6, 0xf932, 0xddd0, 0x837e, 0xd6f9, 0x69d7, 0x1, 0x0);
        gbc.writeMem(0x58f6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf932);
        EXPECT(gbc.pc(), 0x58f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00F5
        gbc.setState(0x55fe, 0x448b, 0x48f0, 0x5f26, 0xaabe, 0x4cd9, 0x1, 0x0);
        gbc.writeMem(0x55fe, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x448b);
        EXPECT(gbc.pc(), 0x55ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00F6
        gbc.setState(0x5fff, 0x3f9c, 0x8f20, 0xcb15, 0x9fd6, 0xab9c, 0x1, 0x0);
        gbc.writeMem(0x5fff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3f9c);
        EXPECT(gbc.pc(), 0x6000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00F7
        gbc.setState(0xaa7a, 0x79b3, 0x55f0, 0xfcff, 0x8f93, 0xc073, 0x0, 0x0);
        gbc.writeMem(0xaa7a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x79b3);
        EXPECT(gbc.pc(), 0xaa7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa7a), 0xa0);
        // A0 00F8
        gbc.setState(0x2ef7, 0xf87b, 0x71a0, 0x2b44, 0xa2cd, 0xb589, 0x1, 0x1);
        gbc.writeMem(0x2ef7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf87b);
        EXPECT(gbc.pc(), 0x2ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00F9
        gbc.setState(0x88c1, 0x15df, 0x82a0, 0x6e38, 0xfd4c, 0x2d8c, 0x1, 0x1);
        gbc.writeMem(0x88c1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x15df);
        EXPECT(gbc.pc(), 0x88c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88c1), 0xa0);
        // A0 00FC
        gbc.setState(0xd5ac, 0x2aa0, 0x6bf0, 0x704, 0xca0a, 0x64a5, 0x1, 0x1);
        gbc.writeMem(0xd5ac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2aa0);
        EXPECT(gbc.pc(), 0xd5ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5ac), 0xa0);
        // A0 00FD
        gbc.setState(0x69ab, 0xf40, 0x97e0, 0x17c1, 0x35c7, 0x2f6b, 0x1, 0x1);
        gbc.writeMem(0x69ab, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf40);
        EXPECT(gbc.pc(), 0x69ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 00FE
        gbc.setState(0x9a04, 0xc471, 0x29b0, 0x8bf2, 0x28ab, 0x7d84, 0x1, 0x1);
        gbc.writeMem(0x9a04, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc471);
        EXPECT(gbc.pc(), 0x9a05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a04), 0xa0);
        // A0 00FF
        gbc.setState(0x57d7, 0x4b4d, 0xdb70, 0xbc38, 0xbcaa, 0x2595, 0x1, 0x1);
        gbc.writeMem(0x57d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4b4d);
        EXPECT(gbc.pc(), 0x57d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0101
        gbc.setState(0x5fff, 0x824b, 0x9150, 0x2def, 0x4e53, 0xbab7, 0x0, 0x0);
        gbc.writeMem(0x5fff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x824b);
        EXPECT(gbc.pc(), 0x6000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0102
        gbc.setState(0x429c, 0x2ca7, 0xab20, 0x3eb, 0x7cb6, 0x9ce7, 0x1, 0x1);
        gbc.writeMem(0x429c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2ca7);
        EXPECT(gbc.pc(), 0x429d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0103
        gbc.setState(0x6fb, 0x21f1, 0xafb0, 0xca3f, 0x4a0a, 0xae73, 0x0, 0x0);
        gbc.writeMem(0x6fb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x21f1);
        EXPECT(gbc.pc(), 0x6fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0104
        gbc.setState(0xa883, 0x5952, 0x3730, 0x6acd, 0x3747, 0xfce4, 0x1, 0x1);
        gbc.writeMem(0xa883, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x5952);
        EXPECT(gbc.pc(), 0xa884);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa883), 0xa0);
        // A0 0105
        gbc.setState(0x4a40, 0x7a55, 0xa290, 0xec2b, 0x90af, 0xc4cd, 0x0, 0x0);
        gbc.writeMem(0x4a40, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7a55);
        EXPECT(gbc.pc(), 0x4a41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0106
        gbc.setState(0xb2d2, 0x2593, 0x8560, 0x6ca2, 0xdbd8, 0xb063, 0x0, 0x0);
        gbc.writeMem(0xb2d2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2593);
        EXPECT(gbc.pc(), 0xb2d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2d2), 0xa0);
        // A0 0107
        gbc.setState(0xa460, 0xf0b, 0x5540, 0xad63, 0x3e62, 0x3445, 0x1, 0x1);
        gbc.writeMem(0xa460, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xf0b);
        EXPECT(gbc.pc(), 0xa461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa460), 0xa0);
        // A0 0108
        gbc.setState(0x4c52, 0xc6c1, 0x6e10, 0xebd3, 0x1fbd, 0xa5e2, 0x1, 0x0);
        gbc.writeMem(0x4c52, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc6c1);
        EXPECT(gbc.pc(), 0x4c53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0109
        gbc.setState(0xe121, 0x7b4f, 0x6630, 0xf15d, 0xd2b5, 0x88f4, 0x0, 0x0);
        gbc.writeMem(0xe121, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x7b4f);
        EXPECT(gbc.pc(), 0xe122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe121), 0xa0);
        // A0 010A
        gbc.setState(0xb7d9, 0xfa9d, 0xd720, 0xb540, 0x5969, 0xfc2d, 0x0, 0x0);
        gbc.writeMem(0xb7d9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xfa9d);
        EXPECT(gbc.pc(), 0xb7da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d9), 0xa0);
        // A0 010B
        gbc.setState(0x2ffa, 0x50f9, 0xd680, 0x5374, 0x1a7a, 0x5b89, 0x0, 0x1);
        gbc.writeMem(0x2ffa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x50f9);
        EXPECT(gbc.pc(), 0x2ffb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 010C
        gbc.setState(0x1088, 0x243b, 0x8b0, 0xa95d, 0xc146, 0xad9f, 0x1, 0x1);
        gbc.writeMem(0x1088, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x243b);
        EXPECT(gbc.pc(), 0x1089);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 010D
        gbc.setState(0x84e7, 0x9177, 0xce70, 0x9215, 0xdf69, 0xc357, 0x0, 0x0);
        gbc.writeMem(0x84e7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9177);
        EXPECT(gbc.pc(), 0x84e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84e7), 0xa0);
        // A0 010E
        gbc.setState(0x520f, 0xcdcc, 0x7d50, 0xe6bb, 0xfdf7, 0xe558, 0x0, 0x0);
        gbc.writeMem(0x520f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xcdcc);
        EXPECT(gbc.pc(), 0x5210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 010F
        gbc.setState(0x1c6b, 0x43a3, 0xe4e0, 0xb8f5, 0xf099, 0xba8b, 0x0, 0x1);
        gbc.writeMem(0x1c6b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x43a3);
        EXPECT(gbc.pc(), 0x1c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0110
        gbc.setState(0x502, 0xba7a, 0x2c0, 0x2e4e, 0xf6e1, 0x4ada, 0x0, 0x1);
        gbc.writeMem(0x502, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xba7a);
        EXPECT(gbc.pc(), 0x503);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0111
        gbc.setState(0xb40d, 0xc7ef, 0x7100, 0x218e, 0x64db, 0x458f, 0x0, 0x1);
        gbc.writeMem(0xb40d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xc7ef);
        EXPECT(gbc.pc(), 0xb40e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb40d), 0xa0);
        // A0 0112
        gbc.setState(0xc9a1, 0x78a8, 0x2fc0, 0x1f2, 0x5624, 0xe076, 0x1, 0x1);
        gbc.writeMem(0xc9a1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x78a8);
        EXPECT(gbc.pc(), 0xc9a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a1), 0xa0);
        // A0 0113
        gbc.setState(0x2257, 0x1a23, 0xb110, 0x9b72, 0x70db, 0xec0b, 0x1, 0x1);
        gbc.writeMem(0x2257, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1a23);
        EXPECT(gbc.pc(), 0x2258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0114
        gbc.setState(0x4842, 0x5ded, 0xa620, 0x46c5, 0x200a, 0x6806, 0x0, 0x1);
        gbc.writeMem(0x4842, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5ded);
        EXPECT(gbc.pc(), 0x4843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0115
        gbc.setState(0x6420, 0xd62f, 0xb020, 0xf707, 0x1380, 0xd21b, 0x0, 0x0);
        gbc.writeMem(0x6420, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd62f);
        EXPECT(gbc.pc(), 0x6421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0116
        gbc.setState(0xb031, 0xa5d3, 0x2b0, 0x3bb7, 0x9f2f, 0xc210, 0x1, 0x0);
        gbc.writeMem(0xb031, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa5d3);
        EXPECT(gbc.pc(), 0xb032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb031), 0xa0);
        // A0 0117
        gbc.setState(0x8099, 0x5c66, 0x77c0, 0x9b8, 0x7fd7, 0x786, 0x0, 0x1);
        gbc.writeMem(0x8099, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x5c66);
        EXPECT(gbc.pc(), 0x809a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8099), 0xa0);
        // A0 0118
        gbc.setState(0x7cb5, 0xfbaa, 0xb270, 0x5a3e, 0x703f, 0x5d49, 0x0, 0x1);
        gbc.writeMem(0x7cb5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xfbaa);
        EXPECT(gbc.pc(), 0x7cb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0119
        gbc.setState(0x21b7, 0xab4e, 0x5660, 0x790d, 0x3732, 0xeafb, 0x1, 0x0);
        gbc.writeMem(0x21b7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xab4e);
        EXPECT(gbc.pc(), 0x21b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 011A
        gbc.setState(0xa4e1, 0xf869, 0x1930, 0xa8b8, 0x9444, 0x23aa, 0x0, 0x0);
        gbc.writeMem(0xa4e1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf869);
        EXPECT(gbc.pc(), 0xa4e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e1), 0xa0);
        // A0 011B
        gbc.setState(0x863c, 0x2624, 0xdb90, 0x924c, 0xacb2, 0x667a, 0x1, 0x0);
        gbc.writeMem(0x863c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x2624);
        EXPECT(gbc.pc(), 0x863d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x863c), 0xa0);
        // A0 011C
        gbc.setState(0x997, 0xf73a, 0xe260, 0x1fde, 0xc3c0, 0xb974, 0x0, 0x0);
        gbc.writeMem(0x997, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf73a);
        EXPECT(gbc.pc(), 0x998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 011D
        gbc.setState(0x83e4, 0x7110, 0x5d00, 0x2911, 0x9b5f, 0xc225, 0x1, 0x0);
        gbc.writeMem(0x83e4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7110);
        EXPECT(gbc.pc(), 0x83e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e4), 0xa0);
        // A0 011E
        gbc.setState(0x38ca, 0xcc69, 0x3810, 0xaee1, 0xb948, 0x8d9, 0x0, 0x1);
        gbc.writeMem(0x38ca, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xcc69);
        EXPECT(gbc.pc(), 0x38cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 011F
        gbc.setState(0xc24, 0xf741, 0x8f80, 0x2fe2, 0xf9ec, 0x7d5d, 0x0, 0x0);
        gbc.writeMem(0xc24, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf741);
        EXPECT(gbc.pc(), 0xc25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0120
        gbc.setState(0x4f9b, 0x179f, 0xcae0, 0xb713, 0x945, 0x341c, 0x0, 0x1);
        gbc.writeMem(0x4f9b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x179f);
        EXPECT(gbc.pc(), 0x4f9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0121
        gbc.setState(0xba20, 0x6050, 0x7250, 0xd087, 0x54fc, 0xbadd, 0x0, 0x1);
        gbc.writeMem(0xba20, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6050);
        EXPECT(gbc.pc(), 0xba21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba20), 0xa0);
        // A0 0122
        gbc.setState(0x7725, 0x3b11, 0xad60, 0x7e4, 0xe09c, 0xe4a6, 0x0, 0x0);
        gbc.writeMem(0x7725, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3b11);
        EXPECT(gbc.pc(), 0x7726);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0123
        gbc.setState(0x3a91, 0xaa65, 0x28a0, 0xa27f, 0x924f, 0xed38, 0x0, 0x0);
        gbc.writeMem(0x3a91, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xaa65);
        EXPECT(gbc.pc(), 0x3a92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0124
        gbc.setState(0xcbc9, 0x63d2, 0xe680, 0xb1f5, 0xccc3, 0xff7d, 0x1, 0x0);
        gbc.writeMem(0xcbc9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x63d2);
        EXPECT(gbc.pc(), 0xcbca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc9), 0xa0);
        // A0 0125
        gbc.setState(0xc9bf, 0x38fd, 0x11a0, 0x8474, 0x990a, 0x40ef, 0x0, 0x0);
        gbc.writeMem(0xc9bf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x38fd);
        EXPECT(gbc.pc(), 0xc9c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9bf), 0xa0);
        // A0 0126
        gbc.setState(0xa547, 0x33dc, 0xeb40, 0xf514, 0xf943, 0x29ce, 0x0, 0x0);
        gbc.writeMem(0xa547, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x33dc);
        EXPECT(gbc.pc(), 0xa548);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa547), 0xa0);
        // A0 0127
        gbc.setState(0x874a, 0xee20, 0xcc0, 0x3f7d, 0x363, 0xb54c, 0x0, 0x0);
        gbc.writeMem(0x874a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xee20);
        EXPECT(gbc.pc(), 0x874b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x874a), 0xa0);
        // A0 0128
        gbc.setState(0xc76c, 0x7581, 0xcfc0, 0x3b66, 0x2be, 0x2e23, 0x0, 0x0);
        gbc.writeMem(0xc76c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7581);
        EXPECT(gbc.pc(), 0xc76d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc76c), 0xa0);
        // A0 0129
        gbc.setState(0x1abb, 0xd47c, 0x1060, 0xcb6b, 0xf66, 0x2278, 0x1, 0x1);
        gbc.writeMem(0x1abb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd47c);
        EXPECT(gbc.pc(), 0x1abc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 012A
        gbc.setState(0x16bd, 0x988e, 0x8770, 0x86a, 0x12d9, 0x616b, 0x1, 0x0);
        gbc.writeMem(0x16bd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x988e);
        EXPECT(gbc.pc(), 0x16be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 012B
        gbc.setState(0xa87c, 0x2a3f, 0x440, 0x1e7, 0x41c, 0x7e72, 0x1, 0x1);
        gbc.writeMem(0xa87c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2a3f);
        EXPECT(gbc.pc(), 0xa87d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa87c), 0xa0);
        // A0 012C
        gbc.setState(0xc0f, 0x646a, 0x6af0, 0x1679, 0x2ad7, 0xc14d, 0x0, 0x1);
        gbc.writeMem(0xc0f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x646a);
        EXPECT(gbc.pc(), 0xc10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 012D
        gbc.setState(0x2209, 0x9791, 0x4f80, 0x751a, 0x6037, 0x19eb, 0x0, 0x1);
        gbc.writeMem(0x2209, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9791);
        EXPECT(gbc.pc(), 0x220a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 012E
        gbc.setState(0x5e13, 0xbfbb, 0xab00, 0xf639, 0xa96a, 0x481f, 0x1, 0x1);
        gbc.writeMem(0x5e13, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xbfbb);
        EXPECT(gbc.pc(), 0x5e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 012F
        gbc.setState(0xa454, 0xa9c1, 0x3d90, 0x97ae, 0x5b74, 0xb213, 0x1, 0x1);
        gbc.writeMem(0xa454, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa9c1);
        EXPECT(gbc.pc(), 0xa455);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa454), 0xa0);
        // A0 0130
        gbc.setState(0x5cf3, 0xd35e, 0x9660, 0x9921, 0xeeb2, 0x48fa, 0x0, 0x0);
        gbc.writeMem(0x5cf3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd35e);
        EXPECT(gbc.pc(), 0x5cf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0131
        gbc.setState(0xd06a, 0x7b5, 0xc680, 0xf393, 0xc73f, 0x433c, 0x1, 0x1);
        gbc.writeMem(0xd06a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7b5);
        EXPECT(gbc.pc(), 0xd06b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd06a), 0xa0);
        // A0 0132
        gbc.setState(0x2312, 0xe276, 0xcf60, 0xd034, 0x4967, 0xea48, 0x1, 0x0);
        gbc.writeMem(0x2312, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe276);
        EXPECT(gbc.pc(), 0x2313);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0133
        gbc.setState(0x5d5e, 0xc460, 0x4710, 0x1c0d, 0x7131, 0x851f, 0x0, 0x1);
        gbc.writeMem(0x5d5e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc460);
        EXPECT(gbc.pc(), 0x5d5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0134
        gbc.setState(0x331a, 0xe040, 0x4210, 0xbd2c, 0x22e8, 0x73eb, 0x1, 0x0);
        gbc.writeMem(0x331a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe040);
        EXPECT(gbc.pc(), 0x331b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0135
        gbc.setState(0x71c2, 0xe1ee, 0xaaf0, 0xd751, 0xd472, 0x1a5d, 0x1, 0x1);
        gbc.writeMem(0x71c2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xe1ee);
        EXPECT(gbc.pc(), 0x71c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0136
        gbc.setState(0x6e82, 0x1e71, 0xb630, 0xe4d7, 0xfb27, 0x7d81, 0x1, 0x0);
        gbc.writeMem(0x6e82, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1e71);
        EXPECT(gbc.pc(), 0x6e83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0137
        gbc.setState(0x8d88, 0x9276, 0x42e0, 0xbdbf, 0xa933, 0xe4fe, 0x0, 0x0);
        gbc.writeMem(0x8d88, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9276);
        EXPECT(gbc.pc(), 0x8d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d88), 0xa0);
        // A0 0138
        gbc.setState(0x2152, 0xd07c, 0x200, 0xa53d, 0xeec, 0x1cee, 0x1, 0x1);
        gbc.writeMem(0x2152, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd07c);
        EXPECT(gbc.pc(), 0x2153);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0139
        gbc.setState(0xd74e, 0xc589, 0x9510, 0x7b9, 0x1dcd, 0x116d, 0x1, 0x1);
        gbc.writeMem(0xd74e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc589);
        EXPECT(gbc.pc(), 0xd74f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd74e), 0xa0);
        // A0 013A
        gbc.setState(0x2ad, 0xb036, 0x8510, 0xe250, 0xfab4, 0x1dcf, 0x1, 0x1);
        gbc.writeMem(0x2ad, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb036);
        EXPECT(gbc.pc(), 0x2ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 013B
        gbc.setState(0xe1cd, 0x2dd0, 0xdbf0, 0x1183, 0x2ae6, 0x9aaf, 0x0, 0x1);
        gbc.writeMem(0xe1cd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2dd0);
        EXPECT(gbc.pc(), 0xe1ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cd), 0xa0);
        // A0 013C
        gbc.setState(0x1226, 0x7818, 0xe000, 0x616, 0x545d, 0x93a1, 0x0, 0x1);
        gbc.writeMem(0x1226, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7818);
        EXPECT(gbc.pc(), 0x1227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 013D
        gbc.setState(0xe0ec, 0xd2cf, 0x85c0, 0x2e61, 0x807a, 0x9945, 0x1, 0x0);
        gbc.writeMem(0xe0ec, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xd2cf);
        EXPECT(gbc.pc(), 0xe0ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0ec), 0xa0);
        // A0 013E
        gbc.setState(0xa069, 0x2947, 0xf940, 0x5453, 0xb59f, 0xb408, 0x1, 0x1);
        gbc.writeMem(0xa069, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2947);
        EXPECT(gbc.pc(), 0xa06a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa069), 0xa0);
        // A0 013F
        gbc.setState(0xb9d7, 0xb37e, 0x7060, 0xea2c, 0x430f, 0x676e, 0x1, 0x0);
        gbc.writeMem(0xb9d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xb37e);
        EXPECT(gbc.pc(), 0xb9d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d7), 0xa0);
        // A0 0140
        gbc.setState(0xb401, 0x1502, 0xfce0, 0x6074, 0xc88b, 0x7c4a, 0x0, 0x1);
        gbc.writeMem(0xb401, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1502);
        EXPECT(gbc.pc(), 0xb402);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb401), 0xa0);
        // A0 0141
        gbc.setState(0x2a8b, 0x42e, 0x7240, 0x5062, 0xc150, 0xe86f, 0x0, 0x1);
        gbc.writeMem(0x2a8b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x42e);
        EXPECT(gbc.pc(), 0x2a8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0142
        gbc.setState(0xab00, 0x2d4f, 0x2e30, 0x3240, 0x21b, 0x7857, 0x0, 0x1);
        gbc.writeMem(0xab00, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2d4f);
        EXPECT(gbc.pc(), 0xab01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab00), 0xa0);
        // A0 0144
        gbc.setState(0xdf70, 0xcf70, 0x87b0, 0x52a5, 0xfacc, 0x5bbc, 0x1, 0x1);
        gbc.writeMem(0xdf70, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xcf70);
        EXPECT(gbc.pc(), 0xdf71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf70), 0xa0);
        // A0 0145
        gbc.setState(0x901c, 0xbd89, 0xf700, 0x1223, 0x3bf1, 0x6ba6, 0x1, 0x1);
        gbc.writeMem(0x901c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbd89);
        EXPECT(gbc.pc(), 0x901d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x901c), 0xa0);
        // A0 0146
        gbc.setState(0xca33, 0x7d38, 0xe950, 0xf263, 0x1753, 0xc8a2, 0x1, 0x1);
        gbc.writeMem(0xca33, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7d38);
        EXPECT(gbc.pc(), 0xca34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca33), 0xa0);
        // A0 0147
        gbc.setState(0xab30, 0x469, 0x8810, 0x3c7f, 0x776f, 0xabea, 0x0, 0x1);
        gbc.writeMem(0xab30, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x469);
        EXPECT(gbc.pc(), 0xab31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab30), 0xa0);
        // A0 0149
        gbc.setState(0xce25, 0xae77, 0x50f0, 0xda23, 0xfba5, 0x9e76, 0x1, 0x0);
        gbc.writeMem(0xce25, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xae77);
        EXPECT(gbc.pc(), 0xce26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce25), 0xa0);
        // A0 014A
        gbc.setState(0xd3f0, 0x240, 0x4010, 0xb65a, 0x9805, 0x91dc, 0x1, 0x1);
        gbc.writeMem(0xd3f0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x240);
        EXPECT(gbc.pc(), 0xd3f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3f0), 0xa0);
        // A0 014B
        gbc.setState(0x5dcb, 0x6ead, 0xc4d0, 0x8abc, 0xf8db, 0x323b, 0x1, 0x1);
        gbc.writeMem(0x5dcb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6ead);
        EXPECT(gbc.pc(), 0x5dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 014C
        gbc.setState(0xc8bf, 0xcf7e, 0xf880, 0xc5c1, 0xbab5, 0x2a73, 0x1, 0x0);
        gbc.writeMem(0xc8bf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xcf7e);
        EXPECT(gbc.pc(), 0xc8c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8bf), 0xa0);
        // A0 014E
        gbc.setState(0x1ed, 0x6ac4, 0x2270, 0xd2f9, 0xdbca, 0xfea5, 0x1, 0x1);
        gbc.writeMem(0x1ed, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x6ac4);
        EXPECT(gbc.pc(), 0x1ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 014F
        gbc.setState(0x9ba5, 0xb01b, 0x5200, 0x7c15, 0xea3e, 0x1d60, 0x1, 0x0);
        gbc.writeMem(0x9ba5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb01b);
        EXPECT(gbc.pc(), 0x9ba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ba5), 0xa0);
        // A0 0150
        gbc.setState(0xaa8b, 0xcac4, 0xa850, 0x46d7, 0x9971, 0xc700, 0x0, 0x1);
        gbc.writeMem(0xaa8b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xcac4);
        EXPECT(gbc.pc(), 0xaa8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa8b), 0xa0);
        // A0 0152
        gbc.setState(0xe46b, 0x4d00, 0xa750, 0xb042, 0xfb34, 0xc71f, 0x0, 0x0);
        gbc.writeMem(0xe46b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4d00);
        EXPECT(gbc.pc(), 0xe46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe46b), 0xa0);
        // A0 0153
        gbc.setState(0xd254, 0x73c, 0xd620, 0x1e7f, 0xa72d, 0x1aad, 0x1, 0x1);
        gbc.writeMem(0xd254, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x73c);
        EXPECT(gbc.pc(), 0xd255);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd254), 0xa0);
        // A0 0154
        gbc.setState(0x5091, 0x2596, 0x1e60, 0xd885, 0x25b5, 0xf1a0, 0x1, 0x1);
        gbc.writeMem(0x5091, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x2596);
        EXPECT(gbc.pc(), 0x5092);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0155
        gbc.setState(0x48a3, 0x4654, 0x9430, 0x1f54, 0x634a, 0x4c4f, 0x1, 0x1);
        gbc.writeMem(0x48a3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x4654);
        EXPECT(gbc.pc(), 0x48a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0156
        gbc.setState(0x7142, 0xd264, 0x2320, 0x60e1, 0x904b, 0x4cd7, 0x0, 0x0);
        gbc.writeMem(0x7142, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd264);
        EXPECT(gbc.pc(), 0x7143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0157
        gbc.setState(0x7258, 0x95f7, 0xe860, 0x53c4, 0xf134, 0xc045, 0x0, 0x1);
        gbc.writeMem(0x7258, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x95f7);
        EXPECT(gbc.pc(), 0x7259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0158
        gbc.setState(0xb8f2, 0xa149, 0xdcc0, 0x1a53, 0x2d8f, 0xb6da, 0x0, 0x1);
        gbc.writeMem(0xb8f2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa149);
        EXPECT(gbc.pc(), 0xb8f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8f2), 0xa0);
        // A0 0159
        gbc.setState(0xbe7b, 0x2bab, 0x23b0, 0x346c, 0x9934, 0x7d74, 0x1, 0x1);
        gbc.writeMem(0xbe7b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x2bab);
        EXPECT(gbc.pc(), 0xbe7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe7b), 0xa0);
        // A0 015A
        gbc.setState(0x81db, 0xb25a, 0x3460, 0x140a, 0xe003, 0xaaa5, 0x0, 0x1);
        gbc.writeMem(0x81db, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb25a);
        EXPECT(gbc.pc(), 0x81dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81db), 0xa0);
        // A0 015B
        gbc.setState(0x41b1, 0xbe22, 0x6d30, 0x2a21, 0x9ad7, 0xd939, 0x0, 0x0);
        gbc.writeMem(0x41b1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xbe22);
        EXPECT(gbc.pc(), 0x41b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 015C
        gbc.setState(0x598c, 0x908f, 0xf770, 0x1f5, 0x2940, 0x292a, 0x1, 0x1);
        gbc.writeMem(0x598c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x908f);
        EXPECT(gbc.pc(), 0x598d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 015D
        gbc.setState(0x1c3, 0x26c5, 0xeda0, 0x4c73, 0xa84e, 0x417b, 0x0, 0x1);
        gbc.writeMem(0x1c3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x26c5);
        EXPECT(gbc.pc(), 0x1c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 015E
        gbc.setState(0xc31e, 0x9d4, 0x2fd0, 0x9e5b, 0xab9b, 0xf34e, 0x0, 0x0);
        gbc.writeMem(0xc31e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9d4);
        EXPECT(gbc.pc(), 0xc31f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc31e), 0xa0);
        // A0 015F
        gbc.setState(0xac74, 0xe19c, 0x3830, 0x98d1, 0xb611, 0xbaab, 0x0, 0x1);
        gbc.writeMem(0xac74, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe19c);
        EXPECT(gbc.pc(), 0xac75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac74), 0xa0);
        // A0 0160
        gbc.setState(0xea61, 0x8898, 0x7790, 0x61db, 0xdbe6, 0xd947, 0x1, 0x1);
        gbc.writeMem(0xea61, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8898);
        EXPECT(gbc.pc(), 0xea62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea61), 0xa0);
        // A0 0161
        gbc.setState(0xbe58, 0x9c24, 0xf380, 0x3bca, 0x2a43, 0x90d8, 0x0, 0x0);
        gbc.writeMem(0xbe58, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9c24);
        EXPECT(gbc.pc(), 0xbe59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe58), 0xa0);
        // A0 0162
        gbc.setState(0x5b50, 0x67c, 0xc490, 0xb202, 0x58de, 0x635a, 0x1, 0x0);
        gbc.writeMem(0x5b50, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x67c);
        EXPECT(gbc.pc(), 0x5b51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0163
        gbc.setState(0x2084, 0x819b, 0x9bb0, 0x13f2, 0xa25d, 0xcd4c, 0x1, 0x0);
        gbc.writeMem(0x2084, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x819b);
        EXPECT(gbc.pc(), 0x2085);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0164
        gbc.setState(0x12d1, 0x9b3f, 0xeee0, 0x782, 0xb0de, 0x646f, 0x0, 0x1);
        gbc.writeMem(0x12d1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9b3f);
        EXPECT(gbc.pc(), 0x12d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0165
        gbc.setState(0x7bbb, 0xb310, 0x2530, 0x56e, 0xd526, 0x9d9a, 0x1, 0x0);
        gbc.writeMem(0x7bbb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb310);
        EXPECT(gbc.pc(), 0x7bbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0166
        gbc.setState(0x5536, 0x1a14, 0x11f0, 0xd361, 0x7d67, 0x1e11, 0x1, 0x1);
        gbc.writeMem(0x5536, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1a14);
        EXPECT(gbc.pc(), 0x5537);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0167
        gbc.setState(0x618, 0xc7ed, 0xe990, 0x8cd0, 0x854f, 0x8b4b, 0x1, 0x0);
        gbc.writeMem(0x618, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc7ed);
        EXPECT(gbc.pc(), 0x619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0168
        gbc.setState(0xad89, 0x347f, 0xf8a0, 0x838b, 0x9c8e, 0xc89a, 0x1, 0x1);
        gbc.writeMem(0xad89, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x347f);
        EXPECT(gbc.pc(), 0xad8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad89), 0xa0);
        // A0 0169
        gbc.setState(0x8a57, 0xdf57, 0xccb0, 0x3bb1, 0xc906, 0x4f98, 0x0, 0x0);
        gbc.writeMem(0x8a57, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xdf57);
        EXPECT(gbc.pc(), 0x8a58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a57), 0xa0);
        // A0 016A
        gbc.setState(0xdc09, 0xb0c6, 0xc550, 0x692a, 0xe9d8, 0x11c1, 0x1, 0x0);
        gbc.writeMem(0xdc09, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb0c6);
        EXPECT(gbc.pc(), 0xdc0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc09), 0xa0);
        // A0 016B
        gbc.setState(0x4c60, 0x9e4a, 0x1ed0, 0x1109, 0x349c, 0xa8c2, 0x1, 0x1);
        gbc.writeMem(0x4c60, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9e4a);
        EXPECT(gbc.pc(), 0x4c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 016C
        gbc.setState(0x9f33, 0x2a7e, 0x77a0, 0x884f, 0x5d40, 0x7749, 0x0, 0x0);
        gbc.writeMem(0x9f33, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2a7e);
        EXPECT(gbc.pc(), 0x9f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f33), 0xa0);
        // A0 016D
        gbc.setState(0x31a3, 0x1542, 0x67d0, 0x9c4d, 0x560d, 0x6a13, 0x1, 0x1);
        gbc.writeMem(0x31a3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1542);
        EXPECT(gbc.pc(), 0x31a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 016E
        gbc.setState(0x12ba, 0xaef3, 0xa240, 0xa8a4, 0xff49, 0x5ca9, 0x1, 0x1);
        gbc.writeMem(0x12ba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xaef3);
        EXPECT(gbc.pc(), 0x12bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 016F
        gbc.setState(0xebde, 0x528b, 0xe5f0, 0x81ab, 0x3c83, 0x64d9, 0x0, 0x0);
        gbc.writeMem(0xebde, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x528b);
        EXPECT(gbc.pc(), 0xebdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebde), 0xa0);
        // A0 0170
        gbc.setState(0x26cf, 0xf2a8, 0x5100, 0x6df2, 0x6d17, 0xae76, 0x0, 0x0);
        gbc.writeMem(0x26cf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf2a8);
        EXPECT(gbc.pc(), 0x26d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0171
        gbc.setState(0xaa48, 0x84e1, 0x7e10, 0x7950, 0x192d, 0x12c1, 0x1, 0x1);
        gbc.writeMem(0xaa48, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x84e1);
        EXPECT(gbc.pc(), 0xaa49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa48), 0xa0);
        // A0 0172
        gbc.setState(0x8da1, 0xf705, 0x18e0, 0x9140, 0xc07e, 0xfa50, 0x1, 0x0);
        gbc.writeMem(0x8da1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf705);
        EXPECT(gbc.pc(), 0x8da2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8da1), 0xa0);
        // A0 0173
        gbc.setState(0x2e8c, 0xd0fa, 0xf030, 0x437c, 0xd8a2, 0xb215, 0x1, 0x0);
        gbc.writeMem(0x2e8c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd0fa);
        EXPECT(gbc.pc(), 0x2e8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0174
        gbc.setState(0x8e15, 0x2c2f, 0x2c70, 0x725e, 0xde56, 0xb1ed, 0x1, 0x0);
        gbc.writeMem(0x8e15, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2c2f);
        EXPECT(gbc.pc(), 0x8e16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e15), 0xa0);
        // A0 0175
        gbc.setState(0x33ce, 0x677e, 0x5d20, 0xef6d, 0x3539, 0x797e, 0x1, 0x1);
        gbc.writeMem(0x33ce, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x677e);
        EXPECT(gbc.pc(), 0x33cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0176
        gbc.setState(0xb4d6, 0x1a3c, 0x1fb0, 0x9ff2, 0x1df4, 0x25d0, 0x1, 0x0);
        gbc.writeMem(0xb4d6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x1a3c);
        EXPECT(gbc.pc(), 0xb4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d6), 0xa0);
        // A0 0177
        gbc.setState(0xd942, 0xfbba, 0x45f0, 0x6da5, 0x4ee, 0x21f4, 0x0, 0x0);
        gbc.writeMem(0xd942, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xfbba);
        EXPECT(gbc.pc(), 0xd943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd942), 0xa0);
        // A0 0178
        gbc.setState(0x83e9, 0x8efa, 0x3320, 0x2e7d, 0xdf, 0x11f1, 0x1, 0x1);
        gbc.writeMem(0x83e9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8efa);
        EXPECT(gbc.pc(), 0x83ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e9), 0xa0);
        // A0 0179
        gbc.setState(0x9b4b, 0xca08, 0x7200, 0x2d77, 0xb2fe, 0xf93, 0x1, 0x0);
        gbc.writeMem(0x9b4b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xca08);
        EXPECT(gbc.pc(), 0x9b4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b4b), 0xa0);
        // A0 017A
        gbc.setState(0x721e, 0x296a, 0x16f0, 0x5b8, 0xa1a7, 0xc376, 0x1, 0x0);
        gbc.writeMem(0x721e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x296a);
        EXPECT(gbc.pc(), 0x721f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 017B
        gbc.setState(0x8a7, 0xf8c7, 0x5bf0, 0x2206, 0x9985, 0x42f1, 0x0, 0x0);
        gbc.writeMem(0x8a7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf8c7);
        EXPECT(gbc.pc(), 0x8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 017C
        gbc.setState(0x13cb, 0x72e1, 0x1580, 0xc591, 0x8c26, 0x506b, 0x1, 0x1);
        gbc.writeMem(0x13cb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x72e1);
        EXPECT(gbc.pc(), 0x13cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 017D
        gbc.setState(0xcebb, 0xafab, 0x7a20, 0xbbf3, 0x2a4, 0x2667, 0x1, 0x0);
        gbc.writeMem(0xcebb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xafab);
        EXPECT(gbc.pc(), 0xcebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebb), 0xa0);
        // A0 017E
        gbc.setState(0x37cd, 0x36ac, 0xefb0, 0xc138, 0xe391, 0x15a9, 0x0, 0x1);
        gbc.writeMem(0x37cd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x36ac);
        EXPECT(gbc.pc(), 0x37ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 017F
        gbc.setState(0xc811, 0xe3a5, 0xaa50, 0x2197, 0xe4ab, 0xe263, 0x1, 0x1);
        gbc.writeMem(0xc811, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xe3a5);
        EXPECT(gbc.pc(), 0xc812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc811), 0xa0);
        // A0 0181
        gbc.setState(0x5291, 0xdde2, 0x4000, 0x5f42, 0x674e, 0x5fa8, 0x1, 0x1);
        gbc.writeMem(0x5291, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xdde2);
        EXPECT(gbc.pc(), 0x5292);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0182
        gbc.setState(0xa9aa, 0x99fd, 0xb260, 0xcc5f, 0xf543, 0x2c99, 0x0, 0x0);
        gbc.writeMem(0xa9aa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x99fd);
        EXPECT(gbc.pc(), 0xa9ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9aa), 0xa0);
        // A0 0183
        gbc.setState(0x31e3, 0x2232, 0x5390, 0xec6, 0x104c, 0x70be, 0x1, 0x1);
        gbc.writeMem(0x31e3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2232);
        EXPECT(gbc.pc(), 0x31e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0184
        gbc.setState(0xea0c, 0x726e, 0xf240, 0x23e8, 0x4e9b, 0xf2fa, 0x1, 0x1);
        gbc.writeMem(0xea0c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x726e);
        EXPECT(gbc.pc(), 0xea0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea0c), 0xa0);
        // A0 0185
        gbc.setState(0x6b6b, 0xab54, 0x41e0, 0x3217, 0xd897, 0x627e, 0x0, 0x1);
        gbc.writeMem(0x6b6b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xab54);
        EXPECT(gbc.pc(), 0x6b6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0186
        gbc.setState(0x1a39, 0xe7ad, 0x3230, 0x4e16, 0xf2ac, 0x7c53, 0x1, 0x0);
        gbc.writeMem(0x1a39, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe7ad);
        EXPECT(gbc.pc(), 0x1a3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0187
        gbc.setState(0xc1e2, 0xe5a3, 0x5c20, 0xaf3b, 0x95a3, 0xce24, 0x1, 0x0);
        gbc.writeMem(0xc1e2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe5a3);
        EXPECT(gbc.pc(), 0xc1e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e2), 0xa0);
        // A0 0188
        gbc.setState(0xed49, 0x3e31, 0xc150, 0x7d8c, 0x2f61, 0x755a, 0x0, 0x0);
        gbc.writeMem(0xed49, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x3e31);
        EXPECT(gbc.pc(), 0xed4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed49), 0xa0);
        // A0 0189
        gbc.setState(0x4f6c, 0x5d20, 0x4b80, 0x7604, 0xe9e5, 0xcee2, 0x0, 0x0);
        gbc.writeMem(0x4f6c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x5d20);
        EXPECT(gbc.pc(), 0x4f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 018A
        gbc.setState(0x8633, 0xd613, 0x9b70, 0x6fd6, 0x9057, 0x1b7e, 0x1, 0x1);
        gbc.writeMem(0x8633, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd613);
        EXPECT(gbc.pc(), 0x8634);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8633), 0xa0);
        // A0 018B
        gbc.setState(0xea4e, 0xca8d, 0x1e40, 0x7d47, 0xd350, 0xf1e, 0x1, 0x0);
        gbc.writeMem(0xea4e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xca8d);
        EXPECT(gbc.pc(), 0xea4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea4e), 0xa0);
        // A0 018C
        gbc.setState(0x9e51, 0x211b, 0x3920, 0x566e, 0x6509, 0x5d40, 0x0, 0x1);
        gbc.writeMem(0x9e51, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x211b);
        EXPECT(gbc.pc(), 0x9e52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e51), 0xa0);
        // A0 018D
        gbc.setState(0xd465, 0x9194, 0x2e90, 0x7904, 0xe7df, 0xeca2, 0x1, 0x0);
        gbc.writeMem(0xd465, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9194);
        EXPECT(gbc.pc(), 0xd466);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd465), 0xa0);
        // A0 018E
        gbc.setState(0xbe8c, 0x105b, 0x5890, 0x65f, 0x1315, 0xaa46, 0x1, 0x1);
        gbc.writeMem(0xbe8c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x105b);
        EXPECT(gbc.pc(), 0xbe8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe8c), 0xa0);
        // A0 018F
        gbc.setState(0xcd17, 0xc0b5, 0xc700, 0x2835, 0x6a29, 0x1ad9, 0x0, 0x0);
        gbc.writeMem(0xcd17, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc0b5);
        EXPECT(gbc.pc(), 0xcd18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd17), 0xa0);
        // A0 0190
        gbc.setState(0x332a, 0x6d4f, 0xc400, 0x94a9, 0xef36, 0x41ce, 0x0, 0x1);
        gbc.writeMem(0x332a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x6d4f);
        EXPECT(gbc.pc(), 0x332b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0191
        gbc.setState(0x2f9d, 0x27c2, 0x94c0, 0xd393, 0x1649, 0x1c4e, 0x1, 0x0);
        gbc.writeMem(0x2f9d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x27c2);
        EXPECT(gbc.pc(), 0x2f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0192
        gbc.setState(0x5a7d, 0x45f2, 0xaeb0, 0x722b, 0x65a5, 0x37f8, 0x0, 0x0);
        gbc.writeMem(0x5a7d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x45f2);
        EXPECT(gbc.pc(), 0x5a7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0193
        gbc.setState(0xa63, 0xcb5f, 0x1970, 0xe432, 0x6f27, 0xe9ed, 0x0, 0x1);
        gbc.writeMem(0xa63, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xcb5f);
        EXPECT(gbc.pc(), 0xa64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0194
        gbc.setState(0x603c, 0x98cd, 0x12f0, 0xce1b, 0xfca0, 0xc3db, 0x0, 0x1);
        gbc.writeMem(0x603c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x98cd);
        EXPECT(gbc.pc(), 0x603d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0195
        gbc.setState(0x76c2, 0x5062, 0x1670, 0x31cb, 0x4fd3, 0x5e1f, 0x1, 0x0);
        gbc.writeMem(0x76c2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5062);
        EXPECT(gbc.pc(), 0x76c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0196
        gbc.setState(0x44f, 0x46c3, 0x7470, 0x5cf, 0xe3a0, 0xdbdd, 0x1, 0x1);
        gbc.writeMem(0x44f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x46c3);
        EXPECT(gbc.pc(), 0x450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0197
        gbc.setState(0xcb2a, 0x2bbd, 0x9950, 0x92c5, 0xc98d, 0x1d39, 0x1, 0x1);
        gbc.writeMem(0xcb2a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2bbd);
        EXPECT(gbc.pc(), 0xcb2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb2a), 0xa0);
        // A0 0198
        gbc.setState(0xb1b2, 0xd89a, 0x4930, 0xbeb8, 0xa00, 0x49b7, 0x0, 0x0);
        gbc.writeMem(0xb1b2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xd89a);
        EXPECT(gbc.pc(), 0xb1b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b2), 0xa0);
        // A0 0199
        gbc.setState(0x52a8, 0xa08b, 0x3170, 0xc98, 0x80f3, 0xa57b, 0x1, 0x0);
        gbc.writeMem(0x52a8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa08b);
        EXPECT(gbc.pc(), 0x52a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 019A
        gbc.setState(0xdc27, 0xfd85, 0x6fb0, 0x9599, 0xed20, 0x681b, 0x0, 0x1);
        gbc.writeMem(0xdc27, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xfd85);
        EXPECT(gbc.pc(), 0xdc28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc27), 0xa0);
        // A0 019C
        gbc.setState(0x7038, 0x2f38, 0xb0f0, 0xb8dc, 0x8f82, 0x796f, 0x0, 0x1);
        gbc.writeMem(0x7038, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x2f38);
        EXPECT(gbc.pc(), 0x7039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 019D
        gbc.setState(0xb3b4, 0xe2f4, 0x42b0, 0x32ca, 0x9447, 0x4481, 0x1, 0x0);
        gbc.writeMem(0xb3b4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xe2f4);
        EXPECT(gbc.pc(), 0xb3b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b4), 0xa0);
        // A0 019E
        gbc.setState(0x828d, 0x4bc1, 0xbf60, 0x1e97, 0xe57a, 0xf4b0, 0x1, 0x1);
        gbc.writeMem(0x828d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4bc1);
        EXPECT(gbc.pc(), 0x828e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x828d), 0xa0);
        // A0 019F
        gbc.setState(0x5bbb, 0x3c46, 0xff90, 0x301f, 0x87bb, 0x3b5c, 0x1, 0x1);
        gbc.writeMem(0x5bbb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3c46);
        EXPECT(gbc.pc(), 0x5bbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01A2
        gbc.setState(0x8e72, 0x5297, 0x24e0, 0x69a2, 0xb7e5, 0x71c6, 0x1, 0x0);
        gbc.writeMem(0x8e72, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5297);
        EXPECT(gbc.pc(), 0x8e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e72), 0xa0);
        // A0 01A3
        gbc.setState(0x741a, 0xd3e3, 0x9eb0, 0x4537, 0x589f, 0xf156, 0x0, 0x1);
        gbc.writeMem(0x741a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd3e3);
        EXPECT(gbc.pc(), 0x741b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01A4
        gbc.setState(0x2f59, 0xb0d9, 0x2990, 0x3fa2, 0xbde4, 0xad1b, 0x1, 0x1);
        gbc.writeMem(0x2f59, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xb0d9);
        EXPECT(gbc.pc(), 0x2f5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01A5
        gbc.setState(0xbb92, 0x8d5a, 0xbc90, 0xfcc0, 0x65b6, 0x7558, 0x1, 0x1);
        gbc.writeMem(0xbb92, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8d5a);
        EXPECT(gbc.pc(), 0xbb93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb92), 0xa0);
        // A0 01A6
        gbc.setState(0x1818, 0xedae, 0x4080, 0xc8b8, 0xe8b0, 0x12c7, 0x1, 0x1);
        gbc.writeMem(0x1818, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xedae);
        EXPECT(gbc.pc(), 0x1819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01A7
        gbc.setState(0xba11, 0x55e0, 0xe0c0, 0xa95d, 0xd764, 0x73aa, 0x0, 0x0);
        gbc.writeMem(0xba11, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x55e0);
        EXPECT(gbc.pc(), 0xba12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba11), 0xa0);
        // A0 01A8
        gbc.setState(0x7eed, 0x4872, 0x6b50, 0xde93, 0x3710, 0xc465, 0x0, 0x1);
        gbc.writeMem(0x7eed, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4872);
        EXPECT(gbc.pc(), 0x7eee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01A9
        gbc.setState(0x449b, 0xb728, 0x9b00, 0x4df8, 0x5b0b, 0xa13, 0x1, 0x1);
        gbc.writeMem(0x449b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xb728);
        EXPECT(gbc.pc(), 0x449c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01AA
        gbc.setState(0x64b9, 0xec38, 0xa630, 0x1fbc, 0x5da1, 0xdb65, 0x0, 0x0);
        gbc.writeMem(0x64b9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xec38);
        EXPECT(gbc.pc(), 0x64ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01AB
        gbc.setState(0xce09, 0x9048, 0xb7c0, 0x527b, 0xbe9a, 0xeff2, 0x1, 0x1);
        gbc.writeMem(0xce09, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9048);
        EXPECT(gbc.pc(), 0xce0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce09), 0xa0);
        // A0 01AC
        gbc.setState(0x66b3, 0xefab, 0xd500, 0xb8ee, 0xc05b, 0xf32a, 0x1, 0x0);
        gbc.writeMem(0x66b3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xefab);
        EXPECT(gbc.pc(), 0x66b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01AD
        gbc.setState(0xba09, 0x372, 0xd090, 0xe468, 0x1cf4, 0x5533, 0x0, 0x1);
        gbc.writeMem(0xba09, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x372);
        EXPECT(gbc.pc(), 0xba0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba09), 0xa0);
        // A0 01AE
        gbc.setState(0xa7e3, 0xb330, 0xd670, 0xbedf, 0xe5b, 0xac75, 0x0, 0x0);
        gbc.writeMem(0xa7e3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb330);
        EXPECT(gbc.pc(), 0xa7e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7e3), 0xa0);
        // A0 01AF
        gbc.setState(0x83e2, 0x48b2, 0xa20, 0x4417, 0xf05f, 0x57c3, 0x1, 0x1);
        gbc.writeMem(0x83e2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x48b2);
        EXPECT(gbc.pc(), 0x83e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e2), 0xa0);
        // A0 01B0
        gbc.setState(0x726c, 0x13eb, 0x7b0, 0xbf1c, 0x635b, 0x68f0, 0x0, 0x0);
        gbc.writeMem(0x726c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x13eb);
        EXPECT(gbc.pc(), 0x726d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01B1
        gbc.setState(0x7488, 0x4ea, 0xe40, 0x638b, 0x5a23, 0xa97b, 0x1, 0x0);
        gbc.writeMem(0x7488, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4ea);
        EXPECT(gbc.pc(), 0x7489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01B2
        gbc.setState(0xc456, 0xd7a6, 0x2e80, 0x4b86, 0x4a13, 0x2c51, 0x1, 0x1);
        gbc.writeMem(0xc456, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd7a6);
        EXPECT(gbc.pc(), 0xc457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc456), 0xa0);
        // A0 01B3
        gbc.setState(0xb2e6, 0xf119, 0xf6c0, 0xc83d, 0x8e1f, 0x5101, 0x0, 0x0);
        gbc.writeMem(0xb2e6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf119);
        EXPECT(gbc.pc(), 0xb2e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2e6), 0xa0);
        // A0 01B4
        gbc.setState(0x5477, 0x323f, 0xbc80, 0xc0c3, 0x613b, 0xa484, 0x0, 0x1);
        gbc.writeMem(0x5477, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x323f);
        EXPECT(gbc.pc(), 0x5478);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01B5
        gbc.setState(0x551d, 0x67e6, 0x30e0, 0x2759, 0x2b34, 0x6328, 0x1, 0x1);
        gbc.writeMem(0x551d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x67e6);
        EXPECT(gbc.pc(), 0x551e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01B6
        gbc.setState(0xcb2, 0x618c, 0x9710, 0x18c, 0x77f7, 0x8eab, 0x0, 0x0);
        gbc.writeMem(0xcb2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x618c);
        EXPECT(gbc.pc(), 0xcb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01B8
        gbc.setState(0x8abb, 0xd1a7, 0xf560, 0x1253, 0xc37c, 0x3dfa, 0x0, 0x1);
        gbc.writeMem(0x8abb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd1a7);
        EXPECT(gbc.pc(), 0x8abc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8abb), 0xa0);
        // A0 01B9
        gbc.setState(0xaef4, 0xf4b9, 0xb5c0, 0x8239, 0xf7cd, 0x8298, 0x1, 0x1);
        gbc.writeMem(0xaef4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf4b9);
        EXPECT(gbc.pc(), 0xaef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaef4), 0xa0);
        // A0 01BA
        gbc.setState(0x4e66, 0x2308, 0x3090, 0x35da, 0xbce, 0xa9a2, 0x0, 0x0);
        gbc.writeMem(0x4e66, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2308);
        EXPECT(gbc.pc(), 0x4e67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01BB
        gbc.setState(0x9ec5, 0xd2f, 0x1ad0, 0x8129, 0xe2c9, 0x7763, 0x0, 0x1);
        gbc.writeMem(0x9ec5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd2f);
        EXPECT(gbc.pc(), 0x9ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec5), 0xa0);
        // A0 01BC
        gbc.setState(0x7e1b, 0x9ca9, 0x40a0, 0xcd6, 0xf48c, 0x4c29, 0x0, 0x0);
        gbc.writeMem(0x7e1b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9ca9);
        EXPECT(gbc.pc(), 0x7e1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01BD
        gbc.setState(0xca99, 0xf3fd, 0x3060, 0x24bb, 0x9cd, 0xfad2, 0x0, 0x1);
        gbc.writeMem(0xca99, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf3fd);
        EXPECT(gbc.pc(), 0xca9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca99), 0xa0);
        // A0 01BF
        gbc.setState(0xa9a, 0xc97e, 0xff20, 0x1b6e, 0xd174, 0xf5e0, 0x0, 0x1);
        gbc.writeMem(0xa9a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc97e);
        EXPECT(gbc.pc(), 0xa9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01C0
        gbc.setState(0x981, 0x89d4, 0x2780, 0x1144, 0xbe4, 0xfe70, 0x0, 0x0);
        gbc.writeMem(0x981, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x89d4);
        EXPECT(gbc.pc(), 0x982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01C1
        gbc.setState(0xb89a, 0x1532, 0xe1c0, 0x1c1a, 0xf517, 0xc0f7, 0x1, 0x0);
        gbc.writeMem(0xb89a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1532);
        EXPECT(gbc.pc(), 0xb89b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89a), 0xa0);
        // A0 01C2
        gbc.setState(0x84dc, 0x1410, 0xf570, 0x44dd, 0xece, 0xc5b4, 0x1, 0x0);
        gbc.writeMem(0x84dc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1410);
        EXPECT(gbc.pc(), 0x84dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84dc), 0xa0);
        // A0 01C3
        gbc.setState(0xc6d7, 0x41ee, 0x67d0, 0x2145, 0x7820, 0x996d, 0x0, 0x0);
        gbc.writeMem(0xc6d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x41ee);
        EXPECT(gbc.pc(), 0xc6d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6d7), 0xa0);
        // A0 01C4
        gbc.setState(0x6969, 0x45f8, 0x90a0, 0xf74f, 0x682f, 0x784f, 0x0, 0x1);
        gbc.writeMem(0x6969, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x45f8);
        EXPECT(gbc.pc(), 0x696a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01C5
        gbc.setState(0x24c2, 0xa473, 0xd600, 0xfbc7, 0xec7c, 0x491b, 0x1, 0x0);
        gbc.writeMem(0x24c2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa473);
        EXPECT(gbc.pc(), 0x24c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01C6
        gbc.setState(0xbed1, 0x7d4e, 0xd080, 0x5f99, 0x907d, 0xfed5, 0x0, 0x0);
        gbc.writeMem(0xbed1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7d4e);
        EXPECT(gbc.pc(), 0xbed2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbed1), 0xa0);
        // A0 01C7
        gbc.setState(0x9771, 0x695c, 0x9970, 0x7709, 0xf980, 0xc436, 0x0, 0x0);
        gbc.writeMem(0x9771, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x695c);
        EXPECT(gbc.pc(), 0x9772);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9771), 0xa0);
        // A0 01C8
        gbc.setState(0xb1ab, 0xd95a, 0x3f10, 0x7776, 0xf6c7, 0x2b50, 0x0, 0x1);
        gbc.writeMem(0xb1ab, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xd95a);
        EXPECT(gbc.pc(), 0xb1ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ab), 0xa0);
        // A0 01C9
        gbc.setState(0xfc5, 0x4, 0xdc50, 0xe35e, 0x78a6, 0x5af, 0x0, 0x1);
        gbc.writeMem(0xfc5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4);
        EXPECT(gbc.pc(), 0xfc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01CA
        gbc.setState(0x10cb, 0xbce8, 0x93f0, 0xecad, 0x83f3, 0x1962, 0x1, 0x1);
        gbc.writeMem(0x10cb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xbce8);
        EXPECT(gbc.pc(), 0x10cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01CB
        gbc.setState(0xe741, 0x39d4, 0x2820, 0xba30, 0x1710, 0x6ec8, 0x0, 0x1);
        gbc.writeMem(0xe741, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x39d4);
        EXPECT(gbc.pc(), 0xe742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe741), 0xa0);
        // A0 01CC
        gbc.setState(0xb662, 0x10e9, 0xf8b0, 0xae46, 0x1b50, 0x26a6, 0x1, 0x0);
        gbc.writeMem(0xb662, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x10e9);
        EXPECT(gbc.pc(), 0xb663);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb662), 0xa0);
        // A0 01CD
        gbc.setState(0xd9ec, 0x146f, 0xc8b0, 0x1c, 0xb17d, 0x627d, 0x1, 0x1);
        gbc.writeMem(0xd9ec, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x146f);
        EXPECT(gbc.pc(), 0xd9ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ec), 0xa0);
        // A0 01CE
        gbc.setState(0x9c22, 0x57c, 0xf910, 0x98de, 0x8f92, 0x13e8, 0x1, 0x0);
        gbc.writeMem(0x9c22, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x57c);
        EXPECT(gbc.pc(), 0x9c23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c22), 0xa0);
        // A0 01CF
        gbc.setState(0x343b, 0xfba5, 0x7740, 0x9b3, 0x4a93, 0x5dcc, 0x0, 0x0);
        gbc.writeMem(0x343b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xfba5);
        EXPECT(gbc.pc(), 0x343c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01D0
        gbc.setState(0x697c, 0x2155, 0x6390, 0xdc9a, 0xc2d4, 0xf7b3, 0x0, 0x0);
        gbc.writeMem(0x697c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2155);
        EXPECT(gbc.pc(), 0x697d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01D1
        gbc.setState(0xea61, 0x4b87, 0x24e0, 0x1d07, 0xcfdc, 0x2661, 0x0, 0x1);
        gbc.writeMem(0xea61, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4b87);
        EXPECT(gbc.pc(), 0xea62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea61), 0xa0);
        // A0 01D2
        gbc.setState(0x2643, 0x8013, 0xde60, 0xe28e, 0xdf1, 0x8fd6, 0x1, 0x1);
        gbc.writeMem(0x2643, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8013);
        EXPECT(gbc.pc(), 0x2644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01D3
        gbc.setState(0xd52, 0xb07, 0x5710, 0x8b93, 0x521a, 0xed7a, 0x1, 0x1);
        gbc.writeMem(0xd52, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xb07);
        EXPECT(gbc.pc(), 0xd53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01D4
        gbc.setState(0x8e10, 0x4296, 0x8420, 0x6f4e, 0xd1dc, 0xfbda, 0x0, 0x1);
        gbc.writeMem(0x8e10, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x4296);
        EXPECT(gbc.pc(), 0x8e11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e10), 0xa0);
        // A0 01D5
        gbc.setState(0x8f26, 0xed75, 0x5480, 0xa19d, 0x59d1, 0x2ffb, 0x0, 0x0);
        gbc.writeMem(0x8f26, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xed75);
        EXPECT(gbc.pc(), 0x8f27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f26), 0xa0);
        // A0 01D6
        gbc.setState(0xae30, 0x805d, 0x5f20, 0xff2a, 0xf641, 0xe8c1, 0x1, 0x1);
        gbc.writeMem(0xae30, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x805d);
        EXPECT(gbc.pc(), 0xae31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae30), 0xa0);
        // A0 01D7
        gbc.setState(0x91ff, 0xbfcf, 0xa170, 0x8fb9, 0x5d33, 0x99e1, 0x0, 0x0);
        gbc.writeMem(0x91ff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xbfcf);
        EXPECT(gbc.pc(), 0x9200);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91ff), 0xa0);
        // A0 01D8
        gbc.setState(0x98d1, 0x1c0d, 0xfc40, 0x9050, 0x30e9, 0xd029, 0x1, 0x0);
        gbc.writeMem(0x98d1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1c0d);
        EXPECT(gbc.pc(), 0x98d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98d1), 0xa0);
        // A0 01D9
        gbc.setState(0xcfe8, 0x14aa, 0x95f0, 0x61b2, 0xa854, 0x760, 0x1, 0x0);
        gbc.writeMem(0xcfe8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x14aa);
        EXPECT(gbc.pc(), 0xcfe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe8), 0xa0);
        // A0 01DA
        gbc.setState(0x813, 0x2f69, 0xfbc0, 0xc694, 0x289, 0xf20e, 0x1, 0x0);
        gbc.writeMem(0x813, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2f69);
        EXPECT(gbc.pc(), 0x814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01DB
        gbc.setState(0x314c, 0x9bfa, 0x2fe0, 0x2db2, 0x3d18, 0xe19a, 0x1, 0x1);
        gbc.writeMem(0x314c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9bfa);
        EXPECT(gbc.pc(), 0x314d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01DC
        gbc.setState(0x63a4, 0x8248, 0x9fb0, 0x1c1c, 0xf641, 0x7fc0, 0x1, 0x1);
        gbc.writeMem(0x63a4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8248);
        EXPECT(gbc.pc(), 0x63a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01DD
        gbc.setState(0x611, 0xd4d8, 0xae40, 0x4de2, 0x85ab, 0x3927, 0x0, 0x1);
        gbc.writeMem(0x611, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd4d8);
        EXPECT(gbc.pc(), 0x612);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01DE
        gbc.setState(0x1155, 0xb15e, 0x7b40, 0x6e67, 0x603c, 0x79c6, 0x0, 0x1);
        gbc.writeMem(0x1155, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xb15e);
        EXPECT(gbc.pc(), 0x1156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01DF
        gbc.setState(0x8655, 0xd4b2, 0x6ee0, 0xa64b, 0x566, 0x36ce, 0x1, 0x0);
        gbc.writeMem(0x8655, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xd4b2);
        EXPECT(gbc.pc(), 0x8656);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8655), 0xa0);
        // A0 01E0
        gbc.setState(0xdafa, 0x2bd, 0xf660, 0xd3c4, 0xbfaa, 0x7024, 0x1, 0x0);
        gbc.writeMem(0xdafa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2bd);
        EXPECT(gbc.pc(), 0xdafb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafa), 0xa0);
        // A0 01E1
        gbc.setState(0x717b, 0xee86, 0xca80, 0xd724, 0x77c1, 0xe20b, 0x1, 0x0);
        gbc.writeMem(0x717b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xee86);
        EXPECT(gbc.pc(), 0x717c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01E2
        gbc.setState(0x78b6, 0xcc21, 0xd280, 0x5e7a, 0xb488, 0x464f, 0x1, 0x0);
        gbc.writeMem(0x78b6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xcc21);
        EXPECT(gbc.pc(), 0x78b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01E3
        gbc.setState(0x6503, 0x7f18, 0x8ef0, 0xe00, 0x7338, 0xa83d, 0x0, 0x1);
        gbc.writeMem(0x6503, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7f18);
        EXPECT(gbc.pc(), 0x6504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01E4
        gbc.setState(0x65ac, 0x12f6, 0x1510, 0x464a, 0x8a58, 0x2184, 0x0, 0x0);
        gbc.writeMem(0x65ac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x12f6);
        EXPECT(gbc.pc(), 0x65ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01E5
        gbc.setState(0x1d78, 0xca15, 0x55a0, 0x9e63, 0x424a, 0xdd27, 0x1, 0x1);
        gbc.writeMem(0x1d78, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xca15);
        EXPECT(gbc.pc(), 0x1d79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01E6
        gbc.setState(0xdfb3, 0xecd8, 0xdd30, 0x81aa, 0x9352, 0x702c, 0x1, 0x1);
        gbc.writeMem(0xdfb3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xecd8);
        EXPECT(gbc.pc(), 0xdfb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfb3), 0xa0);
        // A0 01E7
        gbc.setState(0xc57a, 0x827b, 0xdca0, 0xbfbe, 0x10d1, 0xd61f, 0x0, 0x0);
        gbc.writeMem(0xc57a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x827b);
        EXPECT(gbc.pc(), 0xc57b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc57a), 0xa0);
        // A0 01E8
        gbc.setState(0xd5fa, 0xb44d, 0x3e10, 0x893e, 0xfac, 0x88d5, 0x1, 0x1);
        gbc.writeMem(0xd5fa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb44d);
        EXPECT(gbc.pc(), 0xd5fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5fa), 0xa0);
        // A0 01E9
        gbc.setState(0xe633, 0x7a74, 0x3160, 0x2535, 0x3bbe, 0x5a1a, 0x0, 0x0);
        gbc.writeMem(0xe633, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7a74);
        EXPECT(gbc.pc(), 0xe634);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe633), 0xa0);
        // A0 01EA
        gbc.setState(0x7abe, 0x43cc, 0x8b60, 0xf4c4, 0x9751, 0xb429, 0x1, 0x0);
        gbc.writeMem(0x7abe, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x43cc);
        EXPECT(gbc.pc(), 0x7abf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01EB
        gbc.setState(0x9853, 0xda04, 0x9450, 0x73f2, 0xf12, 0x4d85, 0x1, 0x1);
        gbc.writeMem(0x9853, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xda04);
        EXPECT(gbc.pc(), 0x9854);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9853), 0xa0);
        // A0 01EC
        gbc.setState(0x2174, 0xa975, 0x7d00, 0xd209, 0xba60, 0xc66a, 0x0, 0x1);
        gbc.writeMem(0x2174, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa975);
        EXPECT(gbc.pc(), 0x2175);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01EE
        gbc.setState(0x268d, 0x834b, 0x9c90, 0xb947, 0x8cf2, 0x909a, 0x1, 0x0);
        gbc.writeMem(0x268d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x834b);
        EXPECT(gbc.pc(), 0x268e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01EF
        gbc.setState(0x4e0a, 0xc840, 0x1340, 0x8aef, 0x6acf, 0x2b71, 0x0, 0x0);
        gbc.writeMem(0x4e0a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc840);
        EXPECT(gbc.pc(), 0x4e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F0
        gbc.setState(0xed6d, 0x3b4f, 0xcda0, 0xe710, 0x465d, 0x7ec1, 0x1, 0x0);
        gbc.writeMem(0xed6d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3b4f);
        EXPECT(gbc.pc(), 0xed6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed6d), 0xa0);
        // A0 01F1
        gbc.setState(0x534f, 0x9690, 0xebe0, 0xdbc8, 0xc1e8, 0x7a84, 0x0, 0x0);
        gbc.writeMem(0x534f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9690);
        EXPECT(gbc.pc(), 0x5350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F2
        gbc.setState(0x7082, 0x9095, 0x9760, 0x34fd, 0xda88, 0xd479, 0x1, 0x1);
        gbc.writeMem(0x7082, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9095);
        EXPECT(gbc.pc(), 0x7083);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F4
        gbc.setState(0x5779, 0x17bb, 0x78c0, 0xca85, 0xa626, 0x4d2b, 0x0, 0x0);
        gbc.writeMem(0x5779, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x17bb);
        EXPECT(gbc.pc(), 0x577a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F6
        gbc.setState(0x17ae, 0x4be6, 0x6420, 0xfbca, 0x55b1, 0x7a24, 0x0, 0x0);
        gbc.writeMem(0x17ae, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4be6);
        EXPECT(gbc.pc(), 0x17af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F7
        gbc.setState(0x4f5a, 0xe514, 0xf7d0, 0x7fe2, 0x2c36, 0xc34, 0x1, 0x0);
        gbc.writeMem(0x4f5a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe514);
        EXPECT(gbc.pc(), 0x4f5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F8
        gbc.setState(0x6342, 0xc79a, 0xd8e0, 0x195f, 0x4da9, 0xa779, 0x1, 0x0);
        gbc.writeMem(0x6342, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc79a);
        EXPECT(gbc.pc(), 0x6343);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01F9
        gbc.setState(0xac31, 0xd04c, 0xe1c0, 0x7831, 0xfcc6, 0xe46a, 0x0, 0x0);
        gbc.writeMem(0xac31, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd04c);
        EXPECT(gbc.pc(), 0xac32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac31), 0xa0);
        // A0 01FA
        gbc.setState(0x931f, 0xab53, 0xc040, 0x523a, 0x702a, 0xfbcd, 0x0, 0x1);
        gbc.writeMem(0x931f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xab53);
        EXPECT(gbc.pc(), 0x9320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x931f), 0xa0);
        // A0 01FB
        gbc.setState(0xa6fc, 0xcb95, 0x5510, 0xc258, 0x9d5e, 0x8a62, 0x1, 0x1);
        gbc.writeMem(0xa6fc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xcb95);
        EXPECT(gbc.pc(), 0xa6fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6fc), 0xa0);
        // A0 01FC
        gbc.setState(0x1e19, 0x2cd, 0x4660, 0xcf8a, 0xbb47, 0x62ee, 0x0, 0x0);
        gbc.writeMem(0x1e19, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x2cd);
        EXPECT(gbc.pc(), 0x1e1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 01FD
        gbc.setState(0x900d, 0x7b52, 0xd560, 0x1947, 0xe86, 0x4e3b, 0x0, 0x1);
        gbc.writeMem(0x900d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7b52);
        EXPECT(gbc.pc(), 0x900e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x900d), 0xa0);
        // A0 01FE
        gbc.setState(0xb46a, 0xfdd4, 0x52a0, 0xe348, 0x2fbe, 0x1c5f, 0x1, 0x1);
        gbc.writeMem(0xb46a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfdd4);
        EXPECT(gbc.pc(), 0xb46b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46a), 0xa0);
        // A0 0200
        gbc.setState(0x76e1, 0xc982, 0x3ae0, 0xb07d, 0xf5b6, 0xc5ac, 0x0, 0x1);
        gbc.writeMem(0x76e1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc982);
        EXPECT(gbc.pc(), 0x76e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0201
        gbc.setState(0x9cdb, 0xb797, 0x7860, 0xbeea, 0xa239, 0x5937, 0x1, 0x1);
        gbc.writeMem(0x9cdb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xb797);
        EXPECT(gbc.pc(), 0x9cdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cdb), 0xa0);
        // A0 0202
        gbc.setState(0x4d58, 0xee8b, 0xa8d0, 0x8910, 0xa7c0, 0x6f5c, 0x1, 0x1);
        gbc.writeMem(0x4d58, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xee8b);
        EXPECT(gbc.pc(), 0x4d59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0203
        gbc.setState(0x990, 0x361e, 0x1ff0, 0x3827, 0x6469, 0xe120, 0x1, 0x0);
        gbc.writeMem(0x990, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x361e);
        EXPECT(gbc.pc(), 0x991);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0204
        gbc.setState(0xb53e, 0x6538, 0xc180, 0x3ea3, 0x23bc, 0xa03c, 0x1, 0x0);
        gbc.writeMem(0xb53e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6538);
        EXPECT(gbc.pc(), 0xb53f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb53e), 0xa0);
        // A0 0205
        gbc.setState(0x5392, 0xbf98, 0xdcf0, 0x2d6d, 0x5593, 0x843f, 0x1, 0x1);
        gbc.writeMem(0x5392, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbf98);
        EXPECT(gbc.pc(), 0x5393);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0206
        gbc.setState(0x9fc3, 0xffe9, 0xed70, 0x53c3, 0xd0da, 0x26c6, 0x0, 0x1);
        gbc.writeMem(0x9fc3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xffe9);
        EXPECT(gbc.pc(), 0x9fc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fc3), 0xa0);
        // A0 0207
        gbc.setState(0x109a, 0xe6b4, 0xed10, 0xc3d5, 0x6a6e, 0xbfb0, 0x0, 0x1);
        gbc.writeMem(0x109a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xe6b4);
        EXPECT(gbc.pc(), 0x109b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0208
        gbc.setState(0x3c8b, 0x4bea, 0x7520, 0xb75e, 0xc7f9, 0x9f00, 0x0, 0x1);
        gbc.writeMem(0x3c8b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4bea);
        EXPECT(gbc.pc(), 0x3c8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0209
        gbc.setState(0x720a, 0x2b0, 0x32e0, 0xa446, 0xbe73, 0x9e4a, 0x0, 0x0);
        gbc.writeMem(0x720a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2b0);
        EXPECT(gbc.pc(), 0x720b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 020A
        gbc.setState(0x4c82, 0x21cd, 0x4eb0, 0xe2f0, 0x32e4, 0x38e6, 0x1, 0x0);
        gbc.writeMem(0x4c82, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x21cd);
        EXPECT(gbc.pc(), 0x4c83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 020B
        gbc.setState(0x9ec3, 0x76b8, 0x5fd0, 0xeb04, 0xbc31, 0x69dc, 0x0, 0x0);
        gbc.writeMem(0x9ec3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x76b8);
        EXPECT(gbc.pc(), 0x9ec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec3), 0xa0);
        // A0 020C
        gbc.setState(0x6867, 0x1cae, 0xd770, 0xef2d, 0xa868, 0x8ea4, 0x1, 0x0);
        gbc.writeMem(0x6867, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1cae);
        EXPECT(gbc.pc(), 0x6868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 020D
        gbc.setState(0x1d2c, 0xc67d, 0x66c0, 0x5580, 0x413, 0xef46, 0x1, 0x1);
        gbc.writeMem(0x1d2c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xc67d);
        EXPECT(gbc.pc(), 0x1d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 020E
        gbc.setState(0xea4c, 0xc6fc, 0x9cb0, 0xa645, 0xbbd3, 0x715a, 0x0, 0x0);
        gbc.writeMem(0xea4c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc6fc);
        EXPECT(gbc.pc(), 0xea4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea4c), 0xa0);
        // A0 0210
        gbc.setState(0x7750, 0x6913, 0x60b0, 0x5a21, 0xc9f4, 0xe9b6, 0x1, 0x0);
        gbc.writeMem(0x7750, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6913);
        EXPECT(gbc.pc(), 0x7751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0211
        gbc.setState(0x50ac, 0xa5e0, 0xf5c0, 0xeadc, 0x2ec2, 0xb224, 0x0, 0x1);
        gbc.writeMem(0x50ac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa5e0);
        EXPECT(gbc.pc(), 0x50ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0212
        gbc.setState(0x8f2e, 0xeb97, 0xabc0, 0x8a4, 0xadee, 0x2b96, 0x1, 0x0);
        gbc.writeMem(0x8f2e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xeb97);
        EXPECT(gbc.pc(), 0x8f2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f2e), 0xa0);
        // A0 0213
        gbc.setState(0x49bd, 0x131b, 0xcc0, 0xb1ef, 0xc84f, 0xa5bc, 0x1, 0x0);
        gbc.writeMem(0x49bd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x131b);
        EXPECT(gbc.pc(), 0x49be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0214
        gbc.setState(0xf44, 0x84f6, 0x8920, 0x3089, 0xfe0f, 0xa418, 0x1, 0x1);
        gbc.writeMem(0xf44, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x84f6);
        EXPECT(gbc.pc(), 0xf45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0215
        gbc.setState(0xd7f9, 0x1cb8, 0x7600, 0xe315, 0x1fa8, 0x8c54, 0x0, 0x0);
        gbc.writeMem(0xd7f9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x1cb8);
        EXPECT(gbc.pc(), 0xd7fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f9), 0xa0);
        // A0 0216
        gbc.setState(0xed90, 0x292b, 0x2270, 0x7dff, 0x8857, 0x8338, 0x1, 0x0);
        gbc.writeMem(0xed90, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x292b);
        EXPECT(gbc.pc(), 0xed91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed90), 0xa0);
        // A0 0217
        gbc.setState(0xc42e, 0xc8be, 0x7fa0, 0xfd5d, 0xd3a1, 0x8683, 0x1, 0x1);
        gbc.writeMem(0xc42e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc8be);
        EXPECT(gbc.pc(), 0xc42f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc42e), 0xa0);
        // A0 0218
        gbc.setState(0x6157, 0xcb56, 0x7190, 0xa1cb, 0x2e35, 0x2a6b, 0x1, 0x1);
        gbc.writeMem(0x6157, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xcb56);
        EXPECT(gbc.pc(), 0x6158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0219
        gbc.setState(0x3532, 0xee8c, 0x2f20, 0x3316, 0x801f, 0x8cef, 0x1, 0x1);
        gbc.writeMem(0x3532, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xee8c);
        EXPECT(gbc.pc(), 0x3533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 021A
        gbc.setState(0x6d14, 0x7152, 0x4c60, 0xdfc9, 0xc912, 0x80c3, 0x0, 0x0);
        gbc.writeMem(0x6d14, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7152);
        EXPECT(gbc.pc(), 0x6d15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 021B
        gbc.setState(0x98af, 0x3a5, 0x3700, 0x5863, 0xc8ee, 0xb68b, 0x1, 0x1);
        gbc.writeMem(0x98af, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3a5);
        EXPECT(gbc.pc(), 0x98b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98af), 0xa0);
        // A0 021C
        gbc.setState(0x69c1, 0x4c49, 0x15c0, 0x14f9, 0x948f, 0xa908, 0x0, 0x0);
        gbc.writeMem(0x69c1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4c49);
        EXPECT(gbc.pc(), 0x69c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 021D
        gbc.setState(0xb52a, 0x91b9, 0xd900, 0xbb20, 0x7fb9, 0x47ec, 0x1, 0x1);
        gbc.writeMem(0xb52a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x91b9);
        EXPECT(gbc.pc(), 0xb52b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb52a), 0xa0);
        // A0 021E
        gbc.setState(0x6b3c, 0xd388, 0x36c0, 0xd64f, 0x91a6, 0x3f35, 0x0, 0x0);
        gbc.writeMem(0x6b3c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xd388);
        EXPECT(gbc.pc(), 0x6b3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 021F
        gbc.setState(0x98af, 0x5d5c, 0xd590, 0x6fef, 0x7915, 0xedf9, 0x0, 0x0);
        gbc.writeMem(0x98af, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5d5c);
        EXPECT(gbc.pc(), 0x98b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98af), 0xa0);
        // A0 0220
        gbc.setState(0xe5eb, 0xe471, 0xcb0, 0xc876, 0xb443, 0x2795, 0x0, 0x1);
        gbc.writeMem(0xe5eb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe471);
        EXPECT(gbc.pc(), 0xe5ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5eb), 0xa0);
        // A0 0221
        gbc.setState(0x3f09, 0xe582, 0x970, 0x8920, 0xc9b6, 0x79d6, 0x1, 0x0);
        gbc.writeMem(0x3f09, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe582);
        EXPECT(gbc.pc(), 0x3f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0223
        gbc.setState(0x6dbd, 0x1a95, 0x4ef0, 0xc968, 0x7b4, 0x9934, 0x1, 0x1);
        gbc.writeMem(0x6dbd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1a95);
        EXPECT(gbc.pc(), 0x6dbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0224
        gbc.setState(0x8885, 0x24ac, 0x70e0, 0x90b3, 0x1cfe, 0xac9a, 0x0, 0x0);
        gbc.writeMem(0x8885, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x24ac);
        EXPECT(gbc.pc(), 0x8886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8885), 0xa0);
        // A0 0225
        gbc.setState(0x9986, 0x32ba, 0xd340, 0xadfa, 0x9676, 0x14e0, 0x0, 0x1);
        gbc.writeMem(0x9986, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x32ba);
        EXPECT(gbc.pc(), 0x9987);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9986), 0xa0);
        // A0 0226
        gbc.setState(0x993d, 0x8e44, 0xccf0, 0x2bd5, 0x841f, 0xee59, 0x0, 0x1);
        gbc.writeMem(0x993d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8e44);
        EXPECT(gbc.pc(), 0x993e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x993d), 0xa0);
        // A0 0227
        gbc.setState(0x535, 0x6a2, 0x4e60, 0x2fbf, 0x3c6d, 0x3fad, 0x1, 0x0);
        gbc.writeMem(0x535, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x6a2);
        EXPECT(gbc.pc(), 0x536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0228
        gbc.setState(0x17ba, 0xc85a, 0x720, 0x5266, 0xa9df, 0x74e2, 0x1, 0x0);
        gbc.writeMem(0x17ba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc85a);
        EXPECT(gbc.pc(), 0x17bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0229
        gbc.setState(0x5e9a, 0x372e, 0x3420, 0x52e6, 0x3dd0, 0x21c3, 0x0, 0x1);
        gbc.writeMem(0x5e9a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x372e);
        EXPECT(gbc.pc(), 0x5e9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 022A
        gbc.setState(0x21ce, 0x36c9, 0xd6d0, 0x33df, 0x422a, 0x4145, 0x1, 0x0);
        gbc.writeMem(0x21ce, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x36c9);
        EXPECT(gbc.pc(), 0x21cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 022B
        gbc.setState(0x69e5, 0x5b13, 0xc6e0, 0x3d9b, 0x687e, 0xd712, 0x0, 0x0);
        gbc.writeMem(0x69e5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5b13);
        EXPECT(gbc.pc(), 0x69e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 022C
        gbc.setState(0xe198, 0x429c, 0xe9c0, 0xfaa5, 0xbcd, 0x2858, 0x0, 0x1);
        gbc.writeMem(0xe198, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x429c);
        EXPECT(gbc.pc(), 0xe199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe198), 0xa0);
        // A0 022D
        gbc.setState(0x9386, 0x68f4, 0x6f60, 0x7bf7, 0xdeb, 0x3e5f, 0x0, 0x1);
        gbc.writeMem(0x9386, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x68f4);
        EXPECT(gbc.pc(), 0x9387);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9386), 0xa0);
        // A0 022F
        gbc.setState(0x2d08, 0x3ca3, 0x2680, 0xd1b6, 0x1386, 0xd243, 0x1, 0x1);
        gbc.writeMem(0x2d08, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3ca3);
        EXPECT(gbc.pc(), 0x2d09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0230
        gbc.setState(0x3e47, 0x933f, 0xdc20, 0x2caf, 0x5e28, 0xbac8, 0x0, 0x0);
        gbc.writeMem(0x3e47, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x933f);
        EXPECT(gbc.pc(), 0x3e48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0231
        gbc.setState(0x2dd, 0x8aba, 0xf450, 0x6022, 0xcd50, 0x6cb6, 0x0, 0x1);
        gbc.writeMem(0x2dd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x8aba);
        EXPECT(gbc.pc(), 0x2de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0232
        gbc.setState(0xc90c, 0x16e, 0xe970, 0xd030, 0x78b8, 0x8aad, 0x1, 0x0);
        gbc.writeMem(0xc90c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x16e);
        EXPECT(gbc.pc(), 0xc90d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc90c), 0xa0);
        // A0 0233
        gbc.setState(0x94c5, 0x535f, 0x2f10, 0x57ad, 0x145b, 0xdbd, 0x1, 0x1);
        gbc.writeMem(0x94c5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x535f);
        EXPECT(gbc.pc(), 0x94c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94c5), 0xa0);
        // A0 0234
        gbc.setState(0xfa, 0x9b27, 0x1590, 0x8cd7, 0x1e3a, 0x5d86, 0x1, 0x0);
        gbc.writeMem(0xfa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9b27);
        EXPECT(gbc.pc(), 0xfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0235
        gbc.setState(0xd192, 0xa46d, 0x8a90, 0xd13d, 0x82dd, 0xe0ef, 0x0, 0x1);
        gbc.writeMem(0xd192, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa46d);
        EXPECT(gbc.pc(), 0xd193);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd192), 0xa0);
        // A0 0236
        gbc.setState(0x3841, 0xca42, 0x1df0, 0x812e, 0x44ff, 0x298d, 0x0, 0x1);
        gbc.writeMem(0x3841, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xca42);
        EXPECT(gbc.pc(), 0x3842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0237
        gbc.setState(0x933c, 0x8269, 0x2100, 0xde0a, 0x4fe8, 0x51ac, 0x1, 0x1);
        gbc.writeMem(0x933c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8269);
        EXPECT(gbc.pc(), 0x933d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933c), 0xa0);
        // A0 0238
        gbc.setState(0x28d7, 0x5593, 0xd400, 0x5778, 0x6a88, 0x6278, 0x0, 0x0);
        gbc.writeMem(0x28d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5593);
        EXPECT(gbc.pc(), 0x28d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0239
        gbc.setState(0xc7af, 0xe048, 0x18b0, 0xd929, 0xf127, 0xee79, 0x0, 0x1);
        gbc.writeMem(0xc7af, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xe048);
        EXPECT(gbc.pc(), 0xc7b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7af), 0xa0);
        // A0 023A
        gbc.setState(0x31d7, 0x164f, 0x2c50, 0xdf92, 0xed8a, 0xc2b, 0x1, 0x0);
        gbc.writeMem(0x31d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x164f);
        EXPECT(gbc.pc(), 0x31d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 023B
        gbc.setState(0xbbe4, 0x32cc, 0x28d0, 0xa8d1, 0x76cd, 0x9f86, 0x0, 0x1);
        gbc.writeMem(0xbbe4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x32cc);
        EXPECT(gbc.pc(), 0xbbe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe4), 0xa0);
        // A0 023C
        gbc.setState(0xcd8, 0xc26c, 0x8d20, 0x1c11, 0xf321, 0x7525, 0x0, 0x1);
        gbc.writeMem(0xcd8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc26c);
        EXPECT(gbc.pc(), 0xcd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 023D
        gbc.setState(0x8f38, 0x6c88, 0xaf20, 0x72e5, 0x780e, 0x4e35, 0x0, 0x1);
        gbc.writeMem(0x8f38, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6c88);
        EXPECT(gbc.pc(), 0x8f39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f38), 0xa0);
        // A0 023E
        gbc.setState(0x18b2, 0x5df9, 0x9fa0, 0x1d07, 0x99eb, 0xe864, 0x1, 0x0);
        gbc.writeMem(0x18b2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5df9);
        EXPECT(gbc.pc(), 0x18b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 023F
        gbc.setState(0x9553, 0x96f7, 0x59a0, 0xa61a, 0xd237, 0xfde, 0x0, 0x1);
        gbc.writeMem(0x9553, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x96f7);
        EXPECT(gbc.pc(), 0x9554);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9553), 0xa0);
        // A0 0240
        gbc.setState(0x3393, 0x7bff, 0x2c80, 0x11aa, 0x28ae, 0x3db6, 0x0, 0x1);
        gbc.writeMem(0x3393, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x7bff);
        EXPECT(gbc.pc(), 0x3394);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0241
        gbc.setState(0xa4c4, 0x9f56, 0x8fe0, 0x55e0, 0x139f, 0x27b6, 0x1, 0x0);
        gbc.writeMem(0xa4c4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9f56);
        EXPECT(gbc.pc(), 0xa4c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4c4), 0xa0);
        // A0 0242
        gbc.setState(0x4823, 0x798b, 0x6410, 0xfff3, 0xf6e2, 0x568c, 0x1, 0x0);
        gbc.writeMem(0x4823, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x798b);
        EXPECT(gbc.pc(), 0x4824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0243
        gbc.setState(0x2a64, 0x9fec, 0xf410, 0xc870, 0xf522, 0x5c84, 0x1, 0x1);
        gbc.writeMem(0x2a64, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9fec);
        EXPECT(gbc.pc(), 0x2a65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0244
        gbc.setState(0x994e, 0x14f8, 0x28f0, 0x7312, 0xef7, 0x3f25, 0x1, 0x1);
        gbc.writeMem(0x994e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x14f8);
        EXPECT(gbc.pc(), 0x994f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x994e), 0xa0);
        // A0 0245
        gbc.setState(0x1bd6, 0x5040, 0x3e50, 0x53c0, 0x8cfc, 0x1260, 0x0, 0x0);
        gbc.writeMem(0x1bd6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x5040);
        EXPECT(gbc.pc(), 0x1bd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0247
        gbc.setState(0xb6b5, 0xdae2, 0xcbf0, 0xcae1, 0x7e1c, 0xd420, 0x1, 0x1);
        gbc.writeMem(0xb6b5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xdae2);
        EXPECT(gbc.pc(), 0xb6b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6b5), 0xa0);
        // A0 0248
        gbc.setState(0xcc24, 0xbaa9, 0xce00, 0x99ad, 0x7089, 0xb630, 0x1, 0x1);
        gbc.writeMem(0xcc24, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xbaa9);
        EXPECT(gbc.pc(), 0xcc25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc24), 0xa0);
        // A0 0249
        gbc.setState(0xe8a7, 0x1f1b, 0xc660, 0xd673, 0x670a, 0x93f0, 0x1, 0x0);
        gbc.writeMem(0xe8a7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x1f1b);
        EXPECT(gbc.pc(), 0xe8a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8a7), 0xa0);
        // A0 024A
        gbc.setState(0x1e87, 0x7f1, 0x6c20, 0x8c55, 0xe992, 0xe304, 0x1, 0x1);
        gbc.writeMem(0x1e87, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7f1);
        EXPECT(gbc.pc(), 0x1e88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 024B
        gbc.setState(0x4982, 0x1c45, 0x210, 0xdad6, 0x511, 0x84d7, 0x0, 0x0);
        gbc.writeMem(0x4982, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1c45);
        EXPECT(gbc.pc(), 0x4983);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 024C
        gbc.setState(0xba27, 0x81e0, 0x8e60, 0xa52c, 0x6cde, 0xacda, 0x1, 0x1);
        gbc.writeMem(0xba27, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x81e0);
        EXPECT(gbc.pc(), 0xba28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba27), 0xa0);
        // A0 024D
        gbc.setState(0x6893, 0x6c86, 0x5c00, 0xb750, 0x3798, 0x6ee9, 0x0, 0x1);
        gbc.writeMem(0x6893, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6c86);
        EXPECT(gbc.pc(), 0x6894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 024E
        gbc.setState(0x4be5, 0x5890, 0x2a60, 0x7470, 0x4cf4, 0x5064, 0x0, 0x1);
        gbc.writeMem(0x4be5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5890);
        EXPECT(gbc.pc(), 0x4be6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 024F
        gbc.setState(0xde5f, 0x2385, 0xb420, 0xf4eb, 0xccda, 0xe6a8, 0x1, 0x1);
        gbc.writeMem(0xde5f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2385);
        EXPECT(gbc.pc(), 0xde60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde5f), 0xa0);
        // A0 0250
        gbc.setState(0x4b20, 0x598e, 0xe7d0, 0xfa9e, 0xcba4, 0xe517, 0x1, 0x1);
        gbc.writeMem(0x4b20, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x598e);
        EXPECT(gbc.pc(), 0x4b21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0252
        gbc.setState(0x3252, 0xf99b, 0x1720, 0x5692, 0xcefa, 0x82c6, 0x1, 0x1);
        gbc.writeMem(0x3252, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf99b);
        EXPECT(gbc.pc(), 0x3253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0253
        gbc.setState(0x4559, 0x55fd, 0x1350, 0xb333, 0xf2f1, 0x5b17, 0x0, 0x1);
        gbc.writeMem(0x4559, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x55fd);
        EXPECT(gbc.pc(), 0x455a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0254
        gbc.setState(0x137e, 0x248e, 0x75c0, 0x7e4, 0x4f03, 0x589e, 0x1, 0x0);
        gbc.writeMem(0x137e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x248e);
        EXPECT(gbc.pc(), 0x137f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0255
        gbc.setState(0x6257, 0xb293, 0xb8f0, 0xa7c8, 0x1113, 0x5d79, 0x0, 0x0);
        gbc.writeMem(0x6257, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb293);
        EXPECT(gbc.pc(), 0x6258);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0256
        gbc.setState(0xa931, 0xe0ca, 0x7000, 0xdd82, 0x30b8, 0x5de3, 0x0, 0x0);
        gbc.writeMem(0xa931, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe0ca);
        EXPECT(gbc.pc(), 0xa932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa931), 0xa0);
        // A0 0257
        gbc.setState(0x603d, 0x1822, 0x86d0, 0xae21, 0x11f3, 0x3ff2, 0x0, 0x0);
        gbc.writeMem(0x603d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x1822);
        EXPECT(gbc.pc(), 0x603e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0258
        gbc.setState(0x3a11, 0xc28b, 0x45a0, 0x57b5, 0xd69f, 0x4ee9, 0x0, 0x0);
        gbc.writeMem(0x3a11, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xc28b);
        EXPECT(gbc.pc(), 0x3a12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0259
        gbc.setState(0xcead, 0x684d, 0x68b0, 0x571c, 0xd54a, 0x775f, 0x1, 0x0);
        gbc.writeMem(0xcead, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x684d);
        EXPECT(gbc.pc(), 0xceae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcead), 0xa0);
        // A0 025A
        gbc.setState(0x8463, 0x3524, 0x9fe0, 0x2dd9, 0x3937, 0xd126, 0x1, 0x0);
        gbc.writeMem(0x8463, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x3524);
        EXPECT(gbc.pc(), 0x8464);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8463), 0xa0);
        // A0 025B
        gbc.setState(0xb2c8, 0xb4f3, 0x4cf0, 0x7936, 0x5a43, 0x94b2, 0x0, 0x0);
        gbc.writeMem(0xb2c8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb4f3);
        EXPECT(gbc.pc(), 0xb2c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c8), 0xa0);
        // A0 025C
        gbc.setState(0x2ba3, 0xdfec, 0x7400, 0xb413, 0x9eb4, 0x99b4, 0x1, 0x1);
        gbc.writeMem(0x2ba3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xdfec);
        EXPECT(gbc.pc(), 0x2ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 025D
        gbc.setState(0xe71c, 0x908f, 0x5ac0, 0xf701, 0xfe8, 0xe7f0, 0x1, 0x1);
        gbc.writeMem(0xe71c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x908f);
        EXPECT(gbc.pc(), 0xe71d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe71c), 0xa0);
        // A0 025E
        gbc.setState(0xa3e4, 0x423f, 0x1580, 0x1396, 0x50f7, 0x4da9, 0x1, 0x1);
        gbc.writeMem(0xa3e4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x423f);
        EXPECT(gbc.pc(), 0xa3e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3e4), 0xa0);
        // A0 025F
        gbc.setState(0x6fd9, 0x642f, 0xa690, 0x21c5, 0xd14c, 0xe0e5, 0x1, 0x1);
        gbc.writeMem(0x6fd9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x642f);
        EXPECT(gbc.pc(), 0x6fda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0260
        gbc.setState(0x9764, 0x4ff8, 0xcac0, 0xd16f, 0xcb6c, 0x9e87, 0x0, 0x0);
        gbc.writeMem(0x9764, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x4ff8);
        EXPECT(gbc.pc(), 0x9765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9764), 0xa0);
        // A0 0261
        gbc.setState(0xa3b2, 0xaf2b, 0x90b0, 0xa9e7, 0xbe24, 0xffde, 0x0, 0x0);
        gbc.writeMem(0xa3b2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xaf2b);
        EXPECT(gbc.pc(), 0xa3b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b2), 0xa0);
        // A0 0262
        gbc.setState(0x37d2, 0xda4f, 0x2000, 0x8bd8, 0x7876, 0xd801, 0x1, 0x1);
        gbc.writeMem(0x37d2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xda4f);
        EXPECT(gbc.pc(), 0x37d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0263
        gbc.setState(0x8c2c, 0x28fa, 0xe490, 0xd59a, 0xbd9b, 0x3c4d, 0x0, 0x1);
        gbc.writeMem(0x8c2c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x28fa);
        EXPECT(gbc.pc(), 0x8c2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c2c), 0xa0);
        // A0 0265
        gbc.setState(0x8350, 0xbcfb, 0xa9d0, 0xa24e, 0x2562, 0x409f, 0x0, 0x0);
        gbc.writeMem(0x8350, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xbcfb);
        EXPECT(gbc.pc(), 0x8351);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8350), 0xa0);
        // A0 0266
        gbc.setState(0x5471, 0x6343, 0x6360, 0x9a0d, 0x6d7a, 0x2d9e, 0x1, 0x1);
        gbc.writeMem(0x5471, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6343);
        EXPECT(gbc.pc(), 0x5472);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0267
        gbc.setState(0x369d, 0xa1f6, 0x4f50, 0x3b92, 0xf408, 0xe3b9, 0x1, 0x1);
        gbc.writeMem(0x369d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa1f6);
        EXPECT(gbc.pc(), 0x369e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0268
        gbc.setState(0x95a4, 0x223a, 0x7870, 0x6b9b, 0x3c51, 0xc2ec, 0x1, 0x0);
        gbc.writeMem(0x95a4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x223a);
        EXPECT(gbc.pc(), 0x95a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a4), 0xa0);
        // A0 0269
        gbc.setState(0x6a21, 0x8108, 0x3220, 0x8d42, 0x17c1, 0x2a58, 0x1, 0x1);
        gbc.writeMem(0x6a21, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8108);
        EXPECT(gbc.pc(), 0x6a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 026B
        gbc.setState(0xcda4, 0xc806, 0x87c0, 0x60d6, 0xd5fc, 0xa9c1, 0x1, 0x1);
        gbc.writeMem(0xcda4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc806);
        EXPECT(gbc.pc(), 0xcda5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcda4), 0xa0);
        // A0 026C
        gbc.setState(0x3a60, 0xee0c, 0xdfe0, 0x6868, 0x6d80, 0x4433, 0x1, 0x0);
        gbc.writeMem(0x3a60, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xee0c);
        EXPECT(gbc.pc(), 0x3a61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 026D
        gbc.setState(0x5606, 0x21bb, 0x9790, 0xef77, 0xca2e, 0xae6a, 0x1, 0x0);
        gbc.writeMem(0x5606, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x21bb);
        EXPECT(gbc.pc(), 0x5607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 026E
        gbc.setState(0x2e35, 0x32d9, 0x3630, 0x7f50, 0x81a3, 0xd027, 0x0, 0x0);
        gbc.writeMem(0x2e35, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x32d9);
        EXPECT(gbc.pc(), 0x2e36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 026F
        gbc.setState(0x18d5, 0x4c83, 0x2cc0, 0x4bcf, 0xba65, 0xbc1f, 0x0, 0x0);
        gbc.writeMem(0x18d5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4c83);
        EXPECT(gbc.pc(), 0x18d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0270
        gbc.setState(0x9027, 0x9aff, 0xe610, 0xf665, 0x9e4d, 0x48ac, 0x0, 0x0);
        gbc.writeMem(0x9027, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9aff);
        EXPECT(gbc.pc(), 0x9028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9027), 0xa0);
        // A0 0271
        gbc.setState(0x7e56, 0xb0af, 0x8550, 0x4fcc, 0xdaa5, 0xa76f, 0x1, 0x0);
        gbc.writeMem(0x7e56, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb0af);
        EXPECT(gbc.pc(), 0x7e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0272
        gbc.setState(0xca17, 0xe172, 0x9990, 0x888e, 0x95b, 0x7bb2, 0x1, 0x1);
        gbc.writeMem(0xca17, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe172);
        EXPECT(gbc.pc(), 0xca18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca17), 0xa0);
        // A0 0273
        gbc.setState(0x74e0, 0x2726, 0x4010, 0xe341, 0x1c9c, 0xd75b, 0x0, 0x1);
        gbc.writeMem(0x74e0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2726);
        EXPECT(gbc.pc(), 0x74e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0274
        gbc.setState(0xba57, 0xf5e2, 0xd3b0, 0x8fb3, 0xead3, 0x8220, 0x0, 0x1);
        gbc.writeMem(0xba57, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf5e2);
        EXPECT(gbc.pc(), 0xba58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba57), 0xa0);
        // A0 0275
        gbc.setState(0xe908, 0x9234, 0xc3d0, 0xb8e9, 0x8826, 0xfd98, 0x1, 0x1);
        gbc.writeMem(0xe908, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9234);
        EXPECT(gbc.pc(), 0xe909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe908), 0xa0);
        // A0 0276
        gbc.setState(0x4012, 0xcb4b, 0x6040, 0x58c2, 0x89cc, 0x739, 0x0, 0x0);
        gbc.writeMem(0x4012, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xcb4b);
        EXPECT(gbc.pc(), 0x4013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0277
        gbc.setState(0x6cfe, 0x75f3, 0x39b0, 0xae18, 0xe0c2, 0xa75d, 0x1, 0x1);
        gbc.writeMem(0x6cfe, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x75f3);
        EXPECT(gbc.pc(), 0x6cff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0278
        gbc.setState(0x55a0, 0x4060, 0x5d0, 0x8eeb, 0x5f92, 0x7351, 0x0, 0x1);
        gbc.writeMem(0x55a0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4060);
        EXPECT(gbc.pc(), 0x55a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0279
        gbc.setState(0x9e07, 0xfa2d, 0xc200, 0x3e41, 0x38e5, 0xec6f, 0x1, 0x0);
        gbc.writeMem(0x9e07, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfa2d);
        EXPECT(gbc.pc(), 0x9e08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e07), 0xa0);
        // A0 027A
        gbc.setState(0xc8dd, 0x85b2, 0xe490, 0xefbc, 0xe1b9, 0x22b3, 0x0, 0x0);
        gbc.writeMem(0xc8dd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x85b2);
        EXPECT(gbc.pc(), 0xc8de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8dd), 0xa0);
        // A0 027C
        gbc.setState(0xc560, 0x183c, 0x4420, 0x4193, 0xaff0, 0x3d84, 0x0, 0x0);
        gbc.writeMem(0xc560, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x183c);
        EXPECT(gbc.pc(), 0xc561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc560), 0xa0);
        // A0 027D
        gbc.setState(0xb43c, 0x6b83, 0x7c50, 0x8fec, 0x7a2d, 0x25, 0x0, 0x1);
        gbc.writeMem(0xb43c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6b83);
        EXPECT(gbc.pc(), 0xb43d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb43c), 0xa0);
        // A0 027E
        gbc.setState(0x834a, 0x4726, 0x53e0, 0xc40d, 0x35ad, 0xd427, 0x0, 0x1);
        gbc.writeMem(0x834a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4726);
        EXPECT(gbc.pc(), 0x834b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x834a), 0xa0);
        // A0 027F
        gbc.setState(0x821d, 0x1da7, 0x47f0, 0xd8e6, 0x3e8f, 0xdf0c, 0x1, 0x1);
        gbc.writeMem(0x821d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1da7);
        EXPECT(gbc.pc(), 0x821e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x821d), 0xa0);
        // A0 0280
        gbc.setState(0xaccb, 0x8def, 0x3e90, 0xccf, 0x38d5, 0xaab4, 0x1, 0x1);
        gbc.writeMem(0xaccb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8def);
        EXPECT(gbc.pc(), 0xaccc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaccb), 0xa0);
        // A0 0281
        gbc.setState(0x812d, 0xb79d, 0x6910, 0x224, 0x787f, 0xb5b0, 0x0, 0x0);
        gbc.writeMem(0x812d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb79d);
        EXPECT(gbc.pc(), 0x812e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x812d), 0xa0);
        // A0 0282
        gbc.setState(0x15d7, 0x94e7, 0x4c20, 0x88be, 0x58e8, 0xdc1f, 0x1, 0x1);
        gbc.writeMem(0x15d7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x94e7);
        EXPECT(gbc.pc(), 0x15d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0283
        gbc.setState(0x459f, 0xda78, 0x9720, 0xc1c3, 0x5ac9, 0xa119, 0x0, 0x0);
        gbc.writeMem(0x459f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xda78);
        EXPECT(gbc.pc(), 0x45a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0284
        gbc.setState(0xb95c, 0x445c, 0xfbf0, 0x7d54, 0xf645, 0xad40, 0x1, 0x1);
        gbc.writeMem(0xb95c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x445c);
        EXPECT(gbc.pc(), 0xb95d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb95c), 0xa0);
        // A0 0285
        gbc.setState(0x3303, 0xb14b, 0xd3d0, 0x4ac9, 0x8a54, 0x9513, 0x1, 0x1);
        gbc.writeMem(0x3303, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xb14b);
        EXPECT(gbc.pc(), 0x3304);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0286
        gbc.setState(0x73a4, 0x311d, 0x1f10, 0x28b2, 0x188c, 0x2bd1, 0x1, 0x1);
        gbc.writeMem(0x73a4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x311d);
        EXPECT(gbc.pc(), 0x73a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0287
        gbc.setState(0x4c32, 0x1380, 0xbc90, 0x72cf, 0x6ec, 0xec48, 0x1, 0x1);
        gbc.writeMem(0x4c32, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1380);
        EXPECT(gbc.pc(), 0x4c33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0288
        gbc.setState(0x95be, 0x23ea, 0x7910, 0x1cc2, 0xccb5, 0x6826, 0x0, 0x1);
        gbc.writeMem(0x95be, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x23ea);
        EXPECT(gbc.pc(), 0x95bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95be), 0xa0);
        // A0 0289
        gbc.setState(0xd099, 0x8bce, 0xb030, 0x9075, 0x1b0c, 0x9ed, 0x0, 0x1);
        gbc.writeMem(0xd099, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x8bce);
        EXPECT(gbc.pc(), 0xd09a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd099), 0xa0);
        // A0 028A
        gbc.setState(0x238e, 0x1bbb, 0x7540, 0xcd9b, 0xf516, 0x9af5, 0x0, 0x1);
        gbc.writeMem(0x238e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x1bbb);
        EXPECT(gbc.pc(), 0x238f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 028B
        gbc.setState(0x195c, 0x19ef, 0x2f60, 0x20a, 0xb66, 0x3de0, 0x1, 0x0);
        gbc.writeMem(0x195c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x19ef);
        EXPECT(gbc.pc(), 0x195d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 028C
        gbc.setState(0x8d57, 0xd763, 0x7470, 0xcedd, 0x1411, 0xf6ca, 0x0, 0x0);
        gbc.writeMem(0x8d57, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd763);
        EXPECT(gbc.pc(), 0x8d58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d57), 0xa0);
        // A0 028D
        gbc.setState(0xc9e3, 0x5f9f, 0x8bc0, 0x1c50, 0x952e, 0x6606, 0x1, 0x1);
        gbc.writeMem(0xc9e3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5f9f);
        EXPECT(gbc.pc(), 0xc9e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9e3), 0xa0);
        // A0 028E
        gbc.setState(0x27db, 0x17bb, 0xbbd0, 0xf934, 0x4797, 0x6fd2, 0x1, 0x0);
        gbc.writeMem(0x27db, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x17bb);
        EXPECT(gbc.pc(), 0x27dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 028F
        gbc.setState(0xb11d, 0xb4fe, 0xfb40, 0x2ca4, 0xa10b, 0x94f6, 0x0, 0x1);
        gbc.writeMem(0xb11d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb4fe);
        EXPECT(gbc.pc(), 0xb11e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb11d), 0xa0);
        // A0 0291
        gbc.setState(0xa5cd, 0x85c0, 0xa330, 0xbda2, 0x45a2, 0xe05, 0x0, 0x1);
        gbc.writeMem(0xa5cd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x85c0);
        EXPECT(gbc.pc(), 0xa5ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5cd), 0xa0);
        // A0 0292
        gbc.setState(0xec02, 0xa017, 0x9dd0, 0x787b, 0x9646, 0xd01d, 0x1, 0x0);
        gbc.writeMem(0xec02, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa017);
        EXPECT(gbc.pc(), 0xec03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec02), 0xa0);
        // A0 0293
        gbc.setState(0x74c2, 0xd00a, 0x8540, 0x3e15, 0xaf41, 0xbc4d, 0x0, 0x0);
        gbc.writeMem(0x74c2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xd00a);
        EXPECT(gbc.pc(), 0x74c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0294
        gbc.setState(0xbedd, 0xd5b1, 0x93c0, 0xa0e6, 0xbbb6, 0x3c9e, 0x0, 0x0);
        gbc.writeMem(0xbedd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd5b1);
        EXPECT(gbc.pc(), 0xbede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbedd), 0xa0);
        // A0 0295
        gbc.setState(0x3fa7, 0xd0e7, 0x8fb0, 0x4de8, 0xe147, 0x85ff, 0x1, 0x0);
        gbc.writeMem(0x3fa7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd0e7);
        EXPECT(gbc.pc(), 0x3fa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0296
        gbc.setState(0x7dbe, 0x64de, 0xfa50, 0xd88c, 0xc70f, 0xfd10, 0x1, 0x1);
        gbc.writeMem(0x7dbe, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x64de);
        EXPECT(gbc.pc(), 0x7dbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0297
        gbc.setState(0xe8c, 0xa26f, 0x42d0, 0x2ca9, 0x2c9e, 0xffb8, 0x1, 0x0);
        gbc.writeMem(0xe8c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa26f);
        EXPECT(gbc.pc(), 0xe8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0298
        gbc.setState(0xa6b, 0x9d74, 0xa9f0, 0x328a, 0xfd53, 0x6eb2, 0x0, 0x0);
        gbc.writeMem(0xa6b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x9d74);
        EXPECT(gbc.pc(), 0xa6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0299
        gbc.setState(0xd1ee, 0x1bcf, 0xef00, 0x40e4, 0x7ad9, 0x5a28, 0x0, 0x0);
        gbc.writeMem(0xd1ee, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1bcf);
        EXPECT(gbc.pc(), 0xd1ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ee), 0xa0);
        // A0 029A
        gbc.setState(0x9066, 0xb2f3, 0x5a30, 0xb170, 0xbded, 0x48a, 0x1, 0x0);
        gbc.writeMem(0x9066, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xb2f3);
        EXPECT(gbc.pc(), 0x9067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9066), 0xa0);
        // A0 029B
        gbc.setState(0xb07, 0x42d4, 0x2640, 0x96e, 0xba03, 0x9a61, 0x0, 0x0);
        gbc.writeMem(0xb07, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x42d4);
        EXPECT(gbc.pc(), 0xb08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 029C
        gbc.setState(0x61ec, 0x5a63, 0x7e00, 0x6457, 0xdcaa, 0xfc8e, 0x1, 0x1);
        gbc.writeMem(0x61ec, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5a63);
        EXPECT(gbc.pc(), 0x61ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 029D
        gbc.setState(0x8b3b, 0xedf4, 0xb0c0, 0x15ed, 0x2b69, 0x3bd9, 0x1, 0x0);
        gbc.writeMem(0x8b3b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xedf4);
        EXPECT(gbc.pc(), 0x8b3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b3b), 0xa0);
        // A0 029E
        gbc.setState(0x8132, 0xe7b, 0x5920, 0xc6df, 0xf19d, 0x62de, 0x0, 0x0);
        gbc.writeMem(0x8132, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe7b);
        EXPECT(gbc.pc(), 0x8133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8132), 0xa0);
        // A0 029F
        gbc.setState(0x63b6, 0x4c20, 0xbde0, 0x9c65, 0x3a49, 0xc5d2, 0x1, 0x1);
        gbc.writeMem(0x63b6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4c20);
        EXPECT(gbc.pc(), 0x63b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A0
        gbc.setState(0x21b3, 0xb0ed, 0x9be0, 0x9209, 0xd6ac, 0x3072, 0x1, 0x1);
        gbc.writeMem(0x21b3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xb0ed);
        EXPECT(gbc.pc(), 0x21b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A1
        gbc.setState(0x6648, 0x4f4c, 0x2730, 0xab2b, 0x5ec8, 0x1ad8, 0x1, 0x0);
        gbc.writeMem(0x6648, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4f4c);
        EXPECT(gbc.pc(), 0x6649);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A2
        gbc.setState(0x7740, 0x4a77, 0xe2c0, 0x38, 0x49bb, 0xaa07, 0x1, 0x0);
        gbc.writeMem(0x7740, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4a77);
        EXPECT(gbc.pc(), 0x7741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A3
        gbc.setState(0x81ff, 0xfc32, 0x43f0, 0x6859, 0x2313, 0xfc22, 0x1, 0x0);
        gbc.writeMem(0x81ff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xfc32);
        EXPECT(gbc.pc(), 0x8200);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ff), 0xa0);
        // A0 02A4
        gbc.setState(0xe6f8, 0xdc70, 0x9780, 0x4cf9, 0x4c18, 0xb0ca, 0x1, 0x0);
        gbc.writeMem(0xe6f8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdc70);
        EXPECT(gbc.pc(), 0xe6f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f8), 0xa0);
        // A0 02A5
        gbc.setState(0x19c4, 0x442b, 0x49d0, 0x2f32, 0x8fa4, 0xa1bc, 0x1, 0x0);
        gbc.writeMem(0x19c4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x442b);
        EXPECT(gbc.pc(), 0x19c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A6
        gbc.setState(0xbe1e, 0x36fc, 0xe9f0, 0x9f2f, 0xfb6d, 0xab1, 0x1, 0x1);
        gbc.writeMem(0xbe1e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x36fc);
        EXPECT(gbc.pc(), 0xbe1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe1e), 0xa0);
        // A0 02A7
        gbc.setState(0xcdc, 0x398b, 0x9200, 0x5c06, 0x19ce, 0xe057, 0x1, 0x0);
        gbc.writeMem(0xcdc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x398b);
        EXPECT(gbc.pc(), 0xcdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A8
        gbc.setState(0x1190, 0xbd3f, 0xa9c0, 0x3c55, 0xe9b5, 0xcfc4, 0x0, 0x0);
        gbc.writeMem(0x1190, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbd3f);
        EXPECT(gbc.pc(), 0x1191);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02A9
        gbc.setState(0xa08f, 0xbf27, 0x7070, 0x3963, 0x8a59, 0x8cf6, 0x0, 0x0);
        gbc.writeMem(0xa08f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xbf27);
        EXPECT(gbc.pc(), 0xa090);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa08f), 0xa0);
        // A0 02AA
        gbc.setState(0x953, 0x2984, 0x2440, 0x5f68, 0x6c6e, 0xa263, 0x0, 0x0);
        gbc.writeMem(0x953, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2984);
        EXPECT(gbc.pc(), 0x954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02AB
        gbc.setState(0xc742, 0x5b56, 0xbc90, 0xd62a, 0xba3a, 0xf294, 0x0, 0x1);
        gbc.writeMem(0xc742, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5b56);
        EXPECT(gbc.pc(), 0xc743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc742), 0xa0);
        // A0 02AC
        gbc.setState(0xaa5, 0x6a61, 0xa6c0, 0x346a, 0x1b83, 0xf1d2, 0x1, 0x1);
        gbc.writeMem(0xaa5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6a61);
        EXPECT(gbc.pc(), 0xaa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02AD
        gbc.setState(0xa901, 0xc219, 0xfe90, 0x8286, 0xd796, 0x39f2, 0x1, 0x1);
        gbc.writeMem(0xa901, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc219);
        EXPECT(gbc.pc(), 0xa902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa901), 0xa0);
        // A0 02AF
        gbc.setState(0x2f87, 0x259b, 0x84d0, 0xe993, 0xb617, 0x4dad, 0x0, 0x1);
        gbc.writeMem(0x2f87, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x259b);
        EXPECT(gbc.pc(), 0x2f88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02B0
        gbc.setState(0xce82, 0xd67b, 0xe980, 0x8eba, 0x7607, 0xf6f2, 0x0, 0x0);
        gbc.writeMem(0xce82, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd67b);
        EXPECT(gbc.pc(), 0xce83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce82), 0xa0);
        // A0 02B2
        gbc.setState(0x7337, 0xbd98, 0xb7d0, 0xe04b, 0x259f, 0x646e, 0x0, 0x0);
        gbc.writeMem(0x7337, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xbd98);
        EXPECT(gbc.pc(), 0x7338);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02B3
        gbc.setState(0x7af5, 0x2b91, 0x5880, 0xd4ec, 0x82d2, 0x666b, 0x1, 0x0);
        gbc.writeMem(0x7af5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2b91);
        EXPECT(gbc.pc(), 0x7af6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02B4
        gbc.setState(0x5b98, 0x3d65, 0x2ce0, 0x66ab, 0x9fa2, 0x8e7f, 0x0, 0x0);
        gbc.writeMem(0x5b98, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3d65);
        EXPECT(gbc.pc(), 0x5b99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02B5
        gbc.setState(0x371d, 0x30dc, 0xccd0, 0x91f3, 0xfdc4, 0x47c4, 0x0, 0x1);
        gbc.writeMem(0x371d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x30dc);
        EXPECT(gbc.pc(), 0x371e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02B6
        gbc.setState(0xab55, 0xe3cc, 0xa9e0, 0x3e07, 0x5dcd, 0x645b, 0x0, 0x1);
        gbc.writeMem(0xab55, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe3cc);
        EXPECT(gbc.pc(), 0xab56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab55), 0xa0);
        // A0 02B7
        gbc.setState(0xd90c, 0xbbcd, 0x1770, 0x824e, 0xe4fb, 0x7689, 0x0, 0x1);
        gbc.writeMem(0xd90c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xbbcd);
        EXPECT(gbc.pc(), 0xd90d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd90c), 0xa0);
        // A0 02B8
        gbc.setState(0xaa6d, 0xf554, 0x3b70, 0x4c7d, 0xdf2a, 0xaf5a, 0x0, 0x1);
        gbc.writeMem(0xaa6d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf554);
        EXPECT(gbc.pc(), 0xaa6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa6d), 0xa0);
        // A0 02B9
        gbc.setState(0x6f55, 0xcd73, 0xa8d0, 0xb849, 0x1bd1, 0xff58, 0x1, 0x0);
        gbc.writeMem(0x6f55, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xcd73);
        EXPECT(gbc.pc(), 0x6f56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02BA
        gbc.setState(0xad12, 0x2cb3, 0x2eb0, 0xe5ba, 0xbf8f, 0x4a87, 0x1, 0x1);
        gbc.writeMem(0xad12, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2cb3);
        EXPECT(gbc.pc(), 0xad13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad12), 0xa0);
        // A0 02BB
        gbc.setState(0xe21d, 0xfd3e, 0x1f30, 0x6934, 0x4e4e, 0xbf69, 0x1, 0x0);
        gbc.writeMem(0xe21d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xfd3e);
        EXPECT(gbc.pc(), 0xe21e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe21d), 0xa0);
        // A0 02BC
        gbc.setState(0x1de1, 0xc541, 0x1e90, 0x4d6, 0x706b, 0xfac5, 0x0, 0x1);
        gbc.writeMem(0x1de1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc541);
        EXPECT(gbc.pc(), 0x1de2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02BD
        gbc.setState(0xdaa0, 0x7106, 0xe060, 0xdb24, 0xd294, 0x57bf, 0x1, 0x1);
        gbc.writeMem(0xdaa0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x7106);
        EXPECT(gbc.pc(), 0xdaa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaa0), 0xa0);
        // A0 02BE
        gbc.setState(0x8ec6, 0x3eaf, 0x8e60, 0xf9f1, 0x9a22, 0x7e79, 0x1, 0x0);
        gbc.writeMem(0x8ec6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3eaf);
        EXPECT(gbc.pc(), 0x8ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ec6), 0xa0);
        // A0 02BF
        gbc.setState(0x972c, 0x8f41, 0xf110, 0xc35a, 0x8b25, 0x5fe9, 0x0, 0x1);
        gbc.writeMem(0x972c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8f41);
        EXPECT(gbc.pc(), 0x972d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972c), 0xa0);
        // A0 02C0
        gbc.setState(0xdd0c, 0xca98, 0x4ff0, 0xfa0a, 0x4d78, 0xc6ed, 0x0, 0x0);
        gbc.writeMem(0xdd0c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xca98);
        EXPECT(gbc.pc(), 0xdd0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd0c), 0xa0);
        // A0 02C1
        gbc.setState(0x3dfa, 0xf73f, 0x8be0, 0x29db, 0xa511, 0xec53, 0x1, 0x0);
        gbc.writeMem(0x3dfa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xf73f);
        EXPECT(gbc.pc(), 0x3dfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C2
        gbc.setState(0x26bb, 0xde4e, 0xc8f0, 0xb0f1, 0x4ce2, 0x5240, 0x0, 0x1);
        gbc.writeMem(0x26bb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xde4e);
        EXPECT(gbc.pc(), 0x26bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C3
        gbc.setState(0x8500, 0xb797, 0xab0, 0x8d9a, 0x804e, 0xa4c9, 0x1, 0x1);
        gbc.writeMem(0x8500, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb797);
        EXPECT(gbc.pc(), 0x8501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8500), 0xa0);
        // A0 02C4
        gbc.setState(0x2793, 0x83c8, 0xe120, 0x5b7e, 0xb71d, 0xf7c, 0x1, 0x1);
        gbc.writeMem(0x2793, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x83c8);
        EXPECT(gbc.pc(), 0x2794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C5
        gbc.setState(0x301b, 0x5150, 0x66f0, 0x19c7, 0x7e56, 0x3814, 0x1, 0x0);
        gbc.writeMem(0x301b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5150);
        EXPECT(gbc.pc(), 0x301c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C6
        gbc.setState(0x7f23, 0x3bee, 0x2a90, 0x327, 0xd9f4, 0xd799, 0x0, 0x1);
        gbc.writeMem(0x7f23, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3bee);
        EXPECT(gbc.pc(), 0x7f24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C7
        gbc.setState(0x7827, 0x5d70, 0x8e50, 0x8df9, 0x7e8c, 0x8bc7, 0x1, 0x0);
        gbc.writeMem(0x7827, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5d70);
        EXPECT(gbc.pc(), 0x7828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C8
        gbc.setState(0x4747, 0x786c, 0x31b0, 0x1f10, 0xdddd, 0x3fdb, 0x1, 0x0);
        gbc.writeMem(0x4747, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x786c);
        EXPECT(gbc.pc(), 0x4748);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02C9
        gbc.setState(0xcafc, 0x8d1f, 0xb2f0, 0x450, 0xe273, 0x8025, 0x0, 0x1);
        gbc.writeMem(0xcafc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x8d1f);
        EXPECT(gbc.pc(), 0xcafd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcafc), 0xa0);
        // A0 02CA
        gbc.setState(0x6903, 0x32ed, 0xf2b0, 0x7ddc, 0xa2ce, 0xd2db, 0x0, 0x1);
        gbc.writeMem(0x6903, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x32ed);
        EXPECT(gbc.pc(), 0x6904);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02CB
        gbc.setState(0xcb5d, 0x812, 0xcbb0, 0x1af8, 0xd23b, 0x2570, 0x0, 0x0);
        gbc.writeMem(0xcb5d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x812);
        EXPECT(gbc.pc(), 0xcb5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb5d), 0xa0);
        // A0 02CC
        gbc.setState(0xbb4, 0x55e6, 0xb4c0, 0x7efd, 0xd912, 0xe0b0, 0x1, 0x1);
        gbc.writeMem(0xbb4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x55e6);
        EXPECT(gbc.pc(), 0xbb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02CD
        gbc.setState(0x2ecc, 0x77e1, 0x4820, 0xc6df, 0x968a, 0x2bcf, 0x1, 0x1);
        gbc.writeMem(0x2ecc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x77e1);
        EXPECT(gbc.pc(), 0x2ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02CE
        gbc.setState(0x5a75, 0x1e02, 0xa230, 0xea19, 0x78b9, 0x7d31, 0x0, 0x1);
        gbc.writeMem(0x5a75, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1e02);
        EXPECT(gbc.pc(), 0x5a76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02CF
        gbc.setState(0xc878, 0x25e7, 0xb410, 0xbaee, 0x1ae9, 0xd21e, 0x0, 0x1);
        gbc.writeMem(0xc878, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x25e7);
        EXPECT(gbc.pc(), 0xc879);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc878), 0xa0);
        // A0 02D0
        gbc.setState(0xa4cd, 0xaab, 0xbe40, 0x972a, 0x6ae5, 0x96b2, 0x0, 0x0);
        gbc.writeMem(0xa4cd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xaab);
        EXPECT(gbc.pc(), 0xa4ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4cd), 0xa0);
        // A0 02D1
        gbc.setState(0xc9ab, 0x6204, 0xa750, 0x24a9, 0x541d, 0x92bf, 0x0, 0x1);
        gbc.writeMem(0xc9ab, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x6204);
        EXPECT(gbc.pc(), 0xc9ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ab), 0xa0);
        // A0 02D2
        gbc.setState(0x8d23, 0x21c2, 0x9a10, 0x75cb, 0xf114, 0x70cf, 0x1, 0x1);
        gbc.writeMem(0x8d23, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x21c2);
        EXPECT(gbc.pc(), 0x8d24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d23), 0xa0);
        // A0 02D3
        gbc.setState(0xacfc, 0x5076, 0x2ac0, 0x8c51, 0xae59, 0x1434, 0x1, 0x0);
        gbc.writeMem(0xacfc, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5076);
        EXPECT(gbc.pc(), 0xacfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacfc), 0xa0);
        // A0 02D4
        gbc.setState(0x4928, 0x2e86, 0xb40, 0xe521, 0xb709, 0xbdd3, 0x0, 0x1);
        gbc.writeMem(0x4928, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2e86);
        EXPECT(gbc.pc(), 0x4929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02D5
        gbc.setState(0x5a63, 0x36d3, 0xf10, 0x1d8e, 0x59b, 0xc871, 0x0, 0x0);
        gbc.writeMem(0x5a63, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x36d3);
        EXPECT(gbc.pc(), 0x5a64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02D6
        gbc.setState(0xebf, 0x7914, 0xf570, 0x8414, 0xed30, 0x200, 0x1, 0x0);
        gbc.writeMem(0xebf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7914);
        EXPECT(gbc.pc(), 0xec0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02D7
        gbc.setState(0xd06c, 0x9cd1, 0xda30, 0x2541, 0x9ede, 0xb3ae, 0x1, 0x0);
        gbc.writeMem(0xd06c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x9cd1);
        EXPECT(gbc.pc(), 0xd06d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd06c), 0xa0);
        // A0 02D8
        gbc.setState(0x2364, 0x9273, 0xfc70, 0xf442, 0xb0a7, 0xa3b1, 0x0, 0x0);
        gbc.writeMem(0x2364, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9273);
        EXPECT(gbc.pc(), 0x2365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02D9
        gbc.setState(0x42be, 0xe963, 0xaa60, 0x775a, 0x9f0d, 0xfcfc, 0x1, 0x1);
        gbc.writeMem(0x42be, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe963);
        EXPECT(gbc.pc(), 0x42bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02DA
        gbc.setState(0x5786, 0x3a95, 0xfe00, 0x7d45, 0xeaac, 0xadfd, 0x1, 0x1);
        gbc.writeMem(0x5786, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3a95);
        EXPECT(gbc.pc(), 0x5787);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02DB
        gbc.setState(0x1017, 0x2587, 0xdab0, 0x9c19, 0x7d6d, 0xe1b9, 0x0, 0x0);
        gbc.writeMem(0x1017, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x2587);
        EXPECT(gbc.pc(), 0x1018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02DC
        gbc.setState(0xe32, 0xb896, 0x4100, 0xd3ad, 0x5e6d, 0xb324, 0x0, 0x0);
        gbc.writeMem(0xe32, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb896);
        EXPECT(gbc.pc(), 0xe33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02DD
        gbc.setState(0xef0d, 0xd020, 0x54e0, 0xd639, 0x926e, 0x132, 0x0, 0x1);
        gbc.writeMem(0xef0d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd020);
        EXPECT(gbc.pc(), 0xef0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef0d), 0xa0);
        // A0 02DE
        gbc.setState(0xa443, 0x7109, 0x39e0, 0x6ba6, 0x5603, 0x98e4, 0x0, 0x0);
        gbc.writeMem(0xa443, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7109);
        EXPECT(gbc.pc(), 0xa444);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa443), 0xa0);
        // A0 02DF
        gbc.setState(0x82e6, 0x97af, 0xdbc0, 0xf3f9, 0x6d48, 0xc16a, 0x0, 0x0);
        gbc.writeMem(0x82e6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x97af);
        EXPECT(gbc.pc(), 0x82e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82e6), 0xa0);
        // A0 02E0
        gbc.setState(0x2660, 0xf5e, 0xbd60, 0x5b05, 0xa1c3, 0x28bc, 0x0, 0x0);
        gbc.writeMem(0x2660, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf5e);
        EXPECT(gbc.pc(), 0x2661);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02E1
        gbc.setState(0x5d8b, 0x7718, 0x1240, 0xf4de, 0xa3d8, 0xe8da, 0x1, 0x0);
        gbc.writeMem(0x5d8b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x7718);
        EXPECT(gbc.pc(), 0x5d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02E2
        gbc.setState(0x5cde, 0xebc8, 0x7c70, 0xadec, 0x7068, 0x69ff, 0x0, 0x1);
        gbc.writeMem(0x5cde, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xebc8);
        EXPECT(gbc.pc(), 0x5cdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02E3
        gbc.setState(0x79f4, 0xa324, 0x3220, 0x196b, 0x9f4d, 0x1f19, 0x0, 0x0);
        gbc.writeMem(0x79f4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa324);
        EXPECT(gbc.pc(), 0x79f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02E4
        gbc.setState(0xe5d9, 0x5176, 0x8b20, 0x6146, 0x6512, 0x5d2e, 0x1, 0x1);
        gbc.writeMem(0xe5d9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5176);
        EXPECT(gbc.pc(), 0xe5da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d9), 0xa0);
        // A0 02E5
        gbc.setState(0xa4f4, 0xb613, 0x8330, 0xd37e, 0x5e6e, 0x27bd, 0x0, 0x0);
        gbc.writeMem(0xa4f4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb613);
        EXPECT(gbc.pc(), 0xa4f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f4), 0xa0);
        // A0 02E6
        gbc.setState(0xed25, 0x8fe4, 0xaf50, 0x1099, 0xc8a5, 0x9036, 0x0, 0x1);
        gbc.writeMem(0xed25, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8fe4);
        EXPECT(gbc.pc(), 0xed26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed25), 0xa0);
        // A0 02E7
        gbc.setState(0x440e, 0xedcd, 0xd6d0, 0x6297, 0x349c, 0xf1c5, 0x0, 0x0);
        gbc.writeMem(0x440e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xedcd);
        EXPECT(gbc.pc(), 0x440f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02E8
        gbc.setState(0x7950, 0x37cd, 0x4380, 0x9ae5, 0xd151, 0xbd60, 0x0, 0x0);
        gbc.writeMem(0x7950, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x37cd);
        EXPECT(gbc.pc(), 0x7951);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02E9
        gbc.setState(0x6857, 0xd810, 0x38d0, 0xc1a1, 0x4da1, 0x82b3, 0x0, 0x0);
        gbc.writeMem(0x6857, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd810);
        EXPECT(gbc.pc(), 0x6858);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02EA
        gbc.setState(0xa4a6, 0xf78b, 0x6d60, 0x63d3, 0x9c0b, 0x4103, 0x1, 0x0);
        gbc.writeMem(0xa4a6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf78b);
        EXPECT(gbc.pc(), 0xa4a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4a6), 0xa0);
        // A0 02EB
        gbc.setState(0xb315, 0x85d, 0x2520, 0x1f2e, 0x8c2, 0x4a90, 0x0, 0x1);
        gbc.writeMem(0xb315, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x85d);
        EXPECT(gbc.pc(), 0xb316);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb315), 0xa0);
        // A0 02EC
        gbc.setState(0xb077, 0xcb42, 0x42f0, 0x469a, 0x7f7c, 0x8676, 0x0, 0x0);
        gbc.writeMem(0xb077, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xcb42);
        EXPECT(gbc.pc(), 0xb078);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb077), 0xa0);
        // A0 02ED
        gbc.setState(0xa4e2, 0x34b7, 0x36a0, 0x50fa, 0xd6b8, 0x8db3, 0x0, 0x0);
        gbc.writeMem(0xa4e2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x34b7);
        EXPECT(gbc.pc(), 0xa4e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e2), 0xa0);
        // A0 02EE
        gbc.setState(0x5627, 0xcc3, 0x79d0, 0xb235, 0x3789, 0x5ea0, 0x0, 0x1);
        gbc.writeMem(0x5627, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcc3);
        EXPECT(gbc.pc(), 0x5628);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02EF
        gbc.setState(0xeea6, 0x786d, 0x3170, 0x9c5d, 0x3373, 0x23a5, 0x0, 0x1);
        gbc.writeMem(0xeea6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x786d);
        EXPECT(gbc.pc(), 0xeea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeea6), 0xa0);
        // A0 02F3
        gbc.setState(0xb5ff, 0x20d5, 0xae10, 0x2c4, 0x9bcc, 0x7eb7, 0x1, 0x1);
        gbc.writeMem(0xb5ff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x20d5);
        EXPECT(gbc.pc(), 0xb600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ff), 0xa0);
        // A0 02F4
        gbc.setState(0x3c9, 0x7348, 0x7580, 0xbcec, 0x6faa, 0x7679, 0x0, 0x0);
        gbc.writeMem(0x3c9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7348);
        EXPECT(gbc.pc(), 0x3ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02F5
        gbc.setState(0xbe43, 0x7a47, 0x6fb0, 0xcda3, 0x2d7d, 0x3bc2, 0x1, 0x0);
        gbc.writeMem(0xbe43, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7a47);
        EXPECT(gbc.pc(), 0xbe44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe43), 0xa0);
        // A0 02F6
        gbc.setState(0x5aba, 0xd624, 0x39e0, 0xe4c6, 0xf805, 0x399d, 0x1, 0x1);
        gbc.writeMem(0x5aba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd624);
        EXPECT(gbc.pc(), 0x5abb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02F7
        gbc.setState(0x6c84, 0xfda1, 0x8960, 0xfbcb, 0x818c, 0x20ab, 0x0, 0x0);
        gbc.writeMem(0x6c84, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xfda1);
        EXPECT(gbc.pc(), 0x6c85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02F8
        gbc.setState(0xd207, 0x4a47, 0x3e00, 0x2ac8, 0xe3f7, 0x14a7, 0x1, 0x0);
        gbc.writeMem(0xd207, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4a47);
        EXPECT(gbc.pc(), 0xd208);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd207), 0xa0);
        // A0 02F9
        gbc.setState(0xa247, 0x7d1a, 0x7270, 0x1072, 0x7a5d, 0xae28, 0x1, 0x0);
        gbc.writeMem(0xa247, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7d1a);
        EXPECT(gbc.pc(), 0xa248);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa247), 0xa0);
        // A0 02FA
        gbc.setState(0xb6f1, 0x4556, 0x9460, 0x4a4, 0xe5ee, 0xb617, 0x1, 0x0);
        gbc.writeMem(0xb6f1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4556);
        EXPECT(gbc.pc(), 0xb6f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6f1), 0xa0);
        // A0 02FB
        gbc.setState(0x669a, 0xd5b6, 0xa640, 0x534, 0x6289, 0x7c59, 0x1, 0x1);
        gbc.writeMem(0x669a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd5b6);
        EXPECT(gbc.pc(), 0x669b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 02FC
        gbc.setState(0xd39b, 0xa50f, 0x75e0, 0xc0fc, 0x7b9e, 0x76e7, 0x1, 0x1);
        gbc.writeMem(0xd39b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa50f);
        EXPECT(gbc.pc(), 0xd39c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd39b), 0xa0);
        // A0 02FD
        gbc.setState(0x8669, 0x906d, 0x6e40, 0xa43b, 0x3799, 0x780b, 0x1, 0x1);
        gbc.writeMem(0x8669, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x906d);
        EXPECT(gbc.pc(), 0x866a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8669), 0xa0);
        // A0 02FE
        gbc.setState(0xbc74, 0x2c7a, 0x6100, 0xb4dd, 0x51c5, 0xcc43, 0x0, 0x1);
        gbc.writeMem(0xbc74, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2c7a);
        EXPECT(gbc.pc(), 0xbc75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc74), 0xa0);
        // A0 02FF
        gbc.setState(0xe16e, 0x7eb7, 0xab00, 0xb8e8, 0xdb52, 0xc233, 0x0, 0x0);
        gbc.writeMem(0xe16e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7eb7);
        EXPECT(gbc.pc(), 0xe16f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16e), 0xa0);
        // A0 0300
        gbc.setState(0x4b32, 0xaa9f, 0x2500, 0x58db, 0xcfbf, 0x68a4, 0x1, 0x0);
        gbc.writeMem(0x4b32, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xaa9f);
        EXPECT(gbc.pc(), 0x4b33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0301
        gbc.setState(0x9fc0, 0x9719, 0x3500, 0xc0a2, 0x8f33, 0xabc2, 0x1, 0x1);
        gbc.writeMem(0x9fc0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9719);
        EXPECT(gbc.pc(), 0x9fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fc0), 0xa0);
        // A0 0302
        gbc.setState(0xcebb, 0x849e, 0x1700, 0xa7a3, 0x608d, 0x970d, 0x1, 0x1);
        gbc.writeMem(0xcebb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x849e);
        EXPECT(gbc.pc(), 0xcebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebb), 0xa0);
        // A0 0303
        gbc.setState(0xe914, 0x8da1, 0xa580, 0xc9c0, 0xf979, 0x423c, 0x0, 0x1);
        gbc.writeMem(0xe914, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8da1);
        EXPECT(gbc.pc(), 0xe915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe914), 0xa0);
        // A0 0304
        gbc.setState(0x8ec6, 0x8b24, 0x68a0, 0x6940, 0xb6f5, 0xa22e, 0x1, 0x0);
        gbc.writeMem(0x8ec6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8b24);
        EXPECT(gbc.pc(), 0x8ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ec6), 0xa0);
        // A0 0305
        gbc.setState(0xa7f3, 0x5cbd, 0x9790, 0xf4c, 0xa59b, 0x9fca, 0x1, 0x1);
        gbc.writeMem(0xa7f3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x5cbd);
        EXPECT(gbc.pc(), 0xa7f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7f3), 0xa0);
        // A0 0306
        gbc.setState(0x67e3, 0xa9f5, 0x70a0, 0xea55, 0x370, 0x38ce, 0x0, 0x1);
        gbc.writeMem(0x67e3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xa9f5);
        EXPECT(gbc.pc(), 0x67e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0307
        gbc.setState(0x5a2f, 0xe1c5, 0x4820, 0x8be3, 0xa40e, 0xf1db, 0x1, 0x1);
        gbc.writeMem(0x5a2f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xe1c5);
        EXPECT(gbc.pc(), 0x5a30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0308
        gbc.setState(0x8bf7, 0x25e3, 0x24d0, 0xd40d, 0xb7b2, 0x964c, 0x0, 0x0);
        gbc.writeMem(0x8bf7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x25e3);
        EXPECT(gbc.pc(), 0x8bf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bf7), 0xa0);
        // A0 0309
        gbc.setState(0xb33d, 0x9044, 0x4f20, 0xbed9, 0x161b, 0x4b2a, 0x0, 0x0);
        gbc.writeMem(0xb33d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x9044);
        EXPECT(gbc.pc(), 0xb33e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb33d), 0xa0);
        // A0 030A
        gbc.setState(0xc5bd, 0xfec6, 0x70e0, 0xd56, 0xe4c6, 0xb887, 0x1, 0x0);
        gbc.writeMem(0xc5bd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xfec6);
        EXPECT(gbc.pc(), 0xc5be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5bd), 0xa0);
        // A0 030B
        gbc.setState(0xdb21, 0x97f9, 0x6650, 0x2081, 0xc759, 0x74eb, 0x1, 0x0);
        gbc.writeMem(0xdb21, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x97f9);
        EXPECT(gbc.pc(), 0xdb22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb21), 0xa0);
        // A0 030C
        gbc.setState(0x3a2e, 0x9f0, 0xa7a0, 0xbb9a, 0xe609, 0x69db, 0x1, 0x0);
        gbc.writeMem(0x3a2e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x9f0);
        EXPECT(gbc.pc(), 0x3a2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 030D
        gbc.setState(0x4185, 0xc3b2, 0x83d0, 0xce1c, 0x16cf, 0x4f0f, 0x0, 0x1);
        gbc.writeMem(0x4185, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc3b2);
        EXPECT(gbc.pc(), 0x4186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 030E
        gbc.setState(0x20d9, 0xe1e5, 0x49e0, 0xc0f1, 0xbdb6, 0x50af, 0x0, 0x0);
        gbc.writeMem(0x20d9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe1e5);
        EXPECT(gbc.pc(), 0x20da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 030F
        gbc.setState(0xb83e, 0x5059, 0xcf00, 0xfa9b, 0xc74, 0xe763, 0x0, 0x0);
        gbc.writeMem(0xb83e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5059);
        EXPECT(gbc.pc(), 0xb83f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb83e), 0xa0);
        // A0 0310
        gbc.setState(0x7ee2, 0x895f, 0xd8a0, 0x4973, 0x5bf9, 0xf0d9, 0x0, 0x0);
        gbc.writeMem(0x7ee2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x895f);
        EXPECT(gbc.pc(), 0x7ee3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0311
        gbc.setState(0xb620, 0xf554, 0xe0e0, 0x7bc5, 0x87ee, 0x5ca3, 0x1, 0x1);
        gbc.writeMem(0xb620, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf554);
        EXPECT(gbc.pc(), 0xb621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb620), 0xa0);
        // A0 0312
        gbc.setState(0xafb5, 0xbb6d, 0x9260, 0x36a, 0xe17c, 0xd595, 0x0, 0x1);
        gbc.writeMem(0xafb5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbb6d);
        EXPECT(gbc.pc(), 0xafb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb5), 0xa0);
        // A0 0313
        gbc.setState(0xe10a, 0xcebe, 0xfa90, 0xd685, 0x98d, 0xf6d3, 0x0, 0x1);
        gbc.writeMem(0xe10a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xcebe);
        EXPECT(gbc.pc(), 0xe10b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe10a), 0xa0);
        // A0 0316
        gbc.setState(0x906d, 0xaac8, 0xe6f0, 0xdf9c, 0xc1cd, 0xfa28, 0x0, 0x0);
        gbc.writeMem(0x906d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xaac8);
        EXPECT(gbc.pc(), 0x906e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x906d), 0xa0);
        // A0 0318
        gbc.setState(0x3676, 0x5500, 0x4770, 0x8b61, 0x4eb, 0x3b44, 0x1, 0x0);
        gbc.writeMem(0x3676, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5500);
        EXPECT(gbc.pc(), 0x3677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 031A
        gbc.setState(0xcced, 0x9487, 0x4aa0, 0xcd0e, 0x7fa6, 0x7082, 0x0, 0x0);
        gbc.writeMem(0xcced, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9487);
        EXPECT(gbc.pc(), 0xccee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcced), 0xa0);
        // A0 031B
        gbc.setState(0xe51d, 0xe59f, 0x99a0, 0x5408, 0xc683, 0x9dc3, 0x1, 0x1);
        gbc.writeMem(0xe51d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xe59f);
        EXPECT(gbc.pc(), 0xe51e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe51d), 0xa0);
        // A0 031C
        gbc.setState(0x81f5, 0x80b7, 0x1720, 0x7f03, 0x27a1, 0x80f8, 0x1, 0x0);
        gbc.writeMem(0x81f5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x80b7);
        EXPECT(gbc.pc(), 0x81f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f5), 0xa0);
        // A0 031D
        gbc.setState(0xa30f, 0x17d8, 0xc3d0, 0x44a0, 0x1124, 0xab8e, 0x0, 0x1);
        gbc.writeMem(0xa30f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x17d8);
        EXPECT(gbc.pc(), 0xa310);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30f), 0xa0);
        // A0 031E
        gbc.setState(0x55d4, 0xed1e, 0x8fe0, 0xa34d, 0x9424, 0xb3e8, 0x0, 0x0);
        gbc.writeMem(0x55d4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xed1e);
        EXPECT(gbc.pc(), 0x55d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 031F
        gbc.setState(0xbc48, 0x8b4c, 0x3340, 0x9c29, 0x41c9, 0x5ab0, 0x0, 0x1);
        gbc.writeMem(0xbc48, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8b4c);
        EXPECT(gbc.pc(), 0xbc49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc48), 0xa0);
        // A0 0320
        gbc.setState(0x88a5, 0x49b1, 0x13b0, 0xf66b, 0x8f8e, 0x953b, 0x1, 0x0);
        gbc.writeMem(0x88a5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x49b1);
        EXPECT(gbc.pc(), 0x88a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a5), 0xa0);
        // A0 0321
        gbc.setState(0x3ffd, 0xc77f, 0xb4d0, 0xc5c2, 0xe89a, 0x1830, 0x0, 0x1);
        gbc.writeMem(0x3ffd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc77f);
        EXPECT(gbc.pc(), 0x3ffe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0322
        gbc.setState(0x13ed, 0xdef3, 0xfba0, 0x2be8, 0x14c9, 0xac9a, 0x0, 0x0);
        gbc.writeMem(0x13ed, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xdef3);
        EXPECT(gbc.pc(), 0x13ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0323
        gbc.setState(0x9e00, 0xbeff, 0x3640, 0x835d, 0x130e, 0x6920, 0x0, 0x0);
        gbc.writeMem(0x9e00, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xbeff);
        EXPECT(gbc.pc(), 0x9e01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e00), 0xa0);
        // A0 0324
        gbc.setState(0x2d44, 0x3950, 0x200, 0x2c7e, 0x1f07, 0xd5a0, 0x1, 0x0);
        gbc.writeMem(0x2d44, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3950);
        EXPECT(gbc.pc(), 0x2d45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0325
        gbc.setState(0x3a6c, 0x8c67, 0x2d10, 0x478b, 0x5c1c, 0xb69, 0x1, 0x1);
        gbc.writeMem(0x3a6c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x8c67);
        EXPECT(gbc.pc(), 0x3a6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0326
        gbc.setState(0x894e, 0x1bd6, 0xaae0, 0x180f, 0xacff, 0xc39c, 0x0, 0x1);
        gbc.writeMem(0x894e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x1bd6);
        EXPECT(gbc.pc(), 0x894f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x894e), 0xa0);
        // A0 0327
        gbc.setState(0xd3c1, 0x1984, 0x4c70, 0xf60e, 0xf915, 0x5ac3, 0x1, 0x1);
        gbc.writeMem(0xd3c1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1984);
        EXPECT(gbc.pc(), 0xd3c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c1), 0xa0);
        // A0 0328
        gbc.setState(0x1b13, 0xea7d, 0xba70, 0xd01f, 0x233, 0xc05c, 0x1, 0x0);
        gbc.writeMem(0x1b13, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xea7d);
        EXPECT(gbc.pc(), 0x1b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0329
        gbc.setState(0x8a77, 0x430f, 0xf4c0, 0x2c5e, 0xf7, 0xa4e, 0x0, 0x1);
        gbc.writeMem(0x8a77, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x430f);
        EXPECT(gbc.pc(), 0x8a78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a77), 0xa0);
        // A0 032A
        gbc.setState(0xc2aa, 0x2a36, 0x36d0, 0xdcf9, 0x625b, 0xbdfb, 0x0, 0x1);
        gbc.writeMem(0xc2aa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2a36);
        EXPECT(gbc.pc(), 0xc2ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2aa), 0xa0);
        // A0 032B
        gbc.setState(0x4eaf, 0xffc1, 0xcc30, 0x5933, 0xf4d2, 0x9b2, 0x0, 0x0);
        gbc.writeMem(0x4eaf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xffc1);
        EXPECT(gbc.pc(), 0x4eb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 032C
        gbc.setState(0x1476, 0xef32, 0x7ea0, 0x96bc, 0x60ff, 0x6fa1, 0x1, 0x1);
        gbc.writeMem(0x1476, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xef32);
        EXPECT(gbc.pc(), 0x1477);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 032E
        gbc.setState(0x8d87, 0x46b4, 0x8e20, 0x735, 0xc510, 0xe5c1, 0x1, 0x0);
        gbc.writeMem(0x8d87, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x46b4);
        EXPECT(gbc.pc(), 0x8d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d87), 0xa0);
        // A0 032F
        gbc.setState(0xcb4d, 0x519c, 0xae70, 0x54, 0xf3bd, 0xb6cb, 0x1, 0x1);
        gbc.writeMem(0xcb4d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x519c);
        EXPECT(gbc.pc(), 0xcb4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb4d), 0xa0);
        // A0 0330
        gbc.setState(0x5120, 0x154a, 0xa370, 0x9821, 0x29c7, 0x43a1, 0x0, 0x1);
        gbc.writeMem(0x5120, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x154a);
        EXPECT(gbc.pc(), 0x5121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0331
        gbc.setState(0x5135, 0x8485, 0x6d60, 0x8251, 0xa831, 0xb6c3, 0x1, 0x0);
        gbc.writeMem(0x5135, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8485);
        EXPECT(gbc.pc(), 0x5136);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0332
        gbc.setState(0x4e44, 0xe321, 0x8c70, 0x9c8a, 0xca9c, 0x35c6, 0x1, 0x1);
        gbc.writeMem(0x4e44, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe321);
        EXPECT(gbc.pc(), 0x4e45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0334
        gbc.setState(0x2f92, 0x66b6, 0x48c0, 0xf35f, 0x3060, 0x14e, 0x1, 0x0);
        gbc.writeMem(0x2f92, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x66b6);
        EXPECT(gbc.pc(), 0x2f93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0335
        gbc.setState(0xa5df, 0xfbf0, 0x83d0, 0xe5ea, 0xe3dd, 0xdc32, 0x0, 0x0);
        gbc.writeMem(0xa5df, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfbf0);
        EXPECT(gbc.pc(), 0xa5e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5df), 0xa0);
        // A0 0336
        gbc.setState(0xe530, 0x2cbf, 0xbf30, 0x3791, 0x4027, 0xf44d, 0x0, 0x1);
        gbc.writeMem(0xe530, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2cbf);
        EXPECT(gbc.pc(), 0xe531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe530), 0xa0);
        // A0 0337
        gbc.setState(0xef37, 0x2565, 0x36c0, 0x82b4, 0xc7e0, 0xa642, 0x0, 0x1);
        gbc.writeMem(0xef37, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2565);
        EXPECT(gbc.pc(), 0xef38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef37), 0xa0);
        // A0 0338
        gbc.setState(0x2815, 0xac0b, 0x9290, 0x7fac, 0x744b, 0xe836, 0x0, 0x0);
        gbc.writeMem(0x2815, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xac0b);
        EXPECT(gbc.pc(), 0x2816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0339
        gbc.setState(0xabd5, 0x4bc9, 0x3b20, 0x30c7, 0x4be4, 0x6f5e, 0x0, 0x0);
        gbc.writeMem(0xabd5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4bc9);
        EXPECT(gbc.pc(), 0xabd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabd5), 0xa0);
        // A0 033A
        gbc.setState(0xc1a4, 0x4515, 0xdab0, 0x5d30, 0xac06, 0x7811, 0x1, 0x0);
        gbc.writeMem(0xc1a4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4515);
        EXPECT(gbc.pc(), 0xc1a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1a4), 0xa0);
        // A0 033B
        gbc.setState(0x7f5c, 0x4dea, 0x540, 0x8cf, 0x3124, 0x99e3, 0x1, 0x1);
        gbc.writeMem(0x7f5c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4dea);
        EXPECT(gbc.pc(), 0x7f5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 033C
        gbc.setState(0x59b7, 0x2a26, 0x4310, 0xb6cf, 0x8759, 0xc88f, 0x0, 0x1);
        gbc.writeMem(0x59b7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2a26);
        EXPECT(gbc.pc(), 0x59b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 033D
        gbc.setState(0xd558, 0x6166, 0xb0f0, 0xcb27, 0x1d6a, 0xffc3, 0x0, 0x0);
        gbc.writeMem(0xd558, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6166);
        EXPECT(gbc.pc(), 0xd559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd558), 0xa0);
        // A0 033E
        gbc.setState(0x95dd, 0x4b12, 0x7c90, 0x7081, 0xa946, 0x8ccc, 0x0, 0x0);
        gbc.writeMem(0x95dd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4b12);
        EXPECT(gbc.pc(), 0x95de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95dd), 0xa0);
        // A0 033F
        gbc.setState(0xb48f, 0x2605, 0xf9d0, 0x93fe, 0xc7c4, 0x5d0f, 0x0, 0x0);
        gbc.writeMem(0xb48f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x2605);
        EXPECT(gbc.pc(), 0xb490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb48f), 0xa0);
        // A0 0340
        gbc.setState(0xb4ba, 0x5557, 0xf370, 0xf447, 0xcaeb, 0x890f, 0x0, 0x0);
        gbc.writeMem(0xb4ba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5557);
        EXPECT(gbc.pc(), 0xb4bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4ba), 0xa0);
        // A0 0341
        gbc.setState(0x2cb9, 0x2a51, 0x110, 0x3a2, 0xee2f, 0x838a, 0x0, 0x0);
        gbc.writeMem(0x2cb9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2a51);
        EXPECT(gbc.pc(), 0x2cba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0342
        gbc.setState(0x5108, 0xf024, 0xa080, 0xfb87, 0xede3, 0x9ce4, 0x0, 0x1);
        gbc.writeMem(0x5108, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf024);
        EXPECT(gbc.pc(), 0x5109);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0343
        gbc.setState(0xc078, 0x5726, 0xa1c0, 0xfcdf, 0x6b80, 0x61ce, 0x1, 0x0);
        gbc.writeMem(0xc078, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5726);
        EXPECT(gbc.pc(), 0xc079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc078), 0xa0);
        // A0 0345
        gbc.setState(0xdb6e, 0x98b0, 0x6200, 0xfd43, 0x58f6, 0x711e, 0x1, 0x0);
        gbc.writeMem(0xdb6e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x98b0);
        EXPECT(gbc.pc(), 0xdb6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb6e), 0xa0);
        // A0 0346
        gbc.setState(0x65f8, 0x206d, 0x1300, 0xae55, 0x4d00, 0xc9e5, 0x1, 0x1);
        gbc.writeMem(0x65f8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x206d);
        EXPECT(gbc.pc(), 0x65f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0347
        gbc.setState(0x1c27, 0xd9f6, 0xee10, 0xf38e, 0xe2f2, 0x25c8, 0x1, 0x1);
        gbc.writeMem(0x1c27, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd9f6);
        EXPECT(gbc.pc(), 0x1c28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0348
        gbc.setState(0x2a6d, 0xf63d, 0x5870, 0x5e45, 0xaf44, 0xfb01, 0x0, 0x0);
        gbc.writeMem(0x2a6d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf63d);
        EXPECT(gbc.pc(), 0x2a6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0349
        gbc.setState(0x5679, 0xb5f4, 0x4270, 0x9091, 0x5748, 0xca6f, 0x1, 0x0);
        gbc.writeMem(0x5679, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb5f4);
        EXPECT(gbc.pc(), 0x567a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 034A
        gbc.setState(0xcff1, 0x2b6a, 0x8a50, 0x2090, 0xecd4, 0xd7ec, 0x1, 0x0);
        gbc.writeMem(0xcff1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x2b6a);
        EXPECT(gbc.pc(), 0xcff2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcff1), 0xa0);
        // A0 034B
        gbc.setState(0x36a3, 0xbb47, 0x1fe0, 0x26f8, 0xff46, 0xc412, 0x1, 0x1);
        gbc.writeMem(0x36a3, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbb47);
        EXPECT(gbc.pc(), 0x36a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 034C
        gbc.setState(0xc45c, 0x279f, 0x2b60, 0x2b14, 0x88e7, 0x17d5, 0x0, 0x0);
        gbc.writeMem(0xc45c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x279f);
        EXPECT(gbc.pc(), 0xc45d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc45c), 0xa0);
        // A0 034D
        gbc.setState(0x77c4, 0x2189, 0x49d0, 0x4e9d, 0x9af, 0xf84a, 0x0, 0x0);
        gbc.writeMem(0x77c4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2189);
        EXPECT(gbc.pc(), 0x77c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 034E
        gbc.setState(0x6e99, 0x1c20, 0x2420, 0xc42, 0xf79d, 0x8e8f, 0x1, 0x0);
        gbc.writeMem(0x6e99, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1c20);
        EXPECT(gbc.pc(), 0x6e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 034F
        gbc.setState(0xbb2d, 0xf534, 0xde70, 0x95b8, 0x2ad9, 0x7531, 0x0, 0x1);
        gbc.writeMem(0xbb2d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf534);
        EXPECT(gbc.pc(), 0xbb2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb2d), 0xa0);
        // A0 0350
        gbc.setState(0x6c3b, 0x5d7d, 0x9a00, 0xf753, 0x7173, 0xf906, 0x1, 0x0);
        gbc.writeMem(0x6c3b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5d7d);
        EXPECT(gbc.pc(), 0x6c3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0351
        gbc.setState(0x97d9, 0x4fcc, 0xd7f0, 0xdb7e, 0xae45, 0xfc2d, 0x1, 0x0);
        gbc.writeMem(0x97d9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4fcc);
        EXPECT(gbc.pc(), 0x97da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d9), 0xa0);
        // A0 0352
        gbc.setState(0x8a68, 0x3938, 0x91a0, 0xd988, 0x3814, 0xc782, 0x1, 0x1);
        gbc.writeMem(0x8a68, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3938);
        EXPECT(gbc.pc(), 0x8a69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a68), 0xa0);
        // A0 0353
        gbc.setState(0x7bac, 0xccce, 0xbc10, 0x976c, 0xbe6, 0x3aea, 0x0, 0x0);
        gbc.writeMem(0x7bac, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xccce);
        EXPECT(gbc.pc(), 0x7bad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0354
        gbc.setState(0x28af, 0x4949, 0x6c90, 0x6884, 0x16d, 0xaf73, 0x0, 0x0);
        gbc.writeMem(0x28af, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x4949);
        EXPECT(gbc.pc(), 0x28b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0355
        gbc.setState(0x15ca, 0xa727, 0xff70, 0xf901, 0x5961, 0x5ade, 0x0, 0x1);
        gbc.writeMem(0x15ca, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa727);
        EXPECT(gbc.pc(), 0x15cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0356
        gbc.setState(0xbcd0, 0x26dc, 0x2160, 0x1faa, 0xbae1, 0xec0d, 0x1, 0x1);
        gbc.writeMem(0xbcd0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x26dc);
        EXPECT(gbc.pc(), 0xbcd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcd0), 0xa0);
        // A0 0357
        gbc.setState(0xae6, 0xa84e, 0x6d90, 0x7d37, 0xa824, 0xd2cf, 0x1, 0x1);
        gbc.writeMem(0xae6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xa84e);
        EXPECT(gbc.pc(), 0xae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0358
        gbc.setState(0xdf95, 0x702a, 0x6050, 0x1cdd, 0x972a, 0xa15, 0x1, 0x1);
        gbc.writeMem(0xdf95, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x702a);
        EXPECT(gbc.pc(), 0xdf96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf95), 0xa0);
        // A0 0359
        gbc.setState(0xd579, 0xa0e5, 0xc390, 0x65df, 0xa70, 0xb798, 0x1, 0x1);
        gbc.writeMem(0xd579, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xa0e5);
        EXPECT(gbc.pc(), 0xd57a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd579), 0xa0);
        // A0 035A
        gbc.setState(0x9ebd, 0xd0fa, 0x5e90, 0x7e7e, 0x1ce9, 0x8852, 0x1, 0x1);
        gbc.writeMem(0x9ebd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd0fa);
        EXPECT(gbc.pc(), 0x9ebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ebd), 0xa0);
        // A0 035B
        gbc.setState(0xeacf, 0xd908, 0x72a0, 0x79fe, 0x6fba, 0x3da7, 0x1, 0x1);
        gbc.writeMem(0xeacf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd908);
        EXPECT(gbc.pc(), 0xead0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeacf), 0xa0);
        // A0 035C
        gbc.setState(0xa9ad, 0x76b9, 0x9860, 0x7c6d, 0x1a7f, 0x47fc, 0x0, 0x0);
        gbc.writeMem(0xa9ad, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x76b9);
        EXPECT(gbc.pc(), 0xa9ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ad), 0xa0);
        // A0 035D
        gbc.setState(0x44e6, 0x5684, 0x8880, 0x46e5, 0x518, 0x241a, 0x0, 0x0);
        gbc.writeMem(0x44e6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5684);
        EXPECT(gbc.pc(), 0x44e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 035E
        gbc.setState(0xd39d, 0x639a, 0x2ac0, 0xc92f, 0x33dc, 0x29b9, 0x0, 0x1);
        gbc.writeMem(0xd39d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x639a);
        EXPECT(gbc.pc(), 0xd39e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd39d), 0xa0);
        // A0 035F
        gbc.setState(0xde17, 0x37a0, 0x2fe0, 0x395e, 0x3bde, 0x7fc0, 0x1, 0x0);
        gbc.writeMem(0xde17, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x37a0);
        EXPECT(gbc.pc(), 0xde18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde17), 0xa0);
        // A0 0360
        gbc.setState(0xa66b, 0x218c, 0x7890, 0x7030, 0x50bd, 0x6d9a, 0x1, 0x0);
        gbc.writeMem(0xa66b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x218c);
        EXPECT(gbc.pc(), 0xa66c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa66b), 0xa0);
        // A0 0361
        gbc.setState(0xa574, 0x9c7a, 0x7400, 0x6f41, 0x57a3, 0x88ce, 0x1, 0x1);
        gbc.writeMem(0xa574, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9c7a);
        EXPECT(gbc.pc(), 0xa575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa574), 0xa0);
        // A0 0362
        gbc.setState(0xbc9f, 0xab6d, 0x83f0, 0xaab0, 0xc796, 0xa8f6, 0x1, 0x1);
        gbc.writeMem(0xbc9f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xab6d);
        EXPECT(gbc.pc(), 0xbca0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc9f), 0xa0);
        // A0 0363
        gbc.setState(0xae85, 0xf23f, 0x8aa0, 0xb86d, 0xf4c8, 0x16bd, 0x1, 0x1);
        gbc.writeMem(0xae85, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf23f);
        EXPECT(gbc.pc(), 0xae86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae85), 0xa0);
        // A0 0364
        gbc.setState(0x829b, 0x7dc6, 0x3980, 0xc379, 0xd198, 0xb2b7, 0x1, 0x0);
        gbc.writeMem(0x829b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7dc6);
        EXPECT(gbc.pc(), 0x829c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x829b), 0xa0);
        // A0 0365
        gbc.setState(0x9353, 0x96ba, 0x7490, 0xaaab, 0x3b10, 0x58a3, 0x1, 0x1);
        gbc.writeMem(0x9353, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x96ba);
        EXPECT(gbc.pc(), 0x9354);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9353), 0xa0);
        // A0 0366
        gbc.setState(0x884e, 0x403c, 0x86c0, 0xc470, 0x24bd, 0xb4b9, 0x1, 0x0);
        gbc.writeMem(0x884e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x403c);
        EXPECT(gbc.pc(), 0x884f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x884e), 0xa0);
        // A0 0367
        gbc.setState(0x8df5, 0x2833, 0xe820, 0xcd4e, 0x3aa, 0x8e2d, 0x0, 0x0);
        gbc.writeMem(0x8df5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2833);
        EXPECT(gbc.pc(), 0x8df6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df5), 0xa0);
        // A0 0368
        gbc.setState(0xc7ea, 0x8c05, 0x5040, 0x8d43, 0x2d44, 0x76e3, 0x0, 0x1);
        gbc.writeMem(0xc7ea, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8c05);
        EXPECT(gbc.pc(), 0xc7eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ea), 0xa0);
        // A0 0369
        gbc.setState(0x18f, 0x2b2, 0xfd0, 0x344b, 0x78d2, 0x8451, 0x1, 0x0);
        gbc.writeMem(0x18f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2b2);
        EXPECT(gbc.pc(), 0x190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 036A
        gbc.setState(0xb09c, 0xd560, 0xae50, 0x36f4, 0xa2c6, 0xde2d, 0x1, 0x0);
        gbc.writeMem(0xb09c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd560);
        EXPECT(gbc.pc(), 0xb09d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb09c), 0xa0);
        // A0 036B
        gbc.setState(0x8293, 0x82a3, 0xf940, 0xb44b, 0x5448, 0x829c, 0x0, 0x1);
        gbc.writeMem(0x8293, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x82a3);
        EXPECT(gbc.pc(), 0x8294);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8293), 0xa0);
        // A0 036C
        gbc.setState(0xc22d, 0x5e84, 0xc830, 0x283d, 0x133d, 0x8c8b, 0x1, 0x0);
        gbc.writeMem(0xc22d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x5e84);
        EXPECT(gbc.pc(), 0xc22e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc22d), 0xa0);
        // A0 036D
        gbc.setState(0xc1d6, 0x3004, 0xba00, 0xe235, 0xc326, 0xd9ee, 0x1, 0x0);
        gbc.writeMem(0xc1d6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3004);
        EXPECT(gbc.pc(), 0xc1d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1d6), 0xa0);
        // A0 036E
        gbc.setState(0x2b74, 0xdf49, 0xe410, 0xa25d, 0x755, 0x6430, 0x1, 0x1);
        gbc.writeMem(0x2b74, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xdf49);
        EXPECT(gbc.pc(), 0x2b75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 036F
        gbc.setState(0xaf58, 0xa4d2, 0x8640, 0x668e, 0x8aa0, 0xaf7b, 0x1, 0x0);
        gbc.writeMem(0xaf58, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa4d2);
        EXPECT(gbc.pc(), 0xaf59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf58), 0xa0);
        // A0 0370
        gbc.setState(0x8df1, 0x1bc8, 0x6880, 0xf5dc, 0xddbd, 0x3b3d, 0x1, 0x0);
        gbc.writeMem(0x8df1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1bc8);
        EXPECT(gbc.pc(), 0x8df2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df1), 0xa0);
        // A0 0371
        gbc.setState(0xe5d4, 0x337f, 0x6b0, 0x63c9, 0x6e17, 0xe8b6, 0x0, 0x1);
        gbc.writeMem(0xe5d4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x337f);
        EXPECT(gbc.pc(), 0xe5d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d4), 0xa0);
        // A0 0372
        gbc.setState(0xe7b8, 0x5036, 0x5080, 0x7dfa, 0xdd2e, 0x3822, 0x0, 0x1);
        gbc.writeMem(0xe7b8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x5036);
        EXPECT(gbc.pc(), 0xe7b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7b8), 0xa0);
        // A0 0373
        gbc.setState(0xdf32, 0xbca2, 0x6840, 0x284c, 0xb926, 0xbcab, 0x1, 0x1);
        gbc.writeMem(0xdf32, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xbca2);
        EXPECT(gbc.pc(), 0xdf33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf32), 0xa0);
        // A0 0374
        gbc.setState(0x49ae, 0x852, 0x50b0, 0xf698, 0xa4d9, 0xf6db, 0x1, 0x0);
        gbc.writeMem(0x49ae, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x852);
        EXPECT(gbc.pc(), 0x49af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0375
        gbc.setState(0xa2db, 0x4894, 0xff50, 0x6634, 0x50ba, 0xc1c3, 0x0, 0x1);
        gbc.writeMem(0xa2db, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4894);
        EXPECT(gbc.pc(), 0xa2dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2db), 0xa0);
        // A0 0376
        gbc.setState(0x6fd2, 0x351c, 0xf100, 0xaefe, 0xa815, 0x878b, 0x1, 0x0);
        gbc.writeMem(0x6fd2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x351c);
        EXPECT(gbc.pc(), 0x6fd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0377
        gbc.setState(0x18da, 0x5f93, 0x5540, 0x840b, 0x45d7, 0x185c, 0x1, 0x0);
        gbc.writeMem(0x18da, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5f93);
        EXPECT(gbc.pc(), 0x18db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0378
        gbc.setState(0x67b2, 0xa312, 0xc620, 0x560f, 0xd8b7, 0x8857, 0x0, 0x1);
        gbc.writeMem(0x67b2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa312);
        EXPECT(gbc.pc(), 0x67b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0379
        gbc.setState(0x5e9c, 0xc77a, 0xdc00, 0x9623, 0x34b7, 0xb0e0, 0x0, 0x1);
        gbc.writeMem(0x5e9c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc77a);
        EXPECT(gbc.pc(), 0x5e9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 037A
        gbc.setState(0xe429, 0x209c, 0xffd0, 0x180a, 0xb823, 0xc0af, 0x0, 0x1);
        gbc.writeMem(0xe429, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x209c);
        EXPECT(gbc.pc(), 0xe42a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe429), 0xa0);
        // A0 037B
        gbc.setState(0x22a0, 0x9a2b, 0x1330, 0x85bf, 0x1886, 0x12df, 0x0, 0x0);
        gbc.writeMem(0x22a0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9a2b);
        EXPECT(gbc.pc(), 0x22a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 037C
        gbc.setState(0xea25, 0x20b7, 0x1380, 0x7e7d, 0xc003, 0xe345, 0x0, 0x0);
        gbc.writeMem(0xea25, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x20b7);
        EXPECT(gbc.pc(), 0xea26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea25), 0xa0);
        // A0 037D
        gbc.setState(0x53ec, 0x2fc9, 0xe380, 0xa3e, 0x4387, 0x7415, 0x0, 0x0);
        gbc.writeMem(0x53ec, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x2fc9);
        EXPECT(gbc.pc(), 0x53ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 037E
        gbc.setState(0x363, 0xade1, 0x3a70, 0x7a9, 0x41d5, 0xa876, 0x0, 0x1);
        gbc.writeMem(0x363, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xade1);
        EXPECT(gbc.pc(), 0x364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 037F
        gbc.setState(0x5408, 0x3f8, 0x1e90, 0x62d3, 0x62e3, 0x644c, 0x1, 0x1);
        gbc.writeMem(0x5408, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3f8);
        EXPECT(gbc.pc(), 0x5409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0381
        gbc.setState(0x9947, 0x6c7c, 0xf120, 0x7a4d, 0x3de9, 0xb452, 0x0, 0x1);
        gbc.writeMem(0x9947, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6c7c);
        EXPECT(gbc.pc(), 0x9948);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9947), 0xa0);
        // A0 0382
        gbc.setState(0x39f7, 0x48b4, 0x90d0, 0x736e, 0xff58, 0x12fd, 0x0, 0x0);
        gbc.writeMem(0x39f7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x48b4);
        EXPECT(gbc.pc(), 0x39f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0383
        gbc.setState(0x75e1, 0xc8ed, 0x30, 0x4a8f, 0x8f5f, 0xaf55, 0x1, 0x0);
        gbc.writeMem(0x75e1, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc8ed);
        EXPECT(gbc.pc(), 0x75e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0384
        gbc.setState(0xee65, 0xf4cb, 0x9130, 0xbcff, 0xe520, 0x50e3, 0x0, 0x0);
        gbc.writeMem(0xee65, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xf4cb);
        EXPECT(gbc.pc(), 0xee66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee65), 0xa0);
        // A0 0385
        gbc.setState(0x9116, 0x8295, 0x4400, 0x3c4c, 0xeccf, 0x2924, 0x0, 0x0);
        gbc.writeMem(0x9116, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8295);
        EXPECT(gbc.pc(), 0x9117);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9116), 0xa0);
        // A0 0386
        gbc.setState(0xc9e5, 0x2b0b, 0x4120, 0x3b90, 0xa52d, 0x7076, 0x0, 0x0);
        gbc.writeMem(0xc9e5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2b0b);
        EXPECT(gbc.pc(), 0xc9e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9e5), 0xa0);
        // A0 0387
        gbc.setState(0x5859, 0x48fe, 0xebf0, 0x86d1, 0x482d, 0x48f9, 0x1, 0x0);
        gbc.writeMem(0x5859, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x48fe);
        EXPECT(gbc.pc(), 0x585a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0388
        gbc.setState(0xa2bf, 0xe907, 0xf210, 0x1d0f, 0x9646, 0x360b, 0x0, 0x1);
        gbc.writeMem(0xa2bf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xe907);
        EXPECT(gbc.pc(), 0xa2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2bf), 0xa0);
        // A0 0389
        gbc.setState(0xafa4, 0x8cf5, 0x1fc0, 0x62c, 0xa3a7, 0xc892, 0x0, 0x0);
        gbc.writeMem(0xafa4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8cf5);
        EXPECT(gbc.pc(), 0xafa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa4), 0xa0);
        // A0 038A
        gbc.setState(0xd99a, 0xecbd, 0x68f0, 0xb14a, 0x1386, 0x39d3, 0x0, 0x1);
        gbc.writeMem(0xd99a, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xecbd);
        EXPECT(gbc.pc(), 0xd99b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd99a), 0xa0);
        // A0 038B
        gbc.setState(0x1adf, 0x801a, 0xc8e0, 0x75bc, 0x9ee6, 0x4d7e, 0x1, 0x1);
        gbc.writeMem(0x1adf, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x801a);
        EXPECT(gbc.pc(), 0x1ae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 038C
        gbc.setState(0x916e, 0x79be, 0x7a40, 0x2cc9, 0xfc14, 0xf212, 0x1, 0x0);
        gbc.writeMem(0x916e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x79be);
        EXPECT(gbc.pc(), 0x916f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x916e), 0xa0);
        // A0 038D
        gbc.setState(0x3bb7, 0xe69, 0xca50, 0x6cb4, 0x1532, 0xbd48, 0x1, 0x0);
        gbc.writeMem(0x3bb7, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe69);
        EXPECT(gbc.pc(), 0x3bb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 038E
        gbc.setState(0xc28f, 0x8ef2, 0x62f0, 0x21ef, 0xdc8f, 0x677e, 0x1, 0x0);
        gbc.writeMem(0xc28f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x8ef2);
        EXPECT(gbc.pc(), 0xc290);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc28f), 0xa0);
        // A0 038F
        gbc.setState(0x5d68, 0xdfbe, 0xe600, 0x9708, 0x6775, 0x3590, 0x0, 0x0);
        gbc.writeMem(0x5d68, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xdfbe);
        EXPECT(gbc.pc(), 0x5d69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0390
        gbc.setState(0xf3b, 0xf452, 0x21f0, 0xb416, 0xf1f9, 0xf0fd, 0x0, 0x1);
        gbc.writeMem(0xf3b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xf452);
        EXPECT(gbc.pc(), 0xf3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0391
        gbc.setState(0x6faa, 0xad83, 0xdb60, 0xf72, 0x2066, 0x7655, 0x0, 0x1);
        gbc.writeMem(0x6faa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xad83);
        EXPECT(gbc.pc(), 0x6fab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0392
        gbc.setState(0x8a0e, 0x28b6, 0x70d0, 0xcaf7, 0xc211, 0xc09b, 0x1, 0x1);
        gbc.writeMem(0x8a0e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x28b6);
        EXPECT(gbc.pc(), 0x8a0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a0e), 0xa0);
        // A0 0393
        gbc.setState(0x62a6, 0x9dc4, 0x5530, 0xa44d, 0xb5bc, 0xad9a, 0x1, 0x0);
        gbc.writeMem(0x62a6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9dc4);
        EXPECT(gbc.pc(), 0x62a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0394
        gbc.setState(0xc0f9, 0x85f, 0xd010, 0xbc2f, 0x2822, 0xf555, 0x1, 0x0);
        gbc.writeMem(0xc0f9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x85f);
        EXPECT(gbc.pc(), 0xc0fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0f9), 0xa0);
        // A0 0395
        gbc.setState(0x9c4c, 0xae5d, 0x1290, 0x2b4d, 0x380d, 0x48f4, 0x0, 0x0);
        gbc.writeMem(0x9c4c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xae5d);
        EXPECT(gbc.pc(), 0x9c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c4c), 0xa0);
        // A0 0396
        gbc.setState(0x85df, 0xff65, 0xa500, 0xcc61, 0x48bb, 0x49e7, 0x1, 0x0);
        gbc.writeMem(0x85df, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xff65);
        EXPECT(gbc.pc(), 0x85e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85df), 0xa0);
        // A0 0397
        gbc.setState(0x5988, 0x1dc3, 0x4c10, 0xfe4d, 0x5757, 0xabe0, 0x0, 0x0);
        gbc.writeMem(0x5988, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1dc3);
        EXPECT(gbc.pc(), 0x5989);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 0398
        gbc.setState(0xb952, 0x76df, 0xc3f0, 0xfe2e, 0x353f, 0x193a, 0x0, 0x1);
        gbc.writeMem(0xb952, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x76df);
        EXPECT(gbc.pc(), 0xb953);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb952), 0xa0);
        // A0 0399
        gbc.setState(0x6223, 0xe83c, 0x7e60, 0xec9f, 0xae3b, 0xef60, 0x0, 0x0);
        gbc.writeMem(0x6223, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe83c);
        EXPECT(gbc.pc(), 0x6224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 039A
        gbc.setState(0x3780, 0x172, 0xb4e0, 0xea24, 0x4e5c, 0xbf6b, 0x0, 0x1);
        gbc.writeMem(0x3780, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x172);
        EXPECT(gbc.pc(), 0x3781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 039B
        gbc.setState(0x74ca, 0x4d39, 0x44d0, 0xd620, 0x47ae, 0x3928, 0x0, 0x1);
        gbc.writeMem(0x74ca, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4d39);
        EXPECT(gbc.pc(), 0x74cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 039C
        gbc.setState(0xcded, 0x367a, 0x40, 0x2c62, 0x2ef8, 0x4153, 0x1, 0x0);
        gbc.writeMem(0xcded, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x367a);
        EXPECT(gbc.pc(), 0xcdee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcded), 0xa0);
        // A0 039D
        gbc.setState(0xdb16, 0x7b45, 0x8520, 0xfb04, 0x29af, 0x5781, 0x1, 0x1);
        gbc.writeMem(0xdb16, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7b45);
        EXPECT(gbc.pc(), 0xdb17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb16), 0xa0);
        // A0 039E
        gbc.setState(0xcdcb, 0x4c0c, 0xc3e0, 0x32f0, 0x3aa7, 0xeea5, 0x0, 0x1);
        gbc.writeMem(0xcdcb, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x4c0c);
        EXPECT(gbc.pc(), 0xcdcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdcb), 0xa0);
        // A0 039F
        gbc.setState(0x7898, 0xaf00, 0xd20, 0xa27e, 0xf9d4, 0xe7d, 0x1, 0x0);
        gbc.writeMem(0x7898, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xaf00);
        EXPECT(gbc.pc(), 0x7899);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03A0
        gbc.setState(0xa0a0, 0x8599, 0xd8f0, 0xd511, 0xf049, 0xb230, 0x0, 0x0);
        gbc.writeMem(0xa0a0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8599);
        EXPECT(gbc.pc(), 0xa0a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a0), 0xa0);
        // A0 03A2
        gbc.setState(0x7541, 0x5176, 0x3750, 0xd032, 0x5602, 0xff49, 0x1, 0x0);
        gbc.writeMem(0x7541, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5176);
        EXPECT(gbc.pc(), 0x7542);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03A3
        gbc.setState(0x2925, 0xe33a, 0x8450, 0x2a97, 0x565f, 0x4ab5, 0x0, 0x0);
        gbc.writeMem(0x2925, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe33a);
        EXPECT(gbc.pc(), 0x2926);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03A5
        gbc.setState(0xebc5, 0xeabf, 0x6de0, 0x3ca1, 0x1e6a, 0xe6a, 0x1, 0x1);
        gbc.writeMem(0xebc5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xeabf);
        EXPECT(gbc.pc(), 0xebc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc5), 0xa0);
        // A0 03A6
        gbc.setState(0x4ac6, 0x9c02, 0xb4e0, 0x5f9b, 0x399a, 0x956c, 0x1, 0x0);
        gbc.writeMem(0x4ac6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x9c02);
        EXPECT(gbc.pc(), 0x4ac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03A7
        gbc.setState(0xd1d2, 0xbc5, 0xb460, 0xb14b, 0x58, 0x7194, 0x1, 0x1);
        gbc.writeMem(0xd1d2, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xbc5);
        EXPECT(gbc.pc(), 0xd1d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1d2), 0xa0);
        // A0 03A8
        gbc.setState(0x6733, 0x7c4b, 0xd140, 0x9b8c, 0x614c, 0xded7, 0x0, 0x1);
        gbc.writeMem(0x6733, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x7c4b);
        EXPECT(gbc.pc(), 0x6734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03A9
        gbc.setState(0x216f, 0x12ea, 0xf460, 0xced0, 0xa645, 0x3478, 0x0, 0x0);
        gbc.writeMem(0x216f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x12ea);
        EXPECT(gbc.pc(), 0x2170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03AA
        gbc.setState(0xad8d, 0x78f7, 0xf510, 0x6f07, 0x2aa, 0xdb2f, 0x0, 0x0);
        gbc.writeMem(0xad8d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x78f7);
        EXPECT(gbc.pc(), 0xad8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad8d), 0xa0);
        // A0 03AC
        gbc.setState(0x26b0, 0x6f4e, 0x9150, 0xf712, 0xbabe, 0xd019, 0x0, 0x1);
        gbc.writeMem(0x26b0, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6f4e);
        EXPECT(gbc.pc(), 0x26b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03AD
        gbc.setState(0x69e6, 0x17f2, 0xd5f0, 0xc6c2, 0x5153, 0x7d0e, 0x0, 0x0);
        gbc.writeMem(0x69e6, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x17f2);
        EXPECT(gbc.pc(), 0x69e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03AE
        gbc.setState(0xa145, 0xab9, 0x8810, 0x78bc, 0x8603, 0xadb8, 0x1, 0x0);
        gbc.writeMem(0xa145, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xab9);
        EXPECT(gbc.pc(), 0xa146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa145), 0xa0);
        // A0 03AF
        gbc.setState(0x7ee5, 0xa259, 0x32a0, 0x4dba, 0x5e65, 0xbd6d, 0x1, 0x0);
        gbc.writeMem(0x7ee5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xa259);
        EXPECT(gbc.pc(), 0x7ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03B0
        gbc.setState(0x9201, 0x6a70, 0xe0e0, 0xcfd, 0x8b6, 0x7e7a, 0x1, 0x0);
        gbc.writeMem(0x9201, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6a70);
        EXPECT(gbc.pc(), 0x9202);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9201), 0xa0);
        // A0 03B1
        gbc.setState(0x7d26, 0xa8a7, 0xf580, 0xdad3, 0x774a, 0x7557, 0x1, 0x0);
        gbc.writeMem(0x7d26, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa8a7);
        EXPECT(gbc.pc(), 0x7d27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03B3
        gbc.setState(0xb10f, 0x4017, 0xe6d0, 0x2022, 0x256b, 0xe43a, 0x0, 0x1);
        gbc.writeMem(0xb10f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4017);
        EXPECT(gbc.pc(), 0xb110);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb10f), 0xa0);
        // A0 03B4
        gbc.setState(0x7d26, 0xde5a, 0x1f30, 0x791e, 0x7f27, 0x6d1d, 0x1, 0x0);
        gbc.writeMem(0x7d26, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xde5a);
        EXPECT(gbc.pc(), 0x7d27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03B5
        gbc.setState(0x3459, 0x4fc3, 0xd0d0, 0x45c8, 0xebf9, 0x173a, 0x1, 0x1);
        gbc.writeMem(0x3459, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4fc3);
        EXPECT(gbc.pc(), 0x345a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03B6
        gbc.setState(0x18c5, 0xf5de, 0x1a80, 0x43a9, 0x2023, 0x7bdb, 0x0, 0x0);
        gbc.writeMem(0x18c5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf5de);
        EXPECT(gbc.pc(), 0x18c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03B7
        gbc.setState(0xdb82, 0xc9c4, 0x370, 0x6894, 0x2a97, 0xb8fc, 0x0, 0x0);
        gbc.writeMem(0xdb82, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc9c4);
        EXPECT(gbc.pc(), 0xdb83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb82), 0xa0);
        // A0 03B8
        gbc.setState(0x68f, 0xfffe, 0xeae0, 0xba74, 0x6a85, 0xc530, 0x0, 0x0);
        gbc.writeMem(0x68f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xfffe);
        EXPECT(gbc.pc(), 0x690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03B9
        gbc.setState(0x6245, 0x5ab6, 0x7b20, 0x1410, 0x37fb, 0x7cb6, 0x0, 0x0);
        gbc.writeMem(0x6245, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x5ab6);
        EXPECT(gbc.pc(), 0x6246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03BA
        gbc.setState(0x90d8, 0xc486, 0x1d80, 0xcc29, 0x9159, 0x1f7d, 0x0, 0x0);
        gbc.writeMem(0x90d8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc486);
        EXPECT(gbc.pc(), 0x90d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d8), 0xa0);
        // A0 03BB
        gbc.setState(0x90f4, 0xd0a0, 0xb510, 0x1f70, 0x7506, 0x8053, 0x0, 0x0);
        gbc.writeMem(0x90f4, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xd0a0);
        EXPECT(gbc.pc(), 0x90f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90f4), 0xa0);
        // A0 03BC
        gbc.setState(0xbf0e, 0x9312, 0x8e50, 0xbc2, 0x89ef, 0xc25a, 0x0, 0x0);
        gbc.writeMem(0xbf0e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9312);
        EXPECT(gbc.pc(), 0xbf0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf0e), 0xa0);
        // A0 03BD
        gbc.setState(0x852e, 0xea0e, 0x73d0, 0xb72a, 0xe56f, 0xcdb, 0x1, 0x0);
        gbc.writeMem(0x852e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xea0e);
        EXPECT(gbc.pc(), 0x852f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x852e), 0xa0);
        // A0 03BE
        gbc.setState(0xd35b, 0xc99e, 0x4c50, 0xb138, 0x8b45, 0x5f1f, 0x1, 0x1);
        gbc.writeMem(0xd35b, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc99e);
        EXPECT(gbc.pc(), 0xd35c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd35b), 0xa0);
        // A0 03BF
        gbc.setState(0x7242, 0xf7cb, 0xb4b0, 0x6962, 0x1cf, 0x4d32, 0x0, 0x1);
        gbc.writeMem(0x7242, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf7cb);
        EXPECT(gbc.pc(), 0x7243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03C0
        gbc.setState(0xa385, 0x6a4, 0x7be0, 0x2e3d, 0xcef2, 0x7fa4, 0x0, 0x1);
        gbc.writeMem(0xa385, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6a4);
        EXPECT(gbc.pc(), 0xa386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa385), 0xa0);
        // A0 03C1
        gbc.setState(0x691d, 0x1b0d, 0x37c0, 0x4baf, 0xcdbe, 0x285f, 0x0, 0x0);
        gbc.writeMem(0x691d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1b0d);
        EXPECT(gbc.pc(), 0x691e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03C2
        gbc.setState(0x5817, 0x4d, 0xcc00, 0xc770, 0x9c27, 0xcb77, 0x1, 0x0);
        gbc.writeMem(0x5817, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x4d);
        EXPECT(gbc.pc(), 0x5818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03C4
        gbc.setState(0xafa9, 0xc50, 0x62c0, 0xdd72, 0xc721, 0xf95, 0x1, 0x1);
        gbc.writeMem(0xafa9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc50);
        EXPECT(gbc.pc(), 0xafaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa9), 0xa0);
        // A0 03C5
        gbc.setState(0xb8e8, 0x8216, 0x9d30, 0xb799, 0xec2c, 0xf1a6, 0x0, 0x1);
        gbc.writeMem(0xb8e8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8216);
        EXPECT(gbc.pc(), 0xb8e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e8), 0xa0);
        // A0 03C6
        gbc.setState(0xbe98, 0x6873, 0xe190, 0xa9b1, 0xb04b, 0xa0e4, 0x0, 0x0);
        gbc.writeMem(0xbe98, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6873);
        EXPECT(gbc.pc(), 0xbe99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe98), 0xa0);
        // A0 03C7
        gbc.setState(0x95ea, 0xeadb, 0xce30, 0xd616, 0x21f6, 0xf92, 0x1, 0x0);
        gbc.writeMem(0x95ea, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xeadb);
        EXPECT(gbc.pc(), 0x95eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ea), 0xa0);
        // A0 03C8
        gbc.setState(0xd263, 0x5c33, 0x9980, 0x1dc0, 0xbf73, 0xc32, 0x0, 0x0);
        gbc.writeMem(0xd263, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5c33);
        EXPECT(gbc.pc(), 0xd264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd263), 0xa0);
        // A0 03C9
        gbc.setState(0xc7bd, 0x30f2, 0x8310, 0xd308, 0xaaa5, 0xa431, 0x1, 0x1);
        gbc.writeMem(0xc7bd, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x30f2);
        EXPECT(gbc.pc(), 0xc7be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7bd), 0xa0);
        // A0 03CA
        gbc.setState(0xa4c5, 0xd606, 0x5fa0, 0x91ae, 0x2bd4, 0xc6ad, 0x1, 0x1);
        gbc.writeMem(0xa4c5, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd606);
        EXPECT(gbc.pc(), 0xa4c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4c5), 0xa0);
        // A0 03CB
        gbc.setState(0x4d22, 0xb05d, 0xba90, 0xdd97, 0xc977, 0xbaf6, 0x1, 0x0);
        gbc.writeMem(0x4d22, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb05d);
        EXPECT(gbc.pc(), 0x4d23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03CC
        gbc.setState(0xef35, 0x8bf, 0x2610, 0x8029, 0x9b53, 0x5a74, 0x1, 0x1);
        gbc.writeMem(0xef35, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8bf);
        EXPECT(gbc.pc(), 0xef36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef35), 0xa0);
        // A0 03CD
        gbc.setState(0x599c, 0x31bc, 0x1790, 0x33d5, 0xa19c, 0x494b, 0x1, 0x0);
        gbc.writeMem(0x599c, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x31bc);
        EXPECT(gbc.pc(), 0x599d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03CF
        gbc.setState(0x2861, 0x2e88, 0x1060, 0x8fd9, 0x8465, 0x1dfd, 0x0, 0x0);
        gbc.writeMem(0x2861, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2e88);
        EXPECT(gbc.pc(), 0x2862);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03D0
        gbc.setState(0xe8ba, 0x3f75, 0x6f70, 0x158e, 0xa492, 0xd1ab, 0x0, 0x1);
        gbc.writeMem(0xe8ba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3f75);
        EXPECT(gbc.pc(), 0xe8bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8ba), 0xa0);
        // A0 03D1
        gbc.setState(0xb431, 0x9b34, 0xfa0, 0x2e03, 0x5c8c, 0x1020, 0x1, 0x1);
        gbc.writeMem(0xb431, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9b34);
        EXPECT(gbc.pc(), 0xb432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb431), 0xa0);
        // A0 03D2
        gbc.setState(0xcf64, 0x2917, 0x1c60, 0x6ac6, 0xc556, 0xd6ad, 0x1, 0x0);
        gbc.writeMem(0xcf64, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2917);
        EXPECT(gbc.pc(), 0xcf65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf64), 0xa0);
        // A0 03D3
        gbc.setState(0x6e19, 0x281d, 0xa4d0, 0x2f30, 0x1c87, 0x434d, 0x1, 0x0);
        gbc.writeMem(0x6e19, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x281d);
        EXPECT(gbc.pc(), 0x6e1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03D5
        gbc.setState(0xa084, 0xc1fb, 0x4e10, 0xc742, 0x764e, 0xac0, 0x0, 0x0);
        gbc.writeMem(0xa084, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc1fb);
        EXPECT(gbc.pc(), 0xa085);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa084), 0xa0);
        // A0 03D6
        gbc.setState(0xe25, 0x8ce4, 0x2b40, 0x1312, 0x3dfa, 0x7ada, 0x1, 0x1);
        gbc.writeMem(0xe25, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8ce4);
        EXPECT(gbc.pc(), 0xe26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03D7
        gbc.setState(0x2d80, 0x2d05, 0x9690, 0x60f, 0x564e, 0x84bd, 0x1, 0x0);
        gbc.writeMem(0x2d80, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2d05);
        EXPECT(gbc.pc(), 0x2d81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03D8
        gbc.setState(0x7ba9, 0xa66d, 0x3490, 0xe57f, 0x5417, 0x483b, 0x0, 0x1);
        gbc.writeMem(0x7ba9, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa66d);
        EXPECT(gbc.pc(), 0x7baa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03D9
        gbc.setState(0xce36, 0xf87f, 0x3ec0, 0x691b, 0x4625, 0x8b07, 0x1, 0x0);
        gbc.writeMem(0xce36, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf87f);
        EXPECT(gbc.pc(), 0xce37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce36), 0xa0);
        // A0 03DA
        gbc.setState(0xe5ce, 0x9375, 0x4770, 0xca82, 0x9105, 0x1dce, 0x1, 0x0);
        gbc.writeMem(0xe5ce, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9375);
        EXPECT(gbc.pc(), 0xe5cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ce), 0xa0);
        // A0 03DB
        gbc.setState(0x2aff, 0x84cf, 0x8f60, 0x88e5, 0x7450, 0x247b, 0x1, 0x1);
        gbc.writeMem(0x2aff, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x84cf);
        EXPECT(gbc.pc(), 0x2b00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03DC
        gbc.setState(0xc763, 0x7d0, 0xf930, 0xa5d, 0xeddf, 0x3428, 0x0, 0x1);
        gbc.writeMem(0xc763, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7d0);
        EXPECT(gbc.pc(), 0xc764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc763), 0xa0);
        // A0 03DD
        gbc.setState(0x120f, 0xb81b, 0x49c0, 0xf45d, 0x29c8, 0xee86, 0x1, 0x1);
        gbc.writeMem(0x120f, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb81b);
        EXPECT(gbc.pc(), 0x1210);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03DE
        gbc.setState(0x356d, 0x1e21, 0xe0f0, 0x7989, 0x3e2f, 0xd9ac, 0x1, 0x1);
        gbc.writeMem(0x356d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1e21);
        EXPECT(gbc.pc(), 0x356e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03DF
        gbc.setState(0x671e, 0x46f6, 0x71c0, 0xd83e, 0x61e0, 0x130a, 0x1, 0x1);
        gbc.writeMem(0x671e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x46f6);
        EXPECT(gbc.pc(), 0x671f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03E0
        gbc.setState(0xc3b8, 0x84cc, 0x6100, 0xcde3, 0x7191, 0x5be7, 0x1, 0x0);
        gbc.writeMem(0xc3b8, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x84cc);
        EXPECT(gbc.pc(), 0xc3b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3b8), 0xa0);
        // A0 03E1
        gbc.setState(0x1582, 0x5795, 0x1be0, 0xcf00, 0x589c, 0x4181, 0x0, 0x1);
        gbc.writeMem(0x1582, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x5795);
        EXPECT(gbc.pc(), 0x1583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03E2
        gbc.setState(0xdb1e, 0xc518, 0xf240, 0x3ff0, 0x981b, 0x8c1f, 0x0, 0x0);
        gbc.writeMem(0xdb1e, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc518);
        EXPECT(gbc.pc(), 0xdb1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb1e), 0xa0);
        // A0 03E3
        gbc.setState(0x4436, 0xb813, 0x8860, 0x584a, 0xcb2d, 0xd857, 0x0, 0x0);
        gbc.writeMem(0x4436, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb813);
        EXPECT(gbc.pc(), 0x4437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03E4
        gbc.setState(0xceee, 0x40c9, 0xd9d0, 0xfe9, 0xfd5f, 0x6c3d, 0x1, 0x1);
        gbc.writeMem(0xceee, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x40c9);
        EXPECT(gbc.pc(), 0xceef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceee), 0xa0);
        // A0 03E5
        gbc.setState(0x58fa, 0x7c2a, 0x7f90, 0xed59, 0xc05a, 0xfb10, 0x1, 0x0);
        gbc.writeMem(0x58fa, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x7c2a);
        EXPECT(gbc.pc(), 0x58fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // A0 03E6
        gbc.setState(0xc5db, 0xbddc, 0x5050, 0x9d, 0xd48e, 0xe3dc, 0x1, 0x1);
        gbc.writeMem(0xc5db, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xbddc);
        EXPECT(gbc.pc(), 0xc5dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5db), 0xa0);
        // A0 03E7
        gbc.setState(0xc114, 0xfd16, 0x43c0, 0xbda2, 0x47e4, 0xaba4, 0x1, 0x1);
        gbc.writeMem(0xc114, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xfd16);
        EXPECT(gbc.pc(), 0xc115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc114), 0xa0);
    }
