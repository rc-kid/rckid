    TEST(gbcemu, opcode_90) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 90 0000
        gbc.setState(0x926, 0x8708, 0x3c30, 0xb438, 0x3dbd, 0x229b, 0x0, 0x0);
        gbc.writeMem(0x926, { 0x90 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x8708, gbc.sp());
        EXPECT(0x927, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0001
        gbc.setState(0x6a1c, 0xada6, 0x2ca0, 0x8d2c, 0x661d, 0xd2a1, 0x1, 0x1);
        gbc.writeMem(0x6a1c, { 0x90 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xada6, gbc.sp());
        EXPECT(0x6a1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0002
        gbc.setState(0xd6ef, 0x27d6, 0x7530, 0xf740, 0x51f5, 0xfe73, 0x1, 0x0);
        gbc.writeMem(0xd6ef, { 0x90 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x27d6, gbc.sp());
        EXPECT(0xd6f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd6ef));
        // 90 0003
        gbc.setState(0x5d51, 0xba7f, 0x34d0, 0xbe45, 0xdae9, 0xce6a, 0x0, 0x0);
        gbc.writeMem(0x5d51, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xba7f, gbc.sp());
        EXPECT(0x5d52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0004
        gbc.setState(0x3b7d, 0xcca1, 0x51d0, 0xc155, 0xab80, 0x521e, 0x0, 0x0);
        gbc.writeMem(0x3b7d, { 0x90 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xcca1, gbc.sp());
        EXPECT(0x3b7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0005
        gbc.setState(0x2b1b, 0x5f98, 0x6f50, 0xcd09, 0xe4c9, 0x1b48, 0x1, 0x1);
        gbc.writeMem(0x2b1b, { 0x90 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x5f98, gbc.sp());
        EXPECT(0x2b1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0006
        gbc.setState(0x10a2, 0xa927, 0x1650, 0x6f6b, 0x57e2, 0x82f1, 0x0, 0x0);
        gbc.writeMem(0x10a2, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xa927, gbc.sp());
        EXPECT(0x10a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0007
        gbc.setState(0x8338, 0xbff1, 0x29d0, 0xf69d, 0xdf7, 0xf114, 0x1, 0x1);
        gbc.writeMem(0x8338, { 0x90 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xbff1, gbc.sp());
        EXPECT(0x8339, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8338));
        // 90 0008
        gbc.setState(0x27c8, 0xd98f, 0x30f0, 0x5fdd, 0x26ae, 0x323e, 0x0, 0x0);
        gbc.writeMem(0x27c8, { 0x90 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xd98f, gbc.sp());
        EXPECT(0x27c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 000A
        gbc.setState(0xe427, 0xe3e7, 0xfe90, 0x2342, 0xda5d, 0xa154, 0x1, 0x0);
        gbc.writeMem(0xe427, { 0x90 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xe3e7, gbc.sp());
        EXPECT(0xe428, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe427));
        // 90 000B
        gbc.setState(0x3c0c, 0x55c, 0x9e30, 0xc7bb, 0x7951, 0xad0a, 0x0, 0x0);
        gbc.writeMem(0x3c0c, { 0x90 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x55c, gbc.sp());
        EXPECT(0x3c0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 000C
        gbc.setState(0x7c0, 0x26ff, 0xc3b0, 0x4aeb, 0x31b1, 0x7900, 0x1, 0x0);
        gbc.writeMem(0x7c0, { 0x90 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x26ff, gbc.sp());
        EXPECT(0x7c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 000D
        gbc.setState(0x3e34, 0xd546, 0x5a60, 0x8eb2, 0x6648, 0xd5be, 0x1, 0x1);
        gbc.writeMem(0x3e34, { 0x90 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd546, gbc.sp());
        EXPECT(0x3e35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 000E
        gbc.setState(0xaef4, 0x6342, 0x1a20, 0x9a72, 0xd6f, 0x9927, 0x0, 0x0);
        gbc.writeMem(0xaef4, { 0x90 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x6342, gbc.sp());
        EXPECT(0xaef5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaef4));
        // 90 000F
        gbc.setState(0xcd8a, 0x234, 0x3580, 0x60ff, 0x65fa, 0x85f2, 0x0, 0x1);
        gbc.writeMem(0xcd8a, { 0x90 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x234, gbc.sp());
        EXPECT(0xcd8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcd8a));
        // 90 0010
        gbc.setState(0xede4, 0x4435, 0xebc0, 0x32e0, 0x56a6, 0xc4bc, 0x1, 0x1);
        gbc.writeMem(0xede4, { 0x90 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x4435, gbc.sp());
        EXPECT(0xede5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xede4));
        // 90 0011
        gbc.setState(0x382a, 0xf8c3, 0xbe30, 0x37ca, 0x827, 0x8a5b, 0x0, 0x0);
        gbc.writeMem(0x382a, { 0x90 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xf8c3, gbc.sp());
        EXPECT(0x382b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0012
        gbc.setState(0x5dc9, 0x7f91, 0x5e80, 0xd65e, 0x6720, 0x18d2, 0x1, 0x1);
        gbc.writeMem(0x5dc9, { 0x90 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x7f91, gbc.sp());
        EXPECT(0x5dca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0013
        gbc.setState(0x5743, 0xde12, 0xe090, 0xe841, 0xd695, 0xf4e2, 0x0, 0x0);
        gbc.writeMem(0x5743, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xde12, gbc.sp());
        EXPECT(0x5744, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0014
        gbc.setState(0xb964, 0x1b18, 0xd4b0, 0x8665, 0xa128, 0x8f13, 0x0, 0x0);
        gbc.writeMem(0xb964, { 0x90 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x1b18, gbc.sp());
        EXPECT(0xb965, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb964));
        // 90 0015
        gbc.setState(0xe538, 0xd522, 0xefd0, 0x32, 0xa4ca, 0x81f0, 0x1, 0x1);
        gbc.writeMem(0xe538, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xd522, gbc.sp());
        EXPECT(0xe539, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe538));
        // 90 0016
        gbc.setState(0xd226, 0x9e23, 0xc960, 0xbf67, 0xbaab, 0x105d, 0x1, 0x0);
        gbc.writeMem(0xd226, { 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x9e23, gbc.sp());
        EXPECT(0xd227, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd226));
        // 90 0017
        gbc.setState(0x48e5, 0x5cd4, 0x1590, 0xd6da, 0xd943, 0xfd4f, 0x0, 0x0);
        gbc.writeMem(0x48e5, { 0x90 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x5cd4, gbc.sp());
        EXPECT(0x48e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0018
        gbc.setState(0xe898, 0x60e1, 0x9280, 0xd9e1, 0x6c7, 0x16ef, 0x0, 0x1);
        gbc.writeMem(0xe898, { 0x90 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x60e1, gbc.sp());
        EXPECT(0xe899, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe898));
        // 90 0019
        gbc.setState(0x4d10, 0x5660, 0x2bc0, 0x4d84, 0x1508, 0x6fb0, 0x1, 0x0);
        gbc.writeMem(0x4d10, { 0x90 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x5660, gbc.sp());
        EXPECT(0x4d11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 001A
        gbc.setState(0xda55, 0x2f02, 0xddd0, 0xcb7e, 0x2a25, 0xfa5d, 0x0, 0x1);
        gbc.writeMem(0xda55, { 0x90 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x2f02, gbc.sp());
        EXPECT(0xda56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xda55));
        // 90 001B
        gbc.setState(0x333a, 0x1bc, 0x43c0, 0x4102, 0xb9cb, 0xd21f, 0x1, 0x1);
        gbc.writeMem(0x333a, { 0x90 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x1bc, gbc.sp());
        EXPECT(0x333b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 001C
        gbc.setState(0xd14, 0x2653, 0xdae0, 0xdb95, 0xb280, 0x1169, 0x0, 0x0);
        gbc.writeMem(0xd14, { 0x90 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x2653, gbc.sp());
        EXPECT(0xd15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 001D
        gbc.setState(0xa354, 0x6aac, 0xef20, 0x854f, 0xb254, 0x12c9, 0x0, 0x1);
        gbc.writeMem(0xa354, { 0x90 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x6aac, gbc.sp());
        EXPECT(0xa355, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa354));
        // 90 001E
        gbc.setState(0x2b8c, 0xc2fd, 0x4aa0, 0x9924, 0x1de6, 0x53cd, 0x1, 0x1);
        gbc.writeMem(0x2b8c, { 0x90 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xc2fd, gbc.sp());
        EXPECT(0x2b8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 001F
        gbc.setState(0x1234, 0x51e1, 0x6d80, 0x1228, 0x2890, 0xe326, 0x1, 0x0);
        gbc.writeMem(0x1234, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x51e1, gbc.sp());
        EXPECT(0x1235, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0020
        gbc.setState(0x35bf, 0x7939, 0xa270, 0xee91, 0xece2, 0x44d1, 0x0, 0x0);
        gbc.writeMem(0x35bf, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x7939, gbc.sp());
        EXPECT(0x35c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0021
        gbc.setState(0x1025, 0xcf74, 0xa830, 0x77f1, 0x336b, 0x500a, 0x1, 0x0);
        gbc.writeMem(0x1025, { 0x90 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xcf74, gbc.sp());
        EXPECT(0x1026, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0022
        gbc.setState(0x88a2, 0x309e, 0x1cb0, 0x765, 0xef4, 0x2b71, 0x1, 0x0);
        gbc.writeMem(0x88a2, { 0x90 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x309e, gbc.sp());
        EXPECT(0x88a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x88a2));
        // 90 0023
        gbc.setState(0xbc4e, 0x37b9, 0x1bd0, 0x265e, 0x4a45, 0x89bf, 0x0, 0x1);
        gbc.writeMem(0xbc4e, { 0x90 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x37b9, gbc.sp());
        EXPECT(0xbc4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbc4e));
        // 90 0024
        gbc.setState(0xb3b2, 0x3d79, 0x2cb0, 0xb0e2, 0xb4a, 0xf394, 0x0, 0x1);
        gbc.writeMem(0xb3b2, { 0x90 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x3d79, gbc.sp());
        EXPECT(0xb3b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb3b2));
        // 90 0025
        gbc.setState(0xce30, 0xf0d1, 0x9940, 0xe503, 0xde02, 0xd00e, 0x0, 0x1);
        gbc.writeMem(0xce30, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xf0d1, gbc.sp());
        EXPECT(0xce31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xce30));
        // 90 0026
        gbc.setState(0xe6d, 0x362a, 0xc740, 0x7a7, 0xb753, 0x1dce, 0x0, 0x1);
        gbc.writeMem(0xe6d, { 0x90 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x362a, gbc.sp());
        EXPECT(0xe6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0027
        gbc.setState(0xd350, 0x7214, 0x6980, 0xd04d, 0x5b06, 0x8ee4, 0x0, 0x1);
        gbc.writeMem(0xd350, { 0x90 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x7214, gbc.sp());
        EXPECT(0xd351, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd350));
        // 90 0028
        gbc.setState(0xd052, 0x3a0, 0x56b0, 0x898e, 0x3829, 0x1924, 0x0, 0x0);
        gbc.writeMem(0xd052, { 0x90 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x3a0, gbc.sp());
        EXPECT(0xd053, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd052));
        // 90 0029
        gbc.setState(0x1746, 0x1f1f, 0x29f0, 0x64fb, 0x17b4, 0xf758, 0x1, 0x0);
        gbc.writeMem(0x1746, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x1f1f, gbc.sp());
        EXPECT(0x1747, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 002A
        gbc.setState(0x7911, 0xb812, 0x3980, 0xa643, 0x1910, 0x5a1b, 0x1, 0x0);
        gbc.writeMem(0x7911, { 0x90 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xb812, gbc.sp());
        EXPECT(0x7912, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 002B
        gbc.setState(0xe5d, 0xf977, 0xb890, 0xa055, 0x39cf, 0x54b2, 0x1, 0x1);
        gbc.writeMem(0xe5d, { 0x90 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xf977, gbc.sp());
        EXPECT(0xe5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 002C
        gbc.setState(0x21bf, 0xb589, 0xed30, 0x7e8f, 0xb9da, 0x4238, 0x0, 0x1);
        gbc.writeMem(0x21bf, { 0x90 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xb589, gbc.sp());
        EXPECT(0x21c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 002D
        gbc.setState(0x7c9d, 0xd0cf, 0x9b30, 0xc1d9, 0x6f22, 0xd0ba, 0x0, 0x0);
        gbc.writeMem(0x7c9d, { 0x90 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xd0cf, gbc.sp());
        EXPECT(0x7c9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 002E
        gbc.setState(0xd5d3, 0xe7a1, 0x3280, 0x4e63, 0x2381, 0x3aa6, 0x1, 0x0);
        gbc.writeMem(0xd5d3, { 0x90 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xe7a1, gbc.sp());
        EXPECT(0xd5d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd5d3));
        // 90 002F
        gbc.setState(0x2c7d, 0x24ff, 0x84b0, 0xb1d0, 0xde06, 0xafa9, 0x1, 0x0);
        gbc.writeMem(0x2c7d, { 0x90 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x24ff, gbc.sp());
        EXPECT(0x2c7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0030
        gbc.setState(0x42a8, 0xab9a, 0x3970, 0x2c3a, 0xce60, 0x359a, 0x1, 0x1);
        gbc.writeMem(0x42a8, { 0x90 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xab9a, gbc.sp());
        EXPECT(0x42a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0031
        gbc.setState(0xb65a, 0xaf66, 0xdd0, 0x3a40, 0xde4f, 0x220a, 0x1, 0x0);
        gbc.writeMem(0xb65a, { 0x90 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xaf66, gbc.sp());
        EXPECT(0xb65b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb65a));
        // 90 0032
        gbc.setState(0xb599, 0xe410, 0xabd0, 0xee8a, 0x87e3, 0xb783, 0x1, 0x0);
        gbc.writeMem(0xb599, { 0x90 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xe410, gbc.sp());
        EXPECT(0xb59a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb599));
        // 90 0033
        gbc.setState(0x21df, 0xe409, 0x59a0, 0x95c0, 0xa348, 0x50d0, 0x0, 0x0);
        gbc.writeMem(0x21df, { 0x90 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xe409, gbc.sp());
        EXPECT(0x21e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0034
        gbc.setState(0x10a0, 0xdede, 0xc1c0, 0x290a, 0xf1fd, 0x8fa1, 0x0, 0x0);
        gbc.writeMem(0x10a0, { 0x90 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xdede, gbc.sp());
        EXPECT(0x10a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0035
        gbc.setState(0x6515, 0x321c, 0xff0, 0x78a6, 0xf51f, 0xf8b9, 0x0, 0x0);
        gbc.writeMem(0x6515, { 0x90 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x321c, gbc.sp());
        EXPECT(0x6516, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0036
        gbc.setState(0x7af6, 0x6297, 0x9e50, 0x682b, 0x128a, 0x507d, 0x0, 0x1);
        gbc.writeMem(0x7af6, { 0x90 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x6297, gbc.sp());
        EXPECT(0x7af7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0037
        gbc.setState(0xba3d, 0x8612, 0xce10, 0x7b83, 0x5ce8, 0xd74e, 0x0, 0x0);
        gbc.writeMem(0xba3d, { 0x90 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x8612, gbc.sp());
        EXPECT(0xba3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xba3d));
        // 90 0038
        gbc.setState(0xb606, 0x7a89, 0xd9e0, 0xfae1, 0xb810, 0x9253, 0x1, 0x0);
        gbc.writeMem(0xb606, { 0x90 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x7a89, gbc.sp());
        EXPECT(0xb607, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb606));
        // 90 0039
        gbc.setState(0x18db, 0x5ad6, 0x65e0, 0xc5a3, 0xfde9, 0x3c86, 0x0, 0x0);
        gbc.writeMem(0x18db, { 0x90 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x5ad6, gbc.sp());
        EXPECT(0x18dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 003A
        gbc.setState(0xa522, 0xfd14, 0x51e0, 0x7ec, 0x3794, 0xb5f7, 0x0, 0x1);
        gbc.writeMem(0xa522, { 0x90 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xfd14, gbc.sp());
        EXPECT(0xa523, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa522));
        // 90 003B
        gbc.setState(0x5f, 0xebc0, 0x8e80, 0x236a, 0xc15d, 0x40d1, 0x1, 0x1);
        gbc.writeMem(0x5f, { 0x90 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xebc0, gbc.sp());
        EXPECT(0x60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 003C
        gbc.setState(0x80c4, 0xb810, 0xbc30, 0x406f, 0xb4dd, 0xa545, 0x0, 0x1);
        gbc.writeMem(0x80c4, { 0x90 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xb810, gbc.sp());
        EXPECT(0x80c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x80c4));
        // 90 003D
        gbc.setState(0x9dd2, 0x21f8, 0xaa20, 0x7e8c, 0x6910, 0x2f9f, 0x0, 0x0);
        gbc.writeMem(0x9dd2, { 0x90 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x21f8, gbc.sp());
        EXPECT(0x9dd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9dd2));
        // 90 003E
        gbc.setState(0x6bab, 0x7a4a, 0xf120, 0x3e96, 0x534e, 0x741, 0x1, 0x0);
        gbc.writeMem(0x6bab, { 0x90 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x7a4a, gbc.sp());
        EXPECT(0x6bac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 003F
        gbc.setState(0x471a, 0x485, 0xbe20, 0x779, 0xd736, 0xf074, 0x0, 0x0);
        gbc.writeMem(0x471a, { 0x90 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x485, gbc.sp());
        EXPECT(0x471b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0040
        gbc.setState(0x3dec, 0xc1d0, 0x1460, 0x3de8, 0xde10, 0x733b, 0x1, 0x0);
        gbc.writeMem(0x3dec, { 0x90 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xc1d0, gbc.sp());
        EXPECT(0x3ded, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0041
        gbc.setState(0xc4c, 0xad71, 0x4630, 0x1c88, 0x99f6, 0x4b3e, 0x1, 0x1);
        gbc.writeMem(0xc4c, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xad71, gbc.sp());
        EXPECT(0xc4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0042
        gbc.setState(0x98db, 0x68e4, 0x33f0, 0x6ed4, 0x1a9a, 0x8a15, 0x0, 0x0);
        gbc.writeMem(0x98db, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x68e4, gbc.sp());
        EXPECT(0x98dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x98db));
        // 90 0043
        gbc.setState(0x1777, 0x5eb2, 0x1ce0, 0xa5b4, 0xa662, 0xe50d, 0x0, 0x1);
        gbc.writeMem(0x1777, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x5eb2, gbc.sp());
        EXPECT(0x1778, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0044
        gbc.setState(0x3cee, 0x94db, 0x54e0, 0x4c68, 0xc39f, 0x852b, 0x1, 0x0);
        gbc.writeMem(0x3cee, { 0x90 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x94db, gbc.sp());
        EXPECT(0x3cef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0045
        gbc.setState(0x4a0a, 0x1e54, 0x69a0, 0x7210, 0x7194, 0xc965, 0x0, 0x1);
        gbc.writeMem(0x4a0a, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x1e54, gbc.sp());
        EXPECT(0x4a0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0046
        gbc.setState(0x1417, 0xdd13, 0x34d0, 0x8ceb, 0x96e2, 0x1f22, 0x0, 0x0);
        gbc.writeMem(0x1417, { 0x90 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xdd13, gbc.sp());
        EXPECT(0x1418, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0047
        gbc.setState(0x66b3, 0x3702, 0x18b0, 0xd8ab, 0xaf0e, 0x4244, 0x1, 0x0);
        gbc.writeMem(0x66b3, { 0x90 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x3702, gbc.sp());
        EXPECT(0x66b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0048
        gbc.setState(0x9db2, 0xfa80, 0xd930, 0x320e, 0x759a, 0xceab, 0x0, 0x1);
        gbc.writeMem(0x9db2, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xfa80, gbc.sp());
        EXPECT(0x9db3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9db2));
        // 90 0049
        gbc.setState(0x8d5c, 0x654, 0x6dc0, 0xa1aa, 0x10b3, 0x121, 0x0, 0x1);
        gbc.writeMem(0x8d5c, { 0x90 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x654, gbc.sp());
        EXPECT(0x8d5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8d5c));
        // 90 004A
        gbc.setState(0xae79, 0xcd4e, 0xd9b0, 0x92d9, 0x5a86, 0x5890, 0x1, 0x0);
        gbc.writeMem(0xae79, { 0x90 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xcd4e, gbc.sp());
        EXPECT(0xae7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xae79));
        // 90 004B
        gbc.setState(0x5196, 0xc457, 0xc7d0, 0x91c2, 0x1dd3, 0x18c, 0x0, 0x0);
        gbc.writeMem(0x5196, { 0x90 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xc457, gbc.sp());
        EXPECT(0x5197, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 004D
        gbc.setState(0xafb6, 0x5fa2, 0x68a0, 0xe20, 0x5100, 0xe581, 0x1, 0x1);
        gbc.writeMem(0xafb6, { 0x90 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x5fa2, gbc.sp());
        EXPECT(0xafb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xafb6));
        // 90 004E
        gbc.setState(0x4554, 0xd29f, 0xddb0, 0xa2b1, 0x6456, 0x1be5, 0x1, 0x1);
        gbc.writeMem(0x4554, { 0x90 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xd29f, gbc.sp());
        EXPECT(0x4555, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 004F
        gbc.setState(0x1b3d, 0x554c, 0xef10, 0xa57, 0x28d, 0x3e0e, 0x0, 0x0);
        gbc.writeMem(0x1b3d, { 0x90 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x554c, gbc.sp());
        EXPECT(0x1b3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0050
        gbc.setState(0x7c8d, 0xf88d, 0xd7b0, 0x698e, 0x7498, 0x6906, 0x0, 0x0);
        gbc.writeMem(0x7c8d, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf88d, gbc.sp());
        EXPECT(0x7c8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0051
        gbc.setState(0xeed2, 0xff5, 0xea60, 0x7861, 0xd6b6, 0xd59e, 0x0, 0x1);
        gbc.writeMem(0xeed2, { 0x90 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xff5, gbc.sp());
        EXPECT(0xeed3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeed2));
        // 90 0052
        gbc.setState(0xa695, 0xa7df, 0x6a0, 0xda3b, 0x1d3b, 0x922, 0x0, 0x1);
        gbc.writeMem(0xa695, { 0x90 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xa7df, gbc.sp());
        EXPECT(0xa696, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa695));
        // 90 0053
        gbc.setState(0xea5c, 0x3708, 0xb660, 0x7c7f, 0x9ff, 0x1b2f, 0x1, 0x0);
        gbc.writeMem(0xea5c, { 0x90 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x3708, gbc.sp());
        EXPECT(0xea5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xea5c));
        // 90 0054
        gbc.setState(0x8f65, 0x7a00, 0x1d70, 0x8255, 0x9928, 0x7fc8, 0x0, 0x1);
        gbc.writeMem(0x8f65, { 0x90 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x7a00, gbc.sp());
        EXPECT(0x8f66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8f65));
        // 90 0056
        gbc.setState(0x4edb, 0x7921, 0x35b0, 0xa364, 0xe351, 0x26a2, 0x1, 0x1);
        gbc.writeMem(0x4edb, { 0x90 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7921, gbc.sp());
        EXPECT(0x4edc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0057
        gbc.setState(0xa238, 0x4eb2, 0x4470, 0x617c, 0x4fba, 0xdb5e, 0x0, 0x0);
        gbc.writeMem(0xa238, { 0x90 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x4eb2, gbc.sp());
        EXPECT(0xa239, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa238));
        // 90 0058
        gbc.setState(0x2661, 0x86b3, 0xc0, 0xcde7, 0x1b15, 0xf42, 0x0, 0x1);
        gbc.writeMem(0x2661, { 0x90 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x86b3, gbc.sp());
        EXPECT(0x2662, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0059
        gbc.setState(0x43d8, 0x2f57, 0x9a40, 0x66f2, 0x526c, 0xc9ae, 0x1, 0x1);
        gbc.writeMem(0x43d8, { 0x90 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x2f57, gbc.sp());
        EXPECT(0x43d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 005A
        gbc.setState(0x4411, 0x16de, 0x7500, 0x73dd, 0x6afa, 0x34ea, 0x1, 0x0);
        gbc.writeMem(0x4411, { 0x90 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x16de, gbc.sp());
        EXPECT(0x4412, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 005B
        gbc.setState(0xd26d, 0x7b34, 0x9a0, 0xb843, 0xd09c, 0x5b4d, 0x1, 0x0);
        gbc.writeMem(0xd26d, { 0x90 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x7b34, gbc.sp());
        EXPECT(0xd26e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd26d));
        // 90 005C
        gbc.setState(0x753e, 0x8454, 0x6fb0, 0xc3c6, 0x431b, 0x9c02, 0x0, 0x1);
        gbc.writeMem(0x753e, { 0x90 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x8454, gbc.sp());
        EXPECT(0x753f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 005D
        gbc.setState(0xea0d, 0x6d6e, 0x4a00, 0x526a, 0xd485, 0x2004, 0x0, 0x0);
        gbc.writeMem(0xea0d, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6d6e, gbc.sp());
        EXPECT(0xea0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xea0d));
        // 90 005E
        gbc.setState(0xa2e5, 0x1165, 0x74d0, 0xcbba, 0x29b4, 0x8d8, 0x1, 0x0);
        gbc.writeMem(0xa2e5, { 0x90 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x1165, gbc.sp());
        EXPECT(0xa2e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa2e5));
        // 90 005F
        gbc.setState(0xa58d, 0x5ce6, 0x3f00, 0x255e, 0xf041, 0xc4f0, 0x1, 0x0);
        gbc.writeMem(0xa58d, { 0x90 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5ce6, gbc.sp());
        EXPECT(0xa58e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa58d));
        // 90 0060
        gbc.setState(0x31b6, 0x3e75, 0xe6a0, 0xdcac, 0x35c, 0x1980, 0x1, 0x0);
        gbc.writeMem(0x31b6, { 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x3e75, gbc.sp());
        EXPECT(0x31b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0061
        gbc.setState(0xcd2c, 0x756e, 0xdb80, 0xf7f3, 0x9d7f, 0x5aa3, 0x0, 0x0);
        gbc.writeMem(0xcd2c, { 0x90 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x756e, gbc.sp());
        EXPECT(0xcd2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcd2c));
        // 90 0062
        gbc.setState(0x97c, 0x2856, 0x2c10, 0x9d40, 0x5788, 0x42d, 0x0, 0x0);
        gbc.writeMem(0x97c, { 0x90 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x2856, gbc.sp());
        EXPECT(0x97d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0063
        gbc.setState(0x12d7, 0x7c98, 0xc540, 0xd4a4, 0xb9a0, 0x49b6, 0x1, 0x1);
        gbc.writeMem(0x12d7, { 0x90 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7c98, gbc.sp());
        EXPECT(0x12d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0064
        gbc.setState(0x783e, 0x5d8b, 0x6e50, 0x7b81, 0x2b8, 0x5377, 0x1, 0x1);
        gbc.writeMem(0x783e, { 0x90 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x5d8b, gbc.sp());
        EXPECT(0x783f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0065
        gbc.setState(0xcaec, 0x2ec6, 0xb360, 0xdf45, 0x1bf7, 0x412f, 0x1, 0x1);
        gbc.writeMem(0xcaec, { 0x90 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x2ec6, gbc.sp());
        EXPECT(0xcaed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcaec));
        // 90 0066
        gbc.setState(0xda49, 0x7e1f, 0x360, 0x920, 0x6d6f, 0x90d4, 0x0, 0x1);
        gbc.writeMem(0xda49, { 0x90 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x7e1f, gbc.sp());
        EXPECT(0xda4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xda49));
        // 90 0067
        gbc.setState(0x8821, 0x9ae5, 0x6830, 0x90e5, 0x2094, 0x940f, 0x1, 0x0);
        gbc.writeMem(0x8821, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x9ae5, gbc.sp());
        EXPECT(0x8822, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8821));
        // 90 0068
        gbc.setState(0x168e, 0x8998, 0x80f0, 0x3a33, 0x4cb2, 0x4a3f, 0x0, 0x0);
        gbc.writeMem(0x168e, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x8998, gbc.sp());
        EXPECT(0x168f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0069
        gbc.setState(0x9232, 0xde17, 0xd3f0, 0x4f36, 0xfd13, 0x535f, 0x0, 0x1);
        gbc.writeMem(0x9232, { 0x90 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xde17, gbc.sp());
        EXPECT(0x9233, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9232));
        // 90 006A
        gbc.setState(0xad0c, 0x4a8d, 0x83d0, 0x5bf, 0xc87c, 0x5af, 0x1, 0x1);
        gbc.writeMem(0xad0c, { 0x90 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x4a8d, gbc.sp());
        EXPECT(0xad0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xad0c));
        // 90 006B
        gbc.setState(0xf, 0xb66d, 0x8130, 0xab57, 0xf427, 0x5ebc, 0x0, 0x1);
        gbc.writeMem(0xf, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb66d, gbc.sp());
        EXPECT(0x10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 006C
        gbc.setState(0x9b63, 0xeea8, 0x21b0, 0x7296, 0x99e0, 0x89ee, 0x1, 0x0);
        gbc.writeMem(0x9b63, { 0x90 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xeea8, gbc.sp());
        EXPECT(0x9b64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9b63));
        // 90 006D
        gbc.setState(0x33cb, 0xe715, 0x8010, 0xcaf2, 0x972, 0xc9b3, 0x1, 0x0);
        gbc.writeMem(0x33cb, { 0x90 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xe715, gbc.sp());
        EXPECT(0x33cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 006E
        gbc.setState(0xd077, 0x1092, 0x32c0, 0x219f, 0x8baf, 0xbdf3, 0x1, 0x1);
        gbc.writeMem(0xd077, { 0x90 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x1092, gbc.sp());
        EXPECT(0xd078, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd077));
        // 90 006F
        gbc.setState(0xd305, 0xf632, 0x1920, 0x1cde, 0x96d5, 0x53c7, 0x0, 0x0);
        gbc.writeMem(0xd305, { 0x90 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xf632, gbc.sp());
        EXPECT(0xd306, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd305));
        // 90 0070
        gbc.setState(0xbb1b, 0xc6c, 0x7f40, 0x57, 0x7390, 0x4db7, 0x0, 0x1);
        gbc.writeMem(0xbb1b, { 0x90 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xc6c, gbc.sp());
        EXPECT(0xbb1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbb1b));
        // 90 0071
        gbc.setState(0xdaf0, 0x76bc, 0x7380, 0xc9a, 0x9fa3, 0xef54, 0x0, 0x0);
        gbc.writeMem(0xdaf0, { 0x90 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x76bc, gbc.sp());
        EXPECT(0xdaf1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdaf0));
        // 90 0072
        gbc.setState(0x3bc9, 0xf18f, 0x8b0, 0x2c3e, 0xecf3, 0xad27, 0x0, 0x1);
        gbc.writeMem(0x3bc9, { 0x90 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xf18f, gbc.sp());
        EXPECT(0x3bca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0073
        gbc.setState(0xce8b, 0xf4a3, 0x9470, 0xb6a2, 0x8a91, 0x922e, 0x1, 0x1);
        gbc.writeMem(0xce8b, { 0x90 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xf4a3, gbc.sp());
        EXPECT(0xce8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xce8b));
        // 90 0074
        gbc.setState(0x965a, 0x593a, 0x6260, 0x95b9, 0x77a, 0xe5f6, 0x1, 0x0);
        gbc.writeMem(0x965a, { 0x90 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x593a, gbc.sp());
        EXPECT(0x965b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x965a));
        // 90 0075
        gbc.setState(0xa2f1, 0x545d, 0x23d0, 0x162d, 0x906, 0xfa2e, 0x1, 0x1);
        gbc.writeMem(0xa2f1, { 0x90 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x545d, gbc.sp());
        EXPECT(0xa2f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa2f1));
        // 90 0076
        gbc.setState(0x7739, 0xe4d7, 0xa9a0, 0xb32c, 0xb2a, 0x7a83, 0x1, 0x0);
        gbc.writeMem(0x7739, { 0x90 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xe4d7, gbc.sp());
        EXPECT(0x773a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0077
        gbc.setState(0xc6b9, 0x5c2, 0x4bc0, 0xcae9, 0xcdaf, 0x69b7, 0x1, 0x1);
        gbc.writeMem(0xc6b9, { 0x90 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x5c2, gbc.sp());
        EXPECT(0xc6ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc6b9));
        // 90 0078
        gbc.setState(0x99b0, 0xec72, 0xa890, 0x1059, 0x941a, 0xe905, 0x0, 0x1);
        gbc.writeMem(0x99b0, { 0x90 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xec72, gbc.sp());
        EXPECT(0x99b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x99b0));
        // 90 0079
        gbc.setState(0xa289, 0xa271, 0x6d70, 0x1b88, 0xbc5a, 0x348f, 0x0, 0x0);
        gbc.writeMem(0xa289, { 0x90 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xa271, gbc.sp());
        EXPECT(0xa28a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa289));
        // 90 007A
        gbc.setState(0xa31b, 0xa9ed, 0xe1e0, 0xd083, 0xa4cb, 0xe6e4, 0x1, 0x1);
        gbc.writeMem(0xa31b, { 0x90 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xa9ed, gbc.sp());
        EXPECT(0xa31c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa31b));
        // 90 007B
        gbc.setState(0xd8df, 0xa20a, 0xce00, 0x434a, 0x2514, 0x4a06, 0x1, 0x0);
        gbc.writeMem(0xd8df, { 0x90 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xa20a, gbc.sp());
        EXPECT(0xd8e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd8df));
        // 90 007C
        gbc.setState(0x7707, 0xfffe, 0x8a0, 0x32a1, 0xe1fa, 0x8e76, 0x0, 0x1);
        gbc.writeMem(0x7707, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xfffe, gbc.sp());
        EXPECT(0x7708, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 007D
        gbc.setState(0x37e1, 0x1006, 0xd4b0, 0x66d8, 0xb62, 0x201, 0x1, 0x0);
        gbc.writeMem(0x37e1, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x1006, gbc.sp());
        EXPECT(0x37e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 007E
        gbc.setState(0x596c, 0xac48, 0xe90, 0x2e6, 0xa585, 0xa6e8, 0x1, 0x0);
        gbc.writeMem(0x596c, { 0x90 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xac48, gbc.sp());
        EXPECT(0x596d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 007F
        gbc.setState(0x578c, 0x4bb7, 0x3ad0, 0x97a3, 0x28a3, 0x53a0, 0x1, 0x0);
        gbc.writeMem(0x578c, { 0x90 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x4bb7, gbc.sp());
        EXPECT(0x578d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0080
        gbc.setState(0xd9d9, 0x5a99, 0xd2a0, 0xff8a, 0xcc02, 0xd76e, 0x1, 0x0);
        gbc.writeMem(0xd9d9, { 0x90 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x5a99, gbc.sp());
        EXPECT(0xd9da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd9d9));
        // 90 0081
        gbc.setState(0x27b, 0x4446, 0xd9d0, 0x164d, 0x4d4a, 0xf8cd, 0x1, 0x0);
        gbc.writeMem(0x27b, { 0x90 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x4446, gbc.sp());
        EXPECT(0x27c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0083
        gbc.setState(0x3ede, 0x34d5, 0xbd80, 0x64e3, 0xb55f, 0x3cae, 0x1, 0x1);
        gbc.writeMem(0x3ede, { 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x34d5, gbc.sp());
        EXPECT(0x3edf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0084
        gbc.setState(0x3f2a, 0x70f2, 0x3750, 0xc7ac, 0x5d5d, 0xc429, 0x0, 0x0);
        gbc.writeMem(0x3f2a, { 0x90 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x70f2, gbc.sp());
        EXPECT(0x3f2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0085
        gbc.setState(0x16ef, 0xe425, 0x36f0, 0xbcd1, 0xb7a5, 0x69d9, 0x1, 0x1);
        gbc.writeMem(0x16ef, { 0x90 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xe425, gbc.sp());
        EXPECT(0x16f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0086
        gbc.setState(0x344b, 0x7cd0, 0x7650, 0x6321, 0x15d5, 0xfc0c, 0x0, 0x1);
        gbc.writeMem(0x344b, { 0x90 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x7cd0, gbc.sp());
        EXPECT(0x344c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0087
        gbc.setState(0x13f1, 0x5e13, 0x8630, 0x671e, 0x7357, 0xfd9c, 0x0, 0x1);
        gbc.writeMem(0x13f1, { 0x90 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x5e13, gbc.sp());
        EXPECT(0x13f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0088
        gbc.setState(0x4570, 0x667a, 0x7df0, 0x21fd, 0x55b2, 0xcf91, 0x0, 0x0);
        gbc.writeMem(0x4570, { 0x90 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x667a, gbc.sp());
        EXPECT(0x4571, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 008A
        gbc.setState(0x5179, 0x4ffc, 0xe060, 0x2c0d, 0x325e, 0x9e77, 0x1, 0x1);
        gbc.writeMem(0x5179, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x4ffc, gbc.sp());
        EXPECT(0x517a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 008B
        gbc.setState(0x9819, 0xcd42, 0x5f90, 0x6da7, 0x6564, 0xfd24, 0x1, 0x1);
        gbc.writeMem(0x9819, { 0x90 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xcd42, gbc.sp());
        EXPECT(0x981a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9819));
        // 90 008C
        gbc.setState(0x1fb3, 0x4a3a, 0x2ac0, 0xdcfa, 0xd1f5, 0xef9, 0x1, 0x0);
        gbc.writeMem(0x1fb3, { 0x90 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x4a3a, gbc.sp());
        EXPECT(0x1fb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 008D
        gbc.setState(0xcb35, 0x7556, 0x28f0, 0x93fc, 0xbe87, 0x2fdf, 0x0, 0x1);
        gbc.writeMem(0xcb35, { 0x90 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x7556, gbc.sp());
        EXPECT(0xcb36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcb35));
        // 90 008E
        gbc.setState(0xa9a1, 0x1949, 0xa190, 0x9243, 0xc033, 0xf593, 0x1, 0x1);
        gbc.writeMem(0xa9a1, { 0x90 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x1949, gbc.sp());
        EXPECT(0xa9a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa9a1));
        // 90 008F
        gbc.setState(0xbeab, 0x8adf, 0x19c0, 0xb9e4, 0x25c8, 0x5151, 0x1, 0x0);
        gbc.writeMem(0xbeab, { 0x90 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x8adf, gbc.sp());
        EXPECT(0xbeac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbeab));
        // 90 0090
        gbc.setState(0x75ea, 0x1cb, 0xdd70, 0xb358, 0x17db, 0x4fe1, 0x0, 0x0);
        gbc.writeMem(0x75ea, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x1cb, gbc.sp());
        EXPECT(0x75eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0091
        gbc.setState(0xc7a6, 0x9418, 0x6610, 0xd73b, 0xcaae, 0xd32b, 0x0, 0x1);
        gbc.writeMem(0xc7a6, { 0x90 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x9418, gbc.sp());
        EXPECT(0xc7a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc7a6));
        // 90 0092
        gbc.setState(0x4796, 0xaa6e, 0x9e00, 0xc618, 0x3d6a, 0x987f, 0x1, 0x1);
        gbc.writeMem(0x4796, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xaa6e, gbc.sp());
        EXPECT(0x4797, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0093
        gbc.setState(0x5d6e, 0x8cad, 0x4610, 0xf628, 0x6c73, 0x6768, 0x1, 0x0);
        gbc.writeMem(0x5d6e, { 0x90 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8cad, gbc.sp());
        EXPECT(0x5d6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0094
        gbc.setState(0xd6c2, 0x8d92, 0x3b40, 0xef57, 0x8d0b, 0x4aaa, 0x0, 0x1);
        gbc.writeMem(0xd6c2, { 0x90 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x8d92, gbc.sp());
        EXPECT(0xd6c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd6c2));
        // 90 0095
        gbc.setState(0x1423, 0x6755, 0x6a50, 0x2a0a, 0x5c44, 0x621c, 0x1, 0x0);
        gbc.writeMem(0x1423, { 0x90 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x6755, gbc.sp());
        EXPECT(0x1424, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0096
        gbc.setState(0x451f, 0x3b4a, 0x50b0, 0xa2ac, 0x7c44, 0xf460, 0x1, 0x0);
        gbc.writeMem(0x451f, { 0x90 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x3b4a, gbc.sp());
        EXPECT(0x4520, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0097
        gbc.setState(0x17fa, 0xb8a, 0x9c0, 0xc289, 0x5b1e, 0x3ca0, 0x0, 0x0);
        gbc.writeMem(0x17fa, { 0x90 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xb8a, gbc.sp());
        EXPECT(0x17fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0098
        gbc.setState(0x144e, 0xc0e4, 0x4e90, 0x8b5, 0x3045, 0x6dc2, 0x1, 0x0);
        gbc.writeMem(0x144e, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xc0e4, gbc.sp());
        EXPECT(0x144f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0099
        gbc.setState(0xd580, 0x7d04, 0xf50, 0xa2c0, 0x86d8, 0xe778, 0x1, 0x0);
        gbc.writeMem(0xd580, { 0x90 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x7d04, gbc.sp());
        EXPECT(0xd581, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd580));
        // 90 009A
        gbc.setState(0x2dd1, 0xf21f, 0x8620, 0x4d54, 0x4f2a, 0xfc5c, 0x0, 0x0);
        gbc.writeMem(0x2dd1, { 0x90 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xf21f, gbc.sp());
        EXPECT(0x2dd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 009B
        gbc.setState(0x7c17, 0xd5d, 0xefd0, 0x7fce, 0x5e3d, 0xd86c, 0x1, 0x1);
        gbc.writeMem(0x7c17, { 0x90 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xd5d, gbc.sp());
        EXPECT(0x7c18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 009C
        gbc.setState(0x781c, 0x9627, 0xf900, 0xd7f1, 0x1b7d, 0xe7bc, 0x1, 0x0);
        gbc.writeMem(0x781c, { 0x90 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x9627, gbc.sp());
        EXPECT(0x781d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 009D
        gbc.setState(0x404a, 0xa9e, 0xb880, 0x6b1e, 0xd674, 0xa038, 0x0, 0x0);
        gbc.writeMem(0x404a, { 0x90 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xa9e, gbc.sp());
        EXPECT(0x404b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 009E
        gbc.setState(0xbdf7, 0x5ef, 0x5ab0, 0xd1aa, 0x86a3, 0x1e9b, 0x1, 0x0);
        gbc.writeMem(0xbdf7, { 0x90 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x5ef, gbc.sp());
        EXPECT(0xbdf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbdf7));
        // 90 009F
        gbc.setState(0xde76, 0xe35b, 0x78f0, 0x1cee, 0xceed, 0x8d5f, 0x0, 0x1);
        gbc.writeMem(0xde76, { 0x90 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xe35b, gbc.sp());
        EXPECT(0xde77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xde76));
        // 90 00A0
        gbc.setState(0x3073, 0x7f54, 0xa830, 0x5007, 0x3b9b, 0xd4b6, 0x1, 0x0);
        gbc.writeMem(0x3073, { 0x90 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7f54, gbc.sp());
        EXPECT(0x3074, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00A2
        gbc.setState(0xb663, 0xd53e, 0xf7b0, 0xfda2, 0xcc9, 0xe3e1, 0x1, 0x0);
        gbc.writeMem(0xb663, { 0x90 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xd53e, gbc.sp());
        EXPECT(0xb664, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb663));
        // 90 00A3
        gbc.setState(0xd7a5, 0x41f6, 0x85c0, 0x8f7d, 0x5de0, 0xbc63, 0x0, 0x1);
        gbc.writeMem(0xd7a5, { 0x90 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x41f6, gbc.sp());
        EXPECT(0xd7a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd7a5));
        // 90 00A4
        gbc.setState(0x60e3, 0xc32b, 0xd650, 0x351a, 0x501e, 0x54f7, 0x0, 0x1);
        gbc.writeMem(0x60e3, { 0x90 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xc32b, gbc.sp());
        EXPECT(0x60e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00A5
        gbc.setState(0x6248, 0x24f8, 0x4c20, 0x1393, 0x6007, 0xd84b, 0x1, 0x1);
        gbc.writeMem(0x6248, { 0x90 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x24f8, gbc.sp());
        EXPECT(0x6249, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00A6
        gbc.setState(0x652c, 0x5601, 0x1430, 0x5847, 0x60ff, 0xb803, 0x1, 0x0);
        gbc.writeMem(0x652c, { 0x90 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x5601, gbc.sp());
        EXPECT(0x652d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00A7
        gbc.setState(0x7675, 0x6b4d, 0x8040, 0xe2de, 0x5c70, 0x537e, 0x1, 0x1);
        gbc.writeMem(0x7675, { 0x90 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x6b4d, gbc.sp());
        EXPECT(0x7676, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00A8
        gbc.setState(0xc093, 0xf127, 0x6a10, 0x3f27, 0xeb25, 0x9b9, 0x1, 0x0);
        gbc.writeMem(0xc093, { 0x90 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xf127, gbc.sp());
        EXPECT(0xc094, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc093));
        // 90 00A9
        gbc.setState(0x9f34, 0x5f3d, 0x5400, 0x530f, 0xa726, 0x7cb2, 0x0, 0x0);
        gbc.writeMem(0x9f34, { 0x90 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x5f3d, gbc.sp());
        EXPECT(0x9f35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9f34));
        // 90 00AA
        gbc.setState(0x52c3, 0x89f5, 0xf300, 0x1143, 0xaba2, 0x1ae6, 0x1, 0x1);
        gbc.writeMem(0x52c3, { 0x90 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x89f5, gbc.sp());
        EXPECT(0x52c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00AB
        gbc.setState(0x3508, 0x9109, 0x5590, 0x8329, 0x2fd4, 0xd856, 0x0, 0x1);
        gbc.writeMem(0x3508, { 0x90 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x9109, gbc.sp());
        EXPECT(0x3509, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00AC
        gbc.setState(0xeaf8, 0x2005, 0xb230, 0xdc0a, 0xed65, 0x4f75, 0x0, 0x1);
        gbc.writeMem(0xeaf8, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x2005, gbc.sp());
        EXPECT(0xeaf9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeaf8));
        // 90 00AD
        gbc.setState(0xe9e7, 0x6571, 0x2cd0, 0x3db6, 0x6054, 0x693f, 0x1, 0x0);
        gbc.writeMem(0xe9e7, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x6571, gbc.sp());
        EXPECT(0xe9e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe9e7));
        // 90 00AE
        gbc.setState(0x1eef, 0x5e60, 0x5200, 0x2b23, 0x5a5e, 0x9dc6, 0x1, 0x0);
        gbc.writeMem(0x1eef, { 0x90 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x5e60, gbc.sp());
        EXPECT(0x1ef0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00AF
        gbc.setState(0x52e5, 0x2516, 0x27d0, 0x9135, 0x429d, 0x4ec0, 0x1, 0x0);
        gbc.writeMem(0x52e5, { 0x90 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x2516, gbc.sp());
        EXPECT(0x52e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00B0
        gbc.setState(0xe569, 0x9c82, 0x570, 0xb55, 0x6071, 0x371f, 0x0, 0x0);
        gbc.writeMem(0xe569, { 0x90 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x9c82, gbc.sp());
        EXPECT(0xe56a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe569));
        // 90 00B1
        gbc.setState(0x5f53, 0x17dc, 0x5970, 0x6ac2, 0xcad9, 0x43b3, 0x0, 0x0);
        gbc.writeMem(0x5f53, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x17dc, gbc.sp());
        EXPECT(0x5f54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00B2
        gbc.setState(0xce5e, 0xa3a6, 0x8000, 0xbd1, 0x3d8c, 0x2edf, 0x1, 0x1);
        gbc.writeMem(0xce5e, { 0x90 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xa3a6, gbc.sp());
        EXPECT(0xce5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xce5e));
        // 90 00B3
        gbc.setState(0xb64e, 0x9419, 0xd150, 0x12c0, 0x4294, 0xee06, 0x0, 0x1);
        gbc.writeMem(0xb64e, { 0x90 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x9419, gbc.sp());
        EXPECT(0xb64f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb64e));
        // 90 00B5
        gbc.setState(0xddc3, 0x5c34, 0xef90, 0x716e, 0x9a14, 0x4088, 0x0, 0x1);
        gbc.writeMem(0xddc3, { 0x90 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x5c34, gbc.sp());
        EXPECT(0xddc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xddc3));
        // 90 00B6
        gbc.setState(0xd0f4, 0x29f9, 0x4c10, 0xd93e, 0x3324, 0x9d01, 0x0, 0x0);
        gbc.writeMem(0xd0f4, { 0x90 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x29f9, gbc.sp());
        EXPECT(0xd0f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd0f4));
        // 90 00B7
        gbc.setState(0x64a4, 0x62ac, 0xce90, 0xe783, 0x4a5c, 0x9114, 0x0, 0x1);
        gbc.writeMem(0x64a4, { 0x90 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x62ac, gbc.sp());
        EXPECT(0x64a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00B8
        gbc.setState(0xe37e, 0x9d1f, 0x6810, 0xfc5d, 0xc3f1, 0x8752, 0x1, 0x0);
        gbc.writeMem(0xe37e, { 0x90 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x9d1f, gbc.sp());
        EXPECT(0xe37f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe37e));
        // 90 00B9
        gbc.setState(0x73ea, 0xf584, 0xa0e0, 0x441b, 0x8475, 0x58ce, 0x1, 0x0);
        gbc.writeMem(0x73ea, { 0x90 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xf584, gbc.sp());
        EXPECT(0x73eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00BA
        gbc.setState(0x1007, 0x811c, 0x93b0, 0x6fa2, 0x75df, 0x7145, 0x0, 0x0);
        gbc.writeMem(0x1007, { 0x90 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x811c, gbc.sp());
        EXPECT(0x1008, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00BB
        gbc.setState(0xdb7d, 0xf9a0, 0x92e0, 0xba69, 0x8a1f, 0x34a4, 0x0, 0x1);
        gbc.writeMem(0xdb7d, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xf9a0, gbc.sp());
        EXPECT(0xdb7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdb7d));
        // 90 00BC
        gbc.setState(0x3044, 0x1f5, 0x21d0, 0xe7dc, 0x5ca8, 0xe8c9, 0x0, 0x1);
        gbc.writeMem(0x3044, { 0x90 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x1f5, gbc.sp());
        EXPECT(0x3045, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00BD
        gbc.setState(0x57e3, 0xc25, 0xf8d0, 0xa467, 0xaa30, 0x9c9e, 0x1, 0x1);
        gbc.writeMem(0x57e3, { 0x90 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xc25, gbc.sp());
        EXPECT(0x57e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00BE
        gbc.setState(0x4942, 0xdd8b, 0xc140, 0x9a2a, 0x9eda, 0x312d, 0x0, 0x0);
        gbc.writeMem(0x4942, { 0x90 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xdd8b, gbc.sp());
        EXPECT(0x4943, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00BF
        gbc.setState(0xd351, 0xcf2a, 0xfe60, 0xaca1, 0x3938, 0x7d18, 0x0, 0x0);
        gbc.writeMem(0xd351, { 0x90 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xcf2a, gbc.sp());
        EXPECT(0xd352, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd351));
        // 90 00C0
        gbc.setState(0x2dc5, 0xc83, 0x42a0, 0x29f7, 0x4a15, 0x8741, 0x1, 0x1);
        gbc.writeMem(0x2dc5, { 0x90 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xc83, gbc.sp());
        EXPECT(0x2dc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00C1
        gbc.setState(0x7d9e, 0x33cc, 0x3d90, 0x9808, 0xe4bc, 0x62e, 0x1, 0x1);
        gbc.writeMem(0x7d9e, { 0x90 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x33cc, gbc.sp());
        EXPECT(0x7d9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00C2
        gbc.setState(0x2152, 0x15cf, 0x9e50, 0x4e4e, 0x6f15, 0x5f28, 0x0, 0x1);
        gbc.writeMem(0x2152, { 0x90 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x15cf, gbc.sp());
        EXPECT(0x2153, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00C3
        gbc.setState(0x7a54, 0x7c1a, 0xa360, 0x3bfd, 0x1449, 0xda3c, 0x1, 0x1);
        gbc.writeMem(0x7a54, { 0x90 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x7c1a, gbc.sp());
        EXPECT(0x7a55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00C4
        gbc.setState(0x2d03, 0xfeef, 0x7060, 0xb5e7, 0x817c, 0x1e45, 0x0, 0x1);
        gbc.writeMem(0x2d03, { 0x90 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xfeef, gbc.sp());
        EXPECT(0x2d04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00C6
        gbc.setState(0x35cd, 0xed58, 0xa1b0, 0xd2aa, 0x4ef9, 0xe4f, 0x0, 0x0);
        gbc.writeMem(0x35cd, { 0x90 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xed58, gbc.sp());
        EXPECT(0x35ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00C8
        gbc.setState(0x633, 0xf41e, 0x3cc0, 0x1a6, 0x4635, 0x4ca9, 0x0, 0x1);
        gbc.writeMem(0x633, { 0x90 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf41e, gbc.sp());
        EXPECT(0x634, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00C9
        gbc.setState(0x1e3f, 0xf21a, 0xf80, 0xe25d, 0xb7f2, 0x1429, 0x0, 0x1);
        gbc.writeMem(0x1e3f, { 0x90 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xf21a, gbc.sp());
        EXPECT(0x1e40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00CA
        gbc.setState(0x908b, 0xf936, 0xc7f0, 0xb035, 0xe432, 0x91d4, 0x1, 0x1);
        gbc.writeMem(0x908b, { 0x90 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf936, gbc.sp());
        EXPECT(0x908c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x908b));
        // 90 00CB
        gbc.setState(0x86c9, 0x4fd0, 0x1150, 0x4d93, 0xe61c, 0x4836, 0x1, 0x1);
        gbc.writeMem(0x86c9, { 0x90 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x4fd0, gbc.sp());
        EXPECT(0x86ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x86c9));
        // 90 00CC
        gbc.setState(0x23dd, 0xdcc3, 0x1640, 0x5922, 0x6329, 0x8341, 0x1, 0x0);
        gbc.writeMem(0x23dd, { 0x90 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xdcc3, gbc.sp());
        EXPECT(0x23de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00CD
        gbc.setState(0x7182, 0x533a, 0x9d30, 0xb852, 0x73c8, 0x446e, 0x0, 0x1);
        gbc.writeMem(0x7182, { 0x90 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x533a, gbc.sp());
        EXPECT(0x7183, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00CE
        gbc.setState(0xd030, 0x7289, 0xd240, 0x68c3, 0x2fef, 0x6b19, 0x0, 0x0);
        gbc.writeMem(0xd030, { 0x90 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x7289, gbc.sp());
        EXPECT(0xd031, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd030));
        // 90 00D0
        gbc.setState(0x44f6, 0x8d7f, 0xaca0, 0x41c2, 0xc713, 0x3e23, 0x0, 0x1);
        gbc.writeMem(0x44f6, { 0x90 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x8d7f, gbc.sp());
        EXPECT(0x44f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00D1
        gbc.setState(0x7892, 0x5bc3, 0x4170, 0x8a6d, 0x98b8, 0x297f, 0x0, 0x1);
        gbc.writeMem(0x7892, { 0x90 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5bc3, gbc.sp());
        EXPECT(0x7893, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00D2
        gbc.setState(0x8b0d, 0xc59d, 0xdd30, 0x1030, 0x49da, 0x6a8e, 0x0, 0x0);
        gbc.writeMem(0x8b0d, { 0x90 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xc59d, gbc.sp());
        EXPECT(0x8b0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8b0d));
        // 90 00D4
        gbc.setState(0x8ea8, 0xd386, 0x7010, 0x95e1, 0x9445, 0x42c4, 0x0, 0x0);
        gbc.writeMem(0x8ea8, { 0x90 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xd386, gbc.sp());
        EXPECT(0x8ea9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8ea8));
        // 90 00D5
        gbc.setState(0x1e74, 0x114a, 0x28f0, 0x6daa, 0xf4c7, 0x6792, 0x1, 0x0);
        gbc.writeMem(0x1e74, { 0x90 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x114a, gbc.sp());
        EXPECT(0x1e75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00D6
        gbc.setState(0x9d31, 0x8491, 0xc1b0, 0x6f5f, 0xb8ae, 0x1983, 0x1, 0x0);
        gbc.writeMem(0x9d31, { 0x90 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x8491, gbc.sp());
        EXPECT(0x9d32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9d31));
        // 90 00D7
        gbc.setState(0xa1b3, 0xaea7, 0x4270, 0x5ced, 0x1dd, 0xcd44, 0x0, 0x0);
        gbc.writeMem(0xa1b3, { 0x90 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xaea7, gbc.sp());
        EXPECT(0xa1b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa1b3));
        // 90 00D8
        gbc.setState(0x83f3, 0xaff5, 0xb730, 0x7dcb, 0xcb36, 0x5ba7, 0x0, 0x0);
        gbc.writeMem(0x83f3, { 0x90 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xaff5, gbc.sp());
        EXPECT(0x83f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x83f3));
        // 90 00D9
        gbc.setState(0x584f, 0x31b1, 0x5200, 0x20b4, 0x4bf2, 0xf512, 0x0, 0x1);
        gbc.writeMem(0x584f, { 0x90 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x31b1, gbc.sp());
        EXPECT(0x5850, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00DA
        gbc.setState(0xb91a, 0xdc17, 0x71e0, 0x4437, 0xae4c, 0x6154, 0x0, 0x1);
        gbc.writeMem(0xb91a, { 0x90 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xdc17, gbc.sp());
        EXPECT(0xb91b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb91a));
        // 90 00DB
        gbc.setState(0xa2c6, 0x89ef, 0x5de0, 0xcaff, 0xc141, 0x373f, 0x1, 0x0);
        gbc.writeMem(0xa2c6, { 0x90 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x89ef, gbc.sp());
        EXPECT(0xa2c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa2c6));
        // 90 00DC
        gbc.setState(0x180f, 0xe9, 0x1400, 0x3cb3, 0x66e2, 0xf6eb, 0x0, 0x0);
        gbc.writeMem(0x180f, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xe9, gbc.sp());
        EXPECT(0x1810, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00DD
        gbc.setState(0xb059, 0xb6ee, 0x4990, 0x7e02, 0xf0c2, 0x3d2d, 0x0, 0x0);
        gbc.writeMem(0xb059, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xb6ee, gbc.sp());
        EXPECT(0xb05a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb059));
        // 90 00DE
        gbc.setState(0x2b91, 0xfe8, 0xfff0, 0xbefa, 0xa2d0, 0x1f0c, 0x0, 0x0);
        gbc.writeMem(0x2b91, { 0x90 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xfe8, gbc.sp());
        EXPECT(0x2b92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00DF
        gbc.setState(0x6343, 0x6f4a, 0xccb0, 0xd3a, 0x132b, 0x65aa, 0x1, 0x1);
        gbc.writeMem(0x6343, { 0x90 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x6f4a, gbc.sp());
        EXPECT(0x6344, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00E0
        gbc.setState(0xad04, 0x7767, 0x2500, 0xc5c5, 0x820e, 0x410b, 0x0, 0x0);
        gbc.writeMem(0xad04, { 0x90 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7767, gbc.sp());
        EXPECT(0xad05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xad04));
        // 90 00E1
        gbc.setState(0x4722, 0x2a8d, 0xd670, 0x5b31, 0x971e, 0x6107, 0x1, 0x1);
        gbc.writeMem(0x4722, { 0x90 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x2a8d, gbc.sp());
        EXPECT(0x4723, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00E2
        gbc.setState(0xd06e, 0x73bb, 0x3de0, 0xcc0, 0xe1e0, 0xbe39, 0x1, 0x1);
        gbc.writeMem(0xd06e, { 0x90 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x73bb, gbc.sp());
        EXPECT(0xd06f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd06e));
        // 90 00E3
        gbc.setState(0xe31a, 0x4d9e, 0xc6e0, 0x39ce, 0x9fd, 0xd180, 0x1, 0x0);
        gbc.writeMem(0xe31a, { 0x90 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x4d9e, gbc.sp());
        EXPECT(0xe31b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe31a));
        // 90 00E4
        gbc.setState(0xb827, 0x96e0, 0x2db0, 0x720f, 0x7568, 0xe461, 0x0, 0x0);
        gbc.writeMem(0xb827, { 0x90 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x96e0, gbc.sp());
        EXPECT(0xb828, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb827));
        // 90 00E5
        gbc.setState(0xbc4a, 0xa032, 0x7a40, 0xcd63, 0x2b38, 0x46f4, 0x1, 0x1);
        gbc.writeMem(0xbc4a, { 0x90 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xa032, gbc.sp());
        EXPECT(0xbc4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbc4a));
        // 90 00E6
        gbc.setState(0xd203, 0x1c77, 0x7900, 0x29d3, 0x74f7, 0x97df, 0x0, 0x0);
        gbc.writeMem(0xd203, { 0x90 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x1c77, gbc.sp());
        EXPECT(0xd204, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd203));
        // 90 00E7
        gbc.setState(0x4677, 0xe01d, 0x240, 0x306d, 0xe7e7, 0xa003, 0x0, 0x0);
        gbc.writeMem(0x4677, { 0x90 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xe01d, gbc.sp());
        EXPECT(0x4678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00E9
        gbc.setState(0x7e7, 0x1497, 0x20, 0x9251, 0xd506, 0x52fe, 0x0, 0x0);
        gbc.writeMem(0x7e7, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x1497, gbc.sp());
        EXPECT(0x7e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00EA
        gbc.setState(0x3433, 0xff1b, 0xda20, 0x1dd4, 0xf2b3, 0xa0e1, 0x1, 0x0);
        gbc.writeMem(0x3433, { 0x90 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xff1b, gbc.sp());
        EXPECT(0x3434, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00EB
        gbc.setState(0x6de7, 0x9c32, 0xd920, 0xa375, 0x57f3, 0xe873, 0x0, 0x0);
        gbc.writeMem(0x6de7, { 0x90 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x9c32, gbc.sp());
        EXPECT(0x6de8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00EC
        gbc.setState(0x7465, 0x475f, 0x6570, 0xc7c5, 0xbbf9, 0x8b7c, 0x1, 0x0);
        gbc.writeMem(0x7465, { 0x90 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x475f, gbc.sp());
        EXPECT(0x7466, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00ED
        gbc.setState(0xc726, 0x6d37, 0x8ac0, 0xa56e, 0x8b8d, 0x594a, 0x0, 0x1);
        gbc.writeMem(0xc726, { 0x90 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x6d37, gbc.sp());
        EXPECT(0xc727, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc726));
        // 90 00EE
        gbc.setState(0x3642, 0x8026, 0xf250, 0xd28b, 0xda5b, 0x8c7b, 0x0, 0x1);
        gbc.writeMem(0x3642, { 0x90 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x8026, gbc.sp());
        EXPECT(0x3643, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00EF
        gbc.setState(0x9b99, 0xbcdd, 0xb5e0, 0x549a, 0x7000, 0xcf68, 0x1, 0x0);
        gbc.writeMem(0x9b99, { 0x90 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xbcdd, gbc.sp());
        EXPECT(0x9b9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9b99));
        // 90 00F0
        gbc.setState(0x4325, 0x65d6, 0x8fe0, 0x6e65, 0x3106, 0x8b20, 0x0, 0x0);
        gbc.writeMem(0x4325, { 0x90 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x65d6, gbc.sp());
        EXPECT(0x4326, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00F1
        gbc.setState(0x3fe3, 0xfe38, 0xb530, 0x201, 0x8917, 0x4378, 0x1, 0x0);
        gbc.writeMem(0x3fe3, { 0x90 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xfe38, gbc.sp());
        EXPECT(0x3fe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00F2
        gbc.setState(0x554f, 0xce0c, 0x87e0, 0x5101, 0xabee, 0xa655, 0x0, 0x0);
        gbc.writeMem(0x554f, { 0x90 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xce0c, gbc.sp());
        EXPECT(0x5550, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00F3
        gbc.setState(0x4f17, 0x4756, 0x7f0, 0xeafd, 0x1789, 0x36e4, 0x1, 0x0);
        gbc.writeMem(0x4f17, { 0x90 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4756, gbc.sp());
        EXPECT(0x4f18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00F4
        gbc.setState(0x547d, 0x4f08, 0xf1b0, 0xd81, 0x535b, 0xaf4d, 0x1, 0x0);
        gbc.writeMem(0x547d, { 0x90 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x4f08, gbc.sp());
        EXPECT(0x547e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00F5
        gbc.setState(0xebf2, 0x9368, 0x960, 0x150e, 0xa5f6, 0xed5e, 0x1, 0x0);
        gbc.writeMem(0xebf2, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x9368, gbc.sp());
        EXPECT(0xebf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xebf2));
        // 90 00F7
        gbc.setState(0xb0d0, 0x41f9, 0xd410, 0x488a, 0x8bb7, 0xfc12, 0x0, 0x0);
        gbc.writeMem(0xb0d0, { 0x90 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x41f9, gbc.sp());
        EXPECT(0xb0d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb0d0));
        // 90 00F8
        gbc.setState(0x88e2, 0xfae6, 0x5d30, 0x2e81, 0x38bd, 0x75f, 0x0, 0x1);
        gbc.writeMem(0x88e2, { 0x90 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xfae6, gbc.sp());
        EXPECT(0x88e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x88e2));
        // 90 00F9
        gbc.setState(0x3068, 0xa16e, 0xb550, 0x4de6, 0x2304, 0x83d0, 0x0, 0x1);
        gbc.writeMem(0x3068, { 0x90 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xa16e, gbc.sp());
        EXPECT(0x3069, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00FA
        gbc.setState(0x9965, 0xbe00, 0x2470, 0x38c6, 0xdc12, 0x2d31, 0x1, 0x1);
        gbc.writeMem(0x9965, { 0x90 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xbe00, gbc.sp());
        EXPECT(0x9966, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9965));
        // 90 00FB
        gbc.setState(0x7ac0, 0x4fdf, 0x2f10, 0xe3cd, 0x30b9, 0xa7cf, 0x1, 0x1);
        gbc.writeMem(0x7ac0, { 0x90 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x4fdf, gbc.sp());
        EXPECT(0x7ac1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00FC
        gbc.setState(0x5aa2, 0x3199, 0x14b0, 0x437c, 0x6b0e, 0xf5a6, 0x1, 0x1);
        gbc.writeMem(0x5aa2, { 0x90 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x3199, gbc.sp());
        EXPECT(0x5aa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 00FD
        gbc.setState(0xedea, 0x18de, 0x4420, 0x966f, 0xfb22, 0xe003, 0x1, 0x0);
        gbc.writeMem(0xedea, { 0x90 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x18de, gbc.sp());
        EXPECT(0xedeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xedea));
        // 90 00FE
        gbc.setState(0x3cef, 0xc121, 0x8e40, 0x3abe, 0x2158, 0x74cd, 0x1, 0x0);
        gbc.writeMem(0x3cef, { 0x90 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xc121, gbc.sp());
        EXPECT(0x3cf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 00FF
        gbc.setState(0x7eaa, 0x7af7, 0x49f0, 0xe585, 0x8a87, 0x22b4, 0x0, 0x1);
        gbc.writeMem(0x7eaa, { 0x90 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x7af7, gbc.sp());
        EXPECT(0x7eab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0100
        gbc.setState(0xaad7, 0x2f4d, 0x63c0, 0x1990, 0xbb4d, 0x83fb, 0x0, 0x0);
        gbc.writeMem(0xaad7, { 0x90 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x2f4d, gbc.sp());
        EXPECT(0xaad8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaad7));
        // 90 0101
        gbc.setState(0x68c8, 0x7e35, 0xf4f0, 0x54c, 0xbfb, 0x702e, 0x0, 0x1);
        gbc.writeMem(0x68c8, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x7e35, gbc.sp());
        EXPECT(0x68c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0102
        gbc.setState(0x3211, 0xf8f1, 0x7860, 0x6520, 0xff3d, 0x624d, 0x1, 0x1);
        gbc.writeMem(0x3211, { 0x90 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf8f1, gbc.sp());
        EXPECT(0x3212, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0103
        gbc.setState(0x43c8, 0xb8c1, 0xece0, 0x400a, 0xe07e, 0x804d, 0x0, 0x0);
        gbc.writeMem(0x43c8, { 0x90 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xb8c1, gbc.sp());
        EXPECT(0x43c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0105
        gbc.setState(0xcab6, 0x3015, 0x7370, 0x4c8c, 0xa876, 0xda9f, 0x0, 0x0);
        gbc.writeMem(0xcab6, { 0x90 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x3015, gbc.sp());
        EXPECT(0xcab7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcab6));
        // 90 0106
        gbc.setState(0x8bfc, 0x111, 0x4650, 0xe764, 0x6b68, 0xc09d, 0x1, 0x1);
        gbc.writeMem(0x8bfc, { 0x90 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x111, gbc.sp());
        EXPECT(0x8bfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8bfc));
        // 90 0107
        gbc.setState(0x5dd3, 0xddd9, 0x78e0, 0x6fb4, 0xed36, 0xcebe, 0x1, 0x0);
        gbc.writeMem(0x5dd3, { 0x90 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xddd9, gbc.sp());
        EXPECT(0x5dd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 010B
        gbc.setState(0x3321, 0xf656, 0x6310, 0x9883, 0x5cf9, 0xf172, 0x1, 0x0);
        gbc.writeMem(0x3321, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xf656, gbc.sp());
        EXPECT(0x3322, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 010C
        gbc.setState(0xd307, 0xbaa2, 0xbbc0, 0xc9e9, 0xd512, 0xb5b8, 0x1, 0x0);
        gbc.writeMem(0xd307, { 0x90 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xbaa2, gbc.sp());
        EXPECT(0xd308, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd307));
        // 90 010D
        gbc.setState(0x5934, 0xe9e8, 0x4340, 0xc898, 0x4107, 0xa540, 0x1, 0x1);
        gbc.writeMem(0x5934, { 0x90 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xe9e8, gbc.sp());
        EXPECT(0x5935, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 010E
        gbc.setState(0xa326, 0x73f2, 0xa980, 0x3ec9, 0xaa2, 0xf6a, 0x1, 0x1);
        gbc.writeMem(0xa326, { 0x90 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x73f2, gbc.sp());
        EXPECT(0xa327, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa326));
        // 90 010F
        gbc.setState(0xbfea, 0x40f4, 0xd940, 0xc223, 0x7f5d, 0x3cd5, 0x0, 0x0);
        gbc.writeMem(0xbfea, { 0x90 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x40f4, gbc.sp());
        EXPECT(0xbfeb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbfea));
        // 90 0110
        gbc.setState(0x4764, 0x4407, 0xfc40, 0x64d2, 0x4959, 0x91c2, 0x1, 0x1);
        gbc.writeMem(0x4764, { 0x90 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x4407, gbc.sp());
        EXPECT(0x4765, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0111
        gbc.setState(0x8295, 0x2148, 0x51f0, 0x22e9, 0xae13, 0x242a, 0x0, 0x0);
        gbc.writeMem(0x8295, { 0x90 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x2148, gbc.sp());
        EXPECT(0x8296, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8295));
        // 90 0112
        gbc.setState(0x7598, 0x53b9, 0x27e0, 0x8c84, 0x26bc, 0xcac8, 0x1, 0x0);
        gbc.writeMem(0x7598, { 0x90 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x53b9, gbc.sp());
        EXPECT(0x7599, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0113
        gbc.setState(0xa16a, 0x5bbf, 0x7e00, 0xb7f2, 0xac74, 0xfd6d, 0x0, 0x1);
        gbc.writeMem(0xa16a, { 0x90 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x5bbf, gbc.sp());
        EXPECT(0xa16b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa16a));
        // 90 0114
        gbc.setState(0x472d, 0x57b, 0x2be0, 0xff8a, 0x5882, 0x5aa2, 0x1, 0x0);
        gbc.writeMem(0x472d, { 0x90 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x57b, gbc.sp());
        EXPECT(0x472e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0115
        gbc.setState(0x6a30, 0x7cde, 0xf320, 0x7ac1, 0xb20, 0xa53c, 0x0, 0x1);
        gbc.writeMem(0x6a30, { 0x90 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x7cde, gbc.sp());
        EXPECT(0x6a31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0116
        gbc.setState(0x7c26, 0xee8b, 0xa6e0, 0x6033, 0xcd2a, 0xdac5, 0x0, 0x1);
        gbc.writeMem(0x7c26, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xee8b, gbc.sp());
        EXPECT(0x7c27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0117
        gbc.setState(0xbf00, 0x74fa, 0xb880, 0xca7a, 0xaeb9, 0xf7c4, 0x1, 0x1);
        gbc.writeMem(0xbf00, { 0x90 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x74fa, gbc.sp());
        EXPECT(0xbf01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbf00));
        // 90 0118
        gbc.setState(0x2322, 0xc8b, 0x250, 0x9bbf, 0xdaf2, 0x959e, 0x0, 0x1);
        gbc.writeMem(0x2322, { 0x90 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xc8b, gbc.sp());
        EXPECT(0x2323, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0119
        gbc.setState(0xa3aa, 0x9640, 0x3d00, 0xa052, 0x3ae3, 0xb5e7, 0x0, 0x1);
        gbc.writeMem(0xa3aa, { 0x90 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x9640, gbc.sp());
        EXPECT(0xa3ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa3aa));
        // 90 011A
        gbc.setState(0xee53, 0x4c4c, 0x4140, 0x6593, 0x7773, 0x4df8, 0x1, 0x1);
        gbc.writeMem(0xee53, { 0x90 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x4c4c, gbc.sp());
        EXPECT(0xee54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xee53));
        // 90 011B
        gbc.setState(0x3cac, 0xd58f, 0xf340, 0x34a5, 0x7ea7, 0x9379, 0x0, 0x1);
        gbc.writeMem(0x3cac, { 0x90 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd58f, gbc.sp());
        EXPECT(0x3cad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 011C
        gbc.setState(0x7223, 0x7374, 0xbf70, 0xcb95, 0xb422, 0x4508, 0x0, 0x0);
        gbc.writeMem(0x7223, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x7374, gbc.sp());
        EXPECT(0x7224, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 011D
        gbc.setState(0x244b, 0x9f04, 0x70d0, 0x1741, 0x7f45, 0xf5c1, 0x0, 0x1);
        gbc.writeMem(0x244b, { 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x9f04, gbc.sp());
        EXPECT(0x244c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 011E
        gbc.setState(0x5128, 0xb28f, 0x5e70, 0xab66, 0x2315, 0xfc60, 0x0, 0x1);
        gbc.writeMem(0x5128, { 0x90 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xb28f, gbc.sp());
        EXPECT(0x5129, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 011F
        gbc.setState(0xbf2a, 0x467c, 0x8bd0, 0xa804, 0xa69e, 0x9f67, 0x1, 0x1);
        gbc.writeMem(0xbf2a, { 0x90 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x467c, gbc.sp());
        EXPECT(0xbf2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbf2a));
        // 90 0120
        gbc.setState(0xdcc8, 0xea65, 0x90, 0x3b12, 0xf2d2, 0x5f4f, 0x0, 0x0);
        gbc.writeMem(0xdcc8, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xea65, gbc.sp());
        EXPECT(0xdcc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdcc8));
        // 90 0121
        gbc.setState(0xc319, 0x2923, 0xb00, 0x79f8, 0x3634, 0xaa0, 0x0, 0x0);
        gbc.writeMem(0xc319, { 0x90 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x2923, gbc.sp());
        EXPECT(0xc31a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc319));
        // 90 0122
        gbc.setState(0xd0c3, 0xb993, 0x43b0, 0x7bb4, 0x5c1a, 0x930e, 0x0, 0x1);
        gbc.writeMem(0xd0c3, { 0x90 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xb993, gbc.sp());
        EXPECT(0xd0c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd0c3));
        // 90 0123
        gbc.setState(0xce9c, 0x5232, 0xce60, 0x1c01, 0x8be3, 0xe509, 0x0, 0x1);
        gbc.writeMem(0xce9c, { 0x90 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x5232, gbc.sp());
        EXPECT(0xce9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xce9c));
        // 90 0124
        gbc.setState(0xcb82, 0xc14f, 0x45e0, 0xc833, 0x9f7d, 0x9af4, 0x0, 0x1);
        gbc.writeMem(0xcb82, { 0x90 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xc14f, gbc.sp());
        EXPECT(0xcb83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcb82));
        // 90 0125
        gbc.setState(0x5488, 0xedc4, 0x1e50, 0xee5a, 0xbe8, 0xe7ce, 0x1, 0x0);
        gbc.writeMem(0x5488, { 0x90 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xedc4, gbc.sp());
        EXPECT(0x5489, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0126
        gbc.setState(0xa8e5, 0xc39d, 0x8210, 0x28f4, 0x7611, 0x8ac, 0x1, 0x1);
        gbc.writeMem(0xa8e5, { 0x90 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xc39d, gbc.sp());
        EXPECT(0xa8e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa8e5));
        // 90 0127
        gbc.setState(0xb3c, 0x1cd3, 0xcf90, 0xf08a, 0x14fd, 0x6f34, 0x0, 0x0);
        gbc.writeMem(0xb3c, { 0x90 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x1cd3, gbc.sp());
        EXPECT(0xb3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0128
        gbc.setState(0xddf2, 0x62b3, 0x50c0, 0xdce1, 0x3e33, 0x940d, 0x1, 0x1);
        gbc.writeMem(0xddf2, { 0x90 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x62b3, gbc.sp());
        EXPECT(0xddf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xddf2));
        // 90 0129
        gbc.setState(0xc728, 0xee53, 0x3240, 0xddce, 0xd95e, 0x2fbb, 0x0, 0x0);
        gbc.writeMem(0xc728, { 0x90 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xee53, gbc.sp());
        EXPECT(0xc729, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc728));
        // 90 012A
        gbc.setState(0x5ad3, 0xcd3e, 0x15f0, 0x855b, 0xd9d7, 0x6d5d, 0x0, 0x1);
        gbc.writeMem(0x5ad3, { 0x90 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xcd3e, gbc.sp());
        EXPECT(0x5ad4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 012B
        gbc.setState(0xeb08, 0xc7fb, 0x8070, 0x1e72, 0x484, 0x6d65, 0x0, 0x0);
        gbc.writeMem(0xeb08, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xc7fb, gbc.sp());
        EXPECT(0xeb09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeb08));
        // 90 012C
        gbc.setState(0xa32b, 0x56a5, 0x37d0, 0x5a74, 0x641c, 0xccf3, 0x0, 0x0);
        gbc.writeMem(0xa32b, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x56a5, gbc.sp());
        EXPECT(0xa32c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa32b));
        // 90 012D
        gbc.setState(0x9275, 0xe878, 0x9f00, 0x4779, 0x63f5, 0x365c, 0x1, 0x0);
        gbc.writeMem(0x9275, { 0x90 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe878, gbc.sp());
        EXPECT(0x9276, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9275));
        // 90 012E
        gbc.setState(0xbe58, 0xc968, 0x64f0, 0x6d86, 0x6ef4, 0xea05, 0x0, 0x0);
        gbc.writeMem(0xbe58, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xc968, gbc.sp());
        EXPECT(0xbe59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbe58));
        // 90 012F
        gbc.setState(0x39b2, 0x9c99, 0xb00, 0x3a90, 0x144b, 0xb752, 0x1, 0x1);
        gbc.writeMem(0x39b2, { 0x90 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x9c99, gbc.sp());
        EXPECT(0x39b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0130
        gbc.setState(0x148f, 0x84f1, 0xeac0, 0x2db0, 0xd04b, 0x5a12, 0x0, 0x1);
        gbc.writeMem(0x148f, { 0x90 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x84f1, gbc.sp());
        EXPECT(0x1490, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0131
        gbc.setState(0x7fe3, 0x8545, 0x8470, 0x1eb0, 0x459b, 0xc6cc, 0x1, 0x0);
        gbc.writeMem(0x7fe3, { 0x90 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x8545, gbc.sp());
        EXPECT(0x7fe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0132
        gbc.setState(0xe4c4, 0x1eaa, 0x8260, 0xd112, 0x45e3, 0x1e19, 0x1, 0x0);
        gbc.writeMem(0xe4c4, { 0x90 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x1eaa, gbc.sp());
        EXPECT(0xe4c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe4c4));
        // 90 0133
        gbc.setState(0x862f, 0x4fba, 0xb720, 0xbcb2, 0xa398, 0xce6e, 0x1, 0x0);
        gbc.writeMem(0x862f, { 0x90 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x4fba, gbc.sp());
        EXPECT(0x8630, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x862f));
        // 90 0134
        gbc.setState(0x2b1c, 0x2a8, 0x5c00, 0xcd65, 0x41ed, 0xfded, 0x0, 0x0);
        gbc.writeMem(0x2b1c, { 0x90 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x2a8, gbc.sp());
        EXPECT(0x2b1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0135
        gbc.setState(0xb9c0, 0xa37e, 0xc1e0, 0x5e5c, 0x6d09, 0x9f14, 0x1, 0x0);
        gbc.writeMem(0xb9c0, { 0x90 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xa37e, gbc.sp());
        EXPECT(0xb9c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb9c0));
        // 90 0136
        gbc.setState(0xc9f7, 0x1a8, 0x4560, 0x1a33, 0x8827, 0xf2ad, 0x0, 0x0);
        gbc.writeMem(0xc9f7, { 0x90 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x1a8, gbc.sp());
        EXPECT(0xc9f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc9f7));
        // 90 0137
        gbc.setState(0x34d5, 0x9619, 0xf1a0, 0x3e65, 0x4527, 0xddd2, 0x1, 0x1);
        gbc.writeMem(0x34d5, { 0x90 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x9619, gbc.sp());
        EXPECT(0x34d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0138
        gbc.setState(0xa838, 0xb9bf, 0xbbc0, 0x4adb, 0x8d5f, 0xe9c8, 0x1, 0x1);
        gbc.writeMem(0xa838, { 0x90 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xb9bf, gbc.sp());
        EXPECT(0xa839, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa838));
        // 90 013A
        gbc.setState(0x6f87, 0x997, 0xd40, 0x47b5, 0x573, 0x4429, 0x1, 0x0);
        gbc.writeMem(0x6f87, { 0x90 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x997, gbc.sp());
        EXPECT(0x6f88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 013B
        gbc.setState(0x5c61, 0x1b85, 0xdc0, 0x7433, 0xf67f, 0x3052, 0x0, 0x1);
        gbc.writeMem(0x5c61, { 0x90 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x1b85, gbc.sp());
        EXPECT(0x5c62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 013C
        gbc.setState(0x911d, 0x17, 0xae90, 0x3856, 0xe1d, 0x1c31, 0x0, 0x1);
        gbc.writeMem(0x911d, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x17, gbc.sp());
        EXPECT(0x911e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x911d));
        // 90 013D
        gbc.setState(0x2ac1, 0x6502, 0x6610, 0x2633, 0x2f2f, 0x1358, 0x1, 0x1);
        gbc.writeMem(0x2ac1, { 0x90 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x6502, gbc.sp());
        EXPECT(0x2ac2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 013E
        gbc.setState(0x13c8, 0xb7d6, 0x5bd0, 0x7f0, 0x537d, 0x55f5, 0x1, 0x0);
        gbc.writeMem(0x13c8, { 0x90 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb7d6, gbc.sp());
        EXPECT(0x13c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 013F
        gbc.setState(0x80db, 0x13a, 0xbea0, 0xba46, 0x8ea5, 0x61da, 0x0, 0x1);
        gbc.writeMem(0x80db, { 0x90 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x13a, gbc.sp());
        EXPECT(0x80dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x80db));
        // 90 0140
        gbc.setState(0x5b93, 0x3b5, 0xd3f0, 0x5c4f, 0xf428, 0xc5d5, 0x0, 0x1);
        gbc.writeMem(0x5b93, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x3b5, gbc.sp());
        EXPECT(0x5b94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0141
        gbc.setState(0xb9f6, 0xf804, 0x1e70, 0xd89b, 0x69f9, 0x9753, 0x0, 0x1);
        gbc.writeMem(0xb9f6, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xf804, gbc.sp());
        EXPECT(0xb9f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb9f6));
        // 90 0142
        gbc.setState(0xeb8a, 0x31b6, 0x6ae0, 0x9298, 0x95c1, 0x5a08, 0x1, 0x1);
        gbc.writeMem(0xeb8a, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x31b6, gbc.sp());
        EXPECT(0xeb8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeb8a));
        // 90 0143
        gbc.setState(0x4a56, 0xdff4, 0x18e0, 0x6257, 0x4561, 0x7c5a, 0x0, 0x0);
        gbc.writeMem(0x4a56, { 0x90 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xdff4, gbc.sp());
        EXPECT(0x4a57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0144
        gbc.setState(0x4415, 0x167f, 0xf470, 0x8d5f, 0x1e90, 0xebec, 0x1, 0x0);
        gbc.writeMem(0x4415, { 0x90 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x167f, gbc.sp());
        EXPECT(0x4416, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0145
        gbc.setState(0xbc3b, 0x5409, 0xe7f0, 0x14b2, 0x166e, 0xd54d, 0x0, 0x1);
        gbc.writeMem(0xbc3b, { 0x90 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x5409, gbc.sp());
        EXPECT(0xbc3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbc3b));
        // 90 0146
        gbc.setState(0xb21c, 0xdcaa, 0x25e0, 0x21da, 0x88ec, 0x6e29, 0x0, 0x1);
        gbc.writeMem(0xb21c, { 0x90 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xdcaa, gbc.sp());
        EXPECT(0xb21d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb21c));
        // 90 0147
        gbc.setState(0x6f5, 0x786a, 0xe5c0, 0x83aa, 0x4ed3, 0x959c, 0x0, 0x1);
        gbc.writeMem(0x6f5, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x786a, gbc.sp());
        EXPECT(0x6f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0148
        gbc.setState(0x1b6a, 0xeb7b, 0xc480, 0xa5df, 0x3a6c, 0x5808, 0x1, 0x0);
        gbc.writeMem(0x1b6a, { 0x90 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xeb7b, gbc.sp());
        EXPECT(0x1b6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0149
        gbc.setState(0xef4e, 0xf15c, 0x41a0, 0x630d, 0xbe0d, 0x4204, 0x1, 0x0);
        gbc.writeMem(0xef4e, { 0x90 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xf15c, gbc.sp());
        EXPECT(0xef4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xef4e));
        // 90 014A
        gbc.setState(0xa8cd, 0x5d3a, 0xa0e0, 0xd10f, 0xcbe, 0x4d9c, 0x1, 0x1);
        gbc.writeMem(0xa8cd, { 0x90 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x5d3a, gbc.sp());
        EXPECT(0xa8ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa8cd));
        // 90 014B
        gbc.setState(0xb8c, 0x885b, 0x8df0, 0xa28c, 0x52ef, 0xbd19, 0x0, 0x1);
        gbc.writeMem(0xb8c, { 0x90 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x885b, gbc.sp());
        EXPECT(0xb8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 014C
        gbc.setState(0xedd7, 0x8215, 0xecd0, 0x98ed, 0xb87d, 0x9968, 0x1, 0x0);
        gbc.writeMem(0xedd7, { 0x90 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8215, gbc.sp());
        EXPECT(0xedd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xedd7));
        // 90 014D
        gbc.setState(0x4cb4, 0x3bd7, 0x5480, 0x157, 0x4594, 0xd5de, 0x1, 0x0);
        gbc.writeMem(0x4cb4, { 0x90 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x3bd7, gbc.sp());
        EXPECT(0x4cb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 014E
        gbc.setState(0xc456, 0xe096, 0x1be0, 0x2a78, 0xc58b, 0xe20e, 0x0, 0x0);
        gbc.writeMem(0xc456, { 0x90 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xe096, gbc.sp());
        EXPECT(0xc457, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc456));
        // 90 014F
        gbc.setState(0x82e2, 0x5cf6, 0x53d0, 0xac4f, 0x7977, 0xe88, 0x0, 0x0);
        gbc.writeMem(0x82e2, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x5cf6, gbc.sp());
        EXPECT(0x82e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x82e2));
        // 90 0150
        gbc.setState(0x7719, 0x9e90, 0x8090, 0x21b, 0xc0d6, 0x9629, 0x1, 0x1);
        gbc.writeMem(0x7719, { 0x90 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x9e90, gbc.sp());
        EXPECT(0x771a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0151
        gbc.setState(0x2d5c, 0xf56, 0xa380, 0x4221, 0x9ca1, 0x4e5e, 0x0, 0x0);
        gbc.writeMem(0x2d5c, { 0x90 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xf56, gbc.sp());
        EXPECT(0x2d5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0152
        gbc.setState(0x422f, 0xfdde, 0x4c20, 0x9262, 0x347, 0x51b6, 0x1, 0x1);
        gbc.writeMem(0x422f, { 0x90 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xfdde, gbc.sp());
        EXPECT(0x4230, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0153
        gbc.setState(0xc9be, 0x8cf7, 0x70e0, 0xca5b, 0x5002, 0x424, 0x1, 0x1);
        gbc.writeMem(0xc9be, { 0x90 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x8cf7, gbc.sp());
        EXPECT(0xc9bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc9be));
        // 90 0154
        gbc.setState(0x4a1e, 0x42c, 0x8170, 0xe4fd, 0xae6a, 0x3177, 0x0, 0x1);
        gbc.writeMem(0x4a1e, { 0x90 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x42c, gbc.sp());
        EXPECT(0x4a1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0155
        gbc.setState(0x3416, 0x7cbc, 0x5550, 0x6ab0, 0x9f92, 0x4c62, 0x1, 0x0);
        gbc.writeMem(0x3416, { 0x90 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x7cbc, gbc.sp());
        EXPECT(0x3417, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0156
        gbc.setState(0x4050, 0x6b08, 0xb880, 0xd5bd, 0x854b, 0xe9a2, 0x1, 0x0);
        gbc.writeMem(0x4050, { 0x90 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x6b08, gbc.sp());
        EXPECT(0x4051, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0157
        gbc.setState(0xca25, 0x2357, 0xa990, 0x7f18, 0x4a7c, 0x6f6, 0x0, 0x0);
        gbc.writeMem(0xca25, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x2357, gbc.sp());
        EXPECT(0xca26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xca25));
        // 90 0158
        gbc.setState(0x4d27, 0x1b7f, 0x1e30, 0x59ec, 0xf9e4, 0xa8c9, 0x1, 0x0);
        gbc.writeMem(0x4d27, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x1b7f, gbc.sp());
        EXPECT(0x4d28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0159
        gbc.setState(0xf3f, 0x152f, 0xdcc0, 0x45dd, 0xc0ad, 0xc427, 0x0, 0x0);
        gbc.writeMem(0xf3f, { 0x90 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x152f, gbc.sp());
        EXPECT(0xf40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 015A
        gbc.setState(0x53b8, 0x8e3e, 0x2c80, 0xbc8a, 0x9463, 0x503e, 0x0, 0x0);
        gbc.writeMem(0x53b8, { 0x90 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x8e3e, gbc.sp());
        EXPECT(0x53b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 015B
        gbc.setState(0x2322, 0x65f9, 0x43a0, 0xc322, 0x32b1, 0xe878, 0x0, 0x0);
        gbc.writeMem(0x2322, { 0x90 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x65f9, gbc.sp());
        EXPECT(0x2323, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 015C
        gbc.setState(0x89a5, 0x4974, 0x3170, 0x8842, 0x22e0, 0x3725, 0x1, 0x0);
        gbc.writeMem(0x89a5, { 0x90 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x4974, gbc.sp());
        EXPECT(0x89a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x89a5));
        // 90 015D
        gbc.setState(0xfef, 0xd330, 0x4a30, 0x756d, 0x9fb0, 0x7311, 0x0, 0x0);
        gbc.writeMem(0xfef, { 0x90 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xd330, gbc.sp());
        EXPECT(0xff0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 015E
        gbc.setState(0x3799, 0x30ba, 0x5470, 0xccea, 0xe1f1, 0xecf1, 0x0, 0x1);
        gbc.writeMem(0x3799, { 0x90 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x30ba, gbc.sp());
        EXPECT(0x379a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 015F
        gbc.setState(0x503e, 0xf55f, 0x8b00, 0xb96a, 0x13b0, 0x9b8a, 0x1, 0x0);
        gbc.writeMem(0x503e, { 0x90 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xf55f, gbc.sp());
        EXPECT(0x503f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0160
        gbc.setState(0x825a, 0xb0cf, 0x1b00, 0x8158, 0xceb1, 0xf773, 0x1, 0x0);
        gbc.writeMem(0x825a, { 0x90 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xb0cf, gbc.sp());
        EXPECT(0x825b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x825a));
        // 90 0161
        gbc.setState(0x235e, 0x6455, 0x3f30, 0x9308, 0xfd1e, 0x5dbf, 0x0, 0x0);
        gbc.writeMem(0x235e, { 0x90 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x6455, gbc.sp());
        EXPECT(0x235f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0162
        gbc.setState(0x2ed2, 0x9821, 0x47b0, 0xf720, 0x6b68, 0x7e92, 0x1, 0x1);
        gbc.writeMem(0x2ed2, { 0x90 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x9821, gbc.sp());
        EXPECT(0x2ed3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0163
        gbc.setState(0x3e8c, 0x525a, 0x7ff0, 0x75a5, 0xa090, 0x2117, 0x1, 0x1);
        gbc.writeMem(0x3e8c, { 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x525a, gbc.sp());
        EXPECT(0x3e8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0164
        gbc.setState(0xca72, 0xb058, 0xaa0, 0x39f0, 0x6358, 0x8922, 0x0, 0x1);
        gbc.writeMem(0xca72, { 0x90 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xb058, gbc.sp());
        EXPECT(0xca73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xca72));
        // 90 0165
        gbc.setState(0x537e, 0xbf0c, 0x2ec0, 0x3b74, 0xecd9, 0x9550, 0x1, 0x0);
        gbc.writeMem(0x537e, { 0x90 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xbf0c, gbc.sp());
        EXPECT(0x537f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0166
        gbc.setState(0x65b3, 0xd871, 0xb250, 0x22cb, 0x989e, 0x3a3a, 0x0, 0x0);
        gbc.writeMem(0x65b3, { 0x90 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd871, gbc.sp());
        EXPECT(0x65b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0167
        gbc.setState(0x2523, 0x55a7, 0x1f20, 0xf479, 0x458a, 0x23f1, 0x0, 0x0);
        gbc.writeMem(0x2523, { 0x90 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x55a7, gbc.sp());
        EXPECT(0x2524, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0168
        gbc.setState(0xa7f7, 0x941, 0x2fe0, 0x7f17, 0xca4b, 0xe143, 0x0, 0x0);
        gbc.writeMem(0xa7f7, { 0x90 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x941, gbc.sp());
        EXPECT(0xa7f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa7f7));
        // 90 0169
        gbc.setState(0xc9c7, 0x9826, 0x28b0, 0xc0be, 0xf3b5, 0x28fe, 0x1, 0x1);
        gbc.writeMem(0xc9c7, { 0x90 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9826, gbc.sp());
        EXPECT(0xc9c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc9c7));
        // 90 016A
        gbc.setState(0x5dd2, 0xfbf7, 0xc990, 0x521e, 0x807d, 0x8e98, 0x1, 0x1);
        gbc.writeMem(0x5dd2, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xfbf7, gbc.sp());
        EXPECT(0x5dd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 016B
        gbc.setState(0x22ca, 0x454f, 0x9550, 0x2cfc, 0xd374, 0xa477, 0x0, 0x1);
        gbc.writeMem(0x22ca, { 0x90 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x454f, gbc.sp());
        EXPECT(0x22cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 016C
        gbc.setState(0x1eff, 0x7465, 0x4fc0, 0x9514, 0x40e4, 0xeaa4, 0x1, 0x0);
        gbc.writeMem(0x1eff, { 0x90 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x7465, gbc.sp());
        EXPECT(0x1f00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 016D
        gbc.setState(0x34c8, 0x7f31, 0xa6f0, 0xff1e, 0x133, 0xce8f, 0x1, 0x0);
        gbc.writeMem(0x34c8, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x7f31, gbc.sp());
        EXPECT(0x34c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 016E
        gbc.setState(0x54ba, 0x693b, 0xd010, 0xd934, 0xf13d, 0x1600, 0x0, 0x0);
        gbc.writeMem(0x54ba, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x693b, gbc.sp());
        EXPECT(0x54bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 016F
        gbc.setState(0x717d, 0x1fa, 0xe050, 0x48fe, 0x4, 0x9f60, 0x0, 0x0);
        gbc.writeMem(0x717d, { 0x90 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x1fa, gbc.sp());
        EXPECT(0x717e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0170
        gbc.setState(0x1957, 0x1632, 0x42e0, 0x160c, 0x1b8b, 0x6af0, 0x1, 0x1);
        gbc.writeMem(0x1957, { 0x90 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x1632, gbc.sp());
        EXPECT(0x1958, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0171
        gbc.setState(0x1a09, 0x4b90, 0xbf20, 0x872f, 0x9460, 0x9695, 0x1, 0x1);
        gbc.writeMem(0x1a09, { 0x90 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x4b90, gbc.sp());
        EXPECT(0x1a0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0172
        gbc.setState(0x2e61, 0xb5ee, 0x7520, 0x1a29, 0xbc7d, 0x6a28, 0x0, 0x0);
        gbc.writeMem(0x2e61, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xb5ee, gbc.sp());
        EXPECT(0x2e62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0173
        gbc.setState(0xc2c5, 0x1b2a, 0xb4d0, 0x4f4f, 0x340d, 0xb70d, 0x0, 0x0);
        gbc.writeMem(0xc2c5, { 0x90 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x1b2a, gbc.sp());
        EXPECT(0xc2c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc2c5));
        // 90 0174
        gbc.setState(0x40f5, 0xe5c5, 0xbc40, 0x6398, 0x9ff7, 0x2a28, 0x1, 0x1);
        gbc.writeMem(0x40f5, { 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xe5c5, gbc.sp());
        EXPECT(0x40f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0175
        gbc.setState(0x7cbf, 0x9630, 0x52c0, 0xf7c3, 0x984d, 0xb986, 0x0, 0x0);
        gbc.writeMem(0x7cbf, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x9630, gbc.sp());
        EXPECT(0x7cc0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0176
        gbc.setState(0xc20d, 0x8eb5, 0x1f90, 0xfaca, 0x5805, 0x6b5d, 0x0, 0x0);
        gbc.writeMem(0xc20d, { 0x90 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x8eb5, gbc.sp());
        EXPECT(0xc20e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc20d));
        // 90 0177
        gbc.setState(0xc638, 0xd38, 0x7190, 0xfaa3, 0x4564, 0x3745, 0x1, 0x0);
        gbc.writeMem(0xc638, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xd38, gbc.sp());
        EXPECT(0xc639, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc638));
        // 90 0178
        gbc.setState(0x6b3, 0xb756, 0x6d70, 0x70a3, 0x803a, 0x4925, 0x1, 0x0);
        gbc.writeMem(0x6b3, { 0x90 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xb756, gbc.sp());
        EXPECT(0x6b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0179
        gbc.setState(0x83e3, 0xb6e0, 0x9220, 0xfd1c, 0x3d77, 0xfb6c, 0x0, 0x0);
        gbc.writeMem(0x83e3, { 0x90 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xb6e0, gbc.sp());
        EXPECT(0x83e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x83e3));
        // 90 017B
        gbc.setState(0x5b05, 0x510a, 0xb410, 0x646b, 0xdaa0, 0xdc0a, 0x1, 0x1);
        gbc.writeMem(0x5b05, { 0x90 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x510a, gbc.sp());
        EXPECT(0x5b06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 017C
        gbc.setState(0xd61a, 0x4548, 0x82e0, 0x42fe, 0xcc58, 0x9572, 0x0, 0x0);
        gbc.writeMem(0xd61a, { 0x90 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x4548, gbc.sp());
        EXPECT(0xd61b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd61a));
        // 90 017D
        gbc.setState(0x61c5, 0xb463, 0x9030, 0xba24, 0x38b9, 0x491f, 0x0, 0x1);
        gbc.writeMem(0x61c5, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xb463, gbc.sp());
        EXPECT(0x61c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 017E
        gbc.setState(0x1fa6, 0xc6ca, 0xa2e0, 0x6211, 0xa513, 0xf142, 0x1, 0x0);
        gbc.writeMem(0x1fa6, { 0x90 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xc6ca, gbc.sp());
        EXPECT(0x1fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0180
        gbc.setState(0xd53a, 0x9ecc, 0x26c0, 0x2872, 0x4603, 0xf96, 0x1, 0x1);
        gbc.writeMem(0xd53a, { 0x90 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x9ecc, gbc.sp());
        EXPECT(0xd53b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd53a));
        // 90 0181
        gbc.setState(0x161d, 0x5251, 0x7560, 0x3a49, 0x6c3d, 0xc6f7, 0x0, 0x1);
        gbc.writeMem(0x161d, { 0x90 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x5251, gbc.sp());
        EXPECT(0x161e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0182
        gbc.setState(0xdec3, 0x4b10, 0x12b0, 0xefe1, 0x4edc, 0x7a62, 0x1, 0x1);
        gbc.writeMem(0xdec3, { 0x90 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x4b10, gbc.sp());
        EXPECT(0xdec4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdec3));
        // 90 0183
        gbc.setState(0xa11a, 0xc7df, 0x5740, 0xe787, 0xbeb5, 0x38e4, 0x1, 0x1);
        gbc.writeMem(0xa11a, { 0x90 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xc7df, gbc.sp());
        EXPECT(0xa11b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa11a));
        // 90 0184
        gbc.setState(0xa649, 0xf227, 0x9040, 0x39a1, 0x5af1, 0x3ab7, 0x0, 0x1);
        gbc.writeMem(0xa649, { 0x90 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xf227, gbc.sp());
        EXPECT(0xa64a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa649));
        // 90 0185
        gbc.setState(0x4e25, 0x8d29, 0x8ff0, 0x6bcb, 0xc9af, 0x1ede, 0x0, 0x1);
        gbc.writeMem(0x4e25, { 0x90 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x8d29, gbc.sp());
        EXPECT(0x4e26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0186
        gbc.setState(0xaa2b, 0xa15e, 0xd210, 0x3407, 0xef87, 0xa880, 0x1, 0x0);
        gbc.writeMem(0xaa2b, { 0x90 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xa15e, gbc.sp());
        EXPECT(0xaa2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaa2b));
        // 90 0187
        gbc.setState(0x85f3, 0x4ec9, 0x80c0, 0xde11, 0x846, 0x3e86, 0x1, 0x0);
        gbc.writeMem(0x85f3, { 0x90 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x4ec9, gbc.sp());
        EXPECT(0x85f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x85f3));
        // 90 0189
        gbc.setState(0x639e, 0xa018, 0xbd70, 0xe06e, 0xfead, 0xe592, 0x1, 0x1);
        gbc.writeMem(0x639e, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xa018, gbc.sp());
        EXPECT(0x639f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 018A
        gbc.setState(0x1c26, 0xa9d7, 0xc260, 0xb41f, 0x58a9, 0x6a42, 0x0, 0x0);
        gbc.writeMem(0x1c26, { 0x90 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xa9d7, gbc.sp());
        EXPECT(0x1c27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 018B
        gbc.setState(0xc2ac, 0x5601, 0x45b0, 0xbb40, 0xa846, 0x4cfd, 0x0, 0x0);
        gbc.writeMem(0xc2ac, { 0x90 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x5601, gbc.sp());
        EXPECT(0xc2ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc2ac));
        // 90 018C
        gbc.setState(0xd8ae, 0x2545, 0x26f0, 0xae2e, 0x36f8, 0x3222, 0x0, 0x1);
        gbc.writeMem(0xd8ae, { 0x90 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x2545, gbc.sp());
        EXPECT(0xd8af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd8ae));
        // 90 018D
        gbc.setState(0xee0c, 0xaef4, 0xf7a0, 0x602c, 0x8f48, 0xc88d, 0x0, 0x1);
        gbc.writeMem(0xee0c, { 0x90 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xaef4, gbc.sp());
        EXPECT(0xee0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xee0c));
        // 90 018E
        gbc.setState(0x5e1, 0xec2a, 0x9ae0, 0x3f5a, 0x3601, 0x9cae, 0x0, 0x1);
        gbc.writeMem(0x5e1, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xec2a, gbc.sp());
        EXPECT(0x5e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 018F
        gbc.setState(0xdf0e, 0x2f15, 0x59a0, 0x8e32, 0x390e, 0x9738, 0x1, 0x1);
        gbc.writeMem(0xdf0e, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x2f15, gbc.sp());
        EXPECT(0xdf0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdf0e));
        // 90 0190
        gbc.setState(0xc0db, 0x4b2e, 0xc880, 0xd8cd, 0xe329, 0x453b, 0x0, 0x0);
        gbc.writeMem(0xc0db, { 0x90 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x4b2e, gbc.sp());
        EXPECT(0xc0dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc0db));
        // 90 0191
        gbc.setState(0xad78, 0x57d9, 0x7160, 0x6767, 0x1971, 0xa09d, 0x0, 0x1);
        gbc.writeMem(0xad78, { 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x57d9, gbc.sp());
        EXPECT(0xad79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xad78));
        // 90 0192
        gbc.setState(0xde74, 0xbbb0, 0xbdd0, 0xfec0, 0xc59d, 0x9593, 0x0, 0x0);
        gbc.writeMem(0xde74, { 0x90 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xbbb0, gbc.sp());
        EXPECT(0xde75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xde74));
        // 90 0193
        gbc.setState(0xa18a, 0xf1bd, 0x9db0, 0x5112, 0xe116, 0xbe06, 0x0, 0x1);
        gbc.writeMem(0xa18a, { 0x90 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf1bd, gbc.sp());
        EXPECT(0xa18b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa18a));
        // 90 0194
        gbc.setState(0x3a24, 0x4333, 0x1af0, 0x21bc, 0x97c4, 0x7265, 0x0, 0x1);
        gbc.writeMem(0x3a24, { 0x90 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x4333, gbc.sp());
        EXPECT(0x3a25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0195
        gbc.setState(0xbe79, 0x5ebe, 0xa810, 0x3040, 0x5e65, 0x1cbb, 0x0, 0x1);
        gbc.writeMem(0xbe79, { 0x90 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x5ebe, gbc.sp());
        EXPECT(0xbe7a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbe79));
        // 90 0196
        gbc.setState(0x497b, 0xad3c, 0x1430, 0xcf96, 0x916a, 0xdf89, 0x0, 0x1);
        gbc.writeMem(0x497b, { 0x90 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xad3c, gbc.sp());
        EXPECT(0x497c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0197
        gbc.setState(0xa405, 0x3ec2, 0xec70, 0x8a28, 0x26f0, 0xf0f1, 0x0, 0x1);
        gbc.writeMem(0xa405, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x3ec2, gbc.sp());
        EXPECT(0xa406, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa405));
        // 90 0198
        gbc.setState(0xd7da, 0xac55, 0x71f0, 0xcb76, 0x4b9, 0xdee6, 0x0, 0x0);
        gbc.writeMem(0xd7da, { 0x90 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xac55, gbc.sp());
        EXPECT(0xd7db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd7da));
        // 90 0199
        gbc.setState(0x89d4, 0xa41c, 0x76b0, 0x9ff8, 0x844b, 0x84fe, 0x1, 0x0);
        gbc.writeMem(0x89d4, { 0x90 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xa41c, gbc.sp());
        EXPECT(0x89d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x89d4));
        // 90 019A
        gbc.setState(0x5db3, 0x2fd8, 0x7330, 0x9c64, 0x776c, 0xbd60, 0x0, 0x1);
        gbc.writeMem(0x5db3, { 0x90 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x2fd8, gbc.sp());
        EXPECT(0x5db4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 019C
        gbc.setState(0xb551, 0xfb17, 0x6960, 0x6b80, 0x428d, 0x5ce5, 0x0, 0x0);
        gbc.writeMem(0xb551, { 0x90 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xfb17, gbc.sp());
        EXPECT(0xb552, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb551));
        // 90 019D
        gbc.setState(0xc538, 0xebe8, 0x83c0, 0x7dda, 0x4ca9, 0xfd09, 0x1, 0x0);
        gbc.writeMem(0xc538, { 0x90 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xebe8, gbc.sp());
        EXPECT(0xc539, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc538));
        // 90 019E
        gbc.setState(0x4d1c, 0x38c6, 0xf2f0, 0xe76d, 0x1459, 0x43e, 0x1, 0x1);
        gbc.writeMem(0x4d1c, { 0x90 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x38c6, gbc.sp());
        EXPECT(0x4d1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 019F
        gbc.setState(0xd765, 0x6c7a, 0x7500, 0xbc40, 0x29d5, 0x6312, 0x1, 0x0);
        gbc.writeMem(0xd765, { 0x90 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x6c7a, gbc.sp());
        EXPECT(0xd766, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd765));
        // 90 01A0
        gbc.setState(0x9bdf, 0xe540, 0xe110, 0x354a, 0x6798, 0xa8e, 0x1, 0x0);
        gbc.writeMem(0x9bdf, { 0x90 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xe540, gbc.sp());
        EXPECT(0x9be0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9bdf));
        // 90 01A1
        gbc.setState(0xdf3a, 0x91cc, 0x5760, 0x5b43, 0x393c, 0x622e, 0x1, 0x1);
        gbc.writeMem(0xdf3a, { 0x90 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x91cc, gbc.sp());
        EXPECT(0xdf3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdf3a));
        // 90 01A2
        gbc.setState(0x997c, 0xeafa, 0x8fb0, 0x89ef, 0x3794, 0x12dd, 0x1, 0x1);
        gbc.writeMem(0x997c, { 0x90 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xeafa, gbc.sp());
        EXPECT(0x997d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x997c));
        // 90 01A3
        gbc.setState(0xb605, 0x326d, 0xb50, 0xc339, 0x10fc, 0x5f49, 0x1, 0x0);
        gbc.writeMem(0xb605, { 0x90 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x326d, gbc.sp());
        EXPECT(0xb606, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb605));
        // 90 01A4
        gbc.setState(0xc97a, 0x8239, 0xb80, 0x6e6a, 0x5c57, 0x701c, 0x0, 0x0);
        gbc.writeMem(0xc97a, { 0x90 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x8239, gbc.sp());
        EXPECT(0xc97b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc97a));
        // 90 01A5
        gbc.setState(0x7ebf, 0x8e5a, 0x9c0, 0xdd99, 0xf639, 0x3034, 0x0, 0x0);
        gbc.writeMem(0x7ebf, { 0x90 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x8e5a, gbc.sp());
        EXPECT(0x7ec0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01A6
        gbc.setState(0x6d1, 0x3441, 0x3b60, 0x8fbb, 0xef54, 0x8f7c, 0x0, 0x0);
        gbc.writeMem(0x6d1, { 0x90 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x3441, gbc.sp());
        EXPECT(0x6d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01A7
        gbc.setState(0xde7d, 0x280c, 0x410, 0x123b, 0x4fbe, 0x4abe, 0x1, 0x1);
        gbc.writeMem(0xde7d, { 0x90 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x280c, gbc.sp());
        EXPECT(0xde7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xde7d));
        // 90 01A8
        gbc.setState(0x4d88, 0xe720, 0xdca0, 0xc7, 0x95db, 0xf48, 0x0, 0x0);
        gbc.writeMem(0x4d88, { 0x90 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xe720, gbc.sp());
        EXPECT(0x4d89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01A9
        gbc.setState(0x3d04, 0x6d0f, 0x1150, 0x3cf3, 0x19a2, 0xe147, 0x1, 0x1);
        gbc.writeMem(0x3d04, { 0x90 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x6d0f, gbc.sp());
        EXPECT(0x3d05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01AA
        gbc.setState(0x80c2, 0x1aab, 0xb9d0, 0x43d8, 0x44e, 0x3a64, 0x1, 0x0);
        gbc.writeMem(0x80c2, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x1aab, gbc.sp());
        EXPECT(0x80c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x80c2));
        // 90 01AC
        gbc.setState(0xe81d, 0x5c2f, 0xf4a0, 0x903b, 0x6ed8, 0xc2d0, 0x1, 0x0);
        gbc.writeMem(0xe81d, { 0x90 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x5c2f, gbc.sp());
        EXPECT(0xe81e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe81d));
        // 90 01AD
        gbc.setState(0x83bb, 0xf048, 0xc950, 0x81d9, 0x2b7c, 0x6500, 0x1, 0x1);
        gbc.writeMem(0x83bb, { 0x90 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xf048, gbc.sp());
        EXPECT(0x83bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x83bb));
        // 90 01AE
        gbc.setState(0x87b8, 0xf71a, 0xaa20, 0x17bf, 0xc42f, 0xe597, 0x1, 0x0);
        gbc.writeMem(0x87b8, { 0x90 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xf71a, gbc.sp());
        EXPECT(0x87b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x87b8));
        // 90 01AF
        gbc.setState(0x2580, 0x3d1d, 0x4ae0, 0x5b95, 0xa1d3, 0x7369, 0x1, 0x1);
        gbc.writeMem(0x2580, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x3d1d, gbc.sp());
        EXPECT(0x2581, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01B0
        gbc.setState(0xeb04, 0x5c9, 0x36a0, 0xab6, 0x9e9e, 0x74e0, 0x1, 0x1);
        gbc.writeMem(0xeb04, { 0x90 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5c9, gbc.sp());
        EXPECT(0xeb05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeb04));
        // 90 01B1
        gbc.setState(0x6cb2, 0xa745, 0xf850, 0xbe7d, 0x9004, 0xa54, 0x0, 0x1);
        gbc.writeMem(0x6cb2, { 0x90 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xa745, gbc.sp());
        EXPECT(0x6cb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01B2
        gbc.setState(0x949, 0x8166, 0xc050, 0xed1e, 0xbb8d, 0x9613, 0x0, 0x1);
        gbc.writeMem(0x949, { 0x90 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x8166, gbc.sp());
        EXPECT(0x94a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01B3
        gbc.setState(0xd045, 0x64, 0x2150, 0x1d04, 0x6eac, 0x3806, 0x1, 0x0);
        gbc.writeMem(0xd045, { 0x90 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x64, gbc.sp());
        EXPECT(0xd046, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd045));
        // 90 01B4
        gbc.setState(0xd9ac, 0xe592, 0xb160, 0x340b, 0x66e5, 0x5934, 0x0, 0x0);
        gbc.writeMem(0xd9ac, { 0x90 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xe592, gbc.sp());
        EXPECT(0xd9ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd9ac));
        // 90 01B5
        gbc.setState(0x5a80, 0x79f6, 0x7d70, 0xb5bc, 0xf267, 0x2372, 0x1, 0x1);
        gbc.writeMem(0x5a80, { 0x90 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x79f6, gbc.sp());
        EXPECT(0x5a81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01B6
        gbc.setState(0x1d36, 0xb1cf, 0xc830, 0x82e9, 0xcbea, 0x7f, 0x1, 0x1);
        gbc.writeMem(0x1d36, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb1cf, gbc.sp());
        EXPECT(0x1d37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01B7
        gbc.setState(0x1de9, 0x4db9, 0x5170, 0xa118, 0x39b4, 0x3174, 0x0, 0x1);
        gbc.writeMem(0x1de9, { 0x90 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x4db9, gbc.sp());
        EXPECT(0x1dea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01B8
        gbc.setState(0x6d9f, 0x49b0, 0xac40, 0x90a2, 0x8375, 0xda7a, 0x1, 0x1);
        gbc.writeMem(0x6d9f, { 0x90 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x49b0, gbc.sp());
        EXPECT(0x6da0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01B9
        gbc.setState(0xd7d1, 0x838c, 0xb860, 0x1e6a, 0xfbae, 0x3a12, 0x1, 0x0);
        gbc.writeMem(0xd7d1, { 0x90 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x838c, gbc.sp());
        EXPECT(0xd7d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd7d1));
        // 90 01BA
        gbc.setState(0x613b, 0x9c94, 0xf5f0, 0x584a, 0x2c84, 0x3e2d, 0x1, 0x1);
        gbc.writeMem(0x613b, { 0x90 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x9c94, gbc.sp());
        EXPECT(0x613c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01BB
        gbc.setState(0x224c, 0x25d3, 0xb030, 0x3b3e, 0x9985, 0x3285, 0x1, 0x1);
        gbc.writeMem(0x224c, { 0x90 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x25d3, gbc.sp());
        EXPECT(0x224d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01BC
        gbc.setState(0x835f, 0x6f39, 0x40a0, 0x8225, 0xe10a, 0xb0f8, 0x0, 0x1);
        gbc.writeMem(0x835f, { 0x90 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x6f39, gbc.sp());
        EXPECT(0x8360, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x835f));
        // 90 01BD
        gbc.setState(0xedaf, 0xe0e7, 0xc630, 0xcbf3, 0x94e5, 0x257e, 0x1, 0x0);
        gbc.writeMem(0xedaf, { 0x90 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xe0e7, gbc.sp());
        EXPECT(0xedb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xedaf));
        // 90 01BE
        gbc.setState(0xe865, 0x869a, 0xf990, 0x8082, 0xa8, 0x4954, 0x1, 0x0);
        gbc.writeMem(0xe865, { 0x90 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x869a, gbc.sp());
        EXPECT(0xe866, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe865));
        // 90 01BF
        gbc.setState(0x967e, 0x7fe5, 0x3b30, 0x90c5, 0x7970, 0x1520, 0x1, 0x1);
        gbc.writeMem(0x967e, { 0x90 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x7fe5, gbc.sp());
        EXPECT(0x967f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x967e));
        // 90 01C0
        gbc.setState(0x3176, 0x7e58, 0x5660, 0xe9ea, 0x3eab, 0x147b, 0x0, 0x1);
        gbc.writeMem(0x3176, { 0x90 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x7e58, gbc.sp());
        EXPECT(0x3177, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01C1
        gbc.setState(0xe7cd, 0xdfde, 0x600, 0xd986, 0x55a7, 0x9cb2, 0x1, 0x0);
        gbc.writeMem(0xe7cd, { 0x90 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xdfde, gbc.sp());
        EXPECT(0xe7ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe7cd));
        // 90 01C2
        gbc.setState(0x7a0, 0x203a, 0xba90, 0x9c9f, 0xa09d, 0x39e4, 0x0, 0x0);
        gbc.writeMem(0x7a0, { 0x90 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x203a, gbc.sp());
        EXPECT(0x7a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01C3
        gbc.setState(0xbd69, 0xb4d5, 0x9a80, 0xb9c2, 0xd448, 0x7856, 0x1, 0x0);
        gbc.writeMem(0xbd69, { 0x90 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xb4d5, gbc.sp());
        EXPECT(0xbd6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbd69));
        // 90 01C4
        gbc.setState(0x1149, 0xa97e, 0x1450, 0x1fde, 0xf08b, 0xf8c1, 0x0, 0x1);
        gbc.writeMem(0x1149, { 0x90 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xa97e, gbc.sp());
        EXPECT(0x114a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01C5
        gbc.setState(0xbf4a, 0x9677, 0xed0, 0xcb91, 0x480a, 0x456c, 0x0, 0x1);
        gbc.writeMem(0xbf4a, { 0x90 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x9677, gbc.sp());
        EXPECT(0xbf4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbf4a));
        // 90 01C6
        gbc.setState(0x4cb1, 0xd280, 0xa310, 0xc66a, 0xa285, 0xc5bd, 0x1, 0x1);
        gbc.writeMem(0x4cb1, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xd280, gbc.sp());
        EXPECT(0x4cb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01C7
        gbc.setState(0x506e, 0xc503, 0x9250, 0xd5b1, 0x1be5, 0x2c5b, 0x1, 0x0);
        gbc.writeMem(0x506e, { 0x90 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xc503, gbc.sp());
        EXPECT(0x506f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01C8
        gbc.setState(0xa230, 0xf122, 0x6a90, 0x739a, 0x5451, 0x4185, 0x0, 0x0);
        gbc.writeMem(0xa230, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xf122, gbc.sp());
        EXPECT(0xa231, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa230));
        // 90 01C9
        gbc.setState(0x497f, 0x39ad, 0x2570, 0xc112, 0xfa80, 0xf0e, 0x1, 0x1);
        gbc.writeMem(0x497f, { 0x90 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x39ad, gbc.sp());
        EXPECT(0x4980, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01CA
        gbc.setState(0x572d, 0x81a2, 0xa5e0, 0xa286, 0x6d86, 0x1f1d, 0x1, 0x1);
        gbc.writeMem(0x572d, { 0x90 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x81a2, gbc.sp());
        EXPECT(0x572e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01CB
        gbc.setState(0x56b4, 0x3b1e, 0xbce0, 0x39be, 0x576c, 0x23e9, 0x1, 0x1);
        gbc.writeMem(0x56b4, { 0x90 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x3b1e, gbc.sp());
        EXPECT(0x56b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01CC
        gbc.setState(0x15a1, 0x3fe8, 0x9890, 0xbe98, 0xee4c, 0x1c1, 0x1, 0x1);
        gbc.writeMem(0x15a1, { 0x90 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x3fe8, gbc.sp());
        EXPECT(0x15a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01CD
        gbc.setState(0x722a, 0x7756, 0x40d0, 0x5d9f, 0x2331, 0xe347, 0x1, 0x1);
        gbc.writeMem(0x722a, { 0x90 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x7756, gbc.sp());
        EXPECT(0x722b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01CE
        gbc.setState(0x8251, 0x486d, 0xee30, 0xc9dd, 0x8bbe, 0xc6d, 0x0, 0x1);
        gbc.writeMem(0x8251, { 0x90 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x486d, gbc.sp());
        EXPECT(0x8252, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8251));
        // 90 01D0
        gbc.setState(0x9a29, 0x9d78, 0x2400, 0xe57e, 0x804a, 0xc887, 0x0, 0x0);
        gbc.writeMem(0x9a29, { 0x90 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x9d78, gbc.sp());
        EXPECT(0x9a2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9a29));
        // 90 01D1
        gbc.setState(0x303d, 0x94a4, 0x290, 0x55db, 0xb543, 0x880e, 0x0, 0x1);
        gbc.writeMem(0x303d, { 0x90 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x94a4, gbc.sp());
        EXPECT(0x303e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01D2
        gbc.setState(0x2dc3, 0xcf34, 0x75d0, 0xc749, 0x823a, 0xb6ac, 0x1, 0x0);
        gbc.writeMem(0x2dc3, { 0x90 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xcf34, gbc.sp());
        EXPECT(0x2dc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01D4
        gbc.setState(0xebfd, 0x83c9, 0xd870, 0x315a, 0x7c18, 0xdc71, 0x1, 0x1);
        gbc.writeMem(0xebfd, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x83c9, gbc.sp());
        EXPECT(0xebfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xebfd));
        // 90 01D5
        gbc.setState(0x7936, 0x6482, 0x92c0, 0x90fb, 0xefab, 0xcb5a, 0x1, 0x1);
        gbc.writeMem(0x7936, { 0x90 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x6482, gbc.sp());
        EXPECT(0x7937, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01D6
        gbc.setState(0xed9, 0x5ae6, 0xe590, 0xfe79, 0x6674, 0xe4aa, 0x1, 0x1);
        gbc.writeMem(0xed9, { 0x90 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x5ae6, gbc.sp());
        EXPECT(0xeda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01D7
        gbc.setState(0xb6de, 0xeced, 0xf8f0, 0xaa0f, 0xc60d, 0x6156, 0x0, 0x1);
        gbc.writeMem(0xb6de, { 0x90 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xeced, gbc.sp());
        EXPECT(0xb6df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb6de));
        // 90 01D8
        gbc.setState(0x2274, 0x80e7, 0x79c0, 0x1b46, 0xe45d, 0xbd46, 0x0, 0x1);
        gbc.writeMem(0x2274, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x80e7, gbc.sp());
        EXPECT(0x2275, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01DA
        gbc.setState(0x7e0f, 0x29e, 0x3b20, 0x7f0c, 0xfadd, 0x59cb, 0x1, 0x1);
        gbc.writeMem(0x7e0f, { 0x90 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x29e, gbc.sp());
        EXPECT(0x7e10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01DB
        gbc.setState(0x58f3, 0xbef3, 0xe080, 0x8208, 0x2275, 0xa622, 0x0, 0x1);
        gbc.writeMem(0x58f3, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xbef3, gbc.sp());
        EXPECT(0x58f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01DC
        gbc.setState(0x4d7d, 0x1d1c, 0x37a0, 0xa6dd, 0xf354, 0x3fd, 0x1, 0x1);
        gbc.writeMem(0x4d7d, { 0x90 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x1d1c, gbc.sp());
        EXPECT(0x4d7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01DD
        gbc.setState(0x7be7, 0xe284, 0x1990, 0x7f71, 0xfe0f, 0x1ba5, 0x1, 0x0);
        gbc.writeMem(0x7be7, { 0x90 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xe284, gbc.sp());
        EXPECT(0x7be8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01DE
        gbc.setState(0xbde8, 0xeeb6, 0x5e70, 0xad9e, 0xf228, 0x9faa, 0x0, 0x1);
        gbc.writeMem(0xbde8, { 0x90 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xeeb6, gbc.sp());
        EXPECT(0xbde9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbde8));
        // 90 01DF
        gbc.setState(0xdc2d, 0x62b0, 0xffe0, 0x32c1, 0x2bf9, 0x3cc1, 0x1, 0x0);
        gbc.writeMem(0xdc2d, { 0x90 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x62b0, gbc.sp());
        EXPECT(0xdc2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdc2d));
        // 90 01E0
        gbc.setState(0xbf22, 0xf7a5, 0xa40, 0x7a63, 0x7017, 0xc27a, 0x0, 0x0);
        gbc.writeMem(0xbf22, { 0x90 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xf7a5, gbc.sp());
        EXPECT(0xbf23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbf22));
        // 90 01E3
        gbc.setState(0xa789, 0x9bf1, 0xb640, 0x95f3, 0x2b80, 0xfcf7, 0x1, 0x0);
        gbc.writeMem(0xa789, { 0x90 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x9bf1, gbc.sp());
        EXPECT(0xa78a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa789));
        // 90 01E4
        gbc.setState(0xeeea, 0xcacf, 0xef30, 0x777c, 0xd169, 0xeee9, 0x1, 0x0);
        gbc.writeMem(0xeeea, { 0x90 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xcacf, gbc.sp());
        EXPECT(0xeeeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeeea));
        // 90 01E6
        gbc.setState(0x9ea0, 0x558, 0xac50, 0xcb56, 0x272b, 0x981c, 0x0, 0x0);
        gbc.writeMem(0x9ea0, { 0x90 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x558, gbc.sp());
        EXPECT(0x9ea1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9ea0));
        // 90 01E7
        gbc.setState(0x3e78, 0xd98d, 0xd860, 0xc43f, 0xf126, 0xca89, 0x0, 0x0);
        gbc.writeMem(0x3e78, { 0x90 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xd98d, gbc.sp());
        EXPECT(0x3e79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01E8
        gbc.setState(0x2fb9, 0x3aff, 0x8450, 0x4a24, 0xc96b, 0x577c, 0x0, 0x0);
        gbc.writeMem(0x2fb9, { 0x90 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x3aff, gbc.sp());
        EXPECT(0x2fba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01EA
        gbc.setState(0xe103, 0xd59e, 0x6c0, 0xad07, 0x205f, 0xcaad, 0x1, 0x0);
        gbc.writeMem(0xe103, { 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xd59e, gbc.sp());
        EXPECT(0xe104, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe103));
        // 90 01EB
        gbc.setState(0xb424, 0xffd3, 0x9d60, 0xb8c6, 0x625f, 0x959, 0x0, 0x1);
        gbc.writeMem(0xb424, { 0x90 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xffd3, gbc.sp());
        EXPECT(0xb425, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb424));
        // 90 01EC
        gbc.setState(0x5a2b, 0x1c36, 0x7270, 0xfa22, 0x71e2, 0x77c3, 0x0, 0x1);
        gbc.writeMem(0x5a2b, { 0x90 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x1c36, gbc.sp());
        EXPECT(0x5a2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01ED
        gbc.setState(0x668b, 0x889, 0xf8d0, 0x20b7, 0x3d34, 0x65bc, 0x1, 0x0);
        gbc.writeMem(0x668b, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x889, gbc.sp());
        EXPECT(0x668c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01EE
        gbc.setState(0xd68a, 0x3ab6, 0xa200, 0x4008, 0x3115, 0xb4ad, 0x1, 0x0);
        gbc.writeMem(0xd68a, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x3ab6, gbc.sp());
        EXPECT(0xd68b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd68a));
        // 90 01F0
        gbc.setState(0x8c13, 0x774c, 0x27c0, 0xa850, 0xecd7, 0xf7b6, 0x0, 0x0);
        gbc.writeMem(0x8c13, { 0x90 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x774c, gbc.sp());
        EXPECT(0x8c14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8c13));
        // 90 01F1
        gbc.setState(0x24da, 0xb6c8, 0x5630, 0x4f75, 0x83d4, 0x3a78, 0x1, 0x0);
        gbc.writeMem(0x24da, { 0x90 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xb6c8, gbc.sp());
        EXPECT(0x24db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01F2
        gbc.setState(0x43cf, 0x705, 0x4240, 0x9161, 0x2679, 0x4cf1, 0x0, 0x1);
        gbc.writeMem(0x43cf, { 0x90 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x705, gbc.sp());
        EXPECT(0x43d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01F3
        gbc.setState(0xd2dc, 0x78ef, 0x9b20, 0x8367, 0xe8f3, 0x6753, 0x1, 0x1);
        gbc.writeMem(0xd2dc, { 0x90 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x78ef, gbc.sp());
        EXPECT(0xd2dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd2dc));
        // 90 01F4
        gbc.setState(0xb158, 0x68cd, 0x8a70, 0xcdb0, 0xd5ba, 0x7ca9, 0x0, 0x1);
        gbc.writeMem(0xb158, { 0x90 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x68cd, gbc.sp());
        EXPECT(0xb159, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb158));
        // 90 01F5
        gbc.setState(0x79a3, 0x6bce, 0x3ba0, 0x83b4, 0xcf87, 0x7f9a, 0x1, 0x0);
        gbc.writeMem(0x79a3, { 0x90 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x6bce, gbc.sp());
        EXPECT(0x79a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01F6
        gbc.setState(0xecb8, 0x76bf, 0xd70, 0xffb5, 0xa0f2, 0x6c0e, 0x1, 0x1);
        gbc.writeMem(0xecb8, { 0x90 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x76bf, gbc.sp());
        EXPECT(0xecb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xecb8));
        // 90 01F7
        gbc.setState(0xc910, 0xfcd1, 0xe190, 0x8db2, 0xb7, 0x3f12, 0x1, 0x1);
        gbc.writeMem(0xc910, { 0x90 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xfcd1, gbc.sp());
        EXPECT(0xc911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc910));
        // 90 01F8
        gbc.setState(0x3d88, 0x2315, 0x1900, 0xec8d, 0x9122, 0x1368, 0x1, 0x0);
        gbc.writeMem(0x3d88, { 0x90 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x2315, gbc.sp());
        EXPECT(0x3d89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01F9
        gbc.setState(0xe958, 0xd771, 0x4c10, 0xd6cd, 0xbc90, 0xec4, 0x1, 0x0);
        gbc.writeMem(0xe958, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xd771, gbc.sp());
        EXPECT(0xe959, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe958));
        // 90 01FA
        gbc.setState(0x5f7c, 0xdf47, 0x27d0, 0x4517, 0xce7a, 0x3814, 0x1, 0x0);
        gbc.writeMem(0x5f7c, { 0x90 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xdf47, gbc.sp());
        EXPECT(0x5f7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01FB
        gbc.setState(0x16a1, 0x1c6f, 0x6830, 0x1ff7, 0x678b, 0xafa5, 0x1, 0x1);
        gbc.writeMem(0x16a1, { 0x90 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x1c6f, gbc.sp());
        EXPECT(0x16a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01FC
        gbc.setState(0x1283, 0x344b, 0x1280, 0x68a5, 0xebcd, 0x4435, 0x1, 0x0);
        gbc.writeMem(0x1283, { 0x90 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x344b, gbc.sp());
        EXPECT(0x1284, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01FD
        gbc.setState(0x323e, 0xd02c, 0x7d10, 0x2295, 0xab9a, 0x35cc, 0x0, 0x1);
        gbc.writeMem(0x323e, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xd02c, gbc.sp());
        EXPECT(0x323f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 01FE
        gbc.setState(0x3271, 0xa12f, 0x6570, 0xc1ed, 0x23f1, 0xd70d, 0x0, 0x1);
        gbc.writeMem(0x3271, { 0x90 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xa12f, gbc.sp());
        EXPECT(0x3272, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 01FF
        gbc.setState(0x8ac7, 0xe670, 0x56b0, 0x270, 0x6743, 0x9133, 0x0, 0x1);
        gbc.writeMem(0x8ac7, { 0x90 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xe670, gbc.sp());
        EXPECT(0x8ac8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8ac7));
        // 90 0200
        gbc.setState(0x18b2, 0x3bb7, 0xec10, 0x9d56, 0xaf25, 0xae0a, 0x0, 0x0);
        gbc.writeMem(0x18b2, { 0x90 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3bb7, gbc.sp());
        EXPECT(0x18b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0201
        gbc.setState(0xee31, 0xcae, 0x58e0, 0xbe66, 0xdf8c, 0xbc8f, 0x0, 0x1);
        gbc.writeMem(0xee31, { 0x90 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xcae, gbc.sp());
        EXPECT(0xee32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xee31));
        // 90 0202
        gbc.setState(0xd284, 0xa4fb, 0xa610, 0x24d3, 0x9a82, 0xf487, 0x0, 0x0);
        gbc.writeMem(0xd284, { 0x90 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xa4fb, gbc.sp());
        EXPECT(0xd285, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd284));
        // 90 0203
        gbc.setState(0x5a93, 0x1716, 0x6a90, 0x4fd9, 0x41f9, 0x14de, 0x1, 0x1);
        gbc.writeMem(0x5a93, { 0x90 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x1716, gbc.sp());
        EXPECT(0x5a94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0204
        gbc.setState(0x66d1, 0xf6cc, 0x1170, 0xb34d, 0xbd0f, 0x8c94, 0x1, 0x1);
        gbc.writeMem(0x66d1, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xf6cc, gbc.sp());
        EXPECT(0x66d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0205
        gbc.setState(0x2f4c, 0xf0f8, 0x3e70, 0x4755, 0x128b, 0xcfaf, 0x1, 0x0);
        gbc.writeMem(0x2f4c, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xf0f8, gbc.sp());
        EXPECT(0x2f4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0206
        gbc.setState(0x1260, 0x1af6, 0xea90, 0x145d, 0xae32, 0xa7db, 0x1, 0x1);
        gbc.writeMem(0x1260, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x1af6, gbc.sp());
        EXPECT(0x1261, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0207
        gbc.setState(0xc44f, 0x3606, 0xb620, 0xf188, 0x3f0c, 0xd842, 0x0, 0x0);
        gbc.writeMem(0xc44f, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x3606, gbc.sp());
        EXPECT(0xc450, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc44f));
        // 90 0208
        gbc.setState(0xd683, 0x180d, 0xb5a0, 0x651d, 0x621d, 0x711a, 0x1, 0x0);
        gbc.writeMem(0xd683, { 0x90 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x180d, gbc.sp());
        EXPECT(0xd684, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd683));
        // 90 0209
        gbc.setState(0x3aee, 0xed00, 0xa190, 0x972b, 0xe1e6, 0x86fc, 0x1, 0x0);
        gbc.writeMem(0x3aee, { 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xed00, gbc.sp());
        EXPECT(0x3aef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 020A
        gbc.setState(0x991a, 0x7787, 0x42d0, 0x4b46, 0x58ca, 0x5e52, 0x0, 0x0);
        gbc.writeMem(0x991a, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x7787, gbc.sp());
        EXPECT(0x991b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x991a));
        // 90 020B
        gbc.setState(0xe4db, 0x50f3, 0x9ab0, 0x5eb7, 0xb4c5, 0xbfdb, 0x1, 0x0);
        gbc.writeMem(0xe4db, { 0x90 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x50f3, gbc.sp());
        EXPECT(0xe4dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe4db));
        // 90 020C
        gbc.setState(0x1865, 0xa3f7, 0xe3a0, 0x90c7, 0x7ef2, 0x1e18, 0x0, 0x1);
        gbc.writeMem(0x1865, { 0x90 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xa3f7, gbc.sp());
        EXPECT(0x1866, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 020D
        gbc.setState(0x7a92, 0xac24, 0x8be0, 0xc137, 0x154a, 0x1367, 0x0, 0x1);
        gbc.writeMem(0x7a92, { 0x90 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xac24, gbc.sp());
        EXPECT(0x7a93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 020E
        gbc.setState(0x1bd, 0xefea, 0x6b0, 0xeae9, 0xf803, 0x61f1, 0x0, 0x1);
        gbc.writeMem(0x1bd, { 0x90 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xefea, gbc.sp());
        EXPECT(0x1be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 020F
        gbc.setState(0xc1a7, 0x81db, 0x8300, 0xa093, 0x568f, 0xc50e, 0x0, 0x0);
        gbc.writeMem(0xc1a7, { 0x90 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x81db, gbc.sp());
        EXPECT(0xc1a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc1a7));
        // 90 0210
        gbc.setState(0x7515, 0x3d0e, 0xc840, 0x1260, 0xff75, 0x5d4, 0x1, 0x0);
        gbc.writeMem(0x7515, { 0x90 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x3d0e, gbc.sp());
        EXPECT(0x7516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0211
        gbc.setState(0x1f55, 0xf324, 0x5150, 0x32d4, 0x6dc6, 0xa2cd, 0x1, 0x0);
        gbc.writeMem(0x1f55, { 0x90 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xf324, gbc.sp());
        EXPECT(0x1f56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0212
        gbc.setState(0x73ac, 0x58e0, 0x8660, 0x88d3, 0xa9fb, 0xcecb, 0x1, 0x1);
        gbc.writeMem(0x73ac, { 0x90 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x58e0, gbc.sp());
        EXPECT(0x73ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0213
        gbc.setState(0xc359, 0xedf, 0x3380, 0x6ad2, 0x3021, 0x7b7f, 0x1, 0x1);
        gbc.writeMem(0xc359, { 0x90 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xedf, gbc.sp());
        EXPECT(0xc35a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc359));
        // 90 0214
        gbc.setState(0x642b, 0xff8, 0xd5e0, 0x9b84, 0x5d37, 0xc5ec, 0x1, 0x0);
        gbc.writeMem(0x642b, { 0x90 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xff8, gbc.sp());
        EXPECT(0x642c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0215
        gbc.setState(0x1988, 0x2122, 0xd670, 0x7c8a, 0x90c, 0x932d, 0x0, 0x1);
        gbc.writeMem(0x1988, { 0x90 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x2122, gbc.sp());
        EXPECT(0x1989, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0216
        gbc.setState(0x1ba7, 0x3123, 0xbe50, 0xa4e9, 0x4dfe, 0x881e, 0x0, 0x1);
        gbc.writeMem(0x1ba7, { 0x90 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x3123, gbc.sp());
        EXPECT(0x1ba8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0217
        gbc.setState(0xcd59, 0xfa52, 0xa010, 0x3000, 0xad88, 0xe3f5, 0x0, 0x1);
        gbc.writeMem(0xcd59, { 0x90 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xfa52, gbc.sp());
        EXPECT(0xcd5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcd59));
        // 90 0218
        gbc.setState(0x6d07, 0xf3e0, 0x9360, 0xaf26, 0x6a02, 0x446d, 0x1, 0x1);
        gbc.writeMem(0x6d07, { 0x90 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xf3e0, gbc.sp());
        EXPECT(0x6d08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0219
        gbc.setState(0x3d71, 0xabf9, 0x2830, 0xccc9, 0xd870, 0x289, 0x1, 0x1);
        gbc.writeMem(0x3d71, { 0x90 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xabf9, gbc.sp());
        EXPECT(0x3d72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 021A
        gbc.setState(0xee18, 0x81c9, 0xe730, 0x2f7, 0x8955, 0x4874, 0x1, 0x1);
        gbc.writeMem(0xee18, { 0x90 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x81c9, gbc.sp());
        EXPECT(0xee19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xee18));
        // 90 021B
        gbc.setState(0xbe0a, 0x6789, 0xccf0, 0x30fa, 0x154d, 0x1d62, 0x0, 0x0);
        gbc.writeMem(0xbe0a, { 0x90 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x6789, gbc.sp());
        EXPECT(0xbe0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbe0a));
        // 90 021C
        gbc.setState(0x3bab, 0x8e1b, 0xcf80, 0x243f, 0xd8e8, 0xb2d1, 0x0, 0x0);
        gbc.writeMem(0x3bab, { 0x90 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x8e1b, gbc.sp());
        EXPECT(0x3bac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 021D
        gbc.setState(0xed63, 0xb442, 0xfb90, 0xefa0, 0x1afd, 0xcb40, 0x1, 0x1);
        gbc.writeMem(0xed63, { 0x90 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xb442, gbc.sp());
        EXPECT(0xed64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xed63));
        // 90 021E
        gbc.setState(0x874, 0xc697, 0x7760, 0xdb6a, 0x8f94, 0x3b13, 0x1, 0x1);
        gbc.writeMem(0x874, { 0x90 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc697, gbc.sp());
        EXPECT(0x875, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 021F
        gbc.setState(0x8e50, 0x5a64, 0xf7f0, 0xd996, 0x6ae, 0x17a, 0x1, 0x0);
        gbc.writeMem(0x8e50, { 0x90 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x5a64, gbc.sp());
        EXPECT(0x8e51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8e50));
        // 90 0220
        gbc.setState(0xacb5, 0x1289, 0x3e40, 0xacc5, 0xb78a, 0xe7de, 0x1, 0x0);
        gbc.writeMem(0xacb5, { 0x90 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x1289, gbc.sp());
        EXPECT(0xacb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xacb5));
        // 90 0221
        gbc.setState(0x8a16, 0x76cd, 0x21a0, 0x6b80, 0x28f8, 0xd43d, 0x1, 0x1);
        gbc.writeMem(0x8a16, { 0x90 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x76cd, gbc.sp());
        EXPECT(0x8a17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8a16));
        // 90 0222
        gbc.setState(0xa3c0, 0xcaed, 0x3660, 0x4585, 0x7dff, 0xf240, 0x1, 0x0);
        gbc.writeMem(0xa3c0, { 0x90 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xcaed, gbc.sp());
        EXPECT(0xa3c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa3c0));
        // 90 0223
        gbc.setState(0x72f5, 0xf13e, 0xa270, 0xc2c0, 0xe456, 0x68b6, 0x0, 0x0);
        gbc.writeMem(0x72f5, { 0x90 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xf13e, gbc.sp());
        EXPECT(0x72f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0224
        gbc.setState(0x7f29, 0xf0ee, 0x2d90, 0x8942, 0x917c, 0xfc37, 0x0, 0x1);
        gbc.writeMem(0x7f29, { 0x90 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xf0ee, gbc.sp());
        EXPECT(0x7f2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0225
        gbc.setState(0x34e7, 0xd0ae, 0x5340, 0xa954, 0xcc71, 0x592c, 0x0, 0x0);
        gbc.writeMem(0x34e7, { 0x90 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xd0ae, gbc.sp());
        EXPECT(0x34e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0226
        gbc.setState(0xb3e2, 0x3b3b, 0x11f0, 0xdd60, 0x3e10, 0xeec5, 0x1, 0x1);
        gbc.writeMem(0xb3e2, { 0x90 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x3b3b, gbc.sp());
        EXPECT(0xb3e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb3e2));
        // 90 0227
        gbc.setState(0xc363, 0x771f, 0x6120, 0xc511, 0xf464, 0xcb3b, 0x0, 0x0);
        gbc.writeMem(0xc363, { 0x90 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x771f, gbc.sp());
        EXPECT(0xc364, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc363));
        // 90 0228
        gbc.setState(0xd3c8, 0x302f, 0xc0f0, 0x8199, 0x52b3, 0x920f, 0x0, 0x1);
        gbc.writeMem(0xd3c8, { 0x90 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x302f, gbc.sp());
        EXPECT(0xd3c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd3c8));
        // 90 0229
        gbc.setState(0x19a8, 0x437a, 0x8c20, 0x4d6f, 0x725b, 0x1417, 0x0, 0x0);
        gbc.writeMem(0x19a8, { 0x90 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x437a, gbc.sp());
        EXPECT(0x19a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 022A
        gbc.setState(0xb77, 0x7a1b, 0x9a50, 0x8618, 0x583c, 0xb2a3, 0x0, 0x1);
        gbc.writeMem(0xb77, { 0x90 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x7a1b, gbc.sp());
        EXPECT(0xb78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 022B
        gbc.setState(0x260e, 0xdfd9, 0xfbb0, 0x44ba, 0xc4a4, 0xefa, 0x0, 0x0);
        gbc.writeMem(0x260e, { 0x90 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xdfd9, gbc.sp());
        EXPECT(0x260f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 022C
        gbc.setState(0x696, 0x19a0, 0xc340, 0xcec2, 0x5e79, 0xb589, 0x1, 0x0);
        gbc.writeMem(0x696, { 0x90 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x19a0, gbc.sp());
        EXPECT(0x697, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 022D
        gbc.setState(0x88bc, 0x3f2e, 0xd470, 0x691e, 0x3071, 0x334a, 0x0, 0x1);
        gbc.writeMem(0x88bc, { 0x90 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x3f2e, gbc.sp());
        EXPECT(0x88bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x88bc));
        // 90 022E
        gbc.setState(0xd01d, 0xc393, 0x5100, 0xf6a4, 0x3c7f, 0x1ff1, 0x0, 0x1);
        gbc.writeMem(0xd01d, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc393, gbc.sp());
        EXPECT(0xd01e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd01d));
        // 90 022F
        gbc.setState(0x8404, 0x87, 0x7b30, 0x8322, 0x7744, 0x23e0, 0x1, 0x1);
        gbc.writeMem(0x8404, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x87, gbc.sp());
        EXPECT(0x8405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8404));
        // 90 0230
        gbc.setState(0xd18c, 0xe647, 0x9c60, 0x1ee6, 0xfed, 0xa7d3, 0x0, 0x1);
        gbc.writeMem(0xd18c, { 0x90 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xe647, gbc.sp());
        EXPECT(0xd18d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd18c));
        // 90 0231
        gbc.setState(0x3511, 0xe625, 0xa540, 0x43c7, 0xf501, 0x3f50, 0x0, 0x0);
        gbc.writeMem(0x3511, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xe625, gbc.sp());
        EXPECT(0x3512, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0232
        gbc.setState(0xd2e3, 0x2180, 0xc8b0, 0xc617, 0xe8b6, 0xe3a5, 0x1, 0x1);
        gbc.writeMem(0xd2e3, { 0x90 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x2180, gbc.sp());
        EXPECT(0xd2e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd2e3));
        // 90 0233
        gbc.setState(0xea7d, 0x454e, 0xb620, 0xe2c3, 0xe1bf, 0xfd85, 0x1, 0x0);
        gbc.writeMem(0xea7d, { 0x90 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x454e, gbc.sp());
        EXPECT(0xea7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xea7d));
        // 90 0234
        gbc.setState(0x9, 0xa92e, 0x6690, 0xbf1, 0xd914, 0xdbad, 0x0, 0x1);
        gbc.writeMem(0x9, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xa92e, gbc.sp());
        EXPECT(0xa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0235
        gbc.setState(0xe05c, 0xdaed, 0xe280, 0x7f1, 0x9cbb, 0xbd19, 0x0, 0x1);
        gbc.writeMem(0xe05c, { 0x90 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xdaed, gbc.sp());
        EXPECT(0xe05d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe05c));
        // 90 0236
        gbc.setState(0x1bfd, 0x2255, 0x8e70, 0x874f, 0x753c, 0xf725, 0x1, 0x0);
        gbc.writeMem(0x1bfd, { 0x90 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x2255, gbc.sp());
        EXPECT(0x1bfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0237
        gbc.setState(0xaf21, 0xa7cf, 0x3e20, 0xd5bb, 0x5c43, 0x9cce, 0x0, 0x0);
        gbc.writeMem(0xaf21, { 0x90 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xa7cf, gbc.sp());
        EXPECT(0xaf22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaf21));
        // 90 0238
        gbc.setState(0x2043, 0xc345, 0xbd50, 0x4a35, 0xce48, 0xcd68, 0x0, 0x0);
        gbc.writeMem(0x2043, { 0x90 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xc345, gbc.sp());
        EXPECT(0x2044, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0239
        gbc.setState(0x9b7f, 0x5bdb, 0xd7c0, 0xdb, 0xb818, 0x5801, 0x1, 0x1);
        gbc.writeMem(0x9b7f, { 0x90 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x5bdb, gbc.sp());
        EXPECT(0x9b80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9b7f));
        // 90 023A
        gbc.setState(0x9146, 0xd273, 0x93a0, 0xbf60, 0x1878, 0xa932, 0x1, 0x0);
        gbc.writeMem(0x9146, { 0x90 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd273, gbc.sp());
        EXPECT(0x9147, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9146));
        // 90 023C
        gbc.setState(0xed60, 0x4619, 0x6100, 0x37bc, 0xd96, 0x414b, 0x1, 0x1);
        gbc.writeMem(0xed60, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x4619, gbc.sp());
        EXPECT(0xed61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xed60));
        // 90 023D
        gbc.setState(0xece9, 0xcfd7, 0x1a0, 0xa325, 0xdd11, 0xa972, 0x0, 0x1);
        gbc.writeMem(0xece9, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xcfd7, gbc.sp());
        EXPECT(0xecea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xece9));
        // 90 023E
        gbc.setState(0xb7c3, 0x3642, 0xc9a0, 0xdf71, 0xfef0, 0x2281, 0x0, 0x1);
        gbc.writeMem(0xb7c3, { 0x90 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x3642, gbc.sp());
        EXPECT(0xb7c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb7c3));
        // 90 023F
        gbc.setState(0x4841, 0x8a18, 0x3ef0, 0x75e8, 0xcf8f, 0x4505, 0x1, 0x1);
        gbc.writeMem(0x4841, { 0x90 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8a18, gbc.sp());
        EXPECT(0x4842, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0240
        gbc.setState(0x3211, 0xa4c6, 0x5dc0, 0x859, 0xb067, 0x838a, 0x1, 0x0);
        gbc.writeMem(0x3211, { 0x90 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa4c6, gbc.sp());
        EXPECT(0x3212, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0241
        gbc.setState(0x7e69, 0xcacf, 0x25a0, 0xc978, 0x62b2, 0x37a5, 0x0, 0x1);
        gbc.writeMem(0x7e69, { 0x90 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xcacf, gbc.sp());
        EXPECT(0x7e6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0242
        gbc.setState(0xa869, 0xf79f, 0xd050, 0x656d, 0x2ffe, 0x58f3, 0x0, 0x0);
        gbc.writeMem(0xa869, { 0x90 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xf79f, gbc.sp());
        EXPECT(0xa86a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa869));
        // 90 0243
        gbc.setState(0x1ddc, 0x76fd, 0x1860, 0x7c10, 0x9574, 0x8e6e, 0x0, 0x1);
        gbc.writeMem(0x1ddc, { 0x90 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x76fd, gbc.sp());
        EXPECT(0x1ddd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0244
        gbc.setState(0x1b95, 0xcbf9, 0x3060, 0xc09f, 0x8d99, 0x583c, 0x0, 0x1);
        gbc.writeMem(0x1b95, { 0x90 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xcbf9, gbc.sp());
        EXPECT(0x1b96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0245
        gbc.setState(0xcb5f, 0xdd4e, 0xf090, 0x5511, 0x4ae5, 0x5cfe, 0x0, 0x1);
        gbc.writeMem(0xcb5f, { 0x90 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xdd4e, gbc.sp());
        EXPECT(0xcb60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcb5f));
        // 90 0246
        gbc.setState(0xeef5, 0x6d46, 0x6120, 0x9b3e, 0xd0a5, 0xcaa8, 0x1, 0x1);
        gbc.writeMem(0xeef5, { 0x90 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x6d46, gbc.sp());
        EXPECT(0xeef6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xeef5));
        // 90 0247
        gbc.setState(0x6fee, 0xd8cb, 0x46e0, 0x9664, 0xc8e9, 0xf8f9, 0x1, 0x0);
        gbc.writeMem(0x6fee, { 0x90 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xd8cb, gbc.sp());
        EXPECT(0x6fef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0248
        gbc.setState(0x5977, 0x761a, 0xafd0, 0xef2, 0x2ac7, 0x26fd, 0x0, 0x0);
        gbc.writeMem(0x5977, { 0x90 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x761a, gbc.sp());
        EXPECT(0x5978, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0249
        gbc.setState(0x24e, 0xe7fe, 0x2ab0, 0x186a, 0x21e8, 0x876f, 0x0, 0x0);
        gbc.writeMem(0x24e, { 0x90 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xe7fe, gbc.sp());
        EXPECT(0x24f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 024B
        gbc.setState(0x4c47, 0xe18a, 0x4b60, 0x7508, 0x31b7, 0x883d, 0x1, 0x1);
        gbc.writeMem(0x4c47, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xe18a, gbc.sp());
        EXPECT(0x4c48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 024C
        gbc.setState(0xa185, 0x70fb, 0x4680, 0xd1f8, 0x7c49, 0xbde4, 0x0, 0x1);
        gbc.writeMem(0xa185, { 0x90 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x70fb, gbc.sp());
        EXPECT(0xa186, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa185));
        // 90 024D
        gbc.setState(0xd255, 0xe558, 0xc060, 0x990d, 0xb339, 0xc6d0, 0x0, 0x1);
        gbc.writeMem(0xd255, { 0x90 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xe558, gbc.sp());
        EXPECT(0xd256, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd255));
        // 90 024E
        gbc.setState(0xda03, 0x8c69, 0xa000, 0x31d6, 0xab8e, 0xad55, 0x0, 0x1);
        gbc.writeMem(0xda03, { 0x90 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x8c69, gbc.sp());
        EXPECT(0xda04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xda03));
        // 90 024F
        gbc.setState(0x9aaf, 0xc634, 0x61f0, 0xfeee, 0xd2c0, 0x86f5, 0x0, 0x0);
        gbc.writeMem(0x9aaf, { 0x90 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xc634, gbc.sp());
        EXPECT(0x9ab0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9aaf));
        // 90 0250
        gbc.setState(0x8469, 0x7072, 0x7650, 0x7bd9, 0x74d8, 0x6705, 0x1, 0x0);
        gbc.writeMem(0x8469, { 0x90 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x7072, gbc.sp());
        EXPECT(0x846a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8469));
        // 90 0251
        gbc.setState(0x5686, 0x190b, 0xf010, 0x4cb, 0x4a75, 0x51b3, 0x0, 0x0);
        gbc.writeMem(0x5686, { 0x90 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x190b, gbc.sp());
        EXPECT(0x5687, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0252
        gbc.setState(0xdb44, 0xee0, 0x19e0, 0x7290, 0xae2c, 0xe8e8, 0x0, 0x1);
        gbc.writeMem(0xdb44, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xee0, gbc.sp());
        EXPECT(0xdb45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdb44));
        // 90 0253
        gbc.setState(0xe1de, 0x3f3d, 0xcbf0, 0x5560, 0x70e4, 0x90c0, 0x1, 0x1);
        gbc.writeMem(0xe1de, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x3f3d, gbc.sp());
        EXPECT(0xe1df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe1de));
        // 90 0254
        gbc.setState(0xb78d, 0x6c02, 0xc090, 0x74, 0x3b53, 0x5372, 0x1, 0x1);
        gbc.writeMem(0xb78d, { 0x90 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x6c02, gbc.sp());
        EXPECT(0xb78e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb78d));
        // 90 0255
        gbc.setState(0xd3ee, 0x929e, 0xa40, 0x8536, 0xed03, 0x99cb, 0x0, 0x0);
        gbc.writeMem(0xd3ee, { 0x90 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x929e, gbc.sp());
        EXPECT(0xd3ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd3ee));
        // 90 0256
        gbc.setState(0x2a62, 0x22fc, 0xb9a0, 0x30aa, 0x96cb, 0x5d1e, 0x1, 0x0);
        gbc.writeMem(0x2a62, { 0x90 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x22fc, gbc.sp());
        EXPECT(0x2a63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0257
        gbc.setState(0xbd4d, 0x6b2c, 0x4560, 0xff69, 0xdc8b, 0x6e8b, 0x0, 0x0);
        gbc.writeMem(0xbd4d, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x6b2c, gbc.sp());
        EXPECT(0xbd4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbd4d));
        // 90 0258
        gbc.setState(0x2baa, 0xd825, 0x6e50, 0xccaf, 0x120d, 0x2196, 0x1, 0x1);
        gbc.writeMem(0x2baa, { 0x90 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xd825, gbc.sp());
        EXPECT(0x2bab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0259
        gbc.setState(0x74d7, 0x358d, 0x78c0, 0x7ddd, 0x6be4, 0x345c, 0x1, 0x1);
        gbc.writeMem(0x74d7, { 0x90 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x358d, gbc.sp());
        EXPECT(0x74d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 025A
        gbc.setState(0x6c04, 0xe2a1, 0x2590, 0x57ca, 0xe30b, 0xf730, 0x0, 0x0);
        gbc.writeMem(0x6c04, { 0x90 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe2a1, gbc.sp());
        EXPECT(0x6c05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 025C
        gbc.setState(0x92ea, 0x31e6, 0xb400, 0xf45, 0xbe44, 0x6c8b, 0x0, 0x1);
        gbc.writeMem(0x92ea, { 0x90 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x31e6, gbc.sp());
        EXPECT(0x92eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x92ea));
        // 90 025D
        gbc.setState(0x9eac, 0x2d67, 0xceb0, 0xbec0, 0xcd29, 0x6506, 0x1, 0x1);
        gbc.writeMem(0x9eac, { 0x90 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x2d67, gbc.sp());
        EXPECT(0x9ead, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9eac));
        // 90 025E
        gbc.setState(0x32b7, 0x13a9, 0x92e0, 0xb0ab, 0xbf43, 0x5961, 0x0, 0x0);
        gbc.writeMem(0x32b7, { 0x90 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x13a9, gbc.sp());
        EXPECT(0x32b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 025F
        gbc.setState(0xa6f, 0xb089, 0x7d0, 0xddd1, 0x8689, 0xd17f, 0x1, 0x1);
        gbc.writeMem(0xa6f, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb089, gbc.sp());
        EXPECT(0xa70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0260
        gbc.setState(0x5124, 0xe013, 0x60f0, 0xc80f, 0xfcc5, 0x274d, 0x0, 0x1);
        gbc.writeMem(0x5124, { 0x90 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xe013, gbc.sp());
        EXPECT(0x5125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0261
        gbc.setState(0x594c, 0x3ae4, 0xee90, 0xa8f0, 0xa904, 0x7d39, 0x1, 0x1);
        gbc.writeMem(0x594c, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x3ae4, gbc.sp());
        EXPECT(0x594d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0262
        gbc.setState(0x518a, 0x3040, 0xe850, 0x1848, 0x51bb, 0xad9b, 0x0, 0x0);
        gbc.writeMem(0x518a, { 0x90 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x3040, gbc.sp());
        EXPECT(0x518b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0263
        gbc.setState(0xe0, 0x134c, 0x150, 0x2159, 0xa3dd, 0xc8c1, 0x1, 0x1);
        gbc.writeMem(0xe0, { 0x90 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x134c, gbc.sp());
        EXPECT(0xe1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0264
        gbc.setState(0xa919, 0x4197, 0x5b10, 0xf93e, 0xc558, 0xa45c, 0x0, 0x0);
        gbc.writeMem(0xa919, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x4197, gbc.sp());
        EXPECT(0xa91a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa919));
        // 90 0265
        gbc.setState(0xc9c3, 0x27f, 0x3f20, 0x8968, 0x7a4d, 0xecbb, 0x1, 0x0);
        gbc.writeMem(0xc9c3, { 0x90 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x27f, gbc.sp());
        EXPECT(0xc9c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc9c3));
        // 90 0267
        gbc.setState(0x903f, 0x613, 0x2920, 0x5f4c, 0xdfe5, 0xa720, 0x0, 0x0);
        gbc.writeMem(0x903f, { 0x90 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x613, gbc.sp());
        EXPECT(0x9040, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x903f));
        // 90 0268
        gbc.setState(0x5be2, 0x131f, 0xbd00, 0x90e0, 0x632a, 0x9be1, 0x1, 0x1);
        gbc.writeMem(0x5be2, { 0x90 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x131f, gbc.sp());
        EXPECT(0x5be3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0269
        gbc.setState(0x10bb, 0x6f23, 0x4bb0, 0xee56, 0xd245, 0xeb9e, 0x0, 0x1);
        gbc.writeMem(0x10bb, { 0x90 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x6f23, gbc.sp());
        EXPECT(0x10bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 026A
        gbc.setState(0xd604, 0xbb48, 0xeb50, 0xb060, 0xce38, 0x7793, 0x0, 0x0);
        gbc.writeMem(0xd604, { 0x90 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xbb48, gbc.sp());
        EXPECT(0xd605, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd604));
        // 90 026B
        gbc.setState(0xef51, 0x1f58, 0xca20, 0xb50f, 0xf1d7, 0x7aa2, 0x1, 0x1);
        gbc.writeMem(0xef51, { 0x90 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x1f58, gbc.sp());
        EXPECT(0xef52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xef51));
        // 90 026C
        gbc.setState(0x2d06, 0x81eb, 0xe0, 0xbb8e, 0xd2a1, 0x449c, 0x1, 0x1);
        gbc.writeMem(0x2d06, { 0x90 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x81eb, gbc.sp());
        EXPECT(0x2d07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 026D
        gbc.setState(0xcd60, 0xa50e, 0xb3c0, 0x9d12, 0x195a, 0xb836, 0x1, 0x0);
        gbc.writeMem(0xcd60, { 0x90 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xa50e, gbc.sp());
        EXPECT(0xcd61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcd60));
        // 90 026E
        gbc.setState(0x6b9c, 0x6d75, 0xfaf0, 0x388c, 0x3337, 0x2204, 0x1, 0x0);
        gbc.writeMem(0x6b9c, { 0x90 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6d75, gbc.sp());
        EXPECT(0x6b9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 026F
        gbc.setState(0xc59f, 0xcae3, 0xd470, 0xf80b, 0xb336, 0xd16a, 0x1, 0x0);
        gbc.writeMem(0xc59f, { 0x90 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xcae3, gbc.sp());
        EXPECT(0xc5a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc59f));
        // 90 0270
        gbc.setState(0x23fe, 0x6800, 0xe910, 0x9051, 0xc6ed, 0x8cee, 0x0, 0x0);
        gbc.writeMem(0x23fe, { 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x6800, gbc.sp());
        EXPECT(0x23ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0271
        gbc.setState(0x47a7, 0xfc47, 0x34d0, 0xf351, 0xc652, 0x1427, 0x0, 0x0);
        gbc.writeMem(0x47a7, { 0x90 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xfc47, gbc.sp());
        EXPECT(0x47a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0272
        gbc.setState(0x84c3, 0x1644, 0x67d0, 0x9c14, 0xd11, 0xcda6, 0x0, 0x1);
        gbc.writeMem(0x84c3, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x1644, gbc.sp());
        EXPECT(0x84c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x84c3));
        // 90 0273
        gbc.setState(0xa7a1, 0x9cca, 0x6220, 0x91d6, 0xe0bf, 0xb8af, 0x1, 0x1);
        gbc.writeMem(0xa7a1, { 0x90 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x9cca, gbc.sp());
        EXPECT(0xa7a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa7a1));
        // 90 0275
        gbc.setState(0xa520, 0x98ad, 0x9f80, 0x81bc, 0xd8b4, 0x7d41, 0x1, 0x1);
        gbc.writeMem(0xa520, { 0x90 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x98ad, gbc.sp());
        EXPECT(0xa521, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa520));
        // 90 0276
        gbc.setState(0x5902, 0x4b02, 0x9d00, 0x7801, 0x3bd0, 0x1694, 0x1, 0x0);
        gbc.writeMem(0x5902, { 0x90 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x4b02, gbc.sp());
        EXPECT(0x5903, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0277
        gbc.setState(0x9d5d, 0x595a, 0xa5e0, 0xfe5, 0xa35e, 0x4e40, 0x0, 0x0);
        gbc.writeMem(0x9d5d, { 0x90 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x595a, gbc.sp());
        EXPECT(0x9d5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9d5d));
        // 90 0278
        gbc.setState(0x4238, 0xa393, 0x7600, 0xe21a, 0x4bce, 0x137d, 0x1, 0x0);
        gbc.writeMem(0x4238, { 0x90 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xa393, gbc.sp());
        EXPECT(0x4239, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0279
        gbc.setState(0xb9b3, 0x7a89, 0x9d60, 0xea8c, 0x708b, 0x6f20, 0x1, 0x0);
        gbc.writeMem(0xb9b3, { 0x90 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x7a89, gbc.sp());
        EXPECT(0xb9b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb9b3));
        // 90 027A
        gbc.setState(0xa278, 0x2eae, 0x7fb0, 0x9f67, 0xe4e8, 0x4bec, 0x0, 0x1);
        gbc.writeMem(0xa278, { 0x90 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x2eae, gbc.sp());
        EXPECT(0xa279, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa278));
        // 90 027B
        gbc.setState(0xfdc, 0x6adf, 0x8f20, 0x5ea6, 0x83dd, 0x67eb, 0x1, 0x1);
        gbc.writeMem(0xfdc, { 0x90 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x6adf, gbc.sp());
        EXPECT(0xfdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 027C
        gbc.setState(0xb991, 0x52a1, 0x8310, 0x1988, 0xa0c1, 0x9d04, 0x1, 0x0);
        gbc.writeMem(0xb991, { 0x90 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x52a1, gbc.sp());
        EXPECT(0xb992, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb991));
        // 90 027E
        gbc.setState(0xb8b1, 0x3f3d, 0x8730, 0x1117, 0x5b4d, 0xbf10, 0x0, 0x1);
        gbc.writeMem(0xb8b1, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x3f3d, gbc.sp());
        EXPECT(0xb8b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb8b1));
        // 90 027F
        gbc.setState(0x1370, 0x3385, 0x5490, 0xf237, 0x8f98, 0x129e, 0x0, 0x1);
        gbc.writeMem(0x1370, { 0x90 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x3385, gbc.sp());
        EXPECT(0x1371, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0280
        gbc.setState(0x8418, 0x258a, 0x13d0, 0x9751, 0xcc63, 0x450b, 0x0, 0x1);
        gbc.writeMem(0x8418, { 0x90 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x258a, gbc.sp());
        EXPECT(0x8419, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8418));
        // 90 0281
        gbc.setState(0xc74a, 0xb065, 0x3c0, 0xf3a2, 0xb189, 0x583c, 0x1, 0x1);
        gbc.writeMem(0xc74a, { 0x90 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb065, gbc.sp());
        EXPECT(0xc74b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc74a));
        // 90 0282
        gbc.setState(0x2e9c, 0x315e, 0xbf90, 0x6147, 0x6227, 0x1690, 0x0, 0x1);
        gbc.writeMem(0x2e9c, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x315e, gbc.sp());
        EXPECT(0x2e9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0283
        gbc.setState(0x43d2, 0x2d78, 0x6240, 0x47ac, 0x6f97, 0xc59, 0x1, 0x0);
        gbc.writeMem(0x43d2, { 0x90 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x2d78, gbc.sp());
        EXPECT(0x43d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0284
        gbc.setState(0x5969, 0xc17a, 0x820, 0xf4f2, 0x5561, 0xc3e7, 0x1, 0x0);
        gbc.writeMem(0x5969, { 0x90 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc17a, gbc.sp());
        EXPECT(0x596a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0285
        gbc.setState(0x8f8e, 0xa45a, 0xe580, 0x77e0, 0x832f, 0x8fd2, 0x1, 0x1);
        gbc.writeMem(0x8f8e, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xa45a, gbc.sp());
        EXPECT(0x8f8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8f8e));
        // 90 0286
        gbc.setState(0xae26, 0xfefc, 0x8450, 0x5e3c, 0xdba9, 0x488a, 0x1, 0x1);
        gbc.writeMem(0xae26, { 0x90 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xfefc, gbc.sp());
        EXPECT(0xae27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xae26));
        // 90 0287
        gbc.setState(0x6a0e, 0x3e99, 0x46c0, 0xc7c9, 0x5996, 0x7bde, 0x1, 0x1);
        gbc.writeMem(0x6a0e, { 0x90 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x3e99, gbc.sp());
        EXPECT(0x6a0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0288
        gbc.setState(0x64c4, 0xc662, 0xb0d0, 0xb8a4, 0x14a5, 0xb162, 0x0, 0x0);
        gbc.writeMem(0x64c4, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xc662, gbc.sp());
        EXPECT(0x64c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0289
        gbc.setState(0xd783, 0x812e, 0x310, 0x14d3, 0xc45a, 0xd80, 0x0, 0x1);
        gbc.writeMem(0xd783, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x812e, gbc.sp());
        EXPECT(0xd784, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd783));
        // 90 028A
        gbc.setState(0x526c, 0xbec2, 0x7c00, 0x12ff, 0x527e, 0x8ff4, 0x0, 0x1);
        gbc.writeMem(0x526c, { 0x90 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xbec2, gbc.sp());
        EXPECT(0x526d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 028C
        gbc.setState(0xda9, 0xc0fc, 0xafd0, 0x3810, 0x35ef, 0xfb7, 0x1, 0x0);
        gbc.writeMem(0xda9, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xc0fc, gbc.sp());
        EXPECT(0xdaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 028D
        gbc.setState(0xa26f, 0x4439, 0x9070, 0x3082, 0x7690, 0x32d9, 0x1, 0x1);
        gbc.writeMem(0xa26f, { 0x90 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x4439, gbc.sp());
        EXPECT(0xa270, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa26f));
        // 90 028E
        gbc.setState(0x1df7, 0x4319, 0x1b30, 0x276b, 0xba8, 0x83b9, 0x1, 0x0);
        gbc.writeMem(0x1df7, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x4319, gbc.sp());
        EXPECT(0x1df8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 028F
        gbc.setState(0xc09b, 0x3b36, 0x8a70, 0x765e, 0x7158, 0xa789, 0x1, 0x1);
        gbc.writeMem(0xc09b, { 0x90 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x3b36, gbc.sp());
        EXPECT(0xc09c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc09b));
        // 90 0290
        gbc.setState(0xa84b, 0x8668, 0xbef0, 0x28dc, 0x782a, 0x6676, 0x0, 0x0);
        gbc.writeMem(0xa84b, { 0x90 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x8668, gbc.sp());
        EXPECT(0xa84c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa84b));
        // 90 0291
        gbc.setState(0xb111, 0x78cc, 0x1880, 0x496f, 0xb341, 0xaceb, 0x0, 0x1);
        gbc.writeMem(0xb111, { 0x90 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x78cc, gbc.sp());
        EXPECT(0xb112, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb111));
        // 90 0292
        gbc.setState(0x6fa0, 0x8307, 0xae30, 0xe8b7, 0xf84c, 0xee34, 0x1, 0x0);
        gbc.writeMem(0x6fa0, { 0x90 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x8307, gbc.sp());
        EXPECT(0x6fa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0293
        gbc.setState(0x646d, 0x5db9, 0x5b70, 0x69b1, 0xcfc1, 0x9f1e, 0x0, 0x1);
        gbc.writeMem(0x646d, { 0x90 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x5db9, gbc.sp());
        EXPECT(0x646e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0294
        gbc.setState(0x2619, 0x568d, 0xd3b0, 0xa9ca, 0xa149, 0xbf86, 0x1, 0x1);
        gbc.writeMem(0x2619, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x568d, gbc.sp());
        EXPECT(0x261a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0296
        gbc.setState(0xd9a6, 0x4106, 0xfff0, 0xd5f8, 0x3537, 0xfae2, 0x0, 0x0);
        gbc.writeMem(0xd9a6, { 0x90 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x4106, gbc.sp());
        EXPECT(0xd9a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd9a6));
        // 90 0297
        gbc.setState(0xe793, 0x72a5, 0x24f0, 0x56c3, 0x9151, 0xcd86, 0x0, 0x0);
        gbc.writeMem(0xe793, { 0x90 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x72a5, gbc.sp());
        EXPECT(0xe794, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe793));
        // 90 0298
        gbc.setState(0xcb2c, 0xb7a3, 0x3650, 0xc0af, 0xba10, 0x63df, 0x1, 0x1);
        gbc.writeMem(0xcb2c, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xb7a3, gbc.sp());
        EXPECT(0xcb2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcb2c));
        // 90 0299
        gbc.setState(0x6080, 0xfe45, 0xe620, 0xa26c, 0xf0c8, 0xb004, 0x0, 0x0);
        gbc.writeMem(0x6080, { 0x90 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xfe45, gbc.sp());
        EXPECT(0x6081, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 029A
        gbc.setState(0xae9d, 0x97ce, 0x2a00, 0xe91f, 0x1a01, 0x345f, 0x0, 0x0);
        gbc.writeMem(0xae9d, { 0x90 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x97ce, gbc.sp());
        EXPECT(0xae9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xae9d));
        // 90 029B
        gbc.setState(0xd600, 0xea77, 0x6910, 0x7a9c, 0x1246, 0xa360, 0x1, 0x1);
        gbc.writeMem(0xd600, { 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xea77, gbc.sp());
        EXPECT(0xd601, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd600));
        // 90 029C
        gbc.setState(0x39e2, 0x586a, 0xe50, 0xaafb, 0x2633, 0x8bc4, 0x0, 0x1);
        gbc.writeMem(0x39e2, { 0x90 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x586a, gbc.sp());
        EXPECT(0x39e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 029D
        gbc.setState(0x120e, 0x667d, 0xb660, 0x2fcd, 0xf2e0, 0xfea0, 0x0, 0x0);
        gbc.writeMem(0x120e, { 0x90 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x667d, gbc.sp());
        EXPECT(0x120f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 029E
        gbc.setState(0x25c7, 0x18bd, 0x1c80, 0xfde4, 0x460b, 0xc71d, 0x1, 0x1);
        gbc.writeMem(0x25c7, { 0x90 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x18bd, gbc.sp());
        EXPECT(0x25c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 029F
        gbc.setState(0x3c4c, 0x43c3, 0xc210, 0x746d, 0x60be, 0x7951, 0x1, 0x1);
        gbc.writeMem(0x3c4c, { 0x90 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x43c3, gbc.sp());
        EXPECT(0x3c4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02A0
        gbc.setState(0xbe4, 0x50e8, 0x32a0, 0xb7bd, 0x4c38, 0x60db, 0x1, 0x1);
        gbc.writeMem(0xbe4, { 0x90 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x50e8, gbc.sp());
        EXPECT(0xbe5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02A1
        gbc.setState(0xccd6, 0x14b6, 0xa140, 0x3360, 0xc306, 0x5c68, 0x0, 0x1);
        gbc.writeMem(0xccd6, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x14b6, gbc.sp());
        EXPECT(0xccd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xccd6));
        // 90 02A2
        gbc.setState(0x37bf, 0x1660, 0xe6b0, 0x969, 0xe33b, 0x87ec, 0x0, 0x1);
        gbc.writeMem(0x37bf, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x1660, gbc.sp());
        EXPECT(0x37c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02A4
        gbc.setState(0x5d5a, 0x436e, 0xc8f0, 0x32ad, 0xefc8, 0x810, 0x0, 0x1);
        gbc.writeMem(0x5d5a, { 0x90 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x436e, gbc.sp());
        EXPECT(0x5d5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02A5
        gbc.setState(0x7302, 0x746e, 0x6ea0, 0x86d9, 0xabb4, 0x1f8e, 0x1, 0x0);
        gbc.writeMem(0x7302, { 0x90 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x746e, gbc.sp());
        EXPECT(0x7303, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02A6
        gbc.setState(0x1272, 0x53ac, 0x70e0, 0x8404, 0x600a, 0x9214, 0x1, 0x1);
        gbc.writeMem(0x1272, { 0x90 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x53ac, gbc.sp());
        EXPECT(0x1273, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02A7
        gbc.setState(0xda43, 0xe3f2, 0x9360, 0x5dca, 0x8071, 0x66c1, 0x0, 0x1);
        gbc.writeMem(0xda43, { 0x90 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xe3f2, gbc.sp());
        EXPECT(0xda44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xda43));
        // 90 02A8
        gbc.setState(0x7a5, 0x57d7, 0x6f60, 0xb7a5, 0x2022, 0x7c7d, 0x1, 0x0);
        gbc.writeMem(0x7a5, { 0x90 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x57d7, gbc.sp());
        EXPECT(0x7a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02A9
        gbc.setState(0x9248, 0xfac0, 0x6390, 0x6f9d, 0xa9a0, 0xf7f3, 0x1, 0x0);
        gbc.writeMem(0x9248, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xfac0, gbc.sp());
        EXPECT(0x9249, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9248));
        // 90 02AA
        gbc.setState(0x4587, 0x7b70, 0x4520, 0xd243, 0x49b6, 0x7a2c, 0x1, 0x0);
        gbc.writeMem(0x4587, { 0x90 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7b70, gbc.sp());
        EXPECT(0x4588, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02AB
        gbc.setState(0xaceb, 0xa375, 0xbfe0, 0x9186, 0x1f71, 0x7ccc, 0x0, 0x0);
        gbc.writeMem(0xaceb, { 0x90 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xa375, gbc.sp());
        EXPECT(0xacec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaceb));
        // 90 02AC
        gbc.setState(0x73cc, 0x9722, 0xf930, 0xe517, 0x5298, 0xb582, 0x1, 0x1);
        gbc.writeMem(0x73cc, { 0x90 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9722, gbc.sp());
        EXPECT(0x73cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02AD
        gbc.setState(0xafd2, 0xaa2b, 0x6d0, 0x7bb1, 0x860f, 0xabe8, 0x0, 0x0);
        gbc.writeMem(0xafd2, { 0x90 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xaa2b, gbc.sp());
        EXPECT(0xafd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xafd2));
        // 90 02AE
        gbc.setState(0x7216, 0xb521, 0x7ee0, 0xca6f, 0x9b6d, 0xa021, 0x1, 0x1);
        gbc.writeMem(0x7216, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xb521, gbc.sp());
        EXPECT(0x7217, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02AF
        gbc.setState(0xec04, 0xf515, 0x2a90, 0xc9d5, 0x7661, 0xd768, 0x0, 0x0);
        gbc.writeMem(0xec04, { 0x90 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xf515, gbc.sp());
        EXPECT(0xec05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xec04));
        // 90 02B0
        gbc.setState(0xb81c, 0x75ea, 0xf530, 0x2dd7, 0xee86, 0xd6e9, 0x0, 0x0);
        gbc.writeMem(0xb81c, { 0x90 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x75ea, gbc.sp());
        EXPECT(0xb81d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb81c));
        // 90 02B1
        gbc.setState(0x229b, 0x1241, 0xa850, 0x2926, 0x21ad, 0x3eb9, 0x1, 0x0);
        gbc.writeMem(0x229b, { 0x90 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x1241, gbc.sp());
        EXPECT(0x229c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02B2
        gbc.setState(0x5e86, 0x6a42, 0x7c0, 0x40f2, 0x1e59, 0x2bd5, 0x1, 0x1);
        gbc.writeMem(0x5e86, { 0x90 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x6a42, gbc.sp());
        EXPECT(0x5e87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02B3
        gbc.setState(0x98a0, 0xbf88, 0xf0f0, 0x7a79, 0xf93a, 0x1f52, 0x1, 0x0);
        gbc.writeMem(0x98a0, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xbf88, gbc.sp());
        EXPECT(0x98a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x98a0));
        // 90 02B4
        gbc.setState(0x844, 0x7a81, 0x6cd0, 0xe4e6, 0x4f73, 0xa9be, 0x1, 0x0);
        gbc.writeMem(0x844, { 0x90 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x7a81, gbc.sp());
        EXPECT(0x845, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02B5
        gbc.setState(0x1129, 0x3706, 0xcda0, 0x44a4, 0x7fab, 0x302a, 0x0, 0x0);
        gbc.writeMem(0x1129, { 0x90 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x3706, gbc.sp());
        EXPECT(0x112a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02B6
        gbc.setState(0x20d9, 0xa24d, 0xe550, 0xedc0, 0x347d, 0xdd08, 0x0, 0x0);
        gbc.writeMem(0x20d9, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xa24d, gbc.sp());
        EXPECT(0x20da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02B7
        gbc.setState(0x8124, 0x4395, 0xe820, 0x8108, 0x7f63, 0xd164, 0x0, 0x1);
        gbc.writeMem(0x8124, { 0x90 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4395, gbc.sp());
        EXPECT(0x8125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8124));
        // 90 02B8
        gbc.setState(0x2ce2, 0xa6e1, 0x9310, 0x4454, 0xaff2, 0xe379, 0x0, 0x1);
        gbc.writeMem(0x2ce2, { 0x90 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa6e1, gbc.sp());
        EXPECT(0x2ce3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02B9
        gbc.setState(0x1d7d, 0x52d, 0x4e20, 0x1b14, 0xf685, 0x4c45, 0x0, 0x0);
        gbc.writeMem(0x1d7d, { 0x90 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x52d, gbc.sp());
        EXPECT(0x1d7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02BA
        gbc.setState(0xb7d1, 0xeca7, 0x79c0, 0x1b2e, 0x7c8c, 0x4253, 0x1, 0x0);
        gbc.writeMem(0xb7d1, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xeca7, gbc.sp());
        EXPECT(0xb7d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb7d1));
        // 90 02BB
        gbc.setState(0x181e, 0x3e39, 0xa370, 0xaf97, 0x8b8e, 0xd1bc, 0x1, 0x0);
        gbc.writeMem(0x181e, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x3e39, gbc.sp());
        EXPECT(0x181f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02BC
        gbc.setState(0x709b, 0xceaa, 0x5e0, 0x2315, 0x5967, 0xb4ec, 0x1, 0x0);
        gbc.writeMem(0x709b, { 0x90 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xceaa, gbc.sp());
        EXPECT(0x709c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02BD
        gbc.setState(0xea90, 0xe73c, 0xbb10, 0x931d, 0x951f, 0x7643, 0x0, 0x0);
        gbc.writeMem(0xea90, { 0x90 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xe73c, gbc.sp());
        EXPECT(0xea91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xea90));
        // 90 02BE
        gbc.setState(0x27ed, 0x7b, 0xe8b0, 0xd292, 0x3b21, 0x77c3, 0x0, 0x0);
        gbc.writeMem(0x27ed, { 0x90 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x7b, gbc.sp());
        EXPECT(0x27ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02BF
        gbc.setState(0x2c3e, 0x1d2e, 0xdee0, 0x8f39, 0x6695, 0xaf4b, 0x0, 0x0);
        gbc.writeMem(0x2c3e, { 0x90 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x1d2e, gbc.sp());
        EXPECT(0x2c3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02C0
        gbc.setState(0x48fb, 0xda95, 0x6c0, 0x5c86, 0xbbd, 0xcb20, 0x1, 0x0);
        gbc.writeMem(0x48fb, { 0x90 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xda95, gbc.sp());
        EXPECT(0x48fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02C1
        gbc.setState(0x9fc5, 0xc2de, 0x3580, 0x3c53, 0xf32c, 0xd61c, 0x0, 0x1);
        gbc.writeMem(0x9fc5, { 0x90 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xc2de, gbc.sp());
        EXPECT(0x9fc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9fc5));
        // 90 02C2
        gbc.setState(0x7cb2, 0x67ad, 0xec80, 0xbecf, 0xb69e, 0x5c98, 0x1, 0x1);
        gbc.writeMem(0x7cb2, { 0x90 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x67ad, gbc.sp());
        EXPECT(0x7cb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02C3
        gbc.setState(0x2afe, 0xb7e, 0x7240, 0x9607, 0x9b0d, 0x4306, 0x1, 0x0);
        gbc.writeMem(0x2afe, { 0x90 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xb7e, gbc.sp());
        EXPECT(0x2aff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02C4
        gbc.setState(0x9f6b, 0x9829, 0xa8b0, 0xf1b2, 0xe8aa, 0x409f, 0x0, 0x0);
        gbc.writeMem(0x9f6b, { 0x90 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x9829, gbc.sp());
        EXPECT(0x9f6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9f6b));
        // 90 02C5
        gbc.setState(0x8900, 0x818f, 0x8060, 0x8dc0, 0x6743, 0x437f, 0x1, 0x0);
        gbc.writeMem(0x8900, { 0x90 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x818f, gbc.sp());
        EXPECT(0x8901, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8900));
        // 90 02C6
        gbc.setState(0x1031, 0xdad9, 0xfa0, 0x6331, 0x55d1, 0x9279, 0x1, 0x0);
        gbc.writeMem(0x1031, { 0x90 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xdad9, gbc.sp());
        EXPECT(0x1032, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02C7
        gbc.setState(0x9c28, 0xd648, 0x79b0, 0xfef6, 0x3527, 0x39f2, 0x1, 0x1);
        gbc.writeMem(0x9c28, { 0x90 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xd648, gbc.sp());
        EXPECT(0x9c29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9c28));
        // 90 02C8
        gbc.setState(0xd65e, 0xc750, 0x4c20, 0xcbbf, 0x95dc, 0x38f9, 0x0, 0x1);
        gbc.writeMem(0xd65e, { 0x90 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xc750, gbc.sp());
        EXPECT(0xd65f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd65e));
        // 90 02C9
        gbc.setState(0xc95f, 0xf2df, 0xf1a0, 0x5cf6, 0xc292, 0x5dfe, 0x1, 0x1);
        gbc.writeMem(0xc95f, { 0x90 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xf2df, gbc.sp());
        EXPECT(0xc960, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc95f));
        // 90 02CA
        gbc.setState(0x3fae, 0xcd03, 0x26c0, 0x1d55, 0x926b, 0x6911, 0x0, 0x0);
        gbc.writeMem(0x3fae, { 0x90 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xcd03, gbc.sp());
        EXPECT(0x3faf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02CB
        gbc.setState(0x38c4, 0x1ca8, 0x9c10, 0xd86e, 0xee87, 0x2d7a, 0x0, 0x0);
        gbc.writeMem(0x38c4, { 0x90 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x1ca8, gbc.sp());
        EXPECT(0x38c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02CC
        gbc.setState(0xb963, 0x1b66, 0xeb60, 0x4ba2, 0x3a5a, 0xaa69, 0x0, 0x0);
        gbc.writeMem(0xb963, { 0x90 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x1b66, gbc.sp());
        EXPECT(0xb964, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb963));
        // 90 02CD
        gbc.setState(0x2443, 0x3119, 0xf360, 0xc2f3, 0x5fc6, 0x2c1a, 0x1, 0x1);
        gbc.writeMem(0x2443, { 0x90 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x3119, gbc.sp());
        EXPECT(0x2444, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02CE
        gbc.setState(0x30ce, 0x2ef9, 0x40e0, 0x2b67, 0x4a4a, 0x83d1, 0x0, 0x0);
        gbc.writeMem(0x30ce, { 0x90 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x2ef9, gbc.sp());
        EXPECT(0x30cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02CF
        gbc.setState(0x1146, 0x4b83, 0xb3d0, 0xb49c, 0xe0d5, 0xd545, 0x1, 0x1);
        gbc.writeMem(0x1146, { 0x90 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x4b83, gbc.sp());
        EXPECT(0x1147, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02D0
        gbc.setState(0x77d6, 0xf1dc, 0x51c0, 0x48e6, 0x2397, 0xae96, 0x0, 0x1);
        gbc.writeMem(0x77d6, { 0x90 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xf1dc, gbc.sp());
        EXPECT(0x77d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02D1
        gbc.setState(0xcd00, 0x9a72, 0x3430, 0x61e1, 0x39f5, 0x3eff, 0x0, 0x0);
        gbc.writeMem(0xcd00, { 0x90 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x9a72, gbc.sp());
        EXPECT(0xcd01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcd00));
        // 90 02D2
        gbc.setState(0xd77c, 0xbb59, 0xbf20, 0x1064, 0x1cb4, 0x7da4, 0x0, 0x0);
        gbc.writeMem(0xd77c, { 0x90 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xbb59, gbc.sp());
        EXPECT(0xd77d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd77c));
        // 90 02D3
        gbc.setState(0x4680, 0xd14b, 0x2990, 0x87d1, 0xfa22, 0x99e1, 0x0, 0x1);
        gbc.writeMem(0x4680, { 0x90 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xd14b, gbc.sp());
        EXPECT(0x4681, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02D4
        gbc.setState(0xcf8e, 0xa3f0, 0xc340, 0x9045, 0xebbd, 0x15f7, 0x0, 0x1);
        gbc.writeMem(0xcf8e, { 0x90 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xa3f0, gbc.sp());
        EXPECT(0xcf8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcf8e));
        // 90 02D5
        gbc.setState(0x183, 0xc7bb, 0x3510, 0x1832, 0x4374, 0x4fa1, 0x1, 0x1);
        gbc.writeMem(0x183, { 0x90 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xc7bb, gbc.sp());
        EXPECT(0x184, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02D6
        gbc.setState(0x27ea, 0x336b, 0xde60, 0xe0ac, 0x5263, 0xca0c, 0x1, 0x0);
        gbc.writeMem(0x27ea, { 0x90 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x336b, gbc.sp());
        EXPECT(0x27eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02D7
        gbc.setState(0xd8f1, 0x2ba2, 0x5d10, 0xd81c, 0xaf4, 0xc1f1, 0x0, 0x1);
        gbc.writeMem(0xd8f1, { 0x90 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x2ba2, gbc.sp());
        EXPECT(0xd8f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd8f1));
        // 90 02D8
        gbc.setState(0xd7e6, 0x8daa, 0xf4c0, 0xd111, 0x9ae1, 0x37c2, 0x0, 0x1);
        gbc.writeMem(0xd7e6, { 0x90 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x8daa, gbc.sp());
        EXPECT(0xd7e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd7e6));
        // 90 02DA
        gbc.setState(0xb767, 0x2e35, 0xa800, 0x3030, 0x7d71, 0x38fc, 0x0, 0x1);
        gbc.writeMem(0xb767, { 0x90 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x2e35, gbc.sp());
        EXPECT(0xb768, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb767));
        // 90 02DB
        gbc.setState(0x2089, 0x4313, 0xdb20, 0x9a6e, 0x7f1c, 0xed93, 0x1, 0x1);
        gbc.writeMem(0x2089, { 0x90 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x4313, gbc.sp());
        EXPECT(0x208a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02DC
        gbc.setState(0x7e4f, 0x2a80, 0x8cc0, 0xabc7, 0xad3b, 0x710f, 0x0, 0x0);
        gbc.writeMem(0x7e4f, { 0x90 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x2a80, gbc.sp());
        EXPECT(0x7e50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02DD
        gbc.setState(0x281f, 0x75fb, 0x2e10, 0xf1b0, 0x310b, 0xaeff, 0x1, 0x1);
        gbc.writeMem(0x281f, { 0x90 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x75fb, gbc.sp());
        EXPECT(0x2820, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02DE
        gbc.setState(0x5143, 0x71c9, 0x2400, 0x6cd0, 0xff1, 0xbc9b, 0x1, 0x1);
        gbc.writeMem(0x5143, { 0x90 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x71c9, gbc.sp());
        EXPECT(0x5144, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02DF
        gbc.setState(0x11f0, 0x19a6, 0x6320, 0x1176, 0x42fc, 0x67b0, 0x1, 0x1);
        gbc.writeMem(0x11f0, { 0x90 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x19a6, gbc.sp());
        EXPECT(0x11f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02E0
        gbc.setState(0x9797, 0x180a, 0x66d0, 0x4129, 0x305b, 0xb300, 0x1, 0x0);
        gbc.writeMem(0x9797, { 0x90 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x180a, gbc.sp());
        EXPECT(0x9798, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9797));
        // 90 02E2
        gbc.setState(0x7abf, 0xcd3e, 0xf520, 0x4cb, 0xa30e, 0x3e1a, 0x1, 0x1);
        gbc.writeMem(0x7abf, { 0x90 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xcd3e, gbc.sp());
        EXPECT(0x7ac0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02E3
        gbc.setState(0x9e1b, 0x116c, 0x6cc0, 0x86d2, 0x244a, 0x830d, 0x1, 0x0);
        gbc.writeMem(0x9e1b, { 0x90 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x116c, gbc.sp());
        EXPECT(0x9e1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9e1b));
        // 90 02E4
        gbc.setState(0x1547, 0x8424, 0xb420, 0xd910, 0x69bb, 0x51c7, 0x1, 0x1);
        gbc.writeMem(0x1547, { 0x90 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x8424, gbc.sp());
        EXPECT(0x1548, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02E5
        gbc.setState(0xe517, 0x981a, 0x2a80, 0x38b2, 0x161c, 0x77a7, 0x1, 0x1);
        gbc.writeMem(0xe517, { 0x90 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x981a, gbc.sp());
        EXPECT(0xe518, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe517));
        // 90 02E6
        gbc.setState(0xba12, 0xb356, 0xbb20, 0xd69e, 0x8331, 0x3082, 0x0, 0x1);
        gbc.writeMem(0xba12, { 0x90 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xb356, gbc.sp());
        EXPECT(0xba13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xba12));
        // 90 02E7
        gbc.setState(0xdba7, 0xd633, 0xaaf0, 0x4f67, 0xdade, 0x2073, 0x0, 0x0);
        gbc.writeMem(0xdba7, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd633, gbc.sp());
        EXPECT(0xdba8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdba7));
        // 90 02E8
        gbc.setState(0x4171, 0xd293, 0x3e00, 0x402b, 0xe6eb, 0xe727, 0x0, 0x0);
        gbc.writeMem(0x4171, { 0x90 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xd293, gbc.sp());
        EXPECT(0x4172, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02E9
        gbc.setState(0xc0c2, 0x5130, 0xf8e0, 0x3269, 0x4cc0, 0x59cc, 0x0, 0x1);
        gbc.writeMem(0xc0c2, { 0x90 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x5130, gbc.sp());
        EXPECT(0xc0c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc0c2));
        // 90 02EA
        gbc.setState(0x9694, 0x2e83, 0xdcf0, 0xc44e, 0xf36e, 0x53b7, 0x0, 0x1);
        gbc.writeMem(0x9694, { 0x90 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x2e83, gbc.sp());
        EXPECT(0x9695, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9694));
        // 90 02EB
        gbc.setState(0x2cc1, 0xe098, 0xef60, 0x306f, 0x469f, 0xe7a1, 0x1, 0x1);
        gbc.writeMem(0x2cc1, { 0x90 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xe098, gbc.sp());
        EXPECT(0x2cc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02EC
        gbc.setState(0x49b8, 0x8a73, 0x7060, 0x8572, 0xa024, 0xb5bb, 0x1, 0x1);
        gbc.writeMem(0x49b8, { 0x90 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x8a73, gbc.sp());
        EXPECT(0x49b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02EE
        gbc.setState(0x9e02, 0xfffc, 0xb5b0, 0x9fa1, 0x10a8, 0xda25, 0x0, 0x0);
        gbc.writeMem(0x9e02, { 0x90 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xfffc, gbc.sp());
        EXPECT(0x9e03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9e02));
        // 90 02EF
        gbc.setState(0x9ec, 0xf496, 0xfeb0, 0xdab4, 0xd70f, 0x873d, 0x1, 0x0);
        gbc.writeMem(0x9ec, { 0x90 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xf496, gbc.sp());
        EXPECT(0x9ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02F1
        gbc.setState(0x5ec6, 0xc75b, 0x6f50, 0x14ca, 0xd940, 0x7c96, 0x0, 0x1);
        gbc.writeMem(0x5ec6, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc75b, gbc.sp());
        EXPECT(0x5ec7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02F2
        gbc.setState(0xe536, 0xacee, 0x7f00, 0x1075, 0xaa44, 0x94d8, 0x1, 0x0);
        gbc.writeMem(0xe536, { 0x90 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xacee, gbc.sp());
        EXPECT(0xe537, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe536));
        // 90 02F3
        gbc.setState(0xa29b, 0x6499, 0xa830, 0x96ef, 0x9de4, 0xbc07, 0x0, 0x1);
        gbc.writeMem(0xa29b, { 0x90 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x6499, gbc.sp());
        EXPECT(0xa29c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa29b));
        // 90 02F4
        gbc.setState(0xaa3c, 0x6728, 0x30b0, 0x6858, 0x9124, 0xef15, 0x0, 0x1);
        gbc.writeMem(0xaa3c, { 0x90 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x6728, gbc.sp());
        EXPECT(0xaa3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaa3c));
        // 90 02F5
        gbc.setState(0xa5b6, 0x76f7, 0x1db0, 0x931e, 0xef3c, 0xd433, 0x1, 0x0);
        gbc.writeMem(0xa5b6, { 0x90 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x76f7, gbc.sp());
        EXPECT(0xa5b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa5b6));
        // 90 02F6
        gbc.setState(0xd122, 0xccc7, 0xd8b0, 0xf6c4, 0x6b43, 0xc9de, 0x0, 0x1);
        gbc.writeMem(0xd122, { 0x90 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xccc7, gbc.sp());
        EXPECT(0xd123, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd122));
        // 90 02F7
        gbc.setState(0x795e, 0x6fbe, 0x4d20, 0xdf19, 0xa2ae, 0x6c4b, 0x0, 0x1);
        gbc.writeMem(0x795e, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x6fbe, gbc.sp());
        EXPECT(0x795f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02F8
        gbc.setState(0x6c71, 0x8eb8, 0x9720, 0x4e9b, 0xdd72, 0xbc4f, 0x1, 0x1);
        gbc.writeMem(0x6c71, { 0x90 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x8eb8, gbc.sp());
        EXPECT(0x6c72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 02F9
        gbc.setState(0x4238, 0x8559, 0x1d90, 0xba6f, 0xd8c1, 0x3d6a, 0x1, 0x0);
        gbc.writeMem(0x4238, { 0x90 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x8559, gbc.sp());
        EXPECT(0x4239, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02FA
        gbc.setState(0xcbef, 0x89bb, 0xee60, 0x8b, 0x64a0, 0xb739, 0x1, 0x0);
        gbc.writeMem(0xcbef, { 0x90 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x89bb, gbc.sp());
        EXPECT(0xcbf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcbef));
        // 90 02FB
        gbc.setState(0xaf52, 0x9eec, 0xee0, 0x975c, 0x35c9, 0xc569, 0x0, 0x1);
        gbc.writeMem(0xaf52, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x9eec, gbc.sp());
        EXPECT(0xaf53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xaf52));
        // 90 02FC
        gbc.setState(0xdfc7, 0x3b8a, 0xbf0, 0xced7, 0x5583, 0x7e6b, 0x0, 0x1);
        gbc.writeMem(0xdfc7, { 0x90 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3b8a, gbc.sp());
        EXPECT(0xdfc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdfc7));
        // 90 02FD
        gbc.setState(0x2b76, 0x8454, 0x1720, 0x3125, 0x9a7c, 0xcbfa, 0x0, 0x1);
        gbc.writeMem(0x2b76, { 0x90 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x8454, gbc.sp());
        EXPECT(0x2b77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 02FE
        gbc.setState(0xbf5f, 0x3e62, 0xb160, 0xe73a, 0x5edc, 0x203, 0x0, 0x0);
        gbc.writeMem(0xbf5f, { 0x90 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x3e62, gbc.sp());
        EXPECT(0xbf60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xbf5f));
        // 90 02FF
        gbc.setState(0x1617, 0x4698, 0x5f0, 0x9623, 0xd3d2, 0xcb0d, 0x0, 0x0);
        gbc.writeMem(0x1617, { 0x90 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x4698, gbc.sp());
        EXPECT(0x1618, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0300
        gbc.setState(0x1bfa, 0xcd33, 0x8500, 0xb10f, 0xed03, 0x90b7, 0x0, 0x0);
        gbc.writeMem(0x1bfa, { 0x90 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xcd33, gbc.sp());
        EXPECT(0x1bfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0301
        gbc.setState(0x4bc3, 0x3892, 0x15c0, 0x5591, 0x2176, 0x26e4, 0x1, 0x1);
        gbc.writeMem(0x4bc3, { 0x90 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x3892, gbc.sp());
        EXPECT(0x4bc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0302
        gbc.setState(0xc9f5, 0xd85e, 0xd0c0, 0x1ca5, 0xde35, 0x74e8, 0x0, 0x0);
        gbc.writeMem(0xc9f5, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xd85e, gbc.sp());
        EXPECT(0xc9f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc9f5));
        // 90 0303
        gbc.setState(0x56b0, 0x68c0, 0xca50, 0x3b3d, 0x1c3a, 0x8774, 0x0, 0x1);
        gbc.writeMem(0x56b0, { 0x90 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x68c0, gbc.sp());
        EXPECT(0x56b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0304
        gbc.setState(0x519e, 0x42b2, 0x2cf0, 0xfe25, 0x5506, 0x5386, 0x1, 0x0);
        gbc.writeMem(0x519e, { 0x90 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x42b2, gbc.sp());
        EXPECT(0x519f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0305
        gbc.setState(0x2ed3, 0x7510, 0xd8a0, 0x724b, 0xb0ff, 0xb9fc, 0x0, 0x0);
        gbc.writeMem(0x2ed3, { 0x90 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7510, gbc.sp());
        EXPECT(0x2ed4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0306
        gbc.setState(0x5c8, 0xebcf, 0x9950, 0xe382, 0xe825, 0x6e2f, 0x1, 0x0);
        gbc.writeMem(0x5c8, { 0x90 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xebcf, gbc.sp());
        EXPECT(0x5c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0307
        gbc.setState(0x7d7e, 0x83d6, 0x9d10, 0x7f8b, 0x4b83, 0xfe51, 0x1, 0x0);
        gbc.writeMem(0x7d7e, { 0x90 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x83d6, gbc.sp());
        EXPECT(0x7d7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0308
        gbc.setState(0xebed, 0x9053, 0x1f60, 0x704c, 0x29ed, 0xc2e4, 0x0, 0x1);
        gbc.writeMem(0xebed, { 0x90 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x9053, gbc.sp());
        EXPECT(0xebee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xebed));
        // 90 0309
        gbc.setState(0x10ca, 0x3d0d, 0x9e00, 0x1e93, 0x674c, 0x7029, 0x0, 0x1);
        gbc.writeMem(0x10ca, { 0x90 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x3d0d, gbc.sp());
        EXPECT(0x10cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 030A
        gbc.setState(0xda9d, 0xd7f8, 0xa750, 0x17ee, 0x4b35, 0xf976, 0x0, 0x1);
        gbc.writeMem(0xda9d, { 0x90 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xd7f8, gbc.sp());
        EXPECT(0xda9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xda9d));
        // 90 030B
        gbc.setState(0x6458, 0x84e1, 0x3310, 0x3f68, 0x65e1, 0xcee4, 0x1, 0x0);
        gbc.writeMem(0x6458, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x84e1, gbc.sp());
        EXPECT(0x6459, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 030C
        gbc.setState(0x6678, 0xb542, 0xd7a0, 0x8a54, 0xd84b, 0xbdff, 0x1, 0x0);
        gbc.writeMem(0x6678, { 0x90 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xb542, gbc.sp());
        EXPECT(0x6679, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 030D
        gbc.setState(0x355f, 0x7863, 0x6b0, 0x6e0f, 0x798b, 0xfd2, 0x1, 0x1);
        gbc.writeMem(0x355f, { 0x90 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x7863, gbc.sp());
        EXPECT(0x3560, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 030F
        gbc.setState(0xa462, 0x819, 0x9640, 0x74b4, 0xc358, 0xc8d2, 0x1, 0x1);
        gbc.writeMem(0xa462, { 0x90 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x819, gbc.sp());
        EXPECT(0xa463, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa462));
        // 90 0310
        gbc.setState(0xca94, 0xa389, 0x5f70, 0xaff9, 0x6688, 0xd414, 0x1, 0x0);
        gbc.writeMem(0xca94, { 0x90 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xa389, gbc.sp());
        EXPECT(0xca95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xca94));
        // 90 0311
        gbc.setState(0x18ea, 0xe4cc, 0x18f0, 0xeda4, 0xc764, 0x1f00, 0x0, 0x0);
        gbc.writeMem(0x18ea, { 0x90 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xe4cc, gbc.sp());
        EXPECT(0x18eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0312
        gbc.setState(0x5a45, 0xbc36, 0x32b0, 0xe380, 0x6300, 0x8af0, 0x0, 0x1);
        gbc.writeMem(0x5a45, { 0x90 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xbc36, gbc.sp());
        EXPECT(0x5a46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0313
        gbc.setState(0xae02, 0x690f, 0xda70, 0xac22, 0xd0b4, 0x3d13, 0x0, 0x0);
        gbc.writeMem(0xae02, { 0x90 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x690f, gbc.sp());
        EXPECT(0xae03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xae02));
        // 90 0314
        gbc.setState(0x1fc0, 0xa599, 0xa10, 0xf8e8, 0xc4db, 0xdcc8, 0x0, 0x1);
        gbc.writeMem(0x1fc0, { 0x90 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xa599, gbc.sp());
        EXPECT(0x1fc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0315
        gbc.setState(0x62d4, 0x1689, 0x8e30, 0x5844, 0x8ef5, 0x6ce2, 0x1, 0x0);
        gbc.writeMem(0x62d4, { 0x90 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x1689, gbc.sp());
        EXPECT(0x62d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0316
        gbc.setState(0x200f, 0xfa0a, 0x48d0, 0xd9ed, 0xb27b, 0xb0b0, 0x1, 0x0);
        gbc.writeMem(0x200f, { 0x90 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xfa0a, gbc.sp());
        EXPECT(0x2010, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0317
        gbc.setState(0x2ad8, 0x1f64, 0x1ab0, 0xf512, 0xdf08, 0xb423, 0x0, 0x1);
        gbc.writeMem(0x2ad8, { 0x90 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x1f64, gbc.sp());
        EXPECT(0x2ad9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0318
        gbc.setState(0x3077, 0x3090, 0x55a0, 0x226d, 0x4aea, 0xce00, 0x1, 0x0);
        gbc.writeMem(0x3077, { 0x90 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x3090, gbc.sp());
        EXPECT(0x3078, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0319
        gbc.setState(0xf2a, 0xb1b, 0x4f00, 0x84c9, 0x388f, 0x463e, 0x1, 0x0);
        gbc.writeMem(0xf2a, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xb1b, gbc.sp());
        EXPECT(0xf2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 031B
        gbc.setState(0xab6, 0x74ca, 0xa8c0, 0x7710, 0x5ad2, 0x6fa6, 0x1, 0x0);
        gbc.writeMem(0xab6, { 0x90 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x74ca, gbc.sp());
        EXPECT(0xab7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 031C
        gbc.setState(0x4f5a, 0xf156, 0x9920, 0xfd27, 0x7dab, 0x588d, 0x0, 0x1);
        gbc.writeMem(0x4f5a, { 0x90 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf156, gbc.sp());
        EXPECT(0x4f5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 031D
        gbc.setState(0x3d40, 0x91cf, 0xa4f0, 0x9ff6, 0x180b, 0x8ef1, 0x0, 0x0);
        gbc.writeMem(0x3d40, { 0x90 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x91cf, gbc.sp());
        EXPECT(0x3d41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 031E
        gbc.setState(0xd747, 0x50a0, 0xe750, 0x99e, 0x4f92, 0xfd6e, 0x0, 0x1);
        gbc.writeMem(0xd747, { 0x90 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x50a0, gbc.sp());
        EXPECT(0xd748, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd747));
        // 90 031F
        gbc.setState(0xdd87, 0x370a, 0x2d50, 0x52ee, 0x63a5, 0x3258, 0x1, 0x1);
        gbc.writeMem(0xdd87, { 0x90 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x370a, gbc.sp());
        EXPECT(0xdd88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdd87));
        // 90 0320
        gbc.setState(0x47a4, 0xf1c1, 0x15b0, 0x63a5, 0xc24e, 0xc52a, 0x1, 0x1);
        gbc.writeMem(0x47a4, { 0x90 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xf1c1, gbc.sp());
        EXPECT(0x47a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0321
        gbc.setState(0xa6c7, 0x205b, 0xbd50, 0x989, 0xd21a, 0x4401, 0x1, 0x0);
        gbc.writeMem(0xa6c7, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x205b, gbc.sp());
        EXPECT(0xa6c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa6c7));
        // 90 0322
        gbc.setState(0x2684, 0x145b, 0xc810, 0x2f25, 0xdf68, 0x51f6, 0x1, 0x0);
        gbc.writeMem(0x2684, { 0x90 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x145b, gbc.sp());
        EXPECT(0x2685, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0323
        gbc.setState(0x4d0a, 0x91a0, 0x9a70, 0x9d1d, 0xc467, 0x1272, 0x0, 0x1);
        gbc.writeMem(0x4d0a, { 0x90 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x91a0, gbc.sp());
        EXPECT(0x4d0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0324
        gbc.setState(0x841c, 0x2cf0, 0x90d0, 0xb69a, 0xb207, 0x5f7d, 0x1, 0x0);
        gbc.writeMem(0x841c, { 0x90 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2cf0, gbc.sp());
        EXPECT(0x841d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x841c));
        // 90 0325
        gbc.setState(0x3b4a, 0x3c06, 0x2420, 0xd86, 0xc8dd, 0x84bf, 0x1, 0x1);
        gbc.writeMem(0x3b4a, { 0x90 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x3c06, gbc.sp());
        EXPECT(0x3b4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0326
        gbc.setState(0x5bce, 0xf8ef, 0xfa80, 0xa913, 0x76a6, 0xc30a, 0x1, 0x1);
        gbc.writeMem(0x5bce, { 0x90 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xf8ef, gbc.sp());
        EXPECT(0x5bcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0327
        gbc.setState(0x5bc9, 0x20dc, 0x5420, 0xb5a3, 0x22b2, 0xba71, 0x0, 0x1);
        gbc.writeMem(0x5bc9, { 0x90 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x20dc, gbc.sp());
        EXPECT(0x5bca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0328
        gbc.setState(0xa2c8, 0x7dc2, 0xdbb0, 0xe4e0, 0x3907, 0x47b6, 0x0, 0x0);
        gbc.writeMem(0xa2c8, { 0x90 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7dc2, gbc.sp());
        EXPECT(0xa2c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa2c8));
        // 90 0329
        gbc.setState(0x9790, 0xfb7a, 0x78c0, 0x6366, 0x8c04, 0x96a6, 0x1, 0x1);
        gbc.writeMem(0x9790, { 0x90 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xfb7a, gbc.sp());
        EXPECT(0x9791, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9790));
        // 90 032A
        gbc.setState(0xdeed, 0x4484, 0xb4b0, 0x5c50, 0x577a, 0x383, 0x0, 0x0);
        gbc.writeMem(0xdeed, { 0x90 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x4484, gbc.sp());
        EXPECT(0xdeee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdeed));
        // 90 032B
        gbc.setState(0x9f29, 0x1873, 0xfc80, 0xfc2b, 0x4c8a, 0xa836, 0x1, 0x1);
        gbc.writeMem(0x9f29, { 0x90 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x1873, gbc.sp());
        EXPECT(0x9f2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9f29));
        // 90 032D
        gbc.setState(0x6d87, 0xebc7, 0xead0, 0xb59, 0x6f03, 0x4caf, 0x0, 0x0);
        gbc.writeMem(0x6d87, { 0x90 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xebc7, gbc.sp());
        EXPECT(0x6d88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 032E
        gbc.setState(0x47c8, 0xd576, 0x3ec0, 0xc9e1, 0x32c3, 0xe1f5, 0x0, 0x1);
        gbc.writeMem(0x47c8, { 0x90 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xd576, gbc.sp());
        EXPECT(0x47c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 032F
        gbc.setState(0xb2ad, 0x5cba, 0x3b10, 0xcb1, 0x5448, 0xfd25, 0x1, 0x0);
        gbc.writeMem(0xb2ad, { 0x90 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x5cba, gbc.sp());
        EXPECT(0xb2ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb2ad));
        // 90 0330
        gbc.setState(0x93f8, 0xf81b, 0xec30, 0x8ebf, 0x8fde, 0x9990, 0x1, 0x0);
        gbc.writeMem(0x93f8, { 0x90 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xf81b, gbc.sp());
        EXPECT(0x93f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x93f8));
        // 90 0331
        gbc.setState(0x9793, 0x2968, 0x60d0, 0x2337, 0xe918, 0xc3b9, 0x1, 0x0);
        gbc.writeMem(0x9793, { 0x90 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x2968, gbc.sp());
        EXPECT(0x9794, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9793));
        // 90 0332
        gbc.setState(0x9ec5, 0xad05, 0xb2a0, 0xc095, 0x8b6d, 0xd690, 0x0, 0x0);
        gbc.writeMem(0x9ec5, { 0x90 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xad05, gbc.sp());
        EXPECT(0x9ec6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9ec5));
        // 90 0333
        gbc.setState(0x3e2d, 0x9ab3, 0x5eb0, 0xaaf4, 0xeac3, 0xe9d0, 0x1, 0x0);
        gbc.writeMem(0x3e2d, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x9ab3, gbc.sp());
        EXPECT(0x3e2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0334
        gbc.setState(0xec29, 0x19b9, 0x1720, 0x2e46, 0xeb6f, 0xa247, 0x0, 0x0);
        gbc.writeMem(0xec29, { 0x90 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x19b9, gbc.sp());
        EXPECT(0xec2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xec29));
        // 90 0335
        gbc.setState(0xa69c, 0xd59d, 0x8b80, 0x9de1, 0x5bbb, 0xe5b3, 0x0, 0x1);
        gbc.writeMem(0xa69c, { 0x90 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xd59d, gbc.sp());
        EXPECT(0xa69d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa69c));
        // 90 0337
        gbc.setState(0x308a, 0xd1d3, 0xd8f0, 0x9490, 0x6832, 0xf291, 0x0, 0x0);
        gbc.writeMem(0x308a, { 0x90 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xd1d3, gbc.sp());
        EXPECT(0x308b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0338
        gbc.setState(0xa255, 0x67ff, 0x39c0, 0x776, 0x7cc6, 0x2873, 0x1, 0x0);
        gbc.writeMem(0xa255, { 0x90 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x67ff, gbc.sp());
        EXPECT(0xa256, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa255));
        // 90 0339
        gbc.setState(0xe6, 0x3799, 0xb840, 0x51f4, 0xd79e, 0x6987, 0x1, 0x0);
        gbc.writeMem(0xe6, { 0x90 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x3799, gbc.sp());
        EXPECT(0xe7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 033A
        gbc.setState(0x8f31, 0xc19d, 0xc480, 0xad20, 0x507c, 0xfe02, 0x0, 0x1);
        gbc.writeMem(0x8f31, { 0x90 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xc19d, gbc.sp());
        EXPECT(0x8f32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8f31));
        // 90 033B
        gbc.setState(0xc468, 0xea82, 0x4920, 0x80bc, 0x7e21, 0xea5b, 0x0, 0x0);
        gbc.writeMem(0xc468, { 0x90 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xea82, gbc.sp());
        EXPECT(0xc469, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc468));
        // 90 033D
        gbc.setState(0x8015, 0x2077, 0xca40, 0xaf49, 0xf550, 0x1278, 0x1, 0x1);
        gbc.writeMem(0x8015, { 0x90 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x2077, gbc.sp());
        EXPECT(0x8016, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8015));
        // 90 033E
        gbc.setState(0x7917, 0x7c3, 0x5200, 0x9ed2, 0xf76d, 0xdbe6, 0x1, 0x0);
        gbc.writeMem(0x7917, { 0x90 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x7c3, gbc.sp());
        EXPECT(0x7918, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 033F
        gbc.setState(0xb9d, 0xad16, 0x450, 0xacc1, 0xde53, 0x4be0, 0x0, 0x0);
        gbc.writeMem(0xb9d, { 0x90 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xad16, gbc.sp());
        EXPECT(0xb9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0340
        gbc.setState(0x1021, 0x5dc4, 0x3300, 0x6117, 0xe476, 0xb57f, 0x1, 0x1);
        gbc.writeMem(0x1021, { 0x90 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5dc4, gbc.sp());
        EXPECT(0x1022, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0341
        gbc.setState(0xa1c5, 0x8d5b, 0x4890, 0x5b61, 0xde39, 0x1ae4, 0x1, 0x0);
        gbc.writeMem(0xa1c5, { 0x90 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x8d5b, gbc.sp());
        EXPECT(0xa1c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa1c5));
        // 90 0342
        gbc.setState(0x20f6, 0x62b6, 0x2cc0, 0x2d1d, 0xf7b9, 0x9fec, 0x0, 0x1);
        gbc.writeMem(0x20f6, { 0x90 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x62b6, gbc.sp());
        EXPECT(0x20f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0343
        gbc.setState(0x1728, 0xd7c5, 0x4b40, 0xf0ff, 0xff6f, 0x433b, 0x1, 0x1);
        gbc.writeMem(0x1728, { 0x90 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xd7c5, gbc.sp());
        EXPECT(0x1729, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0344
        gbc.setState(0xe906, 0x6f11, 0xb3a0, 0xdbae, 0xa2aa, 0xb0b4, 0x1, 0x1);
        gbc.writeMem(0xe906, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x6f11, gbc.sp());
        EXPECT(0xe907, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe906));
        // 90 0345
        gbc.setState(0x796, 0xde0, 0x30f0, 0x9df6, 0x55c6, 0x4411, 0x1, 0x1);
        gbc.writeMem(0x796, { 0x90 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xde0, gbc.sp());
        EXPECT(0x797, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0346
        gbc.setState(0xe72a, 0x5b23, 0xe4a0, 0xeb7a, 0x3bc0, 0x221a, 0x1, 0x1);
        gbc.writeMem(0xe72a, { 0x90 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x5b23, gbc.sp());
        EXPECT(0xe72b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe72a));
        // 90 0347
        gbc.setState(0xd407, 0x382f, 0xd820, 0xde3c, 0xa610, 0x8721, 0x0, 0x1);
        gbc.writeMem(0xd407, { 0x90 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x382f, gbc.sp());
        EXPECT(0xd408, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd407));
        // 90 0348
        gbc.setState(0xe9af, 0xa0b5, 0x4920, 0xd376, 0x1d1, 0xa99f, 0x0, 0x0);
        gbc.writeMem(0xe9af, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xa0b5, gbc.sp());
        EXPECT(0xe9b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe9af));
        // 90 0349
        gbc.setState(0x7304, 0xb708, 0x5d90, 0x3019, 0xb453, 0x33f6, 0x1, 0x0);
        gbc.writeMem(0x7304, { 0x90 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xb708, gbc.sp());
        EXPECT(0x7305, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 034A
        gbc.setState(0x346b, 0xaf49, 0x3620, 0xed03, 0xcf4c, 0xf86f, 0x0, 0x0);
        gbc.writeMem(0x346b, { 0x90 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xaf49, gbc.sp());
        EXPECT(0x346c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 034B
        gbc.setState(0x1114, 0x24de, 0x56f0, 0x4e05, 0x4e35, 0x7797, 0x0, 0x1);
        gbc.writeMem(0x1114, { 0x90 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x24de, gbc.sp());
        EXPECT(0x1115, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 034C
        gbc.setState(0x2662, 0x8e50, 0xcdf0, 0xc6f2, 0xfdca, 0xdc27, 0x0, 0x1);
        gbc.writeMem(0x2662, { 0x90 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x8e50, gbc.sp());
        EXPECT(0x2663, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 034D
        gbc.setState(0x5a0b, 0x2e47, 0xe30, 0x40b9, 0xd069, 0x1f50, 0x1, 0x0);
        gbc.writeMem(0x5a0b, { 0x90 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x2e47, gbc.sp());
        EXPECT(0x5a0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 034E
        gbc.setState(0x7b67, 0x5c61, 0xf420, 0xf4d5, 0xbe8, 0xe5f7, 0x0, 0x1);
        gbc.writeMem(0x7b67, { 0x90 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x5c61, gbc.sp());
        EXPECT(0x7b68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 034F
        gbc.setState(0x3fe3, 0x4b78, 0xdeb0, 0x27e0, 0xae48, 0xd30d, 0x0, 0x0);
        gbc.writeMem(0x3fe3, { 0x90 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x4b78, gbc.sp());
        EXPECT(0x3fe4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0350
        gbc.setState(0x33e7, 0xab6a, 0xd9f0, 0xe1d9, 0x3234, 0x6e7b, 0x1, 0x0);
        gbc.writeMem(0x33e7, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xab6a, gbc.sp());
        EXPECT(0x33e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0351
        gbc.setState(0x318b, 0x8718, 0xdf70, 0xeb3b, 0x7a37, 0xba53, 0x0, 0x1);
        gbc.writeMem(0x318b, { 0x90 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x8718, gbc.sp());
        EXPECT(0x318c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0352
        gbc.setState(0x37a3, 0xfde2, 0x2e70, 0xcb4, 0xdefa, 0x1808, 0x0, 0x0);
        gbc.writeMem(0x37a3, { 0x90 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xfde2, gbc.sp());
        EXPECT(0x37a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0353
        gbc.setState(0x2dc3, 0x9fb1, 0x58b0, 0x51b1, 0x242a, 0xcf4d, 0x0, 0x1);
        gbc.writeMem(0x2dc3, { 0x90 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x9fb1, gbc.sp());
        EXPECT(0x2dc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0354
        gbc.setState(0x4bcb, 0xb4bb, 0xb010, 0x322b, 0xd41c, 0xc743, 0x1, 0x0);
        gbc.writeMem(0x4bcb, { 0x90 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xb4bb, gbc.sp());
        EXPECT(0x4bcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0355
        gbc.setState(0xc530, 0xd2f0, 0xe870, 0xb387, 0x8915, 0x8558, 0x0, 0x1);
        gbc.writeMem(0xc530, { 0x90 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xd2f0, gbc.sp());
        EXPECT(0xc531, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc530));
        // 90 0356
        gbc.setState(0xb463, 0x15b9, 0x6df0, 0x87a8, 0xbc75, 0x408d, 0x0, 0x1);
        gbc.writeMem(0xb463, { 0x90 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x15b9, gbc.sp());
        EXPECT(0xb464, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb463));
        // 90 0357
        gbc.setState(0x38f6, 0x7868, 0x55c0, 0xc296, 0xaf7c, 0x54b3, 0x0, 0x1);
        gbc.writeMem(0x38f6, { 0x90 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x7868, gbc.sp());
        EXPECT(0x38f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0358
        gbc.setState(0x7a4c, 0x2ae, 0x6b80, 0x8e87, 0x500d, 0xd3ca, 0x1, 0x1);
        gbc.writeMem(0x7a4c, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x2ae, gbc.sp());
        EXPECT(0x7a4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0359
        gbc.setState(0x7b78, 0xa41d, 0xf970, 0xc7cd, 0x9c1c, 0x7be9, 0x0, 0x0);
        gbc.writeMem(0x7b78, { 0x90 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xa41d, gbc.sp());
        EXPECT(0x7b79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 035A
        gbc.setState(0x2935, 0xf0af, 0x24f0, 0x9e05, 0x930f, 0x8395, 0x1, 0x1);
        gbc.writeMem(0x2935, { 0x90 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xf0af, gbc.sp());
        EXPECT(0x2936, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 035B
        gbc.setState(0x99a3, 0x8b48, 0xfaf0, 0x7ad8, 0x3912, 0x2cd6, 0x0, 0x1);
        gbc.writeMem(0x99a3, { 0x90 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x8b48, gbc.sp());
        EXPECT(0x99a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x99a3));
        // 90 035C
        gbc.setState(0x5d30, 0x6eb4, 0xb690, 0x43d6, 0x5940, 0xfc16, 0x0, 0x0);
        gbc.writeMem(0x5d30, { 0x90 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x6eb4, gbc.sp());
        EXPECT(0x5d31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 035D
        gbc.setState(0xb2f7, 0xa65e, 0x620, 0x8fbc, 0x9ef9, 0x703c, 0x0, 0x1);
        gbc.writeMem(0xb2f7, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xa65e, gbc.sp());
        EXPECT(0xb2f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb2f7));
        // 90 035E
        gbc.setState(0xb5f3, 0xb47a, 0x3fe0, 0x72c0, 0x781d, 0x558b, 0x1, 0x0);
        gbc.writeMem(0xb5f3, { 0x90 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xb47a, gbc.sp());
        EXPECT(0xb5f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb5f3));
        // 90 035F
        gbc.setState(0xc3fb, 0xf981, 0x69d0, 0xe454, 0x801b, 0xbe9b, 0x0, 0x0);
        gbc.writeMem(0xc3fb, { 0x90 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xf981, gbc.sp());
        EXPECT(0xc3fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc3fb));
        // 90 0360
        gbc.setState(0x9be8, 0x121d, 0xc790, 0xfb9b, 0x6ec2, 0x6f82, 0x1, 0x0);
        gbc.writeMem(0x9be8, { 0x90 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x121d, gbc.sp());
        EXPECT(0x9be9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9be8));
        // 90 0361
        gbc.setState(0xa840, 0x411b, 0xd9b0, 0x1403, 0x212f, 0xc691, 0x1, 0x0);
        gbc.writeMem(0xa840, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x411b, gbc.sp());
        EXPECT(0xa841, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa840));
        // 90 0362
        gbc.setState(0x394e, 0xd5e4, 0xb6f0, 0x24e5, 0x44e3, 0x49b2, 0x0, 0x1);
        gbc.writeMem(0x394e, { 0x90 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xd5e4, gbc.sp());
        EXPECT(0x394f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0363
        gbc.setState(0x433c, 0x1182, 0x5660, 0xe3b1, 0xf9e5, 0x92db, 0x0, 0x1);
        gbc.writeMem(0x433c, { 0x90 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x1182, gbc.sp());
        EXPECT(0x433d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0364
        gbc.setState(0x76b9, 0xad85, 0xbf90, 0x5144, 0x2ae8, 0x3aa0, 0x0, 0x0);
        gbc.writeMem(0x76b9, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xad85, gbc.sp());
        EXPECT(0x76ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0365
        gbc.setState(0x9c1a, 0x634b, 0x9a0, 0xee9b, 0xe132, 0xa9ef, 0x0, 0x1);
        gbc.writeMem(0x9c1a, { 0x90 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x634b, gbc.sp());
        EXPECT(0x9c1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9c1a));
        // 90 0366
        gbc.setState(0x7d66, 0xfda1, 0xcd0, 0x4762, 0x444f, 0xb4a9, 0x0, 0x0);
        gbc.writeMem(0x7d66, { 0x90 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xfda1, gbc.sp());
        EXPECT(0x7d67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0367
        gbc.setState(0xb3fb, 0x2b6e, 0x75b0, 0x417e, 0xceb1, 0xc840, 0x1, 0x1);
        gbc.writeMem(0xb3fb, { 0x90 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x2b6e, gbc.sp());
        EXPECT(0xb3fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb3fb));
        // 90 0368
        gbc.setState(0x3370, 0x1de8, 0x7510, 0xf811, 0xb9a7, 0x46b2, 0x0, 0x0);
        gbc.writeMem(0x3370, { 0x90 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x1de8, gbc.sp());
        EXPECT(0x3371, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0369
        gbc.setState(0xd422, 0x51bd, 0x7ab0, 0xf928, 0xd148, 0x9b51, 0x1, 0x1);
        gbc.writeMem(0xd422, { 0x90 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x51bd, gbc.sp());
        EXPECT(0xd423, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd422));
        // 90 036A
        gbc.setState(0xa489, 0xc1fa, 0xace0, 0xdd75, 0xa374, 0x7e2a, 0x1, 0x1);
        gbc.writeMem(0xa489, { 0x90 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xc1fa, gbc.sp());
        EXPECT(0xa48a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa489));
        // 90 036B
        gbc.setState(0x963f, 0xca2f, 0x12a0, 0xf273, 0xc90e, 0x3325, 0x0, 0x1);
        gbc.writeMem(0x963f, { 0x90 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xca2f, gbc.sp());
        EXPECT(0x9640, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x963f));
        // 90 036C
        gbc.setState(0x5a24, 0x7173, 0xbea0, 0xb9a8, 0xa20b, 0x95ea, 0x1, 0x0);
        gbc.writeMem(0x5a24, { 0x90 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x7173, gbc.sp());
        EXPECT(0x5a25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 036D
        gbc.setState(0x5939, 0x6544, 0x3b00, 0x944f, 0xa2ac, 0x1e2c, 0x1, 0x1);
        gbc.writeMem(0x5939, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x6544, gbc.sp());
        EXPECT(0x593a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 036E
        gbc.setState(0x1fec, 0x7d0a, 0xe3a0, 0x75e0, 0xf4ec, 0x1d16, 0x0, 0x1);
        gbc.writeMem(0x1fec, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x7d0a, gbc.sp());
        EXPECT(0x1fed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 036F
        gbc.setState(0x2d57, 0xb68f, 0x2aa0, 0x8a92, 0x28b9, 0xe267, 0x0, 0x0);
        gbc.writeMem(0x2d57, { 0x90 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xb68f, gbc.sp());
        EXPECT(0x2d58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0370
        gbc.setState(0xb211, 0x453b, 0xd190, 0xd9ad, 0xaeb0, 0x61a4, 0x0, 0x0);
        gbc.writeMem(0xb211, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x453b, gbc.sp());
        EXPECT(0xb212, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb211));
        // 90 0371
        gbc.setState(0x5e92, 0xd73c, 0xca40, 0x5168, 0x2e82, 0x9660, 0x0, 0x0);
        gbc.writeMem(0x5e92, { 0x90 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xd73c, gbc.sp());
        EXPECT(0x5e93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0372
        gbc.setState(0x132f, 0x4fc7, 0x1c20, 0xf381, 0xc73, 0x91bf, 0x0, 0x0);
        gbc.writeMem(0x132f, { 0x90 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x4fc7, gbc.sp());
        EXPECT(0x1330, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0374
        gbc.setState(0xefc1, 0x9997, 0x2510, 0xd0a8, 0xc7d0, 0x1efe, 0x1, 0x1);
        gbc.writeMem(0xefc1, { 0x90 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9997, gbc.sp());
        EXPECT(0xefc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xefc1));
        // 90 0375
        gbc.setState(0x82c2, 0xc88d, 0x21b0, 0x2602, 0x4a9f, 0xb8ae, 0x0, 0x1);
        gbc.writeMem(0x82c2, { 0x90 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xc88d, gbc.sp());
        EXPECT(0x82c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x82c2));
        // 90 0376
        gbc.setState(0xb673, 0xb54c, 0xbb40, 0xb124, 0x4007, 0x85bb, 0x0, 0x1);
        gbc.writeMem(0xb673, { 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xb54c, gbc.sp());
        EXPECT(0xb674, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb673));
        // 90 0377
        gbc.setState(0xa668, 0xe0, 0xed10, 0xefba, 0x9a5, 0x637d, 0x0, 0x0);
        gbc.writeMem(0xa668, { 0x90 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xe0, gbc.sp());
        EXPECT(0xa669, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa668));
        // 90 0378
        gbc.setState(0x2e3e, 0x680, 0x7d80, 0xb608, 0x6ba, 0x11b8, 0x1, 0x0);
        gbc.writeMem(0x2e3e, { 0x90 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x680, gbc.sp());
        EXPECT(0x2e3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0379
        gbc.setState(0x5c2c, 0x3cb5, 0xd650, 0x30e3, 0x8f66, 0x5ce4, 0x0, 0x1);
        gbc.writeMem(0x5c2c, { 0x90 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x3cb5, gbc.sp());
        EXPECT(0x5c2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 037A
        gbc.setState(0x61db, 0x1b3d, 0xeb30, 0xafd5, 0x69f3, 0xf9b4, 0x1, 0x1);
        gbc.writeMem(0x61db, { 0x90 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x1b3d, gbc.sp());
        EXPECT(0x61dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 037D
        gbc.setState(0x8dc5, 0x5a48, 0x350, 0xd0c2, 0x7903, 0x3c97, 0x1, 0x1);
        gbc.writeMem(0x8dc5, { 0x90 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x5a48, gbc.sp());
        EXPECT(0x8dc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8dc5));
        // 90 037E
        gbc.setState(0x8185, 0x2ace, 0x6650, 0x18ba, 0xb749, 0xf926, 0x1, 0x0);
        gbc.writeMem(0x8185, { 0x90 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x2ace, gbc.sp());
        EXPECT(0x8186, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8185));
        // 90 037F
        gbc.setState(0x6742, 0x2d9c, 0x6b80, 0x8e31, 0x8c6d, 0x3041, 0x1, 0x1);
        gbc.writeMem(0x6742, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x2d9c, gbc.sp());
        EXPECT(0x6743, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0380
        gbc.setState(0xb24f, 0xaea7, 0xa320, 0x4c30, 0x981e, 0x1b12, 0x0, 0x1);
        gbc.writeMem(0xb24f, { 0x90 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xaea7, gbc.sp());
        EXPECT(0xb250, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb24f));
        // 90 0381
        gbc.setState(0xc43b, 0x44dc, 0xedd0, 0x4267, 0x82f6, 0x4b68, 0x1, 0x0);
        gbc.writeMem(0xc43b, { 0x90 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x44dc, gbc.sp());
        EXPECT(0xc43c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc43b));
        // 90 0382
        gbc.setState(0xdd43, 0x6fef, 0x8ba0, 0x85db, 0xc356, 0xef7e, 0x1, 0x1);
        gbc.writeMem(0xdd43, { 0x90 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x6fef, gbc.sp());
        EXPECT(0xdd44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdd43));
        // 90 0384
        gbc.setState(0x7db0, 0x6eef, 0x2ae0, 0xe95d, 0x7a90, 0xd0ad, 0x1, 0x0);
        gbc.writeMem(0x7db0, { 0x90 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x6eef, gbc.sp());
        EXPECT(0x7db1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0385
        gbc.setState(0x2de4, 0x619d, 0x5e90, 0x417, 0x99ab, 0x3160, 0x1, 0x1);
        gbc.writeMem(0x2de4, { 0x90 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x619d, gbc.sp());
        EXPECT(0x2de5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0387
        gbc.setState(0x826d, 0xb451, 0xf5f0, 0x476a, 0xab63, 0x31, 0x0, 0x0);
        gbc.writeMem(0x826d, { 0x90 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xb451, gbc.sp());
        EXPECT(0x826e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x826d));
        // 90 0388
        gbc.setState(0x1b18, 0xa686, 0x4780, 0x871d, 0x3578, 0x5a98, 0x0, 0x1);
        gbc.writeMem(0x1b18, { 0x90 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xa686, gbc.sp());
        EXPECT(0x1b19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0389
        gbc.setState(0x4438, 0xa7e9, 0xb450, 0xdd11, 0xaa28, 0xdb46, 0x1, 0x0);
        gbc.writeMem(0x4438, { 0x90 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa7e9, gbc.sp());
        EXPECT(0x4439, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 038A
        gbc.setState(0x6dd6, 0x36e0, 0x3d30, 0xb8a5, 0xa729, 0x5e7d, 0x1, 0x1);
        gbc.writeMem(0x6dd6, { 0x90 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x36e0, gbc.sp());
        EXPECT(0x6dd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 038B
        gbc.setState(0xd530, 0x2ef7, 0x8e10, 0xb8f4, 0xcaa1, 0x3e43, 0x0, 0x0);
        gbc.writeMem(0xd530, { 0x90 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x2ef7, gbc.sp());
        EXPECT(0xd531, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd530));
        // 90 038C
        gbc.setState(0xc0e8, 0x866d, 0xce30, 0x535f, 0xfd23, 0xfca4, 0x1, 0x0);
        gbc.writeMem(0xc0e8, { 0x90 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x866d, gbc.sp());
        EXPECT(0xc0e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc0e8));
        // 90 038D
        gbc.setState(0x81ea, 0x9a22, 0xdf80, 0x7c87, 0xe3d0, 0xdc49, 0x0, 0x1);
        gbc.writeMem(0x81ea, { 0x90 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x9a22, gbc.sp());
        EXPECT(0x81eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x81ea));
        // 90 038E
        gbc.setState(0x226d, 0x992, 0x5470, 0x7241, 0x335, 0x5093, 0x0, 0x1);
        gbc.writeMem(0x226d, { 0x90 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x992, gbc.sp());
        EXPECT(0x226e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 038F
        gbc.setState(0xcf36, 0x3e49, 0xf750, 0x8487, 0x3b4d, 0x5126, 0x0, 0x1);
        gbc.writeMem(0xcf36, { 0x90 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x3e49, gbc.sp());
        EXPECT(0xcf37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcf36));
        // 90 0390
        gbc.setState(0xe4ce, 0xe86, 0x3f10, 0x3fc2, 0x305e, 0xd294, 0x0, 0x0);
        gbc.writeMem(0xe4ce, { 0x90 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xe86, gbc.sp());
        EXPECT(0xe4cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe4ce));
        // 90 0391
        gbc.setState(0xdca0, 0xde47, 0xc6b0, 0x8ade, 0x2927, 0x9ec1, 0x1, 0x1);
        gbc.writeMem(0xdca0, { 0x90 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xde47, gbc.sp());
        EXPECT(0xdca1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdca0));
        // 90 0392
        gbc.setState(0x2803, 0x1847, 0x22d0, 0xabf8, 0x2708, 0x65a6, 0x0, 0x0);
        gbc.writeMem(0x2803, { 0x90 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x1847, gbc.sp());
        EXPECT(0x2804, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 0393
        gbc.setState(0xe3fc, 0x690f, 0x8b90, 0xb290, 0xd546, 0x7b29, 0x1, 0x1);
        gbc.writeMem(0xe3fc, { 0x90 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x690f, gbc.sp());
        EXPECT(0xe3fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe3fc));
        // 90 0394
        gbc.setState(0x8c2f, 0x897, 0xcd10, 0x9d41, 0x3ee5, 0x2d61, 0x1, 0x1);
        gbc.writeMem(0x8c2f, { 0x90 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x897, gbc.sp());
        EXPECT(0x8c30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x8c2f));
        // 90 0395
        gbc.setState(0xa4dd, 0x98e, 0xd1a0, 0xe00e, 0xbf03, 0xcf81, 0x1, 0x0);
        gbc.writeMem(0xa4dd, { 0x90 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x98e, gbc.sp());
        EXPECT(0xa4de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa4dd));
        // 90 0396
        gbc.setState(0x9560, 0x12d1, 0xcd90, 0x3416, 0x1b99, 0xa14e, 0x1, 0x0);
        gbc.writeMem(0x9560, { 0x90 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x12d1, gbc.sp());
        EXPECT(0x9561, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9560));
        // 90 0397
        gbc.setState(0x226d, 0xf9b6, 0xf7f0, 0x5e72, 0x4272, 0x9b3b, 0x0, 0x0);
        gbc.writeMem(0x226d, { 0x90 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xf9b6, gbc.sp());
        EXPECT(0x226e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0398
        gbc.setState(0x2f85, 0x6af8, 0xfa10, 0xd7b, 0xa355, 0xbec7, 0x0, 0x1);
        gbc.writeMem(0x2f85, { 0x90 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x6af8, gbc.sp());
        EXPECT(0x2f86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 0399
        gbc.setState(0xae0e, 0xc14, 0xff50, 0x35b, 0xfea1, 0x7789, 0x1, 0x0);
        gbc.writeMem(0xae0e, { 0x90 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xc14, gbc.sp());
        EXPECT(0xae0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xae0e));
        // 90 039A
        gbc.setState(0x28fb, 0x7144, 0x40b0, 0xb2ad, 0x2bfb, 0x973b, 0x1, 0x0);
        gbc.writeMem(0x28fb, { 0x90 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x7144, gbc.sp());
        EXPECT(0x28fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 039B
        gbc.setState(0x9d7d, 0x2327, 0xa260, 0x89b7, 0xc909, 0x16d5, 0x1, 0x1);
        gbc.writeMem(0x9d7d, { 0x90 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x2327, gbc.sp());
        EXPECT(0x9d7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9d7d));
        // 90 039C
        gbc.setState(0x1259, 0x69cc, 0x8a90, 0x1dc, 0x1f8c, 0xdf6c, 0x0, 0x0);
        gbc.writeMem(0x1259, { 0x90 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x69cc, gbc.sp());
        EXPECT(0x125a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 039D
        gbc.setState(0xc51, 0xba21, 0xf9d0, 0x70d0, 0x7fd5, 0x979, 0x0, 0x1);
        gbc.writeMem(0xc51, { 0x90 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xba21, gbc.sp());
        EXPECT(0xc52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 039E
        gbc.setState(0x29e0, 0x9430, 0x6ad0, 0x25ea, 0xf8e, 0xcca1, 0x1, 0x1);
        gbc.writeMem(0x29e0, { 0x90 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9430, gbc.sp());
        EXPECT(0x29e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 039F
        gbc.setState(0x821a, 0x40ee, 0xed20, 0x1899, 0xf994, 0x150c, 0x0, 0x0);
        gbc.writeMem(0x821a, { 0x90 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x40ee, gbc.sp());
        EXPECT(0x821b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x821a));
        // 90 03A0
        gbc.setState(0x6ccb, 0xbec4, 0x4100, 0xfeee, 0xf882, 0x1753, 0x1, 0x0);
        gbc.writeMem(0x6ccb, { 0x90 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xbec4, gbc.sp());
        EXPECT(0x6ccc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03A1
        gbc.setState(0xc5fd, 0xb75e, 0x2bf0, 0x94e, 0x2319, 0x75, 0x1, 0x1);
        gbc.writeMem(0xc5fd, { 0x90 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xb75e, gbc.sp());
        EXPECT(0xc5fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc5fd));
        // 90 03A2
        gbc.setState(0x6162, 0xc51a, 0x76b0, 0xd530, 0x3bc6, 0xc7f, 0x0, 0x0);
        gbc.writeMem(0x6162, { 0x90 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc51a, gbc.sp());
        EXPECT(0x6163, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03A3
        gbc.setState(0x3821, 0x5ac5, 0xc060, 0xee0b, 0x3d43, 0x1482, 0x1, 0x0);
        gbc.writeMem(0x3821, { 0x90 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x5ac5, gbc.sp());
        EXPECT(0x3822, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03A4
        gbc.setState(0x1338, 0x873d, 0x4e40, 0x348b, 0x69a0, 0x2e4a, 0x1, 0x0);
        gbc.writeMem(0x1338, { 0x90 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x873d, gbc.sp());
        EXPECT(0x1339, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03A5
        gbc.setState(0xdb88, 0xf490, 0xb3b0, 0xcbb, 0x9519, 0x8955, 0x1, 0x0);
        gbc.writeMem(0xdb88, { 0x90 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xf490, gbc.sp());
        EXPECT(0xdb89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xdb88));
        // 90 03A6
        gbc.setState(0xedb6, 0x1ada, 0xf7c0, 0x6a05, 0x16db, 0x6e12, 0x0, 0x0);
        gbc.writeMem(0xedb6, { 0x90 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x1ada, gbc.sp());
        EXPECT(0xedb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xedb6));
        // 90 03A7
        gbc.setState(0x4b31, 0xb8e9, 0xf4d0, 0x5715, 0xcaa1, 0x6766, 0x0, 0x1);
        gbc.writeMem(0x4b31, { 0x90 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xb8e9, gbc.sp());
        EXPECT(0x4b32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03A8
        gbc.setState(0x6b66, 0x7ccc, 0x90, 0xafa, 0x7b92, 0xeddc, 0x0, 0x1);
        gbc.writeMem(0x6b66, { 0x90 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x7ccc, gbc.sp());
        EXPECT(0x6b67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03A9
        gbc.setState(0xb972, 0x4297, 0x8e30, 0x31c3, 0x6a84, 0x40f6, 0x0, 0x0);
        gbc.writeMem(0xb972, { 0x90 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x4297, gbc.sp());
        EXPECT(0xb973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb972));
        // 90 03AA
        gbc.setState(0x460b, 0x28e4, 0x3110, 0x6613, 0xb000, 0x62fc, 0x0, 0x1);
        gbc.writeMem(0x460b, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x28e4, gbc.sp());
        EXPECT(0x460c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03AB
        gbc.setState(0xe1a8, 0xd2ac, 0x8a70, 0x7e09, 0x80, 0xa84e, 0x1, 0x1);
        gbc.writeMem(0xe1a8, { 0x90 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd2ac, gbc.sp());
        EXPECT(0xe1a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe1a8));
        // 90 03AC
        gbc.setState(0x18aa, 0xbbf6, 0xbfa0, 0x1c25, 0xec43, 0xded2, 0x0, 0x1);
        gbc.writeMem(0x18aa, { 0x90 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xbbf6, gbc.sp());
        EXPECT(0x18ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03AD
        gbc.setState(0x9002, 0x6e08, 0xb880, 0x8ec, 0xa8c6, 0x5a13, 0x0, 0x1);
        gbc.writeMem(0x9002, { 0x90 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x6e08, gbc.sp());
        EXPECT(0x9003, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9002));
        // 90 03AE
        gbc.setState(0x6dfe, 0x536, 0xd490, 0x54fb, 0x8aad, 0xcf76, 0x0, 0x0);
        gbc.writeMem(0x6dfe, { 0x90 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x536, gbc.sp());
        EXPECT(0x6dff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03AF
        gbc.setState(0x2a89, 0xdf19, 0xbb20, 0x57e4, 0xd775, 0x161b, 0x1, 0x0);
        gbc.writeMem(0x2a89, { 0x90 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xdf19, gbc.sp());
        EXPECT(0x2a8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03B0
        gbc.setState(0x4246, 0xa4ac, 0x6250, 0xf66d, 0x6ef5, 0xfe46, 0x1, 0x1);
        gbc.writeMem(0x4246, { 0x90 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa4ac, gbc.sp());
        EXPECT(0x4247, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03B1
        gbc.setState(0x4c17, 0x163d, 0x5160, 0x49e3, 0x9f89, 0xf942, 0x0, 0x0);
        gbc.writeMem(0x4c17, { 0x90 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x163d, gbc.sp());
        EXPECT(0x4c18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03B2
        gbc.setState(0x657d, 0xce68, 0x3660, 0xc9b7, 0x972a, 0xffbe, 0x0, 0x1);
        gbc.writeMem(0x657d, { 0x90 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xce68, gbc.sp());
        EXPECT(0x657e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03B3
        gbc.setState(0x3038, 0xb949, 0xb790, 0x4d62, 0x2a82, 0x70ff, 0x1, 0x0);
        gbc.writeMem(0x3038, { 0x90 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xb949, gbc.sp());
        EXPECT(0x3039, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03B4
        gbc.setState(0x9db7, 0xce40, 0x2cb0, 0x7161, 0x4510, 0x6f9c, 0x1, 0x1);
        gbc.writeMem(0x9db7, { 0x90 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xce40, gbc.sp());
        EXPECT(0x9db8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x9db7));
        // 90 03B5
        gbc.setState(0xd484, 0x831f, 0xc0d0, 0xc41e, 0x6bbb, 0x29db, 0x1, 0x1);
        gbc.writeMem(0xd484, { 0x90 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x831f, gbc.sp());
        EXPECT(0xd485, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd484));
        // 90 03B6
        gbc.setState(0xb046, 0x184, 0xb300, 0x72f1, 0xb005, 0x92ab, 0x1, 0x1);
        gbc.writeMem(0xb046, { 0x90 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x184, gbc.sp());
        EXPECT(0xb047, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb046));
        // 90 03B7
        gbc.setState(0x63a9, 0x5590, 0xfb40, 0xf5f3, 0xb824, 0x8322, 0x0, 0x0);
        gbc.writeMem(0x63a9, { 0x90 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x5590, gbc.sp());
        EXPECT(0x63aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03B8
        gbc.setState(0x1889, 0xbcc4, 0xcfc0, 0xb4a8, 0x6745, 0xeb0f, 0x1, 0x1);
        gbc.writeMem(0x1889, { 0x90 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xbcc4, gbc.sp());
        EXPECT(0x188a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03B9
        gbc.setState(0xd988, 0x3731, 0x97c0, 0x1d6d, 0xf53e, 0x54c3, 0x1, 0x0);
        gbc.writeMem(0xd988, { 0x90 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3731, gbc.sp());
        EXPECT(0xd989, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd988));
        // 90 03BA
        gbc.setState(0xb903, 0x1b09, 0xa8e0, 0x45aa, 0x84b3, 0x4942, 0x1, 0x1);
        gbc.writeMem(0xb903, { 0x90 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x1b09, gbc.sp());
        EXPECT(0xb904, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb903));
        // 90 03BB
        gbc.setState(0xb6b7, 0x37a9, 0x5890, 0x8e26, 0x828a, 0x617c, 0x0, 0x1);
        gbc.writeMem(0xb6b7, { 0x90 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x37a9, gbc.sp());
        EXPECT(0xb6b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb6b7));
        // 90 03BC
        gbc.setState(0x694c, 0x92e8, 0x42a0, 0xd00f, 0xb4ff, 0x9968, 0x1, 0x0);
        gbc.writeMem(0x694c, { 0x90 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x92e8, gbc.sp());
        EXPECT(0x694d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03BD
        gbc.setState(0x5405, 0xd1, 0xfeb0, 0x7b6b, 0x6525, 0xabe, 0x1, 0x1);
        gbc.writeMem(0x5405, { 0x90 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd1, gbc.sp());
        EXPECT(0x5406, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03BE
        gbc.setState(0x4c64, 0xc9d3, 0x6440, 0xdf0d, 0xee4b, 0x2bc0, 0x1, 0x0);
        gbc.writeMem(0x4c64, { 0x90 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xc9d3, gbc.sp());
        EXPECT(0x4c65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03BF
        gbc.setState(0x5cd3, 0xb3af, 0xf3b0, 0xc146, 0xb52c, 0xc414, 0x1, 0x0);
        gbc.writeMem(0x5cd3, { 0x90 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xb3af, gbc.sp());
        EXPECT(0x5cd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03C0
        gbc.setState(0x1f2b, 0x4627, 0xa3f0, 0xfe9b, 0x6b41, 0xfff2, 0x0, 0x0);
        gbc.writeMem(0x1f2b, { 0x90 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x4627, gbc.sp());
        EXPECT(0x1f2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03C1
        gbc.setState(0xc30e, 0xf13e, 0x4e90, 0x74ca, 0xf6c5, 0xb37a, 0x1, 0x0);
        gbc.writeMem(0xc30e, { 0x90 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xf13e, gbc.sp());
        EXPECT(0xc30f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc30e));
        // 90 03C2
        gbc.setState(0xaad, 0x4c7d, 0xcd80, 0xae0, 0x9ae7, 0x8d54, 0x0, 0x1);
        gbc.writeMem(0xaad, { 0x90 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x4c7d, gbc.sp());
        EXPECT(0xaae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03C3
        gbc.setState(0xb841, 0xf93b, 0x7860, 0xd403, 0x37c8, 0x1add, 0x0, 0x1);
        gbc.writeMem(0xb841, { 0x90 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xf93b, gbc.sp());
        EXPECT(0xb842, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb841));
        // 90 03C4
        gbc.setState(0x3ba6, 0x5b3c, 0x4a90, 0x6032, 0x3ff2, 0x83dc, 0x0, 0x1);
        gbc.writeMem(0x3ba6, { 0x90 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x5b3c, gbc.sp());
        EXPECT(0x3ba7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03C5
        gbc.setState(0xd72b, 0xf882, 0x69d0, 0xf362, 0x85b9, 0x3fcc, 0x0, 0x0);
        gbc.writeMem(0xd72b, { 0x90 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xf882, gbc.sp());
        EXPECT(0xd72c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xd72b));
        // 90 03C6
        gbc.setState(0x7282, 0x2830, 0xdea0, 0xe6c7, 0xd190, 0x3201, 0x1, 0x1);
        gbc.writeMem(0x7282, { 0x90 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x2830, gbc.sp());
        EXPECT(0x7283, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03C7
        gbc.setState(0x31e, 0x47f5, 0x68f0, 0xd7e3, 0x7808, 0x38c0, 0x1, 0x1);
        gbc.writeMem(0x31e, { 0x90 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x47f5, gbc.sp());
        EXPECT(0x31f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03C8
        gbc.setState(0x67af, 0xd981, 0x1ca0, 0x4d98, 0xd8de, 0x8126, 0x0, 0x0);
        gbc.writeMem(0x67af, { 0x90 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xd981, gbc.sp());
        EXPECT(0x67b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03C9
        gbc.setState(0xc812, 0x40a3, 0xd580, 0xff3, 0xbd31, 0x98f2, 0x0, 0x0);
        gbc.writeMem(0xc812, { 0x90 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x40a3, gbc.sp());
        EXPECT(0xc813, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc812));
        // 90 03CA
        gbc.setState(0xb370, 0x712c, 0x47b0, 0x9a6f, 0xd214, 0x1465, 0x0, 0x1);
        gbc.writeMem(0xb370, { 0x90 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x712c, gbc.sp());
        EXPECT(0xb371, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xb370));
        // 90 03CB
        gbc.setState(0x627, 0x5371, 0xc370, 0x2ac4, 0xa9f3, 0x6b31, 0x0, 0x1);
        gbc.writeMem(0x627, { 0x90 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x5371, gbc.sp());
        EXPECT(0x628, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03CC
        gbc.setState(0x3b03, 0xef86, 0x9190, 0x2310, 0xe672, 0xdcb0, 0x1, 0x0);
        gbc.writeMem(0x3b03, { 0x90 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xef86, gbc.sp());
        EXPECT(0x3b04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03CD
        gbc.setState(0x3eef, 0x6de3, 0x5400, 0xc50e, 0xc4c9, 0xd296, 0x0, 0x0);
        gbc.writeMem(0x3eef, { 0x90 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x6de3, gbc.sp());
        EXPECT(0x3ef0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03CE
        gbc.setState(0x78e6, 0x8943, 0x3da0, 0x5ebb, 0xd93e, 0xfd43, 0x0, 0x0);
        gbc.writeMem(0x78e6, { 0x90 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x8943, gbc.sp());
        EXPECT(0x78e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03CF
        gbc.setState(0x5623, 0x2c2e, 0xb6a0, 0x2e81, 0xd216, 0x8713, 0x1, 0x0);
        gbc.writeMem(0x5623, { 0x90 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x2c2e, gbc.sp());
        EXPECT(0x5624, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03D0
        gbc.setState(0x66a5, 0x1604, 0xa850, 0x619c, 0xb629, 0xd8e3, 0x0, 0x0);
        gbc.writeMem(0x66a5, { 0x90 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x1604, gbc.sp());
        EXPECT(0x66a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03D1
        gbc.setState(0x2d3b, 0xf8d1, 0xf0e0, 0xd9bf, 0x436b, 0x6fcd, 0x1, 0x0);
        gbc.writeMem(0x2d3b, { 0x90 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xf8d1, gbc.sp());
        EXPECT(0x2d3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03D2
        gbc.setState(0x5444, 0xacbc, 0xe290, 0xb7e2, 0x8e92, 0xb029, 0x0, 0x0);
        gbc.writeMem(0x5444, { 0x90 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xacbc, gbc.sp());
        EXPECT(0x5445, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03D3
        gbc.setState(0xee38, 0xe5af, 0x7a60, 0xd8e3, 0x670d, 0x1e41, 0x0, 0x0);
        gbc.writeMem(0xee38, { 0x90 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xe5af, gbc.sp());
        EXPECT(0xee39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xee38));
        // 90 03D4
        gbc.setState(0x270, 0x5939, 0x910, 0x8568, 0xa841, 0x2c0b, 0x0, 0x1);
        gbc.writeMem(0x270, { 0x90 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x5939, gbc.sp());
        EXPECT(0x271, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03D5
        gbc.setState(0x6e90, 0x5b27, 0x51b0, 0x7464, 0x7f21, 0x5c26, 0x1, 0x0);
        gbc.writeMem(0x6e90, { 0x90 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x5b27, gbc.sp());
        EXPECT(0x6e91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03D6
        gbc.setState(0xe523, 0xbe12, 0xed00, 0x228e, 0x8a1f, 0x8404, 0x0, 0x0);
        gbc.writeMem(0xe523, { 0x90 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xbe12, gbc.sp());
        EXPECT(0xe524, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xe523));
        // 90 03D7
        gbc.setState(0xa07a, 0xe08b, 0xa1a0, 0x8fc6, 0x62bc, 0x445, 0x1, 0x0);
        gbc.writeMem(0xa07a, { 0x90 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xe08b, gbc.sp());
        EXPECT(0xa07b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa07a));
        // 90 03D8
        gbc.setState(0xc27e, 0x307f, 0x94a0, 0x3eb9, 0x20cb, 0x97fb, 0x0, 0x0);
        gbc.writeMem(0xc27e, { 0x90 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x307f, gbc.sp());
        EXPECT(0xc27f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc27e));
        // 90 03D9
        gbc.setState(0x280b, 0x585a, 0xfe20, 0x51af, 0x4fe8, 0xd935, 0x1, 0x0);
        gbc.writeMem(0x280b, { 0x90 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x585a, gbc.sp());
        EXPECT(0x280c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03DB
        gbc.setState(0xefe1, 0xe494, 0x5d60, 0x40ed, 0x575c, 0x4cd8, 0x1, 0x1);
        gbc.writeMem(0xefe1, { 0x90 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xe494, gbc.sp());
        EXPECT(0xefe2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xefe1));
        // 90 03DC
        gbc.setState(0xcccf, 0x8e08, 0x87a0, 0x701f, 0x5c65, 0xe5aa, 0x1, 0x1);
        gbc.writeMem(0xcccf, { 0x90 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x8e08, gbc.sp());
        EXPECT(0xccd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xcccf));
        // 90 03DD
        gbc.setState(0xc67e, 0x34a5, 0xfd10, 0x4a15, 0x3a39, 0xe08d, 0x0, 0x1);
        gbc.writeMem(0xc67e, { 0x90 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x34a5, gbc.sp());
        EXPECT(0xc67f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xc67e));
        // 90 03DE
        gbc.setState(0x27b3, 0xf07c, 0x2360, 0x657c, 0x8081, 0x7759, 0x0, 0x0);
        gbc.writeMem(0x27b3, { 0x90 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xf07c, gbc.sp());
        EXPECT(0x27b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03DF
        gbc.setState(0x671, 0x9132, 0xf800, 0x9f92, 0xfda0, 0xa731, 0x0, 0x1);
        gbc.writeMem(0x671, { 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x9132, gbc.sp());
        EXPECT(0x672, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03E0
        gbc.setState(0xd01, 0xe500, 0xc710, 0xb124, 0x546f, 0x7c66, 0x0, 0x1);
        gbc.writeMem(0xd01, { 0x90 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xe500, gbc.sp());
        EXPECT(0xd02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03E1
        gbc.setState(0x4e9f, 0xb65e, 0x55f0, 0x4f48, 0x221a, 0x8f0f, 0x0, 0x1);
        gbc.writeMem(0x4e9f, { 0x90 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xb65e, gbc.sp());
        EXPECT(0x4ea0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03E2
        gbc.setState(0x235d, 0xe8a3, 0x58f0, 0x124f, 0x3b6c, 0x9bd3, 0x1, 0x0);
        gbc.writeMem(0x235d, { 0x90 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xe8a3, gbc.sp());
        EXPECT(0x235e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 90 03E3
        gbc.setState(0xa7ea, 0x1ed6, 0x3ea0, 0x9302, 0xfe3, 0x633b, 0x1, 0x1);
        gbc.writeMem(0xa7ea, { 0x90 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x1ed6, gbc.sp());
        EXPECT(0xa7eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa7ea));
        // 90 03E4
        gbc.setState(0xa876, 0x6e65, 0xafd0, 0x7166, 0x3a26, 0x77a0, 0x1, 0x1);
        gbc.writeMem(0xa876, { 0x90 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x6e65, gbc.sp());
        EXPECT(0xa877, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xa876));
        // 90 03E5
        gbc.setState(0x6f27, 0xacaf, 0x7a70, 0xa24a, 0x5ca6, 0xceec, 0x1, 0x0);
        gbc.writeMem(0x6f27, { 0x90 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xacaf, gbc.sp());
        EXPECT(0x6f28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03E6
        gbc.setState(0x690a, 0xdd46, 0x1130, 0xe68c, 0x198d, 0xb54d, 0x1, 0x0);
        gbc.writeMem(0x690a, { 0x90 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xdd46, gbc.sp());
        EXPECT(0x690b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 90 03E7
        gbc.setState(0x6413, 0xded1, 0x1f40, 0x229, 0x64c7, 0x9663, 0x0, 0x1);
        gbc.writeMem(0x6413, { 0x90 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xded1, gbc.sp());
        EXPECT(0x6414, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
