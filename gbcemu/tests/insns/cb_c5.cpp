#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_c5)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_c5) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB C5 0000
        gbc.setState(0x58ab, 0xabd3, 0xc670, 0x5dd3, 0xb9c8, 0xe2ca, 0x0, 0x0);
        gbc.writeMem(0x58ab, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xabd3);
        EXPECT(gbc.pc(), 0x58ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0001
        gbc.setState(0x3937, 0xab89, 0x9f80, 0xd431, 0xfcc2, 0x67ff, 0x1, 0x1);
        gbc.writeMem(0x3937, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xab89);
        EXPECT(gbc.pc(), 0x3939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0002
        gbc.setState(0x377b, 0x5d08, 0xa0a0, 0x1c53, 0x6ef0, 0x30a, 0x0, 0x0);
        gbc.writeMem(0x377b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5d08);
        EXPECT(gbc.pc(), 0x377d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0003
        gbc.setState(0x5c32, 0xa9cc, 0x2e30, 0x88c2, 0x194d, 0x14ea, 0x0, 0x0);
        gbc.writeMem(0x5c32, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xa9cc);
        EXPECT(gbc.pc(), 0x5c34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0004
        gbc.setState(0x5e42, 0x8379, 0x8dc0, 0x63e4, 0xe3a4, 0x5626, 0x0, 0x1);
        gbc.writeMem(0x5e42, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8379);
        EXPECT(gbc.pc(), 0x5e44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0005
        gbc.setState(0xafd0, 0x6335, 0x9d80, 0xc4ca, 0x3a88, 0x7ae, 0x1, 0x1);
        gbc.writeMem(0xafd0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x6335);
        EXPECT(gbc.pc(), 0xafd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafd0), 0xcb);
        EXPECT(gbc.readMem(0xafd1), 0xc5);
        // CB C5 0006
        gbc.setState(0x5553, 0x82f5, 0x90c0, 0x7e8c, 0xcaaf, 0x7d34, 0x0, 0x0);
        gbc.writeMem(0x5553, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x82f5);
        EXPECT(gbc.pc(), 0x5555);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0007
        gbc.setState(0x4800, 0x8bed, 0x8e0, 0x3073, 0x6866, 0xdbe2, 0x0, 0x0);
        gbc.writeMem(0x4800, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8bed);
        EXPECT(gbc.pc(), 0x4802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0008
        gbc.setState(0x29cb, 0xec11, 0xb480, 0x3799, 0x20bf, 0xc892, 0x1, 0x0);
        gbc.writeMem(0x29cb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xec11);
        EXPECT(gbc.pc(), 0x29cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0009
        gbc.setState(0xe379, 0x7ea9, 0x3f00, 0x97c1, 0xb856, 0x7031, 0x1, 0x0);
        gbc.writeMem(0xe379, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7ea9);
        EXPECT(gbc.pc(), 0xe37b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe379), 0xcb);
        EXPECT(gbc.readMem(0xe37a), 0xc5);
        // CB C5 000A
        gbc.setState(0x4516, 0x4442, 0xf5e0, 0x80ac, 0x60c1, 0x96eb, 0x0, 0x0);
        gbc.writeMem(0x4516, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4442);
        EXPECT(gbc.pc(), 0x4518);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 000B
        gbc.setState(0x1d0c, 0xcc38, 0x7580, 0xe07, 0x43f0, 0x3245, 0x0, 0x1);
        gbc.writeMem(0x1d0c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xcc38);
        EXPECT(gbc.pc(), 0x1d0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 000C
        gbc.setState(0x9d8f, 0x6f67, 0x7e20, 0xda07, 0xddcf, 0xc3b3, 0x1, 0x1);
        gbc.writeMem(0x9d8f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6f67);
        EXPECT(gbc.pc(), 0x9d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d8f), 0xcb);
        EXPECT(gbc.readMem(0x9d90), 0xc5);
        // CB C5 000D
        gbc.setState(0xd29f, 0xd5a1, 0x6b10, 0xe5a1, 0x12c2, 0xc447, 0x0, 0x0);
        gbc.writeMem(0xd29f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd5a1);
        EXPECT(gbc.pc(), 0xd2a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29f), 0xcb);
        EXPECT(gbc.readMem(0xd2a0), 0xc5);
        // CB C5 000E
        gbc.setState(0x621f, 0x7df4, 0x39d0, 0xc3f8, 0xea24, 0xdd69, 0x1, 0x1);
        gbc.writeMem(0x621f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x7df4);
        EXPECT(gbc.pc(), 0x6221);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0010
        gbc.setState(0xe859, 0xbf23, 0xc750, 0x6ff6, 0xc5da, 0x29b4, 0x1, 0x1);
        gbc.writeMem(0xe859, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xbf23);
        EXPECT(gbc.pc(), 0xe85b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe859), 0xcb);
        EXPECT(gbc.readMem(0xe85a), 0xc5);
        // CB C5 0011
        gbc.setState(0x62e6, 0x2d36, 0x11a0, 0x8993, 0x42b3, 0x87e8, 0x1, 0x0);
        gbc.writeMem(0x62e6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2d36);
        EXPECT(gbc.pc(), 0x62e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0012
        gbc.setState(0x7492, 0x5fe9, 0xb10, 0xce05, 0x42a, 0x43d0, 0x1, 0x0);
        gbc.writeMem(0x7492, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x5fe9);
        EXPECT(gbc.pc(), 0x7494);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0013
        gbc.setState(0x278, 0x79fc, 0x2100, 0x5962, 0x978f, 0xa405, 0x0, 0x0);
        gbc.writeMem(0x278, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x79fc);
        EXPECT(gbc.pc(), 0x27a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0014
        gbc.setState(0xcdc, 0x8fbc, 0xae90, 0x8661, 0xf3e7, 0x4624, 0x0, 0x0);
        gbc.writeMem(0xcdc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x8fbc);
        EXPECT(gbc.pc(), 0xcde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0015
        gbc.setState(0x8602, 0x7a18, 0x9f30, 0x294a, 0xf95a, 0x8b7e, 0x0, 0x0);
        gbc.writeMem(0x8602, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7a18);
        EXPECT(gbc.pc(), 0x8604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8602), 0xcb);
        EXPECT(gbc.readMem(0x8603), 0xc5);
        // CB C5 0016
        gbc.setState(0xef4e, 0x2b87, 0xeff0, 0x5a09, 0x3641, 0x1222, 0x1, 0x1);
        gbc.writeMem(0xef4e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2b87);
        EXPECT(gbc.pc(), 0xef50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef4e), 0xcb);
        EXPECT(gbc.readMem(0xef4f), 0xc5);
        // CB C5 0017
        gbc.setState(0xc7a8, 0xb753, 0xb0d0, 0xdbe5, 0xdb93, 0x7d47, 0x1, 0x0);
        gbc.writeMem(0xc7a8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xb753);
        EXPECT(gbc.pc(), 0xc7aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7a8), 0xcb);
        EXPECT(gbc.readMem(0xc7a9), 0xc5);
        // CB C5 0018
        gbc.setState(0xbc8c, 0xa6fa, 0xd90, 0xa7e1, 0xc701, 0x11ca, 0x1, 0x1);
        gbc.writeMem(0xbc8c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa6fa);
        EXPECT(gbc.pc(), 0xbc8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8c), 0xcb);
        EXPECT(gbc.readMem(0xbc8d), 0xc5);
        // CB C5 0019
        gbc.setState(0x84ae, 0x959d, 0x9830, 0xc26d, 0x5790, 0x88dd, 0x1, 0x1);
        gbc.writeMem(0x84ae, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x959d);
        EXPECT(gbc.pc(), 0x84b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ae), 0xcb);
        EXPECT(gbc.readMem(0x84af), 0xc5);
        // CB C5 001A
        gbc.setState(0x6287, 0x3a3f, 0xd000, 0x2bb3, 0xc8e8, 0xb6ce, 0x1, 0x1);
        gbc.writeMem(0x6287, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3a3f);
        EXPECT(gbc.pc(), 0x6289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 001B
        gbc.setState(0x4c92, 0x5584, 0xa180, 0x1f2c, 0xd8a1, 0xe401, 0x1, 0x1);
        gbc.writeMem(0x4c92, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x5584);
        EXPECT(gbc.pc(), 0x4c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 001C
        gbc.setState(0x4a39, 0xc61f, 0x9060, 0x3902, 0x5ffa, 0x2466, 0x0, 0x1);
        gbc.writeMem(0x4a39, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc61f);
        EXPECT(gbc.pc(), 0x4a3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 001D
        gbc.setState(0xaa58, 0xce42, 0xa1d0, 0x1021, 0xec19, 0x42b6, 0x1, 0x1);
        gbc.writeMem(0xaa58, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xce42);
        EXPECT(gbc.pc(), 0xaa5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa58), 0xcb);
        EXPECT(gbc.readMem(0xaa59), 0xc5);
        // CB C5 001E
        gbc.setState(0x8e9f, 0x148d, 0x45d0, 0x3b30, 0x857d, 0xdf9a, 0x1, 0x0);
        gbc.writeMem(0x8e9f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x148d);
        EXPECT(gbc.pc(), 0x8ea1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e9f), 0xcb);
        EXPECT(gbc.readMem(0x8ea0), 0xc5);
        // CB C5 001F
        gbc.setState(0x17f2, 0x4f2a, 0xdba0, 0x6d90, 0xe0c1, 0x5b1d, 0x0, 0x0);
        gbc.writeMem(0x17f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4f2a);
        EXPECT(gbc.pc(), 0x17f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0021
        gbc.setState(0xe45f, 0x295, 0xdbc0, 0xb7ba, 0x8b35, 0x641d, 0x0, 0x0);
        gbc.writeMem(0xe45f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x295);
        EXPECT(gbc.pc(), 0xe461);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45f), 0xcb);
        EXPECT(gbc.readMem(0xe460), 0xc5);
        // CB C5 0022
        gbc.setState(0x13d1, 0xf4ac, 0x2c10, 0xcbd4, 0x5caf, 0x41b3, 0x0, 0x1);
        gbc.writeMem(0x13d1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf4ac);
        EXPECT(gbc.pc(), 0x13d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0024
        gbc.setState(0xe3b0, 0x82f, 0xd330, 0x37ef, 0x40, 0x5ea8, 0x1, 0x1);
        gbc.writeMem(0xe3b0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x82f);
        EXPECT(gbc.pc(), 0xe3b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3b0), 0xcb);
        EXPECT(gbc.readMem(0xe3b1), 0xc5);
        // CB C5 0025
        gbc.setState(0xb55d, 0xdf8d, 0xf820, 0xa1c5, 0x1800, 0x28c9, 0x1, 0x1);
        gbc.writeMem(0xb55d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xdf8d);
        EXPECT(gbc.pc(), 0xb55f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb55d), 0xcb);
        EXPECT(gbc.readMem(0xb55e), 0xc5);
        // CB C5 0026
        gbc.setState(0x4e1a, 0xb7af, 0xfa90, 0x82da, 0x8256, 0x7433, 0x0, 0x0);
        gbc.writeMem(0x4e1a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb7af);
        EXPECT(gbc.pc(), 0x4e1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0027
        gbc.setState(0x965, 0xdbdc, 0x6c0, 0x8095, 0x95fe, 0x2bef, 0x1, 0x0);
        gbc.writeMem(0x965, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xdbdc);
        EXPECT(gbc.pc(), 0x967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0028
        gbc.setState(0x6a94, 0x4325, 0xde50, 0x2584, 0x3e58, 0x67e7, 0x1, 0x1);
        gbc.writeMem(0x6a94, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4325);
        EXPECT(gbc.pc(), 0x6a96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0029
        gbc.setState(0x2070, 0x8d32, 0x29b0, 0x8709, 0x73fd, 0xc888, 0x0, 0x1);
        gbc.writeMem(0x2070, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8d32);
        EXPECT(gbc.pc(), 0x2072);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 002A
        gbc.setState(0x81c0, 0x1d41, 0x9e60, 0x43f0, 0xdc3c, 0x5ea8, 0x0, 0x0);
        gbc.writeMem(0x81c0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x1d41);
        EXPECT(gbc.pc(), 0x81c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c0), 0xcb);
        EXPECT(gbc.readMem(0x81c1), 0xc5);
        // CB C5 002B
        gbc.setState(0x5cc2, 0x4ee, 0xa7d0, 0x9f9c, 0x4381, 0x161c, 0x0, 0x1);
        gbc.writeMem(0x5cc2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4ee);
        EXPECT(gbc.pc(), 0x5cc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 002C
        gbc.setState(0x30e1, 0x61f, 0x12e0, 0x6c41, 0xc7e9, 0x86, 0x0, 0x1);
        gbc.writeMem(0x30e1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x61f);
        EXPECT(gbc.pc(), 0x30e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 002D
        gbc.setState(0x4bc6, 0x55aa, 0x33d0, 0x46f8, 0xe40c, 0x974c, 0x0, 0x1);
        gbc.writeMem(0x4bc6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x55aa);
        EXPECT(gbc.pc(), 0x4bc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 002E
        gbc.setState(0x4d35, 0xae57, 0x37e0, 0xd71b, 0x52fe, 0x9f31, 0x1, 0x0);
        gbc.writeMem(0x4d35, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xae57);
        EXPECT(gbc.pc(), 0x4d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 002F
        gbc.setState(0x52cf, 0x3deb, 0x7410, 0x8947, 0xcc8f, 0x3479, 0x1, 0x0);
        gbc.writeMem(0x52cf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3deb);
        EXPECT(gbc.pc(), 0x52d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0030
        gbc.setState(0x6054, 0x5083, 0x8da0, 0x9a41, 0xe28f, 0x35c5, 0x0, 0x0);
        gbc.writeMem(0x6054, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x5083);
        EXPECT(gbc.pc(), 0x6056);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0031
        gbc.setState(0x807c, 0x8268, 0x5630, 0x389c, 0xa8c, 0x9f5, 0x1, 0x0);
        gbc.writeMem(0x807c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8268);
        EXPECT(gbc.pc(), 0x807e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x807c), 0xcb);
        EXPECT(gbc.readMem(0x807d), 0xc5);
        // CB C5 0032
        gbc.setState(0xd1af, 0xf995, 0xe250, 0x840, 0x8dca, 0x194, 0x0, 0x0);
        gbc.writeMem(0xd1af, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf995);
        EXPECT(gbc.pc(), 0xd1b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1af), 0xcb);
        EXPECT(gbc.readMem(0xd1b0), 0xc5);
        // CB C5 0033
        gbc.setState(0xb303, 0xed30, 0xd9a0, 0x320d, 0x8be3, 0x267e, 0x0, 0x0);
        gbc.writeMem(0xb303, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xed30);
        EXPECT(gbc.pc(), 0xb305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb303), 0xcb);
        EXPECT(gbc.readMem(0xb304), 0xc5);
        // CB C5 0034
        gbc.setState(0x5379, 0x2a43, 0xb5f0, 0xce6b, 0x2621, 0xef7b, 0x0, 0x1);
        gbc.writeMem(0x5379, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x2a43);
        EXPECT(gbc.pc(), 0x537b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0035
        gbc.setState(0x9ce0, 0xeb92, 0xedd0, 0xfabd, 0x2aba, 0xce83, 0x0, 0x0);
        gbc.writeMem(0x9ce0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xeb92);
        EXPECT(gbc.pc(), 0x9ce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ce0), 0xcb);
        EXPECT(gbc.readMem(0x9ce1), 0xc5);
        // CB C5 0036
        gbc.setState(0x1fa4, 0x33fa, 0xa9c0, 0xa97a, 0xe892, 0xfdd8, 0x0, 0x0);
        gbc.writeMem(0x1fa4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x33fa);
        EXPECT(gbc.pc(), 0x1fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0037
        gbc.setState(0xbcf2, 0x85fd, 0x35b0, 0xa7e8, 0x67ce, 0x691, 0x0, 0x0);
        gbc.writeMem(0xbcf2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x85fd);
        EXPECT(gbc.pc(), 0xbcf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcf2), 0xcb);
        EXPECT(gbc.readMem(0xbcf3), 0xc5);
        // CB C5 0038
        gbc.setState(0x7033, 0x9f4a, 0x8860, 0x6123, 0x4f54, 0x784c, 0x0, 0x0);
        gbc.writeMem(0x7033, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9f4a);
        EXPECT(gbc.pc(), 0x7035);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0039
        gbc.setState(0x7cf0, 0x6712, 0xdd40, 0xa8ae, 0x9e77, 0xefeb, 0x1, 0x0);
        gbc.writeMem(0x7cf0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6712);
        EXPECT(gbc.pc(), 0x7cf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 003A
        gbc.setState(0x300d, 0xd41e, 0xe240, 0x2b8e, 0x28e6, 0x6458, 0x1, 0x1);
        gbc.writeMem(0x300d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd41e);
        EXPECT(gbc.pc(), 0x300f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 003B
        gbc.setState(0x4523, 0xa37c, 0xc520, 0x8533, 0xe009, 0xf976, 0x0, 0x1);
        gbc.writeMem(0x4523, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa37c);
        EXPECT(gbc.pc(), 0x4525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 003C
        gbc.setState(0xc788, 0x8c3b, 0x3790, 0x3c15, 0xe3ca, 0x33b1, 0x1, 0x0);
        gbc.writeMem(0xc788, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8c3b);
        EXPECT(gbc.pc(), 0xc78a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc788), 0xcb);
        EXPECT(gbc.readMem(0xc789), 0xc5);
        // CB C5 003D
        gbc.setState(0xea18, 0xec64, 0x2910, 0xe0fc, 0xdbb4, 0x57c3, 0x1, 0x1);
        gbc.writeMem(0xea18, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xec64);
        EXPECT(gbc.pc(), 0xea1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea18), 0xcb);
        EXPECT(gbc.readMem(0xea19), 0xc5);
        // CB C5 003E
        gbc.setState(0x8a76, 0xf333, 0xb850, 0x389d, 0xe02c, 0x6130, 0x0, 0x0);
        gbc.writeMem(0x8a76, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf333);
        EXPECT(gbc.pc(), 0x8a78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a76), 0xcb);
        EXPECT(gbc.readMem(0x8a77), 0xc5);
        // CB C5 003F
        gbc.setState(0x91b5, 0xbd9a, 0x3b70, 0xfee3, 0x73fc, 0xfd47, 0x0, 0x0);
        gbc.writeMem(0x91b5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xbd9a);
        EXPECT(gbc.pc(), 0x91b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91b5), 0xcb);
        EXPECT(gbc.readMem(0x91b6), 0xc5);
        // CB C5 0040
        gbc.setState(0x7865, 0x922c, 0x1320, 0x988a, 0x9eba, 0x66d2, 0x1, 0x1);
        gbc.writeMem(0x7865, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x922c);
        EXPECT(gbc.pc(), 0x7867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0041
        gbc.setState(0x3d1e, 0xe970, 0x4300, 0xe9f1, 0x92cb, 0xe0ba, 0x0, 0x0);
        gbc.writeMem(0x3d1e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe970);
        EXPECT(gbc.pc(), 0x3d20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0042
        gbc.setState(0x4da5, 0x551b, 0xa750, 0x8b3c, 0xf059, 0xa067, 0x1, 0x1);
        gbc.writeMem(0x4da5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x551b);
        EXPECT(gbc.pc(), 0x4da7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0043
        gbc.setState(0x72a7, 0xb910, 0x8060, 0x521a, 0x8087, 0x644a, 0x1, 0x0);
        gbc.writeMem(0x72a7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb910);
        EXPECT(gbc.pc(), 0x72a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0044
        gbc.setState(0x986, 0xb7f, 0x6c00, 0xe0ae, 0x9fbd, 0xc38, 0x0, 0x0);
        gbc.writeMem(0x986, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb7f);
        EXPECT(gbc.pc(), 0x988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0045
        gbc.setState(0x90b, 0x1a04, 0x4070, 0x7ac8, 0x141f, 0xf5f1, 0x0, 0x1);
        gbc.writeMem(0x90b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1a04);
        EXPECT(gbc.pc(), 0x90d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0046
        gbc.setState(0xc061, 0xeeb1, 0x2d40, 0xeb21, 0xb7eb, 0x2adf, 0x0, 0x0);
        gbc.writeMem(0xc061, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xeeb1);
        EXPECT(gbc.pc(), 0xc063);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc061), 0xcb);
        EXPECT(gbc.readMem(0xc062), 0xc5);
        // CB C5 0048
        gbc.setState(0x2e0b, 0x764d, 0x7550, 0x8d4a, 0x3ed0, 0x6fa1, 0x1, 0x1);
        gbc.writeMem(0x2e0b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x764d);
        EXPECT(gbc.pc(), 0x2e0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 004A
        gbc.setState(0xedaa, 0x721d, 0x14c0, 0xb316, 0x3f25, 0xef3e, 0x1, 0x1);
        gbc.writeMem(0xedaa, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x721d);
        EXPECT(gbc.pc(), 0xedac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedaa), 0xcb);
        EXPECT(gbc.readMem(0xedab), 0xc5);
        // CB C5 004B
        gbc.setState(0x5836, 0xd309, 0x230, 0xb11e, 0x110, 0x93ef, 0x1, 0x1);
        gbc.writeMem(0x5836, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd309);
        EXPECT(gbc.pc(), 0x5838);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 004C
        gbc.setState(0x1118, 0xf7d0, 0x4d50, 0xe7e5, 0xf8f5, 0xcf87, 0x0, 0x1);
        gbc.writeMem(0x1118, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xf7d0);
        EXPECT(gbc.pc(), 0x111a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 004D
        gbc.setState(0xa025, 0x6322, 0x17d0, 0xd6d9, 0x2a6d, 0xfc6f, 0x0, 0x0);
        gbc.writeMem(0xa025, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6322);
        EXPECT(gbc.pc(), 0xa027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa025), 0xcb);
        EXPECT(gbc.readMem(0xa026), 0xc5);
        // CB C5 004E
        gbc.setState(0x5e07, 0x856e, 0x9fe0, 0x6b30, 0x8eeb, 0x2991, 0x0, 0x0);
        gbc.writeMem(0x5e07, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x856e);
        EXPECT(gbc.pc(), 0x5e09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 004F
        gbc.setState(0x48a6, 0x4d20, 0xe50, 0x7829, 0x693a, 0x9214, 0x0, 0x1);
        gbc.writeMem(0x48a6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4d20);
        EXPECT(gbc.pc(), 0x48a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0051
        gbc.setState(0x40a6, 0xa63a, 0xe850, 0xa39a, 0x215a, 0x65fe, 0x0, 0x1);
        gbc.writeMem(0x40a6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa63a);
        EXPECT(gbc.pc(), 0x40a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0052
        gbc.setState(0x164e, 0x2dde, 0xd440, 0x82b4, 0xab60, 0xd3cd, 0x1, 0x1);
        gbc.writeMem(0x164e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2dde);
        EXPECT(gbc.pc(), 0x1650);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0053
        gbc.setState(0x61e1, 0xa4a0, 0x96e0, 0xfceb, 0x56fc, 0xae21, 0x1, 0x0);
        gbc.writeMem(0x61e1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xa4a0);
        EXPECT(gbc.pc(), 0x61e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0054
        gbc.setState(0x22d1, 0x3ee8, 0x7a70, 0xc7f, 0xaddc, 0xc9ff, 0x0, 0x0);
        gbc.writeMem(0x22d1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3ee8);
        EXPECT(gbc.pc(), 0x22d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0055
        gbc.setState(0x2c9b, 0x365b, 0x5d10, 0xfa99, 0xfa80, 0xfc97, 0x0, 0x1);
        gbc.writeMem(0x2c9b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x365b);
        EXPECT(gbc.pc(), 0x2c9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0056
        gbc.setState(0x9fc4, 0x6161, 0xc030, 0xa298, 0xa6f5, 0xf36e, 0x0, 0x0);
        gbc.writeMem(0x9fc4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6161);
        EXPECT(gbc.pc(), 0x9fc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fc4), 0xcb);
        EXPECT(gbc.readMem(0x9fc5), 0xc5);
        // CB C5 0057
        gbc.setState(0xdcae, 0x46a7, 0xf430, 0x263b, 0x7c4a, 0x93bc, 0x0, 0x0);
        gbc.writeMem(0xdcae, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x46a7);
        EXPECT(gbc.pc(), 0xdcb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcae), 0xcb);
        EXPECT(gbc.readMem(0xdcaf), 0xc5);
        // CB C5 0058
        gbc.setState(0x329, 0x6992, 0x2530, 0xdd5b, 0xa7d5, 0x124e, 0x0, 0x1);
        gbc.writeMem(0x329, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6992);
        EXPECT(gbc.pc(), 0x32b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 005A
        gbc.setState(0xd135, 0x77e7, 0x6a00, 0x4983, 0x5d84, 0x2c48, 0x1, 0x0);
        gbc.writeMem(0xd135, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x77e7);
        EXPECT(gbc.pc(), 0xd137);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd135), 0xcb);
        EXPECT(gbc.readMem(0xd136), 0xc5);
        // CB C5 005B
        gbc.setState(0xa225, 0x63bb, 0x5fe0, 0xbbb0, 0x1373, 0x8fbe, 0x1, 0x0);
        gbc.writeMem(0xa225, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x63bb);
        EXPECT(gbc.pc(), 0xa227);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa225), 0xcb);
        EXPECT(gbc.readMem(0xa226), 0xc5);
        // CB C5 005C
        gbc.setState(0xb49a, 0x7440, 0xe2f0, 0xaf32, 0xabc7, 0xfc3, 0x1, 0x0);
        gbc.writeMem(0xb49a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7440);
        EXPECT(gbc.pc(), 0xb49c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb49a), 0xcb);
        EXPECT(gbc.readMem(0xb49b), 0xc5);
        // CB C5 005D
        gbc.setState(0xdfd8, 0xdd0c, 0x4d90, 0x8f89, 0x2101, 0xfe10, 0x0, 0x1);
        gbc.writeMem(0xdfd8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xdd0c);
        EXPECT(gbc.pc(), 0xdfda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfd8), 0xcb);
        EXPECT(gbc.readMem(0xdfd9), 0xc5);
        // CB C5 005E
        gbc.setState(0x56f5, 0x2b8, 0xda90, 0xf24c, 0xf0a1, 0x5e75, 0x1, 0x0);
        gbc.writeMem(0x56f5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2b8);
        EXPECT(gbc.pc(), 0x56f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 005F
        gbc.setState(0x5276, 0xb1f6, 0x79a0, 0x9fb9, 0xbb49, 0x3629, 0x0, 0x0);
        gbc.writeMem(0x5276, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb1f6);
        EXPECT(gbc.pc(), 0x5278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0060
        gbc.setState(0x99cd, 0xca87, 0xfee0, 0xcdd, 0x5bd3, 0x3062, 0x1, 0x1);
        gbc.writeMem(0x99cd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xca87);
        EXPECT(gbc.pc(), 0x99cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99cd), 0xcb);
        EXPECT(gbc.readMem(0x99ce), 0xc5);
        // CB C5 0061
        gbc.setState(0x33fb, 0xd83, 0x3a00, 0xed0a, 0xd9f5, 0xdce9, 0x1, 0x1);
        gbc.writeMem(0x33fb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd83);
        EXPECT(gbc.pc(), 0x33fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0062
        gbc.setState(0x93a9, 0xc831, 0x7500, 0xfe1c, 0xaf6e, 0x2b2d, 0x0, 0x0);
        gbc.writeMem(0x93a9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc831);
        EXPECT(gbc.pc(), 0x93ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93a9), 0xcb);
        EXPECT(gbc.readMem(0x93aa), 0xc5);
        // CB C5 0063
        gbc.setState(0xebe4, 0xadaa, 0x1c70, 0x9447, 0x7666, 0x1e34, 0x1, 0x0);
        gbc.writeMem(0xebe4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xadaa);
        EXPECT(gbc.pc(), 0xebe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebe4), 0xcb);
        EXPECT(gbc.readMem(0xebe5), 0xc5);
        // CB C5 0064
        gbc.setState(0x8741, 0xdfcd, 0x2ef0, 0x1f72, 0xba71, 0x1751, 0x1, 0x1);
        gbc.writeMem(0x8741, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xdfcd);
        EXPECT(gbc.pc(), 0x8743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8741), 0xcb);
        EXPECT(gbc.readMem(0x8742), 0xc5);
        // CB C5 0065
        gbc.setState(0x2580, 0xef42, 0x1020, 0x2fb9, 0x937a, 0xdc61, 0x1, 0x0);
        gbc.writeMem(0x2580, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xef42);
        EXPECT(gbc.pc(), 0x2582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0066
        gbc.setState(0x19be, 0x7cf7, 0x8d40, 0x6647, 0x8810, 0xa2de, 0x0, 0x1);
        gbc.writeMem(0x19be, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7cf7);
        EXPECT(gbc.pc(), 0x19c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0067
        gbc.setState(0x95cf, 0xeffc, 0x5b50, 0xfaef, 0x142e, 0x630c, 0x0, 0x0);
        gbc.writeMem(0x95cf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xeffc);
        EXPECT(gbc.pc(), 0x95d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95cf), 0xcb);
        EXPECT(gbc.readMem(0x95d0), 0xc5);
        // CB C5 0068
        gbc.setState(0x2df9, 0x16e6, 0x730, 0xc46c, 0xf13a, 0x696d, 0x1, 0x1);
        gbc.writeMem(0x2df9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x16e6);
        EXPECT(gbc.pc(), 0x2dfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0069
        gbc.setState(0xcc80, 0x885e, 0x7730, 0x8228, 0x2dc0, 0x6c5a, 0x1, 0x1);
        gbc.writeMem(0xcc80, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x885e);
        EXPECT(gbc.pc(), 0xcc82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc80), 0xcb);
        EXPECT(gbc.readMem(0xcc81), 0xc5);
        // CB C5 006A
        gbc.setState(0xc174, 0x7c41, 0xaab0, 0x1343, 0x826, 0xbab2, 0x0, 0x0);
        gbc.writeMem(0xc174, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7c41);
        EXPECT(gbc.pc(), 0xc176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc174), 0xcb);
        EXPECT(gbc.readMem(0xc175), 0xc5);
        // CB C5 006B
        gbc.setState(0xb574, 0xb9d5, 0x8100, 0xd87d, 0x4096, 0xc876, 0x0, 0x0);
        gbc.writeMem(0xb574, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb9d5);
        EXPECT(gbc.pc(), 0xb576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb574), 0xcb);
        EXPECT(gbc.readMem(0xb575), 0xc5);
        // CB C5 006C
        gbc.setState(0x618b, 0xe6cf, 0xe850, 0x1c33, 0xe3d5, 0x5dd4, 0x1, 0x0);
        gbc.writeMem(0x618b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe6cf);
        EXPECT(gbc.pc(), 0x618d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 006D
        gbc.setState(0x495b, 0x7a0c, 0x4920, 0x1fe5, 0xbf77, 0xd2b5, 0x1, 0x1);
        gbc.writeMem(0x495b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7a0c);
        EXPECT(gbc.pc(), 0x495d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 006E
        gbc.setState(0x7ae9, 0x3d97, 0x5c00, 0x43e2, 0xf04, 0x548b, 0x0, 0x1);
        gbc.writeMem(0x7ae9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3d97);
        EXPECT(gbc.pc(), 0x7aeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0070
        gbc.setState(0x73f, 0x2421, 0xc880, 0x5c67, 0x3223, 0x81a1, 0x0, 0x0);
        gbc.writeMem(0x73f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2421);
        EXPECT(gbc.pc(), 0x741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0071
        gbc.setState(0x719f, 0x8494, 0xc1b0, 0xb009, 0xf290, 0x7239, 0x0, 0x0);
        gbc.writeMem(0x719f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x8494);
        EXPECT(gbc.pc(), 0x71a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0072
        gbc.setState(0xec52, 0x40db, 0xbc50, 0x63f5, 0xd914, 0xfe8b, 0x1, 0x1);
        gbc.writeMem(0xec52, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x40db);
        EXPECT(gbc.pc(), 0xec54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec52), 0xcb);
        EXPECT(gbc.readMem(0xec53), 0xc5);
        // CB C5 0073
        gbc.setState(0x464, 0xcc01, 0x87d0, 0xd508, 0x6908, 0x3e29, 0x1, 0x0);
        gbc.writeMem(0x464, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xcc01);
        EXPECT(gbc.pc(), 0x466);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0074
        gbc.setState(0xeaad, 0xa7f4, 0xff80, 0x4104, 0x7a06, 0xb587, 0x1, 0x1);
        gbc.writeMem(0xeaad, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa7f4);
        EXPECT(gbc.pc(), 0xeaaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaad), 0xcb);
        EXPECT(gbc.readMem(0xeaae), 0xc5);
        // CB C5 0075
        gbc.setState(0xcb6b, 0xa270, 0x2ff0, 0xf4c5, 0xa6c0, 0xbb77, 0x0, 0x0);
        gbc.writeMem(0xcb6b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa270);
        EXPECT(gbc.pc(), 0xcb6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb6b), 0xcb);
        EXPECT(gbc.readMem(0xcb6c), 0xc5);
        // CB C5 0076
        gbc.setState(0x21d6, 0x2ba8, 0x6fb0, 0x594, 0xb500, 0x6ecd, 0x1, 0x0);
        gbc.writeMem(0x21d6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2ba8);
        EXPECT(gbc.pc(), 0x21d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0077
        gbc.setState(0x47e8, 0xbb52, 0xa6c0, 0x4ca, 0xfee6, 0xea68, 0x1, 0x1);
        gbc.writeMem(0x47e8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xbb52);
        EXPECT(gbc.pc(), 0x47ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0078
        gbc.setState(0xc4c1, 0x9848, 0xeba0, 0x1ea5, 0x66b0, 0xa55b, 0x1, 0x0);
        gbc.writeMem(0xc4c1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9848);
        EXPECT(gbc.pc(), 0xc4c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4c1), 0xcb);
        EXPECT(gbc.readMem(0xc4c2), 0xc5);
        // CB C5 0079
        gbc.setState(0xbbd2, 0x743f, 0x8400, 0x19c8, 0xdc61, 0xb13d, 0x1, 0x1);
        gbc.writeMem(0xbbd2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x743f);
        EXPECT(gbc.pc(), 0xbbd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbd2), 0xcb);
        EXPECT(gbc.readMem(0xbbd3), 0xc5);
        // CB C5 007A
        gbc.setState(0xcea9, 0xe429, 0xbfe0, 0x3933, 0xdcd8, 0x5a9, 0x1, 0x1);
        gbc.writeMem(0xcea9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe429);
        EXPECT(gbc.pc(), 0xceab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcea9), 0xcb);
        EXPECT(gbc.readMem(0xceaa), 0xc5);
        // CB C5 007B
        gbc.setState(0x838, 0xa755, 0x7ad0, 0xf945, 0xbad8, 0x5888, 0x0, 0x1);
        gbc.writeMem(0x838, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xa755);
        EXPECT(gbc.pc(), 0x83a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 007C
        gbc.setState(0xe672, 0xad08, 0xe670, 0x3ed6, 0x8d59, 0x4d63, 0x1, 0x1);
        gbc.writeMem(0xe672, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xad08);
        EXPECT(gbc.pc(), 0xe674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe672), 0xcb);
        EXPECT(gbc.readMem(0xe673), 0xc5);
        // CB C5 007D
        gbc.setState(0xd201, 0xbc8b, 0xa4b0, 0x1681, 0x62cf, 0x27d7, 0x1, 0x0);
        gbc.writeMem(0xd201, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xbc8b);
        EXPECT(gbc.pc(), 0xd203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd201), 0xcb);
        EXPECT(gbc.readMem(0xd202), 0xc5);
        // CB C5 007E
        gbc.setState(0xae9c, 0x91f6, 0xdf00, 0xa71b, 0x4a0, 0xe3f6, 0x0, 0x1);
        gbc.writeMem(0xae9c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x91f6);
        EXPECT(gbc.pc(), 0xae9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae9c), 0xcb);
        EXPECT(gbc.readMem(0xae9d), 0xc5);
        // CB C5 007F
        gbc.setState(0x8fb0, 0x1a46, 0x3520, 0x678e, 0xd9a8, 0xe119, 0x1, 0x1);
        gbc.writeMem(0x8fb0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1a46);
        EXPECT(gbc.pc(), 0x8fb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fb0), 0xcb);
        EXPECT(gbc.readMem(0x8fb1), 0xc5);
        // CB C5 0080
        gbc.setState(0x4425, 0x543e, 0x2840, 0xf105, 0x6b13, 0xb834, 0x1, 0x1);
        gbc.writeMem(0x4425, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x543e);
        EXPECT(gbc.pc(), 0x4427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0081
        gbc.setState(0x2960, 0xb828, 0xf900, 0xe701, 0x74e4, 0xd777, 0x0, 0x0);
        gbc.writeMem(0x2960, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb828);
        EXPECT(gbc.pc(), 0x2962);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0083
        gbc.setState(0x6101, 0xc9aa, 0xf070, 0xd25f, 0x57e2, 0xd107, 0x1, 0x0);
        gbc.writeMem(0x6101, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc9aa);
        EXPECT(gbc.pc(), 0x6103);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0084
        gbc.setState(0xd8da, 0x90f8, 0x4f0, 0xfcaf, 0x54c6, 0x66b7, 0x0, 0x1);
        gbc.writeMem(0xd8da, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x90f8);
        EXPECT(gbc.pc(), 0xd8dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8da), 0xcb);
        EXPECT(gbc.readMem(0xd8db), 0xc5);
        // CB C5 0085
        gbc.setState(0x18d7, 0x9f89, 0x3100, 0xa20c, 0xdac4, 0x8294, 0x0, 0x0);
        gbc.writeMem(0x18d7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x9f89);
        EXPECT(gbc.pc(), 0x18d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0086
        gbc.setState(0x45d5, 0xc9b8, 0xcf70, 0xdb78, 0xca05, 0x74b, 0x0, 0x1);
        gbc.writeMem(0x45d5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc9b8);
        EXPECT(gbc.pc(), 0x45d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0087
        gbc.setState(0x2a5d, 0xcfa9, 0xb700, 0xbd94, 0x723a, 0x4d4e, 0x1, 0x0);
        gbc.writeMem(0x2a5d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xcfa9);
        EXPECT(gbc.pc(), 0x2a5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0088
        gbc.setState(0xcf96, 0xd1c3, 0x10f0, 0x332c, 0xd196, 0xd5a8, 0x1, 0x0);
        gbc.writeMem(0xcf96, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xd1c3);
        EXPECT(gbc.pc(), 0xcf98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf96), 0xcb);
        EXPECT(gbc.readMem(0xcf97), 0xc5);
        // CB C5 0089
        gbc.setState(0x80db, 0x8910, 0x4440, 0xa2ce, 0x3864, 0xacd1, 0x0, 0x1);
        gbc.writeMem(0x80db, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8910);
        EXPECT(gbc.pc(), 0x80dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80db), 0xcb);
        EXPECT(gbc.readMem(0x80dc), 0xc5);
        // CB C5 008A
        gbc.setState(0x5a18, 0x5ee2, 0x1450, 0x275a, 0xd58a, 0x6cba, 0x1, 0x1);
        gbc.writeMem(0x5a18, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5ee2);
        EXPECT(gbc.pc(), 0x5a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 008B
        gbc.setState(0x78f0, 0xb722, 0xdcb0, 0x47f3, 0x92fc, 0xe94b, 0x0, 0x0);
        gbc.writeMem(0x78f0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb722);
        EXPECT(gbc.pc(), 0x78f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 008C
        gbc.setState(0x7730, 0x7c8a, 0x8850, 0x1521, 0x8ba7, 0x7586, 0x0, 0x0);
        gbc.writeMem(0x7730, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x7c8a);
        EXPECT(gbc.pc(), 0x7732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 008D
        gbc.setState(0x2f41, 0xf59d, 0xb190, 0xb9f5, 0xbcce, 0x3856, 0x1, 0x0);
        gbc.writeMem(0x2f41, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf59d);
        EXPECT(gbc.pc(), 0x2f43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 008E
        gbc.setState(0x8af7, 0x82e4, 0x4a70, 0x4f8b, 0xc100, 0xb51f, 0x1, 0x1);
        gbc.writeMem(0x8af7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x82e4);
        EXPECT(gbc.pc(), 0x8af9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8af7), 0xcb);
        EXPECT(gbc.readMem(0x8af8), 0xc5);
        // CB C5 008F
        gbc.setState(0xe3e4, 0x42ff, 0xefe0, 0x208d, 0x5889, 0x51c1, 0x1, 0x1);
        gbc.writeMem(0xe3e4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x42ff);
        EXPECT(gbc.pc(), 0xe3e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3e4), 0xcb);
        EXPECT(gbc.readMem(0xe3e5), 0xc5);
        // CB C5 0090
        gbc.setState(0x299e, 0xceed, 0x2ad0, 0xac77, 0xd8b2, 0x890a, 0x0, 0x1);
        gbc.writeMem(0x299e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xceed);
        EXPECT(gbc.pc(), 0x29a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0091
        gbc.setState(0xe780, 0x4842, 0x1430, 0x40a6, 0xe64, 0xb452, 0x1, 0x1);
        gbc.writeMem(0xe780, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4842);
        EXPECT(gbc.pc(), 0xe782);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe780), 0xcb);
        EXPECT(gbc.readMem(0xe781), 0xc5);
        // CB C5 0092
        gbc.setState(0x6627, 0xfc01, 0x8e40, 0xbcab, 0x6da6, 0xa8db, 0x1, 0x1);
        gbc.writeMem(0x6627, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xfc01);
        EXPECT(gbc.pc(), 0x6629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0093
        gbc.setState(0xa22d, 0xd0e2, 0x35a0, 0x418f, 0x859e, 0x1ccc, 0x1, 0x0);
        gbc.writeMem(0xa22d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd0e2);
        EXPECT(gbc.pc(), 0xa22f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa22d), 0xcb);
        EXPECT(gbc.readMem(0xa22e), 0xc5);
        // CB C5 0094
        gbc.setState(0x9241, 0x49d2, 0x9c30, 0x648a, 0x60f2, 0x5ead, 0x1, 0x1);
        gbc.writeMem(0x9241, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x49d2);
        EXPECT(gbc.pc(), 0x9243);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9241), 0xcb);
        EXPECT(gbc.readMem(0x9242), 0xc5);
        // CB C5 0095
        gbc.setState(0xe3b4, 0xcdb3, 0xa690, 0xdc7b, 0x71c0, 0x67d7, 0x1, 0x0);
        gbc.writeMem(0xe3b4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xcdb3);
        EXPECT(gbc.pc(), 0xe3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3b4), 0xcb);
        EXPECT(gbc.readMem(0xe3b5), 0xc5);
        // CB C5 0096
        gbc.setState(0x7b63, 0x128e, 0x1e70, 0x48f0, 0xb395, 0x56b6, 0x1, 0x0);
        gbc.writeMem(0x7b63, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x128e);
        EXPECT(gbc.pc(), 0x7b65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0097
        gbc.setState(0x58ce, 0x2255, 0xb2e0, 0x9c05, 0x3b87, 0x5b80, 0x1, 0x1);
        gbc.writeMem(0x58ce, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2255);
        EXPECT(gbc.pc(), 0x58d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0098
        gbc.setState(0x2e62, 0x2684, 0xb7b0, 0xc1f2, 0xb0da, 0x3dd, 0x0, 0x1);
        gbc.writeMem(0x2e62, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2684);
        EXPECT(gbc.pc(), 0x2e64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0099
        gbc.setState(0x8fb0, 0xed4a, 0x9a20, 0x319a, 0xee0f, 0x6c3e, 0x0, 0x0);
        gbc.writeMem(0x8fb0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xed4a);
        EXPECT(gbc.pc(), 0x8fb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fb0), 0xcb);
        EXPECT(gbc.readMem(0x8fb1), 0xc5);
        // CB C5 009A
        gbc.setState(0xcc08, 0xe073, 0x4740, 0x615e, 0x1efc, 0x8ee3, 0x0, 0x1);
        gbc.writeMem(0xcc08, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe073);
        EXPECT(gbc.pc(), 0xcc0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc08), 0xcb);
        EXPECT(gbc.readMem(0xcc09), 0xc5);
        // CB C5 009B
        gbc.setState(0xa74c, 0x2702, 0xb650, 0x3cc7, 0xb14, 0x1d81, 0x0, 0x0);
        gbc.writeMem(0xa74c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2702);
        EXPECT(gbc.pc(), 0xa74e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa74c), 0xcb);
        EXPECT(gbc.readMem(0xa74d), 0xc5);
        // CB C5 009C
        gbc.setState(0x48f6, 0x1e6a, 0xa230, 0x619e, 0x1b20, 0x5eda, 0x1, 0x0);
        gbc.writeMem(0x48f6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1e6a);
        EXPECT(gbc.pc(), 0x48f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 009D
        gbc.setState(0xe6a7, 0xde1, 0xbc80, 0x4263, 0x6b71, 0xb01b, 0x0, 0x1);
        gbc.writeMem(0xe6a7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xde1);
        EXPECT(gbc.pc(), 0xe6a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a7), 0xcb);
        EXPECT(gbc.readMem(0xe6a8), 0xc5);
        // CB C5 009E
        gbc.setState(0x1c3a, 0xda8c, 0xc870, 0x666f, 0x2cc3, 0x3ff7, 0x1, 0x0);
        gbc.writeMem(0x1c3a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xda8c);
        EXPECT(gbc.pc(), 0x1c3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 009F
        gbc.setState(0xbd10, 0x548d, 0x2010, 0xfc54, 0x8121, 0x9223, 0x0, 0x0);
        gbc.writeMem(0xbd10, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x548d);
        EXPECT(gbc.pc(), 0xbd12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd10), 0xcb);
        EXPECT(gbc.readMem(0xbd11), 0xc5);
        // CB C5 00A0
        gbc.setState(0xe3f7, 0xd439, 0xb1f0, 0xff05, 0x3bce, 0x123b, 0x0, 0x0);
        gbc.writeMem(0xe3f7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd439);
        EXPECT(gbc.pc(), 0xe3f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3f7), 0xcb);
        EXPECT(gbc.readMem(0xe3f8), 0xc5);
        // CB C5 00A1
        gbc.setState(0x7979, 0x42dd, 0x8800, 0xc968, 0x68d3, 0x3dc7, 0x0, 0x1);
        gbc.writeMem(0x7979, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x42dd);
        EXPECT(gbc.pc(), 0x797b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00A2
        gbc.setState(0x6b44, 0x18ca, 0x800, 0xbf5d, 0x10c6, 0xd13, 0x1, 0x0);
        gbc.writeMem(0x6b44, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x18ca);
        EXPECT(gbc.pc(), 0x6b46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00A3
        gbc.setState(0xcd76, 0xbe4b, 0xf3f0, 0xeb94, 0x3533, 0x259, 0x0, 0x1);
        gbc.writeMem(0xcd76, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xbe4b);
        EXPECT(gbc.pc(), 0xcd78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd76), 0xcb);
        EXPECT(gbc.readMem(0xcd77), 0xc5);
        // CB C5 00A4
        gbc.setState(0x2a15, 0x31f1, 0x8e80, 0x7c7e, 0xb40e, 0xd252, 0x1, 0x1);
        gbc.writeMem(0x2a15, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x31f1);
        EXPECT(gbc.pc(), 0x2a17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00A5
        gbc.setState(0x4801, 0x500f, 0x7220, 0x8744, 0xf2d7, 0xfd53, 0x1, 0x0);
        gbc.writeMem(0x4801, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x500f);
        EXPECT(gbc.pc(), 0x4803);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00A6
        gbc.setState(0xc6f2, 0x90fe, 0x450, 0xa964, 0xc753, 0xf6e8, 0x0, 0x1);
        gbc.writeMem(0xc6f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x90fe);
        EXPECT(gbc.pc(), 0xc6f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6f2), 0xcb);
        EXPECT(gbc.readMem(0xc6f3), 0xc5);
        // CB C5 00A7
        gbc.setState(0x9d37, 0xb203, 0xe600, 0xc1e3, 0x95c8, 0x5099, 0x1, 0x0);
        gbc.writeMem(0x9d37, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb203);
        EXPECT(gbc.pc(), 0x9d39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d37), 0xcb);
        EXPECT(gbc.readMem(0x9d38), 0xc5);
        // CB C5 00A9
        gbc.setState(0x7998, 0x30, 0xa870, 0x81eb, 0x7f7f, 0x448b, 0x0, 0x0);
        gbc.writeMem(0x7998, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x30);
        EXPECT(gbc.pc(), 0x799a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00AA
        gbc.setState(0x1839, 0x3dfe, 0xbad0, 0xf06e, 0x1e3d, 0xfc84, 0x1, 0x1);
        gbc.writeMem(0x1839, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x3dfe);
        EXPECT(gbc.pc(), 0x183b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00AB
        gbc.setState(0x7594, 0x7a23, 0xab50, 0x4f40, 0x1314, 0x407e, 0x1, 0x1);
        gbc.writeMem(0x7594, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7a23);
        EXPECT(gbc.pc(), 0x7596);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00AC
        gbc.setState(0x72f0, 0x23e9, 0xb410, 0x57, 0x45e9, 0x6fe1, 0x1, 0x1);
        gbc.writeMem(0x72f0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x23e9);
        EXPECT(gbc.pc(), 0x72f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00AD
        gbc.setState(0x9e7a, 0x503, 0x2f30, 0xfca1, 0xebab, 0x36b, 0x0, 0x0);
        gbc.writeMem(0x9e7a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x503);
        EXPECT(gbc.pc(), 0x9e7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e7a), 0xcb);
        EXPECT(gbc.readMem(0x9e7b), 0xc5);
        // CB C5 00AE
        gbc.setState(0x524a, 0xb8f1, 0x9fb0, 0xd68a, 0x6916, 0x4169, 0x0, 0x1);
        gbc.writeMem(0x524a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb8f1);
        EXPECT(gbc.pc(), 0x524c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00AF
        gbc.setState(0xe73f, 0xeac8, 0x6770, 0x60ea, 0xcb9d, 0xb666, 0x1, 0x0);
        gbc.writeMem(0xe73f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xeac8);
        EXPECT(gbc.pc(), 0xe741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe73f), 0xcb);
        EXPECT(gbc.readMem(0xe740), 0xc5);
        // CB C5 00B0
        gbc.setState(0x4ea, 0x8803, 0x9fa0, 0x2a83, 0x2f41, 0xe19d, 0x0, 0x0);
        gbc.writeMem(0x4ea, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x8803);
        EXPECT(gbc.pc(), 0x4ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00B1
        gbc.setState(0x5aec, 0x5da7, 0xe360, 0x49c2, 0x1247, 0x6110, 0x0, 0x0);
        gbc.writeMem(0x5aec, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5da7);
        EXPECT(gbc.pc(), 0x5aee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00B2
        gbc.setState(0xded5, 0xb2fb, 0x89f0, 0xbde5, 0xac44, 0x56e4, 0x0, 0x0);
        gbc.writeMem(0xded5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb2fb);
        EXPECT(gbc.pc(), 0xded7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xded5), 0xcb);
        EXPECT(gbc.readMem(0xded6), 0xc5);
        // CB C5 00B3
        gbc.setState(0x1a92, 0x33c5, 0xc980, 0x7fa4, 0x618e, 0x5760, 0x1, 0x1);
        gbc.writeMem(0x1a92, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x33c5);
        EXPECT(gbc.pc(), 0x1a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00B4
        gbc.setState(0xceca, 0xe11b, 0xaf20, 0x77b3, 0x5d28, 0x6d45, 0x1, 0x0);
        gbc.writeMem(0xceca, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe11b);
        EXPECT(gbc.pc(), 0xcecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceca), 0xcb);
        EXPECT(gbc.readMem(0xcecb), 0xc5);
        // CB C5 00B5
        gbc.setState(0x70f6, 0x7b11, 0x39e0, 0xe975, 0x4700, 0x3610, 0x0, 0x1);
        gbc.writeMem(0x70f6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7b11);
        EXPECT(gbc.pc(), 0x70f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00B6
        gbc.setState(0x7cc6, 0xd554, 0xefb0, 0xd12c, 0x2723, 0xc098, 0x1, 0x0);
        gbc.writeMem(0x7cc6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd554);
        EXPECT(gbc.pc(), 0x7cc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00B7
        gbc.setState(0xce9a, 0xdf8, 0x3da0, 0x7da9, 0x2bf7, 0x3405, 0x0, 0x0);
        gbc.writeMem(0xce9a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xdf8);
        EXPECT(gbc.pc(), 0xce9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce9a), 0xcb);
        EXPECT(gbc.readMem(0xce9b), 0xc5);
        // CB C5 00B8
        gbc.setState(0x9a0d, 0x73dd, 0x6850, 0xcc49, 0xeba5, 0xc1bc, 0x1, 0x1);
        gbc.writeMem(0x9a0d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x73dd);
        EXPECT(gbc.pc(), 0x9a0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a0d), 0xcb);
        EXPECT(gbc.readMem(0x9a0e), 0xc5);
        // CB C5 00B9
        gbc.setState(0x7698, 0x3b4, 0x1ad0, 0xfd56, 0x2cd, 0x3fee, 0x0, 0x0);
        gbc.writeMem(0x7698, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3b4);
        EXPECT(gbc.pc(), 0x769a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00BA
        gbc.setState(0xa17f, 0x50e0, 0x80b0, 0x9735, 0x7734, 0xe0fb, 0x1, 0x1);
        gbc.writeMem(0xa17f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x50e0);
        EXPECT(gbc.pc(), 0xa181);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa17f), 0xcb);
        EXPECT(gbc.readMem(0xa180), 0xc5);
        // CB C5 00BB
        gbc.setState(0x2314, 0x51a2, 0x4e40, 0x1ffb, 0x6, 0xcc7b, 0x1, 0x0);
        gbc.writeMem(0x2314, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x51a2);
        EXPECT(gbc.pc(), 0x2316);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00BC
        gbc.setState(0xa736, 0xa20d, 0x5af0, 0xf11c, 0xa8c6, 0xdbf2, 0x0, 0x1);
        gbc.writeMem(0xa736, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa20d);
        EXPECT(gbc.pc(), 0xa738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa736), 0xcb);
        EXPECT(gbc.readMem(0xa737), 0xc5);
        // CB C5 00BD
        gbc.setState(0x658, 0xd24b, 0x1fb0, 0x7db3, 0x5762, 0x381c, 0x1, 0x1);
        gbc.writeMem(0x658, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd24b);
        EXPECT(gbc.pc(), 0x65a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00BE
        gbc.setState(0xc9fe, 0x3fd8, 0xbdd0, 0x9c8, 0x72b9, 0x57b, 0x0, 0x0);
        gbc.writeMem(0xc9fe, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x3fd8);
        EXPECT(gbc.pc(), 0xca00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9fe), 0xcb);
        EXPECT(gbc.readMem(0xc9ff), 0xc5);
        // CB C5 00BF
        gbc.setState(0xa278, 0xec6d, 0x4840, 0xd7ae, 0xb908, 0x1d3a, 0x1, 0x1);
        gbc.writeMem(0xa278, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xec6d);
        EXPECT(gbc.pc(), 0xa27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa278), 0xcb);
        EXPECT(gbc.readMem(0xa279), 0xc5);
        // CB C5 00C0
        gbc.setState(0x7a28, 0xe5ec, 0x9f50, 0xdc38, 0xd93d, 0x493f, 0x1, 0x1);
        gbc.writeMem(0x7a28, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe5ec);
        EXPECT(gbc.pc(), 0x7a2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00C1
        gbc.setState(0x6be1, 0x6f2d, 0x7250, 0x120, 0x4f51, 0x7f, 0x1, 0x1);
        gbc.writeMem(0x6be1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6f2d);
        EXPECT(gbc.pc(), 0x6be3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00C2
        gbc.setState(0xe95e, 0x8809, 0xdd80, 0x6807, 0x3f61, 0xe51, 0x0, 0x0);
        gbc.writeMem(0xe95e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8809);
        EXPECT(gbc.pc(), 0xe960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe95e), 0xcb);
        EXPECT(gbc.readMem(0xe95f), 0xc5);
        // CB C5 00C3
        gbc.setState(0x6086, 0x9ced, 0xee60, 0xa962, 0x3b49, 0xe0fb, 0x1, 0x1);
        gbc.writeMem(0x6086, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9ced);
        EXPECT(gbc.pc(), 0x6088);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00C4
        gbc.setState(0x483, 0x5926, 0x5880, 0x610b, 0x2cbe, 0x3299, 0x1, 0x0);
        gbc.writeMem(0x483, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5926);
        EXPECT(gbc.pc(), 0x485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00C5
        gbc.setState(0x27ea, 0x649b, 0x2420, 0x9aa8, 0x1f89, 0xeb08, 0x1, 0x1);
        gbc.writeMem(0x27ea, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x649b);
        EXPECT(gbc.pc(), 0x27ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00C6
        gbc.setState(0x892, 0x7adb, 0x87f0, 0xaf88, 0x3e28, 0x3dae, 0x1, 0x1);
        gbc.writeMem(0x892, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x7adb);
        EXPECT(gbc.pc(), 0x894);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00C7
        gbc.setState(0x5e12, 0xcf10, 0xd8c0, 0xea23, 0x6aef, 0xd694, 0x1, 0x0);
        gbc.writeMem(0x5e12, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xcf10);
        EXPECT(gbc.pc(), 0x5e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00C8
        gbc.setState(0x9313, 0xa6f, 0x3880, 0x49f6, 0xc82d, 0x40ee, 0x1, 0x0);
        gbc.writeMem(0x9313, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa6f);
        EXPECT(gbc.pc(), 0x9315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9313), 0xcb);
        EXPECT(gbc.readMem(0x9314), 0xc5);
        // CB C5 00C9
        gbc.setState(0xa2d7, 0xd3c0, 0xeae0, 0x5121, 0x53b4, 0xc72a, 0x1, 0x0);
        gbc.writeMem(0xa2d7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd3c0);
        EXPECT(gbc.pc(), 0xa2d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2d7), 0xcb);
        EXPECT(gbc.readMem(0xa2d8), 0xc5);
        // CB C5 00CA
        gbc.setState(0xea95, 0x4657, 0x3aa0, 0xf566, 0x88, 0xd7e2, 0x1, 0x1);
        gbc.writeMem(0xea95, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4657);
        EXPECT(gbc.pc(), 0xea97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea95), 0xcb);
        EXPECT(gbc.readMem(0xea96), 0xc5);
        // CB C5 00CB
        gbc.setState(0x8a35, 0xe59a, 0x1ca0, 0xcf89, 0x2c19, 0xdf45, 0x0, 0x0);
        gbc.writeMem(0x8a35, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe59a);
        EXPECT(gbc.pc(), 0x8a37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a35), 0xcb);
        EXPECT(gbc.readMem(0x8a36), 0xc5);
        // CB C5 00CC
        gbc.setState(0x4d9f, 0x81, 0xfc60, 0x1b5f, 0x57db, 0x6290, 0x0, 0x1);
        gbc.writeMem(0x4d9f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x81);
        EXPECT(gbc.pc(), 0x4da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00CD
        gbc.setState(0x357a, 0xbbe7, 0x7ac0, 0xf55c, 0xc563, 0x4a06, 0x1, 0x0);
        gbc.writeMem(0x357a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xbbe7);
        EXPECT(gbc.pc(), 0x357c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00CE
        gbc.setState(0x4867, 0x5e48, 0xc150, 0x701b, 0xfb3f, 0x3beb, 0x0, 0x1);
        gbc.writeMem(0x4867, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x5e48);
        EXPECT(gbc.pc(), 0x4869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00CF
        gbc.setState(0x8076, 0x7b17, 0x4530, 0xd63c, 0xc963, 0x51aa, 0x0, 0x0);
        gbc.writeMem(0x8076, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7b17);
        EXPECT(gbc.pc(), 0x8078);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8076), 0xcb);
        EXPECT(gbc.readMem(0x8077), 0xc5);
        // CB C5 00D0
        gbc.setState(0x2f85, 0x93d6, 0x7720, 0xe941, 0x3143, 0x78fb, 0x1, 0x0);
        gbc.writeMem(0x2f85, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x93d6);
        EXPECT(gbc.pc(), 0x2f87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00D1
        gbc.setState(0x39e, 0x53ca, 0x5110, 0x2a5b, 0x791b, 0xa0c8, 0x1, 0x1);
        gbc.writeMem(0x39e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x53ca);
        EXPECT(gbc.pc(), 0x3a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00D2
        gbc.setState(0xe89f, 0x156f, 0x2690, 0x3112, 0x9892, 0xea04, 0x0, 0x1);
        gbc.writeMem(0xe89f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x156f);
        EXPECT(gbc.pc(), 0xe8a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe89f), 0xcb);
        EXPECT(gbc.readMem(0xe8a0), 0xc5);
        // CB C5 00D3
        gbc.setState(0x747d, 0xe27c, 0x2210, 0xebda, 0x6261, 0x95be, 0x0, 0x0);
        gbc.writeMem(0x747d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xe27c);
        EXPECT(gbc.pc(), 0x747f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00D4
        gbc.setState(0x392d, 0x9e5f, 0xf3b0, 0xb62e, 0xe917, 0xcdb9, 0x0, 0x0);
        gbc.writeMem(0x392d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9e5f);
        EXPECT(gbc.pc(), 0x392f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00D5
        gbc.setState(0x1a26, 0xf505, 0x7c00, 0xd359, 0x48fa, 0xe121, 0x0, 0x0);
        gbc.writeMem(0x1a26, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf505);
        EXPECT(gbc.pc(), 0x1a28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00D6
        gbc.setState(0x8b33, 0x5c8e, 0x8210, 0xd6d2, 0xcfbb, 0xf14b, 0x0, 0x1);
        gbc.writeMem(0x8b33, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5c8e);
        EXPECT(gbc.pc(), 0x8b35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b33), 0xcb);
        EXPECT(gbc.readMem(0x8b34), 0xc5);
        // CB C5 00D7
        gbc.setState(0x1116, 0x50fa, 0x2570, 0x5665, 0xfd94, 0xe197, 0x0, 0x1);
        gbc.writeMem(0x1116, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x50fa);
        EXPECT(gbc.pc(), 0x1118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00D8
        gbc.setState(0x8cb2, 0x25df, 0x52f0, 0x6980, 0x70ff, 0x4174, 0x1, 0x0);
        gbc.writeMem(0x8cb2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x25df);
        EXPECT(gbc.pc(), 0x8cb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cb2), 0xcb);
        EXPECT(gbc.readMem(0x8cb3), 0xc5);
        // CB C5 00D9
        gbc.setState(0xbcb7, 0x3d69, 0x2ab0, 0xb6cc, 0x7fe9, 0x3a32, 0x0, 0x0);
        gbc.writeMem(0xbcb7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3d69);
        EXPECT(gbc.pc(), 0xbcb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcb7), 0xcb);
        EXPECT(gbc.readMem(0xbcb8), 0xc5);
        // CB C5 00DA
        gbc.setState(0x9438, 0xcd22, 0x4120, 0x1a50, 0x46f2, 0x4456, 0x0, 0x0);
        gbc.writeMem(0x9438, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xcd22);
        EXPECT(gbc.pc(), 0x943a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9438), 0xcb);
        EXPECT(gbc.readMem(0x9439), 0xc5);
        // CB C5 00DB
        gbc.setState(0xe657, 0x3951, 0x1650, 0xb1c1, 0x5e33, 0x6454, 0x0, 0x1);
        gbc.writeMem(0xe657, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3951);
        EXPECT(gbc.pc(), 0xe659);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe657), 0xcb);
        EXPECT(gbc.readMem(0xe658), 0xc5);
        // CB C5 00DC
        gbc.setState(0xa313, 0xaef4, 0xd20, 0x9e5c, 0xd877, 0x276c, 0x0, 0x0);
        gbc.writeMem(0xa313, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xaef4);
        EXPECT(gbc.pc(), 0xa315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa313), 0xcb);
        EXPECT(gbc.readMem(0xa314), 0xc5);
        // CB C5 00DD
        gbc.setState(0xb507, 0x4074, 0x9dd0, 0xf385, 0x4598, 0x239f, 0x1, 0x1);
        gbc.writeMem(0xb507, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4074);
        EXPECT(gbc.pc(), 0xb509);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb507), 0xcb);
        EXPECT(gbc.readMem(0xb508), 0xc5);
        // CB C5 00DE
        gbc.setState(0x94e3, 0x91f3, 0x7490, 0xab31, 0xc53f, 0x480e, 0x0, 0x1);
        gbc.writeMem(0x94e3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x91f3);
        EXPECT(gbc.pc(), 0x94e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94e3), 0xcb);
        EXPECT(gbc.readMem(0x94e4), 0xc5);
        // CB C5 00DF
        gbc.setState(0xb5f2, 0xb7a2, 0xcce0, 0xe9df, 0x3a50, 0xf8d2, 0x1, 0x0);
        gbc.writeMem(0xb5f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xb7a2);
        EXPECT(gbc.pc(), 0xb5f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5f2), 0xcb);
        EXPECT(gbc.readMem(0xb5f3), 0xc5);
        // CB C5 00E0
        gbc.setState(0x6dc9, 0xee30, 0x9d0, 0xf7c, 0x15b9, 0x9950, 0x1, 0x0);
        gbc.writeMem(0x6dc9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xee30);
        EXPECT(gbc.pc(), 0x6dcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00E1
        gbc.setState(0x3314, 0xd9b6, 0xcbd0, 0xd72a, 0x8dd0, 0x6a1c, 0x0, 0x0);
        gbc.writeMem(0x3314, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd9b6);
        EXPECT(gbc.pc(), 0x3316);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00E2
        gbc.setState(0xd4ec, 0xe479, 0x64c0, 0xd558, 0x9a2b, 0x6342, 0x0, 0x1);
        gbc.writeMem(0xd4ec, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe479);
        EXPECT(gbc.pc(), 0xd4ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4ec), 0xcb);
        EXPECT(gbc.readMem(0xd4ed), 0xc5);
        // CB C5 00E3
        gbc.setState(0x1cc8, 0x7fa3, 0x72a0, 0x9f98, 0x7bcb, 0x1ea5, 0x1, 0x0);
        gbc.writeMem(0x1cc8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7fa3);
        EXPECT(gbc.pc(), 0x1cca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00E4
        gbc.setState(0xc1df, 0x2f50, 0xa1d0, 0x7d6b, 0x4d1c, 0x620, 0x0, 0x1);
        gbc.writeMem(0xc1df, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x2f50);
        EXPECT(gbc.pc(), 0xc1e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1df), 0xcb);
        EXPECT(gbc.readMem(0xc1e0), 0xc5);
        // CB C5 00E5
        gbc.setState(0x56b5, 0xf223, 0x22c0, 0x884, 0xea07, 0x908f, 0x1, 0x0);
        gbc.writeMem(0x56b5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf223);
        EXPECT(gbc.pc(), 0x56b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00E6
        gbc.setState(0x5f2a, 0xb1a6, 0x7ff0, 0x35ac, 0x277f, 0xb999, 0x0, 0x0);
        gbc.writeMem(0x5f2a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb1a6);
        EXPECT(gbc.pc(), 0x5f2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00E7
        gbc.setState(0x2c4c, 0x58ac, 0x4b40, 0xaf68, 0xc3e6, 0x5c62, 0x0, 0x1);
        gbc.writeMem(0x2c4c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x58ac);
        EXPECT(gbc.pc(), 0x2c4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00E8
        gbc.setState(0x1e9, 0xe076, 0x27a0, 0xa623, 0x4581, 0xb515, 0x1, 0x0);
        gbc.writeMem(0x1e9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe076);
        EXPECT(gbc.pc(), 0x1eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00E9
        gbc.setState(0xd0f9, 0x62b7, 0x3af0, 0xc7e1, 0x5956, 0xa07, 0x1, 0x0);
        gbc.writeMem(0xd0f9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x62b7);
        EXPECT(gbc.pc(), 0xd0fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0f9), 0xcb);
        EXPECT(gbc.readMem(0xd0fa), 0xc5);
        // CB C5 00EA
        gbc.setState(0xb199, 0xf661, 0x9ed0, 0x6c3, 0x46bd, 0xcc6, 0x0, 0x1);
        gbc.writeMem(0xb199, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf661);
        EXPECT(gbc.pc(), 0xb19b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb199), 0xcb);
        EXPECT(gbc.readMem(0xb19a), 0xc5);
        // CB C5 00EB
        gbc.setState(0x1b06, 0xe0c5, 0x9b80, 0x13bf, 0xef57, 0x3a1f, 0x0, 0x0);
        gbc.writeMem(0x1b06, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe0c5);
        EXPECT(gbc.pc(), 0x1b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00EC
        gbc.setState(0x2407, 0x717, 0x5220, 0xc02a, 0xa2ab, 0xf1cc, 0x1, 0x1);
        gbc.writeMem(0x2407, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x717);
        EXPECT(gbc.pc(), 0x2409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00ED
        gbc.setState(0x7b83, 0x2811, 0xf700, 0x7181, 0x5e3b, 0xf3a2, 0x0, 0x1);
        gbc.writeMem(0x7b83, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x2811);
        EXPECT(gbc.pc(), 0x7b85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00EE
        gbc.setState(0x5ac1, 0x6736, 0xb5a0, 0xc700, 0x289, 0x3027, 0x1, 0x1);
        gbc.writeMem(0x5ac1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x6736);
        EXPECT(gbc.pc(), 0x5ac3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00EF
        gbc.setState(0xb7e6, 0xcd30, 0x9830, 0xa311, 0x64fa, 0xe223, 0x1, 0x1);
        gbc.writeMem(0xb7e6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xcd30);
        EXPECT(gbc.pc(), 0xb7e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7e6), 0xcb);
        EXPECT(gbc.readMem(0xb7e7), 0xc5);
        // CB C5 00F0
        gbc.setState(0x6b9b, 0x2d9d, 0x12e0, 0xc49a, 0xc41b, 0xdda4, 0x1, 0x0);
        gbc.writeMem(0x6b9b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2d9d);
        EXPECT(gbc.pc(), 0x6b9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 00F1
        gbc.setState(0x1c77, 0x839d, 0x6790, 0x31aa, 0xc580, 0xd2c2, 0x0, 0x0);
        gbc.writeMem(0x1c77, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x839d);
        EXPECT(gbc.pc(), 0x1c79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00F2
        gbc.setState(0xd739, 0xe77e, 0x1810, 0xbcad, 0xc06a, 0xd0c, 0x1, 0x1);
        gbc.writeMem(0xd739, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe77e);
        EXPECT(gbc.pc(), 0xd73b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd739), 0xcb);
        EXPECT(gbc.readMem(0xd73a), 0xc5);
        // CB C5 00F3
        gbc.setState(0x9950, 0x9b9c, 0x8370, 0xea86, 0x21b0, 0x529, 0x1, 0x0);
        gbc.writeMem(0x9950, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9b9c);
        EXPECT(gbc.pc(), 0x9952);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9950), 0xcb);
        EXPECT(gbc.readMem(0x9951), 0xc5);
        // CB C5 00F4
        gbc.setState(0xb2e, 0x3636, 0xa210, 0x4873, 0xb5b7, 0x7455, 0x0, 0x1);
        gbc.writeMem(0xb2e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3636);
        EXPECT(gbc.pc(), 0xb30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00F5
        gbc.setState(0xe9c4, 0x9d02, 0xcd00, 0xa07d, 0xb6ff, 0x1681, 0x0, 0x0);
        gbc.writeMem(0xe9c4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9d02);
        EXPECT(gbc.pc(), 0xe9c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9c4), 0xcb);
        EXPECT(gbc.readMem(0xe9c5), 0xc5);
        // CB C5 00F6
        gbc.setState(0x93a8, 0x9803, 0x48a0, 0xd4de, 0xfd7a, 0x4828, 0x1, 0x1);
        gbc.writeMem(0x93a8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9803);
        EXPECT(gbc.pc(), 0x93aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93a8), 0xcb);
        EXPECT(gbc.readMem(0x93a9), 0xc5);
        // CB C5 00F7
        gbc.setState(0xddd1, 0xd902, 0xb460, 0x5227, 0xbf7a, 0xd063, 0x0, 0x1);
        gbc.writeMem(0xddd1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd902);
        EXPECT(gbc.pc(), 0xddd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd1), 0xcb);
        EXPECT(gbc.readMem(0xddd2), 0xc5);
        // CB C5 00F8
        gbc.setState(0xc675, 0x439b, 0xc00, 0x1b57, 0x4235, 0x73d3, 0x1, 0x1);
        gbc.writeMem(0xc675, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x439b);
        EXPECT(gbc.pc(), 0xc677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc675), 0xcb);
        EXPECT(gbc.readMem(0xc676), 0xc5);
        // CB C5 00F9
        gbc.setState(0x1ca9, 0x62bd, 0xe4d0, 0xd6e8, 0x62a6, 0xedc7, 0x1, 0x1);
        gbc.writeMem(0x1ca9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x62bd);
        EXPECT(gbc.pc(), 0x1cab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00FA
        gbc.setState(0xb6e4, 0x931, 0x4790, 0x4f91, 0x8eeb, 0xbe72, 0x0, 0x1);
        gbc.writeMem(0xb6e4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x931);
        EXPECT(gbc.pc(), 0xb6e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6e4), 0xcb);
        EXPECT(gbc.readMem(0xb6e5), 0xc5);
        // CB C5 00FC
        gbc.setState(0xc481, 0x5676, 0x2f90, 0x7049, 0x351b, 0x558f, 0x1, 0x0);
        gbc.writeMem(0xc481, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5676);
        EXPECT(gbc.pc(), 0xc483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc481), 0xcb);
        EXPECT(gbc.readMem(0xc482), 0xc5);
        // CB C5 00FD
        gbc.setState(0x2da8, 0x6946, 0x1270, 0x9c5f, 0xda36, 0x3ca5, 0x1, 0x0);
        gbc.writeMem(0x2da8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x6946);
        EXPECT(gbc.pc(), 0x2daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 00FE
        gbc.setState(0x960e, 0xd031, 0xe3e0, 0x5e4d, 0xed0c, 0x91ef, 0x0, 0x1);
        gbc.writeMem(0x960e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd031);
        EXPECT(gbc.pc(), 0x9610);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x960e), 0xcb);
        EXPECT(gbc.readMem(0x960f), 0xc5);
        // CB C5 00FF
        gbc.setState(0xea0e, 0xce12, 0x71a0, 0x6067, 0xfb21, 0x4fa4, 0x1, 0x0);
        gbc.writeMem(0xea0e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xce12);
        EXPECT(gbc.pc(), 0xea10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea0e), 0xcb);
        EXPECT(gbc.readMem(0xea0f), 0xc5);
        // CB C5 0100
        gbc.setState(0xdf68, 0x45b2, 0x86c0, 0xf63f, 0xbe08, 0xd289, 0x1, 0x1);
        gbc.writeMem(0xdf68, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x45b2);
        EXPECT(gbc.pc(), 0xdf6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf68), 0xcb);
        EXPECT(gbc.readMem(0xdf69), 0xc5);
        // CB C5 0102
        gbc.setState(0x40b8, 0x6215, 0xac10, 0xe577, 0xb5e0, 0x24b8, 0x0, 0x0);
        gbc.writeMem(0x40b8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6215);
        EXPECT(gbc.pc(), 0x40ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0103
        gbc.setState(0x3bca, 0xa13d, 0x9c0, 0xa886, 0x38f, 0xb574, 0x1, 0x0);
        gbc.writeMem(0x3bca, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa13d);
        EXPECT(gbc.pc(), 0x3bcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0104
        gbc.setState(0x9597, 0x1dc9, 0x6300, 0xe2ed, 0x2ae5, 0xd26e, 0x1, 0x1);
        gbc.writeMem(0x9597, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1dc9);
        EXPECT(gbc.pc(), 0x9599);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9597), 0xcb);
        EXPECT(gbc.readMem(0x9598), 0xc5);
        // CB C5 0105
        gbc.setState(0x10b6, 0x155c, 0xfc70, 0xbee6, 0xa874, 0x2e40, 0x1, 0x0);
        gbc.writeMem(0x10b6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x155c);
        EXPECT(gbc.pc(), 0x10b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0106
        gbc.setState(0x2cd4, 0xef19, 0x6bb0, 0x99f5, 0xd2df, 0x8af2, 0x0, 0x0);
        gbc.writeMem(0x2cd4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xef19);
        EXPECT(gbc.pc(), 0x2cd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0107
        gbc.setState(0x8fde, 0x4404, 0xc170, 0x111b, 0x16e7, 0x3088, 0x0, 0x0);
        gbc.writeMem(0x8fde, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4404);
        EXPECT(gbc.pc(), 0x8fe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fde), 0xcb);
        EXPECT(gbc.readMem(0x8fdf), 0xc5);
        // CB C5 0108
        gbc.setState(0x59d4, 0xe350, 0xc720, 0x7a01, 0xae38, 0x60d3, 0x1, 0x0);
        gbc.writeMem(0x59d4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xe350);
        EXPECT(gbc.pc(), 0x59d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0109
        gbc.setState(0xa035, 0xc900, 0xa380, 0x4809, 0xa4cb, 0x1e31, 0x0, 0x1);
        gbc.writeMem(0xa035, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc900);
        EXPECT(gbc.pc(), 0xa037);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa035), 0xcb);
        EXPECT(gbc.readMem(0xa036), 0xc5);
        // CB C5 010A
        gbc.setState(0x820d, 0x4a44, 0x22f0, 0xf06d, 0x614f, 0x91d8, 0x1, 0x1);
        gbc.writeMem(0x820d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4a44);
        EXPECT(gbc.pc(), 0x820f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x820d), 0xcb);
        EXPECT(gbc.readMem(0x820e), 0xc5);
        // CB C5 010B
        gbc.setState(0xb375, 0xaa0f, 0xf140, 0x9bfc, 0x7fc3, 0x732b, 0x0, 0x0);
        gbc.writeMem(0xb375, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xaa0f);
        EXPECT(gbc.pc(), 0xb377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb375), 0xcb);
        EXPECT(gbc.readMem(0xb376), 0xc5);
        // CB C5 010C
        gbc.setState(0x4817, 0xde29, 0xbd20, 0x54af, 0xcf3b, 0x1126, 0x1, 0x1);
        gbc.writeMem(0x4817, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xde29);
        EXPECT(gbc.pc(), 0x4819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 010E
        gbc.setState(0x2c93, 0x958e, 0xef80, 0x65f, 0xd058, 0x337, 0x1, 0x1);
        gbc.writeMem(0x2c93, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x958e);
        EXPECT(gbc.pc(), 0x2c95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 010F
        gbc.setState(0xad0, 0x1f7d, 0xdc70, 0x9af0, 0x4d91, 0x27c6, 0x0, 0x1);
        gbc.writeMem(0xad0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1f7d);
        EXPECT(gbc.pc(), 0xad2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0110
        gbc.setState(0x44e1, 0x5d48, 0xe060, 0x1b45, 0x8c03, 0x6528, 0x0, 0x0);
        gbc.writeMem(0x44e1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x5d48);
        EXPECT(gbc.pc(), 0x44e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0111
        gbc.setState(0x6bf0, 0xd5b4, 0xcf30, 0x9564, 0x7c5, 0x718b, 0x0, 0x0);
        gbc.writeMem(0x6bf0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xd5b4);
        EXPECT(gbc.pc(), 0x6bf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0112
        gbc.setState(0x8ec0, 0xa40c, 0x11c0, 0x8760, 0x2d4e, 0xc0f, 0x0, 0x1);
        gbc.writeMem(0x8ec0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa40c);
        EXPECT(gbc.pc(), 0x8ec2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ec0), 0xcb);
        EXPECT(gbc.readMem(0x8ec1), 0xc5);
        // CB C5 0113
        gbc.setState(0x6332, 0x7cf5, 0x6b80, 0xc781, 0x5ee7, 0x2d55, 0x1, 0x1);
        gbc.writeMem(0x6332, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7cf5);
        EXPECT(gbc.pc(), 0x6334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0114
        gbc.setState(0x3705, 0xb58, 0x2bc0, 0x616b, 0x1e3, 0x20ae, 0x1, 0x1);
        gbc.writeMem(0x3705, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb58);
        EXPECT(gbc.pc(), 0x3707);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0115
        gbc.setState(0x173, 0xe66d, 0x1f60, 0x746e, 0xe74b, 0x4d7e, 0x0, 0x1);
        gbc.writeMem(0x173, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe66d);
        EXPECT(gbc.pc(), 0x175);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0116
        gbc.setState(0xa8c9, 0x7b24, 0xe1b0, 0xd063, 0x451b, 0x5b4c, 0x1, 0x0);
        gbc.writeMem(0xa8c9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x7b24);
        EXPECT(gbc.pc(), 0xa8cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8c9), 0xcb);
        EXPECT(gbc.readMem(0xa8ca), 0xc5);
        // CB C5 0117
        gbc.setState(0xa43a, 0x8d5f, 0x31f0, 0xed5b, 0x986d, 0x4d6b, 0x0, 0x0);
        gbc.writeMem(0xa43a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8d5f);
        EXPECT(gbc.pc(), 0xa43c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa43a), 0xcb);
        EXPECT(gbc.readMem(0xa43b), 0xc5);
        // CB C5 0118
        gbc.setState(0x1fa7, 0xccee, 0x4160, 0x6a0f, 0x4bda, 0x225f, 0x1, 0x1);
        gbc.writeMem(0x1fa7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xccee);
        EXPECT(gbc.pc(), 0x1fa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0119
        gbc.setState(0xbc78, 0xa2a9, 0x5240, 0x71cf, 0xd1a5, 0xe870, 0x1, 0x0);
        gbc.writeMem(0xbc78, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa2a9);
        EXPECT(gbc.pc(), 0xbc7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc78), 0xcb);
        EXPECT(gbc.readMem(0xbc79), 0xc5);
        // CB C5 011A
        gbc.setState(0x14d1, 0xc32c, 0x7430, 0x486a, 0xca7a, 0xb6b3, 0x1, 0x1);
        gbc.writeMem(0x14d1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc32c);
        EXPECT(gbc.pc(), 0x14d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 011B
        gbc.setState(0x43da, 0xb6a4, 0xc8e0, 0xe225, 0x6e81, 0x54f2, 0x1, 0x1);
        gbc.writeMem(0x43da, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb6a4);
        EXPECT(gbc.pc(), 0x43dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 011C
        gbc.setState(0x2544, 0x1f38, 0x7600, 0x4c83, 0xf1a8, 0x29db, 0x1, 0x1);
        gbc.writeMem(0x2544, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1f38);
        EXPECT(gbc.pc(), 0x2546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 011D
        gbc.setState(0x91f2, 0x5f33, 0xcb30, 0xc60, 0x5192, 0x3f16, 0x1, 0x1);
        gbc.writeMem(0x91f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x5f33);
        EXPECT(gbc.pc(), 0x91f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91f2), 0xcb);
        EXPECT(gbc.readMem(0x91f3), 0xc5);
        // CB C5 011E
        gbc.setState(0xc955, 0xa122, 0x6400, 0x530, 0x7d05, 0x289a, 0x1, 0x0);
        gbc.writeMem(0xc955, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa122);
        EXPECT(gbc.pc(), 0xc957);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc955), 0xcb);
        EXPECT(gbc.readMem(0xc956), 0xc5);
        // CB C5 011F
        gbc.setState(0x9d1a, 0xede8, 0x83e0, 0x9cb5, 0xb617, 0xec2c, 0x1, 0x1);
        gbc.writeMem(0x9d1a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xede8);
        EXPECT(gbc.pc(), 0x9d1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d1a), 0xcb);
        EXPECT(gbc.readMem(0x9d1b), 0xc5);
        // CB C5 0120
        gbc.setState(0x7619, 0xcaca, 0x4450, 0xdd70, 0x4756, 0xcfa9, 0x0, 0x0);
        gbc.writeMem(0x7619, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcaca);
        EXPECT(gbc.pc(), 0x761b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0121
        gbc.setState(0xa309, 0xf87f, 0x8c30, 0x2e61, 0x1dbc, 0xf4f, 0x1, 0x0);
        gbc.writeMem(0xa309, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf87f);
        EXPECT(gbc.pc(), 0xa30b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa309), 0xcb);
        EXPECT(gbc.readMem(0xa30a), 0xc5);
        // CB C5 0122
        gbc.setState(0x8f22, 0x18b2, 0xa2d0, 0xd47c, 0x56b9, 0xe1b2, 0x1, 0x0);
        gbc.writeMem(0x8f22, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x18b2);
        EXPECT(gbc.pc(), 0x8f24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f22), 0xcb);
        EXPECT(gbc.readMem(0x8f23), 0xc5);
        // CB C5 0123
        gbc.setState(0x13a4, 0xafa8, 0xd7b0, 0xa28, 0x1529, 0x96cf, 0x0, 0x0);
        gbc.writeMem(0x13a4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xafa8);
        EXPECT(gbc.pc(), 0x13a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0124
        gbc.setState(0x4ffe, 0x42da, 0xdd30, 0x69d0, 0xe8b3, 0xeaf5, 0x1, 0x0);
        gbc.writeMem(0x4ffe, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x42da);
        EXPECT(gbc.pc(), 0x5000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0125
        gbc.setState(0xbefa, 0x654c, 0x46e0, 0x73af, 0x1699, 0xce9, 0x1, 0x0);
        gbc.writeMem(0xbefa, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x654c);
        EXPECT(gbc.pc(), 0xbefc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbefa), 0xcb);
        EXPECT(gbc.readMem(0xbefb), 0xc5);
        // CB C5 0126
        gbc.setState(0xd54e, 0x212f, 0xcea0, 0x42e3, 0x8093, 0xa53c, 0x0, 0x1);
        gbc.writeMem(0xd54e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x212f);
        EXPECT(gbc.pc(), 0xd550);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd54e), 0xcb);
        EXPECT(gbc.readMem(0xd54f), 0xc5);
        // CB C5 0127
        gbc.setState(0xc40e, 0xa4e5, 0x93a0, 0x3df6, 0x17d3, 0x7b0a, 0x0, 0x1);
        gbc.writeMem(0xc40e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa4e5);
        EXPECT(gbc.pc(), 0xc410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc40e), 0xcb);
        EXPECT(gbc.readMem(0xc40f), 0xc5);
        // CB C5 0128
        gbc.setState(0xccd5, 0x7ea8, 0xd970, 0xa436, 0x857f, 0xa291, 0x1, 0x1);
        gbc.writeMem(0xccd5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7ea8);
        EXPECT(gbc.pc(), 0xccd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd5), 0xcb);
        EXPECT(gbc.readMem(0xccd6), 0xc5);
        // CB C5 0129
        gbc.setState(0x5022, 0xe41d, 0x8910, 0xb355, 0x49b0, 0xbd99, 0x0, 0x1);
        gbc.writeMem(0x5022, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe41d);
        EXPECT(gbc.pc(), 0x5024);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 012A
        gbc.setState(0xdd22, 0x36b7, 0xe0, 0xdd3b, 0x1509, 0x511b, 0x0, 0x1);
        gbc.writeMem(0xdd22, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x36b7);
        EXPECT(gbc.pc(), 0xdd24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd22), 0xcb);
        EXPECT(gbc.readMem(0xdd23), 0xc5);
        // CB C5 012B
        gbc.setState(0xd844, 0xc11d, 0x9f80, 0x5384, 0xacb4, 0x5f5, 0x0, 0x1);
        gbc.writeMem(0xd844, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc11d);
        EXPECT(gbc.pc(), 0xd846);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd844), 0xcb);
        EXPECT(gbc.readMem(0xd845), 0xc5);
        // CB C5 012C
        gbc.setState(0x10fe, 0x19a6, 0x6450, 0xc4c1, 0x611e, 0x5f55, 0x0, 0x0);
        gbc.writeMem(0x10fe, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x19a6);
        EXPECT(gbc.pc(), 0x1100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 012D
        gbc.setState(0xeac4, 0xcf1, 0x1bd0, 0xa283, 0x7b87, 0x4b25, 0x0, 0x0);
        gbc.writeMem(0xeac4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xcf1);
        EXPECT(gbc.pc(), 0xeac6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeac4), 0xcb);
        EXPECT(gbc.readMem(0xeac5), 0xc5);
        // CB C5 012E
        gbc.setState(0x6143, 0xb577, 0xfaa0, 0x13c8, 0x5a0f, 0x37de, 0x0, 0x0);
        gbc.writeMem(0x6143, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb577);
        EXPECT(gbc.pc(), 0x6145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 012F
        gbc.setState(0x9ff6, 0x7fd6, 0xb470, 0x5b55, 0x6903, 0x5e06, 0x0, 0x1);
        gbc.writeMem(0x9ff6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7fd6);
        EXPECT(gbc.pc(), 0x9ff8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ff6), 0xcb);
        EXPECT(gbc.readMem(0x9ff7), 0xc5);
        // CB C5 0130
        gbc.setState(0xa055, 0x5306, 0xbdb0, 0x114a, 0xc197, 0x236f, 0x1, 0x0);
        gbc.writeMem(0xa055, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x5306);
        EXPECT(gbc.pc(), 0xa057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa055), 0xcb);
        EXPECT(gbc.readMem(0xa056), 0xc5);
        // CB C5 0131
        gbc.setState(0x4b2f, 0x25e8, 0x2f80, 0xf9ea, 0xc335, 0x274b, 0x0, 0x0);
        gbc.writeMem(0x4b2f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x25e8);
        EXPECT(gbc.pc(), 0x4b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0132
        gbc.setState(0x76e6, 0x1ab0, 0x9960, 0x9d2b, 0x4179, 0xa9f3, 0x0, 0x1);
        gbc.writeMem(0x76e6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1ab0);
        EXPECT(gbc.pc(), 0x76e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0133
        gbc.setState(0xa368, 0x2a28, 0x8390, 0x5e92, 0xf545, 0x705d, 0x1, 0x0);
        gbc.writeMem(0xa368, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2a28);
        EXPECT(gbc.pc(), 0xa36a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa368), 0xcb);
        EXPECT(gbc.readMem(0xa369), 0xc5);
        // CB C5 0134
        gbc.setState(0xbc7b, 0xe38c, 0x3100, 0x679b, 0xda11, 0x4659, 0x0, 0x0);
        gbc.writeMem(0xbc7b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe38c);
        EXPECT(gbc.pc(), 0xbc7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc7b), 0xcb);
        EXPECT(gbc.readMem(0xbc7c), 0xc5);
        // CB C5 0135
        gbc.setState(0xa6f2, 0xe1fa, 0xf5b0, 0x8018, 0x5f0a, 0xf3e0, 0x1, 0x0);
        gbc.writeMem(0xa6f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xe1fa);
        EXPECT(gbc.pc(), 0xa6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f2), 0xcb);
        EXPECT(gbc.readMem(0xa6f3), 0xc5);
        // CB C5 0136
        gbc.setState(0x8144, 0xeb36, 0x8d00, 0xbe6f, 0x16b3, 0x928c, 0x1, 0x0);
        gbc.writeMem(0x8144, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xeb36);
        EXPECT(gbc.pc(), 0x8146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8144), 0xcb);
        EXPECT(gbc.readMem(0x8145), 0xc5);
        // CB C5 0137
        gbc.setState(0xe216, 0xcf7b, 0xf090, 0xe6ca, 0x94f, 0x6cd9, 0x1, 0x1);
        gbc.writeMem(0xe216, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xcf7b);
        EXPECT(gbc.pc(), 0xe218);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe216), 0xcb);
        EXPECT(gbc.readMem(0xe217), 0xc5);
        // CB C5 0138
        gbc.setState(0xcfbf, 0xc4a2, 0x2500, 0x678d, 0xcfe6, 0x2134, 0x1, 0x1);
        gbc.writeMem(0xcfbf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc4a2);
        EXPECT(gbc.pc(), 0xcfc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfbf), 0xcb);
        EXPECT(gbc.readMem(0xcfc0), 0xc5);
        // CB C5 0139
        gbc.setState(0x7fbf, 0xba13, 0x1d70, 0xe468, 0x9097, 0xcde7, 0x1, 0x1);
        gbc.writeMem(0x7fbf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xba13);
        EXPECT(gbc.pc(), 0x7fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 013A
        gbc.setState(0x5137, 0x6d03, 0x88d0, 0x8bc, 0x6aa4, 0x3881, 0x0, 0x0);
        gbc.writeMem(0x5137, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x6d03);
        EXPECT(gbc.pc(), 0x5139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 013B
        gbc.setState(0x74ba, 0xcdfc, 0x9460, 0xd196, 0x2c94, 0xa197, 0x0, 0x0);
        gbc.writeMem(0x74ba, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xcdfc);
        EXPECT(gbc.pc(), 0x74bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 013C
        gbc.setState(0xa313, 0x86, 0xe580, 0xf0dd, 0x1d6d, 0x79f8, 0x1, 0x0);
        gbc.writeMem(0xa313, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x86);
        EXPECT(gbc.pc(), 0xa315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa313), 0xcb);
        EXPECT(gbc.readMem(0xa314), 0xc5);
        // CB C5 013D
        gbc.setState(0x7e60, 0x2e34, 0x3820, 0x2a2, 0xe4a6, 0xc2b3, 0x1, 0x1);
        gbc.writeMem(0x7e60, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2e34);
        EXPECT(gbc.pc(), 0x7e62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 013E
        gbc.setState(0x587f, 0x118f, 0x9340, 0x59e, 0x3fc2, 0x3a93, 0x0, 0x0);
        gbc.writeMem(0x587f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x118f);
        EXPECT(gbc.pc(), 0x5881);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 013F
        gbc.setState(0x65ca, 0xecc, 0x4fc0, 0xce5c, 0x94c0, 0xdbb6, 0x0, 0x1);
        gbc.writeMem(0x65ca, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xecc);
        EXPECT(gbc.pc(), 0x65cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0141
        gbc.setState(0x6099, 0x1f04, 0xc6b0, 0xaca5, 0xc415, 0xecaf, 0x0, 0x1);
        gbc.writeMem(0x6099, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x1f04);
        EXPECT(gbc.pc(), 0x609b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0142
        gbc.setState(0x7301, 0xd663, 0x49a0, 0xaa59, 0x9a2d, 0x6c10, 0x1, 0x0);
        gbc.writeMem(0x7301, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd663);
        EXPECT(gbc.pc(), 0x7303);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0143
        gbc.setState(0x3661, 0x533d, 0x55a0, 0x162e, 0x4423, 0xec3f, 0x1, 0x1);
        gbc.writeMem(0x3661, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x533d);
        EXPECT(gbc.pc(), 0x3663);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0144
        gbc.setState(0x330c, 0xb4e2, 0x80a0, 0xe2e4, 0x6170, 0x9362, 0x1, 0x1);
        gbc.writeMem(0x330c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb4e2);
        EXPECT(gbc.pc(), 0x330e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0145
        gbc.setState(0x1d4e, 0x25a4, 0xd140, 0xb89c, 0x1ecb, 0xc12a, 0x0, 0x1);
        gbc.writeMem(0x1d4e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x25a4);
        EXPECT(gbc.pc(), 0x1d50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0146
        gbc.setState(0xc8f5, 0x1b28, 0xaa20, 0xfb7b, 0xf00b, 0x87ff, 0x0, 0x0);
        gbc.writeMem(0xc8f5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1b28);
        EXPECT(gbc.pc(), 0xc8f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f5), 0xcb);
        EXPECT(gbc.readMem(0xc8f6), 0xc5);
        // CB C5 0147
        gbc.setState(0xbaec, 0x3528, 0x11b0, 0xddfc, 0xe3ff, 0x431, 0x0, 0x0);
        gbc.writeMem(0xbaec, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3528);
        EXPECT(gbc.pc(), 0xbaee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaec), 0xcb);
        EXPECT(gbc.readMem(0xbaed), 0xc5);
        // CB C5 0148
        gbc.setState(0x3e92, 0x4ddc, 0x1ad0, 0x5746, 0x8748, 0x5c49, 0x1, 0x1);
        gbc.writeMem(0x3e92, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x4ddc);
        EXPECT(gbc.pc(), 0x3e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0149
        gbc.setState(0xda8e, 0xb93e, 0xebe0, 0x4960, 0x9f14, 0x1d3a, 0x0, 0x1);
        gbc.writeMem(0xda8e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb93e);
        EXPECT(gbc.pc(), 0xda90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda8e), 0xcb);
        EXPECT(gbc.readMem(0xda8f), 0xc5);
        // CB C5 014A
        gbc.setState(0xa8e0, 0xa562, 0x4740, 0x5a7b, 0xb0ed, 0x7e0f, 0x0, 0x0);
        gbc.writeMem(0xa8e0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa562);
        EXPECT(gbc.pc(), 0xa8e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8e0), 0xcb);
        EXPECT(gbc.readMem(0xa8e1), 0xc5);
        // CB C5 014B
        gbc.setState(0xdb24, 0x8412, 0xd160, 0x1cb8, 0x5928, 0x8a1b, 0x1, 0x0);
        gbc.writeMem(0xdb24, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8412);
        EXPECT(gbc.pc(), 0xdb26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb24), 0xcb);
        EXPECT(gbc.readMem(0xdb25), 0xc5);
        // CB C5 014C
        gbc.setState(0xe639, 0x649, 0xeb50, 0xa350, 0x1633, 0x911, 0x1, 0x0);
        gbc.writeMem(0xe639, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x649);
        EXPECT(gbc.pc(), 0xe63b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe639), 0xcb);
        EXPECT(gbc.readMem(0xe63a), 0xc5);
        // CB C5 014D
        gbc.setState(0x5d81, 0x651c, 0x2930, 0x958f, 0xac7a, 0x2630, 0x1, 0x1);
        gbc.writeMem(0x5d81, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x651c);
        EXPECT(gbc.pc(), 0x5d83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 014E
        gbc.setState(0xd4d9, 0x69f, 0xfa0, 0xb6f, 0x55f7, 0xabcb, 0x0, 0x0);
        gbc.writeMem(0xd4d9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x69f);
        EXPECT(gbc.pc(), 0xd4db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4d9), 0xcb);
        EXPECT(gbc.readMem(0xd4da), 0xc5);
        // CB C5 014F
        gbc.setState(0x3b98, 0xf1c7, 0x2240, 0x23b5, 0xfacb, 0x68d9, 0x1, 0x1);
        gbc.writeMem(0x3b98, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xf1c7);
        EXPECT(gbc.pc(), 0x3b9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0150
        gbc.setState(0x939d, 0x3468, 0x4800, 0x1804, 0x8e3d, 0xcdaa, 0x1, 0x1);
        gbc.writeMem(0x939d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3468);
        EXPECT(gbc.pc(), 0x939f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x939d), 0xcb);
        EXPECT(gbc.readMem(0x939e), 0xc5);
        // CB C5 0151
        gbc.setState(0x3d63, 0x4188, 0x87e0, 0xb196, 0xf3bc, 0xe8a9, 0x0, 0x1);
        gbc.writeMem(0x3d63, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4188);
        EXPECT(gbc.pc(), 0x3d65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0152
        gbc.setState(0xcba3, 0x2fd7, 0x8010, 0xf02e, 0xa210, 0x4828, 0x1, 0x0);
        gbc.writeMem(0xcba3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x2fd7);
        EXPECT(gbc.pc(), 0xcba5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcba3), 0xcb);
        EXPECT(gbc.readMem(0xcba4), 0xc5);
        // CB C5 0153
        gbc.setState(0x96d4, 0xe614, 0xf680, 0x45f0, 0xc6b, 0xf295, 0x0, 0x0);
        gbc.writeMem(0x96d4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe614);
        EXPECT(gbc.pc(), 0x96d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96d4), 0xcb);
        EXPECT(gbc.readMem(0x96d5), 0xc5);
        // CB C5 0154
        gbc.setState(0x8c0f, 0x20e2, 0x3ed0, 0x49c2, 0xb53d, 0x2f5c, 0x1, 0x1);
        gbc.writeMem(0x8c0f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x20e2);
        EXPECT(gbc.pc(), 0x8c11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c0f), 0xcb);
        EXPECT(gbc.readMem(0x8c10), 0xc5);
        // CB C5 0155
        gbc.setState(0x3c7c, 0x41a7, 0x1df0, 0x79bc, 0xb7a9, 0xd745, 0x1, 0x0);
        gbc.writeMem(0x3c7c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x41a7);
        EXPECT(gbc.pc(), 0x3c7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0156
        gbc.setState(0x20d6, 0xbe0c, 0xe420, 0x8ada, 0x3c10, 0xbde1, 0x0, 0x0);
        gbc.writeMem(0x20d6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xbe0c);
        EXPECT(gbc.pc(), 0x20d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0157
        gbc.setState(0x838c, 0xb080, 0x16a0, 0xff3c, 0x9150, 0xb20b, 0x0, 0x1);
        gbc.writeMem(0x838c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb080);
        EXPECT(gbc.pc(), 0x838e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x838c), 0xcb);
        EXPECT(gbc.readMem(0x838d), 0xc5);
        // CB C5 0158
        gbc.setState(0xbeaf, 0x7883, 0x7dc0, 0xa3a7, 0x7073, 0x25c3, 0x1, 0x1);
        gbc.writeMem(0xbeaf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7883);
        EXPECT(gbc.pc(), 0xbeb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeaf), 0xcb);
        EXPECT(gbc.readMem(0xbeb0), 0xc5);
        // CB C5 0159
        gbc.setState(0xe2b0, 0x76e4, 0xc510, 0x43b1, 0xf28f, 0x7d02, 0x0, 0x1);
        gbc.writeMem(0xe2b0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x76e4);
        EXPECT(gbc.pc(), 0xe2b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2b0), 0xcb);
        EXPECT(gbc.readMem(0xe2b1), 0xc5);
        // CB C5 015C
        gbc.setState(0x3919, 0xa783, 0x4590, 0x75c, 0x8e4d, 0xa7ca, 0x0, 0x0);
        gbc.writeMem(0x3919, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa783);
        EXPECT(gbc.pc(), 0x391b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 015E
        gbc.setState(0xf09, 0x92fc, 0x5150, 0xcf7b, 0x7acb, 0xeaa8, 0x1, 0x0);
        gbc.writeMem(0xf09, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x92fc);
        EXPECT(gbc.pc(), 0xf0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 015F
        gbc.setState(0x1f97, 0x522c, 0xea00, 0x3189, 0x867e, 0xf55f, 0x1, 0x0);
        gbc.writeMem(0x1f97, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x522c);
        EXPECT(gbc.pc(), 0x1f99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0160
        gbc.setState(0xc128, 0x3fb, 0xe770, 0x91c7, 0x2c0a, 0x7975, 0x0, 0x1);
        gbc.writeMem(0xc128, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3fb);
        EXPECT(gbc.pc(), 0xc12a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc128), 0xcb);
        EXPECT(gbc.readMem(0xc129), 0xc5);
        // CB C5 0161
        gbc.setState(0xdd40, 0xfc60, 0x80d0, 0x125d, 0x314e, 0xd9e8, 0x1, 0x1);
        gbc.writeMem(0xdd40, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xfc60);
        EXPECT(gbc.pc(), 0xdd42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd40), 0xcb);
        EXPECT(gbc.readMem(0xdd41), 0xc5);
        // CB C5 0162
        gbc.setState(0x139e, 0x157e, 0x47f0, 0x55fe, 0x16ca, 0x3522, 0x1, 0x1);
        gbc.writeMem(0x139e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x157e);
        EXPECT(gbc.pc(), 0x13a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0163
        gbc.setState(0x146d, 0xe171, 0x8170, 0xf236, 0x890b, 0xe4e2, 0x1, 0x0);
        gbc.writeMem(0x146d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe171);
        EXPECT(gbc.pc(), 0x146f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0164
        gbc.setState(0xdb1d, 0x468a, 0xd4b0, 0xfd30, 0x1b7f, 0x28e8, 0x1, 0x0);
        gbc.writeMem(0xdb1d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x468a);
        EXPECT(gbc.pc(), 0xdb1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb1d), 0xcb);
        EXPECT(gbc.readMem(0xdb1e), 0xc5);
        // CB C5 0165
        gbc.setState(0x81d5, 0x7355, 0xc200, 0x80c7, 0xfb24, 0x8cc1, 0x0, 0x0);
        gbc.writeMem(0x81d5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x7355);
        EXPECT(gbc.pc(), 0x81d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d5), 0xcb);
        EXPECT(gbc.readMem(0x81d6), 0xc5);
        // CB C5 0167
        gbc.setState(0x46e6, 0x9718, 0xed70, 0x50e7, 0xb995, 0x5b6c, 0x0, 0x0);
        gbc.writeMem(0x46e6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x9718);
        EXPECT(gbc.pc(), 0x46e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0168
        gbc.setState(0x402b, 0xed7a, 0x420, 0x3513, 0x9491, 0xaa79, 0x0, 0x0);
        gbc.writeMem(0x402b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xed7a);
        EXPECT(gbc.pc(), 0x402d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0169
        gbc.setState(0xc089, 0xf533, 0xf830, 0x59bc, 0x3866, 0x8810, 0x1, 0x1);
        gbc.writeMem(0xc089, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xf533);
        EXPECT(gbc.pc(), 0xc08b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc089), 0xcb);
        EXPECT(gbc.readMem(0xc08a), 0xc5);
        // CB C5 016B
        gbc.setState(0x6a36, 0xff4d, 0x3360, 0x5137, 0x563a, 0x43f4, 0x1, 0x0);
        gbc.writeMem(0x6a36, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xff4d);
        EXPECT(gbc.pc(), 0x6a38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 016C
        gbc.setState(0x5b1f, 0xfb1a, 0x8b80, 0xc1ef, 0xc545, 0xc6b2, 0x1, 0x1);
        gbc.writeMem(0x5b1f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xfb1a);
        EXPECT(gbc.pc(), 0x5b21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 016D
        gbc.setState(0xdc5f, 0x59b3, 0x3990, 0x4f54, 0xb8b4, 0xdb03, 0x1, 0x1);
        gbc.writeMem(0xdc5f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x59b3);
        EXPECT(gbc.pc(), 0xdc61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc5f), 0xcb);
        EXPECT(gbc.readMem(0xdc60), 0xc5);
        // CB C5 016E
        gbc.setState(0xec30, 0x36c8, 0x7800, 0x49a1, 0x7ca6, 0xab49, 0x0, 0x1);
        gbc.writeMem(0xec30, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x36c8);
        EXPECT(gbc.pc(), 0xec32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec30), 0xcb);
        EXPECT(gbc.readMem(0xec31), 0xc5);
        // CB C5 016F
        gbc.setState(0x7b03, 0xed99, 0xc7b0, 0x8bd2, 0x207c, 0x5984, 0x0, 0x1);
        gbc.writeMem(0x7b03, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xed99);
        EXPECT(gbc.pc(), 0x7b05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0170
        gbc.setState(0x4eae, 0xa9c4, 0x29a0, 0xb8e, 0x5a53, 0x86e2, 0x1, 0x1);
        gbc.writeMem(0x4eae, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa9c4);
        EXPECT(gbc.pc(), 0x4eb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0171
        gbc.setState(0xdfce, 0xc898, 0xb820, 0x342c, 0x5f, 0x1dd1, 0x1, 0x1);
        gbc.writeMem(0xdfce, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc898);
        EXPECT(gbc.pc(), 0xdfd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfce), 0xcb);
        EXPECT(gbc.readMem(0xdfcf), 0xc5);
        // CB C5 0172
        gbc.setState(0xcf0f, 0x3ba9, 0x13e0, 0xbdd8, 0x61cc, 0x9d48, 0x1, 0x0);
        gbc.writeMem(0xcf0f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3ba9);
        EXPECT(gbc.pc(), 0xcf11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf0f), 0xcb);
        EXPECT(gbc.readMem(0xcf10), 0xc5);
        // CB C5 0173
        gbc.setState(0xceeb, 0x71d1, 0x48a0, 0x6fbe, 0x8451, 0xab61, 0x1, 0x1);
        gbc.writeMem(0xceeb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x71d1);
        EXPECT(gbc.pc(), 0xceed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceeb), 0xcb);
        EXPECT(gbc.readMem(0xceec), 0xc5);
        // CB C5 0174
        gbc.setState(0x742c, 0xf7bb, 0xb430, 0x4381, 0x28d1, 0x282d, 0x1, 0x0);
        gbc.writeMem(0x742c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf7bb);
        EXPECT(gbc.pc(), 0x742e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0175
        gbc.setState(0x619f, 0xa46b, 0x1350, 0x8b1d, 0x5669, 0xc1f9, 0x0, 0x0);
        gbc.writeMem(0x619f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa46b);
        EXPECT(gbc.pc(), 0x61a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0176
        gbc.setState(0x94f1, 0x9132, 0xa4c0, 0xc74f, 0x26cf, 0x995c, 0x1, 0x0);
        gbc.writeMem(0x94f1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9132);
        EXPECT(gbc.pc(), 0x94f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94f1), 0xcb);
        EXPECT(gbc.readMem(0x94f2), 0xc5);
        // CB C5 0177
        gbc.setState(0x5268, 0xab2c, 0xa5f0, 0x2baf, 0x2916, 0xde03, 0x0, 0x0);
        gbc.writeMem(0x5268, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xab2c);
        EXPECT(gbc.pc(), 0x526a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0178
        gbc.setState(0x64b4, 0x998f, 0x1390, 0x34d2, 0xecfd, 0x4011, 0x0, 0x0);
        gbc.writeMem(0x64b4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x998f);
        EXPECT(gbc.pc(), 0x64b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0179
        gbc.setState(0xd62b, 0x15d0, 0xff20, 0x4b1b, 0xd323, 0xaa61, 0x0, 0x0);
        gbc.writeMem(0xd62b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x15d0);
        EXPECT(gbc.pc(), 0xd62d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd62b), 0xcb);
        EXPECT(gbc.readMem(0xd62c), 0xc5);
        // CB C5 017A
        gbc.setState(0x40d7, 0xd1f6, 0x3a70, 0xfd5a, 0xc85f, 0x73da, 0x1, 0x1);
        gbc.writeMem(0x40d7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd1f6);
        EXPECT(gbc.pc(), 0x40d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 017B
        gbc.setState(0xa67c, 0x1186, 0xf200, 0x419a, 0xdcb6, 0x72f7, 0x1, 0x1);
        gbc.writeMem(0xa67c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1186);
        EXPECT(gbc.pc(), 0xa67e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa67c), 0xcb);
        EXPECT(gbc.readMem(0xa67d), 0xc5);
        // CB C5 017C
        gbc.setState(0xb978, 0x3aef, 0x35a0, 0xc414, 0x45b5, 0xa153, 0x0, 0x1);
        gbc.writeMem(0xb978, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3aef);
        EXPECT(gbc.pc(), 0xb97a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb978), 0xcb);
        EXPECT(gbc.readMem(0xb979), 0xc5);
        // CB C5 017D
        gbc.setState(0x1d42, 0x44e4, 0x4400, 0x141, 0x4230, 0x52c3, 0x0, 0x0);
        gbc.writeMem(0x1d42, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x44e4);
        EXPECT(gbc.pc(), 0x1d44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 017E
        gbc.setState(0x3be9, 0xb5c5, 0x5410, 0xa2db, 0xd478, 0xf33b, 0x0, 0x1);
        gbc.writeMem(0x3be9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb5c5);
        EXPECT(gbc.pc(), 0x3beb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 017F
        gbc.setState(0x3910, 0x276b, 0x56a0, 0x3bf3, 0x97d3, 0x14fe, 0x1, 0x1);
        gbc.writeMem(0x3910, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x276b);
        EXPECT(gbc.pc(), 0x3912);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0180
        gbc.setState(0x1455, 0x250c, 0x3ce0, 0x939f, 0xb8c3, 0x56a5, 0x1, 0x1);
        gbc.writeMem(0x1455, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x250c);
        EXPECT(gbc.pc(), 0x1457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0181
        gbc.setState(0x6d55, 0x8503, 0x9ac0, 0xa42b, 0x9717, 0xa88, 0x0, 0x1);
        gbc.writeMem(0x6d55, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8503);
        EXPECT(gbc.pc(), 0x6d57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0182
        gbc.setState(0x42f, 0xc88e, 0xa770, 0x998b, 0xf1c9, 0xcc9d, 0x0, 0x0);
        gbc.writeMem(0x42f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xc88e);
        EXPECT(gbc.pc(), 0x431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0183
        gbc.setState(0x9bfc, 0x62fc, 0x8e70, 0xdc42, 0xc1b9, 0xb410, 0x0, 0x1);
        gbc.writeMem(0x9bfc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x62fc);
        EXPECT(gbc.pc(), 0x9bfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bfc), 0xcb);
        EXPECT(gbc.readMem(0x9bfd), 0xc5);
        // CB C5 0184
        gbc.setState(0x77ba, 0xcaa3, 0xcd70, 0x38db, 0x67bf, 0x3bc1, 0x1, 0x1);
        gbc.writeMem(0x77ba, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xcaa3);
        EXPECT(gbc.pc(), 0x77bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0185
        gbc.setState(0x8ea5, 0x7c9, 0xa1e0, 0x26d4, 0x198c, 0xea30, 0x0, 0x1);
        gbc.writeMem(0x8ea5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7c9);
        EXPECT(gbc.pc(), 0x8ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ea5), 0xcb);
        EXPECT(gbc.readMem(0x8ea6), 0xc5);
        // CB C5 0186
        gbc.setState(0xe8b2, 0x828b, 0x4c70, 0x23e7, 0x7752, 0x5080, 0x1, 0x0);
        gbc.writeMem(0xe8b2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x828b);
        EXPECT(gbc.pc(), 0xe8b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8b2), 0xcb);
        EXPECT(gbc.readMem(0xe8b3), 0xc5);
        // CB C5 0187
        gbc.setState(0xa60b, 0xf45d, 0xd970, 0x90d6, 0xf7f5, 0xd831, 0x1, 0x1);
        gbc.writeMem(0xa60b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf45d);
        EXPECT(gbc.pc(), 0xa60d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa60b), 0xcb);
        EXPECT(gbc.readMem(0xa60c), 0xc5);
        // CB C5 0188
        gbc.setState(0xbf24, 0xc748, 0xfe0, 0xb05f, 0x77bb, 0xb71, 0x0, 0x1);
        gbc.writeMem(0xbf24, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc748);
        EXPECT(gbc.pc(), 0xbf26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf24), 0xcb);
        EXPECT(gbc.readMem(0xbf25), 0xc5);
        // CB C5 0189
        gbc.setState(0x2451, 0x2f39, 0xab80, 0xac26, 0x52f8, 0x8f07, 0x0, 0x1);
        gbc.writeMem(0x2451, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2f39);
        EXPECT(gbc.pc(), 0x2453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 018A
        gbc.setState(0xe72b, 0xb2b2, 0xf560, 0x1476, 0x95d3, 0xa624, 0x1, 0x1);
        gbc.writeMem(0xe72b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb2b2);
        EXPECT(gbc.pc(), 0xe72d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe72b), 0xcb);
        EXPECT(gbc.readMem(0xe72c), 0xc5);
        // CB C5 018B
        gbc.setState(0x45ac, 0x90f7, 0x1940, 0x9041, 0xf37c, 0x6cdd, 0x1, 0x0);
        gbc.writeMem(0x45ac, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x90f7);
        EXPECT(gbc.pc(), 0x45ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 018C
        gbc.setState(0x3efe, 0x87d4, 0x52c0, 0xd9cb, 0x215c, 0x60e1, 0x0, 0x1);
        gbc.writeMem(0x3efe, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x87d4);
        EXPECT(gbc.pc(), 0x3f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 018E
        gbc.setState(0xc928, 0xef87, 0x13a0, 0xa846, 0xd7fa, 0x2296, 0x0, 0x1);
        gbc.writeMem(0xc928, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xef87);
        EXPECT(gbc.pc(), 0xc92a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc928), 0xcb);
        EXPECT(gbc.readMem(0xc929), 0xc5);
        // CB C5 018F
        gbc.setState(0xa19b, 0xbbe, 0xb900, 0xb03e, 0x7c8d, 0xdbb9, 0x1, 0x0);
        gbc.writeMem(0xa19b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xbbe);
        EXPECT(gbc.pc(), 0xa19d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa19b), 0xcb);
        EXPECT(gbc.readMem(0xa19c), 0xc5);
        // CB C5 0190
        gbc.setState(0x8740, 0x8a18, 0xa7e0, 0xf6ba, 0xf2e5, 0xa840, 0x1, 0x1);
        gbc.writeMem(0x8740, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8a18);
        EXPECT(gbc.pc(), 0x8742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8740), 0xcb);
        EXPECT(gbc.readMem(0x8741), 0xc5);
        // CB C5 0191
        gbc.setState(0xbbc5, 0xb898, 0x5080, 0x951c, 0xa83f, 0x20aa, 0x1, 0x1);
        gbc.writeMem(0xbbc5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb898);
        EXPECT(gbc.pc(), 0xbbc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbc5), 0xcb);
        EXPECT(gbc.readMem(0xbbc6), 0xc5);
        // CB C5 0192
        gbc.setState(0x668f, 0xce7d, 0x1d60, 0x8ba4, 0xf4d6, 0x6e02, 0x0, 0x0);
        gbc.writeMem(0x668f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xce7d);
        EXPECT(gbc.pc(), 0x6691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0193
        gbc.setState(0x7f43, 0x33de, 0x17a0, 0x14c6, 0xee4a, 0x43aa, 0x1, 0x1);
        gbc.writeMem(0x7f43, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x33de);
        EXPECT(gbc.pc(), 0x7f45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0194
        gbc.setState(0xe377, 0xb73d, 0xb470, 0x55ff, 0x4a2f, 0xe41f, 0x1, 0x0);
        gbc.writeMem(0xe377, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb73d);
        EXPECT(gbc.pc(), 0xe379);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe377), 0xcb);
        EXPECT(gbc.readMem(0xe378), 0xc5);
        // CB C5 0195
        gbc.setState(0x69fb, 0x6f4f, 0x1c30, 0x83ac, 0xaf8b, 0xae11, 0x0, 0x0);
        gbc.writeMem(0x69fb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x6f4f);
        EXPECT(gbc.pc(), 0x69fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0196
        gbc.setState(0x3e20, 0xe768, 0x57a0, 0x59f3, 0x5089, 0xcae3, 0x1, 0x1);
        gbc.writeMem(0x3e20, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe768);
        EXPECT(gbc.pc(), 0x3e22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0197
        gbc.setState(0x19c2, 0xa84, 0x4440, 0x23be, 0x5951, 0x5df7, 0x1, 0x0);
        gbc.writeMem(0x19c2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa84);
        EXPECT(gbc.pc(), 0x19c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0198
        gbc.setState(0x21c4, 0xc2b1, 0xcc00, 0x3eca, 0x3b2a, 0xa50e, 0x1, 0x1);
        gbc.writeMem(0x21c4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc2b1);
        EXPECT(gbc.pc(), 0x21c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0199
        gbc.setState(0x6f3d, 0x116, 0xb050, 0xf32, 0xcc18, 0x7b6d, 0x1, 0x1);
        gbc.writeMem(0x6f3d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x116);
        EXPECT(gbc.pc(), 0x6f3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 019A
        gbc.setState(0x99b8, 0x7bcd, 0x5390, 0xa570, 0xa907, 0x2a24, 0x0, 0x0);
        gbc.writeMem(0x99b8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7bcd);
        EXPECT(gbc.pc(), 0x99ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99b8), 0xcb);
        EXPECT(gbc.readMem(0x99b9), 0xc5);
        // CB C5 019B
        gbc.setState(0x148e, 0x18ba, 0xf960, 0x3ef9, 0x31b2, 0x86a, 0x0, 0x1);
        gbc.writeMem(0x148e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x18ba);
        EXPECT(gbc.pc(), 0x1490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 019C
        gbc.setState(0x3947, 0xd3ea, 0x2db0, 0x10bf, 0xbcf4, 0xe373, 0x1, 0x1);
        gbc.writeMem(0x3947, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd3ea);
        EXPECT(gbc.pc(), 0x3949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 019D
        gbc.setState(0x9a31, 0x8660, 0xd1a0, 0xe96, 0x532a, 0x7ab5, 0x1, 0x1);
        gbc.writeMem(0x9a31, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8660);
        EXPECT(gbc.pc(), 0x9a33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a31), 0xcb);
        EXPECT(gbc.readMem(0x9a32), 0xc5);
        // CB C5 019E
        gbc.setState(0xcdbd, 0x25ad, 0xe1b0, 0x512, 0xf41d, 0x91f0, 0x0, 0x0);
        gbc.writeMem(0xcdbd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x25ad);
        EXPECT(gbc.pc(), 0xcdbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdbd), 0xcb);
        EXPECT(gbc.readMem(0xcdbe), 0xc5);
        // CB C5 019F
        gbc.setState(0x1c9c, 0x8aae, 0xc720, 0xa52, 0xaa89, 0x12b4, 0x0, 0x1);
        gbc.writeMem(0x1c9c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8aae);
        EXPECT(gbc.pc(), 0x1c9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01A0
        gbc.setState(0xd38c, 0x35bc, 0xeb30, 0x23b4, 0x72a5, 0x8c1f, 0x1, 0x1);
        gbc.writeMem(0xd38c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x35bc);
        EXPECT(gbc.pc(), 0xd38e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd38c), 0xcb);
        EXPECT(gbc.readMem(0xd38d), 0xc5);
        // CB C5 01A1
        gbc.setState(0xbc8e, 0xb407, 0x6ba0, 0x4d03, 0x8111, 0x34e3, 0x0, 0x0);
        gbc.writeMem(0xbc8e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb407);
        EXPECT(gbc.pc(), 0xbc90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc8e), 0xcb);
        EXPECT(gbc.readMem(0xbc8f), 0xc5);
        // CB C5 01A2
        gbc.setState(0x84e5, 0x7b76, 0x9bb0, 0x8ba0, 0x6ba1, 0x81f9, 0x1, 0x1);
        gbc.writeMem(0x84e5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7b76);
        EXPECT(gbc.pc(), 0x84e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84e5), 0xcb);
        EXPECT(gbc.readMem(0x84e6), 0xc5);
        // CB C5 01A3
        gbc.setState(0x11c2, 0x4c31, 0x2f30, 0xbd3d, 0x90fa, 0xe114, 0x1, 0x0);
        gbc.writeMem(0x11c2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4c31);
        EXPECT(gbc.pc(), 0x11c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01A4
        gbc.setState(0x22cc, 0x9610, 0xb5a0, 0x788a, 0x6923, 0xedb0, 0x0, 0x0);
        gbc.writeMem(0x22cc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9610);
        EXPECT(gbc.pc(), 0x22ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01A6
        gbc.setState(0x7bbb, 0xcce5, 0xaa0, 0x7cf9, 0xdd9e, 0xca32, 0x0, 0x1);
        gbc.writeMem(0x7bbb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xcce5);
        EXPECT(gbc.pc(), 0x7bbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01A7
        gbc.setState(0x9cf7, 0x48cf, 0x8de0, 0x44f0, 0xc00e, 0xd3a9, 0x1, 0x0);
        gbc.writeMem(0x9cf7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x48cf);
        EXPECT(gbc.pc(), 0x9cf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cf7), 0xcb);
        EXPECT(gbc.readMem(0x9cf8), 0xc5);
        // CB C5 01A8
        gbc.setState(0xcd48, 0xf7ad, 0xa5e0, 0xa2e4, 0x617d, 0x3b63, 0x1, 0x0);
        gbc.writeMem(0xcd48, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf7ad);
        EXPECT(gbc.pc(), 0xcd4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd48), 0xcb);
        EXPECT(gbc.readMem(0xcd49), 0xc5);
        // CB C5 01A9
        gbc.setState(0x8c5, 0xd787, 0x65d0, 0xa287, 0xc1bb, 0x7af, 0x0, 0x1);
        gbc.writeMem(0x8c5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd787);
        EXPECT(gbc.pc(), 0x8c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01AA
        gbc.setState(0x48ea, 0x38d9, 0xeb80, 0xe82f, 0xc0d7, 0xc24f, 0x0, 0x1);
        gbc.writeMem(0x48ea, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x38d9);
        EXPECT(gbc.pc(), 0x48ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01AB
        gbc.setState(0xe28e, 0xe31d, 0x3800, 0x750a, 0x8a28, 0xa0ed, 0x0, 0x1);
        gbc.writeMem(0xe28e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe31d);
        EXPECT(gbc.pc(), 0xe290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe28e), 0xcb);
        EXPECT(gbc.readMem(0xe28f), 0xc5);
        // CB C5 01AC
        gbc.setState(0x5a28, 0xa60a, 0xa190, 0x7515, 0xb665, 0xf86b, 0x1, 0x1);
        gbc.writeMem(0x5a28, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa60a);
        EXPECT(gbc.pc(), 0x5a2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01AD
        gbc.setState(0xbaf5, 0x762c, 0x1e0, 0xaf68, 0x3108, 0x95a8, 0x1, 0x0);
        gbc.writeMem(0xbaf5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x762c);
        EXPECT(gbc.pc(), 0xbaf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaf5), 0xcb);
        EXPECT(gbc.readMem(0xbaf6), 0xc5);
        // CB C5 01AE
        gbc.setState(0x2d0a, 0x9bb4, 0xbde0, 0xaa1a, 0x311b, 0x62b5, 0x1, 0x1);
        gbc.writeMem(0x2d0a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9bb4);
        EXPECT(gbc.pc(), 0x2d0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01AF
        gbc.setState(0xc4fb, 0x2677, 0x77e0, 0x2b6d, 0xac55, 0xef6, 0x1, 0x1);
        gbc.writeMem(0xc4fb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2677);
        EXPECT(gbc.pc(), 0xc4fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4fb), 0xcb);
        EXPECT(gbc.readMem(0xc4fc), 0xc5);
        // CB C5 01B0
        gbc.setState(0xb9a1, 0xe999, 0x5cc0, 0xaed7, 0x8cdb, 0x2a8, 0x0, 0x0);
        gbc.writeMem(0xb9a1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe999);
        EXPECT(gbc.pc(), 0xb9a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9a1), 0xcb);
        EXPECT(gbc.readMem(0xb9a2), 0xc5);
        // CB C5 01B1
        gbc.setState(0xde05, 0xcea1, 0x1cd0, 0x1854, 0x9bba, 0xa140, 0x1, 0x1);
        gbc.writeMem(0xde05, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xcea1);
        EXPECT(gbc.pc(), 0xde07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde05), 0xcb);
        EXPECT(gbc.readMem(0xde06), 0xc5);
        // CB C5 01B2
        gbc.setState(0xe14f, 0xf193, 0xa000, 0xe1a9, 0x715b, 0xa1e0, 0x0, 0x1);
        gbc.writeMem(0xe14f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf193);
        EXPECT(gbc.pc(), 0xe151);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe14f), 0xcb);
        EXPECT(gbc.readMem(0xe150), 0xc5);
        // CB C5 01B3
        gbc.setState(0xece4, 0xc2dd, 0x61d0, 0xcb67, 0xcfca, 0x49a4, 0x1, 0x1);
        gbc.writeMem(0xece4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc2dd);
        EXPECT(gbc.pc(), 0xece6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xece4), 0xcb);
        EXPECT(gbc.readMem(0xece5), 0xc5);
        // CB C5 01B4
        gbc.setState(0xb3f9, 0xc46e, 0xb270, 0xbe3c, 0xf2d2, 0xa69f, 0x0, 0x0);
        gbc.writeMem(0xb3f9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc46e);
        EXPECT(gbc.pc(), 0xb3fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3f9), 0xcb);
        EXPECT(gbc.readMem(0xb3fa), 0xc5);
        // CB C5 01B5
        gbc.setState(0x6e8f, 0xafbc, 0x37a0, 0x5546, 0x5355, 0x2d80, 0x1, 0x0);
        gbc.writeMem(0x6e8f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xafbc);
        EXPECT(gbc.pc(), 0x6e91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01B6
        gbc.setState(0x65a6, 0x3a81, 0x2c20, 0x7a60, 0x63b2, 0xbcaa, 0x1, 0x0);
        gbc.writeMem(0x65a6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3a81);
        EXPECT(gbc.pc(), 0x65a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01B8
        gbc.setState(0xb5e5, 0x8d9, 0xad50, 0x5da1, 0x10ae, 0x3854, 0x1, 0x1);
        gbc.writeMem(0xb5e5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x8d9);
        EXPECT(gbc.pc(), 0xb5e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5e5), 0xcb);
        EXPECT(gbc.readMem(0xb5e6), 0xc5);
        // CB C5 01B9
        gbc.setState(0x64f8, 0xb698, 0xf1e0, 0x8215, 0x66, 0xae56, 0x0, 0x0);
        gbc.writeMem(0x64f8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb698);
        EXPECT(gbc.pc(), 0x64fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01BA
        gbc.setState(0xee1f, 0x7568, 0x70d0, 0xa01f, 0xcad4, 0xe5f2, 0x0, 0x1);
        gbc.writeMem(0xee1f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7568);
        EXPECT(gbc.pc(), 0xee21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee1f), 0xcb);
        EXPECT(gbc.readMem(0xee20), 0xc5);
        // CB C5 01BB
        gbc.setState(0x3f83, 0xcd6f, 0x7f40, 0x51e1, 0xf413, 0xa25c, 0x1, 0x1);
        gbc.writeMem(0x3f83, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcd6f);
        EXPECT(gbc.pc(), 0x3f85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01BC
        gbc.setState(0xae30, 0xedd4, 0x1270, 0x68f9, 0x99ce, 0xaa08, 0x0, 0x0);
        gbc.writeMem(0xae30, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xedd4);
        EXPECT(gbc.pc(), 0xae32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae30), 0xcb);
        EXPECT(gbc.readMem(0xae31), 0xc5);
        // CB C5 01BD
        gbc.setState(0xd689, 0x377b, 0x2d0, 0xad5e, 0xdfb2, 0x29c3, 0x1, 0x0);
        gbc.writeMem(0xd689, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x377b);
        EXPECT(gbc.pc(), 0xd68b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd689), 0xcb);
        EXPECT(gbc.readMem(0xd68a), 0xc5);
        // CB C5 01BE
        gbc.setState(0x4503, 0x7d5d, 0xf790, 0x6d64, 0x19d9, 0x6ee5, 0x0, 0x1);
        gbc.writeMem(0x4503, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x7d5d);
        EXPECT(gbc.pc(), 0x4505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01BF
        gbc.setState(0x2e73, 0x61cd, 0xeb10, 0x5bd7, 0x129d, 0x72a2, 0x1, 0x0);
        gbc.writeMem(0x2e73, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x61cd);
        EXPECT(gbc.pc(), 0x2e75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01C0
        gbc.setState(0x886c, 0x25aa, 0x7090, 0x4f26, 0xa143, 0xbdb2, 0x0, 0x0);
        gbc.writeMem(0x886c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x25aa);
        EXPECT(gbc.pc(), 0x886e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x886c), 0xcb);
        EXPECT(gbc.readMem(0x886d), 0xc5);
        // CB C5 01C1
        gbc.setState(0x841b, 0x2770, 0x9120, 0xae21, 0xb86d, 0x3ad1, 0x1, 0x1);
        gbc.writeMem(0x841b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2770);
        EXPECT(gbc.pc(), 0x841d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x841b), 0xcb);
        EXPECT(gbc.readMem(0x841c), 0xc5);
        // CB C5 01C2
        gbc.setState(0xbd5a, 0xd363, 0x5ba0, 0x2a6a, 0x6ddf, 0xc63a, 0x1, 0x1);
        gbc.writeMem(0xbd5a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd363);
        EXPECT(gbc.pc(), 0xbd5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd5a), 0xcb);
        EXPECT(gbc.readMem(0xbd5b), 0xc5);
        // CB C5 01C3
        gbc.setState(0x8171, 0xf628, 0x4f10, 0x4c3e, 0x393d, 0xdb07, 0x0, 0x1);
        gbc.writeMem(0x8171, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf628);
        EXPECT(gbc.pc(), 0x8173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8171), 0xcb);
        EXPECT(gbc.readMem(0x8172), 0xc5);
        // CB C5 01C4
        gbc.setState(0x3306, 0xdb03, 0x1bf0, 0xa5d1, 0xfc3f, 0x56c7, 0x1, 0x1);
        gbc.writeMem(0x3306, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xdb03);
        EXPECT(gbc.pc(), 0x3308);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01C5
        gbc.setState(0x940b, 0xae73, 0x7cd0, 0xf43a, 0xcb15, 0x17bf, 0x0, 0x0);
        gbc.writeMem(0x940b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xae73);
        EXPECT(gbc.pc(), 0x940d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x940b), 0xcb);
        EXPECT(gbc.readMem(0x940c), 0xc5);
        // CB C5 01C6
        gbc.setState(0x9682, 0xc025, 0xd1b0, 0x7a61, 0xad9d, 0x9df2, 0x1, 0x1);
        gbc.writeMem(0x9682, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc025);
        EXPECT(gbc.pc(), 0x9684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9682), 0xcb);
        EXPECT(gbc.readMem(0x9683), 0xc5);
        // CB C5 01C7
        gbc.setState(0x3592, 0xfd85, 0x4320, 0xa54d, 0x6d5b, 0x44f7, 0x1, 0x0);
        gbc.writeMem(0x3592, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xfd85);
        EXPECT(gbc.pc(), 0x3594);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01C8
        gbc.setState(0xe8e5, 0x8845, 0x6ac0, 0x69dc, 0xd6e3, 0xd838, 0x0, 0x0);
        gbc.writeMem(0xe8e5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x8845);
        EXPECT(gbc.pc(), 0xe8e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e5), 0xcb);
        EXPECT(gbc.readMem(0xe8e6), 0xc5);
        // CB C5 01C9
        gbc.setState(0x3477, 0xcb64, 0x55c0, 0xf3f8, 0x624b, 0x5c16, 0x1, 0x1);
        gbc.writeMem(0x3477, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xcb64);
        EXPECT(gbc.pc(), 0x3479);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01CA
        gbc.setState(0xb5ff, 0xc99d, 0x1910, 0xe11c, 0x5e72, 0x63db, 0x1, 0x1);
        gbc.writeMem(0xb5ff, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xc99d);
        EXPECT(gbc.pc(), 0xb601);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5ff), 0xcb);
        EXPECT(gbc.readMem(0xb600), 0xc5);
        // CB C5 01CB
        gbc.setState(0xa437, 0x9520, 0x1300, 0x8e12, 0x513, 0x5cd1, 0x0, 0x1);
        gbc.writeMem(0xa437, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9520);
        EXPECT(gbc.pc(), 0xa439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa437), 0xcb);
        EXPECT(gbc.readMem(0xa438), 0xc5);
        // CB C5 01CC
        gbc.setState(0x717b, 0x8e90, 0x8dd0, 0xc436, 0xcfcb, 0xa4b7, 0x0, 0x1);
        gbc.writeMem(0x717b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8e90);
        EXPECT(gbc.pc(), 0x717d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01CD
        gbc.setState(0xd1a5, 0x8dba, 0x95c0, 0x7e60, 0xc9b0, 0x2f5e, 0x0, 0x1);
        gbc.writeMem(0xd1a5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8dba);
        EXPECT(gbc.pc(), 0xd1a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1a5), 0xcb);
        EXPECT(gbc.readMem(0xd1a6), 0xc5);
        // CB C5 01CE
        gbc.setState(0x4120, 0x5d83, 0x4b10, 0xce3e, 0x4837, 0xe54b, 0x0, 0x1);
        gbc.writeMem(0x4120, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5d83);
        EXPECT(gbc.pc(), 0x4122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01CF
        gbc.setState(0xa747, 0x71c8, 0x4920, 0xb39, 0x385a, 0xc36c, 0x1, 0x0);
        gbc.writeMem(0xa747, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x71c8);
        EXPECT(gbc.pc(), 0xa749);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa747), 0xcb);
        EXPECT(gbc.readMem(0xa748), 0xc5);
        // CB C5 01D0
        gbc.setState(0x809c, 0xab42, 0xc770, 0x4089, 0x1554, 0x565f, 0x1, 0x1);
        gbc.writeMem(0x809c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xab42);
        EXPECT(gbc.pc(), 0x809e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x809c), 0xcb);
        EXPECT(gbc.readMem(0x809d), 0xc5);
        // CB C5 01D1
        gbc.setState(0x9fad, 0x2fdc, 0x9380, 0xd730, 0x4576, 0xe318, 0x1, 0x0);
        gbc.writeMem(0x9fad, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2fdc);
        EXPECT(gbc.pc(), 0x9faf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fad), 0xcb);
        EXPECT(gbc.readMem(0x9fae), 0xc5);
        // CB C5 01D2
        gbc.setState(0x9b0d, 0xf49e, 0x79b0, 0x3543, 0x83e1, 0x62a2, 0x0, 0x1);
        gbc.writeMem(0x9b0d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf49e);
        EXPECT(gbc.pc(), 0x9b0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b0d), 0xcb);
        EXPECT(gbc.readMem(0x9b0e), 0xc5);
        // CB C5 01D3
        gbc.setState(0x59dc, 0xf68a, 0xaa80, 0x768f, 0xd577, 0xe025, 0x1, 0x0);
        gbc.writeMem(0x59dc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf68a);
        EXPECT(gbc.pc(), 0x59de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01D4
        gbc.setState(0x17d7, 0xc54, 0xe330, 0xbbdd, 0x74a2, 0xf20d, 0x0, 0x0);
        gbc.writeMem(0x17d7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc54);
        EXPECT(gbc.pc(), 0x17d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01D5
        gbc.setState(0xc41d, 0x10c3, 0x1440, 0xbcb8, 0x8b52, 0x2ea8, 0x1, 0x0);
        gbc.writeMem(0xc41d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x10c3);
        EXPECT(gbc.pc(), 0xc41f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc41d), 0xcb);
        EXPECT(gbc.readMem(0xc41e), 0xc5);
        // CB C5 01D6
        gbc.setState(0x598f, 0x16b9, 0xa690, 0x50b5, 0x9a9, 0x6697, 0x0, 0x1);
        gbc.writeMem(0x598f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x16b9);
        EXPECT(gbc.pc(), 0x5991);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01D7
        gbc.setState(0x832b, 0x8dba, 0x69d0, 0x166e, 0x1565, 0xc494, 0x1, 0x1);
        gbc.writeMem(0x832b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8dba);
        EXPECT(gbc.pc(), 0x832d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x832b), 0xcb);
        EXPECT(gbc.readMem(0x832c), 0xc5);
        // CB C5 01D8
        gbc.setState(0x252c, 0x1916, 0xad20, 0xc6ce, 0xff77, 0xbdec, 0x1, 0x1);
        gbc.writeMem(0x252c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x1916);
        EXPECT(gbc.pc(), 0x252e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01D9
        gbc.setState(0xd348, 0x13dc, 0x9670, 0xeee5, 0xe044, 0xcc05, 0x0, 0x1);
        gbc.writeMem(0xd348, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x13dc);
        EXPECT(gbc.pc(), 0xd34a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd348), 0xcb);
        EXPECT(gbc.readMem(0xd349), 0xc5);
        // CB C5 01DA
        gbc.setState(0xbd70, 0x4ed4, 0x5ff0, 0xa632, 0x7646, 0x2c64, 0x1, 0x1);
        gbc.writeMem(0xbd70, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4ed4);
        EXPECT(gbc.pc(), 0xbd72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd70), 0xcb);
        EXPECT(gbc.readMem(0xbd71), 0xc5);
        // CB C5 01DC
        gbc.setState(0xb3b4, 0x419e, 0xf9f0, 0x3f3e, 0x1e70, 0x1ed1, 0x0, 0x0);
        gbc.writeMem(0xb3b4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x419e);
        EXPECT(gbc.pc(), 0xb3b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3b4), 0xcb);
        EXPECT(gbc.readMem(0xb3b5), 0xc5);
        // CB C5 01DD
        gbc.setState(0xc34d, 0x3937, 0x5960, 0x8fc9, 0x10eb, 0x6e67, 0x0, 0x1);
        gbc.writeMem(0xc34d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x3937);
        EXPECT(gbc.pc(), 0xc34f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc34d), 0xcb);
        EXPECT(gbc.readMem(0xc34e), 0xc5);
        // CB C5 01DE
        gbc.setState(0x2175, 0x5e, 0x1d10, 0xe1fa, 0x17aa, 0x6e92, 0x0, 0x1);
        gbc.writeMem(0x2175, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5e);
        EXPECT(gbc.pc(), 0x2177);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01DF
        gbc.setState(0x2130, 0xa3e5, 0x34a0, 0xee8a, 0x3e3, 0xac9a, 0x1, 0x1);
        gbc.writeMem(0x2130, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa3e5);
        EXPECT(gbc.pc(), 0x2132);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01E0
        gbc.setState(0xd4e2, 0x6969, 0xf5c0, 0x465a, 0xd6d8, 0xba46, 0x0, 0x1);
        gbc.writeMem(0xd4e2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x6969);
        EXPECT(gbc.pc(), 0xd4e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e2), 0xcb);
        EXPECT(gbc.readMem(0xd4e3), 0xc5);
        // CB C5 01E1
        gbc.setState(0x334f, 0x31c6, 0xe5c0, 0x578a, 0xa82d, 0x4542, 0x1, 0x0);
        gbc.writeMem(0x334f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x31c6);
        EXPECT(gbc.pc(), 0x3351);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01E2
        gbc.setState(0x9cea, 0x9266, 0x1b10, 0x4e39, 0x88e8, 0x590, 0x1, 0x0);
        gbc.writeMem(0x9cea, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x9266);
        EXPECT(gbc.pc(), 0x9cec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cea), 0xcb);
        EXPECT(gbc.readMem(0x9ceb), 0xc5);
        // CB C5 01E4
        gbc.setState(0x7ebf, 0xed6b, 0x4090, 0x144e, 0xb87f, 0x6b3c, 0x1, 0x1);
        gbc.writeMem(0x7ebf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xed6b);
        EXPECT(gbc.pc(), 0x7ec1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01E5
        gbc.setState(0x3e9a, 0x83fc, 0x5810, 0x5b35, 0xe2a9, 0x995e, 0x1, 0x1);
        gbc.writeMem(0x3e9a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x83fc);
        EXPECT(gbc.pc(), 0x3e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01E6
        gbc.setState(0x40b, 0xc4c0, 0xf90, 0x55b2, 0xc03, 0x6d85, 0x0, 0x0);
        gbc.writeMem(0x40b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc4c0);
        EXPECT(gbc.pc(), 0x40d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01E7
        gbc.setState(0xa44a, 0x31cf, 0x18b0, 0x5000, 0xea51, 0xc3d8, 0x1, 0x0);
        gbc.writeMem(0xa44a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x31cf);
        EXPECT(gbc.pc(), 0xa44c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa44a), 0xcb);
        EXPECT(gbc.readMem(0xa44b), 0xc5);
        // CB C5 01E8
        gbc.setState(0x7349, 0xd8e9, 0x68d0, 0x1962, 0xe739, 0x444f, 0x1, 0x1);
        gbc.writeMem(0x7349, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xd8e9);
        EXPECT(gbc.pc(), 0x734b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01E9
        gbc.setState(0x831a, 0x7498, 0xa560, 0x5806, 0xa8da, 0xf7d2, 0x0, 0x1);
        gbc.writeMem(0x831a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7498);
        EXPECT(gbc.pc(), 0x831c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x831a), 0xcb);
        EXPECT(gbc.readMem(0x831b), 0xc5);
        // CB C5 01EA
        gbc.setState(0x7739, 0xdd42, 0xfcd0, 0x71a0, 0x51f6, 0x6d75, 0x0, 0x1);
        gbc.writeMem(0x7739, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xdd42);
        EXPECT(gbc.pc(), 0x773b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01EB
        gbc.setState(0xb6c6, 0x9b13, 0xd3d0, 0x59a7, 0x2f38, 0x3c31, 0x1, 0x0);
        gbc.writeMem(0xb6c6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9b13);
        EXPECT(gbc.pc(), 0xb6c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6c6), 0xcb);
        EXPECT(gbc.readMem(0xb6c7), 0xc5);
        // CB C5 01EC
        gbc.setState(0x6b48, 0x316d, 0x13a0, 0xf0fc, 0x54d1, 0x86dc, 0x1, 0x1);
        gbc.writeMem(0x6b48, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x316d);
        EXPECT(gbc.pc(), 0x6b4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01ED
        gbc.setState(0x55f9, 0xdff9, 0x3990, 0xcead, 0x9914, 0x9b07, 0x1, 0x1);
        gbc.writeMem(0x55f9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xdff9);
        EXPECT(gbc.pc(), 0x55fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01EE
        gbc.setState(0xc6c1, 0xb240, 0xfa50, 0xce86, 0x43a4, 0x286c, 0x1, 0x0);
        gbc.writeMem(0xc6c1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb240);
        EXPECT(gbc.pc(), 0xc6c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6c1), 0xcb);
        EXPECT(gbc.readMem(0xc6c2), 0xc5);
        // CB C5 01EF
        gbc.setState(0xbd4, 0x8ec0, 0xa1a0, 0x961, 0xc32a, 0xeed1, 0x1, 0x1);
        gbc.writeMem(0xbd4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8ec0);
        EXPECT(gbc.pc(), 0xbd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01F0
        gbc.setState(0xa611, 0x5d66, 0xd040, 0x9a54, 0x3d9d, 0x57bf, 0x0, 0x0);
        gbc.writeMem(0xa611, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5d66);
        EXPECT(gbc.pc(), 0xa613);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa611), 0xcb);
        EXPECT(gbc.readMem(0xa612), 0xc5);
        // CB C5 01F1
        gbc.setState(0x7ddc, 0x7f62, 0xcc20, 0xf01b, 0xef6c, 0xa7fc, 0x1, 0x1);
        gbc.writeMem(0x7ddc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7f62);
        EXPECT(gbc.pc(), 0x7dde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01F2
        gbc.setState(0xb2ee, 0x39ef, 0x9280, 0xc2f0, 0xcacd, 0x7b1, 0x0, 0x0);
        gbc.writeMem(0xb2ee, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x39ef);
        EXPECT(gbc.pc(), 0xb2f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ee), 0xcb);
        EXPECT(gbc.readMem(0xb2ef), 0xc5);
        // CB C5 01F3
        gbc.setState(0xb2, 0xe4be, 0xd1b0, 0x7d83, 0x47be, 0x8703, 0x0, 0x0);
        gbc.writeMem(0xb2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe4be);
        EXPECT(gbc.pc(), 0xb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01F4
        gbc.setState(0xde18, 0x6138, 0x9890, 0x2e1, 0xf6a, 0xd565, 0x0, 0x1);
        gbc.writeMem(0xde18, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x6138);
        EXPECT(gbc.pc(), 0xde1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde18), 0xcb);
        EXPECT(gbc.readMem(0xde19), 0xc5);
        // CB C5 01F5
        gbc.setState(0x266c, 0x1b, 0xb140, 0xf180, 0xd0a7, 0x1045, 0x0, 0x1);
        gbc.writeMem(0x266c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1b);
        EXPECT(gbc.pc(), 0x266e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01F6
        gbc.setState(0xea04, 0x8ccb, 0x1ce0, 0x6732, 0xbd42, 0xc9ae, 0x1, 0x0);
        gbc.writeMem(0xea04, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8ccb);
        EXPECT(gbc.pc(), 0xea06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea04), 0xcb);
        EXPECT(gbc.readMem(0xea05), 0xc5);
        // CB C5 01F7
        gbc.setState(0x6b27, 0x61d4, 0x5350, 0x234c, 0x3b75, 0xbebc, 0x0, 0x0);
        gbc.writeMem(0x6b27, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x61d4);
        EXPECT(gbc.pc(), 0x6b29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01F8
        gbc.setState(0x3b08, 0x6141, 0xd020, 0xc22c, 0xe892, 0x64a0, 0x1, 0x1);
        gbc.writeMem(0x3b08, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6141);
        EXPECT(gbc.pc(), 0x3b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01F9
        gbc.setState(0x1783, 0x9ea1, 0x2300, 0xc855, 0xe034, 0xa242, 0x1, 0x1);
        gbc.writeMem(0x1783, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9ea1);
        EXPECT(gbc.pc(), 0x1785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01FA
        gbc.setState(0x2057, 0xab6a, 0x8cc0, 0x3cb5, 0x16c8, 0x69f8, 0x1, 0x0);
        gbc.writeMem(0x2057, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xab6a);
        EXPECT(gbc.pc(), 0x2059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01FB
        gbc.setState(0x55b3, 0x9e66, 0x6670, 0x55d6, 0x748a, 0x7fc, 0x1, 0x1);
        gbc.writeMem(0x55b3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x9e66);
        EXPECT(gbc.pc(), 0x55b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01FC
        gbc.setState(0x74, 0xbfe, 0xdfe0, 0x2e7b, 0x66fd, 0xfe79, 0x0, 0x1);
        gbc.writeMem(0x74, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xbfe);
        EXPECT(gbc.pc(), 0x76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 01FD
        gbc.setState(0xaaec, 0x9665, 0x5220, 0x515b, 0x645f, 0x2fa, 0x0, 0x1);
        gbc.writeMem(0xaaec, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9665);
        EXPECT(gbc.pc(), 0xaaee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaec), 0xcb);
        EXPECT(gbc.readMem(0xaaed), 0xc5);
        // CB C5 01FE
        gbc.setState(0x10e1, 0xa60e, 0xe390, 0x4472, 0xd197, 0x6169, 0x1, 0x0);
        gbc.writeMem(0x10e1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xa60e);
        EXPECT(gbc.pc(), 0x10e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 01FF
        gbc.setState(0xdd70, 0xc6e9, 0xfc50, 0xe45c, 0xa998, 0xc3b6, 0x0, 0x1);
        gbc.writeMem(0xdd70, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc6e9);
        EXPECT(gbc.pc(), 0xdd72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd70), 0xcb);
        EXPECT(gbc.readMem(0xdd71), 0xc5);
        // CB C5 0200
        gbc.setState(0xe87a, 0x6a6a, 0x5630, 0x9d2a, 0xa37c, 0xd3ea, 0x0, 0x0);
        gbc.writeMem(0xe87a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6a6a);
        EXPECT(gbc.pc(), 0xe87c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe87a), 0xcb);
        EXPECT(gbc.readMem(0xe87b), 0xc5);
        // CB C5 0201
        gbc.setState(0x1779, 0xad75, 0x4c80, 0x46aa, 0xde66, 0x684d, 0x0, 0x0);
        gbc.writeMem(0x1779, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xad75);
        EXPECT(gbc.pc(), 0x177b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0202
        gbc.setState(0x1e31, 0xd13e, 0x7610, 0x3354, 0xbf02, 0x1ff9, 0x0, 0x1);
        gbc.writeMem(0x1e31, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xd13e);
        EXPECT(gbc.pc(), 0x1e33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0203
        gbc.setState(0x79cd, 0x1ea9, 0x7a10, 0x3a46, 0x1232, 0x64de, 0x0, 0x0);
        gbc.writeMem(0x79cd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1ea9);
        EXPECT(gbc.pc(), 0x79cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0204
        gbc.setState(0x6f03, 0x551d, 0x30, 0xd822, 0x6842, 0x445e, 0x1, 0x1);
        gbc.writeMem(0x6f03, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x551d);
        EXPECT(gbc.pc(), 0x6f05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0205
        gbc.setState(0x99c0, 0xa09b, 0x7e0, 0xc678, 0xc812, 0x266f, 0x0, 0x0);
        gbc.writeMem(0x99c0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa09b);
        EXPECT(gbc.pc(), 0x99c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99c0), 0xcb);
        EXPECT(gbc.readMem(0x99c1), 0xc5);
        // CB C5 0206
        gbc.setState(0x7816, 0x5c9a, 0x1230, 0x22b3, 0x7981, 0xdc82, 0x0, 0x1);
        gbc.writeMem(0x7816, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x5c9a);
        EXPECT(gbc.pc(), 0x7818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0207
        gbc.setState(0x2f6b, 0x6317, 0x1ca0, 0x9a10, 0x1e46, 0x7f2b, 0x1, 0x0);
        gbc.writeMem(0x2f6b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6317);
        EXPECT(gbc.pc(), 0x2f6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0208
        gbc.setState(0x9c2a, 0x40a0, 0x9820, 0x9487, 0x3ad2, 0x9650, 0x0, 0x1);
        gbc.writeMem(0x9c2a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x40a0);
        EXPECT(gbc.pc(), 0x9c2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c2a), 0xcb);
        EXPECT(gbc.readMem(0x9c2b), 0xc5);
        // CB C5 0209
        gbc.setState(0x6953, 0xdbc9, 0x8c40, 0x2729, 0x9365, 0x4ce4, 0x0, 0x1);
        gbc.writeMem(0x6953, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xdbc9);
        EXPECT(gbc.pc(), 0x6955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 020A
        gbc.setState(0xda8e, 0x40a2, 0x4f0, 0xef88, 0x4740, 0x1b13, 0x1, 0x0);
        gbc.writeMem(0xda8e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x40a2);
        EXPECT(gbc.pc(), 0xda90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda8e), 0xcb);
        EXPECT(gbc.readMem(0xda8f), 0xc5);
        // CB C5 020B
        gbc.setState(0x708f, 0x8daa, 0x3110, 0xff38, 0xcae6, 0x125f, 0x1, 0x1);
        gbc.writeMem(0x708f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8daa);
        EXPECT(gbc.pc(), 0x7091);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 020C
        gbc.setState(0x8e5b, 0x9c99, 0x8100, 0xd867, 0xa598, 0x2005, 0x1, 0x1);
        gbc.writeMem(0x8e5b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9c99);
        EXPECT(gbc.pc(), 0x8e5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e5b), 0xcb);
        EXPECT(gbc.readMem(0x8e5c), 0xc5);
        // CB C5 020D
        gbc.setState(0xa3b9, 0xd2c3, 0x6cc0, 0x8f74, 0x2766, 0x97fc, 0x1, 0x1);
        gbc.writeMem(0xa3b9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd2c3);
        EXPECT(gbc.pc(), 0xa3bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b9), 0xcb);
        EXPECT(gbc.readMem(0xa3ba), 0xc5);
        // CB C5 020E
        gbc.setState(0x5452, 0x7d21, 0x2a80, 0x96e7, 0xdb0c, 0x4170, 0x0, 0x0);
        gbc.writeMem(0x5452, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x7d21);
        EXPECT(gbc.pc(), 0x5454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 020F
        gbc.setState(0x535d, 0xaf88, 0xee40, 0x4c74, 0x1ffb, 0x5770, 0x1, 0x1);
        gbc.writeMem(0x535d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xaf88);
        EXPECT(gbc.pc(), 0x535f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0210
        gbc.setState(0xcd2f, 0xf568, 0x9070, 0x91d6, 0x9731, 0x6ce4, 0x0, 0x0);
        gbc.writeMem(0xcd2f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xf568);
        EXPECT(gbc.pc(), 0xcd31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd2f), 0xcb);
        EXPECT(gbc.readMem(0xcd30), 0xc5);
        // CB C5 0211
        gbc.setState(0x7212, 0xd318, 0x7b60, 0x6a5a, 0x692f, 0x262a, 0x1, 0x0);
        gbc.writeMem(0x7212, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd318);
        EXPECT(gbc.pc(), 0x7214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0212
        gbc.setState(0x6219, 0xf52c, 0x35f0, 0x3e27, 0x5f52, 0x5b8d, 0x1, 0x0);
        gbc.writeMem(0x6219, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf52c);
        EXPECT(gbc.pc(), 0x621b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0213
        gbc.setState(0x48d6, 0x8865, 0xe9d0, 0x2690, 0xc6b7, 0xb45c, 0x0, 0x1);
        gbc.writeMem(0x48d6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8865);
        EXPECT(gbc.pc(), 0x48d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0214
        gbc.setState(0xe261, 0xa008, 0x1c10, 0xd1ca, 0xc3d4, 0xb5a, 0x0, 0x1);
        gbc.writeMem(0xe261, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa008);
        EXPECT(gbc.pc(), 0xe263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe261), 0xcb);
        EXPECT(gbc.readMem(0xe262), 0xc5);
        // CB C5 0215
        gbc.setState(0xedfc, 0x53b1, 0x360, 0x9ac, 0xc74d, 0x1d65, 0x1, 0x0);
        gbc.writeMem(0xedfc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x53b1);
        EXPECT(gbc.pc(), 0xedfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedfc), 0xcb);
        EXPECT(gbc.readMem(0xedfd), 0xc5);
        // CB C5 0216
        gbc.setState(0x512f, 0x82d8, 0x60b0, 0x69eb, 0xc3c9, 0x58b, 0x0, 0x1);
        gbc.writeMem(0x512f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x82d8);
        EXPECT(gbc.pc(), 0x5131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0217
        gbc.setState(0x55de, 0xcd35, 0x39d0, 0x154c, 0xec0d, 0xeda0, 0x0, 0x1);
        gbc.writeMem(0x55de, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcd35);
        EXPECT(gbc.pc(), 0x55e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0218
        gbc.setState(0xeff3, 0x2e74, 0xe4d0, 0xcbf2, 0x2288, 0x1e, 0x0, 0x0);
        gbc.writeMem(0xeff3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2e74);
        EXPECT(gbc.pc(), 0xeff5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeff3), 0xcb);
        EXPECT(gbc.readMem(0xeff4), 0xc5);
        // CB C5 0219
        gbc.setState(0x49f6, 0x4147, 0x32e0, 0xd2d, 0x2b78, 0x2605, 0x0, 0x0);
        gbc.writeMem(0x49f6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x4147);
        EXPECT(gbc.pc(), 0x49f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 021A
        gbc.setState(0xce52, 0xbdf4, 0x35c0, 0x64ef, 0x574c, 0x2c0, 0x1, 0x0);
        gbc.writeMem(0xce52, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xbdf4);
        EXPECT(gbc.pc(), 0xce54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce52), 0xcb);
        EXPECT(gbc.readMem(0xce53), 0xc5);
        // CB C5 021B
        gbc.setState(0x8ded, 0x434b, 0x3620, 0xb5b4, 0xcac1, 0xa3dd, 0x0, 0x1);
        gbc.writeMem(0x8ded, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x434b);
        EXPECT(gbc.pc(), 0x8def);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ded), 0xcb);
        EXPECT(gbc.readMem(0x8dee), 0xc5);
        // CB C5 021C
        gbc.setState(0x1f8f, 0x2670, 0x67a0, 0x5cee, 0x4e33, 0xca9c, 0x1, 0x0);
        gbc.writeMem(0x1f8f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2670);
        EXPECT(gbc.pc(), 0x1f91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 021D
        gbc.setState(0x16a1, 0x5446, 0x4b30, 0x9575, 0x3379, 0xb2c4, 0x1, 0x1);
        gbc.writeMem(0x16a1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x5446);
        EXPECT(gbc.pc(), 0x16a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 021E
        gbc.setState(0x7d8f, 0xe5c, 0x3ea0, 0xf36a, 0x804a, 0x76ff, 0x0, 0x1);
        gbc.writeMem(0x7d8f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe5c);
        EXPECT(gbc.pc(), 0x7d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 021F
        gbc.setState(0xb430, 0xc0a4, 0x13b0, 0xd7d2, 0xd9e7, 0xcffd, 0x1, 0x1);
        gbc.writeMem(0xb430, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc0a4);
        EXPECT(gbc.pc(), 0xb432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb430), 0xcb);
        EXPECT(gbc.readMem(0xb431), 0xc5);
        // CB C5 0220
        gbc.setState(0xb8bb, 0xc927, 0xf310, 0x4615, 0x6f1b, 0x10ad, 0x0, 0x1);
        gbc.writeMem(0xb8bb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc927);
        EXPECT(gbc.pc(), 0xb8bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8bb), 0xcb);
        EXPECT(gbc.readMem(0xb8bc), 0xc5);
        // CB C5 0221
        gbc.setState(0x4088, 0x5f97, 0x9a00, 0xe7cf, 0x1fca, 0xb877, 0x0, 0x0);
        gbc.writeMem(0x4088, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5f97);
        EXPECT(gbc.pc(), 0x408a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0222
        gbc.setState(0x8fab, 0xa689, 0x2e20, 0xf35c, 0x3ac, 0x3dc0, 0x1, 0x0);
        gbc.writeMem(0x8fab, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa689);
        EXPECT(gbc.pc(), 0x8fad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fab), 0xcb);
        EXPECT(gbc.readMem(0x8fac), 0xc5);
        // CB C5 0223
        gbc.setState(0x605e, 0xbcab, 0x64d0, 0x5a5d, 0x914d, 0x3640, 0x0, 0x1);
        gbc.writeMem(0x605e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbcab);
        EXPECT(gbc.pc(), 0x6060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0224
        gbc.setState(0x18b1, 0xcc6d, 0x9850, 0xe2ec, 0x3c99, 0x6712, 0x1, 0x1);
        gbc.writeMem(0x18b1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xcc6d);
        EXPECT(gbc.pc(), 0x18b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0225
        gbc.setState(0x9c60, 0x2316, 0x89f0, 0x6fb7, 0x11dc, 0x3f51, 0x0, 0x1);
        gbc.writeMem(0x9c60, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2316);
        EXPECT(gbc.pc(), 0x9c62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c60), 0xcb);
        EXPECT(gbc.readMem(0x9c61), 0xc5);
        // CB C5 0226
        gbc.setState(0x853b, 0xd898, 0xb430, 0x26ec, 0x4123, 0x5ce0, 0x0, 0x0);
        gbc.writeMem(0x853b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xd898);
        EXPECT(gbc.pc(), 0x853d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x853b), 0xcb);
        EXPECT(gbc.readMem(0x853c), 0xc5);
        // CB C5 0227
        gbc.setState(0x9d0e, 0x91ff, 0x29e0, 0x6c2, 0x607e, 0xd0d9, 0x1, 0x1);
        gbc.writeMem(0x9d0e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x91ff);
        EXPECT(gbc.pc(), 0x9d10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d0e), 0xcb);
        EXPECT(gbc.readMem(0x9d0f), 0xc5);
        // CB C5 022A
        gbc.setState(0x25f1, 0x1d1c, 0x5c20, 0x3c38, 0xa00, 0xed55, 0x0, 0x1);
        gbc.writeMem(0x25f1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1d1c);
        EXPECT(gbc.pc(), 0x25f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 022B
        gbc.setState(0xcaab, 0xe475, 0x9f00, 0xee50, 0x7960, 0x86ae, 0x1, 0x1);
        gbc.writeMem(0xcaab, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe475);
        EXPECT(gbc.pc(), 0xcaad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaab), 0xcb);
        EXPECT(gbc.readMem(0xcaac), 0xc5);
        // CB C5 022C
        gbc.setState(0xd195, 0x4ef3, 0x1410, 0x8b29, 0x3591, 0x5445, 0x0, 0x1);
        gbc.writeMem(0xd195, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x4ef3);
        EXPECT(gbc.pc(), 0xd197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd195), 0xcb);
        EXPECT(gbc.readMem(0xd196), 0xc5);
        // CB C5 022D
        gbc.setState(0xc635, 0x33b2, 0x79d0, 0x4485, 0x431, 0x1948, 0x1, 0x1);
        gbc.writeMem(0xc635, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x33b2);
        EXPECT(gbc.pc(), 0xc637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc635), 0xcb);
        EXPECT(gbc.readMem(0xc636), 0xc5);
        // CB C5 022F
        gbc.setState(0xbdfb, 0xfbb1, 0x8c50, 0x2535, 0x11fc, 0x8ffa, 0x1, 0x0);
        gbc.writeMem(0xbdfb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xfbb1);
        EXPECT(gbc.pc(), 0xbdfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdfb), 0xcb);
        EXPECT(gbc.readMem(0xbdfc), 0xc5);
        // CB C5 0230
        gbc.setState(0x57c7, 0x7412, 0xb1e0, 0x188e, 0x73b0, 0x9342, 0x1, 0x1);
        gbc.writeMem(0x57c7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7412);
        EXPECT(gbc.pc(), 0x57c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0231
        gbc.setState(0x1232, 0x451d, 0xd630, 0x4ab6, 0x182b, 0x763b, 0x1, 0x0);
        gbc.writeMem(0x1232, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x451d);
        EXPECT(gbc.pc(), 0x1234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0232
        gbc.setState(0x9662, 0xf385, 0xead0, 0xaa22, 0x2e69, 0x51b1, 0x0, 0x0);
        gbc.writeMem(0x9662, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf385);
        EXPECT(gbc.pc(), 0x9664);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9662), 0xcb);
        EXPECT(gbc.readMem(0x9663), 0xc5);
        // CB C5 0233
        gbc.setState(0x1120, 0x7640, 0x45d0, 0x8704, 0x82b7, 0xe4ed, 0x0, 0x0);
        gbc.writeMem(0x1120, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7640);
        EXPECT(gbc.pc(), 0x1122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0234
        gbc.setState(0xba35, 0x2ee8, 0xbd70, 0xe2b6, 0xd6fb, 0x5f9c, 0x1, 0x1);
        gbc.writeMem(0xba35, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2ee8);
        EXPECT(gbc.pc(), 0xba37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba35), 0xcb);
        EXPECT(gbc.readMem(0xba36), 0xc5);
        // CB C5 0235
        gbc.setState(0x7b0f, 0xf8c1, 0x58b0, 0xfe85, 0x2b3d, 0x3203, 0x0, 0x1);
        gbc.writeMem(0x7b0f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf8c1);
        EXPECT(gbc.pc(), 0x7b11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0236
        gbc.setState(0xcc8f, 0x439f, 0xbbc0, 0xccba, 0x254a, 0xc905, 0x1, 0x0);
        gbc.writeMem(0xcc8f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x439f);
        EXPECT(gbc.pc(), 0xcc91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8f), 0xcb);
        EXPECT(gbc.readMem(0xcc90), 0xc5);
        // CB C5 0237
        gbc.setState(0xb42d, 0xf6b3, 0xc750, 0x204e, 0x4560, 0x2857, 0x1, 0x0);
        gbc.writeMem(0xb42d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf6b3);
        EXPECT(gbc.pc(), 0xb42f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb42d), 0xcb);
        EXPECT(gbc.readMem(0xb42e), 0xc5);
        // CB C5 0238
        gbc.setState(0x8791, 0x5f8e, 0x60e0, 0xe642, 0xdd62, 0xc3f4, 0x0, 0x0);
        gbc.writeMem(0x8791, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5f8e);
        EXPECT(gbc.pc(), 0x8793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8791), 0xcb);
        EXPECT(gbc.readMem(0x8792), 0xc5);
        // CB C5 0239
        gbc.setState(0x2a55, 0xd39e, 0xc680, 0x709e, 0xabd2, 0x2711, 0x0, 0x1);
        gbc.writeMem(0x2a55, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd39e);
        EXPECT(gbc.pc(), 0x2a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 023A
        gbc.setState(0x3af, 0xce97, 0x43d0, 0x6df1, 0x1f35, 0x7960, 0x1, 0x1);
        gbc.writeMem(0x3af, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xce97);
        EXPECT(gbc.pc(), 0x3b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 023B
        gbc.setState(0x841f, 0x334f, 0xfff0, 0x8573, 0x3e97, 0xab06, 0x1, 0x1);
        gbc.writeMem(0x841f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x334f);
        EXPECT(gbc.pc(), 0x8421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x841f), 0xcb);
        EXPECT(gbc.readMem(0x8420), 0xc5);
        // CB C5 023C
        gbc.setState(0x4ba1, 0xf6c1, 0x2860, 0x1f8e, 0x7523, 0x86a, 0x0, 0x0);
        gbc.writeMem(0x4ba1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf6c1);
        EXPECT(gbc.pc(), 0x4ba3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 023E
        gbc.setState(0x3ead, 0x5e5, 0xa490, 0x1f64, 0x26fb, 0xf491, 0x1, 0x1);
        gbc.writeMem(0x3ead, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x5e5);
        EXPECT(gbc.pc(), 0x3eaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 023F
        gbc.setState(0x6d44, 0x745d, 0x4c60, 0xd585, 0x9273, 0x91f9, 0x0, 0x0);
        gbc.writeMem(0x6d44, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x745d);
        EXPECT(gbc.pc(), 0x6d46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0240
        gbc.setState(0x8cf6, 0x36ea, 0x8740, 0x7b32, 0x2eaf, 0x9cff, 0x0, 0x0);
        gbc.writeMem(0x8cf6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x36ea);
        EXPECT(gbc.pc(), 0x8cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cf6), 0xcb);
        EXPECT(gbc.readMem(0x8cf7), 0xc5);
        // CB C5 0241
        gbc.setState(0x28b3, 0x59e, 0xa950, 0x461b, 0xe1ec, 0xf1f8, 0x0, 0x1);
        gbc.writeMem(0x28b3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x59e);
        EXPECT(gbc.pc(), 0x28b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0242
        gbc.setState(0x8e92, 0xc33f, 0xbb40, 0xe109, 0xc69a, 0x2435, 0x1, 0x0);
        gbc.writeMem(0x8e92, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc33f);
        EXPECT(gbc.pc(), 0x8e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e92), 0xcb);
        EXPECT(gbc.readMem(0x8e93), 0xc5);
        // CB C5 0244
        gbc.setState(0x4054, 0x107e, 0x93a0, 0x4a31, 0xc2ee, 0x992d, 0x1, 0x0);
        gbc.writeMem(0x4054, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x107e);
        EXPECT(gbc.pc(), 0x4056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0245
        gbc.setState(0x48dc, 0xc1a, 0xb7d0, 0x8a5b, 0xbe92, 0x230d, 0x1, 0x0);
        gbc.writeMem(0x48dc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc1a);
        EXPECT(gbc.pc(), 0x48de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0246
        gbc.setState(0xb5ba, 0x3e8f, 0x29a0, 0x4ce3, 0xd296, 0xb595, 0x1, 0x0);
        gbc.writeMem(0xb5ba, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x3e8f);
        EXPECT(gbc.pc(), 0xb5bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ba), 0xcb);
        EXPECT(gbc.readMem(0xb5bb), 0xc5);
        // CB C5 0247
        gbc.setState(0xc54b, 0x4229, 0x82f0, 0x801, 0x70ca, 0xf479, 0x1, 0x1);
        gbc.writeMem(0xc54b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4229);
        EXPECT(gbc.pc(), 0xc54d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc54b), 0xcb);
        EXPECT(gbc.readMem(0xc54c), 0xc5);
        // CB C5 0248
        gbc.setState(0xe810, 0xb798, 0x57a0, 0x854a, 0xd23a, 0x6985, 0x1, 0x0);
        gbc.writeMem(0xe810, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb798);
        EXPECT(gbc.pc(), 0xe812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe810), 0xcb);
        EXPECT(gbc.readMem(0xe811), 0xc5);
        // CB C5 0249
        gbc.setState(0x9a36, 0xe64b, 0xdfa0, 0x6eb, 0x107c, 0xb717, 0x1, 0x0);
        gbc.writeMem(0x9a36, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xe64b);
        EXPECT(gbc.pc(), 0x9a38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a36), 0xcb);
        EXPECT(gbc.readMem(0x9a37), 0xc5);
        // CB C5 024A
        gbc.setState(0x99a7, 0x1438, 0xc100, 0xca75, 0xd88f, 0xb081, 0x0, 0x1);
        gbc.writeMem(0x99a7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1438);
        EXPECT(gbc.pc(), 0x99a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99a7), 0xcb);
        EXPECT(gbc.readMem(0x99a8), 0xc5);
        // CB C5 024B
        gbc.setState(0xdb0c, 0xb51b, 0x460, 0x3200, 0x826f, 0xdba8, 0x0, 0x1);
        gbc.writeMem(0xdb0c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xb51b);
        EXPECT(gbc.pc(), 0xdb0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb0c), 0xcb);
        EXPECT(gbc.readMem(0xdb0d), 0xc5);
        // CB C5 024C
        gbc.setState(0xee08, 0xb559, 0x1440, 0x8696, 0xbfee, 0xcee7, 0x0, 0x1);
        gbc.writeMem(0xee08, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb559);
        EXPECT(gbc.pc(), 0xee0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee08), 0xcb);
        EXPECT(gbc.readMem(0xee09), 0xc5);
        // CB C5 024E
        gbc.setState(0x3001, 0xc720, 0x24b0, 0x295e, 0xe8ec, 0xaf47, 0x0, 0x1);
        gbc.writeMem(0x3001, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xc720);
        EXPECT(gbc.pc(), 0x3003);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 024F
        gbc.setState(0x8506, 0x4b11, 0x3110, 0x494e, 0x2641, 0x780d, 0x1, 0x1);
        gbc.writeMem(0x8506, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4b11);
        EXPECT(gbc.pc(), 0x8508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8506), 0xcb);
        EXPECT(gbc.readMem(0x8507), 0xc5);
        // CB C5 0250
        gbc.setState(0xee96, 0xb5aa, 0x6310, 0xb893, 0x1d06, 0x41ec, 0x0, 0x0);
        gbc.writeMem(0xee96, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb5aa);
        EXPECT(gbc.pc(), 0xee98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee96), 0xcb);
        EXPECT(gbc.readMem(0xee97), 0xc5);
        // CB C5 0251
        gbc.setState(0x2c78, 0x4e8, 0x93c0, 0xd344, 0x5b63, 0x731, 0x0, 0x0);
        gbc.writeMem(0x2c78, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x4e8);
        EXPECT(gbc.pc(), 0x2c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0252
        gbc.setState(0xeac3, 0x1dbb, 0x71d0, 0xa00e, 0x2455, 0xb66d, 0x1, 0x0);
        gbc.writeMem(0xeac3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1dbb);
        EXPECT(gbc.pc(), 0xeac5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeac3), 0xcb);
        EXPECT(gbc.readMem(0xeac4), 0xc5);
        // CB C5 0253
        gbc.setState(0xdd49, 0xd764, 0x9ec0, 0x6890, 0xb2f3, 0x90ac, 0x1, 0x1);
        gbc.writeMem(0xdd49, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd764);
        EXPECT(gbc.pc(), 0xdd4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd49), 0xcb);
        EXPECT(gbc.readMem(0xdd4a), 0xc5);
        // CB C5 0254
        gbc.setState(0x5416, 0x323b, 0xd690, 0x8d63, 0xef3c, 0x2f50, 0x0, 0x1);
        gbc.writeMem(0x5416, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x323b);
        EXPECT(gbc.pc(), 0x5418);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0255
        gbc.setState(0xbab4, 0xc6a8, 0xab40, 0x8554, 0x3b3e, 0x58cc, 0x0, 0x0);
        gbc.writeMem(0xbab4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc6a8);
        EXPECT(gbc.pc(), 0xbab6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbab4), 0xcb);
        EXPECT(gbc.readMem(0xbab5), 0xc5);
        // CB C5 0256
        gbc.setState(0xe76b, 0x2f76, 0xe7e0, 0xd180, 0xc447, 0xcd0c, 0x1, 0x1);
        gbc.writeMem(0xe76b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2f76);
        EXPECT(gbc.pc(), 0xe76d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe76b), 0xcb);
        EXPECT(gbc.readMem(0xe76c), 0xc5);
        // CB C5 0257
        gbc.setState(0x3380, 0x4985, 0x9980, 0xda37, 0xae56, 0x236f, 0x0, 0x0);
        gbc.writeMem(0x3380, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4985);
        EXPECT(gbc.pc(), 0x3382);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0258
        gbc.setState(0x2274, 0x93e6, 0xf340, 0x9495, 0xe8f4, 0xfb9e, 0x1, 0x0);
        gbc.writeMem(0x2274, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x93e6);
        EXPECT(gbc.pc(), 0x2276);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0259
        gbc.setState(0xd025, 0xa535, 0x2110, 0xadf0, 0xd51f, 0x2b26, 0x0, 0x0);
        gbc.writeMem(0xd025, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa535);
        EXPECT(gbc.pc(), 0xd027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd025), 0xcb);
        EXPECT(gbc.readMem(0xd026), 0xc5);
        // CB C5 025A
        gbc.setState(0x7b3c, 0x59e9, 0xcfb0, 0x5b74, 0xdb8b, 0xcf36, 0x0, 0x1);
        gbc.writeMem(0x7b3c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x59e9);
        EXPECT(gbc.pc(), 0x7b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 025B
        gbc.setState(0x94c7, 0x3940, 0x5d30, 0xe974, 0xecf, 0xd2a1, 0x1, 0x0);
        gbc.writeMem(0x94c7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x3940);
        EXPECT(gbc.pc(), 0x94c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c7), 0xcb);
        EXPECT(gbc.readMem(0x94c8), 0xc5);
        // CB C5 025C
        gbc.setState(0xcd03, 0x77e7, 0x2e20, 0x303a, 0x3611, 0x4dd1, 0x1, 0x1);
        gbc.writeMem(0xcd03, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x77e7);
        EXPECT(gbc.pc(), 0xcd05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd03), 0xcb);
        EXPECT(gbc.readMem(0xcd04), 0xc5);
        // CB C5 025D
        gbc.setState(0xc01d, 0x52f9, 0xd1b0, 0x5422, 0xded4, 0x44cf, 0x0, 0x0);
        gbc.writeMem(0xc01d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x52f9);
        EXPECT(gbc.pc(), 0xc01f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc01d), 0xcb);
        EXPECT(gbc.readMem(0xc01e), 0xc5);
        // CB C5 025E
        gbc.setState(0x8133, 0x933e, 0x8b10, 0xe147, 0x81bc, 0x395c, 0x0, 0x1);
        gbc.writeMem(0x8133, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x933e);
        EXPECT(gbc.pc(), 0x8135);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8133), 0xcb);
        EXPECT(gbc.readMem(0x8134), 0xc5);
        // CB C5 025F
        gbc.setState(0x39dd, 0xba6c, 0xd7a0, 0xa352, 0x871b, 0xacf0, 0x0, 0x0);
        gbc.writeMem(0x39dd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xba6c);
        EXPECT(gbc.pc(), 0x39df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0260
        gbc.setState(0xc2bb, 0x2b5b, 0xd290, 0xb6ba, 0x2ff2, 0xc57f, 0x0, 0x1);
        gbc.writeMem(0xc2bb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2b5b);
        EXPECT(gbc.pc(), 0xc2bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2bb), 0xcb);
        EXPECT(gbc.readMem(0xc2bc), 0xc5);
        // CB C5 0263
        gbc.setState(0x8f12, 0x54a1, 0x3e10, 0xde26, 0x3fc1, 0xb385, 0x1, 0x0);
        gbc.writeMem(0x8f12, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x54a1);
        EXPECT(gbc.pc(), 0x8f14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f12), 0xcb);
        EXPECT(gbc.readMem(0x8f13), 0xc5);
        // CB C5 0264
        gbc.setState(0xe1ff, 0x4122, 0x8ab0, 0x5053, 0x6b3f, 0x44b5, 0x1, 0x0);
        gbc.writeMem(0xe1ff, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4122);
        EXPECT(gbc.pc(), 0xe201);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1ff), 0xcb);
        EXPECT(gbc.readMem(0xe200), 0xc5);
        // CB C5 0265
        gbc.setState(0x835a, 0x9940, 0x9700, 0x59ec, 0xe0f1, 0xee9e, 0x1, 0x1);
        gbc.writeMem(0x835a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9940);
        EXPECT(gbc.pc(), 0x835c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x835a), 0xcb);
        EXPECT(gbc.readMem(0x835b), 0xc5);
        // CB C5 0266
        gbc.setState(0x3e94, 0xc21b, 0xec90, 0x3349, 0x8b4f, 0x68eb, 0x0, 0x0);
        gbc.writeMem(0x3e94, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xc21b);
        EXPECT(gbc.pc(), 0x3e96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0267
        gbc.setState(0x76dd, 0x49fb, 0xeeb0, 0x713d, 0xc0df, 0x8822, 0x1, 0x1);
        gbc.writeMem(0x76dd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x49fb);
        EXPECT(gbc.pc(), 0x76df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0268
        gbc.setState(0x35f7, 0x6fd0, 0x8fd0, 0xa13d, 0xe742, 0x657, 0x1, 0x1);
        gbc.writeMem(0x35f7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6fd0);
        EXPECT(gbc.pc(), 0x35f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 026A
        gbc.setState(0xd37f, 0x897c, 0x5b70, 0x1662, 0x28ae, 0x2cae, 0x0, 0x0);
        gbc.writeMem(0xd37f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x897c);
        EXPECT(gbc.pc(), 0xd381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd37f), 0xcb);
        EXPECT(gbc.readMem(0xd380), 0xc5);
        // CB C5 026B
        gbc.setState(0xb47, 0xd117, 0x7b20, 0xd775, 0x4a1a, 0xdb93, 0x0, 0x0);
        gbc.writeMem(0xb47, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd117);
        EXPECT(gbc.pc(), 0xb49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 026C
        gbc.setState(0x75d9, 0x3718, 0x2010, 0xe281, 0x424e, 0xff99, 0x1, 0x0);
        gbc.writeMem(0x75d9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3718);
        EXPECT(gbc.pc(), 0x75db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 026D
        gbc.setState(0x6dc4, 0x9096, 0xaa40, 0x1f9f, 0xa17, 0xc800, 0x1, 0x0);
        gbc.writeMem(0x6dc4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9096);
        EXPECT(gbc.pc(), 0x6dc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 026F
        gbc.setState(0xa34, 0x8067, 0x6790, 0x92f7, 0x73d6, 0x182e, 0x1, 0x0);
        gbc.writeMem(0xa34, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8067);
        EXPECT(gbc.pc(), 0xa36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0270
        gbc.setState(0x2f5d, 0x81e, 0x10a0, 0xfcb6, 0xec94, 0x4fac, 0x0, 0x0);
        gbc.writeMem(0x2f5d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x81e);
        EXPECT(gbc.pc(), 0x2f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0271
        gbc.setState(0x3165, 0x1d59, 0x1810, 0x1562, 0xac65, 0x6d2f, 0x0, 0x0);
        gbc.writeMem(0x3165, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x1d59);
        EXPECT(gbc.pc(), 0x3167);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0272
        gbc.setState(0x9d5, 0x595b, 0xda10, 0x38d, 0xb53a, 0x531f, 0x0, 0x0);
        gbc.writeMem(0x9d5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x595b);
        EXPECT(gbc.pc(), 0x9d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0273
        gbc.setState(0xad6a, 0x3b40, 0x7320, 0xf518, 0x249, 0xf349, 0x1, 0x0);
        gbc.writeMem(0xad6a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3b40);
        EXPECT(gbc.pc(), 0xad6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad6a), 0xcb);
        EXPECT(gbc.readMem(0xad6b), 0xc5);
        // CB C5 0274
        gbc.setState(0xbe63, 0x7209, 0x99f0, 0x4384, 0x124d, 0x1c08, 0x0, 0x0);
        gbc.writeMem(0xbe63, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7209);
        EXPECT(gbc.pc(), 0xbe65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe63), 0xcb);
        EXPECT(gbc.readMem(0xbe64), 0xc5);
        // CB C5 0275
        gbc.setState(0xeb3e, 0x3da0, 0x9e20, 0xcb49, 0x99b, 0x9d4f, 0x1, 0x0);
        gbc.writeMem(0xeb3e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x3da0);
        EXPECT(gbc.pc(), 0xeb40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb3e), 0xcb);
        EXPECT(gbc.readMem(0xeb3f), 0xc5);
        // CB C5 0277
        gbc.setState(0xae52, 0x92f, 0x7fb0, 0x7f70, 0x25be, 0x6eb2, 0x1, 0x1);
        gbc.writeMem(0xae52, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x92f);
        EXPECT(gbc.pc(), 0xae54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae52), 0xcb);
        EXPECT(gbc.readMem(0xae53), 0xc5);
        // CB C5 0278
        gbc.setState(0x1af1, 0x3859, 0x5250, 0x2a30, 0x49da, 0xdc88, 0x0, 0x0);
        gbc.writeMem(0x1af1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3859);
        EXPECT(gbc.pc(), 0x1af3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0279
        gbc.setState(0x6182, 0x77d8, 0x5230, 0xe570, 0xbf10, 0x9d47, 0x1, 0x0);
        gbc.writeMem(0x6182, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x77d8);
        EXPECT(gbc.pc(), 0x6184);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 027A
        gbc.setState(0xa45e, 0x9d90, 0x4480, 0x594a, 0x370e, 0xecba, 0x1, 0x0);
        gbc.writeMem(0xa45e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x9d90);
        EXPECT(gbc.pc(), 0xa460);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa45e), 0xcb);
        EXPECT(gbc.readMem(0xa45f), 0xc5);
        // CB C5 027B
        gbc.setState(0xbd3c, 0x24ee, 0xcb30, 0x9971, 0x6f2c, 0xaade, 0x1, 0x0);
        gbc.writeMem(0xbd3c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x24ee);
        EXPECT(gbc.pc(), 0xbd3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd3c), 0xcb);
        EXPECT(gbc.readMem(0xbd3d), 0xc5);
        // CB C5 027C
        gbc.setState(0xd2a7, 0x1585, 0xad10, 0xdf24, 0x6a16, 0xb00b, 0x1, 0x0);
        gbc.writeMem(0xd2a7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1585);
        EXPECT(gbc.pc(), 0xd2a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2a7), 0xcb);
        EXPECT(gbc.readMem(0xd2a8), 0xc5);
        // CB C5 027E
        gbc.setState(0x69a5, 0xd3e2, 0x2820, 0x228d, 0x6498, 0xe2d3, 0x0, 0x1);
        gbc.writeMem(0x69a5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd3e2);
        EXPECT(gbc.pc(), 0x69a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 027F
        gbc.setState(0xefd6, 0x4179, 0x7300, 0x890a, 0x8e32, 0xced2, 0x0, 0x1);
        gbc.writeMem(0xefd6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x4179);
        EXPECT(gbc.pc(), 0xefd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd6), 0xcb);
        EXPECT(gbc.readMem(0xefd7), 0xc5);
        // CB C5 0281
        gbc.setState(0xc8d5, 0x2fd6, 0x25c0, 0x2ef, 0x8899, 0xd3f3, 0x0, 0x1);
        gbc.writeMem(0xc8d5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2fd6);
        EXPECT(gbc.pc(), 0xc8d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8d5), 0xcb);
        EXPECT(gbc.readMem(0xc8d6), 0xc5);
        // CB C5 0282
        gbc.setState(0xb3bb, 0x3d37, 0xe9b0, 0xdbde, 0x62b, 0x9a6c, 0x1, 0x0);
        gbc.writeMem(0xb3bb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x3d37);
        EXPECT(gbc.pc(), 0xb3bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3bb), 0xcb);
        EXPECT(gbc.readMem(0xb3bc), 0xc5);
        // CB C5 0283
        gbc.setState(0x993c, 0xf68d, 0x39f0, 0x8dc, 0x64f, 0x9319, 0x1, 0x0);
        gbc.writeMem(0x993c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf68d);
        EXPECT(gbc.pc(), 0x993e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x993c), 0xcb);
        EXPECT(gbc.readMem(0x993d), 0xc5);
        // CB C5 0284
        gbc.setState(0x8f7d, 0x30ef, 0x5620, 0x4b5c, 0x99a8, 0xed5c, 0x0, 0x0);
        gbc.writeMem(0x8f7d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x30ef);
        EXPECT(gbc.pc(), 0x8f7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f7d), 0xcb);
        EXPECT(gbc.readMem(0x8f7e), 0xc5);
        // CB C5 0285
        gbc.setState(0x70e4, 0x884a, 0xe9e0, 0xb4a1, 0x928c, 0xf71d, 0x1, 0x0);
        gbc.writeMem(0x70e4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x884a);
        EXPECT(gbc.pc(), 0x70e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0286
        gbc.setState(0x6564, 0x64c, 0x3e60, 0xbf99, 0x9012, 0xb566, 0x0, 0x0);
        gbc.writeMem(0x6564, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x64c);
        EXPECT(gbc.pc(), 0x6566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0287
        gbc.setState(0x5061, 0xcd3a, 0xc920, 0xadcc, 0x8222, 0x44b, 0x0, 0x1);
        gbc.writeMem(0x5061, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xcd3a);
        EXPECT(gbc.pc(), 0x5063);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0288
        gbc.setState(0x4041, 0x11b7, 0x1b0, 0x2194, 0x5166, 0xa0e3, 0x1, 0x0);
        gbc.writeMem(0x4041, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x11b7);
        EXPECT(gbc.pc(), 0x4043);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0289
        gbc.setState(0x3a49, 0xf87d, 0x8a50, 0x95d, 0x19c4, 0xc76b, 0x0, 0x0);
        gbc.writeMem(0x3a49, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf87d);
        EXPECT(gbc.pc(), 0x3a4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 028B
        gbc.setState(0x21cf, 0xc435, 0xa770, 0x3c51, 0xb9e6, 0x1d6e, 0x0, 0x0);
        gbc.writeMem(0x21cf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc435);
        EXPECT(gbc.pc(), 0x21d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 028C
        gbc.setState(0x54ac, 0xf9b4, 0xa000, 0xdd87, 0x58f, 0x5000, 0x0, 0x0);
        gbc.writeMem(0x54ac, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf9b4);
        EXPECT(gbc.pc(), 0x54ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 028D
        gbc.setState(0x7ca, 0x441c, 0xd710, 0x65c5, 0xd972, 0xddf4, 0x1, 0x0);
        gbc.writeMem(0x7ca, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x441c);
        EXPECT(gbc.pc(), 0x7cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 028E
        gbc.setState(0x1c09, 0x1206, 0xa0e0, 0xd7c3, 0x94bb, 0xb6f2, 0x1, 0x0);
        gbc.writeMem(0x1c09, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1206);
        EXPECT(gbc.pc(), 0x1c0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 028F
        gbc.setState(0x9e1e, 0x82be, 0x9ef0, 0xc0ee, 0x3a1, 0x951, 0x1, 0x0);
        gbc.writeMem(0x9e1e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x82be);
        EXPECT(gbc.pc(), 0x9e20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e1e), 0xcb);
        EXPECT(gbc.readMem(0x9e1f), 0xc5);
        // CB C5 0290
        gbc.setState(0x49cd, 0x8925, 0x770, 0xef3a, 0xefb8, 0x42c2, 0x1, 0x1);
        gbc.writeMem(0x49cd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8925);
        EXPECT(gbc.pc(), 0x49cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0291
        gbc.setState(0x23a9, 0x9f13, 0xeac0, 0x232, 0xb642, 0x76c2, 0x1, 0x0);
        gbc.writeMem(0x23a9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9f13);
        EXPECT(gbc.pc(), 0x23ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0292
        gbc.setState(0x55a8, 0x1127, 0xf690, 0x4fcb, 0x1892, 0xf3bb, 0x1, 0x1);
        gbc.writeMem(0x55a8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1127);
        EXPECT(gbc.pc(), 0x55aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0293
        gbc.setState(0x2000, 0x908f, 0x4750, 0xecf2, 0x32c5, 0xe8, 0x1, 0x1);
        gbc.writeMem(0x2000, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x908f);
        EXPECT(gbc.pc(), 0x2002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0294
        gbc.setState(0x884f, 0xe9bf, 0xd380, 0x1fca, 0xc130, 0x674d, 0x1, 0x0);
        gbc.writeMem(0x884f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xe9bf);
        EXPECT(gbc.pc(), 0x8851);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x884f), 0xcb);
        EXPECT(gbc.readMem(0x8850), 0xc5);
        // CB C5 0295
        gbc.setState(0x3a61, 0xc937, 0xd000, 0xbb23, 0xfed2, 0x5ec7, 0x1, 0x1);
        gbc.writeMem(0x3a61, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc937);
        EXPECT(gbc.pc(), 0x3a63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0296
        gbc.setState(0x3ae1, 0xeafc, 0x46b0, 0xf2d6, 0x2564, 0xec2e, 0x1, 0x0);
        gbc.writeMem(0x3ae1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xeafc);
        EXPECT(gbc.pc(), 0x3ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0297
        gbc.setState(0x35fd, 0x26ac, 0x81a0, 0xc43e, 0xf188, 0x18d1, 0x1, 0x0);
        gbc.writeMem(0x35fd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x26ac);
        EXPECT(gbc.pc(), 0x35ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0298
        gbc.setState(0x9e15, 0x7709, 0xdcc0, 0x15a2, 0x150, 0x7ea2, 0x0, 0x0);
        gbc.writeMem(0x9e15, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7709);
        EXPECT(gbc.pc(), 0x9e17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e15), 0xcb);
        EXPECT(gbc.readMem(0x9e16), 0xc5);
        // CB C5 0299
        gbc.setState(0x566f, 0x93a5, 0x9f10, 0x2253, 0x60d2, 0x3a85, 0x0, 0x1);
        gbc.writeMem(0x566f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x93a5);
        EXPECT(gbc.pc(), 0x5671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 029A
        gbc.setState(0xdf60, 0xbeb7, 0xff10, 0xd198, 0xed9c, 0x8a35, 0x1, 0x0);
        gbc.writeMem(0xdf60, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xbeb7);
        EXPECT(gbc.pc(), 0xdf62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf60), 0xcb);
        EXPECT(gbc.readMem(0xdf61), 0xc5);
        // CB C5 029B
        gbc.setState(0xb113, 0xa3d6, 0xd210, 0xff0, 0x4d8a, 0x42ab, 0x1, 0x1);
        gbc.writeMem(0xb113, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa3d6);
        EXPECT(gbc.pc(), 0xb115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb113), 0xcb);
        EXPECT(gbc.readMem(0xb114), 0xc5);
        // CB C5 029C
        gbc.setState(0xb6db, 0x26e1, 0x6a00, 0x2d4a, 0xe999, 0xe492, 0x1, 0x0);
        gbc.writeMem(0xb6db, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x26e1);
        EXPECT(gbc.pc(), 0xb6dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6db), 0xcb);
        EXPECT(gbc.readMem(0xb6dc), 0xc5);
        // CB C5 029D
        gbc.setState(0xd2f, 0xe3ee, 0xb970, 0xc1ef, 0x7ef6, 0xa86c, 0x1, 0x1);
        gbc.writeMem(0xd2f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe3ee);
        EXPECT(gbc.pc(), 0xd31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 029E
        gbc.setState(0x2965, 0x8f2f, 0xc4f0, 0xba19, 0xbf70, 0x495e, 0x0, 0x1);
        gbc.writeMem(0x2965, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8f2f);
        EXPECT(gbc.pc(), 0x2967);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 029F
        gbc.setState(0xbde5, 0xf2b2, 0x7750, 0xfd9e, 0x9e63, 0xa7db, 0x0, 0x1);
        gbc.writeMem(0xbde5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf2b2);
        EXPECT(gbc.pc(), 0xbde7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbde5), 0xcb);
        EXPECT(gbc.readMem(0xbde6), 0xc5);
        // CB C5 02A0
        gbc.setState(0x45e3, 0xc9b9, 0xc6e0, 0xc929, 0x657a, 0xbaa6, 0x1, 0x1);
        gbc.writeMem(0x45e3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xc9b9);
        EXPECT(gbc.pc(), 0x45e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02A1
        gbc.setState(0xcaa3, 0x2547, 0x8970, 0x9f4d, 0x60d0, 0xa201, 0x0, 0x1);
        gbc.writeMem(0xcaa3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2547);
        EXPECT(gbc.pc(), 0xcaa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaa3), 0xcb);
        EXPECT(gbc.readMem(0xcaa4), 0xc5);
        // CB C5 02A2
        gbc.setState(0x1349, 0xc32, 0x6000, 0x6dd9, 0x13b4, 0x8453, 0x0, 0x1);
        gbc.writeMem(0x1349, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xc32);
        EXPECT(gbc.pc(), 0x134b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02A3
        gbc.setState(0xe0f2, 0xd02c, 0x9630, 0xeac8, 0x821c, 0xf78b, 0x0, 0x0);
        gbc.writeMem(0xe0f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xd02c);
        EXPECT(gbc.pc(), 0xe0f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0f2), 0xcb);
        EXPECT(gbc.readMem(0xe0f3), 0xc5);
        // CB C5 02A4
        gbc.setState(0x3c52, 0x36bd, 0xf380, 0xf82e, 0x1195, 0xd029, 0x1, 0x1);
        gbc.writeMem(0x3c52, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x36bd);
        EXPECT(gbc.pc(), 0x3c54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02A5
        gbc.setState(0x8aa5, 0xdb8c, 0x2b20, 0xe168, 0x38cc, 0x73c9, 0x0, 0x1);
        gbc.writeMem(0x8aa5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xdb8c);
        EXPECT(gbc.pc(), 0x8aa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aa5), 0xcb);
        EXPECT(gbc.readMem(0x8aa6), 0xc5);
        // CB C5 02A6
        gbc.setState(0xbc7e, 0x92a, 0x31f0, 0x7cdd, 0x60c1, 0x6c4f, 0x1, 0x1);
        gbc.writeMem(0xbc7e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x92a);
        EXPECT(gbc.pc(), 0xbc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc7e), 0xcb);
        EXPECT(gbc.readMem(0xbc7f), 0xc5);
        // CB C5 02A7
        gbc.setState(0xe65, 0x8b18, 0xa5d0, 0x9d90, 0x10b6, 0xe3be, 0x1, 0x0);
        gbc.writeMem(0xe65, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8b18);
        EXPECT(gbc.pc(), 0xe67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02A9
        gbc.setState(0xd1d6, 0x5262, 0x3d50, 0x914e, 0xe875, 0x80e4, 0x1, 0x0);
        gbc.writeMem(0xd1d6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x5262);
        EXPECT(gbc.pc(), 0xd1d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1d6), 0xcb);
        EXPECT(gbc.readMem(0xd1d7), 0xc5);
        // CB C5 02AA
        gbc.setState(0x8659, 0xbe8d, 0xe50, 0x7010, 0x4b4b, 0x1567, 0x0, 0x0);
        gbc.writeMem(0x8659, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbe8d);
        EXPECT(gbc.pc(), 0x865b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8659), 0xcb);
        EXPECT(gbc.readMem(0x865a), 0xc5);
        // CB C5 02AB
        gbc.setState(0x4002, 0x192b, 0x2e20, 0x20ba, 0xd54b, 0xc5fe, 0x0, 0x0);
        gbc.writeMem(0x4002, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x192b);
        EXPECT(gbc.pc(), 0x4004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02AC
        gbc.setState(0x3ca2, 0xa87, 0x5380, 0xbb6b, 0x7da1, 0xdba3, 0x0, 0x0);
        gbc.writeMem(0x3ca2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xa87);
        EXPECT(gbc.pc(), 0x3ca4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02AD
        gbc.setState(0xa932, 0xc6a0, 0x57a0, 0xba69, 0xaa36, 0xb01b, 0x1, 0x1);
        gbc.writeMem(0xa932, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xc6a0);
        EXPECT(gbc.pc(), 0xa934);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa932), 0xcb);
        EXPECT(gbc.readMem(0xa933), 0xc5);
        // CB C5 02AE
        gbc.setState(0xb915, 0xd597, 0xe380, 0x55ce, 0xed2f, 0x4238, 0x0, 0x0);
        gbc.writeMem(0xb915, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd597);
        EXPECT(gbc.pc(), 0xb917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb915), 0xcb);
        EXPECT(gbc.readMem(0xb916), 0xc5);
        // CB C5 02AF
        gbc.setState(0xa46e, 0xf080, 0xcec0, 0x5766, 0xd2a3, 0x70e6, 0x1, 0x0);
        gbc.writeMem(0xa46e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf080);
        EXPECT(gbc.pc(), 0xa470);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46e), 0xcb);
        EXPECT(gbc.readMem(0xa46f), 0xc5);
        // CB C5 02B0
        gbc.setState(0x9536, 0x7b99, 0x76e0, 0xe3ed, 0xc53, 0x9cf1, 0x1, 0x0);
        gbc.writeMem(0x9536, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7b99);
        EXPECT(gbc.pc(), 0x9538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9536), 0xcb);
        EXPECT(gbc.readMem(0x9537), 0xc5);
        // CB C5 02B1
        gbc.setState(0x3c42, 0xeda1, 0xb0f0, 0xbb6, 0x49dc, 0x2ff4, 0x1, 0x0);
        gbc.writeMem(0x3c42, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xeda1);
        EXPECT(gbc.pc(), 0x3c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02B2
        gbc.setState(0x2e5d, 0xe417, 0x1c80, 0xec2b, 0xe6d0, 0x7db3, 0x0, 0x0);
        gbc.writeMem(0x2e5d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe417);
        EXPECT(gbc.pc(), 0x2e5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02B3
        gbc.setState(0x8b6e, 0x5a46, 0x3450, 0xffec, 0xdf84, 0x34e5, 0x1, 0x1);
        gbc.writeMem(0x8b6e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x5a46);
        EXPECT(gbc.pc(), 0x8b70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b6e), 0xcb);
        EXPECT(gbc.readMem(0x8b6f), 0xc5);
        // CB C5 02B4
        gbc.setState(0xc96c, 0x2e8a, 0x4130, 0x851c, 0x98ff, 0x68da, 0x1, 0x0);
        gbc.writeMem(0xc96c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x2e8a);
        EXPECT(gbc.pc(), 0xc96e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc96c), 0xcb);
        EXPECT(gbc.readMem(0xc96d), 0xc5);
        // CB C5 02B5
        gbc.setState(0x8a56, 0x5a3e, 0x65e0, 0x8c7, 0xa8a4, 0x5b62, 0x1, 0x0);
        gbc.writeMem(0x8a56, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5a3e);
        EXPECT(gbc.pc(), 0x8a58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a56), 0xcb);
        EXPECT(gbc.readMem(0x8a57), 0xc5);
        // CB C5 02B6
        gbc.setState(0x4f29, 0x233a, 0x7590, 0xdca2, 0xb271, 0x8721, 0x1, 0x0);
        gbc.writeMem(0x4f29, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x233a);
        EXPECT(gbc.pc(), 0x4f2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02B7
        gbc.setState(0x69e8, 0x9c60, 0x67c0, 0xb66e, 0x3cf3, 0xb6ae, 0x0, 0x0);
        gbc.writeMem(0x69e8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9c60);
        EXPECT(gbc.pc(), 0x69ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02B8
        gbc.setState(0x55d, 0x189a, 0xfb20, 0xd15a, 0x88d5, 0xc51b, 0x1, 0x1);
        gbc.writeMem(0x55d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x189a);
        EXPECT(gbc.pc(), 0x55f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02B9
        gbc.setState(0xee12, 0xea37, 0x7fa0, 0xf73a, 0x7653, 0xe, 0x1, 0x1);
        gbc.writeMem(0xee12, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xea37);
        EXPECT(gbc.pc(), 0xee14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee12), 0xcb);
        EXPECT(gbc.readMem(0xee13), 0xc5);
        // CB C5 02BA
        gbc.setState(0x13f3, 0xaa79, 0x5680, 0x59cb, 0xf6, 0xc060, 0x0, 0x1);
        gbc.writeMem(0x13f3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xaa79);
        EXPECT(gbc.pc(), 0x13f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02BB
        gbc.setState(0x85b6, 0x7e71, 0x9370, 0xef01, 0x5a91, 0x6bd8, 0x1, 0x0);
        gbc.writeMem(0x85b6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7e71);
        EXPECT(gbc.pc(), 0x85b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85b6), 0xcb);
        EXPECT(gbc.readMem(0x85b7), 0xc5);
        // CB C5 02BC
        gbc.setState(0x9362, 0x76d5, 0xa950, 0x5ef2, 0x5e6b, 0x789f, 0x0, 0x0);
        gbc.writeMem(0x9362, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x76d5);
        EXPECT(gbc.pc(), 0x9364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9362), 0xcb);
        EXPECT(gbc.readMem(0x9363), 0xc5);
        // CB C5 02BD
        gbc.setState(0xd1f2, 0xf763, 0x1b30, 0x5782, 0x6e66, 0x913d, 0x0, 0x0);
        gbc.writeMem(0xd1f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf763);
        EXPECT(gbc.pc(), 0xd1f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1f2), 0xcb);
        EXPECT(gbc.readMem(0xd1f3), 0xc5);
        // CB C5 02BE
        gbc.setState(0x271f, 0x9866, 0x77e0, 0xde23, 0x5e33, 0x9499, 0x1, 0x1);
        gbc.writeMem(0x271f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9866);
        EXPECT(gbc.pc(), 0x2721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02BF
        gbc.setState(0x6db4, 0x4541, 0xef0, 0xde24, 0x6d41, 0xf0bb, 0x1, 0x0);
        gbc.writeMem(0x6db4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4541);
        EXPECT(gbc.pc(), 0x6db6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02C0
        gbc.setState(0xdf3, 0x81df, 0x1eb0, 0x5d5c, 0x47ce, 0xf4a8, 0x0, 0x0);
        gbc.writeMem(0xdf3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x81df);
        EXPECT(gbc.pc(), 0xdf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02C1
        gbc.setState(0x2b7c, 0xb8e0, 0x4510, 0xa86e, 0xc8b8, 0x97b0, 0x1, 0x0);
        gbc.writeMem(0x2b7c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb8e0);
        EXPECT(gbc.pc(), 0x2b7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02C2
        gbc.setState(0xbd07, 0xbc52, 0xaa90, 0x8bb1, 0xb227, 0xe51, 0x1, 0x0);
        gbc.writeMem(0xbd07, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbc52);
        EXPECT(gbc.pc(), 0xbd09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd07), 0xcb);
        EXPECT(gbc.readMem(0xbd08), 0xc5);
        // CB C5 02C3
        gbc.setState(0xcc1d, 0x844, 0x2ad0, 0x7d94, 0xce94, 0x4c1, 0x1, 0x1);
        gbc.writeMem(0xcc1d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x844);
        EXPECT(gbc.pc(), 0xcc1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc1d), 0xcb);
        EXPECT(gbc.readMem(0xcc1e), 0xc5);
        // CB C5 02C4
        gbc.setState(0x5d3d, 0x9888, 0x8590, 0xe5da, 0xb163, 0x7200, 0x0, 0x1);
        gbc.writeMem(0x5d3d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9888);
        EXPECT(gbc.pc(), 0x5d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02C6
        gbc.setState(0x2799, 0x92a3, 0x1f60, 0xf9a4, 0xf5a9, 0x8ef1, 0x1, 0x0);
        gbc.writeMem(0x2799, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x92a3);
        EXPECT(gbc.pc(), 0x279b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02C7
        gbc.setState(0x5bd0, 0x2652, 0xdd00, 0xc135, 0xb12c, 0x1912, 0x0, 0x0);
        gbc.writeMem(0x5bd0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2652);
        EXPECT(gbc.pc(), 0x5bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02C8
        gbc.setState(0x46dc, 0xa584, 0x2a40, 0x11dc, 0xd730, 0x6519, 0x1, 0x0);
        gbc.writeMem(0x46dc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa584);
        EXPECT(gbc.pc(), 0x46de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02C9
        gbc.setState(0xcbda, 0x437d, 0xbc70, 0xe776, 0xca97, 0x9b9a, 0x0, 0x1);
        gbc.writeMem(0xcbda, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x437d);
        EXPECT(gbc.pc(), 0xcbdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbda), 0xcb);
        EXPECT(gbc.readMem(0xcbdb), 0xc5);
        // CB C5 02CA
        gbc.setState(0x5ab6, 0xa180, 0xa9d0, 0x975a, 0xb79c, 0x4cab, 0x0, 0x0);
        gbc.writeMem(0x5ab6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa180);
        EXPECT(gbc.pc(), 0x5ab8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02CB
        gbc.setState(0x3782, 0x6487, 0x7130, 0x5786, 0x22a6, 0x7193, 0x1, 0x1);
        gbc.writeMem(0x3782, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6487);
        EXPECT(gbc.pc(), 0x3784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02CC
        gbc.setState(0xd5d5, 0x4358, 0x1d60, 0x574d, 0x8690, 0x2a06, 0x1, 0x0);
        gbc.writeMem(0xd5d5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4358);
        EXPECT(gbc.pc(), 0xd5d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5d5), 0xcb);
        EXPECT(gbc.readMem(0xd5d6), 0xc5);
        // CB C5 02CE
        gbc.setState(0x523f, 0x81d7, 0x9ad0, 0x18f9, 0xb04e, 0x4ed5, 0x0, 0x0);
        gbc.writeMem(0x523f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x81d7);
        EXPECT(gbc.pc(), 0x5241);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02CF
        gbc.setState(0xd001, 0x1936, 0x2cc0, 0x8716, 0xe782, 0x4d6c, 0x0, 0x1);
        gbc.writeMem(0xd001, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1936);
        EXPECT(gbc.pc(), 0xd003);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd001), 0xcb);
        EXPECT(gbc.readMem(0xd002), 0xc5);
        // CB C5 02D0
        gbc.setState(0x1bc7, 0x18a, 0x7090, 0x54e3, 0xbba7, 0x4f2c, 0x0, 0x0);
        gbc.writeMem(0x1bc7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x18a);
        EXPECT(gbc.pc(), 0x1bc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02D1
        gbc.setState(0x8179, 0xfbae, 0x52b0, 0x1a52, 0x7c1f, 0xb4ca, 0x1, 0x1);
        gbc.writeMem(0x8179, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xfbae);
        EXPECT(gbc.pc(), 0x817b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8179), 0xcb);
        EXPECT(gbc.readMem(0x817a), 0xc5);
        // CB C5 02D2
        gbc.setState(0xb334, 0x2577, 0xbae0, 0xd83b, 0xb6b1, 0x227, 0x1, 0x1);
        gbc.writeMem(0xb334, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2577);
        EXPECT(gbc.pc(), 0xb336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb334), 0xcb);
        EXPECT(gbc.readMem(0xb335), 0xc5);
        // CB C5 02D3
        gbc.setState(0x1ee4, 0xa4e2, 0x2480, 0x1d3, 0x13b5, 0x9ff7, 0x0, 0x1);
        gbc.writeMem(0x1ee4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa4e2);
        EXPECT(gbc.pc(), 0x1ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02D4
        gbc.setState(0xacfe, 0xbf0a, 0x76f0, 0x27f5, 0xbe7, 0x4deb, 0x0, 0x0);
        gbc.writeMem(0xacfe, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xbf0a);
        EXPECT(gbc.pc(), 0xad00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacfe), 0xcb);
        EXPECT(gbc.readMem(0xacff), 0xc5);
        // CB C5 02D5
        gbc.setState(0x6e33, 0xb4fe, 0x9c20, 0x7da4, 0x2161, 0x99c2, 0x0, 0x1);
        gbc.writeMem(0x6e33, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb4fe);
        EXPECT(gbc.pc(), 0x6e35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02D6
        gbc.setState(0xe443, 0xc6d5, 0x7600, 0x1f09, 0x27c5, 0x6a9d, 0x1, 0x1);
        gbc.writeMem(0xe443, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xc6d5);
        EXPECT(gbc.pc(), 0xe445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe443), 0xcb);
        EXPECT(gbc.readMem(0xe444), 0xc5);
        // CB C5 02D8
        gbc.setState(0xa7b, 0x5765, 0x8700, 0x7385, 0xeddc, 0xeef6, 0x0, 0x0);
        gbc.writeMem(0xa7b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5765);
        EXPECT(gbc.pc(), 0xa7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02D9
        gbc.setState(0x6112, 0x2a1d, 0xf3a0, 0x4fe8, 0x503b, 0x4337, 0x0, 0x0);
        gbc.writeMem(0x6112, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2a1d);
        EXPECT(gbc.pc(), 0x6114);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02DA
        gbc.setState(0x5cba, 0x1cbd, 0x1c0, 0xac4c, 0x5f73, 0x55c5, 0x0, 0x1);
        gbc.writeMem(0x5cba, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x1cbd);
        EXPECT(gbc.pc(), 0x5cbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02DB
        gbc.setState(0x7900, 0x4c09, 0x2a00, 0x8b06, 0xe068, 0x8dba, 0x0, 0x1);
        gbc.writeMem(0x7900, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4c09);
        EXPECT(gbc.pc(), 0x7902);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02DC
        gbc.setState(0x7a14, 0x4467, 0xe200, 0xd648, 0x37c2, 0x872, 0x0, 0x1);
        gbc.writeMem(0x7a14, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x4467);
        EXPECT(gbc.pc(), 0x7a16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02DD
        gbc.setState(0xdec5, 0xaefd, 0xf030, 0xa5cc, 0x6973, 0x147d, 0x0, 0x0);
        gbc.writeMem(0xdec5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xaefd);
        EXPECT(gbc.pc(), 0xdec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdec5), 0xcb);
        EXPECT(gbc.readMem(0xdec6), 0xc5);
        // CB C5 02DE
        gbc.setState(0xc8e4, 0x30b9, 0x9730, 0x556f, 0xff98, 0x4637, 0x0, 0x0);
        gbc.writeMem(0xc8e4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x30b9);
        EXPECT(gbc.pc(), 0xc8e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8e4), 0xcb);
        EXPECT(gbc.readMem(0xc8e5), 0xc5);
        // CB C5 02DF
        gbc.setState(0x35a0, 0xee53, 0x70b0, 0xd716, 0x7839, 0xa837, 0x0, 0x1);
        gbc.writeMem(0x35a0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xee53);
        EXPECT(gbc.pc(), 0x35a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02E0
        gbc.setState(0x24af, 0x688c, 0x1b20, 0xd72f, 0x8738, 0x8ab0, 0x1, 0x0);
        gbc.writeMem(0x24af, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x688c);
        EXPECT(gbc.pc(), 0x24b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02E1
        gbc.setState(0x9b0a, 0x4921, 0x5590, 0xa739, 0xcb22, 0xa749, 0x1, 0x1);
        gbc.writeMem(0x9b0a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x4921);
        EXPECT(gbc.pc(), 0x9b0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b0a), 0xcb);
        EXPECT(gbc.readMem(0x9b0b), 0xc5);
        // CB C5 02E2
        gbc.setState(0xa99b, 0x8cb4, 0xf800, 0xbe5, 0x5166, 0x8bca, 0x0, 0x0);
        gbc.writeMem(0xa99b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8cb4);
        EXPECT(gbc.pc(), 0xa99d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99b), 0xcb);
        EXPECT(gbc.readMem(0xa99c), 0xc5);
        // CB C5 02E3
        gbc.setState(0x45c9, 0x5f93, 0x63a0, 0xc89e, 0x606a, 0xe3e3, 0x0, 0x1);
        gbc.writeMem(0x45c9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5f93);
        EXPECT(gbc.pc(), 0x45cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02E4
        gbc.setState(0x32e3, 0x140, 0x84a0, 0x4e5f, 0x41ca, 0x72e5, 0x1, 0x1);
        gbc.writeMem(0x32e3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x140);
        EXPECT(gbc.pc(), 0x32e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02E5
        gbc.setState(0x49b7, 0x5c93, 0xfd00, 0xe31e, 0x85fd, 0xc359, 0x0, 0x1);
        gbc.writeMem(0x49b7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x5c93);
        EXPECT(gbc.pc(), 0x49b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02E6
        gbc.setState(0xcceb, 0x732f, 0xc0b0, 0x3409, 0x924a, 0xc2a3, 0x0, 0x1);
        gbc.writeMem(0xcceb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x732f);
        EXPECT(gbc.pc(), 0xcced);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcceb), 0xcb);
        EXPECT(gbc.readMem(0xccec), 0xc5);
        // CB C5 02E7
        gbc.setState(0xa971, 0xc4e7, 0xf810, 0xc7a6, 0x7722, 0x412f, 0x0, 0x1);
        gbc.writeMem(0xa971, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xc4e7);
        EXPECT(gbc.pc(), 0xa973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa971), 0xcb);
        EXPECT(gbc.readMem(0xa972), 0xc5);
        // CB C5 02E8
        gbc.setState(0x1045, 0xfc76, 0x3bd0, 0x9ce3, 0xedea, 0x8e61, 0x0, 0x1);
        gbc.writeMem(0x1045, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xfc76);
        EXPECT(gbc.pc(), 0x1047);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02E9
        gbc.setState(0xd08d, 0xead3, 0xfb90, 0xee54, 0x1a6f, 0x15ec, 0x0, 0x0);
        gbc.writeMem(0xd08d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xead3);
        EXPECT(gbc.pc(), 0xd08f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd08d), 0xcb);
        EXPECT(gbc.readMem(0xd08e), 0xc5);
        // CB C5 02EA
        gbc.setState(0x9fce, 0xb0a5, 0x48b0, 0xd614, 0x4b5f, 0x9a6d, 0x1, 0x1);
        gbc.writeMem(0x9fce, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb0a5);
        EXPECT(gbc.pc(), 0x9fd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fce), 0xcb);
        EXPECT(gbc.readMem(0x9fcf), 0xc5);
        // CB C5 02EB
        gbc.setState(0x9fef, 0x1733, 0xd7b0, 0x2dea, 0xe3a5, 0x287d, 0x0, 0x1);
        gbc.writeMem(0x9fef, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1733);
        EXPECT(gbc.pc(), 0x9ff1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fef), 0xcb);
        EXPECT(gbc.readMem(0x9ff0), 0xc5);
        // CB C5 02EC
        gbc.setState(0xcccd, 0x93f3, 0x2070, 0xb49, 0xd63e, 0xec2a, 0x0, 0x1);
        gbc.writeMem(0xcccd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x93f3);
        EXPECT(gbc.pc(), 0xcccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcccd), 0xcb);
        EXPECT(gbc.readMem(0xccce), 0xc5);
        // CB C5 02ED
        gbc.setState(0xc2a3, 0xfc71, 0x6100, 0xc4e0, 0xe8ce, 0xe1a0, 0x0, 0x0);
        gbc.writeMem(0xc2a3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfc71);
        EXPECT(gbc.pc(), 0xc2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2a3), 0xcb);
        EXPECT(gbc.readMem(0xc2a4), 0xc5);
        // CB C5 02EE
        gbc.setState(0xc57d, 0x95a, 0xc730, 0x61be, 0xc676, 0x2b0c, 0x0, 0x0);
        gbc.writeMem(0xc57d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x95a);
        EXPECT(gbc.pc(), 0xc57f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc57d), 0xcb);
        EXPECT(gbc.readMem(0xc57e), 0xc5);
        // CB C5 02EF
        gbc.setState(0x43f5, 0xda95, 0x33a0, 0xb718, 0x96b9, 0x3413, 0x0, 0x1);
        gbc.writeMem(0x43f5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xda95);
        EXPECT(gbc.pc(), 0x43f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02F0
        gbc.setState(0x6ca2, 0x11e4, 0xfc30, 0xbe43, 0xdf41, 0xbffe, 0x1, 0x0);
        gbc.writeMem(0x6ca2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x11e4);
        EXPECT(gbc.pc(), 0x6ca4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02F1
        gbc.setState(0x11d8, 0xda7b, 0x730, 0xa4ad, 0x24ba, 0x4aa7, 0x0, 0x0);
        gbc.writeMem(0x11d8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xda7b);
        EXPECT(gbc.pc(), 0x11da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02F3
        gbc.setState(0x6cd5, 0x1f77, 0x7c0, 0x7c01, 0xbf08, 0xaff6, 0x0, 0x0);
        gbc.writeMem(0x6cd5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1f77);
        EXPECT(gbc.pc(), 0x6cd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02F4
        gbc.setState(0xa92, 0x2cf0, 0xdbb0, 0xbb25, 0x76d7, 0x2e8f, 0x0, 0x1);
        gbc.writeMem(0xa92, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2cf0);
        EXPECT(gbc.pc(), 0xa94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02F5
        gbc.setState(0xe5ae, 0xd0ea, 0xf7c0, 0x45ac, 0xe36e, 0x3ce2, 0x1, 0x0);
        gbc.writeMem(0xe5ae, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd0ea);
        EXPECT(gbc.pc(), 0xe5b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ae), 0xcb);
        EXPECT(gbc.readMem(0xe5af), 0xc5);
        // CB C5 02F6
        gbc.setState(0x9487, 0x212b, 0x7fd0, 0x12ee, 0xbfd, 0x5692, 0x0, 0x1);
        gbc.writeMem(0x9487, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x212b);
        EXPECT(gbc.pc(), 0x9489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9487), 0xcb);
        EXPECT(gbc.readMem(0x9488), 0xc5);
        // CB C5 02F7
        gbc.setState(0x26d3, 0x404a, 0x2970, 0x83ed, 0x7322, 0xa34a, 0x1, 0x0);
        gbc.writeMem(0x26d3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x404a);
        EXPECT(gbc.pc(), 0x26d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02F8
        gbc.setState(0xb25a, 0x60a8, 0xdf20, 0xf31c, 0x2e2, 0x38b, 0x0, 0x0);
        gbc.writeMem(0xb25a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x60a8);
        EXPECT(gbc.pc(), 0xb25c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb25a), 0xcb);
        EXPECT(gbc.readMem(0xb25b), 0xc5);
        // CB C5 02F9
        gbc.setState(0x881e, 0x30e, 0x2b70, 0xb3de, 0x7e93, 0xf176, 0x1, 0x1);
        gbc.writeMem(0x881e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x30e);
        EXPECT(gbc.pc(), 0x8820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x881e), 0xcb);
        EXPECT(gbc.readMem(0x881f), 0xc5);
        // CB C5 02FA
        gbc.setState(0xbf6c, 0x59ce, 0x6880, 0xe5b2, 0xf528, 0x9dae, 0x1, 0x0);
        gbc.writeMem(0xbf6c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x59ce);
        EXPECT(gbc.pc(), 0xbf6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf6c), 0xcb);
        EXPECT(gbc.readMem(0xbf6d), 0xc5);
        // CB C5 02FB
        gbc.setState(0x4ffc, 0xdb01, 0x9770, 0x8074, 0x24a7, 0x714d, 0x1, 0x1);
        gbc.writeMem(0x4ffc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xdb01);
        EXPECT(gbc.pc(), 0x4ffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02FC
        gbc.setState(0x14f3, 0xa40d, 0x6030, 0x9e0d, 0xee66, 0xe38d, 0x1, 0x0);
        gbc.writeMem(0x14f3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa40d);
        EXPECT(gbc.pc(), 0x14f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 02FD
        gbc.setState(0x7108, 0x64c2, 0xf260, 0x6413, 0x64b8, 0xd1d2, 0x0, 0x0);
        gbc.writeMem(0x7108, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x64c2);
        EXPECT(gbc.pc(), 0x710a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 02FF
        gbc.setState(0x3562, 0xe42d, 0xcb40, 0x1da1, 0x48d1, 0xb45b, 0x1, 0x1);
        gbc.writeMem(0x3562, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe42d);
        EXPECT(gbc.pc(), 0x3564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0300
        gbc.setState(0xde2a, 0xd4ec, 0x23a0, 0x6919, 0x1a76, 0x4fc6, 0x0, 0x0);
        gbc.writeMem(0xde2a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xd4ec);
        EXPECT(gbc.pc(), 0xde2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde2a), 0xcb);
        EXPECT(gbc.readMem(0xde2b), 0xc5);
        // CB C5 0301
        gbc.setState(0x5b39, 0xb467, 0xc190, 0x509d, 0x41c2, 0x51d6, 0x0, 0x0);
        gbc.writeMem(0x5b39, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb467);
        EXPECT(gbc.pc(), 0x5b3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0303
        gbc.setState(0x2690, 0xc5c9, 0x6170, 0x1e11, 0xe938, 0xc160, 0x1, 0x0);
        gbc.writeMem(0x2690, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xc5c9);
        EXPECT(gbc.pc(), 0x2692);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0304
        gbc.setState(0x6fb9, 0x70f1, 0xffe0, 0x49ee, 0x242b, 0x15dd, 0x0, 0x1);
        gbc.writeMem(0x6fb9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x70f1);
        EXPECT(gbc.pc(), 0x6fbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0305
        gbc.setState(0x8e65, 0x9c4f, 0x8a80, 0xb885, 0xd454, 0xc6f, 0x0, 0x1);
        gbc.writeMem(0x8e65, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9c4f);
        EXPECT(gbc.pc(), 0x8e67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e65), 0xcb);
        EXPECT(gbc.readMem(0x8e66), 0xc5);
        // CB C5 0306
        gbc.setState(0xd0f3, 0x32a4, 0xb220, 0x8db2, 0x682a, 0x125f, 0x0, 0x1);
        gbc.writeMem(0xd0f3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x32a4);
        EXPECT(gbc.pc(), 0xd0f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0f3), 0xcb);
        EXPECT(gbc.readMem(0xd0f4), 0xc5);
        // CB C5 0307
        gbc.setState(0x50e6, 0xe615, 0xb170, 0xef97, 0xa186, 0x39b2, 0x1, 0x0);
        gbc.writeMem(0x50e6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe615);
        EXPECT(gbc.pc(), 0x50e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0308
        gbc.setState(0x959f, 0x9c60, 0xbf70, 0x966b, 0xf348, 0x688d, 0x0, 0x0);
        gbc.writeMem(0x959f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9c60);
        EXPECT(gbc.pc(), 0x95a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x959f), 0xcb);
        EXPECT(gbc.readMem(0x95a0), 0xc5);
        // CB C5 0309
        gbc.setState(0x86b, 0x2724, 0x6e50, 0xecd7, 0x2d05, 0x7a66, 0x1, 0x1);
        gbc.writeMem(0x86b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x2724);
        EXPECT(gbc.pc(), 0x86d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 030A
        gbc.setState(0x31a0, 0xc186, 0xc0c0, 0xf802, 0x7226, 0x73d0, 0x1, 0x1);
        gbc.writeMem(0x31a0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc186);
        EXPECT(gbc.pc(), 0x31a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 030B
        gbc.setState(0x5108, 0x1b06, 0xf000, 0x74ba, 0x2972, 0x4000, 0x1, 0x1);
        gbc.writeMem(0x5108, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x1b06);
        EXPECT(gbc.pc(), 0x510a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 030C
        gbc.setState(0xe9ce, 0xe61, 0x9540, 0x95d7, 0xc771, 0x8daf, 0x1, 0x0);
        gbc.writeMem(0xe9ce, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe61);
        EXPECT(gbc.pc(), 0xe9d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ce), 0xcb);
        EXPECT(gbc.readMem(0xe9cf), 0xc5);
        // CB C5 030D
        gbc.setState(0x1199, 0xebc2, 0x10a0, 0x1032, 0x1190, 0xffb9, 0x1, 0x0);
        gbc.writeMem(0x1199, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xebc2);
        EXPECT(gbc.pc(), 0x119b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 030E
        gbc.setState(0x73e5, 0xe346, 0x20c0, 0xa9d7, 0x9032, 0xc000, 0x0, 0x1);
        gbc.writeMem(0x73e5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe346);
        EXPECT(gbc.pc(), 0x73e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 030F
        gbc.setState(0xa649, 0x6a2f, 0xf760, 0xb2a, 0x6af3, 0x8ba5, 0x1, 0x1);
        gbc.writeMem(0xa649, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x6a2f);
        EXPECT(gbc.pc(), 0xa64b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa649), 0xcb);
        EXPECT(gbc.readMem(0xa64a), 0xc5);
        // CB C5 0310
        gbc.setState(0x451, 0x61da, 0xdce0, 0x738a, 0xcaf, 0x98c3, 0x1, 0x1);
        gbc.writeMem(0x451, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x61da);
        EXPECT(gbc.pc(), 0x453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0312
        gbc.setState(0x6b89, 0xc042, 0x80, 0xb120, 0xf5ed, 0x367f, 0x0, 0x0);
        gbc.writeMem(0x6b89, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc042);
        EXPECT(gbc.pc(), 0x6b8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0313
        gbc.setState(0xb497, 0x9c32, 0xc2d0, 0xefba, 0xfd26, 0x4057, 0x1, 0x0);
        gbc.writeMem(0xb497, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9c32);
        EXPECT(gbc.pc(), 0xb499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb497), 0xcb);
        EXPECT(gbc.readMem(0xb498), 0xc5);
        // CB C5 0315
        gbc.setState(0x50a0, 0x90c7, 0x5db0, 0xe675, 0x1a7b, 0x2cb4, 0x1, 0x0);
        gbc.writeMem(0x50a0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x90c7);
        EXPECT(gbc.pc(), 0x50a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0316
        gbc.setState(0xb366, 0xa5e5, 0xec70, 0x7b19, 0x194d, 0x9728, 0x1, 0x0);
        gbc.writeMem(0xb366, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xa5e5);
        EXPECT(gbc.pc(), 0xb368);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb366), 0xcb);
        EXPECT(gbc.readMem(0xb367), 0xc5);
        // CB C5 0317
        gbc.setState(0x57a, 0x6340, 0x7af0, 0x7a3d, 0x57d2, 0x5878, 0x0, 0x0);
        gbc.writeMem(0x57a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x6340);
        EXPECT(gbc.pc(), 0x57c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0318
        gbc.setState(0x7154, 0x2c12, 0x3e80, 0x606f, 0xa9a, 0xbc38, 0x0, 0x1);
        gbc.writeMem(0x7154, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2c12);
        EXPECT(gbc.pc(), 0x7156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0319
        gbc.setState(0xa8f1, 0xa5d5, 0x3df0, 0xc794, 0xc7e1, 0xe18b, 0x1, 0x1);
        gbc.writeMem(0xa8f1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa5d5);
        EXPECT(gbc.pc(), 0xa8f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8f1), 0xcb);
        EXPECT(gbc.readMem(0xa8f2), 0xc5);
        // CB C5 031B
        gbc.setState(0x303e, 0xb558, 0x66d0, 0xc040, 0xef4f, 0xde91, 0x0, 0x0);
        gbc.writeMem(0x303e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb558);
        EXPECT(gbc.pc(), 0x3040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 031C
        gbc.setState(0x5cf1, 0xa4c0, 0x9460, 0x669a, 0x2199, 0x5059, 0x1, 0x0);
        gbc.writeMem(0x5cf1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa4c0);
        EXPECT(gbc.pc(), 0x5cf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 031D
        gbc.setState(0xcfab, 0x7052, 0xa7a0, 0x1b45, 0xec7e, 0xd682, 0x0, 0x0);
        gbc.writeMem(0xcfab, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7052);
        EXPECT(gbc.pc(), 0xcfad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfab), 0xcb);
        EXPECT(gbc.readMem(0xcfac), 0xc5);
        // CB C5 031E
        gbc.setState(0x26ed, 0xb634, 0x9070, 0x25d3, 0x5f41, 0x5c85, 0x0, 0x0);
        gbc.writeMem(0x26ed, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb634);
        EXPECT(gbc.pc(), 0x26ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 031F
        gbc.setState(0x2d5e, 0x2cd5, 0x5130, 0xbf2b, 0xff12, 0xfb57, 0x0, 0x1);
        gbc.writeMem(0x2d5e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2cd5);
        EXPECT(gbc.pc(), 0x2d60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0320
        gbc.setState(0x8643, 0x6e54, 0x5680, 0x5afe, 0xe7d3, 0x504e, 0x1, 0x1);
        gbc.writeMem(0x8643, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6e54);
        EXPECT(gbc.pc(), 0x8645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8643), 0xcb);
        EXPECT(gbc.readMem(0x8644), 0xc5);
        // CB C5 0321
        gbc.setState(0x52f, 0x5bbc, 0x37e0, 0x48b8, 0xc8f0, 0xf74b, 0x1, 0x0);
        gbc.writeMem(0x52f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5bbc);
        EXPECT(gbc.pc(), 0x531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0322
        gbc.setState(0x45f9, 0x3fae, 0xfb00, 0x278f, 0xb293, 0x320f, 0x1, 0x0);
        gbc.writeMem(0x45f9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3fae);
        EXPECT(gbc.pc(), 0x45fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0323
        gbc.setState(0xe29d, 0x9249, 0x23a0, 0x6401, 0x46f8, 0x64c, 0x1, 0x1);
        gbc.writeMem(0xe29d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9249);
        EXPECT(gbc.pc(), 0xe29f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe29d), 0xcb);
        EXPECT(gbc.readMem(0xe29e), 0xc5);
        // CB C5 0324
        gbc.setState(0xaf28, 0xeca0, 0x5960, 0x4bea, 0x68d7, 0x18cf, 0x0, 0x0);
        gbc.writeMem(0xaf28, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xeca0);
        EXPECT(gbc.pc(), 0xaf2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf28), 0xcb);
        EXPECT(gbc.readMem(0xaf29), 0xc5);
        // CB C5 0325
        gbc.setState(0x1b6b, 0x6338, 0x1fb0, 0xa31d, 0x5889, 0xb5c8, 0x0, 0x1);
        gbc.writeMem(0x1b6b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6338);
        EXPECT(gbc.pc(), 0x1b6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0326
        gbc.setState(0xc791, 0x91cf, 0xe870, 0x7c64, 0xddcb, 0x2219, 0x1, 0x1);
        gbc.writeMem(0xc791, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x91cf);
        EXPECT(gbc.pc(), 0xc793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc791), 0xcb);
        EXPECT(gbc.readMem(0xc792), 0xc5);
        // CB C5 0327
        gbc.setState(0xd038, 0x2421, 0xd230, 0x92c1, 0xf47a, 0x468b, 0x1, 0x0);
        gbc.writeMem(0xd038, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x2421);
        EXPECT(gbc.pc(), 0xd03a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd038), 0xcb);
        EXPECT(gbc.readMem(0xd039), 0xc5);
        // CB C5 0328
        gbc.setState(0x18c6, 0x6522, 0x4e00, 0x11b4, 0xa675, 0xf90c, 0x1, 0x1);
        gbc.writeMem(0x18c6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6522);
        EXPECT(gbc.pc(), 0x18c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0329
        gbc.setState(0x7e13, 0x340f, 0xf760, 0xcc0b, 0x6132, 0xbd27, 0x0, 0x0);
        gbc.writeMem(0x7e13, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x340f);
        EXPECT(gbc.pc(), 0x7e15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 032B
        gbc.setState(0x612a, 0xb61d, 0x3800, 0x256d, 0xca15, 0x1df, 0x1, 0x1);
        gbc.writeMem(0x612a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb61d);
        EXPECT(gbc.pc(), 0x612c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 032C
        gbc.setState(0x33a, 0xa446, 0x6510, 0x2eda, 0x61fe, 0xf4af, 0x1, 0x0);
        gbc.writeMem(0x33a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa446);
        EXPECT(gbc.pc(), 0x33c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 032D
        gbc.setState(0xed1b, 0x3712, 0x12a0, 0x56e5, 0xeb24, 0xccf9, 0x1, 0x0);
        gbc.writeMem(0xed1b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3712);
        EXPECT(gbc.pc(), 0xed1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed1b), 0xcb);
        EXPECT(gbc.readMem(0xed1c), 0xc5);
        // CB C5 032E
        gbc.setState(0xefe5, 0x81fd, 0x9460, 0x8685, 0x1207, 0x5fa8, 0x1, 0x0);
        gbc.writeMem(0xefe5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x81fd);
        EXPECT(gbc.pc(), 0xefe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefe5), 0xcb);
        EXPECT(gbc.readMem(0xefe6), 0xc5);
        // CB C5 032F
        gbc.setState(0xed1b, 0xc1d1, 0xf940, 0x608d, 0x8711, 0x5d0, 0x1, 0x0);
        gbc.writeMem(0xed1b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc1d1);
        EXPECT(gbc.pc(), 0xed1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed1b), 0xcb);
        EXPECT(gbc.readMem(0xed1c), 0xc5);
        // CB C5 0330
        gbc.setState(0xdb3a, 0x2a20, 0xfcf0, 0x159, 0x761d, 0x1237, 0x1, 0x0);
        gbc.writeMem(0xdb3a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2a20);
        EXPECT(gbc.pc(), 0xdb3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb3a), 0xcb);
        EXPECT(gbc.readMem(0xdb3b), 0xc5);
        // CB C5 0331
        gbc.setState(0x7c56, 0xa80e, 0xba10, 0x617f, 0x643b, 0xfc86, 0x1, 0x1);
        gbc.writeMem(0x7c56, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa80e);
        EXPECT(gbc.pc(), 0x7c58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0332
        gbc.setState(0x958a, 0xba79, 0x890, 0xa69a, 0x218d, 0xf412, 0x0, 0x0);
        gbc.writeMem(0x958a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xba79);
        EXPECT(gbc.pc(), 0x958c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958a), 0xcb);
        EXPECT(gbc.readMem(0x958b), 0xc5);
        // CB C5 0333
        gbc.setState(0xd263, 0x8734, 0x3070, 0x26fa, 0xb381, 0xa8ce, 0x1, 0x0);
        gbc.writeMem(0xd263, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x8734);
        EXPECT(gbc.pc(), 0xd265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd263), 0xcb);
        EXPECT(gbc.readMem(0xd264), 0xc5);
        // CB C5 0335
        gbc.setState(0xe055, 0x113a, 0xc330, 0xa781, 0x6979, 0x2d47, 0x0, 0x0);
        gbc.writeMem(0xe055, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x113a);
        EXPECT(gbc.pc(), 0xe057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe055), 0xcb);
        EXPECT(gbc.readMem(0xe056), 0xc5);
        // CB C5 0336
        gbc.setState(0xd03c, 0xd938, 0xa650, 0x9123, 0xcaa0, 0x182e, 0x1, 0x1);
        gbc.writeMem(0xd03c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xd938);
        EXPECT(gbc.pc(), 0xd03e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd03c), 0xcb);
        EXPECT(gbc.readMem(0xd03d), 0xc5);
        // CB C5 0337
        gbc.setState(0x119d, 0xd373, 0xd970, 0xe7cf, 0xef7f, 0x8175, 0x0, 0x1);
        gbc.writeMem(0x119d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd373);
        EXPECT(gbc.pc(), 0x119f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0338
        gbc.setState(0x1558, 0x3322, 0xe090, 0x3ac1, 0x7bb6, 0xb040, 0x0, 0x1);
        gbc.writeMem(0x1558, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3322);
        EXPECT(gbc.pc(), 0x155a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0339
        gbc.setState(0x9d78, 0xf7cd, 0x8f60, 0x15d0, 0xa7f3, 0x3f76, 0x1, 0x0);
        gbc.writeMem(0x9d78, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf7cd);
        EXPECT(gbc.pc(), 0x9d7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d78), 0xcb);
        EXPECT(gbc.readMem(0x9d79), 0xc5);
        // CB C5 033A
        gbc.setState(0x10ae, 0xbf54, 0x9b40, 0x6a67, 0x6d0b, 0xbd32, 0x1, 0x0);
        gbc.writeMem(0x10ae, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xbf54);
        EXPECT(gbc.pc(), 0x10b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 033B
        gbc.setState(0x896, 0xda20, 0x9100, 0x4249, 0xf73f, 0xacc4, 0x0, 0x0);
        gbc.writeMem(0x896, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xda20);
        EXPECT(gbc.pc(), 0x898);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 033C
        gbc.setState(0x3a05, 0xbb43, 0x260, 0xc58b, 0x550, 0x1bbb, 0x0, 0x0);
        gbc.writeMem(0x3a05, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xbb43);
        EXPECT(gbc.pc(), 0x3a07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 033D
        gbc.setState(0x64af, 0x5ec1, 0xf370, 0xba7, 0xe52, 0x9333, 0x0, 0x0);
        gbc.writeMem(0x64af, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5ec1);
        EXPECT(gbc.pc(), 0x64b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 033E
        gbc.setState(0x25bf, 0xf6b, 0x94b0, 0xd50c, 0xcbdd, 0xbbcd, 0x1, 0x1);
        gbc.writeMem(0x25bf, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf6b);
        EXPECT(gbc.pc(), 0x25c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 033F
        gbc.setState(0x8804, 0xb21f, 0x4840, 0xbda, 0x2315, 0x99cb, 0x0, 0x1);
        gbc.writeMem(0x8804, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xb21f);
        EXPECT(gbc.pc(), 0x8806);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8804), 0xcb);
        EXPECT(gbc.readMem(0x8805), 0xc5);
        // CB C5 0340
        gbc.setState(0xb256, 0xef6c, 0xcda0, 0xb117, 0x8c94, 0xe71, 0x0, 0x1);
        gbc.writeMem(0xb256, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xef6c);
        EXPECT(gbc.pc(), 0xb258);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb256), 0xcb);
        EXPECT(gbc.readMem(0xb257), 0xc5);
        // CB C5 0342
        gbc.setState(0x6c6c, 0x2921, 0x3d90, 0x8f7c, 0xa88, 0xc9ec, 0x0, 0x1);
        gbc.writeMem(0x6c6c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2921);
        EXPECT(gbc.pc(), 0x6c6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0343
        gbc.setState(0xb5cb, 0x980, 0x97d0, 0x7340, 0x737c, 0x3f88, 0x1, 0x1);
        gbc.writeMem(0xb5cb, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x980);
        EXPECT(gbc.pc(), 0xb5cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5cb), 0xcb);
        EXPECT(gbc.readMem(0xb5cc), 0xc5);
        // CB C5 0344
        gbc.setState(0x58c2, 0x179e, 0xc7b0, 0xe0f5, 0x4174, 0x2bee, 0x0, 0x1);
        gbc.writeMem(0x58c2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x179e);
        EXPECT(gbc.pc(), 0x58c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0345
        gbc.setState(0x1096, 0x3ba6, 0x2050, 0x1d0d, 0xc554, 0x2559, 0x1, 0x0);
        gbc.writeMem(0x1096, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3ba6);
        EXPECT(gbc.pc(), 0x1098);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0346
        gbc.setState(0x32aa, 0xf3d4, 0xb7a0, 0xb334, 0xa75e, 0x13ca, 0x0, 0x0);
        gbc.writeMem(0x32aa, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf3d4);
        EXPECT(gbc.pc(), 0x32ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0347
        gbc.setState(0x9fcd, 0xfdd4, 0x7230, 0x10f4, 0x8cb5, 0xdc68, 0x0, 0x1);
        gbc.writeMem(0x9fcd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xfdd4);
        EXPECT(gbc.pc(), 0x9fcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fcd), 0xcb);
        EXPECT(gbc.readMem(0x9fce), 0xc5);
        // CB C5 0348
        gbc.setState(0xc1de, 0xf902, 0xa440, 0xf949, 0xc641, 0x9451, 0x0, 0x1);
        gbc.writeMem(0xc1de, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xf902);
        EXPECT(gbc.pc(), 0xc1e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1de), 0xcb);
        EXPECT(gbc.readMem(0xc1df), 0xc5);
        // CB C5 0349
        gbc.setState(0x497c, 0x85c6, 0x8a10, 0x668d, 0x786a, 0xeb48, 0x1, 0x0);
        gbc.writeMem(0x497c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x85c6);
        EXPECT(gbc.pc(), 0x497e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 034A
        gbc.setState(0xbe38, 0xa567, 0xd080, 0x8604, 0xe57, 0x8a16, 0x1, 0x1);
        gbc.writeMem(0xbe38, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa567);
        EXPECT(gbc.pc(), 0xbe3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe38), 0xcb);
        EXPECT(gbc.readMem(0xbe39), 0xc5);
        // CB C5 034B
        gbc.setState(0xe0ba, 0x110f, 0x3910, 0x720c, 0xede8, 0xc623, 0x1, 0x1);
        gbc.writeMem(0xe0ba, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x110f);
        EXPECT(gbc.pc(), 0xe0bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0ba), 0xcb);
        EXPECT(gbc.readMem(0xe0bb), 0xc5);
        // CB C5 034C
        gbc.setState(0x2a42, 0x84ed, 0xa1f0, 0x4c4a, 0x283, 0x138c, 0x0, 0x1);
        gbc.writeMem(0x2a42, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x84ed);
        EXPECT(gbc.pc(), 0x2a44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 034D
        gbc.setState(0x6344, 0x5e4c, 0x4d80, 0xc7b0, 0xa1d5, 0x8005, 0x0, 0x1);
        gbc.writeMem(0x6344, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x5e4c);
        EXPECT(gbc.pc(), 0x6346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 034E
        gbc.setState(0x27dd, 0xefa5, 0x9380, 0xd55c, 0xa33b, 0x1298, 0x1, 0x0);
        gbc.writeMem(0x27dd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xefa5);
        EXPECT(gbc.pc(), 0x27df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 034F
        gbc.setState(0xb2d3, 0x4921, 0xd7f0, 0xcf5c, 0x51e0, 0x8bb9, 0x0, 0x0);
        gbc.writeMem(0xb2d3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4921);
        EXPECT(gbc.pc(), 0xb2d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d3), 0xcb);
        EXPECT(gbc.readMem(0xb2d4), 0xc5);
        // CB C5 0350
        gbc.setState(0xd3d5, 0xddee, 0x9680, 0xe542, 0xfdf1, 0x6172, 0x0, 0x1);
        gbc.writeMem(0xd3d5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xddee);
        EXPECT(gbc.pc(), 0xd3d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d5), 0xcb);
        EXPECT(gbc.readMem(0xd3d6), 0xc5);
        // CB C5 0351
        gbc.setState(0x7773, 0xbbd4, 0xb3d0, 0x2bcb, 0x4197, 0xad1b, 0x0, 0x0);
        gbc.writeMem(0x7773, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbbd4);
        EXPECT(gbc.pc(), 0x7775);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0353
        gbc.setState(0xb32b, 0xf304, 0x7af0, 0xf08b, 0xde25, 0x6d67, 0x1, 0x0);
        gbc.writeMem(0xb32b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf304);
        EXPECT(gbc.pc(), 0xb32d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb32b), 0xcb);
        EXPECT(gbc.readMem(0xb32c), 0xc5);
        // CB C5 0354
        gbc.setState(0xbc99, 0x719e, 0x4c20, 0xe66a, 0x76ef, 0xab5e, 0x0, 0x0);
        gbc.writeMem(0xbc99, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x719e);
        EXPECT(gbc.pc(), 0xbc9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc99), 0xcb);
        EXPECT(gbc.readMem(0xbc9a), 0xc5);
        // CB C5 0355
        gbc.setState(0x493a, 0xf960, 0xefa0, 0xdbcd, 0x4ab0, 0x6acc, 0x1, 0x0);
        gbc.writeMem(0x493a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf960);
        EXPECT(gbc.pc(), 0x493c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0356
        gbc.setState(0x8243, 0xb471, 0xbe90, 0x3c48, 0x2fe3, 0xcf94, 0x0, 0x1);
        gbc.writeMem(0x8243, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb471);
        EXPECT(gbc.pc(), 0x8245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8243), 0xcb);
        EXPECT(gbc.readMem(0x8244), 0xc5);
        // CB C5 0357
        gbc.setState(0x9317, 0xcd4, 0xd670, 0x91ba, 0x2dd2, 0x1088, 0x0, 0x1);
        gbc.writeMem(0x9317, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xcd4);
        EXPECT(gbc.pc(), 0x9319);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9317), 0xcb);
        EXPECT(gbc.readMem(0x9318), 0xc5);
        // CB C5 0358
        gbc.setState(0x4703, 0x8d70, 0xcc60, 0x4ee9, 0x53e, 0xf5b2, 0x1, 0x0);
        gbc.writeMem(0x4703, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x8d70);
        EXPECT(gbc.pc(), 0x4705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0359
        gbc.setState(0xc88c, 0x188d, 0x67e0, 0x6360, 0x688f, 0xf293, 0x1, 0x0);
        gbc.writeMem(0xc88c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x188d);
        EXPECT(gbc.pc(), 0xc88e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc88c), 0xcb);
        EXPECT(gbc.readMem(0xc88d), 0xc5);
        // CB C5 035B
        gbc.setState(0x5ded, 0xf094, 0x7710, 0x5cc2, 0x7eff, 0xd792, 0x1, 0x1);
        gbc.writeMem(0x5ded, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf094);
        EXPECT(gbc.pc(), 0x5def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 035C
        gbc.setState(0x105b, 0x7635, 0x54a0, 0x581b, 0xfdc7, 0x4d52, 0x0, 0x0);
        gbc.writeMem(0x105b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7635);
        EXPECT(gbc.pc(), 0x105d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 035D
        gbc.setState(0x30d6, 0xa82c, 0x4b00, 0x149, 0x99f8, 0x7d61, 0x0, 0x1);
        gbc.writeMem(0x30d6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa82c);
        EXPECT(gbc.pc(), 0x30d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 035E
        gbc.setState(0xe487, 0xed1f, 0x6090, 0xd93a, 0xd25f, 0x7abf, 0x0, 0x1);
        gbc.writeMem(0xe487, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xed1f);
        EXPECT(gbc.pc(), 0xe489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe487), 0xcb);
        EXPECT(gbc.readMem(0xe488), 0xc5);
        // CB C5 035F
        gbc.setState(0x8ee5, 0x8fe0, 0x6d30, 0x4a59, 0x12fd, 0xd85f, 0x1, 0x0);
        gbc.writeMem(0x8ee5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8fe0);
        EXPECT(gbc.pc(), 0x8ee7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ee5), 0xcb);
        EXPECT(gbc.readMem(0x8ee6), 0xc5);
        // CB C5 0360
        gbc.setState(0x9641, 0x1a56, 0xd440, 0x54cc, 0x81d2, 0x43d6, 0x0, 0x0);
        gbc.writeMem(0x9641, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1a56);
        EXPECT(gbc.pc(), 0x9643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9641), 0xcb);
        EXPECT(gbc.readMem(0x9642), 0xc5);
        // CB C5 0361
        gbc.setState(0xe20f, 0x9c88, 0x3f80, 0x79b3, 0x1c37, 0x1ea5, 0x1, 0x0);
        gbc.writeMem(0xe20f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x9c88);
        EXPECT(gbc.pc(), 0xe211);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe20f), 0xcb);
        EXPECT(gbc.readMem(0xe210), 0xc5);
        // CB C5 0362
        gbc.setState(0x3429, 0xd2a, 0x3080, 0x13a8, 0xed43, 0x73fb, 0x0, 0x1);
        gbc.writeMem(0x3429, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd2a);
        EXPECT(gbc.pc(), 0x342b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0363
        gbc.setState(0x811d, 0xfa40, 0xc90, 0x93c, 0xb937, 0x9aa8, 0x1, 0x1);
        gbc.writeMem(0x811d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xfa40);
        EXPECT(gbc.pc(), 0x811f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x811d), 0xcb);
        EXPECT(gbc.readMem(0x811e), 0xc5);
        // CB C5 0364
        gbc.setState(0x3918, 0x43b6, 0xaf70, 0xa805, 0x6179, 0x90cc, 0x0, 0x1);
        gbc.writeMem(0x3918, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x43b6);
        EXPECT(gbc.pc(), 0x391a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0365
        gbc.setState(0x9d19, 0x9f2c, 0x35a0, 0xbaac, 0xfd0b, 0x5882, 0x1, 0x0);
        gbc.writeMem(0x9d19, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9f2c);
        EXPECT(gbc.pc(), 0x9d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d19), 0xcb);
        EXPECT(gbc.readMem(0x9d1a), 0xc5);
        // CB C5 0366
        gbc.setState(0x7690, 0xdcfc, 0x28a0, 0x975f, 0x5637, 0x44a1, 0x0, 0x0);
        gbc.writeMem(0x7690, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xdcfc);
        EXPECT(gbc.pc(), 0x7692);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0367
        gbc.setState(0x4021, 0xb0b2, 0x5c40, 0x64ad, 0x4c87, 0xb161, 0x0, 0x0);
        gbc.writeMem(0x4021, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb0b2);
        EXPECT(gbc.pc(), 0x4023);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0368
        gbc.setState(0x8ec6, 0x6e1e, 0x6260, 0x154, 0xc861, 0xf15b, 0x0, 0x0);
        gbc.writeMem(0x8ec6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6e1e);
        EXPECT(gbc.pc(), 0x8ec8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ec6), 0xcb);
        EXPECT(gbc.readMem(0x8ec7), 0xc5);
        // CB C5 0369
        gbc.setState(0x7941, 0xf743, 0xac50, 0xd562, 0x1f9e, 0xad6e, 0x0, 0x1);
        gbc.writeMem(0x7941, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xf743);
        EXPECT(gbc.pc(), 0x7943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 036A
        gbc.setState(0x9cee, 0x5b1b, 0x8210, 0xc4fe, 0x5194, 0x1d61, 0x1, 0x1);
        gbc.writeMem(0x9cee, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5b1b);
        EXPECT(gbc.pc(), 0x9cf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cee), 0xcb);
        EXPECT(gbc.readMem(0x9cef), 0xc5);
        // CB C5 036B
        gbc.setState(0x6562, 0x6e9c, 0x50c0, 0xd5fa, 0x846a, 0x1f4b, 0x0, 0x1);
        gbc.writeMem(0x6562, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x6e9c);
        EXPECT(gbc.pc(), 0x6564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 036C
        gbc.setState(0xd74d, 0x4993, 0xde00, 0xdc38, 0x8bc9, 0x9c64, 0x1, 0x1);
        gbc.writeMem(0xd74d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4993);
        EXPECT(gbc.pc(), 0xd74f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd74d), 0xcb);
        EXPECT(gbc.readMem(0xd74e), 0xc5);
        // CB C5 036D
        gbc.setState(0x6c0a, 0xe209, 0x4660, 0xd223, 0x1cda, 0x454f, 0x0, 0x0);
        gbc.writeMem(0x6c0a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe209);
        EXPECT(gbc.pc(), 0x6c0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 036E
        gbc.setState(0xec9c, 0x59ae, 0xda70, 0xff8f, 0xbc67, 0xea01, 0x0, 0x1);
        gbc.writeMem(0xec9c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x59ae);
        EXPECT(gbc.pc(), 0xec9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec9c), 0xcb);
        EXPECT(gbc.readMem(0xec9d), 0xc5);
        // CB C5 036F
        gbc.setState(0x79ec, 0x8a11, 0xa20, 0x3c29, 0x52c3, 0x2516, 0x0, 0x0);
        gbc.writeMem(0x79ec, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8a11);
        EXPECT(gbc.pc(), 0x79ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0370
        gbc.setState(0xd826, 0x382d, 0x2a90, 0x41a6, 0x77bd, 0x11ee, 0x1, 0x0);
        gbc.writeMem(0xd826, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x382d);
        EXPECT(gbc.pc(), 0xd828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd826), 0xcb);
        EXPECT(gbc.readMem(0xd827), 0xc5);
        // CB C5 0371
        gbc.setState(0x75b7, 0x8768, 0x5580, 0xa22e, 0x5c83, 0xe461, 0x0, 0x1);
        gbc.writeMem(0x75b7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x8768);
        EXPECT(gbc.pc(), 0x75b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0372
        gbc.setState(0x8360, 0xcdd5, 0x46c0, 0x3a58, 0xc9ce, 0x7efd, 0x0, 0x1);
        gbc.writeMem(0x8360, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xcdd5);
        EXPECT(gbc.pc(), 0x8362);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8360), 0xcb);
        EXPECT(gbc.readMem(0x8361), 0xc5);
        // CB C5 0373
        gbc.setState(0x1de6, 0x19aa, 0xe750, 0xc019, 0x7d0c, 0x187a, 0x0, 0x0);
        gbc.writeMem(0x1de6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x19aa);
        EXPECT(gbc.pc(), 0x1de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0374
        gbc.setState(0x9d1c, 0xe01f, 0xcb40, 0xef52, 0x2a81, 0x5c75, 0x1, 0x0);
        gbc.writeMem(0x9d1c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe01f);
        EXPECT(gbc.pc(), 0x9d1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d1c), 0xcb);
        EXPECT(gbc.readMem(0x9d1d), 0xc5);
        // CB C5 0375
        gbc.setState(0xe4dd, 0xcd3d, 0x2890, 0x45db, 0x5ca, 0x409a, 0x0, 0x1);
        gbc.writeMem(0xe4dd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcd3d);
        EXPECT(gbc.pc(), 0xe4df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4dd), 0xcb);
        EXPECT(gbc.readMem(0xe4de), 0xc5);
        // CB C5 0376
        gbc.setState(0xbd08, 0x803d, 0xd7c0, 0xc211, 0xa5a9, 0x491a, 0x0, 0x1);
        gbc.writeMem(0xbd08, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x803d);
        EXPECT(gbc.pc(), 0xbd0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd08), 0xcb);
        EXPECT(gbc.readMem(0xbd09), 0xc5);
        // CB C5 0377
        gbc.setState(0x6fb7, 0x4383, 0x1d30, 0x5bc0, 0xb58a, 0x8f25, 0x1, 0x0);
        gbc.writeMem(0x6fb7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4383);
        EXPECT(gbc.pc(), 0x6fb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0378
        gbc.setState(0xb27e, 0x3d3b, 0x2c50, 0xc09d, 0x6830, 0x8b6d, 0x1, 0x1);
        gbc.writeMem(0xb27e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x3d3b);
        EXPECT(gbc.pc(), 0xb280);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb27e), 0xcb);
        EXPECT(gbc.readMem(0xb27f), 0xc5);
        // CB C5 0379
        gbc.setState(0xd3ac, 0x8b33, 0xae30, 0x1ef8, 0x3322, 0x247f, 0x1, 0x0);
        gbc.writeMem(0xd3ac, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x8b33);
        EXPECT(gbc.pc(), 0xd3ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3ac), 0xcb);
        EXPECT(gbc.readMem(0xd3ad), 0xc5);
        // CB C5 037A
        gbc.setState(0x2456, 0x3cbf, 0x69f0, 0x19d9, 0xcb6c, 0xa953, 0x0, 0x0);
        gbc.writeMem(0x2456, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3cbf);
        EXPECT(gbc.pc(), 0x2458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 037B
        gbc.setState(0xac2b, 0xd850, 0x2c40, 0x6ffe, 0x75c1, 0x813e, 0x1, 0x0);
        gbc.writeMem(0xac2b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd850);
        EXPECT(gbc.pc(), 0xac2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac2b), 0xcb);
        EXPECT(gbc.readMem(0xac2c), 0xc5);
        // CB C5 037C
        gbc.setState(0x9db6, 0x9752, 0xd400, 0x60df, 0x52b8, 0x316d, 0x0, 0x0);
        gbc.writeMem(0x9db6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x9752);
        EXPECT(gbc.pc(), 0x9db8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9db6), 0xcb);
        EXPECT(gbc.readMem(0x9db7), 0xc5);
        // CB C5 037D
        gbc.setState(0xab94, 0xfd96, 0xe520, 0xd948, 0xb39f, 0xfc1, 0x1, 0x1);
        gbc.writeMem(0xab94, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xfd96);
        EXPECT(gbc.pc(), 0xab96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab94), 0xcb);
        EXPECT(gbc.readMem(0xab95), 0xc5);
        // CB C5 037E
        gbc.setState(0x7228, 0xc584, 0xd5b0, 0x7176, 0x8e0e, 0x573a, 0x0, 0x1);
        gbc.writeMem(0x7228, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc584);
        EXPECT(gbc.pc(), 0x722a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 037F
        gbc.setState(0x2407, 0xfb91, 0x7bf0, 0xbabb, 0x32a6, 0xb660, 0x1, 0x0);
        gbc.writeMem(0x2407, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xfb91);
        EXPECT(gbc.pc(), 0x2409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0380
        gbc.setState(0x164a, 0x203, 0x9180, 0x3a53, 0x9552, 0xcf28, 0x1, 0x0);
        gbc.writeMem(0x164a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x203);
        EXPECT(gbc.pc(), 0x164c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0381
        gbc.setState(0xd8b8, 0xf85c, 0x5a40, 0xe6d7, 0x6eb, 0x6288, 0x0, 0x0);
        gbc.writeMem(0xd8b8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf85c);
        EXPECT(gbc.pc(), 0xd8ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8b8), 0xcb);
        EXPECT(gbc.readMem(0xd8b9), 0xc5);
        // CB C5 0382
        gbc.setState(0x37b6, 0xbc04, 0x8eb0, 0x3c36, 0xdc41, 0x20, 0x0, 0x0);
        gbc.writeMem(0x37b6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xbc04);
        EXPECT(gbc.pc(), 0x37b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0383
        gbc.setState(0x76ee, 0xab3f, 0xc260, 0x511d, 0xed50, 0xbb10, 0x0, 0x1);
        gbc.writeMem(0x76ee, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xab3f);
        EXPECT(gbc.pc(), 0x76f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0384
        gbc.setState(0xaa72, 0x6948, 0x8c20, 0x307c, 0xf386, 0xee94, 0x0, 0x0);
        gbc.writeMem(0xaa72, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6948);
        EXPECT(gbc.pc(), 0xaa74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa72), 0xcb);
        EXPECT(gbc.readMem(0xaa73), 0xc5);
        // CB C5 0385
        gbc.setState(0x165b, 0x507d, 0xf990, 0xfe4f, 0x953e, 0x4a8d, 0x1, 0x0);
        gbc.writeMem(0x165b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x507d);
        EXPECT(gbc.pc(), 0x165d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0386
        gbc.setState(0x6a4a, 0x7168, 0xa3b0, 0xe46a, 0x3491, 0x7693, 0x0, 0x0);
        gbc.writeMem(0x6a4a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x7168);
        EXPECT(gbc.pc(), 0x6a4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0387
        gbc.setState(0xdb61, 0xb33f, 0xb400, 0xefee, 0x1f14, 0xb39d, 0x1, 0x1);
        gbc.writeMem(0xdb61, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb33f);
        EXPECT(gbc.pc(), 0xdb63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb61), 0xcb);
        EXPECT(gbc.readMem(0xdb62), 0xc5);
        // CB C5 0388
        gbc.setState(0x311, 0x1ef, 0xe160, 0x2c9b, 0xc41, 0x7cf4, 0x1, 0x0);
        gbc.writeMem(0x311, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x1ef);
        EXPECT(gbc.pc(), 0x313);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0389
        gbc.setState(0x81c, 0x99dd, 0xf6f0, 0xa7d6, 0x9b0e, 0xba3a, 0x1, 0x0);
        gbc.writeMem(0x81c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x99dd);
        EXPECT(gbc.pc(), 0x81e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 038A
        gbc.setState(0x25c3, 0x6fc9, 0x8670, 0xb312, 0x6a48, 0xaa4b, 0x0, 0x1);
        gbc.writeMem(0x25c3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x6fc9);
        EXPECT(gbc.pc(), 0x25c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 038B
        gbc.setState(0x78e0, 0xa81e, 0xd220, 0x370, 0xfad0, 0x1bda, 0x0, 0x0);
        gbc.writeMem(0x78e0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xa81e);
        EXPECT(gbc.pc(), 0x78e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 038C
        gbc.setState(0x93d9, 0x419e, 0x8a70, 0x68f6, 0x572d, 0xe15c, 0x0, 0x1);
        gbc.writeMem(0x93d9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x419e);
        EXPECT(gbc.pc(), 0x93db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93d9), 0xcb);
        EXPECT(gbc.readMem(0x93da), 0xc5);
        // CB C5 038D
        gbc.setState(0xaf52, 0xb3e5, 0x1fc0, 0xf5c8, 0x9f9c, 0x35a4, 0x1, 0x0);
        gbc.writeMem(0xaf52, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb3e5);
        EXPECT(gbc.pc(), 0xaf54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf52), 0xcb);
        EXPECT(gbc.readMem(0xaf53), 0xc5);
        // CB C5 038E
        gbc.setState(0x3d22, 0xb74e, 0x1130, 0xda1e, 0xebcb, 0x4bae, 0x1, 0x1);
        gbc.writeMem(0x3d22, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb74e);
        EXPECT(gbc.pc(), 0x3d24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0390
        gbc.setState(0x2f35, 0x4994, 0xf8b0, 0xc005, 0x5591, 0x3447, 0x1, 0x0);
        gbc.writeMem(0x2f35, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4994);
        EXPECT(gbc.pc(), 0x2f37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0391
        gbc.setState(0x14e6, 0x4b56, 0x1a70, 0x8053, 0x80fa, 0x1fb4, 0x0, 0x0);
        gbc.writeMem(0x14e6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4b56);
        EXPECT(gbc.pc(), 0x14e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0392
        gbc.setState(0x3589, 0xacb1, 0xaac0, 0x350f, 0xfe80, 0x6d07, 0x1, 0x1);
        gbc.writeMem(0x3589, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xacb1);
        EXPECT(gbc.pc(), 0x358b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0393
        gbc.setState(0xe4b5, 0x2049, 0xf720, 0x48b7, 0x6aa7, 0x1312, 0x0, 0x1);
        gbc.writeMem(0xe4b5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2049);
        EXPECT(gbc.pc(), 0xe4b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4b5), 0xcb);
        EXPECT(gbc.readMem(0xe4b6), 0xc5);
        // CB C5 0394
        gbc.setState(0x3934, 0x764b, 0x2bd0, 0x6c65, 0xa213, 0x58ff, 0x1, 0x0);
        gbc.writeMem(0x3934, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x764b);
        EXPECT(gbc.pc(), 0x3936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0395
        gbc.setState(0x8625, 0xe1d0, 0x3c10, 0x12e4, 0x4fb6, 0xc945, 0x0, 0x0);
        gbc.writeMem(0x8625, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe1d0);
        EXPECT(gbc.pc(), 0x8627);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8625), 0xcb);
        EXPECT(gbc.readMem(0x8626), 0xc5);
        // CB C5 0396
        gbc.setState(0x11af, 0xa502, 0x6b00, 0x2a09, 0x3388, 0xb1fe, 0x1, 0x1);
        gbc.writeMem(0x11af, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa502);
        EXPECT(gbc.pc(), 0x11b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0397
        gbc.setState(0x5ccd, 0xe926, 0x6100, 0x12b0, 0xf367, 0xc6d0, 0x1, 0x0);
        gbc.writeMem(0x5ccd, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe926);
        EXPECT(gbc.pc(), 0x5ccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 0398
        gbc.setState(0x6672, 0x11c3, 0x9690, 0x8ab9, 0xacc3, 0x5fe3, 0x0, 0x0);
        gbc.writeMem(0x6672, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x11c3);
        EXPECT(gbc.pc(), 0x6674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 0399
        gbc.setState(0xb09f, 0x3cd2, 0x8bd0, 0xa9ba, 0xcb53, 0xdad1, 0x1, 0x1);
        gbc.writeMem(0xb09f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3cd2);
        EXPECT(gbc.pc(), 0xb0a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb09f), 0xcb);
        EXPECT(gbc.readMem(0xb0a0), 0xc5);
        // CB C5 039A
        gbc.setState(0xa097, 0x6017, 0x10c0, 0x3175, 0x48e4, 0xc252, 0x0, 0x0);
        gbc.writeMem(0xa097, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x6017);
        EXPECT(gbc.pc(), 0xa099);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa097), 0xcb);
        EXPECT(gbc.readMem(0xa098), 0xc5);
        // CB C5 039B
        gbc.setState(0x3164, 0x394c, 0xeea0, 0x5e72, 0xcb9, 0x7d6f, 0x1, 0x0);
        gbc.writeMem(0x3164, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x394c);
        EXPECT(gbc.pc(), 0x3166);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 039C
        gbc.setState(0x26e5, 0xc498, 0x1fc0, 0x9be, 0x921e, 0x7993, 0x1, 0x1);
        gbc.writeMem(0x26e5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc498);
        EXPECT(gbc.pc(), 0x26e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 039D
        gbc.setState(0x22b0, 0x2f67, 0x5e60, 0xaf93, 0xf11d, 0x17dd, 0x1, 0x1);
        gbc.writeMem(0x22b0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2f67);
        EXPECT(gbc.pc(), 0x22b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 039E
        gbc.setState(0x76de, 0xe9f0, 0xc5b0, 0xd7a9, 0x76c7, 0xe53e, 0x1, 0x1);
        gbc.writeMem(0x76de, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe9f0);
        EXPECT(gbc.pc(), 0x76e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 039F
        gbc.setState(0x7663, 0xb399, 0xd830, 0xd6e4, 0xf131, 0xa05e, 0x0, 0x1);
        gbc.writeMem(0x7663, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb399);
        EXPECT(gbc.pc(), 0x7665);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03A0
        gbc.setState(0x565c, 0xb2ce, 0x86c0, 0x4b1d, 0xf514, 0x316e, 0x0, 0x1);
        gbc.writeMem(0x565c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb2ce);
        EXPECT(gbc.pc(), 0x565e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03A1
        gbc.setState(0x49f2, 0x1e76, 0x6be0, 0xd20, 0x279, 0x1be6, 0x1, 0x1);
        gbc.writeMem(0x49f2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x1e76);
        EXPECT(gbc.pc(), 0x49f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03A2
        gbc.setState(0x431f, 0x83f0, 0x5160, 0x789f, 0x420a, 0xa854, 0x0, 0x1);
        gbc.writeMem(0x431f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x83f0);
        EXPECT(gbc.pc(), 0x4321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03A3
        gbc.setState(0xe62a, 0xe457, 0xc7c0, 0xd2bb, 0xe567, 0xa161, 0x1, 0x1);
        gbc.writeMem(0xe62a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe457);
        EXPECT(gbc.pc(), 0xe62c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe62a), 0xcb);
        EXPECT(gbc.readMem(0xe62b), 0xc5);
        // CB C5 03A4
        gbc.setState(0xf7d, 0x709a, 0xc0b0, 0x58d0, 0x2493, 0x49c3, 0x0, 0x1);
        gbc.writeMem(0xf7d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x709a);
        EXPECT(gbc.pc(), 0xf7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03A5
        gbc.setState(0xdbe0, 0xa7a8, 0x3ba0, 0x2ac8, 0x8eb, 0x6380, 0x1, 0x0);
        gbc.writeMem(0xdbe0, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa7a8);
        EXPECT(gbc.pc(), 0xdbe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbe0), 0xcb);
        EXPECT(gbc.readMem(0xdbe1), 0xc5);
        // CB C5 03A6
        gbc.setState(0x8545, 0xcf8a, 0x3e0, 0x7804, 0xd36f, 0x7472, 0x1, 0x1);
        gbc.writeMem(0x8545, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xcf8a);
        EXPECT(gbc.pc(), 0x8547);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8545), 0xcb);
        EXPECT(gbc.readMem(0x8546), 0xc5);
        // CB C5 03A7
        gbc.setState(0xd2e4, 0x7ee9, 0xc920, 0x6001, 0x4d6a, 0x1a26, 0x0, 0x1);
        gbc.writeMem(0xd2e4, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7ee9);
        EXPECT(gbc.pc(), 0xd2e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2e4), 0xcb);
        EXPECT(gbc.readMem(0xd2e5), 0xc5);
        // CB C5 03A8
        gbc.setState(0xa56e, 0x7e7b, 0x5a20, 0x3eb5, 0xc7ee, 0xa096, 0x1, 0x0);
        gbc.writeMem(0xa56e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7e7b);
        EXPECT(gbc.pc(), 0xa570);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa56e), 0xcb);
        EXPECT(gbc.readMem(0xa56f), 0xc5);
        // CB C5 03A9
        gbc.setState(0x7d70, 0xfccd, 0x52b0, 0x30d8, 0x87ca, 0xe709, 0x0, 0x0);
        gbc.writeMem(0x7d70, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xfccd);
        EXPECT(gbc.pc(), 0x7d72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03AA
        gbc.setState(0xed90, 0xfe81, 0x8fe0, 0xc837, 0x7a86, 0x7a7f, 0x1, 0x0);
        gbc.writeMem(0xed90, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xfe81);
        EXPECT(gbc.pc(), 0xed92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed90), 0xcb);
        EXPECT(gbc.readMem(0xed91), 0xc5);
        // CB C5 03AB
        gbc.setState(0xa820, 0x399b, 0xf0e0, 0x33aa, 0x8ab2, 0x16ec, 0x0, 0x0);
        gbc.writeMem(0xa820, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x399b);
        EXPECT(gbc.pc(), 0xa822);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa820), 0xcb);
        EXPECT(gbc.readMem(0xa821), 0xc5);
        // CB C5 03AC
        gbc.setState(0x5495, 0x9635, 0xc400, 0xe7ef, 0xcbce, 0x4d8a, 0x1, 0x1);
        gbc.writeMem(0x5495, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x9635);
        EXPECT(gbc.pc(), 0x5497);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03AD
        gbc.setState(0x883d, 0xb4ab, 0xe820, 0xe3f4, 0xb16d, 0xa9c8, 0x0, 0x0);
        gbc.writeMem(0x883d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb4ab);
        EXPECT(gbc.pc(), 0x883f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x883d), 0xcb);
        EXPECT(gbc.readMem(0x883e), 0xc5);
        // CB C5 03AE
        gbc.setState(0x6485, 0x1d9a, 0x90e0, 0xa79d, 0x33e6, 0xd713, 0x0, 0x0);
        gbc.writeMem(0x6485, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1d9a);
        EXPECT(gbc.pc(), 0x6487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03AF
        gbc.setState(0xbcb3, 0xef66, 0x8430, 0xa159, 0x7b64, 0xe1bc, 0x1, 0x0);
        gbc.writeMem(0xbcb3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xef66);
        EXPECT(gbc.pc(), 0xbcb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcb3), 0xcb);
        EXPECT(gbc.readMem(0xbcb4), 0xc5);
        // CB C5 03B0
        gbc.setState(0xbb6e, 0x252e, 0xc490, 0x166f, 0xfd26, 0x7e50, 0x0, 0x1);
        gbc.writeMem(0xbb6e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x252e);
        EXPECT(gbc.pc(), 0xbb70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb6e), 0xcb);
        EXPECT(gbc.readMem(0xbb6f), 0xc5);
        // CB C5 03B1
        gbc.setState(0x5b29, 0x5de1, 0x8720, 0x2dd8, 0xf5c8, 0xe61f, 0x0, 0x1);
        gbc.writeMem(0x5b29, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5de1);
        EXPECT(gbc.pc(), 0x5b2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03B2
        gbc.setState(0xd961, 0x6b1e, 0xf910, 0xfe17, 0x1e7a, 0x77a4, 0x0, 0x0);
        gbc.writeMem(0xd961, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x6b1e);
        EXPECT(gbc.pc(), 0xd963);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd961), 0xcb);
        EXPECT(gbc.readMem(0xd962), 0xc5);
        // CB C5 03B3
        gbc.setState(0x8db3, 0x84c3, 0x2b30, 0xda54, 0x6170, 0x773b, 0x0, 0x0);
        gbc.writeMem(0x8db3, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x84c3);
        EXPECT(gbc.pc(), 0x8db5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8db3), 0xcb);
        EXPECT(gbc.readMem(0x8db4), 0xc5);
        // CB C5 03B4
        gbc.setState(0x99fc, 0xc278, 0xe8e0, 0xd7e1, 0xbfbc, 0xd72a, 0x1, 0x1);
        gbc.writeMem(0x99fc, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xc278);
        EXPECT(gbc.pc(), 0x99fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99fc), 0xcb);
        EXPECT(gbc.readMem(0x99fd), 0xc5);
        // CB C5 03B5
        gbc.setState(0xb744, 0x44aa, 0x11f0, 0xd8a4, 0x4059, 0xd76d, 0x1, 0x1);
        gbc.writeMem(0xb744, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x44aa);
        EXPECT(gbc.pc(), 0xb746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb744), 0xcb);
        EXPECT(gbc.readMem(0xb745), 0xc5);
        // CB C5 03B6
        gbc.setState(0x7d87, 0x549a, 0xd0a0, 0xa900, 0x7b96, 0x2558, 0x0, 0x1);
        gbc.writeMem(0x7d87, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x549a);
        EXPECT(gbc.pc(), 0x7d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03B7
        gbc.setState(0x34c6, 0x4ae2, 0x2060, 0x85fe, 0x7b83, 0xc3ee, 0x0, 0x0);
        gbc.writeMem(0x34c6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x4ae2);
        EXPECT(gbc.pc(), 0x34c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03B8
        gbc.setState(0x68a8, 0xb862, 0x6370, 0x5649, 0xc7b9, 0x78a8, 0x0, 0x0);
        gbc.writeMem(0x68a8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xb862);
        EXPECT(gbc.pc(), 0x68aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03B9
        gbc.setState(0x90df, 0xae42, 0x900, 0x3ccd, 0x31, 0x9804, 0x0, 0x1);
        gbc.writeMem(0x90df, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xae42);
        EXPECT(gbc.pc(), 0x90e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90df), 0xcb);
        EXPECT(gbc.readMem(0x90e0), 0xc5);
        // CB C5 03BB
        gbc.setState(0xb69c, 0xd427, 0x1200, 0x7c7a, 0x9b00, 0xa56b, 0x0, 0x1);
        gbc.writeMem(0xb69c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xd427);
        EXPECT(gbc.pc(), 0xb69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb69c), 0xcb);
        EXPECT(gbc.readMem(0xb69d), 0xc5);
        // CB C5 03BC
        gbc.setState(0xb01a, 0x4fc7, 0xf230, 0x99f4, 0xd682, 0x8bfe, 0x1, 0x0);
        gbc.writeMem(0xb01a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4fc7);
        EXPECT(gbc.pc(), 0xb01c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb01a), 0xcb);
        EXPECT(gbc.readMem(0xb01b), 0xc5);
        // CB C5 03BD
        gbc.setState(0xd232, 0x139b, 0xd8f0, 0xf9e4, 0x5452, 0xc010, 0x0, 0x1);
        gbc.writeMem(0xd232, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x139b);
        EXPECT(gbc.pc(), 0xd234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd232), 0xcb);
        EXPECT(gbc.readMem(0xd233), 0xc5);
        // CB C5 03BE
        gbc.setState(0xe2ad, 0xc5c9, 0x2840, 0xaab9, 0xde31, 0xef1, 0x1, 0x1);
        gbc.writeMem(0xe2ad, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc5c9);
        EXPECT(gbc.pc(), 0xe2af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2ad), 0xcb);
        EXPECT(gbc.readMem(0xe2ae), 0xc5);
        // CB C5 03BF
        gbc.setState(0x6e2e, 0xb1f4, 0x68c0, 0x5e5e, 0xdb37, 0x5300, 0x0, 0x1);
        gbc.writeMem(0x6e2e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb1f4);
        EXPECT(gbc.pc(), 0x6e30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03C1
        gbc.setState(0xa3a8, 0xd31d, 0xa680, 0xa2f8, 0x744e, 0x928d, 0x1, 0x0);
        gbc.writeMem(0xa3a8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd31d);
        EXPECT(gbc.pc(), 0xa3aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3a8), 0xcb);
        EXPECT(gbc.readMem(0xa3a9), 0xc5);
        // CB C5 03C2
        gbc.setState(0x727c, 0x4ced, 0x5b0, 0xf6f6, 0x7441, 0xf08, 0x0, 0x0);
        gbc.writeMem(0x727c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4ced);
        EXPECT(gbc.pc(), 0x727e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03C3
        gbc.setState(0x70e9, 0x942a, 0x7480, 0xed8f, 0x5f08, 0x19a5, 0x0, 0x1);
        gbc.writeMem(0x70e9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x942a);
        EXPECT(gbc.pc(), 0x70eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03C4
        gbc.setState(0xae34, 0x91e8, 0x4300, 0x31c0, 0xfb91, 0xaf12, 0x1, 0x0);
        gbc.writeMem(0xae34, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x91e8);
        EXPECT(gbc.pc(), 0xae36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae34), 0xcb);
        EXPECT(gbc.readMem(0xae35), 0xc5);
        // CB C5 03C5
        gbc.setState(0x4523, 0xf20a, 0xd9a0, 0x63f7, 0xc870, 0xe42a, 0x0, 0x0);
        gbc.writeMem(0x4523, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf20a);
        EXPECT(gbc.pc(), 0x4525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03C6
        gbc.setState(0x7930, 0x87bd, 0xccf0, 0xd8b8, 0x2439, 0xc60, 0x1, 0x1);
        gbc.writeMem(0x7930, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x87bd);
        EXPECT(gbc.pc(), 0x7932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03C7
        gbc.setState(0x30d9, 0xd2a8, 0x5d60, 0x6b39, 0x7972, 0x22cf, 0x1, 0x1);
        gbc.writeMem(0x30d9, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd2a8);
        EXPECT(gbc.pc(), 0x30db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03C8
        gbc.setState(0x8969, 0x89c0, 0xd250, 0xdec2, 0x5943, 0xdf68, 0x0, 0x1);
        gbc.writeMem(0x8969, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x89c0);
        EXPECT(gbc.pc(), 0x896b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8969), 0xcb);
        EXPECT(gbc.readMem(0x896a), 0xc5);
        // CB C5 03C9
        gbc.setState(0x10c5, 0x46b9, 0x1120, 0xf7f7, 0x204d, 0x8a4, 0x0, 0x0);
        gbc.writeMem(0x10c5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x46b9);
        EXPECT(gbc.pc(), 0x10c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03CA
        gbc.setState(0x24a8, 0x3aa, 0x9da0, 0xf328, 0x85cc, 0x945a, 0x0, 0x0);
        gbc.writeMem(0x24a8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3aa);
        EXPECT(gbc.pc(), 0x24aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03CB
        gbc.setState(0x4242, 0x23aa, 0x3ae0, 0x102c, 0x2b72, 0x7b33, 0x1, 0x1);
        gbc.writeMem(0x4242, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x23aa);
        EXPECT(gbc.pc(), 0x4244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03CD
        gbc.setState(0xe56b, 0x15c4, 0xa660, 0x3b4a, 0xdd7d, 0x45e8, 0x0, 0x0);
        gbc.writeMem(0xe56b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x15c4);
        EXPECT(gbc.pc(), 0xe56d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe56b), 0xcb);
        EXPECT(gbc.readMem(0xe56c), 0xc5);
        // CB C5 03CE
        gbc.setState(0x1713, 0xb61a, 0xecd0, 0xd2b9, 0xf7bb, 0xb6d5, 0x0, 0x1);
        gbc.writeMem(0x1713, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb61a);
        EXPECT(gbc.pc(), 0x1715);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03CF
        gbc.setState(0x290b, 0xcf4d, 0x6630, 0xb4c6, 0xecd1, 0x4c67, 0x1, 0x0);
        gbc.writeMem(0x290b, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xcf4d);
        EXPECT(gbc.pc(), 0x290d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03D0
        gbc.setState(0x46ff, 0xdba7, 0x4db0, 0x4561, 0xbfc4, 0xdadf, 0x1, 0x1);
        gbc.writeMem(0x46ff, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xdba7);
        EXPECT(gbc.pc(), 0x4701);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03D1
        gbc.setState(0xb7ad, 0xb1bc, 0x7a90, 0x710f, 0xc7c4, 0x2091, 0x0, 0x1);
        gbc.writeMem(0xb7ad, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb1bc);
        EXPECT(gbc.pc(), 0xb7af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7ad), 0xcb);
        EXPECT(gbc.readMem(0xb7ae), 0xc5);
        // CB C5 03D3
        gbc.setState(0x98a, 0xa34b, 0xc530, 0xcf08, 0xeaa8, 0x983, 0x1, 0x0);
        gbc.writeMem(0x98a, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa34b);
        EXPECT(gbc.pc(), 0x98c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03D4
        gbc.setState(0xd7da, 0xfce9, 0xdb80, 0xb76b, 0x9f1f, 0x1814, 0x1, 0x0);
        gbc.writeMem(0xd7da, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xfce9);
        EXPECT(gbc.pc(), 0xd7dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7da), 0xcb);
        EXPECT(gbc.readMem(0xd7db), 0xc5);
        // CB C5 03D5
        gbc.setState(0x1a76, 0xe030, 0x1a20, 0x72a6, 0x58eb, 0x28da, 0x0, 0x1);
        gbc.writeMem(0x1a76, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xe030);
        EXPECT(gbc.pc(), 0x1a78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03D6
        gbc.setState(0x11e2, 0xb9e, 0x6c0, 0xecb0, 0x7c54, 0x4c85, 0x1, 0x1);
        gbc.writeMem(0x11e2, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb9e);
        EXPECT(gbc.pc(), 0x11e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03D7
        gbc.setState(0x10f7, 0x63c2, 0xba80, 0xb960, 0x3baf, 0x7dcd, 0x0, 0x1);
        gbc.writeMem(0x10f7, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x63c2);
        EXPECT(gbc.pc(), 0x10f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03D8
        gbc.setState(0xce60, 0x549a, 0x8e50, 0x7ad3, 0x6703, 0xb3cb, 0x1, 0x0);
        gbc.writeMem(0xce60, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x549a);
        EXPECT(gbc.pc(), 0xce62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce60), 0xcb);
        EXPECT(gbc.readMem(0xce61), 0xc5);
        // CB C5 03D9
        gbc.setState(0xa243, 0x913, 0x92f0, 0x79b3, 0xf884, 0xf484, 0x0, 0x1);
        gbc.writeMem(0xa243, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x913);
        EXPECT(gbc.pc(), 0xa245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa243), 0xcb);
        EXPECT(gbc.readMem(0xa244), 0xc5);
        // CB C5 03DA
        gbc.setState(0xa6f5, 0x95dc, 0x5790, 0x1ac7, 0xd48b, 0xd82d, 0x0, 0x0);
        gbc.writeMem(0xa6f5, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x95dc);
        EXPECT(gbc.pc(), 0xa6f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f5), 0xcb);
        EXPECT(gbc.readMem(0xa6f6), 0xc5);
        // CB C5 03DB
        gbc.setState(0x95ea, 0x62fa, 0xd5a0, 0x9c0a, 0x16db, 0xaaf7, 0x1, 0x1);
        gbc.writeMem(0x95ea, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x62fa);
        EXPECT(gbc.pc(), 0x95ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ea), 0xcb);
        EXPECT(gbc.readMem(0x95eb), 0xc5);
        // CB C5 03DC
        gbc.setState(0x6c8f, 0xa81b, 0xab00, 0x4f8c, 0x778e, 0x5176, 0x0, 0x0);
        gbc.writeMem(0x6c8f, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa81b);
        EXPECT(gbc.pc(), 0x6c91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03DD
        gbc.setState(0xdc0c, 0xc05f, 0x9f80, 0x2177, 0x1276, 0xac63, 0x0, 0x0);
        gbc.writeMem(0xdc0c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc05f);
        EXPECT(gbc.pc(), 0xdc0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc0c), 0xcb);
        EXPECT(gbc.readMem(0xdc0d), 0xc5);
        // CB C5 03DE
        gbc.setState(0x8078, 0xe2d4, 0xe7f0, 0x7b32, 0x8712, 0xde1a, 0x1, 0x0);
        gbc.writeMem(0x8078, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe2d4);
        EXPECT(gbc.pc(), 0x807a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8078), 0xcb);
        EXPECT(gbc.readMem(0x8079), 0xc5);
        // CB C5 03DF
        gbc.setState(0x228c, 0xccd, 0x5b00, 0x9bc3, 0x4606, 0xb9a0, 0x0, 0x0);
        gbc.writeMem(0x228c, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xccd);
        EXPECT(gbc.pc(), 0x228e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03E0
        gbc.setState(0x65f6, 0x9e58, 0x99a0, 0x56d7, 0x7786, 0x7b58, 0x0, 0x0);
        gbc.writeMem(0x65f6, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9e58);
        EXPECT(gbc.pc(), 0x65f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03E1
        gbc.setState(0xe80e, 0x5429, 0xde90, 0x9eea, 0xdedf, 0x677e, 0x0, 0x1);
        gbc.writeMem(0xe80e, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5429);
        EXPECT(gbc.pc(), 0xe810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe80e), 0xcb);
        EXPECT(gbc.readMem(0xe80f), 0xc5);
        // CB C5 03E2
        gbc.setState(0x775d, 0x2a32, 0x8060, 0x2a83, 0x8a8, 0x5b49, 0x1, 0x0);
        gbc.writeMem(0x775d, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2a32);
        EXPECT(gbc.pc(), 0x775f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB C5 03E3
        gbc.setState(0x6b76, 0x2cf0, 0xcb50, 0xa12d, 0x1db1, 0x89d4, 0x0, 0x0);
        gbc.writeMem(0x6b76, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2cf0);
        EXPECT(gbc.pc(), 0x6b78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB C5 03E4
        gbc.setState(0xdd07, 0xe57c, 0x32f0, 0x9c9e, 0xc814, 0x46e0, 0x1, 0x1);
        gbc.writeMem(0xdd07, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xe57c);
        EXPECT(gbc.pc(), 0xdd09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd07), 0xcb);
        EXPECT(gbc.readMem(0xdd08), 0xc5);
        // CB C5 03E5
        gbc.setState(0x9615, 0x1fd9, 0xad40, 0x62de, 0x5e66, 0x6648, 0x0, 0x1);
        gbc.writeMem(0x9615, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1fd9);
        EXPECT(gbc.pc(), 0x9617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9615), 0xcb);
        EXPECT(gbc.readMem(0x9616), 0xc5);
        // CB C5 03E6
        gbc.setState(0xd7c8, 0xe2c5, 0x45a0, 0xa11, 0x107c, 0xb1ce, 0x1, 0x1);
        gbc.writeMem(0xd7c8, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe2c5);
        EXPECT(gbc.pc(), 0xd7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c8), 0xcb);
        EXPECT(gbc.readMem(0xd7c9), 0xc5);
        // CB C5 03E7
        gbc.setState(0x1bd1, 0x591e, 0x93e0, 0x8e80, 0x1d5c, 0x8b5d, 0x1, 0x1);
        gbc.writeMem(0x1bd1, { 0xcb, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x591e);
        EXPECT(gbc.pc(), 0x1bd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
