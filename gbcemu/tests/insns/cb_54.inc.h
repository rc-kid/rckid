    TEST(gbcemu, opcode_cb_54) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 54 0000
        gbc.setState(0x8343, 0x9316, 0xa2e0, 0x5ef1, 0x142e, 0xdc46, 0x0, 0x1);
        gbc.writeMem(0x8343, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x9316, gbc.sp());
        EXPECT(0x8345, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8343));
        EXPECT(0x54, gbc.readMem(0x8344));
        // CB 54 0001
        gbc.setState(0x6edd, 0x9f9f, 0xd330, 0x7bf4, 0xb646, 0xb33c, 0x0, 0x0);
        gbc.writeMem(0x6edd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x9f9f, gbc.sp());
        EXPECT(0x6edf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0002
        gbc.setState(0x9dc7, 0x1cee, 0x3760, 0x5682, 0xcdd, 0x1486, 0x0, 0x0);
        gbc.writeMem(0x9dc7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x1cee, gbc.sp());
        EXPECT(0x9dc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dc7));
        EXPECT(0x54, gbc.readMem(0x9dc8));
        // CB 54 0003
        gbc.setState(0x1a2b, 0x51f9, 0x8450, 0x72df, 0xaa8d, 0xaa15, 0x0, 0x0);
        gbc.writeMem(0x1a2b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x51f9, gbc.sp());
        EXPECT(0x1a2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0004
        gbc.setState(0xd692, 0x8e2c, 0x1d50, 0xfa8c, 0x53df, 0xe8dc, 0x0, 0x0);
        gbc.writeMem(0xd692, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x8e2c, gbc.sp());
        EXPECT(0xd694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd692));
        EXPECT(0x54, gbc.readMem(0xd693));
        // CB 54 0005
        gbc.setState(0xdcf8, 0x5e2d, 0x5790, 0xa4a7, 0x1d45, 0x1d7f, 0x1, 0x0);
        gbc.writeMem(0xdcf8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5e2d, gbc.sp());
        EXPECT(0xdcfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcf8));
        EXPECT(0x54, gbc.readMem(0xdcf9));
        // CB 54 0006
        gbc.setState(0xcc5a, 0x68c, 0xf250, 0x1dcc, 0x1ba0, 0xc89f, 0x1, 0x0);
        gbc.writeMem(0xcc5a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x68c, gbc.sp());
        EXPECT(0xcc5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc5a));
        EXPECT(0x54, gbc.readMem(0xcc5b));
        // CB 54 0007
        gbc.setState(0xbca2, 0xf356, 0x5e00, 0xe118, 0x964f, 0x1ef8, 0x0, 0x1);
        gbc.writeMem(0xbca2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf356, gbc.sp());
        EXPECT(0xbca4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbca2));
        EXPECT(0x54, gbc.readMem(0xbca3));
        // CB 54 0008
        gbc.setState(0x223b, 0x4793, 0xeda0, 0x5cda, 0xcba0, 0x5c01, 0x0, 0x1);
        gbc.writeMem(0x223b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x4793, gbc.sp());
        EXPECT(0x223d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0009
        gbc.setState(0x47bc, 0x5333, 0xefd0, 0x55e9, 0xb219, 0x6a3d, 0x1, 0x0);
        gbc.writeMem(0x47bc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x5333, gbc.sp());
        EXPECT(0x47be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 000A
        gbc.setState(0x5303, 0x644b, 0x4010, 0x9085, 0x4d53, 0x5614, 0x1, 0x1);
        gbc.writeMem(0x5303, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x644b, gbc.sp());
        EXPECT(0x5305, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 000B
        gbc.setState(0x4b3c, 0xebc4, 0xeb20, 0x3860, 0xd367, 0xdae, 0x0, 0x0);
        gbc.writeMem(0x4b3c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xebc4, gbc.sp());
        EXPECT(0x4b3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 000C
        gbc.setState(0x7a5d, 0xe13c, 0x9020, 0x8cda, 0x555a, 0x9288, 0x0, 0x0);
        gbc.writeMem(0x7a5d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xe13c, gbc.sp());
        EXPECT(0x7a5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 000D
        gbc.setState(0xd7bb, 0x64a9, 0x3a90, 0xd7a7, 0xdcad, 0x2639, 0x1, 0x0);
        gbc.writeMem(0xd7bb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x64a9, gbc.sp());
        EXPECT(0xd7bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7bb));
        EXPECT(0x54, gbc.readMem(0xd7bc));
        // CB 54 000E
        gbc.setState(0x8ccf, 0xfb14, 0x6420, 0x6a44, 0x2705, 0x2930, 0x1, 0x0);
        gbc.writeMem(0x8ccf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xfb14, gbc.sp());
        EXPECT(0x8cd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ccf));
        EXPECT(0x54, gbc.readMem(0x8cd0));
        // CB 54 000F
        gbc.setState(0xddf7, 0x189a, 0x91c0, 0xfe44, 0xdf3, 0x5ca3, 0x0, 0x1);
        gbc.writeMem(0xddf7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x189a, gbc.sp());
        EXPECT(0xddf9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddf7));
        EXPECT(0x54, gbc.readMem(0xddf8));
        // CB 54 0010
        gbc.setState(0x6394, 0xa1e5, 0x62d0, 0xf75d, 0x6e95, 0xb10a, 0x0, 0x1);
        gbc.writeMem(0x6394, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xa1e5, gbc.sp());
        EXPECT(0x6396, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0011
        gbc.setState(0xbd17, 0xcada, 0xd190, 0x2fc3, 0x6c1, 0xfe47, 0x0, 0x1);
        gbc.writeMem(0xbd17, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xcada, gbc.sp());
        EXPECT(0xbd19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd17));
        EXPECT(0x54, gbc.readMem(0xbd18));
        // CB 54 0012
        gbc.setState(0x226, 0x39f7, 0xea00, 0x8b7f, 0x7c38, 0x623c, 0x1, 0x0);
        gbc.writeMem(0x226, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x39f7, gbc.sp());
        EXPECT(0x228, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0013
        gbc.setState(0x3e07, 0x3e5f, 0xcfa0, 0xe59d, 0xe8ad, 0x4e96, 0x0, 0x0);
        gbc.writeMem(0x3e07, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x3e5f, gbc.sp());
        EXPECT(0x3e09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0014
        gbc.setState(0xb4ac, 0x931, 0x790, 0xb95d, 0x61ae, 0x32d0, 0x0, 0x1);
        gbc.writeMem(0xb4ac, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x931, gbc.sp());
        EXPECT(0xb4ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4ac));
        EXPECT(0x54, gbc.readMem(0xb4ad));
        // CB 54 0015
        gbc.setState(0x9f1b, 0x660d, 0x7f80, 0x7e1b, 0x1321, 0x580b, 0x0, 0x0);
        gbc.writeMem(0x9f1b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x660d, gbc.sp());
        EXPECT(0x9f1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f1b));
        EXPECT(0x54, gbc.readMem(0x9f1c));
        // CB 54 0016
        gbc.setState(0xadb, 0xed1, 0x240, 0x4bdd, 0x972f, 0x8ce5, 0x1, 0x0);
        gbc.writeMem(0xadb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xed1, gbc.sp());
        EXPECT(0xadd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0017
        gbc.setState(0x21f6, 0x4d6f, 0xc600, 0xcc03, 0x4a81, 0xd2dd, 0x0, 0x1);
        gbc.writeMem(0x21f6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x4d6f, gbc.sp());
        EXPECT(0x21f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0019
        gbc.setState(0xa541, 0xae99, 0xe990, 0xe9d2, 0x1a6d, 0xd66e, 0x0, 0x0);
        gbc.writeMem(0xa541, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xae99, gbc.sp());
        EXPECT(0xa543, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa541));
        EXPECT(0x54, gbc.readMem(0xa542));
        // CB 54 001A
        gbc.setState(0x624d, 0xb1ec, 0x2e80, 0x87d2, 0x1c89, 0xf01, 0x0, 0x0);
        gbc.writeMem(0x624d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xb1ec, gbc.sp());
        EXPECT(0x624f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 001B
        gbc.setState(0xd9f7, 0xbc14, 0xe2e0, 0x5305, 0xea93, 0x5a4e, 0x0, 0x0);
        gbc.writeMem(0xd9f7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xbc14, gbc.sp());
        EXPECT(0xd9f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9f7));
        EXPECT(0x54, gbc.readMem(0xd9f8));
        // CB 54 001C
        gbc.setState(0x2d16, 0xfadc, 0x5570, 0xc0a8, 0xe94d, 0xc30, 0x1, 0x0);
        gbc.writeMem(0x2d16, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xfadc, gbc.sp());
        EXPECT(0x2d18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 001D
        gbc.setState(0x9e33, 0xa7c2, 0x5f30, 0x3bcb, 0x4744, 0x9bb0, 0x0, 0x1);
        gbc.writeMem(0x9e33, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xa7c2, gbc.sp());
        EXPECT(0x9e35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e33));
        EXPECT(0x54, gbc.readMem(0x9e34));
        // CB 54 001E
        gbc.setState(0x34a0, 0x63a6, 0x6b30, 0x1e2c, 0x1de1, 0x8ea1, 0x0, 0x1);
        gbc.writeMem(0x34a0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x63a6, gbc.sp());
        EXPECT(0x34a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 001F
        gbc.setState(0x9dc3, 0xdbe5, 0xe790, 0xc25e, 0x686d, 0xa60, 0x0, 0x0);
        gbc.writeMem(0x9dc3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xdbe5, gbc.sp());
        EXPECT(0x9dc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dc3));
        EXPECT(0x54, gbc.readMem(0x9dc4));
        // CB 54 0020
        gbc.setState(0x5922, 0x9c1d, 0x2530, 0xa000, 0x7fce, 0x440, 0x1, 0x0);
        gbc.writeMem(0x5922, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x9c1d, gbc.sp());
        EXPECT(0x5924, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0021
        gbc.setState(0x340, 0x1eb1, 0xfed0, 0x634b, 0xbbb7, 0x141d, 0x1, 0x0);
        gbc.writeMem(0x340, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x1eb1, gbc.sp());
        EXPECT(0x342, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0022
        gbc.setState(0x56eb, 0xc368, 0x1ae0, 0xc254, 0x435, 0xeea9, 0x1, 0x0);
        gbc.writeMem(0x56eb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xc368, gbc.sp());
        EXPECT(0x56ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0023
        gbc.setState(0xc1bf, 0xa427, 0x260, 0xe1ef, 0x42ef, 0x953a, 0x1, 0x0);
        gbc.writeMem(0xc1bf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xa427, gbc.sp());
        EXPECT(0xc1c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1bf));
        EXPECT(0x54, gbc.readMem(0xc1c0));
        // CB 54 0024
        gbc.setState(0xe057, 0x9722, 0x4340, 0x657f, 0x2b88, 0xe8b7, 0x0, 0x0);
        gbc.writeMem(0xe057, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x9722, gbc.sp());
        EXPECT(0xe059, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe057));
        EXPECT(0x54, gbc.readMem(0xe058));
        // CB 54 0025
        gbc.setState(0xdc12, 0x2e3f, 0xee20, 0x81ae, 0xad66, 0x2d02, 0x0, 0x0);
        gbc.writeMem(0xdc12, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x2e3f, gbc.sp());
        EXPECT(0xdc14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc12));
        EXPECT(0x54, gbc.readMem(0xdc13));
        // CB 54 0026
        gbc.setState(0xc108, 0x17ee, 0xc570, 0x919, 0xd52, 0x4d10, 0x0, 0x0);
        gbc.writeMem(0xc108, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x17ee, gbc.sp());
        EXPECT(0xc10a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc108));
        EXPECT(0x54, gbc.readMem(0xc109));
        // CB 54 0027
        gbc.setState(0x6bb0, 0x5bca, 0x54b0, 0x8888, 0xfe94, 0x5abc, 0x0, 0x0);
        gbc.writeMem(0x6bb0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x5bca, gbc.sp());
        EXPECT(0x6bb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0028
        gbc.setState(0x4dbd, 0x59ef, 0xe040, 0x3542, 0xc08c, 0x9f98, 0x1, 0x0);
        gbc.writeMem(0x4dbd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x59ef, gbc.sp());
        EXPECT(0x4dbf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 002A
        gbc.setState(0xc1fc, 0xe60c, 0x3240, 0x7bcd, 0x2454, 0x59b0, 0x0, 0x0);
        gbc.writeMem(0xc1fc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xe60c, gbc.sp());
        EXPECT(0xc1fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1fc));
        EXPECT(0x54, gbc.readMem(0xc1fd));
        // CB 54 002B
        gbc.setState(0x9ea4, 0xcdc7, 0x63f0, 0x3cda, 0x7ecd, 0x5b99, 0x0, 0x1);
        gbc.writeMem(0x9ea4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xcdc7, gbc.sp());
        EXPECT(0x9ea6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ea4));
        EXPECT(0x54, gbc.readMem(0x9ea5));
        // CB 54 002C
        gbc.setState(0xa4a9, 0x10ef, 0xec90, 0x6ae8, 0xa9ea, 0x5307, 0x1, 0x1);
        gbc.writeMem(0xa4a9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x10ef, gbc.sp());
        EXPECT(0xa4ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4a9));
        EXPECT(0x54, gbc.readMem(0xa4aa));
        // CB 54 002D
        gbc.setState(0x7037, 0xbf93, 0x530, 0x6c5a, 0xd83, 0xbdb4, 0x1, 0x1);
        gbc.writeMem(0x7037, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xbf93, gbc.sp());
        EXPECT(0x7039, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 002E
        gbc.setState(0x7346, 0xe00, 0x3bd0, 0xfe48, 0x54f2, 0x1f2c, 0x1, 0x1);
        gbc.writeMem(0x7346, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xe00, gbc.sp());
        EXPECT(0x7348, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 002F
        gbc.setState(0x1a93, 0xa405, 0x3c40, 0x5ac9, 0xa44c, 0xf3dd, 0x1, 0x0);
        gbc.writeMem(0x1a93, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xa405, gbc.sp());
        EXPECT(0x1a95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0030
        gbc.setState(0x4329, 0x7055, 0xcf20, 0xb928, 0x44f8, 0x2bea, 0x0, 0x0);
        gbc.writeMem(0x4329, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x7055, gbc.sp());
        EXPECT(0x432b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0031
        gbc.setState(0xc692, 0x1ecf, 0x7800, 0xbe68, 0x7f54, 0x7364, 0x0, 0x0);
        gbc.writeMem(0xc692, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x1ecf, gbc.sp());
        EXPECT(0xc694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc692));
        EXPECT(0x54, gbc.readMem(0xc693));
        // CB 54 0032
        gbc.setState(0x687, 0x69c0, 0xa5e0, 0xa2b5, 0xe78e, 0x5f45, 0x0, 0x1);
        gbc.writeMem(0x687, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x69c0, gbc.sp());
        EXPECT(0x689, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0033
        gbc.setState(0x2619, 0x16ed, 0x3950, 0x8500, 0x4340, 0x33f9, 0x0, 0x0);
        gbc.writeMem(0x2619, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x16ed, gbc.sp());
        EXPECT(0x261b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0034
        gbc.setState(0xdfa, 0xed6f, 0x2da0, 0x111, 0xbc74, 0x12e3, 0x1, 0x0);
        gbc.writeMem(0xdfa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xed6f, gbc.sp());
        EXPECT(0xdfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0035
        gbc.setState(0x4584, 0x38a5, 0xf300, 0x4d1f, 0xbde9, 0xde73, 0x0, 0x0);
        gbc.writeMem(0x4584, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x38a5, gbc.sp());
        EXPECT(0x4586, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0037
        gbc.setState(0xd00d, 0x1550, 0xa20, 0xa2b7, 0x94ce, 0x67ff, 0x0, 0x0);
        gbc.writeMem(0xd00d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x1550, gbc.sp());
        EXPECT(0xd00f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd00d));
        EXPECT(0x54, gbc.readMem(0xd00e));
        // CB 54 0038
        gbc.setState(0x2c5d, 0x9532, 0xe1a0, 0x7725, 0x94c6, 0xa0f9, 0x0, 0x1);
        gbc.writeMem(0x2c5d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x9532, gbc.sp());
        EXPECT(0x2c5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0039
        gbc.setState(0x3126, 0xf51a, 0x8900, 0x26a9, 0xec9c, 0x13f3, 0x1, 0x0);
        gbc.writeMem(0x3126, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xf51a, gbc.sp());
        EXPECT(0x3128, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 003A
        gbc.setState(0x99eb, 0x1841, 0x50f0, 0xc71d, 0xd777, 0x6d06, 0x0, 0x1);
        gbc.writeMem(0x99eb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x1841, gbc.sp());
        EXPECT(0x99ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99eb));
        EXPECT(0x54, gbc.readMem(0x99ec));
        // CB 54 003B
        gbc.setState(0x68e5, 0x312b, 0xf660, 0xc4f3, 0x78f6, 0x97a9, 0x1, 0x0);
        gbc.writeMem(0x68e5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x312b, gbc.sp());
        EXPECT(0x68e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 003C
        gbc.setState(0xeef0, 0xf2b0, 0x56a0, 0x22de, 0xd6a6, 0x403a, 0x0, 0x0);
        gbc.writeMem(0xeef0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xf2b0, gbc.sp());
        EXPECT(0xeef2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeef0));
        EXPECT(0x54, gbc.readMem(0xeef1));
        // CB 54 003D
        gbc.setState(0xd568, 0xfe2f, 0x5070, 0x314b, 0xe758, 0x1e5b, 0x0, 0x1);
        gbc.writeMem(0xd568, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xfe2f, gbc.sp());
        EXPECT(0xd56a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd568));
        EXPECT(0x54, gbc.readMem(0xd569));
        // CB 54 003E
        gbc.setState(0x79a7, 0x5d36, 0x9290, 0xd1dc, 0xb08c, 0xffd6, 0x0, 0x1);
        gbc.writeMem(0x79a7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5d36, gbc.sp());
        EXPECT(0x79a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 003F
        gbc.setState(0xdb59, 0x9e18, 0x7e10, 0x1484, 0xf48e, 0xa046, 0x1, 0x1);
        gbc.writeMem(0xdb59, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x9e18, gbc.sp());
        EXPECT(0xdb5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb59));
        EXPECT(0x54, gbc.readMem(0xdb5a));
        // CB 54 0040
        gbc.setState(0x14fa, 0xa189, 0xe550, 0xca4, 0xb4b1, 0x57c4, 0x1, 0x1);
        gbc.writeMem(0x14fa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xa189, gbc.sp());
        EXPECT(0x14fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0041
        gbc.setState(0xa890, 0x6237, 0x4b00, 0x902f, 0xf891, 0xce32, 0x0, 0x0);
        gbc.writeMem(0xa890, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x6237, gbc.sp());
        EXPECT(0xa892, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa890));
        EXPECT(0x54, gbc.readMem(0xa891));
        // CB 54 0042
        gbc.setState(0x9662, 0x2a76, 0xaa40, 0x6450, 0x8021, 0xeb5b, 0x1, 0x1);
        gbc.writeMem(0x9662, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x2a76, gbc.sp());
        EXPECT(0x9664, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9662));
        EXPECT(0x54, gbc.readMem(0x9663));
        // CB 54 0043
        gbc.setState(0x97e0, 0x54f7, 0xdf50, 0x41cc, 0xb203, 0xd198, 0x0, 0x1);
        gbc.writeMem(0x97e0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x54f7, gbc.sp());
        EXPECT(0x97e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97e0));
        EXPECT(0x54, gbc.readMem(0x97e1));
        // CB 54 0044
        gbc.setState(0x459b, 0xbd2c, 0x970, 0x9527, 0xf54a, 0x50ff, 0x1, 0x1);
        gbc.writeMem(0x459b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xbd2c, gbc.sp());
        EXPECT(0x459d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0045
        gbc.setState(0xeba, 0x5adb, 0xf2a0, 0x2d56, 0xb7ed, 0x3213, 0x1, 0x0);
        gbc.writeMem(0xeba, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x5adb, gbc.sp());
        EXPECT(0xebc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0046
        gbc.setState(0xc601, 0x3a30, 0x63b0, 0xea03, 0xa5b8, 0x5243, 0x1, 0x0);
        gbc.writeMem(0xc601, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x3a30, gbc.sp());
        EXPECT(0xc603, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc601));
        EXPECT(0x54, gbc.readMem(0xc602));
        // CB 54 0047
        gbc.setState(0x607c, 0x548b, 0xcde0, 0xe686, 0x22b9, 0x89db, 0x1, 0x1);
        gbc.writeMem(0x607c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x548b, gbc.sp());
        EXPECT(0x607e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0048
        gbc.setState(0x3710, 0x27a0, 0xd4d0, 0xc8e9, 0x12da, 0x3882, 0x1, 0x1);
        gbc.writeMem(0x3710, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x27a0, gbc.sp());
        EXPECT(0x3712, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0049
        gbc.setState(0x37cd, 0xd77a, 0x4d40, 0x4c6b, 0x6544, 0x1f84, 0x1, 0x1);
        gbc.writeMem(0x37cd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xd77a, gbc.sp());
        EXPECT(0x37cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 004A
        gbc.setState(0x9d00, 0x7d3c, 0x8750, 0xd925, 0x571c, 0x1689, 0x0, 0x0);
        gbc.writeMem(0x9d00, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x7d3c, gbc.sp());
        EXPECT(0x9d02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d00));
        EXPECT(0x54, gbc.readMem(0x9d01));
        // CB 54 004B
        gbc.setState(0x304, 0x2a85, 0xd80, 0xd003, 0xecb0, 0xcb3f, 0x0, 0x0);
        gbc.writeMem(0x304, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x2a85, gbc.sp());
        EXPECT(0x306, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 004C
        gbc.setState(0xa5f3, 0xe962, 0x8f40, 0xbd31, 0x142c, 0x4479, 0x1, 0x0);
        gbc.writeMem(0xa5f3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xe962, gbc.sp());
        EXPECT(0xa5f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5f3));
        EXPECT(0x54, gbc.readMem(0xa5f4));
        // CB 54 004D
        gbc.setState(0xc72f, 0x5102, 0x2a10, 0x16b5, 0x1d6, 0x1056, 0x0, 0x0);
        gbc.writeMem(0xc72f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x5102, gbc.sp());
        EXPECT(0xc731, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc72f));
        EXPECT(0x54, gbc.readMem(0xc730));
        // CB 54 004E
        gbc.setState(0xdbd3, 0x2959, 0x2270, 0xc300, 0x367c, 0xff49, 0x1, 0x0);
        gbc.writeMem(0xdbd3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x2959, gbc.sp());
        EXPECT(0xdbd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbd3));
        EXPECT(0x54, gbc.readMem(0xdbd4));
        // CB 54 004F
        gbc.setState(0x1d0b, 0xa13a, 0xec50, 0x2f07, 0x21ee, 0xd1f8, 0x0, 0x0);
        gbc.writeMem(0x1d0b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xa13a, gbc.sp());
        EXPECT(0x1d0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0050
        gbc.setState(0x2d2f, 0x7db, 0xd1d0, 0x8847, 0xa470, 0x5307, 0x0, 0x0);
        gbc.writeMem(0x2d2f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7db, gbc.sp());
        EXPECT(0x2d31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0051
        gbc.setState(0xe95a, 0xd4d0, 0x4980, 0xf3a4, 0x4da6, 0xb8e3, 0x0, 0x1);
        gbc.writeMem(0xe95a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xd4d0, gbc.sp());
        EXPECT(0xe95c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe95a));
        EXPECT(0x54, gbc.readMem(0xe95b));
        // CB 54 0052
        gbc.setState(0x1419, 0xec10, 0xda80, 0xba45, 0xfa19, 0x49ff, 0x0, 0x1);
        gbc.writeMem(0x1419, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xec10, gbc.sp());
        EXPECT(0x141b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0053
        gbc.setState(0x960d, 0xbc50, 0xcce0, 0xfd52, 0x28de, 0x7250, 0x1, 0x1);
        gbc.writeMem(0x960d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xbc50, gbc.sp());
        EXPECT(0x960f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x960d));
        EXPECT(0x54, gbc.readMem(0x960e));
        // CB 54 0054
        gbc.setState(0x9d09, 0xfbd5, 0x59f0, 0xdc8e, 0x5a4e, 0x1f20, 0x0, 0x0);
        gbc.writeMem(0x9d09, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xfbd5, gbc.sp());
        EXPECT(0x9d0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d09));
        EXPECT(0x54, gbc.readMem(0x9d0a));
        // CB 54 0055
        gbc.setState(0xbf16, 0xb923, 0x1770, 0x5f42, 0xd5ef, 0xc98e, 0x1, 0x1);
        gbc.writeMem(0xbf16, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xb923, gbc.sp());
        EXPECT(0xbf18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf16));
        EXPECT(0x54, gbc.readMem(0xbf17));
        // CB 54 0056
        gbc.setState(0xddad, 0xd05d, 0x8ed0, 0x9088, 0x525b, 0x8694, 0x1, 0x0);
        gbc.writeMem(0xddad, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xd05d, gbc.sp());
        EXPECT(0xddaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddad));
        EXPECT(0x54, gbc.readMem(0xddae));
        // CB 54 0057
        gbc.setState(0x3255, 0x867c, 0xfe60, 0xdb26, 0x118a, 0xfd08, 0x1, 0x1);
        gbc.writeMem(0x3255, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x867c, gbc.sp());
        EXPECT(0x3257, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0058
        gbc.setState(0xb6d4, 0x82e9, 0x38e0, 0x96ee, 0x230c, 0x14c7, 0x0, 0x0);
        gbc.writeMem(0xb6d4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x82e9, gbc.sp());
        EXPECT(0xb6d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6d4));
        EXPECT(0x54, gbc.readMem(0xb6d5));
        // CB 54 0059
        gbc.setState(0x53fa, 0x3b46, 0x94f0, 0xce6c, 0x6b71, 0x7cc1, 0x1, 0x1);
        gbc.writeMem(0x53fa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x3b46, gbc.sp());
        EXPECT(0x53fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 005A
        gbc.setState(0x4625, 0xd275, 0x7b50, 0xa8dd, 0xb38a, 0x7b91, 0x0, 0x1);
        gbc.writeMem(0x4625, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xd275, gbc.sp());
        EXPECT(0x4627, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 005B
        gbc.setState(0xd439, 0xf2ce, 0xc140, 0x812d, 0xbb27, 0x6c3c, 0x1, 0x1);
        gbc.writeMem(0xd439, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xf2ce, gbc.sp());
        EXPECT(0xd43b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd439));
        EXPECT(0x54, gbc.readMem(0xd43a));
        // CB 54 005D
        gbc.setState(0xbd7, 0x18be, 0xb710, 0xedcb, 0x76d4, 0x170, 0x1, 0x1);
        gbc.writeMem(0xbd7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x18be, gbc.sp());
        EXPECT(0xbd9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 005E
        gbc.setState(0xdb97, 0x4a27, 0x6a80, 0x2f4, 0x8b0c, 0x9a2c, 0x1, 0x1);
        gbc.writeMem(0xdb97, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x4a27, gbc.sp());
        EXPECT(0xdb99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb97));
        EXPECT(0x54, gbc.readMem(0xdb98));
        // CB 54 005F
        gbc.setState(0x7f1f, 0xb1d, 0x61f0, 0xcf85, 0xe4c3, 0x4b61, 0x1, 0x0);
        gbc.writeMem(0x7f1f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xb1d, gbc.sp());
        EXPECT(0x7f21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0060
        gbc.setState(0x2434, 0xe17, 0x7750, 0x2f88, 0x5bb9, 0xd4fb, 0x0, 0x1);
        gbc.writeMem(0x2434, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xe17, gbc.sp());
        EXPECT(0x2436, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0061
        gbc.setState(0xbaaa, 0x68c5, 0x8490, 0x3d04, 0xa883, 0xbf0e, 0x0, 0x0);
        gbc.writeMem(0xbaaa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x68c5, gbc.sp());
        EXPECT(0xbaac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbaaa));
        EXPECT(0x54, gbc.readMem(0xbaab));
        // CB 54 0062
        gbc.setState(0x577a, 0x8642, 0x6ec0, 0xca5c, 0x7381, 0x9d0f, 0x0, 0x1);
        gbc.writeMem(0x577a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x8642, gbc.sp());
        EXPECT(0x577c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0063
        gbc.setState(0xe020, 0xcbfd, 0x4b0, 0xb1ab, 0x3e72, 0x8943, 0x1, 0x0);
        gbc.writeMem(0xe020, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xcbfd, gbc.sp());
        EXPECT(0xe022, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe020));
        EXPECT(0x54, gbc.readMem(0xe021));
        // CB 54 0064
        gbc.setState(0x5d0f, 0xad36, 0x4bc0, 0xac59, 0x4ad0, 0x7887, 0x0, 0x1);
        gbc.writeMem(0x5d0f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xad36, gbc.sp());
        EXPECT(0x5d11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0065
        gbc.setState(0x5d6d, 0x495d, 0xe4b0, 0x258e, 0xd9e7, 0x2099, 0x1, 0x1);
        gbc.writeMem(0x5d6d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x495d, gbc.sp());
        EXPECT(0x5d6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0067
        gbc.setState(0x52aa, 0x9c89, 0xc1d0, 0xa7f6, 0x6f96, 0x40b1, 0x0, 0x1);
        gbc.writeMem(0x52aa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x9c89, gbc.sp());
        EXPECT(0x52ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0068
        gbc.setState(0x8fa, 0x3db2, 0x3c00, 0x2acf, 0xc62a, 0xe8af, 0x0, 0x0);
        gbc.writeMem(0x8fa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x3db2, gbc.sp());
        EXPECT(0x8fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0069
        gbc.setState(0xc96c, 0x4856, 0x7260, 0x33fb, 0xdea9, 0xd2a6, 0x0, 0x1);
        gbc.writeMem(0xc96c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x4856, gbc.sp());
        EXPECT(0xc96e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc96c));
        EXPECT(0x54, gbc.readMem(0xc96d));
        // CB 54 006A
        gbc.setState(0x8196, 0xc1e, 0xb370, 0x8b7c, 0x729c, 0x4632, 0x0, 0x1);
        gbc.writeMem(0x8196, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xc1e, gbc.sp());
        EXPECT(0x8198, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8196));
        EXPECT(0x54, gbc.readMem(0x8197));
        // CB 54 006B
        gbc.setState(0x7e30, 0xa0ff, 0x9fb0, 0x95bc, 0x675, 0xb1e, 0x0, 0x1);
        gbc.writeMem(0x7e30, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xa0ff, gbc.sp());
        EXPECT(0x7e32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 006C
        gbc.setState(0x8ae3, 0xc6fd, 0x21a0, 0xfe9a, 0x8287, 0x4658, 0x0, 0x1);
        gbc.writeMem(0x8ae3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc6fd, gbc.sp());
        EXPECT(0x8ae5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ae3));
        EXPECT(0x54, gbc.readMem(0x8ae4));
        // CB 54 006D
        gbc.setState(0x7b43, 0x466b, 0x6880, 0x8b8a, 0x619e, 0x66b9, 0x0, 0x1);
        gbc.writeMem(0x7b43, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x466b, gbc.sp());
        EXPECT(0x7b45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 006E
        gbc.setState(0x9d33, 0x2edc, 0x2890, 0xbd81, 0x554a, 0x567d, 0x1, 0x0);
        gbc.writeMem(0x9d33, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2edc, gbc.sp());
        EXPECT(0x9d35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d33));
        EXPECT(0x54, gbc.readMem(0x9d34));
        // CB 54 006F
        gbc.setState(0xbe39, 0x1c66, 0x1860, 0xfd89, 0x264d, 0x31b, 0x0, 0x0);
        gbc.writeMem(0xbe39, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x1c66, gbc.sp());
        EXPECT(0xbe3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe39));
        EXPECT(0x54, gbc.readMem(0xbe3a));
        // CB 54 0070
        gbc.setState(0x1462, 0x348d, 0xfb70, 0xc5ef, 0x324b, 0xab8c, 0x0, 0x1);
        gbc.writeMem(0x1462, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x348d, gbc.sp());
        EXPECT(0x1464, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0071
        gbc.setState(0x3c6e, 0xdaf4, 0xafc0, 0x5e5e, 0x2104, 0x63ef, 0x1, 0x0);
        gbc.writeMem(0x3c6e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xdaf4, gbc.sp());
        EXPECT(0x3c70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0072
        gbc.setState(0x998d, 0x9e74, 0xf2b0, 0x2329, 0x9d89, 0x19fc, 0x1, 0x0);
        gbc.writeMem(0x998d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x9e74, gbc.sp());
        EXPECT(0x998f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x998d));
        EXPECT(0x54, gbc.readMem(0x998e));
        // CB 54 0073
        gbc.setState(0x9706, 0xdda0, 0xd5c0, 0xa2ca, 0x254f, 0x1672, 0x1, 0x1);
        gbc.writeMem(0x9706, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xdda0, gbc.sp());
        EXPECT(0x9708, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9706));
        EXPECT(0x54, gbc.readMem(0x9707));
        // CB 54 0074
        gbc.setState(0xbe27, 0x837f, 0x9750, 0x1b96, 0x5bc1, 0xa73f, 0x1, 0x0);
        gbc.writeMem(0xbe27, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x837f, gbc.sp());
        EXPECT(0xbe29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe27));
        EXPECT(0x54, gbc.readMem(0xbe28));
        // CB 54 0075
        gbc.setState(0xaf51, 0x9f47, 0xc660, 0x6b86, 0xa26e, 0xea81, 0x1, 0x0);
        gbc.writeMem(0xaf51, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x9f47, gbc.sp());
        EXPECT(0xaf53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf51));
        EXPECT(0x54, gbc.readMem(0xaf52));
        // CB 54 0076
        gbc.setState(0x4b2b, 0x7ce4, 0xf3e0, 0xf077, 0x54f5, 0xff21, 0x1, 0x0);
        gbc.writeMem(0x4b2b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x7ce4, gbc.sp());
        EXPECT(0x4b2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0077
        gbc.setState(0x8a30, 0x9531, 0xac60, 0x30db, 0x50e5, 0x3b96, 0x0, 0x0);
        gbc.writeMem(0x8a30, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x9531, gbc.sp());
        EXPECT(0x8a32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a30));
        EXPECT(0x54, gbc.readMem(0x8a31));
        // CB 54 0078
        gbc.setState(0x2246, 0xe56c, 0xe0c0, 0x6f91, 0x8ab9, 0xf4f4, 0x0, 0x0);
        gbc.writeMem(0x2246, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe56c, gbc.sp());
        EXPECT(0x2248, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0079
        gbc.setState(0xc868, 0x21c, 0x2640, 0x6e6, 0x8e59, 0x73a5, 0x1, 0x0);
        gbc.writeMem(0xc868, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x21c, gbc.sp());
        EXPECT(0xc86a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc868));
        EXPECT(0x54, gbc.readMem(0xc869));
        // CB 54 007A
        gbc.setState(0x21e8, 0xd92f, 0x410, 0x2030, 0x1586, 0x5366, 0x1, 0x0);
        gbc.writeMem(0x21e8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xd92f, gbc.sp());
        EXPECT(0x21ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 007C
        gbc.setState(0xafab, 0xcc43, 0x1750, 0x5225, 0xeb1e, 0xc663, 0x1, 0x1);
        gbc.writeMem(0xafab, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xcc43, gbc.sp());
        EXPECT(0xafad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafab));
        EXPECT(0x54, gbc.readMem(0xafac));
        // CB 54 007F
        gbc.setState(0xb9cf, 0x79f3, 0x140, 0xdfe7, 0xcb5a, 0x34a6, 0x0, 0x1);
        gbc.writeMem(0xb9cf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x79f3, gbc.sp());
        EXPECT(0xb9d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9cf));
        EXPECT(0x54, gbc.readMem(0xb9d0));
        // CB 54 0080
        gbc.setState(0xdaf2, 0xf335, 0xb9a0, 0xaba7, 0x85e3, 0xb908, 0x1, 0x1);
        gbc.writeMem(0xdaf2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xf335, gbc.sp());
        EXPECT(0xdaf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdaf2));
        EXPECT(0x54, gbc.readMem(0xdaf3));
        // CB 54 0081
        gbc.setState(0x4430, 0x7f77, 0xbde0, 0x14a1, 0xb930, 0x8bae, 0x0, 0x0);
        gbc.writeMem(0x4430, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x7f77, gbc.sp());
        EXPECT(0x4432, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0084
        gbc.setState(0x8731, 0xd4d8, 0x28a0, 0x9edd, 0xd630, 0xdb8a, 0x1, 0x1);
        gbc.writeMem(0x8731, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xd4d8, gbc.sp());
        EXPECT(0x8733, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8731));
        EXPECT(0x54, gbc.readMem(0x8732));
        // CB 54 0085
        gbc.setState(0xc0c2, 0x7f5c, 0x2340, 0x6963, 0x7edc, 0x9b68, 0x0, 0x1);
        gbc.writeMem(0xc0c2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x7f5c, gbc.sp());
        EXPECT(0xc0c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0c2));
        EXPECT(0x54, gbc.readMem(0xc0c3));
        // CB 54 0086
        gbc.setState(0x5b5e, 0x8be1, 0xf280, 0x3773, 0xf7ae, 0x45fb, 0x0, 0x1);
        gbc.writeMem(0x5b5e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x8be1, gbc.sp());
        EXPECT(0x5b60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0087
        gbc.setState(0xd35, 0x1fff, 0xfc60, 0x2dbf, 0xe5b1, 0x931c, 0x1, 0x0);
        gbc.writeMem(0xd35, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x1fff, gbc.sp());
        EXPECT(0xd37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0088
        gbc.setState(0xccf3, 0x5ba0, 0xaa30, 0xdcd2, 0x7b46, 0xca4c, 0x1, 0x0);
        gbc.writeMem(0xccf3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x5ba0, gbc.sp());
        EXPECT(0xccf5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccf3));
        EXPECT(0x54, gbc.readMem(0xccf4));
        // CB 54 0089
        gbc.setState(0x91ea, 0x4926, 0x67b0, 0xdc93, 0xc6d2, 0x9402, 0x1, 0x0);
        gbc.writeMem(0x91ea, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x4926, gbc.sp());
        EXPECT(0x91ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91ea));
        EXPECT(0x54, gbc.readMem(0x91eb));
        // CB 54 008A
        gbc.setState(0x9a4, 0x8d7b, 0xf8e0, 0x19c, 0x85ea, 0xc159, 0x0, 0x0);
        gbc.writeMem(0x9a4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x8d7b, gbc.sp());
        EXPECT(0x9a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 008B
        gbc.setState(0xbf60, 0x1d77, 0x96c0, 0x9f6e, 0xa22c, 0xdf3b, 0x1, 0x1);
        gbc.writeMem(0xbf60, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x1d77, gbc.sp());
        EXPECT(0xbf62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf60));
        EXPECT(0x54, gbc.readMem(0xbf61));
        // CB 54 008C
        gbc.setState(0x815f, 0xda51, 0x7890, 0x5818, 0xb286, 0xf6e9, 0x1, 0x1);
        gbc.writeMem(0x815f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xda51, gbc.sp());
        EXPECT(0x8161, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x815f));
        EXPECT(0x54, gbc.readMem(0x8160));
        // CB 54 008D
        gbc.setState(0x7cb9, 0x6b40, 0xd0a0, 0x7992, 0x3a80, 0xd6c6, 0x0, 0x0);
        gbc.writeMem(0x7cb9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x6b40, gbc.sp());
        EXPECT(0x7cbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 008E
        gbc.setState(0xb494, 0x1b21, 0x5030, 0xf812, 0xfc2f, 0xe5ce, 0x1, 0x1);
        gbc.writeMem(0xb494, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x1b21, gbc.sp());
        EXPECT(0xb496, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb494));
        EXPECT(0x54, gbc.readMem(0xb495));
        // CB 54 008F
        gbc.setState(0x2787, 0x341e, 0x150, 0x93fe, 0x643f, 0xebba, 0x0, 0x1);
        gbc.writeMem(0x2787, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x341e, gbc.sp());
        EXPECT(0x2789, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0090
        gbc.setState(0x591e, 0xf00e, 0x7d70, 0x8823, 0x487b, 0xad5, 0x0, 0x1);
        gbc.writeMem(0x591e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xf00e, gbc.sp());
        EXPECT(0x5920, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0091
        gbc.setState(0xb43c, 0xed11, 0x8fb0, 0x8f73, 0xaa5a, 0x925a, 0x0, 0x0);
        gbc.writeMem(0xb43c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xed11, gbc.sp());
        EXPECT(0xb43e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb43c));
        EXPECT(0x54, gbc.readMem(0xb43d));
        // CB 54 0092
        gbc.setState(0x631, 0x71b, 0xfb80, 0x84eb, 0x4c70, 0xb8c6, 0x1, 0x1);
        gbc.writeMem(0x631, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x71b, gbc.sp());
        EXPECT(0x633, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0093
        gbc.setState(0xdf4e, 0x6d8, 0x1860, 0x22a1, 0x83f8, 0x8534, 0x1, 0x1);
        gbc.writeMem(0xdf4e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x6d8, gbc.sp());
        EXPECT(0xdf50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf4e));
        EXPECT(0x54, gbc.readMem(0xdf4f));
        // CB 54 0094
        gbc.setState(0x5328, 0xe7f7, 0x7a50, 0x185a, 0x7b1d, 0x9ffe, 0x1, 0x0);
        gbc.writeMem(0x5328, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xe7f7, gbc.sp());
        EXPECT(0x532a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0095
        gbc.setState(0x6b77, 0x18d8, 0xfba0, 0x1095, 0x456c, 0x6c74, 0x1, 0x1);
        gbc.writeMem(0x6b77, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x18d8, gbc.sp());
        EXPECT(0x6b79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0096
        gbc.setState(0x52d8, 0x528, 0x1b20, 0x79a0, 0xd9d4, 0xb884, 0x0, 0x0);
        gbc.writeMem(0x52d8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x528, gbc.sp());
        EXPECT(0x52da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0097
        gbc.setState(0x2741, 0x1378, 0x9930, 0x3a5d, 0x3126, 0x680f, 0x0, 0x0);
        gbc.writeMem(0x2741, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x1378, gbc.sp());
        EXPECT(0x2743, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0098
        gbc.setState(0xd21f, 0x73ab, 0xfc90, 0xd9c5, 0x80ad, 0x94e0, 0x1, 0x1);
        gbc.writeMem(0xd21f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x73ab, gbc.sp());
        EXPECT(0xd221, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd21f));
        EXPECT(0x54, gbc.readMem(0xd220));
        // CB 54 0099
        gbc.setState(0x9cc, 0x8df0, 0x77e0, 0xb65f, 0xbd88, 0xe09b, 0x0, 0x1);
        gbc.writeMem(0x9cc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x8df0, gbc.sp());
        EXPECT(0x9ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 009A
        gbc.setState(0x2c1b, 0xe227, 0xbca0, 0x42ff, 0x2cf6, 0xcbc4, 0x0, 0x1);
        gbc.writeMem(0x2c1b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xe227, gbc.sp());
        EXPECT(0x2c1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 009B
        gbc.setState(0x5056, 0x5505, 0xd880, 0x8bf5, 0xc62, 0x9738, 0x1, 0x0);
        gbc.writeMem(0x5056, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x5505, gbc.sp());
        EXPECT(0x5058, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 009D
        gbc.setState(0xe966, 0xd71c, 0xc050, 0x3288, 0xdba2, 0xc8a0, 0x0, 0x0);
        gbc.writeMem(0xe966, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xd71c, gbc.sp());
        EXPECT(0xe968, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe966));
        EXPECT(0x54, gbc.readMem(0xe967));
        // CB 54 009F
        gbc.setState(0xe734, 0x6675, 0xc140, 0x2e00, 0xdb37, 0xc1c6, 0x0, 0x0);
        gbc.writeMem(0xe734, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x6675, gbc.sp());
        EXPECT(0xe736, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe734));
        EXPECT(0x54, gbc.readMem(0xe735));
        // CB 54 00A0
        gbc.setState(0xbe5e, 0x3161, 0x4430, 0x501a, 0xacdd, 0x365b, 0x0, 0x1);
        gbc.writeMem(0xbe5e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x3161, gbc.sp());
        EXPECT(0xbe60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe5e));
        EXPECT(0x54, gbc.readMem(0xbe5f));
        // CB 54 00A1
        gbc.setState(0x7270, 0xefc0, 0x250, 0xd80d, 0x21ac, 0xda93, 0x0, 0x0);
        gbc.writeMem(0x7270, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xefc0, gbc.sp());
        EXPECT(0x7272, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00A2
        gbc.setState(0xce6c, 0x4f8a, 0x1c40, 0x864f, 0xb8a5, 0x8223, 0x1, 0x1);
        gbc.writeMem(0xce6c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x4f8a, gbc.sp());
        EXPECT(0xce6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce6c));
        EXPECT(0x54, gbc.readMem(0xce6d));
        // CB 54 00A3
        gbc.setState(0x70e7, 0x9871, 0xa790, 0x4cf5, 0xd7aa, 0x1c5b, 0x1, 0x0);
        gbc.writeMem(0x70e7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x9871, gbc.sp());
        EXPECT(0x70e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00A5
        gbc.setState(0x3eb7, 0xb3b8, 0x91c0, 0x754, 0xc424, 0xf5f9, 0x1, 0x0);
        gbc.writeMem(0x3eb7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xb3b8, gbc.sp());
        EXPECT(0x3eb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00A6
        gbc.setState(0xd58d, 0x6749, 0x4b90, 0xf085, 0x9d2d, 0xd4a3, 0x0, 0x0);
        gbc.writeMem(0xd58d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x6749, gbc.sp());
        EXPECT(0xd58f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd58d));
        EXPECT(0x54, gbc.readMem(0xd58e));
        // CB 54 00A7
        gbc.setState(0xe5b0, 0x6b73, 0xc930, 0x39a5, 0xb2c0, 0x5110, 0x1, 0x1);
        gbc.writeMem(0xe5b0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x6b73, gbc.sp());
        EXPECT(0xe5b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5b0));
        EXPECT(0x54, gbc.readMem(0xe5b1));
        // CB 54 00A8
        gbc.setState(0x1830, 0xdbd8, 0x5f00, 0x5f77, 0x42a5, 0x1e2d, 0x0, 0x1);
        gbc.writeMem(0x1830, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xdbd8, gbc.sp());
        EXPECT(0x1832, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00A9
        gbc.setState(0x5228, 0x6713, 0xb100, 0x14c1, 0x8b54, 0x3340, 0x1, 0x1);
        gbc.writeMem(0x5228, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x6713, gbc.sp());
        EXPECT(0x522a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00AA
        gbc.setState(0x865d, 0x4992, 0x3490, 0x216f, 0xdbca, 0x14a, 0x0, 0x0);
        gbc.writeMem(0x865d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x4992, gbc.sp());
        EXPECT(0x865f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x865d));
        EXPECT(0x54, gbc.readMem(0x865e));
        // CB 54 00AB
        gbc.setState(0x30b2, 0xa0b5, 0x95f0, 0xc755, 0xdc8f, 0x8330, 0x0, 0x0);
        gbc.writeMem(0x30b2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa0b5, gbc.sp());
        EXPECT(0x30b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00AC
        gbc.setState(0x9c70, 0x22fd, 0x7070, 0x4529, 0x8a43, 0x280a, 0x1, 0x0);
        gbc.writeMem(0x9c70, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x22fd, gbc.sp());
        EXPECT(0x9c72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c70));
        EXPECT(0x54, gbc.readMem(0x9c71));
        // CB 54 00AD
        gbc.setState(0x71f4, 0x456f, 0x1d50, 0xa074, 0xd8dd, 0x272b, 0x0, 0x1);
        gbc.writeMem(0x71f4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x456f, gbc.sp());
        EXPECT(0x71f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00AE
        gbc.setState(0x4ee0, 0x123, 0x92a0, 0xf648, 0x5ddd, 0xa31c, 0x1, 0x1);
        gbc.writeMem(0x4ee0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x123, gbc.sp());
        EXPECT(0x4ee2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00AF
        gbc.setState(0xd663, 0xc87d, 0x6d30, 0x6ef, 0xc351, 0x8de, 0x0, 0x1);
        gbc.writeMem(0xd663, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xc87d, gbc.sp());
        EXPECT(0xd665, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd663));
        EXPECT(0x54, gbc.readMem(0xd664));
        // CB 54 00B1
        gbc.setState(0xe1bb, 0x65a7, 0x3700, 0xcd8d, 0x19ec, 0xa9b7, 0x1, 0x1);
        gbc.writeMem(0xe1bb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x65a7, gbc.sp());
        EXPECT(0xe1bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1bb));
        EXPECT(0x54, gbc.readMem(0xe1bc));
        // CB 54 00B2
        gbc.setState(0xe97d, 0x3ec1, 0x1240, 0xee1, 0xddf5, 0x3869, 0x1, 0x1);
        gbc.writeMem(0xe97d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x3ec1, gbc.sp());
        EXPECT(0xe97f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe97d));
        EXPECT(0x54, gbc.readMem(0xe97e));
        // CB 54 00B3
        gbc.setState(0x5722, 0x2cea, 0x750, 0x38b5, 0x5870, 0xba2c, 0x1, 0x1);
        gbc.writeMem(0x5722, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x2cea, gbc.sp());
        EXPECT(0x5724, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00B4
        gbc.setState(0xcd54, 0x4bb5, 0x3510, 0x3851, 0x2e3f, 0x77fa, 0x1, 0x1);
        gbc.writeMem(0xcd54, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x4bb5, gbc.sp());
        EXPECT(0xcd56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd54));
        EXPECT(0x54, gbc.readMem(0xcd55));
        // CB 54 00B5
        gbc.setState(0xb25, 0xffa1, 0x8ac0, 0x6322, 0xea52, 0xa8fe, 0x1, 0x0);
        gbc.writeMem(0xb25, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xffa1, gbc.sp());
        EXPECT(0xb27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00B6
        gbc.setState(0x27ce, 0xc1ec, 0x9b90, 0x1d76, 0xfcda, 0xd00b, 0x0, 0x1);
        gbc.writeMem(0x27ce, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xc1ec, gbc.sp());
        EXPECT(0x27d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00B7
        gbc.setState(0x1f0e, 0x9a0b, 0x7c80, 0xa1c6, 0x9137, 0xa5e, 0x1, 0x0);
        gbc.writeMem(0x1f0e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x9a0b, gbc.sp());
        EXPECT(0x1f10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00B8
        gbc.setState(0xd059, 0x3bda, 0xcee0, 0x92c0, 0x3a68, 0x956a, 0x0, 0x0);
        gbc.writeMem(0xd059, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x3bda, gbc.sp());
        EXPECT(0xd05b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd059));
        EXPECT(0x54, gbc.readMem(0xd05a));
        // CB 54 00B9
        gbc.setState(0x7cac, 0x5ed7, 0xb8a0, 0x5a91, 0xc192, 0x7ed5, 0x0, 0x1);
        gbc.writeMem(0x7cac, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x5ed7, gbc.sp());
        EXPECT(0x7cae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00BA
        gbc.setState(0xba16, 0x6e4a, 0xeb0, 0xbabc, 0x555d, 0xef5b, 0x1, 0x1);
        gbc.writeMem(0xba16, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x6e4a, gbc.sp());
        EXPECT(0xba18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba16));
        EXPECT(0x54, gbc.readMem(0xba17));
        // CB 54 00BB
        gbc.setState(0xd490, 0xe90e, 0x46a0, 0x3ec6, 0xe732, 0xc234, 0x1, 0x0);
        gbc.writeMem(0xd490, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xe90e, gbc.sp());
        EXPECT(0xd492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd490));
        EXPECT(0x54, gbc.readMem(0xd491));
        // CB 54 00BC
        gbc.setState(0xc971, 0x2431, 0xde10, 0x2631, 0x7a0e, 0x4b42, 0x0, 0x0);
        gbc.writeMem(0xc971, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x2431, gbc.sp());
        EXPECT(0xc973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc971));
        EXPECT(0x54, gbc.readMem(0xc972));
        // CB 54 00BD
        gbc.setState(0x1fde, 0x2ee1, 0x6a70, 0xd12a, 0x587c, 0x8e10, 0x0, 0x1);
        gbc.writeMem(0x1fde, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x2ee1, gbc.sp());
        EXPECT(0x1fe0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00BE
        gbc.setState(0xe4a2, 0x2883, 0xcfd0, 0xa8a3, 0x8735, 0xbf82, 0x1, 0x0);
        gbc.writeMem(0xe4a2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x2883, gbc.sp());
        EXPECT(0xe4a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4a2));
        EXPECT(0x54, gbc.readMem(0xe4a3));
        // CB 54 00BF
        gbc.setState(0x9fd8, 0xfd66, 0xaf80, 0x1f06, 0x9016, 0x5304, 0x0, 0x1);
        gbc.writeMem(0x9fd8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xfd66, gbc.sp());
        EXPECT(0x9fda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fd8));
        EXPECT(0x54, gbc.readMem(0x9fd9));
        // CB 54 00C0
        gbc.setState(0xb2d6, 0x772e, 0x8d80, 0xb1e8, 0x70c, 0xbc0c, 0x0, 0x1);
        gbc.writeMem(0xb2d6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x772e, gbc.sp());
        EXPECT(0xb2d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2d6));
        EXPECT(0x54, gbc.readMem(0xb2d7));
        // CB 54 00C1
        gbc.setState(0x2fc8, 0xa1c0, 0x3aa0, 0x9f70, 0xe660, 0xeb8e, 0x0, 0x1);
        gbc.writeMem(0x2fc8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xa1c0, gbc.sp());
        EXPECT(0x2fca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00C2
        gbc.setState(0x43d, 0xf287, 0xf020, 0xe745, 0x5ccd, 0xb9de, 0x0, 0x1);
        gbc.writeMem(0x43d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xf287, gbc.sp());
        EXPECT(0x43f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00C4
        gbc.setState(0x4ff6, 0x367b, 0xb6d0, 0xb8ef, 0x5874, 0xc4ad, 0x1, 0x1);
        gbc.writeMem(0x4ff6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x367b, gbc.sp());
        EXPECT(0x4ff8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00C5
        gbc.setState(0xc3d6, 0x16ef, 0xfa60, 0xb078, 0x6530, 0xe738, 0x1, 0x1);
        gbc.writeMem(0xc3d6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x16ef, gbc.sp());
        EXPECT(0xc3d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3d6));
        EXPECT(0x54, gbc.readMem(0xc3d7));
        // CB 54 00C6
        gbc.setState(0x953d, 0xce48, 0x2000, 0x19fb, 0x20b8, 0xfb93, 0x0, 0x0);
        gbc.writeMem(0x953d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xce48, gbc.sp());
        EXPECT(0x953f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x953d));
        EXPECT(0x54, gbc.readMem(0x953e));
        // CB 54 00C7
        gbc.setState(0xb6ab, 0x5710, 0xee30, 0x3de5, 0xae8e, 0x92bc, 0x0, 0x0);
        gbc.writeMem(0xb6ab, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x5710, gbc.sp());
        EXPECT(0xb6ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6ab));
        EXPECT(0x54, gbc.readMem(0xb6ac));
        // CB 54 00C8
        gbc.setState(0x3626, 0x200f, 0x2070, 0x1b4, 0x77d9, 0xb56e, 0x1, 0x0);
        gbc.writeMem(0x3626, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x200f, gbc.sp());
        EXPECT(0x3628, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00C9
        gbc.setState(0x2b54, 0x633f, 0x25e0, 0x42ea, 0xcdc2, 0xff9f, 0x1, 0x0);
        gbc.writeMem(0x2b54, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x633f, gbc.sp());
        EXPECT(0x2b56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00CA
        gbc.setState(0x98ea, 0xfb8, 0x1f20, 0x2216, 0x9789, 0x89ea, 0x1, 0x0);
        gbc.writeMem(0x98ea, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xfb8, gbc.sp());
        EXPECT(0x98ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98ea));
        EXPECT(0x54, gbc.readMem(0x98eb));
        // CB 54 00CB
        gbc.setState(0x1ee8, 0xa652, 0xa860, 0xa009, 0xc3dd, 0x8395, 0x0, 0x1);
        gbc.writeMem(0x1ee8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xa652, gbc.sp());
        EXPECT(0x1eea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00CC
        gbc.setState(0x499b, 0x23f9, 0x24f0, 0x8763, 0x93f4, 0x9aca, 0x0, 0x0);
        gbc.writeMem(0x499b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x23f9, gbc.sp());
        EXPECT(0x499d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00CD
        gbc.setState(0xeb1d, 0x16b7, 0xf20, 0xc16e, 0x3f8f, 0x992c, 0x1, 0x0);
        gbc.writeMem(0xeb1d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x16b7, gbc.sp());
        EXPECT(0xeb1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb1d));
        EXPECT(0x54, gbc.readMem(0xeb1e));
        // CB 54 00CE
        gbc.setState(0xefcf, 0xb52f, 0xe5f0, 0xc6fc, 0x3090, 0xb241, 0x1, 0x1);
        gbc.writeMem(0xefcf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xb52f, gbc.sp());
        EXPECT(0xefd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefcf));
        EXPECT(0x54, gbc.readMem(0xefd0));
        // CB 54 00CF
        gbc.setState(0x390f, 0xd39, 0xc940, 0x2255, 0x5d3b, 0x1814, 0x0, 0x0);
        gbc.writeMem(0x390f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd39, gbc.sp());
        EXPECT(0x3911, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00D0
        gbc.setState(0xdf48, 0x47eb, 0xfc50, 0x826c, 0x1698, 0x6a98, 0x0, 0x1);
        gbc.writeMem(0xdf48, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x47eb, gbc.sp());
        EXPECT(0xdf4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf48));
        EXPECT(0x54, gbc.readMem(0xdf49));
        // CB 54 00D1
        gbc.setState(0xa94b, 0xfb25, 0x70, 0xe1db, 0x4446, 0x8a4c, 0x0, 0x0);
        gbc.writeMem(0xa94b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xfb25, gbc.sp());
        EXPECT(0xa94d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa94b));
        EXPECT(0x54, gbc.readMem(0xa94c));
        // CB 54 00D2
        gbc.setState(0xe2bd, 0x1c28, 0x490, 0x934c, 0x7a13, 0x8cfa, 0x0, 0x1);
        gbc.writeMem(0xe2bd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x1c28, gbc.sp());
        EXPECT(0xe2bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2bd));
        EXPECT(0x54, gbc.readMem(0xe2be));
        // CB 54 00D3
        gbc.setState(0x1905, 0xd15c, 0xdb80, 0x482a, 0x201d, 0xe72e, 0x1, 0x0);
        gbc.writeMem(0x1905, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xd15c, gbc.sp());
        EXPECT(0x1907, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00D4
        gbc.setState(0x333b, 0x8276, 0xdc70, 0xaf21, 0x2ae1, 0x9c98, 0x1, 0x0);
        gbc.writeMem(0x333b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x8276, gbc.sp());
        EXPECT(0x333d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00D5
        gbc.setState(0xbd14, 0xd0da, 0x3cf0, 0x9e00, 0x51be, 0x11df, 0x1, 0x1);
        gbc.writeMem(0xbd14, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xd0da, gbc.sp());
        EXPECT(0xbd16, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd14));
        EXPECT(0x54, gbc.readMem(0xbd15));
        // CB 54 00D6
        gbc.setState(0x8de2, 0xce0, 0x1d90, 0x3c4b, 0xbb5b, 0xde82, 0x1, 0x1);
        gbc.writeMem(0x8de2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xce0, gbc.sp());
        EXPECT(0x8de4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8de2));
        EXPECT(0x54, gbc.readMem(0x8de3));
        // CB 54 00D7
        gbc.setState(0x66d1, 0x5105, 0xf8a0, 0xc0ce, 0x1746, 0xbd78, 0x0, 0x1);
        gbc.writeMem(0x66d1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x5105, gbc.sp());
        EXPECT(0x66d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00D8
        gbc.setState(0x7751, 0x141e, 0xfcb0, 0x38b9, 0xcb09, 0xfaaa, 0x0, 0x1);
        gbc.writeMem(0x7751, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x141e, gbc.sp());
        EXPECT(0x7753, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00D9
        gbc.setState(0xb2be, 0x7c53, 0xa080, 0x5a1c, 0x588d, 0x54d4, 0x1, 0x1);
        gbc.writeMem(0xb2be, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x7c53, gbc.sp());
        EXPECT(0xb2c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2be));
        EXPECT(0x54, gbc.readMem(0xb2bf));
        // CB 54 00DA
        gbc.setState(0x3bd8, 0xaaa0, 0x8a60, 0xdcfd, 0x2743, 0xf81d, 0x0, 0x1);
        gbc.writeMem(0x3bd8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xaaa0, gbc.sp());
        EXPECT(0x3bda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00DB
        gbc.setState(0x4b7, 0x2b15, 0x1950, 0xad7a, 0xaac3, 0x7fbd, 0x0, 0x1);
        gbc.writeMem(0x4b7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x2b15, gbc.sp());
        EXPECT(0x4b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00DC
        gbc.setState(0xa70a, 0xc2bd, 0x8ce0, 0xd850, 0x5b87, 0x6a32, 0x0, 0x0);
        gbc.writeMem(0xa70a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xc2bd, gbc.sp());
        EXPECT(0xa70c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa70a));
        EXPECT(0x54, gbc.readMem(0xa70b));
        // CB 54 00DD
        gbc.setState(0x1846, 0xb25b, 0x4830, 0x4f21, 0x7886, 0xf90b, 0x1, 0x1);
        gbc.writeMem(0x1846, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xb25b, gbc.sp());
        EXPECT(0x1848, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00DE
        gbc.setState(0x94c8, 0x8430, 0x96e0, 0x55f7, 0xc08b, 0xe6ca, 0x1, 0x1);
        gbc.writeMem(0x94c8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8430, gbc.sp());
        EXPECT(0x94ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x94c8));
        EXPECT(0x54, gbc.readMem(0x94c9));
        // CB 54 00DF
        gbc.setState(0xe95f, 0xa517, 0x8b30, 0x71ba, 0xb7d5, 0xe28d, 0x0, 0x0);
        gbc.writeMem(0xe95f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xa517, gbc.sp());
        EXPECT(0xe961, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe95f));
        EXPECT(0x54, gbc.readMem(0xe960));
        // CB 54 00E0
        gbc.setState(0x7da4, 0x4b31, 0xfa0, 0xd448, 0x2997, 0x7710, 0x1, 0x0);
        gbc.writeMem(0x7da4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x4b31, gbc.sp());
        EXPECT(0x7da6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00E2
        gbc.setState(0xbfee, 0x4aea, 0xfd20, 0x7d08, 0xbd48, 0x3e83, 0x1, 0x0);
        gbc.writeMem(0xbfee, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x4aea, gbc.sp());
        EXPECT(0xbff0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfee));
        EXPECT(0x54, gbc.readMem(0xbfef));
        // CB 54 00E3
        gbc.setState(0x6835, 0xf1e0, 0x71d0, 0xf0d, 0x4c62, 0x5fc9, 0x1, 0x1);
        gbc.writeMem(0x6835, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xf1e0, gbc.sp());
        EXPECT(0x6837, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00E4
        gbc.setState(0xb888, 0xb34, 0x8620, 0x91f7, 0x8f2e, 0x9cf7, 0x0, 0x0);
        gbc.writeMem(0xb888, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xb34, gbc.sp());
        EXPECT(0xb88a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb888));
        EXPECT(0x54, gbc.readMem(0xb889));
        // CB 54 00E5
        gbc.setState(0xa49b, 0x5e9e, 0x9980, 0x217, 0xbe0c, 0x8a14, 0x1, 0x0);
        gbc.writeMem(0xa49b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x5e9e, gbc.sp());
        EXPECT(0xa49d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa49b));
        EXPECT(0x54, gbc.readMem(0xa49c));
        // CB 54 00E6
        gbc.setState(0xdf17, 0xed63, 0x6380, 0x7431, 0x516b, 0x3326, 0x0, 0x0);
        gbc.writeMem(0xdf17, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xed63, gbc.sp());
        EXPECT(0xdf19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf17));
        EXPECT(0x54, gbc.readMem(0xdf18));
        // CB 54 00E7
        gbc.setState(0x22dd, 0x786, 0xa240, 0xa82b, 0x5099, 0x8912, 0x1, 0x0);
        gbc.writeMem(0x22dd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x786, gbc.sp());
        EXPECT(0x22df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00E8
        gbc.setState(0xc9c1, 0xf3b5, 0x1d0, 0x9f75, 0xfd61, 0x7974, 0x1, 0x1);
        gbc.writeMem(0xc9c1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xf3b5, gbc.sp());
        EXPECT(0xc9c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9c1));
        EXPECT(0x54, gbc.readMem(0xc9c2));
        // CB 54 00E9
        gbc.setState(0xccf3, 0x5420, 0xdae0, 0x4eb4, 0x8e6b, 0x3339, 0x0, 0x1);
        gbc.writeMem(0xccf3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x5420, gbc.sp());
        EXPECT(0xccf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccf3));
        EXPECT(0x54, gbc.readMem(0xccf4));
        // CB 54 00EA
        gbc.setState(0x7dc6, 0xf203, 0x5740, 0x2c65, 0xac75, 0x1739, 0x1, 0x0);
        gbc.writeMem(0x7dc6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xf203, gbc.sp());
        EXPECT(0x7dc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00EB
        gbc.setState(0x2056, 0xd89, 0xb700, 0xcb9c, 0x25db, 0x5003, 0x0, 0x0);
        gbc.writeMem(0x2056, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xd89, gbc.sp());
        EXPECT(0x2058, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00EC
        gbc.setState(0x84d, 0x6451, 0xa1f0, 0xa34b, 0x646f, 0x5684, 0x1, 0x0);
        gbc.writeMem(0x84d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6451, gbc.sp());
        EXPECT(0x84f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00ED
        gbc.setState(0xadb6, 0xadd5, 0x2560, 0x200b, 0x5794, 0xcb87, 0x0, 0x0);
        gbc.writeMem(0xadb6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xadd5, gbc.sp());
        EXPECT(0xadb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadb6));
        EXPECT(0x54, gbc.readMem(0xadb7));
        // CB 54 00EE
        gbc.setState(0x76dd, 0xae6c, 0x3e0, 0x686c, 0x9b94, 0xcd60, 0x0, 0x1);
        gbc.writeMem(0x76dd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xae6c, gbc.sp());
        EXPECT(0x76df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00EF
        gbc.setState(0xe1b7, 0x89db, 0x4430, 0x167, 0x155d, 0x5869, 0x0, 0x0);
        gbc.writeMem(0xe1b7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x89db, gbc.sp());
        EXPECT(0xe1b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1b7));
        EXPECT(0x54, gbc.readMem(0xe1b8));
        // CB 54 00F0
        gbc.setState(0x2abc, 0x4917, 0xe170, 0xe662, 0x6d30, 0x8c0e, 0x1, 0x0);
        gbc.writeMem(0x2abc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x4917, gbc.sp());
        EXPECT(0x2abe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00F2
        gbc.setState(0x23cf, 0x372d, 0xc140, 0x538e, 0x809a, 0xeeb1, 0x1, 0x1);
        gbc.writeMem(0x23cf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x372d, gbc.sp());
        EXPECT(0x23d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00F3
        gbc.setState(0xbf4b, 0xf48, 0x4b10, 0xbed5, 0xf16d, 0xda15, 0x1, 0x1);
        gbc.writeMem(0xbf4b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xf48, gbc.sp());
        EXPECT(0xbf4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf4b));
        EXPECT(0x54, gbc.readMem(0xbf4c));
        // CB 54 00F4
        gbc.setState(0x75eb, 0xca6c, 0x6fa0, 0x9482, 0xae08, 0x242d, 0x1, 0x0);
        gbc.writeMem(0x75eb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xca6c, gbc.sp());
        EXPECT(0x75ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00F5
        gbc.setState(0xd433, 0x3b60, 0xc000, 0x65bc, 0x56d6, 0x352d, 0x1, 0x0);
        gbc.writeMem(0xd433, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x3b60, gbc.sp());
        EXPECT(0xd435, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd433));
        EXPECT(0x54, gbc.readMem(0xd434));
        // CB 54 00F6
        gbc.setState(0x6d1d, 0x62b8, 0x1cf0, 0x557f, 0x398c, 0x7e4f, 0x1, 0x0);
        gbc.writeMem(0x6d1d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x62b8, gbc.sp());
        EXPECT(0x6d1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00F7
        gbc.setState(0x18ac, 0xdb8b, 0x3eb0, 0x1f74, 0xaf7e, 0x24ee, 0x1, 0x0);
        gbc.writeMem(0x18ac, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xdb8b, gbc.sp());
        EXPECT(0x18ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 00F8
        gbc.setState(0x2e2d, 0x7b0d, 0x18a0, 0x1ff5, 0xd4f7, 0x51da, 0x0, 0x1);
        gbc.writeMem(0x2e2d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x7b0d, gbc.sp());
        EXPECT(0x2e2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00F9
        gbc.setState(0x9390, 0x5a3, 0xc60, 0x41bd, 0xde78, 0x5ffb, 0x1, 0x0);
        gbc.writeMem(0x9390, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x5a3, gbc.sp());
        EXPECT(0x9392, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9390));
        EXPECT(0x54, gbc.readMem(0x9391));
        // CB 54 00FA
        gbc.setState(0xf73, 0xab18, 0x360, 0xc534, 0xd312, 0x6b83, 0x0, 0x0);
        gbc.writeMem(0xf73, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xab18, gbc.sp());
        EXPECT(0xf75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00FB
        gbc.setState(0x4a66, 0x7ce2, 0xdca0, 0xe9d9, 0x231f, 0xa706, 0x0, 0x0);
        gbc.writeMem(0x4a66, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x7ce2, gbc.sp());
        EXPECT(0x4a68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00FD
        gbc.setState(0x7d66, 0x977d, 0x3f80, 0xf4df, 0xe321, 0xecf9, 0x0, 0x1);
        gbc.writeMem(0x7d66, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x977d, gbc.sp());
        EXPECT(0x7d68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00FE
        gbc.setState(0x4012, 0x992c, 0x7220, 0x11f6, 0xde59, 0xc5ed, 0x0, 0x0);
        gbc.writeMem(0x4012, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x992c, gbc.sp());
        EXPECT(0x4014, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 00FF
        gbc.setState(0x677, 0xec6e, 0xf810, 0x2ee3, 0x6e33, 0xbb66, 0x0, 0x1);
        gbc.writeMem(0x677, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xec6e, gbc.sp());
        EXPECT(0x679, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0100
        gbc.setState(0x50f0, 0xe61c, 0xfe10, 0x1631, 0xfba0, 0xfad5, 0x0, 0x0);
        gbc.writeMem(0x50f0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xe61c, gbc.sp());
        EXPECT(0x50f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0101
        gbc.setState(0x595b, 0xfb4b, 0x93b0, 0xa80c, 0x4d3e, 0x9fc3, 0x1, 0x1);
        gbc.writeMem(0x595b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xfb4b, gbc.sp());
        EXPECT(0x595d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0102
        gbc.setState(0xdd7, 0xc395, 0x7b90, 0x6ed1, 0xf58, 0x756, 0x0, 0x0);
        gbc.writeMem(0xdd7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xc395, gbc.sp());
        EXPECT(0xdd9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0103
        gbc.setState(0x895e, 0x1f99, 0x30b0, 0x4866, 0x2f3c, 0xd015, 0x1, 0x0);
        gbc.writeMem(0x895e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x1f99, gbc.sp());
        EXPECT(0x8960, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x895e));
        EXPECT(0x54, gbc.readMem(0x895f));
        // CB 54 0104
        gbc.setState(0xe60d, 0x240, 0x4100, 0x6ce0, 0x1155, 0x26b8, 0x1, 0x0);
        gbc.writeMem(0xe60d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x240, gbc.sp());
        EXPECT(0xe60f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe60d));
        EXPECT(0x54, gbc.readMem(0xe60e));
        // CB 54 0105
        gbc.setState(0xcafa, 0xb189, 0xc0f0, 0xabc1, 0xe6c8, 0x9a68, 0x0, 0x1);
        gbc.writeMem(0xcafa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xb189, gbc.sp());
        EXPECT(0xcafc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcafa));
        EXPECT(0x54, gbc.readMem(0xcafb));
        // CB 54 0106
        gbc.setState(0x261b, 0x40de, 0xc350, 0xd142, 0x8de0, 0x7774, 0x1, 0x0);
        gbc.writeMem(0x261b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x40de, gbc.sp());
        EXPECT(0x261d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0107
        gbc.setState(0xae47, 0x6253, 0x5490, 0xdb07, 0x876c, 0xbc78, 0x1, 0x0);
        gbc.writeMem(0xae47, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6253, gbc.sp());
        EXPECT(0xae49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae47));
        EXPECT(0x54, gbc.readMem(0xae48));
        // CB 54 0108
        gbc.setState(0xad21, 0x206f, 0xc090, 0xaa37, 0x1693, 0xfafe, 0x0, 0x0);
        gbc.writeMem(0xad21, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x206f, gbc.sp());
        EXPECT(0xad23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad21));
        EXPECT(0x54, gbc.readMem(0xad22));
        // CB 54 0109
        gbc.setState(0xe6f2, 0x78e9, 0x2d70, 0x9477, 0x4c09, 0x3330, 0x1, 0x0);
        gbc.writeMem(0xe6f2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x78e9, gbc.sp());
        EXPECT(0xe6f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6f2));
        EXPECT(0x54, gbc.readMem(0xe6f3));
        // CB 54 010A
        gbc.setState(0x5088, 0x1e2d, 0xb300, 0x970f, 0x2a37, 0x3bf9, 0x1, 0x0);
        gbc.writeMem(0x5088, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x1e2d, gbc.sp());
        EXPECT(0x508a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 010B
        gbc.setState(0x1744, 0xe6ba, 0xe390, 0xbfe4, 0xbc65, 0xf216, 0x0, 0x1);
        gbc.writeMem(0x1744, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xe6ba, gbc.sp());
        EXPECT(0x1746, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 010C
        gbc.setState(0x80d, 0x1bab, 0x49f0, 0xbf9f, 0xf708, 0x3bc3, 0x0, 0x1);
        gbc.writeMem(0x80d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x1bab, gbc.sp());
        EXPECT(0x80f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 010D
        gbc.setState(0x83f6, 0xad8b, 0x98f0, 0xc8eb, 0x21b7, 0x787c, 0x0, 0x1);
        gbc.writeMem(0x83f6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xad8b, gbc.sp());
        EXPECT(0x83f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83f6));
        EXPECT(0x54, gbc.readMem(0x83f7));
        // CB 54 010E
        gbc.setState(0x611d, 0x3e2d, 0x40d0, 0xab83, 0x3e52, 0xda1c, 0x0, 0x0);
        gbc.writeMem(0x611d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x3e2d, gbc.sp());
        EXPECT(0x611f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 010F
        gbc.setState(0x4aca, 0x781a, 0x4e80, 0x79b0, 0xdad9, 0x90c9, 0x0, 0x0);
        gbc.writeMem(0x4aca, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x781a, gbc.sp());
        EXPECT(0x4acc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0110
        gbc.setState(0xc838, 0x4ef7, 0x42f0, 0x4b79, 0x2f01, 0x253, 0x1, 0x0);
        gbc.writeMem(0xc838, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x4ef7, gbc.sp());
        EXPECT(0xc83a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc838));
        EXPECT(0x54, gbc.readMem(0xc839));
        // CB 54 0111
        gbc.setState(0x510a, 0xf5aa, 0xf4b0, 0x5d41, 0x9a57, 0x43e9, 0x0, 0x1);
        gbc.writeMem(0x510a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xf5aa, gbc.sp());
        EXPECT(0x510c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0112
        gbc.setState(0x7fe9, 0xea21, 0xd3a0, 0x42d0, 0xd073, 0x9902, 0x0, 0x0);
        gbc.writeMem(0x7fe9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xea21, gbc.sp());
        EXPECT(0x7feb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0113
        gbc.setState(0x85c5, 0xe765, 0x24c0, 0xec63, 0xcd69, 0xd1ac, 0x0, 0x1);
        gbc.writeMem(0x85c5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xe765, gbc.sp());
        EXPECT(0x85c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85c5));
        EXPECT(0x54, gbc.readMem(0x85c6));
        // CB 54 0114
        gbc.setState(0x98ac, 0xab1d, 0x9d50, 0xade6, 0xb45e, 0x3642, 0x1, 0x0);
        gbc.writeMem(0x98ac, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xab1d, gbc.sp());
        EXPECT(0x98ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98ac));
        EXPECT(0x54, gbc.readMem(0x98ad));
        // CB 54 0115
        gbc.setState(0x9618, 0xab8d, 0x1a80, 0x9ebe, 0x93b9, 0x7877, 0x0, 0x1);
        gbc.writeMem(0x9618, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xab8d, gbc.sp());
        EXPECT(0x961a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9618));
        EXPECT(0x54, gbc.readMem(0x9619));
        // CB 54 0116
        gbc.setState(0x8447, 0xa98d, 0x4270, 0xf6f7, 0x16e2, 0x2194, 0x0, 0x0);
        gbc.writeMem(0x8447, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xa98d, gbc.sp());
        EXPECT(0x8449, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8447));
        EXPECT(0x54, gbc.readMem(0x8448));
        // CB 54 0117
        gbc.setState(0x5411, 0x4cf4, 0xe400, 0xf000, 0xd24d, 0xcb1c, 0x0, 0x1);
        gbc.writeMem(0x5411, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x4cf4, gbc.sp());
        EXPECT(0x5413, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0118
        gbc.setState(0xd3de, 0x55ff, 0xd800, 0xc7b2, 0xe3f3, 0xe116, 0x1, 0x1);
        gbc.writeMem(0xd3de, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x55ff, gbc.sp());
        EXPECT(0xd3e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3de));
        EXPECT(0x54, gbc.readMem(0xd3df));
        // CB 54 011A
        gbc.setState(0x3fb9, 0xaadb, 0x4f20, 0xcc84, 0xc9d, 0xf565, 0x0, 0x1);
        gbc.writeMem(0x3fb9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xaadb, gbc.sp());
        EXPECT(0x3fbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 011B
        gbc.setState(0x6b3e, 0x3d67, 0xd7d0, 0x259f, 0xe094, 0x2ce5, 0x0, 0x0);
        gbc.writeMem(0x6b3e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x3d67, gbc.sp());
        EXPECT(0x6b40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 011C
        gbc.setState(0x3252, 0xb3e, 0xd7b0, 0xec25, 0xc751, 0xcb6a, 0x1, 0x1);
        gbc.writeMem(0x3252, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xb3e, gbc.sp());
        EXPECT(0x3254, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 011D
        gbc.setState(0x9612, 0x5a1, 0x1ab0, 0xe63e, 0xd5e8, 0x49c8, 0x1, 0x1);
        gbc.writeMem(0x9612, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x5a1, gbc.sp());
        EXPECT(0x9614, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9612));
        EXPECT(0x54, gbc.readMem(0x9613));
        // CB 54 011E
        gbc.setState(0x35aa, 0x6d3, 0xbf70, 0xf215, 0x3ba8, 0x7a5f, 0x0, 0x1);
        gbc.writeMem(0x35aa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x6d3, gbc.sp());
        EXPECT(0x35ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 011F
        gbc.setState(0xbe90, 0xd4c6, 0x5610, 0xde32, 0x7b12, 0xd52e, 0x0, 0x0);
        gbc.writeMem(0xbe90, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xd4c6, gbc.sp());
        EXPECT(0xbe92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe90));
        EXPECT(0x54, gbc.readMem(0xbe91));
        // CB 54 0120
        gbc.setState(0x239e, 0xf8d0, 0x4190, 0x4bef, 0xc2d8, 0xc4d0, 0x0, 0x1);
        gbc.writeMem(0x239e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xf8d0, gbc.sp());
        EXPECT(0x23a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0121
        gbc.setState(0xd82e, 0xf09d, 0xb9e0, 0xf037, 0x7381, 0x8511, 0x0, 0x1);
        gbc.writeMem(0xd82e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xf09d, gbc.sp());
        EXPECT(0xd830, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd82e));
        EXPECT(0x54, gbc.readMem(0xd82f));
        // CB 54 0122
        gbc.setState(0x8a60, 0xacc9, 0x75a0, 0x3c9f, 0x230b, 0x8f7, 0x1, 0x1);
        gbc.writeMem(0x8a60, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xacc9, gbc.sp());
        EXPECT(0x8a62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a60));
        EXPECT(0x54, gbc.readMem(0x8a61));
        // CB 54 0123
        gbc.setState(0x2d78, 0x358f, 0x3010, 0xb90f, 0xa237, 0xfcb, 0x1, 0x0);
        gbc.writeMem(0x2d78, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x358f, gbc.sp());
        EXPECT(0x2d7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0124
        gbc.setState(0x1b94, 0x5215, 0xa380, 0x3e8, 0x934c, 0xeed6, 0x1, 0x0);
        gbc.writeMem(0x1b94, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5215, gbc.sp());
        EXPECT(0x1b96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0125
        gbc.setState(0xe272, 0xc154, 0x71e0, 0x1062, 0x2821, 0xe4fb, 0x1, 0x1);
        gbc.writeMem(0xe272, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xc154, gbc.sp());
        EXPECT(0xe274, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe272));
        EXPECT(0x54, gbc.readMem(0xe273));
        // CB 54 0126
        gbc.setState(0x367d, 0x3c72, 0xf930, 0xedb4, 0x89ef, 0x8d8d, 0x0, 0x0);
        gbc.writeMem(0x367d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x3c72, gbc.sp());
        EXPECT(0x367f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0128
        gbc.setState(0xc87c, 0x4a26, 0xf6c0, 0x5dfd, 0xd647, 0xdcd3, 0x1, 0x0);
        gbc.writeMem(0xc87c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x4a26, gbc.sp());
        EXPECT(0xc87e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc87c));
        EXPECT(0x54, gbc.readMem(0xc87d));
        // CB 54 0129
        gbc.setState(0x6aec, 0x9ebb, 0xc6f0, 0x3d2f, 0xde8a, 0xeedb, 0x1, 0x1);
        gbc.writeMem(0x6aec, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x9ebb, gbc.sp());
        EXPECT(0x6aee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 012A
        gbc.setState(0x7907, 0xc652, 0x910, 0xefc1, 0xacdf, 0xf9e6, 0x0, 0x1);
        gbc.writeMem(0x7907, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc652, gbc.sp());
        EXPECT(0x7909, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 012B
        gbc.setState(0x1c0d, 0x373, 0x96b0, 0x1b43, 0x66f8, 0xca42, 0x0, 0x0);
        gbc.writeMem(0x1c0d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x373, gbc.sp());
        EXPECT(0x1c0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 012C
        gbc.setState(0xd0da, 0xb2ab, 0xc7d0, 0xa69f, 0xc35, 0x2621, 0x0, 0x1);
        gbc.writeMem(0xd0da, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xb2ab, gbc.sp());
        EXPECT(0xd0dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0da));
        EXPECT(0x54, gbc.readMem(0xd0db));
        // CB 54 012D
        gbc.setState(0x55d0, 0x7d78, 0xf9f0, 0xd798, 0x7c4f, 0x9f42, 0x0, 0x0);
        gbc.writeMem(0x55d0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x7d78, gbc.sp());
        EXPECT(0x55d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 012E
        gbc.setState(0x8f22, 0x24bb, 0x7390, 0x6ac1, 0xb7e, 0x81d8, 0x0, 0x0);
        gbc.writeMem(0x8f22, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x24bb, gbc.sp());
        EXPECT(0x8f24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f22));
        EXPECT(0x54, gbc.readMem(0x8f23));
        // CB 54 012F
        gbc.setState(0x1dd0, 0xa35f, 0x4fc0, 0x4ee6, 0xa86e, 0x1104, 0x0, 0x1);
        gbc.writeMem(0x1dd0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xa35f, gbc.sp());
        EXPECT(0x1dd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0130
        gbc.setState(0x5b1, 0x20ad, 0xb840, 0xd182, 0xa305, 0xc524, 0x0, 0x0);
        gbc.writeMem(0x5b1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x20ad, gbc.sp());
        EXPECT(0x5b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0131
        gbc.setState(0xd0a4, 0x1898, 0x3500, 0x5d58, 0x6fcf, 0x1889, 0x1, 0x0);
        gbc.writeMem(0xd0a4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x1898, gbc.sp());
        EXPECT(0xd0a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0a4));
        EXPECT(0x54, gbc.readMem(0xd0a5));
        // CB 54 0132
        gbc.setState(0x92e4, 0xbc14, 0xeae0, 0x9d36, 0x3ef0, 0xade0, 0x1, 0x1);
        gbc.writeMem(0x92e4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xbc14, gbc.sp());
        EXPECT(0x92e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92e4));
        EXPECT(0x54, gbc.readMem(0x92e5));
        // CB 54 0133
        gbc.setState(0xa25, 0xd52, 0x41f0, 0x2388, 0xd9ce, 0x908e, 0x0, 0x0);
        gbc.writeMem(0xa25, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xd52, gbc.sp());
        EXPECT(0xa27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0134
        gbc.setState(0x240c, 0x7ff7, 0xc20, 0xe383, 0xd5c4, 0x38d4, 0x1, 0x0);
        gbc.writeMem(0x240c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x7ff7, gbc.sp());
        EXPECT(0x240e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0135
        gbc.setState(0x6953, 0x5c98, 0x4580, 0xa054, 0xb6e8, 0x428f, 0x0, 0x1);
        gbc.writeMem(0x6953, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x5c98, gbc.sp());
        EXPECT(0x6955, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0137
        gbc.setState(0x7c4f, 0x3169, 0x5950, 0x54b6, 0xe3bf, 0x30cd, 0x1, 0x0);
        gbc.writeMem(0x7c4f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x3169, gbc.sp());
        EXPECT(0x7c51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0138
        gbc.setState(0x9ecf, 0xe9ca, 0xc950, 0x6107, 0x2068, 0xd4a1, 0x0, 0x1);
        gbc.writeMem(0x9ecf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xe9ca, gbc.sp());
        EXPECT(0x9ed1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ecf));
        EXPECT(0x54, gbc.readMem(0x9ed0));
        // CB 54 0139
        gbc.setState(0xf90, 0x3dab, 0x7120, 0x6d01, 0x108e, 0x75ef, 0x1, 0x0);
        gbc.writeMem(0xf90, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x3dab, gbc.sp());
        EXPECT(0xf92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 013A
        gbc.setState(0xccf0, 0x8bcc, 0x93a0, 0x4277, 0xbcf8, 0x2b7b, 0x0, 0x0);
        gbc.writeMem(0xccf0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x8bcc, gbc.sp());
        EXPECT(0xccf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccf0));
        EXPECT(0x54, gbc.readMem(0xccf1));
        // CB 54 013B
        gbc.setState(0x7d21, 0x727b, 0x27c0, 0xe883, 0x7fb2, 0x5a83, 0x0, 0x1);
        gbc.writeMem(0x7d21, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x727b, gbc.sp());
        EXPECT(0x7d23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 013C
        gbc.setState(0x9b2c, 0x4725, 0x3470, 0x2a0a, 0x3245, 0x7be5, 0x1, 0x1);
        gbc.writeMem(0x9b2c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x4725, gbc.sp());
        EXPECT(0x9b2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b2c));
        EXPECT(0x54, gbc.readMem(0x9b2d));
        // CB 54 013D
        gbc.setState(0x3fda, 0xc9b6, 0x8380, 0x100d, 0x3b90, 0x16ca, 0x1, 0x1);
        gbc.writeMem(0x3fda, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xc9b6, gbc.sp());
        EXPECT(0x3fdc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 013E
        gbc.setState(0x32c1, 0x7bbe, 0x5330, 0x6efe, 0xa3f8, 0x8540, 0x1, 0x1);
        gbc.writeMem(0x32c1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x7bbe, gbc.sp());
        EXPECT(0x32c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 013F
        gbc.setState(0x8151, 0xd15f, 0x67c0, 0x284a, 0xbf44, 0xf3cf, 0x1, 0x0);
        gbc.writeMem(0x8151, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xd15f, gbc.sp());
        EXPECT(0x8153, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8151));
        EXPECT(0x54, gbc.readMem(0x8152));
        // CB 54 0140
        gbc.setState(0x1dd0, 0x94cf, 0xf540, 0x43d5, 0x220b, 0xb7f7, 0x0, 0x1);
        gbc.writeMem(0x1dd0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x94cf, gbc.sp());
        EXPECT(0x1dd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0141
        gbc.setState(0x29ce, 0x9a8e, 0x90f0, 0xb905, 0x881, 0x6859, 0x0, 0x0);
        gbc.writeMem(0x29ce, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x9a8e, gbc.sp());
        EXPECT(0x29d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0142
        gbc.setState(0x396d, 0xb387, 0x6290, 0x36c8, 0x6f2e, 0xcb37, 0x1, 0x0);
        gbc.writeMem(0x396d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb387, gbc.sp());
        EXPECT(0x396f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0143
        gbc.setState(0x9e51, 0x54a1, 0x1170, 0x8c62, 0x350, 0xbe49, 0x0, 0x1);
        gbc.writeMem(0x9e51, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x54a1, gbc.sp());
        EXPECT(0x9e53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e51));
        EXPECT(0x54, gbc.readMem(0x9e52));
        // CB 54 0144
        gbc.setState(0x5fb2, 0x60ec, 0x6c90, 0x9fba, 0x2a11, 0x1c57, 0x1, 0x1);
        gbc.writeMem(0x5fb2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x60ec, gbc.sp());
        EXPECT(0x5fb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0146
        gbc.setState(0x64b9, 0x1fb4, 0x3070, 0x9ea0, 0x7190, 0x68d3, 0x0, 0x1);
        gbc.writeMem(0x64b9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x1fb4, gbc.sp());
        EXPECT(0x64bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0147
        gbc.setState(0xc815, 0xa6cc, 0x7e0, 0x9c36, 0xc2d6, 0xc0db, 0x1, 0x1);
        gbc.writeMem(0xc815, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xa6cc, gbc.sp());
        EXPECT(0xc817, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc815));
        EXPECT(0x54, gbc.readMem(0xc816));
        // CB 54 0148
        gbc.setState(0xe73a, 0x5476, 0xbb20, 0x84a2, 0x7964, 0xef51, 0x1, 0x0);
        gbc.writeMem(0xe73a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x5476, gbc.sp());
        EXPECT(0xe73c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe73a));
        EXPECT(0x54, gbc.readMem(0xe73b));
        // CB 54 0149
        gbc.setState(0xe094, 0x105e, 0x90c0, 0x9ad4, 0xf66d, 0xafef, 0x1, 0x0);
        gbc.writeMem(0xe094, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x105e, gbc.sp());
        EXPECT(0xe096, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe094));
        EXPECT(0x54, gbc.readMem(0xe095));
        // CB 54 014A
        gbc.setState(0x4a7f, 0xd429, 0xacf0, 0x2861, 0xfcfb, 0xeb5f, 0x0, 0x0);
        gbc.writeMem(0x4a7f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xd429, gbc.sp());
        EXPECT(0x4a81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 014B
        gbc.setState(0xc939, 0x56ea, 0xdc0, 0x5647, 0x3364, 0x97a5, 0x0, 0x0);
        gbc.writeMem(0xc939, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x56ea, gbc.sp());
        EXPECT(0xc93b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc939));
        EXPECT(0x54, gbc.readMem(0xc93a));
        // CB 54 014C
        gbc.setState(0xe54b, 0x838b, 0x8930, 0x32f1, 0x8352, 0x7a85, 0x0, 0x0);
        gbc.writeMem(0xe54b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x838b, gbc.sp());
        EXPECT(0xe54d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe54b));
        EXPECT(0x54, gbc.readMem(0xe54c));
        // CB 54 014D
        gbc.setState(0x5fb1, 0xae18, 0x3b30, 0xe717, 0x20a8, 0x89ab, 0x1, 0x0);
        gbc.writeMem(0x5fb1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xae18, gbc.sp());
        EXPECT(0x5fb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 014E
        gbc.setState(0x1b3, 0x11c3, 0xcb80, 0x6b8d, 0xc06b, 0x2bd4, 0x0, 0x0);
        gbc.writeMem(0x1b3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x11c3, gbc.sp());
        EXPECT(0x1b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 014F
        gbc.setState(0x61a5, 0xca62, 0xe6d0, 0x24c7, 0xd677, 0x5fa4, 0x1, 0x0);
        gbc.writeMem(0x61a5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xca62, gbc.sp());
        EXPECT(0x61a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0150
        gbc.setState(0x6409, 0x68a, 0xe880, 0x8bcd, 0x73d8, 0x9ec1, 0x0, 0x0);
        gbc.writeMem(0x6409, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x68a, gbc.sp());
        EXPECT(0x640b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0151
        gbc.setState(0x7bb1, 0xbad0, 0x3e20, 0xb158, 0xedf2, 0x2611, 0x0, 0x0);
        gbc.writeMem(0x7bb1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xbad0, gbc.sp());
        EXPECT(0x7bb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0152
        gbc.setState(0x89fc, 0xcced, 0xe920, 0x606d, 0x2511, 0xb7f8, 0x0, 0x0);
        gbc.writeMem(0x89fc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xcced, gbc.sp());
        EXPECT(0x89fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89fc));
        EXPECT(0x54, gbc.readMem(0x89fd));
        // CB 54 0153
        gbc.setState(0x545c, 0xa341, 0xf2c0, 0xffde, 0x7e8f, 0x9e6a, 0x1, 0x0);
        gbc.writeMem(0x545c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xa341, gbc.sp());
        EXPECT(0x545e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0154
        gbc.setState(0x931d, 0x836d, 0x9c70, 0x6bc3, 0x753, 0x1eb7, 0x0, 0x1);
        gbc.writeMem(0x931d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x836d, gbc.sp());
        EXPECT(0x931f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x931d));
        EXPECT(0x54, gbc.readMem(0x931e));
        // CB 54 0155
        gbc.setState(0xd166, 0x9e7, 0x3ad0, 0x718c, 0x9d01, 0x27a2, 0x1, 0x1);
        gbc.writeMem(0xd166, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x9e7, gbc.sp());
        EXPECT(0xd168, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd166));
        EXPECT(0x54, gbc.readMem(0xd167));
        // CB 54 0156
        gbc.setState(0xb869, 0x7067, 0x85f0, 0xa71, 0x9284, 0x71eb, 0x0, 0x0);
        gbc.writeMem(0xb869, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x7067, gbc.sp());
        EXPECT(0xb86b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb869));
        EXPECT(0x54, gbc.readMem(0xb86a));
        // CB 54 0157
        gbc.setState(0x7ead, 0x9500, 0x9090, 0x66c8, 0x37ee, 0x8b6c, 0x1, 0x1);
        gbc.writeMem(0x7ead, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x9500, gbc.sp());
        EXPECT(0x7eaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0158
        gbc.setState(0x3d41, 0x5289, 0xba30, 0xa496, 0x472, 0x6459, 0x0, 0x1);
        gbc.writeMem(0x3d41, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x5289, gbc.sp());
        EXPECT(0x3d43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0159
        gbc.setState(0xa43d, 0x676c, 0xf980, 0xdbbf, 0x910e, 0x9b87, 0x1, 0x1);
        gbc.writeMem(0xa43d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x676c, gbc.sp());
        EXPECT(0xa43f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa43d));
        EXPECT(0x54, gbc.readMem(0xa43e));
        // CB 54 015B
        gbc.setState(0xaaba, 0x9323, 0x4680, 0xa425, 0xa6f5, 0x7f5a, 0x0, 0x0);
        gbc.writeMem(0xaaba, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x9323, gbc.sp());
        EXPECT(0xaabc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaba));
        EXPECT(0x54, gbc.readMem(0xaabb));
        // CB 54 015C
        gbc.setState(0x55c3, 0xcd7, 0x3e60, 0x1bbd, 0x7ea7, 0x5fcd, 0x0, 0x1);
        gbc.writeMem(0x55c3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xcd7, gbc.sp());
        EXPECT(0x55c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 015D
        gbc.setState(0xa36f, 0xa533, 0xf5b0, 0x5a0f, 0x36c0, 0x999e, 0x0, 0x0);
        gbc.writeMem(0xa36f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xa533, gbc.sp());
        EXPECT(0xa371, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa36f));
        EXPECT(0x54, gbc.readMem(0xa370));
        // CB 54 015E
        gbc.setState(0x9170, 0x3ab5, 0xd7f0, 0x7237, 0x27bd, 0xad1f, 0x1, 0x0);
        gbc.writeMem(0x9170, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x3ab5, gbc.sp());
        EXPECT(0x9172, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9170));
        EXPECT(0x54, gbc.readMem(0x9171));
        // CB 54 015F
        gbc.setState(0x12e1, 0xa8d7, 0x29c0, 0x61f7, 0x1fc8, 0xc16, 0x0, 0x0);
        gbc.writeMem(0x12e1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xa8d7, gbc.sp());
        EXPECT(0x12e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0161
        gbc.setState(0xa08e, 0xf7e5, 0x6a60, 0xae5a, 0x359, 0x615d, 0x0, 0x0);
        gbc.writeMem(0xa08e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xf7e5, gbc.sp());
        EXPECT(0xa090, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa08e));
        EXPECT(0x54, gbc.readMem(0xa08f));
        // CB 54 0162
        gbc.setState(0x8d45, 0xf592, 0xc340, 0x2c5d, 0x30f4, 0x9513, 0x1, 0x0);
        gbc.writeMem(0x8d45, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xf592, gbc.sp());
        EXPECT(0x8d47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d45));
        EXPECT(0x54, gbc.readMem(0x8d46));
        // CB 54 0163
        gbc.setState(0xa81c, 0xb4b1, 0xa110, 0xe9bc, 0x27d, 0xc28b, 0x0, 0x1);
        gbc.writeMem(0xa81c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xb4b1, gbc.sp());
        EXPECT(0xa81e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa81c));
        EXPECT(0x54, gbc.readMem(0xa81d));
        // CB 54 0164
        gbc.setState(0xc929, 0x3836, 0x1e30, 0x16da, 0x2cfe, 0x6733, 0x1, 0x1);
        gbc.writeMem(0xc929, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x3836, gbc.sp());
        EXPECT(0xc92b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc929));
        EXPECT(0x54, gbc.readMem(0xc92a));
        // CB 54 0165
        gbc.setState(0xd284, 0xa03d, 0xa910, 0x3161, 0x6bad, 0x50c7, 0x0, 0x0);
        gbc.writeMem(0xd284, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xa03d, gbc.sp());
        EXPECT(0xd286, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd284));
        EXPECT(0x54, gbc.readMem(0xd285));
        // CB 54 0166
        gbc.setState(0xcab4, 0x6a64, 0x6030, 0x6b3a, 0x3e99, 0xeaf2, 0x1, 0x1);
        gbc.writeMem(0xcab4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x6a64, gbc.sp());
        EXPECT(0xcab6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcab4));
        EXPECT(0x54, gbc.readMem(0xcab5));
        // CB 54 0167
        gbc.setState(0x7658, 0x7188, 0xd6d0, 0xec77, 0xeb11, 0x5866, 0x1, 0x0);
        gbc.writeMem(0x7658, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x7188, gbc.sp());
        EXPECT(0x765a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0168
        gbc.setState(0xa910, 0x193b, 0x3250, 0xc25d, 0x62b9, 0x2a05, 0x1, 0x1);
        gbc.writeMem(0xa910, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x193b, gbc.sp());
        EXPECT(0xa912, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa910));
        EXPECT(0x54, gbc.readMem(0xa911));
        // CB 54 0169
        gbc.setState(0x1a7e, 0x1a95, 0x10f0, 0xb10e, 0x6400, 0x4e7c, 0x1, 0x0);
        gbc.writeMem(0x1a7e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x1a95, gbc.sp());
        EXPECT(0x1a80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 016A
        gbc.setState(0x1a0c, 0x174e, 0x4ae0, 0x69de, 0x69f8, 0xfee8, 0x0, 0x1);
        gbc.writeMem(0x1a0c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x174e, gbc.sp());
        EXPECT(0x1a0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 016B
        gbc.setState(0x7a3f, 0x7b84, 0xac00, 0xbb9e, 0x1b07, 0x1eb2, 0x1, 0x1);
        gbc.writeMem(0x7a3f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x7b84, gbc.sp());
        EXPECT(0x7a41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 016C
        gbc.setState(0xade8, 0xc20c, 0x9cb0, 0xfb37, 0xae1a, 0x5b6e, 0x0, 0x1);
        gbc.writeMem(0xade8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xc20c, gbc.sp());
        EXPECT(0xadea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xade8));
        EXPECT(0x54, gbc.readMem(0xade9));
        // CB 54 016D
        gbc.setState(0x13ab, 0x2445, 0x6820, 0xf463, 0x81f6, 0xefe4, 0x1, 0x1);
        gbc.writeMem(0x13ab, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x2445, gbc.sp());
        EXPECT(0x13ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 016E
        gbc.setState(0x4f73, 0x4488, 0xa6e0, 0xb761, 0xe7bc, 0x8d3c, 0x1, 0x1);
        gbc.writeMem(0x4f73, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x4488, gbc.sp());
        EXPECT(0x4f75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 016F
        gbc.setState(0x10d3, 0x8bec, 0x1160, 0x1c97, 0xf0c0, 0x2794, 0x1, 0x0);
        gbc.writeMem(0x10d3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x8bec, gbc.sp());
        EXPECT(0x10d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0170
        gbc.setState(0xb309, 0xf022, 0x83f0, 0x99e4, 0xf01d, 0xdc9b, 0x0, 0x0);
        gbc.writeMem(0xb309, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xf022, gbc.sp());
        EXPECT(0xb30b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb309));
        EXPECT(0x54, gbc.readMem(0xb30a));
        // CB 54 0171
        gbc.setState(0xb8b, 0xa3e1, 0x8c10, 0x19ed, 0xe266, 0xfee7, 0x1, 0x0);
        gbc.writeMem(0xb8b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xa3e1, gbc.sp());
        EXPECT(0xb8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0172
        gbc.setState(0xc812, 0x9943, 0x7df0, 0x2872, 0x3606, 0x898a, 0x0, 0x0);
        gbc.writeMem(0xc812, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x9943, gbc.sp());
        EXPECT(0xc814, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc812));
        EXPECT(0x54, gbc.readMem(0xc813));
        // CB 54 0173
        gbc.setState(0x9458, 0x600c, 0x52b0, 0xc3b4, 0x89e4, 0x831, 0x0, 0x1);
        gbc.writeMem(0x9458, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x600c, gbc.sp());
        EXPECT(0x945a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9458));
        EXPECT(0x54, gbc.readMem(0x9459));
        // CB 54 0174
        gbc.setState(0x2bbf, 0xdc0, 0x4190, 0x9c18, 0x9a6, 0x1e51, 0x1, 0x1);
        gbc.writeMem(0x2bbf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xdc0, gbc.sp());
        EXPECT(0x2bc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0176
        gbc.setState(0x5825, 0xb85a, 0x7e40, 0x3ed0, 0x4fae, 0x75e, 0x0, 0x0);
        gbc.writeMem(0x5825, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xb85a, gbc.sp());
        EXPECT(0x5827, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0177
        gbc.setState(0xeb8e, 0xd192, 0x80, 0xec56, 0x92bd, 0x264e, 0x0, 0x1);
        gbc.writeMem(0xeb8e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd192, gbc.sp());
        EXPECT(0xeb90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb8e));
        EXPECT(0x54, gbc.readMem(0xeb8f));
        // CB 54 0178
        gbc.setState(0x7981, 0x4367, 0xa320, 0xa392, 0x7294, 0x4d7c, 0x1, 0x1);
        gbc.writeMem(0x7981, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x4367, gbc.sp());
        EXPECT(0x7983, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0179
        gbc.setState(0x910f, 0xefba, 0x71d0, 0xac1c, 0x1bfc, 0xcda6, 0x0, 0x0);
        gbc.writeMem(0x910f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xefba, gbc.sp());
        EXPECT(0x9111, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x910f));
        EXPECT(0x54, gbc.readMem(0x9110));
        // CB 54 017A
        gbc.setState(0xa17, 0x7e84, 0xf1b0, 0x2b12, 0x57b7, 0x1313, 0x1, 0x1);
        gbc.writeMem(0xa17, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x7e84, gbc.sp());
        EXPECT(0xa19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 017B
        gbc.setState(0xcc6a, 0xa149, 0xdda0, 0x3252, 0xf1dc, 0x6d7f, 0x0, 0x1);
        gbc.writeMem(0xcc6a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa149, gbc.sp());
        EXPECT(0xcc6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc6a));
        EXPECT(0x54, gbc.readMem(0xcc6b));
        // CB 54 017C
        gbc.setState(0x1670, 0x9662, 0xf040, 0x8525, 0xf967, 0x8ab8, 0x0, 0x1);
        gbc.writeMem(0x1670, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x9662, gbc.sp());
        EXPECT(0x1672, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 017D
        gbc.setState(0xab56, 0x823e, 0xf110, 0xfb87, 0xcda, 0xb053, 0x1, 0x1);
        gbc.writeMem(0xab56, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x823e, gbc.sp());
        EXPECT(0xab58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab56));
        EXPECT(0x54, gbc.readMem(0xab57));
        // CB 54 017F
        gbc.setState(0x9f17, 0xdcc5, 0x3100, 0xfda4, 0x818e, 0x2651, 0x1, 0x0);
        gbc.writeMem(0x9f17, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xdcc5, gbc.sp());
        EXPECT(0x9f19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f17));
        EXPECT(0x54, gbc.readMem(0x9f18));
        // CB 54 0180
        gbc.setState(0xbf14, 0x68b7, 0x9ce0, 0x4878, 0x1082, 0xd82f, 0x0, 0x0);
        gbc.writeMem(0xbf14, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x68b7, gbc.sp());
        EXPECT(0xbf16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf14));
        EXPECT(0x54, gbc.readMem(0xbf15));
        // CB 54 0181
        gbc.setState(0x727d, 0x5724, 0x9b30, 0xab96, 0x436f, 0x49cb, 0x0, 0x1);
        gbc.writeMem(0x727d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x5724, gbc.sp());
        EXPECT(0x727f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0182
        gbc.setState(0x5d20, 0xa309, 0xf3f0, 0x687d, 0x5448, 0xf55f, 0x1, 0x1);
        gbc.writeMem(0x5d20, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xa309, gbc.sp());
        EXPECT(0x5d22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0183
        gbc.setState(0xd4f3, 0xd894, 0x5c50, 0x3d40, 0xebaf, 0xd39, 0x1, 0x1);
        gbc.writeMem(0xd4f3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xd894, gbc.sp());
        EXPECT(0xd4f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4f3));
        EXPECT(0x54, gbc.readMem(0xd4f4));
        // CB 54 0184
        gbc.setState(0x567e, 0xbc89, 0xd110, 0x9e64, 0xeff4, 0x1c13, 0x0, 0x0);
        gbc.writeMem(0x567e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xbc89, gbc.sp());
        EXPECT(0x5680, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0185
        gbc.setState(0x15ef, 0x7e69, 0x9560, 0x2637, 0x5a09, 0xde1b, 0x0, 0x1);
        gbc.writeMem(0x15ef, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x7e69, gbc.sp());
        EXPECT(0x15f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0186
        gbc.setState(0xe926, 0x1563, 0x7c80, 0x6874, 0xc199, 0xf833, 0x1, 0x0);
        gbc.writeMem(0xe926, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x1563, gbc.sp());
        EXPECT(0xe928, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe926));
        EXPECT(0x54, gbc.readMem(0xe927));
        // CB 54 0187
        gbc.setState(0x715f, 0xe358, 0x38c0, 0x6466, 0x189a, 0x70f, 0x1, 0x1);
        gbc.writeMem(0x715f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xe358, gbc.sp());
        EXPECT(0x7161, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0188
        gbc.setState(0x24ec, 0x1d96, 0xe630, 0x8a91, 0x4226, 0x6168, 0x0, 0x0);
        gbc.writeMem(0x24ec, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x1d96, gbc.sp());
        EXPECT(0x24ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0189
        gbc.setState(0x173c, 0x3fc1, 0x1f70, 0x6920, 0x4211, 0x72ce, 0x1, 0x0);
        gbc.writeMem(0x173c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x3fc1, gbc.sp());
        EXPECT(0x173e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 018A
        gbc.setState(0x65b0, 0xf85c, 0x3300, 0x117b, 0x565f, 0x9223, 0x0, 0x1);
        gbc.writeMem(0x65b0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xf85c, gbc.sp());
        EXPECT(0x65b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 018B
        gbc.setState(0x76ad, 0x164a, 0xd610, 0x3d49, 0xdd9d, 0x63c0, 0x1, 0x0);
        gbc.writeMem(0x76ad, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x164a, gbc.sp());
        EXPECT(0x76af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 018C
        gbc.setState(0x4b52, 0x8780, 0x890, 0x7086, 0xbadf, 0xe8bd, 0x0, 0x0);
        gbc.writeMem(0x4b52, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x8780, gbc.sp());
        EXPECT(0x4b54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 018D
        gbc.setState(0x53fe, 0x7fe2, 0xadb0, 0xd27e, 0xe2c1, 0xad78, 0x0, 0x0);
        gbc.writeMem(0x53fe, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x7fe2, gbc.sp());
        EXPECT(0x5400, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 018E
        gbc.setState(0x6eba, 0x3d4f, 0x7700, 0x43d9, 0xe66, 0x3346, 0x0, 0x0);
        gbc.writeMem(0x6eba, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x3d4f, gbc.sp());
        EXPECT(0x6ebc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 018F
        gbc.setState(0x354c, 0xd231, 0xd480, 0x202b, 0xbba0, 0x5060, 0x0, 0x0);
        gbc.writeMem(0x354c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xd231, gbc.sp());
        EXPECT(0x354e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0190
        gbc.setState(0x136, 0x86d2, 0x1a0, 0x176b, 0x6670, 0x15db, 0x1, 0x0);
        gbc.writeMem(0x136, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x86d2, gbc.sp());
        EXPECT(0x138, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0191
        gbc.setState(0xc20a, 0xba6b, 0xe700, 0xa105, 0x7b8e, 0xe1c, 0x1, 0x1);
        gbc.writeMem(0xc20a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xba6b, gbc.sp());
        EXPECT(0xc20c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc20a));
        EXPECT(0x54, gbc.readMem(0xc20b));
        // CB 54 0192
        gbc.setState(0xcb49, 0x4aa9, 0x1460, 0xdc7c, 0x5c35, 0xab79, 0x0, 0x1);
        gbc.writeMem(0xcb49, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4aa9, gbc.sp());
        EXPECT(0xcb4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb49));
        EXPECT(0x54, gbc.readMem(0xcb4a));
        // CB 54 0193
        gbc.setState(0x489e, 0x5258, 0x76a0, 0xf6bc, 0x69fa, 0xe863, 0x0, 0x1);
        gbc.writeMem(0x489e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x5258, gbc.sp());
        EXPECT(0x48a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0194
        gbc.setState(0x4810, 0x7e45, 0x1f40, 0x7643, 0x290c, 0x3816, 0x1, 0x0);
        gbc.writeMem(0x4810, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x7e45, gbc.sp());
        EXPECT(0x4812, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0195
        gbc.setState(0x9713, 0xf9dc, 0x86d0, 0x17a5, 0xde91, 0xe94d, 0x0, 0x1);
        gbc.writeMem(0x9713, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf9dc, gbc.sp());
        EXPECT(0x9715, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9713));
        EXPECT(0x54, gbc.readMem(0x9714));
        // CB 54 0197
        gbc.setState(0x9dfe, 0x6cf, 0xd180, 0xd27b, 0xb596, 0x5295, 0x0, 0x1);
        gbc.writeMem(0x9dfe, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x6cf, gbc.sp());
        EXPECT(0x9e00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dfe));
        EXPECT(0x54, gbc.readMem(0x9dff));
        // CB 54 0198
        gbc.setState(0x33b3, 0xbd5, 0x5e30, 0x2c2, 0x1b96, 0x2f8a, 0x1, 0x1);
        gbc.writeMem(0x33b3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xbd5, gbc.sp());
        EXPECT(0x33b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0199
        gbc.setState(0xc9ed, 0xb46d, 0x6e10, 0xb0be, 0x4d31, 0x5e4b, 0x0, 0x1);
        gbc.writeMem(0xc9ed, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xb46d, gbc.sp());
        EXPECT(0xc9ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9ed));
        EXPECT(0x54, gbc.readMem(0xc9ee));
        // CB 54 019A
        gbc.setState(0xcd8, 0x535d, 0xb80, 0x6e96, 0x8615, 0x4541, 0x1, 0x1);
        gbc.writeMem(0xcd8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x535d, gbc.sp());
        EXPECT(0xcda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 019B
        gbc.setState(0x1325, 0x4205, 0x950, 0xde9a, 0xf0a3, 0xc612, 0x1, 0x0);
        gbc.writeMem(0x1325, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x4205, gbc.sp());
        EXPECT(0x1327, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 019C
        gbc.setState(0x9b44, 0x6b72, 0x5700, 0xea87, 0x6db9, 0xc224, 0x1, 0x1);
        gbc.writeMem(0x9b44, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x6b72, gbc.sp());
        EXPECT(0x9b46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b44));
        EXPECT(0x54, gbc.readMem(0x9b45));
        // CB 54 019D
        gbc.setState(0x3ae0, 0x6d44, 0xfb90, 0x124e, 0xaaf5, 0x169b, 0x1, 0x1);
        gbc.writeMem(0x3ae0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x6d44, gbc.sp());
        EXPECT(0x3ae2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 019E
        gbc.setState(0xdb95, 0x7919, 0x8f70, 0x12eb, 0x97f0, 0x7c65, 0x1, 0x1);
        gbc.writeMem(0xdb95, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x7919, gbc.sp());
        EXPECT(0xdb97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb95));
        EXPECT(0x54, gbc.readMem(0xdb96));
        // CB 54 019F
        gbc.setState(0x7588, 0x912e, 0xcba0, 0xc6d, 0x2526, 0xa634, 0x0, 0x1);
        gbc.writeMem(0x7588, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x912e, gbc.sp());
        EXPECT(0x758a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01A0
        gbc.setState(0x3f4, 0xa1a5, 0x9860, 0x69f0, 0x397a, 0x806c, 0x0, 0x1);
        gbc.writeMem(0x3f4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xa1a5, gbc.sp());
        EXPECT(0x3f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01A1
        gbc.setState(0x30d6, 0xb98d, 0xb700, 0x9ab0, 0xc112, 0x695b, 0x1, 0x1);
        gbc.writeMem(0x30d6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xb98d, gbc.sp());
        EXPECT(0x30d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01A2
        gbc.setState(0x155e, 0x145d, 0x6170, 0x87b6, 0x34da, 0x9890, 0x0, 0x0);
        gbc.writeMem(0x155e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x145d, gbc.sp());
        EXPECT(0x1560, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01A3
        gbc.setState(0x9aba, 0x9156, 0xbca0, 0x148f, 0xb662, 0xfca7, 0x0, 0x0);
        gbc.writeMem(0x9aba, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x9156, gbc.sp());
        EXPECT(0x9abc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9aba));
        EXPECT(0x54, gbc.readMem(0x9abb));
        // CB 54 01A4
        gbc.setState(0xc255, 0xc3dc, 0xc160, 0xf0fd, 0xcc31, 0x291a, 0x0, 0x0);
        gbc.writeMem(0xc255, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xc3dc, gbc.sp());
        EXPECT(0xc257, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc255));
        EXPECT(0x54, gbc.readMem(0xc256));
        // CB 54 01A5
        gbc.setState(0x63e5, 0x5336, 0xb060, 0x6707, 0xac5c, 0xdeb7, 0x1, 0x1);
        gbc.writeMem(0x63e5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x5336, gbc.sp());
        EXPECT(0x63e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01A6
        gbc.setState(0x99f0, 0xbbe, 0xc2f0, 0xc2b6, 0x280a, 0x8624, 0x1, 0x0);
        gbc.writeMem(0x99f0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xbbe, gbc.sp());
        EXPECT(0x99f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99f0));
        EXPECT(0x54, gbc.readMem(0x99f1));
        // CB 54 01A7
        gbc.setState(0x3b9a, 0x4439, 0xc1a0, 0xb897, 0x1957, 0x2c79, 0x0, 0x1);
        gbc.writeMem(0x3b9a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4439, gbc.sp());
        EXPECT(0x3b9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01A8
        gbc.setState(0x53d1, 0xe624, 0x53f0, 0x398f, 0x1296, 0xe630, 0x0, 0x0);
        gbc.writeMem(0x53d1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe624, gbc.sp());
        EXPECT(0x53d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01A9
        gbc.setState(0xcfc4, 0xeb60, 0x93e0, 0x4c44, 0x9530, 0x578a, 0x1, 0x0);
        gbc.writeMem(0xcfc4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xeb60, gbc.sp());
        EXPECT(0xcfc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfc4));
        EXPECT(0x54, gbc.readMem(0xcfc5));
        // CB 54 01AA
        gbc.setState(0xe333, 0x9e57, 0x4390, 0xb80e, 0x5dcb, 0x8129, 0x1, 0x0);
        gbc.writeMem(0xe333, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x9e57, gbc.sp());
        EXPECT(0xe335, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe333));
        EXPECT(0x54, gbc.readMem(0xe334));
        // CB 54 01AB
        gbc.setState(0xcd3d, 0xe526, 0x2830, 0x8371, 0xa742, 0xee18, 0x0, 0x1);
        gbc.writeMem(0xcd3d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe526, gbc.sp());
        EXPECT(0xcd3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd3d));
        EXPECT(0x54, gbc.readMem(0xcd3e));
        // CB 54 01AC
        gbc.setState(0xd835, 0x88c4, 0x980, 0x710e, 0xee3b, 0x17c7, 0x0, 0x1);
        gbc.writeMem(0xd835, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x88c4, gbc.sp());
        EXPECT(0xd837, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd835));
        EXPECT(0x54, gbc.readMem(0xd836));
        // CB 54 01AD
        gbc.setState(0xadc, 0x3a44, 0xe900, 0x8742, 0xa8e1, 0x8ba1, 0x0, 0x0);
        gbc.writeMem(0xadc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x3a44, gbc.sp());
        EXPECT(0xade, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01AE
        gbc.setState(0x429a, 0x9cb4, 0xb140, 0xcd01, 0xa25a, 0xde68, 0x1, 0x0);
        gbc.writeMem(0x429a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x9cb4, gbc.sp());
        EXPECT(0x429c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01B0
        gbc.setState(0x2b0a, 0xa0df, 0x2df0, 0x65b9, 0xecd6, 0x4bf7, 0x1, 0x0);
        gbc.writeMem(0x2b0a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xa0df, gbc.sp());
        EXPECT(0x2b0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01B1
        gbc.setState(0x8b60, 0xab1d, 0x1050, 0xacda, 0xeab, 0x985d, 0x1, 0x0);
        gbc.writeMem(0x8b60, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xab1d, gbc.sp());
        EXPECT(0x8b62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b60));
        EXPECT(0x54, gbc.readMem(0x8b61));
        // CB 54 01B2
        gbc.setState(0x11a3, 0xd90c, 0xf3c0, 0xb28e, 0x5a57, 0xeb4, 0x0, 0x1);
        gbc.writeMem(0x11a3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xd90c, gbc.sp());
        EXPECT(0x11a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01B5
        gbc.setState(0x1d0e, 0x8e25, 0x650, 0xed5e, 0x310d, 0x8a21, 0x0, 0x1);
        gbc.writeMem(0x1d0e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x8e25, gbc.sp());
        EXPECT(0x1d10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01B6
        gbc.setState(0x566b, 0x42da, 0xfbb0, 0xb18a, 0xacb6, 0xc493, 0x1, 0x0);
        gbc.writeMem(0x566b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x42da, gbc.sp());
        EXPECT(0x566d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01B7
        gbc.setState(0xafdb, 0x6c93, 0x270, 0x6b80, 0xe331, 0x39f2, 0x0, 0x0);
        gbc.writeMem(0xafdb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x6c93, gbc.sp());
        EXPECT(0xafdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafdb));
        EXPECT(0x54, gbc.readMem(0xafdc));
        // CB 54 01B8
        gbc.setState(0x9e7b, 0x18b9, 0x8e40, 0x6f5, 0xaf89, 0xa235, 0x1, 0x0);
        gbc.writeMem(0x9e7b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x18b9, gbc.sp());
        EXPECT(0x9e7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e7b));
        EXPECT(0x54, gbc.readMem(0x9e7c));
        // CB 54 01B9
        gbc.setState(0xc31b, 0xd3c4, 0x59a0, 0xa3ba, 0x2ee5, 0xe8b9, 0x1, 0x1);
        gbc.writeMem(0xc31b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xd3c4, gbc.sp());
        EXPECT(0xc31d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc31b));
        EXPECT(0x54, gbc.readMem(0xc31c));
        // CB 54 01BA
        gbc.setState(0x2824, 0xd827, 0x4900, 0x77af, 0x967d, 0x5b6, 0x0, 0x0);
        gbc.writeMem(0x2824, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd827, gbc.sp());
        EXPECT(0x2826, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01BB
        gbc.setState(0xefb6, 0xa748, 0x35c0, 0x20ce, 0xb634, 0xb6c2, 0x0, 0x0);
        gbc.writeMem(0xefb6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xa748, gbc.sp());
        EXPECT(0xefb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefb6));
        EXPECT(0x54, gbc.readMem(0xefb7));
        // CB 54 01BC
        gbc.setState(0xbfcc, 0xbd0c, 0x6a50, 0x5ef1, 0xaf24, 0x62f3, 0x1, 0x0);
        gbc.writeMem(0xbfcc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xbd0c, gbc.sp());
        EXPECT(0xbfce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfcc));
        EXPECT(0x54, gbc.readMem(0xbfcd));
        // CB 54 01BD
        gbc.setState(0x8863, 0xb18f, 0x16c0, 0x3114, 0x2192, 0x90ff, 0x1, 0x0);
        gbc.writeMem(0x8863, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xb18f, gbc.sp());
        EXPECT(0x8865, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8863));
        EXPECT(0x54, gbc.readMem(0x8864));
        // CB 54 01BE
        gbc.setState(0x8a5f, 0x6eb8, 0x38e0, 0x3732, 0x881a, 0xc9a, 0x0, 0x0);
        gbc.writeMem(0x8a5f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x6eb8, gbc.sp());
        EXPECT(0x8a61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a5f));
        EXPECT(0x54, gbc.readMem(0x8a60));
        // CB 54 01BF
        gbc.setState(0x98c8, 0x6000, 0x6680, 0x7af9, 0x3cce, 0xca1d, 0x1, 0x1);
        gbc.writeMem(0x98c8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x6000, gbc.sp());
        EXPECT(0x98ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98c8));
        EXPECT(0x54, gbc.readMem(0x98c9));
        // CB 54 01C0
        gbc.setState(0xaa65, 0x3ffb, 0x5ef0, 0xa10, 0x937e, 0x6a2f, 0x0, 0x0);
        gbc.writeMem(0xaa65, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x3ffb, gbc.sp());
        EXPECT(0xaa67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa65));
        EXPECT(0x54, gbc.readMem(0xaa66));
        // CB 54 01C1
        gbc.setState(0x91f3, 0x2032, 0xa980, 0x471e, 0x9eaa, 0x1404, 0x1, 0x0);
        gbc.writeMem(0x91f3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x2032, gbc.sp());
        EXPECT(0x91f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91f3));
        EXPECT(0x54, gbc.readMem(0x91f4));
        // CB 54 01C2
        gbc.setState(0xe5be, 0xa52, 0x92e0, 0x3787, 0xce94, 0xf5c9, 0x1, 0x0);
        gbc.writeMem(0xe5be, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa52, gbc.sp());
        EXPECT(0xe5c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5be));
        EXPECT(0x54, gbc.readMem(0xe5bf));
        // CB 54 01C3
        gbc.setState(0x1347, 0x424d, 0x1610, 0xb895, 0x4c41, 0x4b28, 0x0, 0x0);
        gbc.writeMem(0x1347, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x424d, gbc.sp());
        EXPECT(0x1349, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01C4
        gbc.setState(0x83, 0x262b, 0x3900, 0xdde3, 0x6876, 0x5456, 0x0, 0x0);
        gbc.writeMem(0x83, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x262b, gbc.sp());
        EXPECT(0x85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01C5
        gbc.setState(0xbc13, 0x31c7, 0x7b70, 0xaa6e, 0xa9f9, 0x9788, 0x1, 0x1);
        gbc.writeMem(0xbc13, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x31c7, gbc.sp());
        EXPECT(0xbc15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc13));
        EXPECT(0x54, gbc.readMem(0xbc14));
        // CB 54 01C6
        gbc.setState(0x70bb, 0x4815, 0x8cc0, 0x264e, 0x34a2, 0x58e9, 0x1, 0x1);
        gbc.writeMem(0x70bb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x4815, gbc.sp());
        EXPECT(0x70bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01C7
        gbc.setState(0xe7d1, 0x3c16, 0x32a0, 0x8945, 0x488e, 0x8b0b, 0x1, 0x1);
        gbc.writeMem(0xe7d1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x3c16, gbc.sp());
        EXPECT(0xe7d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7d1));
        EXPECT(0x54, gbc.readMem(0xe7d2));
        // CB 54 01C8
        gbc.setState(0x4c58, 0x5ce2, 0xb860, 0xc563, 0x2681, 0x1877, 0x0, 0x0);
        gbc.writeMem(0x4c58, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x5ce2, gbc.sp());
        EXPECT(0x4c5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01C9
        gbc.setState(0xcb28, 0xcfff, 0xe150, 0x2df3, 0xad12, 0xfe62, 0x0, 0x1);
        gbc.writeMem(0xcb28, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xcfff, gbc.sp());
        EXPECT(0xcb2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb28));
        EXPECT(0x54, gbc.readMem(0xcb29));
        // CB 54 01CA
        gbc.setState(0x15c6, 0xc53d, 0xba50, 0xaaef, 0x41ff, 0xd5f8, 0x0, 0x1);
        gbc.writeMem(0x15c6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xc53d, gbc.sp());
        EXPECT(0x15c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01CB
        gbc.setState(0xa9bd, 0x8ab3, 0x8210, 0x1f5f, 0xfa41, 0x859d, 0x1, 0x1);
        gbc.writeMem(0xa9bd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x8ab3, gbc.sp());
        EXPECT(0xa9bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9bd));
        EXPECT(0x54, gbc.readMem(0xa9be));
        // CB 54 01CC
        gbc.setState(0x7683, 0xc26c, 0x6180, 0xf98b, 0x1682, 0x7a3a, 0x1, 0x0);
        gbc.writeMem(0x7683, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xc26c, gbc.sp());
        EXPECT(0x7685, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01CD
        gbc.setState(0xaaa7, 0xc508, 0x5f60, 0x52e4, 0x3679, 0xd458, 0x1, 0x0);
        gbc.writeMem(0xaaa7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc508, gbc.sp());
        EXPECT(0xaaa9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaa7));
        EXPECT(0x54, gbc.readMem(0xaaa8));
        // CB 54 01CF
        gbc.setState(0x5995, 0x48a2, 0x4e10, 0x14fe, 0x13df, 0x9d5, 0x1, 0x1);
        gbc.writeMem(0x5995, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x48a2, gbc.sp());
        EXPECT(0x5997, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01D0
        gbc.setState(0xee1, 0x95ae, 0xe8f0, 0xd483, 0x6806, 0x10b, 0x0, 0x1);
        gbc.writeMem(0xee1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x95ae, gbc.sp());
        EXPECT(0xee3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01D1
        gbc.setState(0x8970, 0x5478, 0xf550, 0xa880, 0x884a, 0xb4d2, 0x0, 0x0);
        gbc.writeMem(0x8970, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x5478, gbc.sp());
        EXPECT(0x8972, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8970));
        EXPECT(0x54, gbc.readMem(0x8971));
        // CB 54 01D2
        gbc.setState(0x79ea, 0xf9d8, 0xfeb0, 0xf831, 0xa275, 0x446e, 0x0, 0x0);
        gbc.writeMem(0x79ea, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xf9d8, gbc.sp());
        EXPECT(0x79ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01D3
        gbc.setState(0x4fcf, 0x32cc, 0xb930, 0xed27, 0x59b8, 0x78d0, 0x1, 0x1);
        gbc.writeMem(0x4fcf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x32cc, gbc.sp());
        EXPECT(0x4fd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01D4
        gbc.setState(0xc736, 0xc51f, 0x3cb0, 0x9f8e, 0xe71, 0x1b29, 0x0, 0x0);
        gbc.writeMem(0xc736, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xc51f, gbc.sp());
        EXPECT(0xc738, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc736));
        EXPECT(0x54, gbc.readMem(0xc737));
        // CB 54 01D5
        gbc.setState(0x5d93, 0x7ff, 0x540, 0xc8e2, 0xb0a, 0x45ab, 0x1, 0x1);
        gbc.writeMem(0x5d93, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x7ff, gbc.sp());
        EXPECT(0x5d95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01D6
        gbc.setState(0xacab, 0x4086, 0x8c0, 0x8f1c, 0xe399, 0x6733, 0x0, 0x1);
        gbc.writeMem(0xacab, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x4086, gbc.sp());
        EXPECT(0xacad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xacab));
        EXPECT(0x54, gbc.readMem(0xacac));
        // CB 54 01D7
        gbc.setState(0x38b, 0xe94e, 0x7c40, 0xfc7f, 0x977, 0x6121, 0x0, 0x1);
        gbc.writeMem(0x38b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xe94e, gbc.sp());
        EXPECT(0x38d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01D8
        gbc.setState(0xc24e, 0x8a5c, 0x4b20, 0xbc3f, 0x49a4, 0xd90d, 0x1, 0x1);
        gbc.writeMem(0xc24e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x8a5c, gbc.sp());
        EXPECT(0xc250, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc24e));
        EXPECT(0x54, gbc.readMem(0xc24f));
        // CB 54 01D9
        gbc.setState(0xe326, 0x5ccf, 0x7390, 0x40e2, 0x3d98, 0xd6fb, 0x0, 0x0);
        gbc.writeMem(0xe326, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x5ccf, gbc.sp());
        EXPECT(0xe328, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe326));
        EXPECT(0x54, gbc.readMem(0xe327));
        // CB 54 01DB
        gbc.setState(0xb34f, 0xe144, 0x3c80, 0x7c74, 0x4747, 0x6a65, 0x0, 0x0);
        gbc.writeMem(0xb34f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xe144, gbc.sp());
        EXPECT(0xb351, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb34f));
        EXPECT(0x54, gbc.readMem(0xb350));
        // CB 54 01DC
        gbc.setState(0x816a, 0x177f, 0x5a20, 0xd84c, 0x5634, 0xb092, 0x0, 0x0);
        gbc.writeMem(0x816a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x177f, gbc.sp());
        EXPECT(0x816c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x816a));
        EXPECT(0x54, gbc.readMem(0x816b));
        // CB 54 01DD
        gbc.setState(0xbe77, 0x2c82, 0x85a0, 0xe337, 0x911f, 0x2986, 0x1, 0x1);
        gbc.writeMem(0xbe77, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x2c82, gbc.sp());
        EXPECT(0xbe79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe77));
        EXPECT(0x54, gbc.readMem(0xbe78));
        // CB 54 01DE
        gbc.setState(0xff8, 0x4ba0, 0xb900, 0x925e, 0xa084, 0xa374, 0x1, 0x0);
        gbc.writeMem(0xff8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x4ba0, gbc.sp());
        EXPECT(0xffa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01DF
        gbc.setState(0xeda7, 0xa817, 0x3280, 0x998f, 0x70da, 0x69a0, 0x0, 0x1);
        gbc.writeMem(0xeda7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xa817, gbc.sp());
        EXPECT(0xeda9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeda7));
        EXPECT(0x54, gbc.readMem(0xeda8));
        // CB 54 01E0
        gbc.setState(0x6c69, 0x445e, 0x17b0, 0xa166, 0xd5be, 0x75c, 0x0, 0x0);
        gbc.writeMem(0x6c69, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x445e, gbc.sp());
        EXPECT(0x6c6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01E1
        gbc.setState(0xa03c, 0xa563, 0x58c0, 0x402, 0xe48d, 0xa3f6, 0x0, 0x1);
        gbc.writeMem(0xa03c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xa563, gbc.sp());
        EXPECT(0xa03e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa03c));
        EXPECT(0x54, gbc.readMem(0xa03d));
        // CB 54 01E2
        gbc.setState(0x2f79, 0x2f4, 0x3040, 0xc037, 0x7829, 0xb052, 0x0, 0x1);
        gbc.writeMem(0x2f79, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x2f4, gbc.sp());
        EXPECT(0x2f7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01E3
        gbc.setState(0x148c, 0x89f8, 0xc870, 0x5847, 0x1977, 0x9ad6, 0x1, 0x0);
        gbc.writeMem(0x148c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x89f8, gbc.sp());
        EXPECT(0x148e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01E4
        gbc.setState(0xbf86, 0xb346, 0xfd0, 0xde7d, 0xcdb8, 0x22c1, 0x1, 0x0);
        gbc.writeMem(0xbf86, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xb346, gbc.sp());
        EXPECT(0xbf88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf86));
        EXPECT(0x54, gbc.readMem(0xbf87));
        // CB 54 01E5
        gbc.setState(0xec39, 0x4453, 0x3b70, 0xe030, 0x7a67, 0x1886, 0x0, 0x1);
        gbc.writeMem(0xec39, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x4453, gbc.sp());
        EXPECT(0xec3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec39));
        EXPECT(0x54, gbc.readMem(0xec3a));
        // CB 54 01E6
        gbc.setState(0x48ee, 0x8cdd, 0xd160, 0x4a0, 0x2702, 0xe3c2, 0x0, 0x1);
        gbc.writeMem(0x48ee, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x8cdd, gbc.sp());
        EXPECT(0x48f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01E7
        gbc.setState(0x1944, 0x4450, 0x26c0, 0xfeec, 0xfa6d, 0xda2a, 0x1, 0x0);
        gbc.writeMem(0x1944, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x4450, gbc.sp());
        EXPECT(0x1946, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01E8
        gbc.setState(0x527c, 0x793d, 0xe850, 0x57e5, 0x3b62, 0xb543, 0x0, 0x0);
        gbc.writeMem(0x527c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x793d, gbc.sp());
        EXPECT(0x527e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01EB
        gbc.setState(0xc8e9, 0x5e41, 0x2e60, 0xe42b, 0x22fa, 0xf4e0, 0x0, 0x1);
        gbc.writeMem(0xc8e9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5e41, gbc.sp());
        EXPECT(0xc8eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8e9));
        EXPECT(0x54, gbc.readMem(0xc8ea));
        // CB 54 01EC
        gbc.setState(0xe7a5, 0x3169, 0x9d20, 0x38ee, 0x58e7, 0x24cf, 0x1, 0x1);
        gbc.writeMem(0xe7a5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x3169, gbc.sp());
        EXPECT(0xe7a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7a5));
        EXPECT(0x54, gbc.readMem(0xe7a6));
        // CB 54 01ED
        gbc.setState(0x1899, 0x47b7, 0x820, 0xb130, 0xb6bd, 0xec0f, 0x0, 0x1);
        gbc.writeMem(0x1899, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x47b7, gbc.sp());
        EXPECT(0x189b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01EE
        gbc.setState(0x7104, 0x897a, 0x7b10, 0xd831, 0x777f, 0xde5a, 0x1, 0x1);
        gbc.writeMem(0x7104, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x897a, gbc.sp());
        EXPECT(0x7106, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01EF
        gbc.setState(0x320e, 0xf452, 0x4660, 0x4ec4, 0xbb73, 0x89bc, 0x0, 0x1);
        gbc.writeMem(0x320e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xf452, gbc.sp());
        EXPECT(0x3210, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01F0
        gbc.setState(0x1d5f, 0x7ec, 0xcb50, 0x2cc1, 0x6a20, 0x1ca3, 0x0, 0x1);
        gbc.writeMem(0x1d5f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x7ec, gbc.sp());
        EXPECT(0x1d61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01F1
        gbc.setState(0x8d3e, 0x9b72, 0xabb0, 0xfb36, 0xb619, 0x4a4a, 0x1, 0x0);
        gbc.writeMem(0x8d3e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x9b72, gbc.sp());
        EXPECT(0x8d40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d3e));
        EXPECT(0x54, gbc.readMem(0x8d3f));
        // CB 54 01F2
        gbc.setState(0x4285, 0x3e85, 0x5300, 0x485f, 0xdd24, 0x2e90, 0x0, 0x0);
        gbc.writeMem(0x4285, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x3e85, gbc.sp());
        EXPECT(0x4287, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01F3
        gbc.setState(0x478a, 0x4266, 0x4090, 0xe593, 0x79db, 0x352b, 0x0, 0x1);
        gbc.writeMem(0x478a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x4266, gbc.sp());
        EXPECT(0x478c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01F4
        gbc.setState(0xd1d, 0x77c7, 0x6c00, 0xbde, 0x3e, 0xce17, 0x0, 0x0);
        gbc.writeMem(0xd1d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x77c7, gbc.sp());
        EXPECT(0xd1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01F5
        gbc.setState(0x9b36, 0x55aa, 0x6030, 0x94f2, 0x67bb, 0x78d7, 0x0, 0x0);
        gbc.writeMem(0x9b36, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x55aa, gbc.sp());
        EXPECT(0x9b38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b36));
        EXPECT(0x54, gbc.readMem(0x9b37));
        // CB 54 01F6
        gbc.setState(0x8a98, 0x3876, 0x1f0, 0x29a3, 0x49f4, 0x88c2, 0x1, 0x1);
        gbc.writeMem(0x8a98, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x3876, gbc.sp());
        EXPECT(0x8a9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a98));
        EXPECT(0x54, gbc.readMem(0x8a99));
        // CB 54 01F7
        gbc.setState(0x5330, 0x1c90, 0x88b0, 0xfc87, 0x39f3, 0x859b, 0x0, 0x0);
        gbc.writeMem(0x5330, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x1c90, gbc.sp());
        EXPECT(0x5332, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01F8
        gbc.setState(0x6183, 0x626f, 0x9450, 0x34e1, 0x5a7e, 0x8dcc, 0x0, 0x1);
        gbc.writeMem(0x6183, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x626f, gbc.sp());
        EXPECT(0x6185, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01FA
        gbc.setState(0x60c3, 0x11fb, 0xf1c0, 0xd2b, 0x1778, 0x4266, 0x0, 0x1);
        gbc.writeMem(0x60c3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x11fb, gbc.sp());
        EXPECT(0x60c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01FB
        gbc.setState(0xb869, 0xaa6b, 0x4e40, 0x22cf, 0x93a6, 0x7ab3, 0x0, 0x0);
        gbc.writeMem(0xb869, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xaa6b, gbc.sp());
        EXPECT(0xb86b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb869));
        EXPECT(0x54, gbc.readMem(0xb86a));
        // CB 54 01FC
        gbc.setState(0x4a03, 0x254b, 0x5e80, 0xd6ee, 0xa41a, 0x458c, 0x1, 0x0);
        gbc.writeMem(0x4a03, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x254b, gbc.sp());
        EXPECT(0x4a05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 01FD
        gbc.setState(0xd27f, 0x8b9f, 0x63b0, 0xeb40, 0xc1f9, 0xb3f, 0x1, 0x1);
        gbc.writeMem(0xd27f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x8b9f, gbc.sp());
        EXPECT(0xd281, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd27f));
        EXPECT(0x54, gbc.readMem(0xd280));
        // CB 54 01FE
        gbc.setState(0x5bd9, 0x4011, 0x6070, 0x97a7, 0xf319, 0xa9d0, 0x1, 0x0);
        gbc.writeMem(0x5bd9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x4011, gbc.sp());
        EXPECT(0x5bdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 01FF
        gbc.setState(0x8913, 0x794d, 0x3180, 0x5997, 0x5ca8, 0xf768, 0x1, 0x0);
        gbc.writeMem(0x8913, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x794d, gbc.sp());
        EXPECT(0x8915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8913));
        EXPECT(0x54, gbc.readMem(0x8914));
        // CB 54 0200
        gbc.setState(0xd00e, 0xfbd7, 0x8a70, 0xbe5a, 0xa58f, 0x16e1, 0x0, 0x0);
        gbc.writeMem(0xd00e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xfbd7, gbc.sp());
        EXPECT(0xd010, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd00e));
        EXPECT(0x54, gbc.readMem(0xd00f));
        // CB 54 0201
        gbc.setState(0x18e3, 0x8796, 0x8110, 0x2348, 0x60f5, 0x211f, 0x0, 0x0);
        gbc.writeMem(0x18e3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x8796, gbc.sp());
        EXPECT(0x18e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0204
        gbc.setState(0x92a1, 0x8c8f, 0xd930, 0xfae8, 0xf4f0, 0xea7b, 0x1, 0x0);
        gbc.writeMem(0x92a1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x8c8f, gbc.sp());
        EXPECT(0x92a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92a1));
        EXPECT(0x54, gbc.readMem(0x92a2));
        // CB 54 0205
        gbc.setState(0x69e9, 0xaab7, 0xd360, 0x6682, 0x5d68, 0x9caa, 0x1, 0x1);
        gbc.writeMem(0x69e9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xaab7, gbc.sp());
        EXPECT(0x69eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0206
        gbc.setState(0x6777, 0xf05, 0x7c30, 0x7afe, 0x9c77, 0x344, 0x0, 0x1);
        gbc.writeMem(0x6777, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf05, gbc.sp());
        EXPECT(0x6779, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0207
        gbc.setState(0xaf74, 0x7b32, 0x5250, 0x2c6f, 0x48a8, 0xb815, 0x1, 0x1);
        gbc.writeMem(0xaf74, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x7b32, gbc.sp());
        EXPECT(0xaf76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf74));
        EXPECT(0x54, gbc.readMem(0xaf75));
        // CB 54 0208
        gbc.setState(0xadbf, 0x27e7, 0x4460, 0x37c0, 0x4f7c, 0x9180, 0x1, 0x0);
        gbc.writeMem(0xadbf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x27e7, gbc.sp());
        EXPECT(0xadc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadbf));
        EXPECT(0x54, gbc.readMem(0xadc0));
        // CB 54 0209
        gbc.setState(0xb685, 0x835f, 0xcf0, 0x5cc5, 0xc325, 0xf927, 0x1, 0x0);
        gbc.writeMem(0xb685, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x835f, gbc.sp());
        EXPECT(0xb687, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb685));
        EXPECT(0x54, gbc.readMem(0xb686));
        // CB 54 020A
        gbc.setState(0xa70f, 0xdd5a, 0x9d70, 0x69e2, 0x4b91, 0x55ba, 0x0, 0x0);
        gbc.writeMem(0xa70f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xdd5a, gbc.sp());
        EXPECT(0xa711, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa70f));
        EXPECT(0x54, gbc.readMem(0xa710));
        // CB 54 020B
        gbc.setState(0xb133, 0xf49d, 0x7ef0, 0x54cc, 0x698c, 0x28f2, 0x0, 0x1);
        gbc.writeMem(0xb133, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xf49d, gbc.sp());
        EXPECT(0xb135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb133));
        EXPECT(0x54, gbc.readMem(0xb134));
        // CB 54 020C
        gbc.setState(0x2c12, 0x58a1, 0x7940, 0x6b77, 0x7a97, 0xd120, 0x0, 0x1);
        gbc.writeMem(0x2c12, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x58a1, gbc.sp());
        EXPECT(0x2c14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 020E
        gbc.setState(0x9512, 0x46ff, 0x3ab0, 0xab46, 0x71f3, 0xf78f, 0x0, 0x1);
        gbc.writeMem(0x9512, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x46ff, gbc.sp());
        EXPECT(0x9514, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9512));
        EXPECT(0x54, gbc.readMem(0x9513));
        // CB 54 020F
        gbc.setState(0x6a40, 0x3516, 0x8450, 0x3bcf, 0x3297, 0xf501, 0x1, 0x0);
        gbc.writeMem(0x6a40, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x3516, gbc.sp());
        EXPECT(0x6a42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0210
        gbc.setState(0x534f, 0x53c8, 0xba20, 0x8286, 0xe1a1, 0xd3de, 0x0, 0x0);
        gbc.writeMem(0x534f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x53c8, gbc.sp());
        EXPECT(0x5351, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0211
        gbc.setState(0x886, 0xb581, 0x8090, 0x1d41, 0xeea0, 0x4587, 0x0, 0x0);
        gbc.writeMem(0x886, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xb581, gbc.sp());
        EXPECT(0x888, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0212
        gbc.setState(0xe513, 0xbbb1, 0x1890, 0x44ce, 0x33ee, 0xd94e, 0x1, 0x1);
        gbc.writeMem(0xe513, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xbbb1, gbc.sp());
        EXPECT(0xe515, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe513));
        EXPECT(0x54, gbc.readMem(0xe514));
        // CB 54 0213
        gbc.setState(0x8b2f, 0x7389, 0x3740, 0x734b, 0x7076, 0xefbf, 0x1, 0x0);
        gbc.writeMem(0x8b2f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x7389, gbc.sp());
        EXPECT(0x8b31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b2f));
        EXPECT(0x54, gbc.readMem(0x8b30));
        // CB 54 0214
        gbc.setState(0xa1e1, 0x4e27, 0xe4e0, 0xd8ba, 0xb650, 0x182c, 0x1, 0x0);
        gbc.writeMem(0xa1e1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x4e27, gbc.sp());
        EXPECT(0xa1e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1e1));
        EXPECT(0x54, gbc.readMem(0xa1e2));
        // CB 54 0215
        gbc.setState(0x1e3e, 0xf397, 0xc980, 0xe15c, 0xca3e, 0xd262, 0x1, 0x1);
        gbc.writeMem(0x1e3e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xf397, gbc.sp());
        EXPECT(0x1e40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0216
        gbc.setState(0x8bb5, 0xa883, 0xf9b0, 0xfae2, 0x4b3b, 0x2718, 0x1, 0x0);
        gbc.writeMem(0x8bb5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xa883, gbc.sp());
        EXPECT(0x8bb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bb5));
        EXPECT(0x54, gbc.readMem(0x8bb6));
        // CB 54 0217
        gbc.setState(0x261e, 0x19c5, 0x8080, 0xf2f2, 0xed2e, 0xc274, 0x0, 0x1);
        gbc.writeMem(0x261e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x19c5, gbc.sp());
        EXPECT(0x2620, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0218
        gbc.setState(0x3eeb, 0xb2c3, 0x2df0, 0x9d96, 0x4990, 0x20c8, 0x0, 0x0);
        gbc.writeMem(0x3eeb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xb2c3, gbc.sp());
        EXPECT(0x3eed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0219
        gbc.setState(0x1ca3, 0x9a2d, 0x39e0, 0xc580, 0x4022, 0xb57f, 0x1, 0x1);
        gbc.writeMem(0x1ca3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x9a2d, gbc.sp());
        EXPECT(0x1ca5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 021A
        gbc.setState(0xe8b0, 0x278f, 0xf5a0, 0x2ffa, 0xebe8, 0x181a, 0x1, 0x1);
        gbc.writeMem(0xe8b0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x278f, gbc.sp());
        EXPECT(0xe8b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8b0));
        EXPECT(0x54, gbc.readMem(0xe8b1));
        // CB 54 021B
        gbc.setState(0x6306, 0xf34b, 0x8000, 0xab82, 0x19cd, 0x34bd, 0x0, 0x0);
        gbc.writeMem(0x6306, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xf34b, gbc.sp());
        EXPECT(0x6308, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 021D
        gbc.setState(0x643a, 0xb261, 0xac60, 0x100b, 0xec42, 0x9965, 0x0, 0x0);
        gbc.writeMem(0x643a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xb261, gbc.sp());
        EXPECT(0x643c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 021E
        gbc.setState(0x126b, 0x737, 0x9230, 0x8b0a, 0x91bd, 0x65a1, 0x0, 0x1);
        gbc.writeMem(0x126b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x737, gbc.sp());
        EXPECT(0x126d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 021F
        gbc.setState(0x7824, 0x1523, 0x3810, 0xeab0, 0x87ef, 0xd881, 0x0, 0x1);
        gbc.writeMem(0x7824, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x1523, gbc.sp());
        EXPECT(0x7826, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0220
        gbc.setState(0xa9e5, 0x1001, 0x9340, 0xd83a, 0x7f3f, 0x9176, 0x1, 0x0);
        gbc.writeMem(0xa9e5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x1001, gbc.sp());
        EXPECT(0xa9e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9e5));
        EXPECT(0x54, gbc.readMem(0xa9e6));
        // CB 54 0221
        gbc.setState(0x5c6b, 0xf152, 0x1b50, 0x4006, 0xcc9d, 0x7728, 0x1, 0x0);
        gbc.writeMem(0x5c6b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xf152, gbc.sp());
        EXPECT(0x5c6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0222
        gbc.setState(0xdb77, 0x3342, 0xe920, 0x98f3, 0xe452, 0xc7c7, 0x1, 0x1);
        gbc.writeMem(0xdb77, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x3342, gbc.sp());
        EXPECT(0xdb79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb77));
        EXPECT(0x54, gbc.readMem(0xdb78));
        // CB 54 0223
        gbc.setState(0x6b29, 0xd305, 0xf7a0, 0xf6da, 0xa7dc, 0xd4bb, 0x0, 0x0);
        gbc.writeMem(0x6b29, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xd305, gbc.sp());
        EXPECT(0x6b2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0224
        gbc.setState(0x30a7, 0x810e, 0x6710, 0x63a4, 0xdb27, 0x368c, 0x1, 0x1);
        gbc.writeMem(0x30a7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x810e, gbc.sp());
        EXPECT(0x30a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0225
        gbc.setState(0xbc61, 0xb0c0, 0x1660, 0x6791, 0x8bb2, 0xa0bc, 0x0, 0x0);
        gbc.writeMem(0xbc61, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb0c0, gbc.sp());
        EXPECT(0xbc63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc61));
        EXPECT(0x54, gbc.readMem(0xbc62));
        // CB 54 0226
        gbc.setState(0xc41, 0x2d74, 0x8780, 0x2b22, 0x255b, 0x7ac3, 0x0, 0x0);
        gbc.writeMem(0xc41, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x2d74, gbc.sp());
        EXPECT(0xc43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0227
        gbc.setState(0x6d64, 0x4ae3, 0x85a0, 0x5f6f, 0x8ac, 0x3364, 0x1, 0x0);
        gbc.writeMem(0x6d64, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4ae3, gbc.sp());
        EXPECT(0x6d66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0228
        gbc.setState(0x8b1, 0xc90a, 0xd450, 0x83f8, 0x2cee, 0x5db4, 0x0, 0x1);
        gbc.writeMem(0x8b1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xc90a, gbc.sp());
        EXPECT(0x8b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0229
        gbc.setState(0x65d5, 0xd365, 0x8290, 0xfa90, 0xa3d1, 0xff9b, 0x0, 0x1);
        gbc.writeMem(0x65d5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xd365, gbc.sp());
        EXPECT(0x65d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 022A
        gbc.setState(0x2d10, 0xfa12, 0xd3a0, 0xe756, 0xee55, 0x2c6a, 0x0, 0x1);
        gbc.writeMem(0x2d10, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xfa12, gbc.sp());
        EXPECT(0x2d12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 022B
        gbc.setState(0x8d82, 0x590d, 0x6ff0, 0xeeb3, 0x37eb, 0x6f5d, 0x1, 0x1);
        gbc.writeMem(0x8d82, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x590d, gbc.sp());
        EXPECT(0x8d84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d82));
        EXPECT(0x54, gbc.readMem(0x8d83));
        // CB 54 022D
        gbc.setState(0xbb56, 0xfde4, 0x10b0, 0xefb7, 0xef01, 0x5c5d, 0x0, 0x1);
        gbc.writeMem(0xbb56, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xfde4, gbc.sp());
        EXPECT(0xbb58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb56));
        EXPECT(0x54, gbc.readMem(0xbb57));
        // CB 54 022E
        gbc.setState(0xa40, 0xc645, 0xb830, 0x8fc2, 0xbc9e, 0xf4af, 0x0, 0x0);
        gbc.writeMem(0xa40, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xc645, gbc.sp());
        EXPECT(0xa42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 022F
        gbc.setState(0x20d1, 0xf04d, 0x8a90, 0x4e45, 0x3bc6, 0x5817, 0x1, 0x0);
        gbc.writeMem(0x20d1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xf04d, gbc.sp());
        EXPECT(0x20d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0230
        gbc.setState(0x3c13, 0xed16, 0x970, 0x4ec5, 0xb23, 0x3ffe, 0x1, 0x1);
        gbc.writeMem(0x3c13, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xed16, gbc.sp());
        EXPECT(0x3c15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0231
        gbc.setState(0x887c, 0xd7ab, 0x7f90, 0xe174, 0x30f7, 0x8a76, 0x1, 0x1);
        gbc.writeMem(0x887c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xd7ab, gbc.sp());
        EXPECT(0x887e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x887c));
        EXPECT(0x54, gbc.readMem(0x887d));
        // CB 54 0232
        gbc.setState(0x2b44, 0xf7d9, 0x14e0, 0xbd43, 0xc094, 0xc740, 0x0, 0x0);
        gbc.writeMem(0x2b44, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xf7d9, gbc.sp());
        EXPECT(0x2b46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0233
        gbc.setState(0xc16e, 0x7374, 0x890, 0x4e9, 0x28bd, 0x2a2c, 0x1, 0x0);
        gbc.writeMem(0xc16e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7374, gbc.sp());
        EXPECT(0xc170, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc16e));
        EXPECT(0x54, gbc.readMem(0xc16f));
        // CB 54 0234
        gbc.setState(0xa207, 0x18ec, 0x9fd0, 0xd056, 0x5952, 0x851e, 0x1, 0x1);
        gbc.writeMem(0xa207, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x18ec, gbc.sp());
        EXPECT(0xa209, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa207));
        EXPECT(0x54, gbc.readMem(0xa208));
        // CB 54 0235
        gbc.setState(0xb867, 0xc67e, 0x49a0, 0xc14f, 0x5efc, 0x7222, 0x1, 0x0);
        gbc.writeMem(0xb867, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xc67e, gbc.sp());
        EXPECT(0xb869, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb867));
        EXPECT(0x54, gbc.readMem(0xb868));
        // CB 54 0236
        gbc.setState(0xcff1, 0x3e36, 0xa8c0, 0x2083, 0x627c, 0x8e15, 0x1, 0x1);
        gbc.writeMem(0xcff1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3e36, gbc.sp());
        EXPECT(0xcff3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcff1));
        EXPECT(0x54, gbc.readMem(0xcff2));
        // CB 54 0238
        gbc.setState(0x8441, 0x3940, 0x4710, 0xbbeb, 0x8a5d, 0x58e1, 0x0, 0x1);
        gbc.writeMem(0x8441, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x3940, gbc.sp());
        EXPECT(0x8443, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8441));
        EXPECT(0x54, gbc.readMem(0x8442));
        // CB 54 0239
        gbc.setState(0xb6df, 0x29a4, 0x34f0, 0x48bc, 0xb059, 0x2a98, 0x0, 0x1);
        gbc.writeMem(0xb6df, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x29a4, gbc.sp());
        EXPECT(0xb6e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6df));
        EXPECT(0x54, gbc.readMem(0xb6e0));
        // CB 54 023A
        gbc.setState(0x822c, 0xed29, 0xd790, 0x908a, 0x5324, 0x38de, 0x0, 0x1);
        gbc.writeMem(0x822c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xed29, gbc.sp());
        EXPECT(0x822e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x822c));
        EXPECT(0x54, gbc.readMem(0x822d));
        // CB 54 023B
        gbc.setState(0x2fb, 0x7bcf, 0x9a30, 0x6311, 0x502b, 0x8e21, 0x1, 0x0);
        gbc.writeMem(0x2fb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x7bcf, gbc.sp());
        EXPECT(0x2fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 023C
        gbc.setState(0xca15, 0x767a, 0x9140, 0x704b, 0x7920, 0x4310, 0x0, 0x0);
        gbc.writeMem(0xca15, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x767a, gbc.sp());
        EXPECT(0xca17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca15));
        EXPECT(0x54, gbc.readMem(0xca16));
        // CB 54 023D
        gbc.setState(0x34e4, 0x2eee, 0xfd0, 0xdaf8, 0x2bc5, 0xd02b, 0x1, 0x0);
        gbc.writeMem(0x34e4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2eee, gbc.sp());
        EXPECT(0x34e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 023E
        gbc.setState(0x76e9, 0x92e6, 0x5660, 0x1469, 0x7559, 0x1e2b, 0x0, 0x0);
        gbc.writeMem(0x76e9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x92e6, gbc.sp());
        EXPECT(0x76eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 023F
        gbc.setState(0x218f, 0x85af, 0xa450, 0xb0ab, 0xa294, 0xd1e7, 0x0, 0x1);
        gbc.writeMem(0x218f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x85af, gbc.sp());
        EXPECT(0x2191, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0240
        gbc.setState(0xa600, 0x13ea, 0xaed0, 0x2b5d, 0xa8d8, 0xe291, 0x1, 0x0);
        gbc.writeMem(0xa600, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x13ea, gbc.sp());
        EXPECT(0xa602, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa600));
        EXPECT(0x54, gbc.readMem(0xa601));
        // CB 54 0241
        gbc.setState(0xd5, 0x277f, 0x8850, 0x7cd, 0x5f0a, 0x8b5a, 0x0, 0x0);
        gbc.writeMem(0xd5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x277f, gbc.sp());
        EXPECT(0xd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0243
        gbc.setState(0x85fa, 0x87f7, 0xb450, 0xac94, 0x9f1c, 0x6394, 0x1, 0x0);
        gbc.writeMem(0x85fa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x87f7, gbc.sp());
        EXPECT(0x85fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85fa));
        EXPECT(0x54, gbc.readMem(0x85fb));
        // CB 54 0244
        gbc.setState(0x9960, 0x5423, 0x2f90, 0x624c, 0xa1d8, 0xd972, 0x0, 0x0);
        gbc.writeMem(0x9960, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x5423, gbc.sp());
        EXPECT(0x9962, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9960));
        EXPECT(0x54, gbc.readMem(0x9961));
        // CB 54 0245
        gbc.setState(0x62d1, 0xc1f0, 0x9580, 0xef7f, 0xe951, 0x192, 0x1, 0x0);
        gbc.writeMem(0x62d1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xc1f0, gbc.sp());
        EXPECT(0x62d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0246
        gbc.setState(0xead4, 0xdd4a, 0xd3c0, 0x9a7e, 0xf80e, 0x493, 0x0, 0x0);
        gbc.writeMem(0xead4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xdd4a, gbc.sp());
        EXPECT(0xead6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xead4));
        EXPECT(0x54, gbc.readMem(0xead5));
        // CB 54 0247
        gbc.setState(0x3281, 0x9a29, 0xa3c0, 0xb870, 0xc53f, 0x8a6, 0x0, 0x1);
        gbc.writeMem(0x3281, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x9a29, gbc.sp());
        EXPECT(0x3283, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0248
        gbc.setState(0x270, 0xf8f5, 0x4040, 0xce8d, 0xa451, 0xbb4b, 0x0, 0x0);
        gbc.writeMem(0x270, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xf8f5, gbc.sp());
        EXPECT(0x272, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0249
        gbc.setState(0xf72, 0x9a4, 0x7bd0, 0xa37e, 0x2e9c, 0x37a1, 0x0, 0x1);
        gbc.writeMem(0xf72, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9a4, gbc.sp());
        EXPECT(0xf74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 024A
        gbc.setState(0x7372, 0x4b2a, 0x52d0, 0x5d62, 0x128f, 0x9033, 0x0, 0x1);
        gbc.writeMem(0x7372, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x4b2a, gbc.sp());
        EXPECT(0x7374, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 024B
        gbc.setState(0x89b0, 0xfc5c, 0xdc30, 0x1b5d, 0x58d6, 0x79cf, 0x0, 0x1);
        gbc.writeMem(0x89b0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xfc5c, gbc.sp());
        EXPECT(0x89b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89b0));
        EXPECT(0x54, gbc.readMem(0x89b1));
        // CB 54 024C
        gbc.setState(0x5c1c, 0xad3c, 0xb120, 0xf53e, 0x500d, 0x9bfe, 0x0, 0x0);
        gbc.writeMem(0x5c1c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xad3c, gbc.sp());
        EXPECT(0x5c1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 024D
        gbc.setState(0x3f2c, 0x21e1, 0xeae0, 0xa59c, 0xca84, 0x4954, 0x0, 0x1);
        gbc.writeMem(0x3f2c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x21e1, gbc.sp());
        EXPECT(0x3f2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 024E
        gbc.setState(0x5dd, 0x6af0, 0x4960, 0x6a05, 0x26fc, 0xb6fe, 0x1, 0x1);
        gbc.writeMem(0x5dd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x6af0, gbc.sp());
        EXPECT(0x5df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 024F
        gbc.setState(0x6907, 0xc246, 0x4450, 0xccc6, 0xb9f6, 0x591c, 0x1, 0x0);
        gbc.writeMem(0x6907, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xc246, gbc.sp());
        EXPECT(0x6909, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0250
        gbc.setState(0x51cf, 0xd54e, 0xed80, 0xba78, 0x6687, 0xf700, 0x0, 0x1);
        gbc.writeMem(0x51cf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xd54e, gbc.sp());
        EXPECT(0x51d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0251
        gbc.setState(0x165, 0x11da, 0x8e90, 0xe107, 0x5030, 0x89ca, 0x0, 0x0);
        gbc.writeMem(0x165, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x11da, gbc.sp());
        EXPECT(0x167, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0252
        gbc.setState(0xd9a3, 0x117a, 0xda70, 0x9adb, 0xf9b8, 0x5acb, 0x0, 0x1);
        gbc.writeMem(0xd9a3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x117a, gbc.sp());
        EXPECT(0xd9a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9a3));
        EXPECT(0x54, gbc.readMem(0xd9a4));
        // CB 54 0253
        gbc.setState(0xe44c, 0x858c, 0x9b0, 0xadf1, 0xe83, 0x350d, 0x1, 0x1);
        gbc.writeMem(0xe44c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x858c, gbc.sp());
        EXPECT(0xe44e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe44c));
        EXPECT(0x54, gbc.readMem(0xe44d));
        // CB 54 0254
        gbc.setState(0x2fdd, 0x615d, 0x8960, 0xe58a, 0xbc16, 0x3749, 0x0, 0x0);
        gbc.writeMem(0x2fdd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x615d, gbc.sp());
        EXPECT(0x2fdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0255
        gbc.setState(0x7d16, 0x815e, 0x48f0, 0x1adb, 0xf867, 0xc5b9, 0x0, 0x0);
        gbc.writeMem(0x7d16, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x815e, gbc.sp());
        EXPECT(0x7d18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0256
        gbc.setState(0x191c, 0xcbda, 0xc5f0, 0x3a, 0x8ed0, 0x70bd, 0x0, 0x0);
        gbc.writeMem(0x191c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xcbda, gbc.sp());
        EXPECT(0x191e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0257
        gbc.setState(0x3edd, 0x6ad6, 0xb0a0, 0xec9c, 0x86ef, 0x8f44, 0x0, 0x0);
        gbc.writeMem(0x3edd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6ad6, gbc.sp());
        EXPECT(0x3edf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0258
        gbc.setState(0x4df6, 0x1fef, 0x85d0, 0xb5b0, 0x7e27, 0x725, 0x0, 0x1);
        gbc.writeMem(0x4df6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x1fef, gbc.sp());
        EXPECT(0x4df8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0259
        gbc.setState(0xb309, 0x38ff, 0xf2c0, 0x345f, 0x55f9, 0x7de3, 0x0, 0x1);
        gbc.writeMem(0xb309, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x38ff, gbc.sp());
        EXPECT(0xb30b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb309));
        EXPECT(0x54, gbc.readMem(0xb30a));
        // CB 54 025A
        gbc.setState(0x2a70, 0xe1f2, 0x2270, 0xa17, 0x1a6f, 0x683, 0x1, 0x1);
        gbc.writeMem(0x2a70, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xe1f2, gbc.sp());
        EXPECT(0x2a72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 025B
        gbc.setState(0xbec3, 0xc17e, 0x3480, 0xa62a, 0x3a92, 0x733a, 0x0, 0x1);
        gbc.writeMem(0xbec3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xc17e, gbc.sp());
        EXPECT(0xbec5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbec3));
        EXPECT(0x54, gbc.readMem(0xbec4));
        // CB 54 025C
        gbc.setState(0xd9f1, 0xc82c, 0xc4d0, 0x73b3, 0x48ef, 0xab38, 0x0, 0x1);
        gbc.writeMem(0xd9f1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xc82c, gbc.sp());
        EXPECT(0xd9f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9f1));
        EXPECT(0x54, gbc.readMem(0xd9f2));
        // CB 54 025D
        gbc.setState(0xe3ed, 0xdbad, 0x730, 0x910a, 0x107c, 0xdc4f, 0x1, 0x0);
        gbc.writeMem(0xe3ed, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xdbad, gbc.sp());
        EXPECT(0xe3ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3ed));
        EXPECT(0x54, gbc.readMem(0xe3ee));
        // CB 54 025E
        gbc.setState(0xc93, 0xfd86, 0xaf50, 0x79f1, 0xbee1, 0x4b84, 0x1, 0x1);
        gbc.writeMem(0xc93, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xfd86, gbc.sp());
        EXPECT(0xc95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 025F
        gbc.setState(0x8e35, 0xeefe, 0x6fc0, 0x89e1, 0xd33b, 0x1969, 0x1, 0x1);
        gbc.writeMem(0x8e35, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xeefe, gbc.sp());
        EXPECT(0x8e37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e35));
        EXPECT(0x54, gbc.readMem(0x8e36));
        // CB 54 0260
        gbc.setState(0xbb2c, 0x77ef, 0xb570, 0xc2a8, 0x23ae, 0x9e62, 0x0, 0x0);
        gbc.writeMem(0xbb2c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x77ef, gbc.sp());
        EXPECT(0xbb2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb2c));
        EXPECT(0x54, gbc.readMem(0xbb2d));
        // CB 54 0262
        gbc.setState(0x31f3, 0xb968, 0x71e0, 0x6877, 0xbd1e, 0x6abd, 0x1, 0x1);
        gbc.writeMem(0x31f3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xb968, gbc.sp());
        EXPECT(0x31f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0263
        gbc.setState(0xf16, 0xa699, 0xd7a0, 0x77a2, 0x18f, 0xc827, 0x1, 0x0);
        gbc.writeMem(0xf16, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xa699, gbc.sp());
        EXPECT(0xf18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0264
        gbc.setState(0x869f, 0x2df7, 0x5280, 0xbca4, 0x76bd, 0xa028, 0x1, 0x1);
        gbc.writeMem(0x869f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x2df7, gbc.sp());
        EXPECT(0x86a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x869f));
        EXPECT(0x54, gbc.readMem(0x86a0));
        // CB 54 0265
        gbc.setState(0x5a6d, 0x86e4, 0x8bc0, 0x7a5a, 0x63b2, 0xac95, 0x1, 0x1);
        gbc.writeMem(0x5a6d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x86e4, gbc.sp());
        EXPECT(0x5a6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0266
        gbc.setState(0x4bb8, 0x9e00, 0x13e0, 0xddc6, 0xb918, 0x1606, 0x1, 0x1);
        gbc.writeMem(0x4bb8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x9e00, gbc.sp());
        EXPECT(0x4bba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0267
        gbc.setState(0xcdf8, 0x9784, 0x1d00, 0x7143, 0x2e0b, 0xa9fe, 0x0, 0x0);
        gbc.writeMem(0xcdf8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9784, gbc.sp());
        EXPECT(0xcdfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdf8));
        EXPECT(0x54, gbc.readMem(0xcdf9));
        // CB 54 0268
        gbc.setState(0x1ae, 0x110b, 0xb70, 0xd1bc, 0x9d95, 0x5d, 0x0, 0x0);
        gbc.writeMem(0x1ae, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x110b, gbc.sp());
        EXPECT(0x1b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0269
        gbc.setState(0x3871, 0x87a3, 0xbcd0, 0x8ee8, 0x71c8, 0x1c19, 0x1, 0x0);
        gbc.writeMem(0x3871, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x87a3, gbc.sp());
        EXPECT(0x3873, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 026A
        gbc.setState(0x2d53, 0x6e91, 0xd870, 0xaa5c, 0xb572, 0x64be, 0x0, 0x1);
        gbc.writeMem(0x2d53, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x6e91, gbc.sp());
        EXPECT(0x2d55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 026C
        gbc.setState(0x56c6, 0x68d8, 0x2610, 0xf0d2, 0x38b4, 0x52b1, 0x0, 0x0);
        gbc.writeMem(0x56c6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x68d8, gbc.sp());
        EXPECT(0x56c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 026D
        gbc.setState(0xa6b7, 0xa22b, 0x6440, 0x76bd, 0x48e9, 0xdc48, 0x1, 0x0);
        gbc.writeMem(0xa6b7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xa22b, gbc.sp());
        EXPECT(0xa6b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6b7));
        EXPECT(0x54, gbc.readMem(0xa6b8));
        // CB 54 026E
        gbc.setState(0xaf03, 0x6d49, 0x4b60, 0x208d, 0xa4f4, 0x9407, 0x0, 0x1);
        gbc.writeMem(0xaf03, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x6d49, gbc.sp());
        EXPECT(0xaf05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf03));
        EXPECT(0x54, gbc.readMem(0xaf04));
        // CB 54 026F
        gbc.setState(0x821b, 0xd0a9, 0x5ff0, 0x1d6e, 0x9fd, 0x149c, 0x0, 0x1);
        gbc.writeMem(0x821b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd0a9, gbc.sp());
        EXPECT(0x821d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x821b));
        EXPECT(0x54, gbc.readMem(0x821c));
        // CB 54 0270
        gbc.setState(0xaaab, 0x3d2e, 0xa470, 0x11b5, 0x10c, 0x9ade, 0x1, 0x0);
        gbc.writeMem(0xaaab, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x3d2e, gbc.sp());
        EXPECT(0xaaad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaab));
        EXPECT(0x54, gbc.readMem(0xaaac));
        // CB 54 0271
        gbc.setState(0x275f, 0xae74, 0xa7d0, 0x9811, 0xbd77, 0xc5ec, 0x1, 0x1);
        gbc.writeMem(0x275f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xae74, gbc.sp());
        EXPECT(0x2761, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0272
        gbc.setState(0xdb15, 0xad82, 0xfa0, 0x3e3d, 0x8e72, 0x3e3f, 0x0, 0x1);
        gbc.writeMem(0xdb15, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xad82, gbc.sp());
        EXPECT(0xdb17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb15));
        EXPECT(0x54, gbc.readMem(0xdb16));
        // CB 54 0273
        gbc.setState(0x72d3, 0x7380, 0x3480, 0x491a, 0xb9d1, 0x2d8d, 0x1, 0x1);
        gbc.writeMem(0x72d3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x7380, gbc.sp());
        EXPECT(0x72d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0274
        gbc.setState(0x291a, 0xc3e3, 0x6180, 0x3694, 0x39f3, 0xded2, 0x1, 0x1);
        gbc.writeMem(0x291a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xc3e3, gbc.sp());
        EXPECT(0x291c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0275
        gbc.setState(0x883b, 0x8123, 0x21e0, 0x378e, 0x27ea, 0xfa06, 0x0, 0x1);
        gbc.writeMem(0x883b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x8123, gbc.sp());
        EXPECT(0x883d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x883b));
        EXPECT(0x54, gbc.readMem(0x883c));
        // CB 54 0276
        gbc.setState(0x209a, 0xbf9c, 0x36c0, 0xde04, 0xc9c, 0xc10c, 0x0, 0x1);
        gbc.writeMem(0x209a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xbf9c, gbc.sp());
        EXPECT(0x209c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0277
        gbc.setState(0x1cd0, 0xab38, 0x3930, 0xe6aa, 0x56fe, 0xdd8f, 0x0, 0x0);
        gbc.writeMem(0x1cd0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xab38, gbc.sp());
        EXPECT(0x1cd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0278
        gbc.setState(0x1260, 0xa57, 0x4dd0, 0x7955, 0xd70f, 0x534b, 0x0, 0x0);
        gbc.writeMem(0x1260, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xa57, gbc.sp());
        EXPECT(0x1262, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 027A
        gbc.setState(0x678f, 0xf530, 0x4bf0, 0x8a98, 0x6440, 0x6770, 0x1, 0x0);
        gbc.writeMem(0x678f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xf530, gbc.sp());
        EXPECT(0x6791, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 027B
        gbc.setState(0x20f9, 0xecdc, 0x4f10, 0x63d4, 0x97cd, 0x2f78, 0x1, 0x0);
        gbc.writeMem(0x20f9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xecdc, gbc.sp());
        EXPECT(0x20fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 027D
        gbc.setState(0x5938, 0x2b0e, 0xc230, 0xd2c1, 0x9122, 0xa200, 0x0, 0x1);
        gbc.writeMem(0x5938, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x2b0e, gbc.sp());
        EXPECT(0x593a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 027E
        gbc.setState(0xb824, 0xcc61, 0xd4e0, 0x500f, 0x751b, 0x5c0e, 0x0, 0x1);
        gbc.writeMem(0xb824, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xcc61, gbc.sp());
        EXPECT(0xb826, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb824));
        EXPECT(0x54, gbc.readMem(0xb825));
        // CB 54 027F
        gbc.setState(0xee30, 0xf32b, 0x21b0, 0x78e2, 0x4d0e, 0x3244, 0x0, 0x1);
        gbc.writeMem(0xee30, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf32b, gbc.sp());
        EXPECT(0xee32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee30));
        EXPECT(0x54, gbc.readMem(0xee31));
        // CB 54 0280
        gbc.setState(0x7774, 0x241f, 0x7bd0, 0xeee3, 0x9559, 0x36d, 0x0, 0x0);
        gbc.writeMem(0x7774, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x241f, gbc.sp());
        EXPECT(0x7776, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0281
        gbc.setState(0x14e8, 0x5779, 0x1930, 0xdbd4, 0xb818, 0xa08a, 0x0, 0x1);
        gbc.writeMem(0x14e8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x5779, gbc.sp());
        EXPECT(0x14ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0282
        gbc.setState(0x9666, 0x3cda, 0x4410, 0x7148, 0x1a0a, 0x6542, 0x1, 0x1);
        gbc.writeMem(0x9666, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x3cda, gbc.sp());
        EXPECT(0x9668, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9666));
        EXPECT(0x54, gbc.readMem(0x9667));
        // CB 54 0283
        gbc.setState(0x5a1c, 0xdd91, 0x9660, 0xd72d, 0xebb4, 0x5ae1, 0x1, 0x0);
        gbc.writeMem(0x5a1c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xdd91, gbc.sp());
        EXPECT(0x5a1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0284
        gbc.setState(0x77d, 0xde00, 0xc0f0, 0x788e, 0xf99e, 0x2445, 0x1, 0x0);
        gbc.writeMem(0x77d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xde00, gbc.sp());
        EXPECT(0x77f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0285
        gbc.setState(0xb51b, 0x79ab, 0x8bd0, 0xdfd2, 0xc692, 0x93d7, 0x1, 0x1);
        gbc.writeMem(0xb51b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x79ab, gbc.sp());
        EXPECT(0xb51d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb51b));
        EXPECT(0x54, gbc.readMem(0xb51c));
        // CB 54 0286
        gbc.setState(0x4b4f, 0x3db5, 0x9930, 0xc83f, 0xa5f2, 0x7324, 0x0, 0x1);
        gbc.writeMem(0x4b4f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x3db5, gbc.sp());
        EXPECT(0x4b51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0288
        gbc.setState(0x4c1c, 0x2256, 0x7fc0, 0x6fcf, 0x80b4, 0x4a89, 0x1, 0x1);
        gbc.writeMem(0x4c1c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x2256, gbc.sp());
        EXPECT(0x4c1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0289
        gbc.setState(0x58c1, 0xfce8, 0xe210, 0xf933, 0xf133, 0xef6, 0x0, 0x0);
        gbc.writeMem(0x58c1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xfce8, gbc.sp());
        EXPECT(0x58c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 028A
        gbc.setState(0xa4f4, 0x4e6, 0x480, 0xbe62, 0xaa6f, 0xaaa, 0x1, 0x1);
        gbc.writeMem(0xa4f4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x4e6, gbc.sp());
        EXPECT(0xa4f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4f4));
        EXPECT(0x54, gbc.readMem(0xa4f5));
        // CB 54 028B
        gbc.setState(0xd815, 0x64a9, 0xa8c0, 0x832, 0xda14, 0xe0f6, 0x0, 0x1);
        gbc.writeMem(0xd815, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x64a9, gbc.sp());
        EXPECT(0xd817, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd815));
        EXPECT(0x54, gbc.readMem(0xd816));
        // CB 54 028C
        gbc.setState(0x5597, 0x6a24, 0x49e0, 0xfbaf, 0xe180, 0x7d2b, 0x1, 0x1);
        gbc.writeMem(0x5597, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x6a24, gbc.sp());
        EXPECT(0x5599, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 028D
        gbc.setState(0x8e41, 0x4dbe, 0xfe60, 0xbf2d, 0xf00c, 0x5c9e, 0x0, 0x0);
        gbc.writeMem(0x8e41, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x4dbe, gbc.sp());
        EXPECT(0x8e43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e41));
        EXPECT(0x54, gbc.readMem(0x8e42));
        // CB 54 028E
        gbc.setState(0xd220, 0x7689, 0x9930, 0x9c48, 0xb412, 0x669d, 0x0, 0x0);
        gbc.writeMem(0xd220, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x7689, gbc.sp());
        EXPECT(0xd222, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd220));
        EXPECT(0x54, gbc.readMem(0xd221));
        // CB 54 028F
        gbc.setState(0xa9cd, 0xc016, 0x44c0, 0xd2d2, 0xe30a, 0x449c, 0x1, 0x1);
        gbc.writeMem(0xa9cd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xc016, gbc.sp());
        EXPECT(0xa9cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9cd));
        EXPECT(0x54, gbc.readMem(0xa9ce));
        // CB 54 0290
        gbc.setState(0xc98b, 0x7d00, 0xb2f0, 0x6a32, 0x7d0b, 0x7099, 0x1, 0x1);
        gbc.writeMem(0xc98b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x7d00, gbc.sp());
        EXPECT(0xc98d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc98b));
        EXPECT(0x54, gbc.readMem(0xc98c));
        // CB 54 0292
        gbc.setState(0x2e3d, 0xc3fd, 0xdcc0, 0x5c6d, 0x37b2, 0x42ef, 0x0, 0x0);
        gbc.writeMem(0x2e3d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xc3fd, gbc.sp());
        EXPECT(0x2e3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0294
        gbc.setState(0x2596, 0xa7e0, 0xada0, 0xe650, 0x9eb, 0xb3f3, 0x1, 0x1);
        gbc.writeMem(0x2596, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xa7e0, gbc.sp());
        EXPECT(0x2598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0295
        gbc.setState(0x3444, 0xc60e, 0x2040, 0x95c9, 0x1d0b, 0x3a58, 0x0, 0x1);
        gbc.writeMem(0x3444, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc60e, gbc.sp());
        EXPECT(0x3446, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0296
        gbc.setState(0x163a, 0x9932, 0x2fa0, 0xa5f2, 0xf6c5, 0x5e0b, 0x1, 0x1);
        gbc.writeMem(0x163a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x9932, gbc.sp());
        EXPECT(0x163c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0297
        gbc.setState(0xd1ce, 0x4c16, 0xfe00, 0xb62b, 0x62ca, 0xf4a1, 0x0, 0x1);
        gbc.writeMem(0xd1ce, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x4c16, gbc.sp());
        EXPECT(0xd1d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1ce));
        EXPECT(0x54, gbc.readMem(0xd1cf));
        // CB 54 0298
        gbc.setState(0x9a, 0xc56a, 0x4a30, 0x801e, 0xbb71, 0x37ca, 0x0, 0x1);
        gbc.writeMem(0x9a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xc56a, gbc.sp());
        EXPECT(0x9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0299
        gbc.setState(0x7337, 0x88ab, 0xdeb0, 0x5df, 0xf403, 0xc175, 0x1, 0x1);
        gbc.writeMem(0x7337, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x88ab, gbc.sp());
        EXPECT(0x7339, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 029A
        gbc.setState(0x93c, 0xc536, 0x4880, 0x8d10, 0x4c1d, 0xbf1c, 0x1, 0x1);
        gbc.writeMem(0x93c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xc536, gbc.sp());
        EXPECT(0x93e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 029B
        gbc.setState(0x26a4, 0x6db, 0x58d0, 0x1613, 0x6e02, 0x7374, 0x1, 0x0);
        gbc.writeMem(0x26a4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x6db, gbc.sp());
        EXPECT(0x26a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 029C
        gbc.setState(0xe325, 0x2d9, 0xbf00, 0x8389, 0x61b4, 0xbe4f, 0x1, 0x1);
        gbc.writeMem(0xe325, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x2d9, gbc.sp());
        EXPECT(0xe327, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe325));
        EXPECT(0x54, gbc.readMem(0xe326));
        // CB 54 029D
        gbc.setState(0x61b2, 0x2706, 0xaf90, 0xac1c, 0x782, 0xf8e6, 0x0, 0x0);
        gbc.writeMem(0x61b2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x2706, gbc.sp());
        EXPECT(0x61b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 029E
        gbc.setState(0xe5c5, 0x99cd, 0x5050, 0x8f2, 0x1118, 0x43e3, 0x0, 0x0);
        gbc.writeMem(0xe5c5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x99cd, gbc.sp());
        EXPECT(0xe5c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5c5));
        EXPECT(0x54, gbc.readMem(0xe5c6));
        // CB 54 029F
        gbc.setState(0xae4c, 0x998b, 0x8ff0, 0xa63b, 0x187c, 0x130e, 0x1, 0x0);
        gbc.writeMem(0xae4c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x998b, gbc.sp());
        EXPECT(0xae4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae4c));
        EXPECT(0x54, gbc.readMem(0xae4d));
        // CB 54 02A0
        gbc.setState(0x67e5, 0x66e5, 0xc070, 0xadf0, 0xf525, 0x6a44, 0x1, 0x0);
        gbc.writeMem(0x67e5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x66e5, gbc.sp());
        EXPECT(0x67e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02A1
        gbc.setState(0x9859, 0x60f7, 0x9800, 0xa1b0, 0x949b, 0x83f8, 0x0, 0x1);
        gbc.writeMem(0x9859, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x60f7, gbc.sp());
        EXPECT(0x985b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9859));
        EXPECT(0x54, gbc.readMem(0x985a));
        // CB 54 02A2
        gbc.setState(0x418, 0xc0ce, 0x8c60, 0xb692, 0xa927, 0x9de8, 0x1, 0x0);
        gbc.writeMem(0x418, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xc0ce, gbc.sp());
        EXPECT(0x41a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02A3
        gbc.setState(0x6a30, 0x937c, 0x6a80, 0xc4f, 0xfc11, 0xdf0c, 0x1, 0x1);
        gbc.writeMem(0x6a30, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x937c, gbc.sp());
        EXPECT(0x6a32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02A4
        gbc.setState(0x8278, 0x5185, 0xaa50, 0xcf4a, 0x238d, 0x1036, 0x1, 0x1);
        gbc.writeMem(0x8278, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x5185, gbc.sp());
        EXPECT(0x827a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8278));
        EXPECT(0x54, gbc.readMem(0x8279));
        // CB 54 02A5
        gbc.setState(0x78e, 0xbdea, 0x8770, 0xca27, 0xbcad, 0x4ed2, 0x0, 0x0);
        gbc.writeMem(0x78e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xbdea, gbc.sp());
        EXPECT(0x790, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02A6
        gbc.setState(0x65e7, 0x9bd1, 0xea00, 0x6b28, 0xc2de, 0xb982, 0x1, 0x1);
        gbc.writeMem(0x65e7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9bd1, gbc.sp());
        EXPECT(0x65e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02A7
        gbc.setState(0x8e25, 0xab77, 0x76e0, 0xb82a, 0xcb6e, 0xe889, 0x1, 0x0);
        gbc.writeMem(0x8e25, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xab77, gbc.sp());
        EXPECT(0x8e27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e25));
        EXPECT(0x54, gbc.readMem(0x8e26));
        // CB 54 02A8
        gbc.setState(0x34b4, 0xbf25, 0x4cd0, 0x720a, 0x7392, 0xadce, 0x1, 0x0);
        gbc.writeMem(0x34b4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xbf25, gbc.sp());
        EXPECT(0x34b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02A9
        gbc.setState(0xa738, 0x4b5a, 0x9870, 0x4b27, 0x946e, 0x4393, 0x1, 0x0);
        gbc.writeMem(0xa738, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x4b5a, gbc.sp());
        EXPECT(0xa73a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa738));
        EXPECT(0x54, gbc.readMem(0xa739));
        // CB 54 02AA
        gbc.setState(0x9b9a, 0x89a4, 0x9100, 0xc445, 0x66fd, 0x20ca, 0x1, 0x0);
        gbc.writeMem(0x9b9a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x89a4, gbc.sp());
        EXPECT(0x9b9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b9a));
        EXPECT(0x54, gbc.readMem(0x9b9b));
        // CB 54 02AB
        gbc.setState(0xce73, 0x132d, 0x2b10, 0xd5e7, 0xa890, 0x19df, 0x1, 0x1);
        gbc.writeMem(0xce73, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x132d, gbc.sp());
        EXPECT(0xce75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce73));
        EXPECT(0x54, gbc.readMem(0xce74));
        // CB 54 02AC
        gbc.setState(0x7188, 0x3ece, 0xcc70, 0x27a, 0xbcb5, 0xa22e, 0x0, 0x1);
        gbc.writeMem(0x7188, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3ece, gbc.sp());
        EXPECT(0x718a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02AD
        gbc.setState(0x70c6, 0xc5db, 0xde0, 0xa336, 0xe44e, 0x6c1, 0x1, 0x0);
        gbc.writeMem(0x70c6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xc5db, gbc.sp());
        EXPECT(0x70c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02AE
        gbc.setState(0x6f87, 0x17a9, 0xbff0, 0x2bee, 0x4977, 0xfbe8, 0x0, 0x0);
        gbc.writeMem(0x6f87, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x17a9, gbc.sp());
        EXPECT(0x6f89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02AF
        gbc.setState(0xcac9, 0x21c4, 0xca20, 0x7ee8, 0xb295, 0x21c0, 0x1, 0x0);
        gbc.writeMem(0xcac9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x21c4, gbc.sp());
        EXPECT(0xcacb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcac9));
        EXPECT(0x54, gbc.readMem(0xcaca));
        // CB 54 02B0
        gbc.setState(0x6235, 0xe0ea, 0x3800, 0x1698, 0xc8c3, 0xdd46, 0x0, 0x1);
        gbc.writeMem(0x6235, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xe0ea, gbc.sp());
        EXPECT(0x6237, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02B1
        gbc.setState(0xaf1b, 0x8466, 0x6b10, 0xde8b, 0xd9f9, 0x36ea, 0x1, 0x1);
        gbc.writeMem(0xaf1b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x8466, gbc.sp());
        EXPECT(0xaf1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf1b));
        EXPECT(0x54, gbc.readMem(0xaf1c));
        // CB 54 02B2
        gbc.setState(0xe6d3, 0xeae1, 0xa550, 0x65ba, 0x1e95, 0x259b, 0x1, 0x0);
        gbc.writeMem(0xe6d3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xeae1, gbc.sp());
        EXPECT(0xe6d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6d3));
        EXPECT(0x54, gbc.readMem(0xe6d4));
        // CB 54 02B3
        gbc.setState(0xd576, 0xbc0c, 0x3780, 0xe607, 0x5441, 0x4004, 0x0, 0x1);
        gbc.writeMem(0xd576, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xbc0c, gbc.sp());
        EXPECT(0xd578, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd576));
        EXPECT(0x54, gbc.readMem(0xd577));
        // CB 54 02B4
        gbc.setState(0x92c1, 0x90f3, 0xa340, 0x6b4f, 0xfba5, 0xdb45, 0x0, 0x1);
        gbc.writeMem(0x92c1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x90f3, gbc.sp());
        EXPECT(0x92c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92c1));
        EXPECT(0x54, gbc.readMem(0x92c2));
        // CB 54 02B5
        gbc.setState(0x1678, 0xb24b, 0x4680, 0xbfc7, 0x352a, 0x3898, 0x1, 0x0);
        gbc.writeMem(0x1678, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb24b, gbc.sp());
        EXPECT(0x167a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02B6
        gbc.setState(0x8d4a, 0xc130, 0x11f0, 0xab27, 0x2e6d, 0xe306, 0x1, 0x1);
        gbc.writeMem(0x8d4a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xc130, gbc.sp());
        EXPECT(0x8d4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d4a));
        EXPECT(0x54, gbc.readMem(0x8d4b));
        // CB 54 02B7
        gbc.setState(0xc4dd, 0x96b6, 0xf700, 0xa818, 0x248e, 0x57ee, 0x1, 0x1);
        gbc.writeMem(0xc4dd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x96b6, gbc.sp());
        EXPECT(0xc4df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4dd));
        EXPECT(0x54, gbc.readMem(0xc4de));
        // CB 54 02B9
        gbc.setState(0x998, 0x790b, 0x7b10, 0xb098, 0xdb8c, 0xd1f1, 0x1, 0x0);
        gbc.writeMem(0x998, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x790b, gbc.sp());
        EXPECT(0x99a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02BA
        gbc.setState(0x2126, 0x49a0, 0x1a20, 0xd8b9, 0x8fc, 0xeb23, 0x1, 0x1);
        gbc.writeMem(0x2126, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x49a0, gbc.sp());
        EXPECT(0x2128, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02BB
        gbc.setState(0x6bd0, 0xa174, 0x3a50, 0x4f5e, 0x87bc, 0x2054, 0x1, 0x0);
        gbc.writeMem(0x6bd0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xa174, gbc.sp());
        EXPECT(0x6bd2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02BC
        gbc.setState(0x3d30, 0x2eb2, 0xbcd0, 0x3c2c, 0x230c, 0xc604, 0x0, 0x1);
        gbc.writeMem(0x3d30, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x2eb2, gbc.sp());
        EXPECT(0x3d32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02BD
        gbc.setState(0xf8, 0xb60f, 0xb6e0, 0x24e1, 0x206c, 0xc7a4, 0x0, 0x0);
        gbc.writeMem(0xf8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xb60f, gbc.sp());
        EXPECT(0xfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02BE
        gbc.setState(0x45e7, 0x782, 0x3a40, 0x94fe, 0x144f, 0xfce1, 0x1, 0x1);
        gbc.writeMem(0x45e7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x782, gbc.sp());
        EXPECT(0x45e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02BF
        gbc.setState(0xe3fb, 0x1fbb, 0x4900, 0x6466, 0x9519, 0xf1, 0x0, 0x0);
        gbc.writeMem(0xe3fb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x1fbb, gbc.sp());
        EXPECT(0xe3fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3fb));
        EXPECT(0x54, gbc.readMem(0xe3fc));
        // CB 54 02C0
        gbc.setState(0xa05c, 0xaabd, 0x90a0, 0xb5b5, 0x55ab, 0xba71, 0x1, 0x0);
        gbc.writeMem(0xa05c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xaabd, gbc.sp());
        EXPECT(0xa05e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa05c));
        EXPECT(0x54, gbc.readMem(0xa05d));
        // CB 54 02C1
        gbc.setState(0x6d18, 0xf953, 0x36c0, 0xd77f, 0x1186, 0x5661, 0x1, 0x1);
        gbc.writeMem(0x6d18, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xf953, gbc.sp());
        EXPECT(0x6d1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02C2
        gbc.setState(0x39c4, 0xb2fc, 0x74d0, 0x26c7, 0x64bd, 0x6b18, 0x0, 0x1);
        gbc.writeMem(0x39c4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xb2fc, gbc.sp());
        EXPECT(0x39c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02C3
        gbc.setState(0x96cf, 0x257c, 0x64a0, 0x1c1, 0x478a, 0x4bc0, 0x0, 0x1);
        gbc.writeMem(0x96cf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x257c, gbc.sp());
        EXPECT(0x96d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96cf));
        EXPECT(0x54, gbc.readMem(0x96d0));
        // CB 54 02C4
        gbc.setState(0x8fc, 0x3984, 0xc6a0, 0xd9b5, 0x1b74, 0xfa7a, 0x0, 0x1);
        gbc.writeMem(0x8fc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x3984, gbc.sp());
        EXPECT(0x8fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02C5
        gbc.setState(0xb7d3, 0x6690, 0xcb50, 0xde60, 0xd713, 0x485d, 0x1, 0x1);
        gbc.writeMem(0xb7d3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6690, gbc.sp());
        EXPECT(0xb7d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7d3));
        EXPECT(0x54, gbc.readMem(0xb7d4));
        // CB 54 02C8
        gbc.setState(0x390b, 0xdcf7, 0xcb0, 0x113e, 0xdac7, 0x289e, 0x0, 0x1);
        gbc.writeMem(0x390b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xdcf7, gbc.sp());
        EXPECT(0x390d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02C9
        gbc.setState(0x2223, 0x58b9, 0xc8a0, 0x2224, 0x2954, 0x1cb8, 0x0, 0x1);
        gbc.writeMem(0x2223, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x58b9, gbc.sp());
        EXPECT(0x2225, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02CA
        gbc.setState(0x2f8e, 0x283, 0xea30, 0x8a93, 0x4be0, 0x1ccd, 0x0, 0x1);
        gbc.writeMem(0x2f8e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x283, gbc.sp());
        EXPECT(0x2f90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02CB
        gbc.setState(0xd4c4, 0x512e, 0x41c0, 0xcee, 0xcfe4, 0xac4c, 0x1, 0x0);
        gbc.writeMem(0xd4c4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x512e, gbc.sp());
        EXPECT(0xd4c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4c4));
        EXPECT(0x54, gbc.readMem(0xd4c5));
        // CB 54 02CC
        gbc.setState(0x1a93, 0x21e4, 0x8840, 0xb6b5, 0xebc1, 0x3f6f, 0x0, 0x0);
        gbc.writeMem(0x1a93, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x21e4, gbc.sp());
        EXPECT(0x1a95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02CD
        gbc.setState(0xb265, 0xd064, 0x15f0, 0x604a, 0x3541, 0x7d7e, 0x0, 0x0);
        gbc.writeMem(0xb265, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xd064, gbc.sp());
        EXPECT(0xb267, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb265));
        EXPECT(0x54, gbc.readMem(0xb266));
        // CB 54 02CE
        gbc.setState(0x4df7, 0x9665, 0x3550, 0xffc6, 0x770f, 0x9ac2, 0x1, 0x1);
        gbc.writeMem(0x4df7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x9665, gbc.sp());
        EXPECT(0x4df9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02CF
        gbc.setState(0x3255, 0xf782, 0x1000, 0x3c62, 0xd9ee, 0x8049, 0x0, 0x0);
        gbc.writeMem(0x3255, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf782, gbc.sp());
        EXPECT(0x3257, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02D0
        gbc.setState(0x8411, 0xae94, 0x4220, 0x772c, 0xff6d, 0xecf, 0x1, 0x1);
        gbc.writeMem(0x8411, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xae94, gbc.sp());
        EXPECT(0x8413, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8411));
        EXPECT(0x54, gbc.readMem(0x8412));
        // CB 54 02D1
        gbc.setState(0xff2, 0xca07, 0x5db0, 0x388f, 0xca06, 0x4c43, 0x1, 0x0);
        gbc.writeMem(0xff2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xca07, gbc.sp());
        EXPECT(0xff4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02D2
        gbc.setState(0x80c9, 0xfdd3, 0x26d0, 0xffba, 0x929, 0xe091, 0x0, 0x1);
        gbc.writeMem(0x80c9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xfdd3, gbc.sp());
        EXPECT(0x80cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80c9));
        EXPECT(0x54, gbc.readMem(0x80ca));
        // CB 54 02D3
        gbc.setState(0x116c, 0xcb36, 0xd3a0, 0xb3e9, 0xa6ab, 0x2191, 0x0, 0x0);
        gbc.writeMem(0x116c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xcb36, gbc.sp());
        EXPECT(0x116e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02D4
        gbc.setState(0x48c3, 0xc3a1, 0x8920, 0x3fd5, 0xf376, 0xf610, 0x1, 0x0);
        gbc.writeMem(0x48c3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xc3a1, gbc.sp());
        EXPECT(0x48c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02D5
        gbc.setState(0x46cd, 0x5ab5, 0xb9b0, 0xf62c, 0x8bbc, 0xc801, 0x0, 0x1);
        gbc.writeMem(0x46cd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x5ab5, gbc.sp());
        EXPECT(0x46cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02D6
        gbc.setState(0x84fe, 0xf507, 0xfa20, 0x372f, 0xb96, 0x724d, 0x0, 0x0);
        gbc.writeMem(0x84fe, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf507, gbc.sp());
        EXPECT(0x8500, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84fe));
        EXPECT(0x54, gbc.readMem(0x84ff));
        // CB 54 02D7
        gbc.setState(0x7825, 0x8f72, 0x2860, 0x19f8, 0xc89b, 0x7073, 0x1, 0x0);
        gbc.writeMem(0x7825, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x8f72, gbc.sp());
        EXPECT(0x7827, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02D9
        gbc.setState(0xae08, 0x87e4, 0x4850, 0x38d0, 0xeb0c, 0x9913, 0x1, 0x0);
        gbc.writeMem(0xae08, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x87e4, gbc.sp());
        EXPECT(0xae0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae08));
        EXPECT(0x54, gbc.readMem(0xae09));
        // CB 54 02DA
        gbc.setState(0x2c4c, 0xa366, 0xfcb0, 0x69dd, 0x94c4, 0x49d1, 0x1, 0x1);
        gbc.writeMem(0x2c4c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa366, gbc.sp());
        EXPECT(0x2c4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02DB
        gbc.setState(0xab23, 0x2233, 0x650, 0xfecc, 0x663d, 0x9ad3, 0x0, 0x0);
        gbc.writeMem(0xab23, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x2233, gbc.sp());
        EXPECT(0xab25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab23));
        EXPECT(0x54, gbc.readMem(0xab24));
        // CB 54 02DC
        gbc.setState(0x57a4, 0x667f, 0x89e0, 0x33bb, 0xba6b, 0xa024, 0x0, 0x1);
        gbc.writeMem(0x57a4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x667f, gbc.sp());
        EXPECT(0x57a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02DD
        gbc.setState(0x1ca7, 0xb66, 0x5f00, 0xa601, 0xd2c4, 0xc907, 0x0, 0x1);
        gbc.writeMem(0x1ca7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xb66, gbc.sp());
        EXPECT(0x1ca9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02DF
        gbc.setState(0x5dc1, 0xdec, 0x1f00, 0x8157, 0xcbe4, 0xe66e, 0x0, 0x1);
        gbc.writeMem(0x5dc1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xdec, gbc.sp());
        EXPECT(0x5dc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02E0
        gbc.setState(0xb320, 0xd06, 0x2cd0, 0xe3de, 0xc77, 0xef6, 0x1, 0x1);
        gbc.writeMem(0xb320, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xd06, gbc.sp());
        EXPECT(0xb322, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb320));
        EXPECT(0x54, gbc.readMem(0xb321));
        // CB 54 02E1
        gbc.setState(0xa7c3, 0x9d34, 0x1cb0, 0xeb4d, 0x1406, 0x4a78, 0x1, 0x1);
        gbc.writeMem(0xa7c3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x9d34, gbc.sp());
        EXPECT(0xa7c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7c3));
        EXPECT(0x54, gbc.readMem(0xa7c4));
        // CB 54 02E2
        gbc.setState(0x2094, 0xbeca, 0xfa60, 0x8e9e, 0xcdec, 0x4f25, 0x0, 0x1);
        gbc.writeMem(0x2094, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xbeca, gbc.sp());
        EXPECT(0x2096, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02E3
        gbc.setState(0x1dcf, 0xb58c, 0x27c0, 0x763a, 0xcd7a, 0xd501, 0x1, 0x1);
        gbc.writeMem(0x1dcf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xb58c, gbc.sp());
        EXPECT(0x1dd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02E4
        gbc.setState(0x2b7e, 0x18de, 0xcf30, 0xbaba, 0x97c, 0xad6a, 0x1, 0x0);
        gbc.writeMem(0x2b7e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x18de, gbc.sp());
        EXPECT(0x2b80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02E5
        gbc.setState(0x901f, 0xcc1b, 0x46e0, 0x1a3f, 0x9eb8, 0xd66c, 0x0, 0x0);
        gbc.writeMem(0x901f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xcc1b, gbc.sp());
        EXPECT(0x9021, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x901f));
        EXPECT(0x54, gbc.readMem(0x9020));
        // CB 54 02E6
        gbc.setState(0xde2a, 0x2a49, 0x9d50, 0x6ba, 0x3528, 0x819d, 0x0, 0x1);
        gbc.writeMem(0xde2a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x2a49, gbc.sp());
        EXPECT(0xde2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde2a));
        EXPECT(0x54, gbc.readMem(0xde2b));
        // CB 54 02E7
        gbc.setState(0x709c, 0x5fc7, 0x7d90, 0x5cd9, 0x206a, 0x94f6, 0x0, 0x1);
        gbc.writeMem(0x709c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x5fc7, gbc.sp());
        EXPECT(0x709e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02E8
        gbc.setState(0x3691, 0x4109, 0xadf0, 0x4823, 0x2479, 0x88ed, 0x1, 0x1);
        gbc.writeMem(0x3691, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x4109, gbc.sp());
        EXPECT(0x3693, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02E9
        gbc.setState(0xc76e, 0x1020, 0x7ca0, 0x4de0, 0xcd4b, 0x59e1, 0x0, 0x0);
        gbc.writeMem(0xc76e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x1020, gbc.sp());
        EXPECT(0xc770, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc76e));
        EXPECT(0x54, gbc.readMem(0xc76f));
        // CB 54 02EA
        gbc.setState(0xbe9f, 0x8efc, 0xc9e0, 0x44e4, 0xdb4b, 0xa047, 0x0, 0x0);
        gbc.writeMem(0xbe9f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x8efc, gbc.sp());
        EXPECT(0xbea1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe9f));
        EXPECT(0x54, gbc.readMem(0xbea0));
        // CB 54 02EB
        gbc.setState(0x484, 0xe570, 0x9320, 0x76c6, 0x8467, 0x8a1c, 0x0, 0x1);
        gbc.writeMem(0x484, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xe570, gbc.sp());
        EXPECT(0x486, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02EC
        gbc.setState(0x2849, 0x2697, 0x8b40, 0x7ac7, 0xd2df, 0x4cbc, 0x1, 0x0);
        gbc.writeMem(0x2849, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x2697, gbc.sp());
        EXPECT(0x284b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02ED
        gbc.setState(0xc768, 0xbedb, 0x5360, 0x543e, 0x2f86, 0x3636, 0x1, 0x1);
        gbc.writeMem(0xc768, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xbedb, gbc.sp());
        EXPECT(0xc76a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc768));
        EXPECT(0x54, gbc.readMem(0xc769));
        // CB 54 02EE
        gbc.setState(0xa6e6, 0x371e, 0x33a0, 0x83e3, 0xbc8b, 0x25e1, 0x0, 0x0);
        gbc.writeMem(0xa6e6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x371e, gbc.sp());
        EXPECT(0xa6e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6e6));
        EXPECT(0x54, gbc.readMem(0xa6e7));
        // CB 54 02EF
        gbc.setState(0x59f0, 0x3eac, 0x7040, 0xa460, 0xd4c3, 0x8692, 0x0, 0x1);
        gbc.writeMem(0x59f0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x3eac, gbc.sp());
        EXPECT(0x59f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02F0
        gbc.setState(0x5229, 0x52fc, 0x54c0, 0x3d85, 0xd3ec, 0x14f3, 0x1, 0x1);
        gbc.writeMem(0x5229, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x52fc, gbc.sp());
        EXPECT(0x522b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02F1
        gbc.setState(0x5be8, 0x9c70, 0x26a0, 0x5dfa, 0xc198, 0xaa7c, 0x1, 0x0);
        gbc.writeMem(0x5be8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x9c70, gbc.sp());
        EXPECT(0x5bea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02F2
        gbc.setState(0xa797, 0x1497, 0x99c0, 0x20fd, 0x78a6, 0xce46, 0x1, 0x1);
        gbc.writeMem(0xa797, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x1497, gbc.sp());
        EXPECT(0xa799, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa797));
        EXPECT(0x54, gbc.readMem(0xa798));
        // CB 54 02F3
        gbc.setState(0x3eea, 0x1494, 0x47d0, 0x3ce6, 0x66a9, 0x21bd, 0x1, 0x1);
        gbc.writeMem(0x3eea, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x1494, gbc.sp());
        EXPECT(0x3eec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02F4
        gbc.setState(0xde6e, 0x95b3, 0x6ee0, 0xc554, 0x3a42, 0xd311, 0x1, 0x1);
        gbc.writeMem(0xde6e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x95b3, gbc.sp());
        EXPECT(0xde70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde6e));
        EXPECT(0x54, gbc.readMem(0xde6f));
        // CB 54 02F5
        gbc.setState(0xda42, 0x1f04, 0x4f60, 0xc5d0, 0x8080, 0x4099, 0x0, 0x0);
        gbc.writeMem(0xda42, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x1f04, gbc.sp());
        EXPECT(0xda44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda42));
        EXPECT(0x54, gbc.readMem(0xda43));
        // CB 54 02F6
        gbc.setState(0x458, 0xd271, 0xc880, 0x304, 0xbb73, 0x8d95, 0x1, 0x1);
        gbc.writeMem(0x458, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xd271, gbc.sp());
        EXPECT(0x45a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02F7
        gbc.setState(0xa0c1, 0x6526, 0xa9f0, 0xb097, 0x1b9f, 0xdc48, 0x0, 0x0);
        gbc.writeMem(0xa0c1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x6526, gbc.sp());
        EXPECT(0xa0c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0c1));
        EXPECT(0x54, gbc.readMem(0xa0c2));
        // CB 54 02F8
        gbc.setState(0x5ff3, 0xa0c6, 0xdd60, 0xee1e, 0xf2bf, 0x9b87, 0x1, 0x0);
        gbc.writeMem(0x5ff3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xa0c6, gbc.sp());
        EXPECT(0x5ff5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02F9
        gbc.setState(0x28d8, 0xf0b6, 0xd890, 0xeb90, 0x7280, 0xd21e, 0x1, 0x1);
        gbc.writeMem(0x28d8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xf0b6, gbc.sp());
        EXPECT(0x28da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 02FA
        gbc.setState(0xd6ad, 0x321c, 0x8e0, 0x777d, 0x7ded, 0x296, 0x1, 0x0);
        gbc.writeMem(0xd6ad, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x321c, gbc.sp());
        EXPECT(0xd6af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6ad));
        EXPECT(0x54, gbc.readMem(0xd6ae));
        // CB 54 02FB
        gbc.setState(0x8e6f, 0x1c69, 0x3c60, 0x7b32, 0x5184, 0x725e, 0x0, 0x0);
        gbc.writeMem(0x8e6f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x1c69, gbc.sp());
        EXPECT(0x8e71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e6f));
        EXPECT(0x54, gbc.readMem(0x8e70));
        // CB 54 02FC
        gbc.setState(0xcc48, 0xef1d, 0x1170, 0x1aeb, 0xf4b5, 0xac06, 0x1, 0x0);
        gbc.writeMem(0xcc48, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xef1d, gbc.sp());
        EXPECT(0xcc4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc48));
        EXPECT(0x54, gbc.readMem(0xcc49));
        // CB 54 02FD
        gbc.setState(0x8166, 0xbcd0, 0x8db0, 0x10fe, 0xb9c9, 0x3d35, 0x1, 0x1);
        gbc.writeMem(0x8166, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xbcd0, gbc.sp());
        EXPECT(0x8168, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8166));
        EXPECT(0x54, gbc.readMem(0x8167));
        // CB 54 02FE
        gbc.setState(0x1be9, 0x6bc6, 0x7ee0, 0x7, 0x2cd4, 0x1e38, 0x0, 0x1);
        gbc.writeMem(0x1be9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x6bc6, gbc.sp());
        EXPECT(0x1beb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 02FF
        gbc.setState(0x46f, 0xa793, 0x7480, 0x958e, 0x9a4d, 0x4097, 0x0, 0x1);
        gbc.writeMem(0x46f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xa793, gbc.sp());
        EXPECT(0x471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0300
        gbc.setState(0x555f, 0xdb4e, 0x5b10, 0xbb5b, 0xc299, 0xb45b, 0x1, 0x1);
        gbc.writeMem(0x555f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xdb4e, gbc.sp());
        EXPECT(0x5561, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0301
        gbc.setState(0xdbe1, 0x7b3c, 0xba50, 0xb87b, 0x77a9, 0x7663, 0x0, 0x0);
        gbc.writeMem(0xdbe1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x7b3c, gbc.sp());
        EXPECT(0xdbe3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbe1));
        EXPECT(0x54, gbc.readMem(0xdbe2));
        // CB 54 0302
        gbc.setState(0x74a6, 0x162f, 0x9df0, 0x84a1, 0x64ab, 0x39ff, 0x0, 0x1);
        gbc.writeMem(0x74a6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x162f, gbc.sp());
        EXPECT(0x74a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0304
        gbc.setState(0xe3a, 0xce8f, 0x5b50, 0xc2ad, 0xe12, 0xec8d, 0x1, 0x1);
        gbc.writeMem(0xe3a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xce8f, gbc.sp());
        EXPECT(0xe3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0305
        gbc.setState(0xabb9, 0x9fd0, 0x2860, 0x7a42, 0x78ba, 0x9b33, 0x1, 0x0);
        gbc.writeMem(0xabb9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x9fd0, gbc.sp());
        EXPECT(0xabbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabb9));
        EXPECT(0x54, gbc.readMem(0xabba));
        // CB 54 0306
        gbc.setState(0x87d, 0xba5a, 0x7070, 0xcaf5, 0xe464, 0xbd79, 0x0, 0x0);
        gbc.writeMem(0x87d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xba5a, gbc.sp());
        EXPECT(0x87f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0307
        gbc.setState(0xd010, 0x1039, 0x5920, 0xacf5, 0x45be, 0xadba, 0x1, 0x0);
        gbc.writeMem(0xd010, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x1039, gbc.sp());
        EXPECT(0xd012, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd010));
        EXPECT(0x54, gbc.readMem(0xd011));
        // CB 54 0308
        gbc.setState(0xaf3a, 0x299b, 0x8ff0, 0x5bd3, 0xb949, 0x8ba0, 0x0, 0x0);
        gbc.writeMem(0xaf3a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x299b, gbc.sp());
        EXPECT(0xaf3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf3a));
        EXPECT(0x54, gbc.readMem(0xaf3b));
        // CB 54 030B
        gbc.setState(0xdae8, 0x6037, 0xf800, 0xb4be, 0x3456, 0x622d, 0x0, 0x0);
        gbc.writeMem(0xdae8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6037, gbc.sp());
        EXPECT(0xdaea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdae8));
        EXPECT(0x54, gbc.readMem(0xdae9));
        // CB 54 030C
        gbc.setState(0x708f, 0x3592, 0x9f40, 0xc251, 0x3eca, 0xb64e, 0x0, 0x1);
        gbc.writeMem(0x708f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x3592, gbc.sp());
        EXPECT(0x7091, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 030D
        gbc.setState(0x9d15, 0x760, 0xbf50, 0xd139, 0xc49, 0x14e0, 0x0, 0x1);
        gbc.writeMem(0x9d15, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x760, gbc.sp());
        EXPECT(0x9d17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d15));
        EXPECT(0x54, gbc.readMem(0x9d16));
        // CB 54 030E
        gbc.setState(0x9bf, 0x99e7, 0xac20, 0x5d1d, 0x2294, 0xabc1, 0x1, 0x0);
        gbc.writeMem(0x9bf, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x99e7, gbc.sp());
        EXPECT(0x9c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 030F
        gbc.setState(0xea99, 0x8f, 0x36f0, 0xfa71, 0x5363, 0x5597, 0x1, 0x1);
        gbc.writeMem(0xea99, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x8f, gbc.sp());
        EXPECT(0xea9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea99));
        EXPECT(0x54, gbc.readMem(0xea9a));
        // CB 54 0310
        gbc.setState(0x2dd5, 0x7aa9, 0x3de0, 0xbe8c, 0xa89c, 0x86ec, 0x0, 0x0);
        gbc.writeMem(0x2dd5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x7aa9, gbc.sp());
        EXPECT(0x2dd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0311
        gbc.setState(0x346, 0x9c22, 0x2d10, 0x724c, 0xeb44, 0x874a, 0x1, 0x0);
        gbc.writeMem(0x346, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x9c22, gbc.sp());
        EXPECT(0x348, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0312
        gbc.setState(0xcd7a, 0x6d49, 0x9d60, 0x1991, 0xdabe, 0x21e5, 0x1, 0x1);
        gbc.writeMem(0xcd7a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x6d49, gbc.sp());
        EXPECT(0xcd7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd7a));
        EXPECT(0x54, gbc.readMem(0xcd7b));
        // CB 54 0313
        gbc.setState(0x5501, 0xae7, 0x2510, 0x456f, 0xd102, 0xf5af, 0x0, 0x1);
        gbc.writeMem(0x5501, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xae7, gbc.sp());
        EXPECT(0x5503, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0314
        gbc.setState(0xa12c, 0xd620, 0xc480, 0xb24c, 0xc73f, 0xc6b, 0x1, 0x1);
        gbc.writeMem(0xa12c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xd620, gbc.sp());
        EXPECT(0xa12e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa12c));
        EXPECT(0x54, gbc.readMem(0xa12d));
        // CB 54 0315
        gbc.setState(0xe086, 0x16f2, 0x5710, 0x56f7, 0xff92, 0xda26, 0x0, 0x1);
        gbc.writeMem(0xe086, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x16f2, gbc.sp());
        EXPECT(0xe088, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe086));
        EXPECT(0x54, gbc.readMem(0xe087));
        // CB 54 0316
        gbc.setState(0xb716, 0x50b0, 0x33b0, 0xb104, 0xd06a, 0x184c, 0x1, 0x0);
        gbc.writeMem(0xb716, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x50b0, gbc.sp());
        EXPECT(0xb718, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb716));
        EXPECT(0x54, gbc.readMem(0xb717));
        // CB 54 0317
        gbc.setState(0xb5c7, 0xb59f, 0xf400, 0x266b, 0x2db4, 0xd850, 0x0, 0x1);
        gbc.writeMem(0xb5c7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xb59f, gbc.sp());
        EXPECT(0xb5c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5c7));
        EXPECT(0x54, gbc.readMem(0xb5c8));
        // CB 54 0318
        gbc.setState(0xb89f, 0xbe72, 0xeb50, 0x30b5, 0xcfe2, 0xc088, 0x0, 0x1);
        gbc.writeMem(0xb89f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xbe72, gbc.sp());
        EXPECT(0xb8a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb89f));
        EXPECT(0x54, gbc.readMem(0xb8a0));
        // CB 54 0319
        gbc.setState(0x2e75, 0x9b3d, 0xe9b0, 0xf08c, 0x3991, 0x55e3, 0x1, 0x0);
        gbc.writeMem(0x2e75, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x9b3d, gbc.sp());
        EXPECT(0x2e77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 031A
        gbc.setState(0xba21, 0x3d08, 0xbc50, 0xc89b, 0x5b18, 0x6c4b, 0x1, 0x1);
        gbc.writeMem(0xba21, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x3d08, gbc.sp());
        EXPECT(0xba23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba21));
        EXPECT(0x54, gbc.readMem(0xba22));
        // CB 54 031B
        gbc.setState(0x74b1, 0x945e, 0xb730, 0x554a, 0x6d6, 0xe331, 0x1, 0x1);
        gbc.writeMem(0x74b1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x945e, gbc.sp());
        EXPECT(0x74b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 031C
        gbc.setState(0x1de3, 0x901d, 0x8500, 0x8754, 0x8b3d, 0xb611, 0x0, 0x1);
        gbc.writeMem(0x1de3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x901d, gbc.sp());
        EXPECT(0x1de5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 031D
        gbc.setState(0x76af, 0x67b6, 0xa120, 0xb783, 0xfe96, 0xfb9, 0x1, 0x1);
        gbc.writeMem(0x76af, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x67b6, gbc.sp());
        EXPECT(0x76b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 031F
        gbc.setState(0xc926, 0xccbb, 0xb050, 0x39b, 0xe6b8, 0xc775, 0x1, 0x0);
        gbc.writeMem(0xc926, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xccbb, gbc.sp());
        EXPECT(0xc928, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc926));
        EXPECT(0x54, gbc.readMem(0xc927));
        // CB 54 0320
        gbc.setState(0x13e8, 0x996d, 0xa2a0, 0xa764, 0x30f7, 0x9199, 0x1, 0x0);
        gbc.writeMem(0x13e8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x996d, gbc.sp());
        EXPECT(0x13ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0321
        gbc.setState(0x17ab, 0x608a, 0x9f40, 0xa9db, 0x96c2, 0x1419, 0x0, 0x0);
        gbc.writeMem(0x17ab, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x608a, gbc.sp());
        EXPECT(0x17ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0322
        gbc.setState(0x681d, 0x569b, 0xf7b0, 0xad52, 0x5536, 0xf094, 0x0, 0x0);
        gbc.writeMem(0x681d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x569b, gbc.sp());
        EXPECT(0x681f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0323
        gbc.setState(0xa475, 0xbb94, 0xd340, 0xae3f, 0xdd18, 0xcb11, 0x1, 0x0);
        gbc.writeMem(0xa475, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xbb94, gbc.sp());
        EXPECT(0xa477, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa475));
        EXPECT(0x54, gbc.readMem(0xa476));
        // CB 54 0324
        gbc.setState(0xf53, 0x7c4e, 0xc840, 0xe56, 0x646f, 0xc74a, 0x0, 0x0);
        gbc.writeMem(0xf53, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x7c4e, gbc.sp());
        EXPECT(0xf55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0325
        gbc.setState(0x86a, 0x48f0, 0xf070, 0xcf14, 0x785d, 0x1376, 0x1, 0x0);
        gbc.writeMem(0x86a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x48f0, gbc.sp());
        EXPECT(0x86c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0326
        gbc.setState(0x9c59, 0x17d2, 0x34a0, 0x332a, 0xda8a, 0x7fab, 0x0, 0x1);
        gbc.writeMem(0x9c59, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x17d2, gbc.sp());
        EXPECT(0x9c5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c59));
        EXPECT(0x54, gbc.readMem(0x9c5a));
        // CB 54 0327
        gbc.setState(0xe042, 0x9f23, 0xa8e0, 0x918a, 0xbd5, 0xadbb, 0x1, 0x0);
        gbc.writeMem(0xe042, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x9f23, gbc.sp());
        EXPECT(0xe044, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe042));
        EXPECT(0x54, gbc.readMem(0xe043));
        // CB 54 0328
        gbc.setState(0x428, 0xc507, 0x1cd0, 0xc530, 0xf862, 0x594f, 0x0, 0x0);
        gbc.writeMem(0x428, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xc507, gbc.sp());
        EXPECT(0x42a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0329
        gbc.setState(0x6283, 0xe7e1, 0xdbd0, 0xf8a9, 0x1d80, 0xb224, 0x0, 0x0);
        gbc.writeMem(0x6283, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xe7e1, gbc.sp());
        EXPECT(0x6285, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 032A
        gbc.setState(0xac93, 0x6e34, 0xa3f0, 0x6eee, 0x1496, 0xb00e, 0x1, 0x1);
        gbc.writeMem(0xac93, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x6e34, gbc.sp());
        EXPECT(0xac95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac93));
        EXPECT(0x54, gbc.readMem(0xac94));
        // CB 54 032B
        gbc.setState(0x551e, 0xe062, 0xef40, 0x1e73, 0x5601, 0x64cc, 0x1, 0x1);
        gbc.writeMem(0x551e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xe062, gbc.sp());
        EXPECT(0x5520, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 032C
        gbc.setState(0xc018, 0x6eb1, 0x1dc0, 0x136e, 0x7cc4, 0xa649, 0x1, 0x0);
        gbc.writeMem(0xc018, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x6eb1, gbc.sp());
        EXPECT(0xc01a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc018));
        EXPECT(0x54, gbc.readMem(0xc019));
        // CB 54 032D
        gbc.setState(0x38f2, 0x26e7, 0x2d60, 0x37d, 0x3cab, 0xb751, 0x0, 0x1);
        gbc.writeMem(0x38f2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x26e7, gbc.sp());
        EXPECT(0x38f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 032E
        gbc.setState(0x140f, 0x3448, 0x1290, 0xd5e2, 0x327d, 0xf42f, 0x1, 0x0);
        gbc.writeMem(0x140f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x3448, gbc.sp());
        EXPECT(0x1411, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 032F
        gbc.setState(0xc781, 0x2a94, 0xb3f0, 0xe54, 0xa4ce, 0x5c6d, 0x1, 0x0);
        gbc.writeMem(0xc781, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x2a94, gbc.sp());
        EXPECT(0xc783, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc781));
        EXPECT(0x54, gbc.readMem(0xc782));
        // CB 54 0330
        gbc.setState(0xaeae, 0x1960, 0x2b80, 0x7b0e, 0xef4a, 0xe8c3, 0x0, 0x0);
        gbc.writeMem(0xaeae, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x1960, gbc.sp());
        EXPECT(0xaeb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaeae));
        EXPECT(0x54, gbc.readMem(0xaeaf));
        // CB 54 0331
        gbc.setState(0x395e, 0x771d, 0xfe40, 0x8c6d, 0x7b81, 0x27a7, 0x1, 0x1);
        gbc.writeMem(0x395e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x771d, gbc.sp());
        EXPECT(0x3960, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0332
        gbc.setState(0x2d01, 0x4998, 0x3640, 0xbcfa, 0x6931, 0xf33f, 0x1, 0x0);
        gbc.writeMem(0x2d01, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x4998, gbc.sp());
        EXPECT(0x2d03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0333
        gbc.setState(0xcd83, 0x291a, 0xd930, 0x4da7, 0x301f, 0x1c4c, 0x1, 0x0);
        gbc.writeMem(0xcd83, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x291a, gbc.sp());
        EXPECT(0xcd85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd83));
        EXPECT(0x54, gbc.readMem(0xcd84));
        // CB 54 0334
        gbc.setState(0x928, 0x7d92, 0xf040, 0x92be, 0xd18b, 0x104f, 0x0, 0x1);
        gbc.writeMem(0x928, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x7d92, gbc.sp());
        EXPECT(0x92a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0335
        gbc.setState(0x5846, 0xa0a9, 0x6d40, 0x7cf4, 0x2629, 0x1fda, 0x0, 0x0);
        gbc.writeMem(0x5846, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xa0a9, gbc.sp());
        EXPECT(0x5848, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0336
        gbc.setState(0xb929, 0x76e, 0x7ef0, 0x43aa, 0x19b7, 0xcf3d, 0x0, 0x1);
        gbc.writeMem(0xb929, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x76e, gbc.sp());
        EXPECT(0xb92b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb929));
        EXPECT(0x54, gbc.readMem(0xb92a));
        // CB 54 0337
        gbc.setState(0xd8d4, 0x3ae8, 0x2550, 0xd818, 0x801d, 0xf4df, 0x1, 0x1);
        gbc.writeMem(0xd8d4, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x3ae8, gbc.sp());
        EXPECT(0xd8d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8d4));
        EXPECT(0x54, gbc.readMem(0xd8d5));
        // CB 54 0338
        gbc.setState(0xb7d, 0x4210, 0xab60, 0xb1e5, 0x94ea, 0x5004, 0x0, 0x1);
        gbc.writeMem(0xb7d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x4210, gbc.sp());
        EXPECT(0xb7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0339
        gbc.setState(0x3d43, 0xf088, 0x9a30, 0x9f2e, 0xa4d3, 0x1b1a, 0x0, 0x0);
        gbc.writeMem(0x3d43, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xf088, gbc.sp());
        EXPECT(0x3d45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 033A
        gbc.setState(0x72db, 0x7698, 0x2140, 0xf4ed, 0x43a2, 0x123d, 0x1, 0x0);
        gbc.writeMem(0x72db, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x7698, gbc.sp());
        EXPECT(0x72dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 033B
        gbc.setState(0xc7a9, 0x18a8, 0x1630, 0x673c, 0xbb3c, 0x1e9a, 0x0, 0x0);
        gbc.writeMem(0xc7a9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x18a8, gbc.sp());
        EXPECT(0xc7ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7a9));
        EXPECT(0x54, gbc.readMem(0xc7aa));
        // CB 54 033C
        gbc.setState(0x7527, 0xe5e7, 0xb980, 0x4570, 0xc1bc, 0x8b50, 0x0, 0x1);
        gbc.writeMem(0x7527, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xe5e7, gbc.sp());
        EXPECT(0x7529, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 033D
        gbc.setState(0x72c0, 0x5b51, 0xc010, 0x8ea1, 0xaffd, 0x527f, 0x1, 0x0);
        gbc.writeMem(0x72c0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5b51, gbc.sp());
        EXPECT(0x72c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 033E
        gbc.setState(0x2030, 0x443d, 0x3980, 0xedde, 0x98b3, 0x80a, 0x1, 0x0);
        gbc.writeMem(0x2030, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x443d, gbc.sp());
        EXPECT(0x2032, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 033F
        gbc.setState(0xbf29, 0x445f, 0x1f70, 0x18ba, 0xd508, 0x3360, 0x0, 0x0);
        gbc.writeMem(0xbf29, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x445f, gbc.sp());
        EXPECT(0xbf2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf29));
        EXPECT(0x54, gbc.readMem(0xbf2a));
        // CB 54 0340
        gbc.setState(0x2aed, 0xba9b, 0xd6b0, 0xc797, 0xf4a9, 0x2382, 0x0, 0x0);
        gbc.writeMem(0x2aed, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xba9b, gbc.sp());
        EXPECT(0x2aef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0341
        gbc.setState(0xe703, 0xf3b5, 0x8440, 0x7ce2, 0x96e5, 0xf8c6, 0x0, 0x1);
        gbc.writeMem(0xe703, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xf3b5, gbc.sp());
        EXPECT(0xe705, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe703));
        EXPECT(0x54, gbc.readMem(0xe704));
        // CB 54 0342
        gbc.setState(0x8e37, 0xacb8, 0x2ae0, 0xeb5e, 0x2c8b, 0x79d1, 0x0, 0x0);
        gbc.writeMem(0x8e37, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xacb8, gbc.sp());
        EXPECT(0x8e39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e37));
        EXPECT(0x54, gbc.readMem(0x8e38));
        // CB 54 0343
        gbc.setState(0x6cd9, 0x51f6, 0x41c0, 0x6b9b, 0x67d4, 0x6eea, 0x1, 0x1);
        gbc.writeMem(0x6cd9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x51f6, gbc.sp());
        EXPECT(0x6cdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0344
        gbc.setState(0x788c, 0x65de, 0x64c0, 0x9c58, 0x7611, 0xaa4c, 0x1, 0x1);
        gbc.writeMem(0x788c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x65de, gbc.sp());
        EXPECT(0x788e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0345
        gbc.setState(0xd9dd, 0xb88c, 0x3e0, 0xc74b, 0xe9dd, 0x5b7a, 0x0, 0x0);
        gbc.writeMem(0xd9dd, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xb88c, gbc.sp());
        EXPECT(0xd9df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9dd));
        EXPECT(0x54, gbc.readMem(0xd9de));
        // CB 54 0346
        gbc.setState(0x1e71, 0x7c0b, 0x7440, 0xce32, 0xf10f, 0x45a8, 0x0, 0x0);
        gbc.writeMem(0x1e71, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x7c0b, gbc.sp());
        EXPECT(0x1e73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0348
        gbc.setState(0x6438, 0xbb25, 0x9aa0, 0x1dfb, 0x8756, 0x47e1, 0x1, 0x0);
        gbc.writeMem(0x6438, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xbb25, gbc.sp());
        EXPECT(0x643a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0349
        gbc.setState(0x8b87, 0x59, 0x8af0, 0xd093, 0x10eb, 0x7ff2, 0x1, 0x0);
        gbc.writeMem(0x8b87, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x59, gbc.sp());
        EXPECT(0x8b89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b87));
        EXPECT(0x54, gbc.readMem(0x8b88));
        // CB 54 034A
        gbc.setState(0xec4f, 0x6c2, 0xfb00, 0x680b, 0x198b, 0x517b, 0x1, 0x0);
        gbc.writeMem(0xec4f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x6c2, gbc.sp());
        EXPECT(0xec51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec4f));
        EXPECT(0x54, gbc.readMem(0xec50));
        // CB 54 034B
        gbc.setState(0x7e5e, 0x3dee, 0x8d80, 0xabcb, 0xd109, 0xf1e0, 0x0, 0x1);
        gbc.writeMem(0x7e5e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x3dee, gbc.sp());
        EXPECT(0x7e60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 034C
        gbc.setState(0x838f, 0xf938, 0xfa70, 0xaf8b, 0x27ee, 0x6848, 0x0, 0x0);
        gbc.writeMem(0x838f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xf938, gbc.sp());
        EXPECT(0x8391, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x838f));
        EXPECT(0x54, gbc.readMem(0x8390));
        // CB 54 034D
        gbc.setState(0xa387, 0x920d, 0xbb00, 0x9481, 0x3060, 0xdce3, 0x0, 0x0);
        gbc.writeMem(0xa387, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x920d, gbc.sp());
        EXPECT(0xa389, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa387));
        EXPECT(0x54, gbc.readMem(0xa388));
        // CB 54 034E
        gbc.setState(0xc0d1, 0x678a, 0x54d0, 0x1fe4, 0x660d, 0xc5d, 0x0, 0x0);
        gbc.writeMem(0xc0d1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x678a, gbc.sp());
        EXPECT(0xc0d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0d1));
        EXPECT(0x54, gbc.readMem(0xc0d2));
        // CB 54 034F
        gbc.setState(0xb719, 0x8d53, 0x1f0, 0x93ae, 0x9bc7, 0x6798, 0x1, 0x1);
        gbc.writeMem(0xb719, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x8d53, gbc.sp());
        EXPECT(0xb71b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb719));
        EXPECT(0x54, gbc.readMem(0xb71a));
        // CB 54 0350
        gbc.setState(0xa354, 0x4943, 0x2ef0, 0x5217, 0xa65a, 0x68a2, 0x1, 0x0);
        gbc.writeMem(0xa354, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x4943, gbc.sp());
        EXPECT(0xa356, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa354));
        EXPECT(0x54, gbc.readMem(0xa355));
        // CB 54 0351
        gbc.setState(0x13ce, 0xbf51, 0x1280, 0xddf4, 0x59ca, 0xf476, 0x0, 0x1);
        gbc.writeMem(0x13ce, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xbf51, gbc.sp());
        EXPECT(0x13d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0352
        gbc.setState(0xd10c, 0x7317, 0xed0, 0x32ef, 0x3e42, 0x9190, 0x1, 0x1);
        gbc.writeMem(0xd10c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x7317, gbc.sp());
        EXPECT(0xd10e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd10c));
        EXPECT(0x54, gbc.readMem(0xd10d));
        // CB 54 0353
        gbc.setState(0x9c0a, 0xb76f, 0x7cf0, 0xf249, 0xb9ec, 0x4313, 0x0, 0x1);
        gbc.writeMem(0x9c0a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xb76f, gbc.sp());
        EXPECT(0x9c0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c0a));
        EXPECT(0x54, gbc.readMem(0x9c0b));
        // CB 54 0354
        gbc.setState(0x7e84, 0x787b, 0x9f0, 0x5e73, 0x104a, 0xd332, 0x0, 0x1);
        gbc.writeMem(0x7e84, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x787b, gbc.sp());
        EXPECT(0x7e86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0355
        gbc.setState(0xb23b, 0xb575, 0x3150, 0xc7d3, 0x3da7, 0x9a60, 0x1, 0x0);
        gbc.writeMem(0xb23b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xb575, gbc.sp());
        EXPECT(0xb23d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb23b));
        EXPECT(0x54, gbc.readMem(0xb23c));
        // CB 54 0356
        gbc.setState(0x9671, 0xeb48, 0xb550, 0xbbbc, 0x82c7, 0xbeff, 0x1, 0x1);
        gbc.writeMem(0x9671, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xeb48, gbc.sp());
        EXPECT(0x9673, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9671));
        EXPECT(0x54, gbc.readMem(0x9672));
        // CB 54 0357
        gbc.setState(0xc5ce, 0xd5b1, 0xa190, 0x315a, 0xad74, 0x6701, 0x1, 0x1);
        gbc.writeMem(0xc5ce, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xd5b1, gbc.sp());
        EXPECT(0xc5d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5ce));
        EXPECT(0x54, gbc.readMem(0xc5cf));
        // CB 54 0358
        gbc.setState(0x2a3f, 0xf94, 0x49a0, 0xd580, 0x5595, 0x8c99, 0x0, 0x0);
        gbc.writeMem(0x2a3f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xf94, gbc.sp());
        EXPECT(0x2a41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0359
        gbc.setState(0x892b, 0xfe68, 0x3410, 0xd50b, 0xab22, 0x44fe, 0x0, 0x0);
        gbc.writeMem(0x892b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xfe68, gbc.sp());
        EXPECT(0x892d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x892b));
        EXPECT(0x54, gbc.readMem(0x892c));
        // CB 54 035A
        gbc.setState(0x4f4f, 0xb3be, 0x4e50, 0x727d, 0x304a, 0xd159, 0x1, 0x0);
        gbc.writeMem(0x4f4f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xb3be, gbc.sp());
        EXPECT(0x4f51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 035B
        gbc.setState(0x6d7d, 0x6ab9, 0xa6b0, 0xeebc, 0xf880, 0xbc06, 0x1, 0x1);
        gbc.writeMem(0x6d7d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x6ab9, gbc.sp());
        EXPECT(0x6d7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 035C
        gbc.setState(0xdd50, 0x7e04, 0xa850, 0x367d, 0x657e, 0x59a9, 0x1, 0x1);
        gbc.writeMem(0xdd50, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x7e04, gbc.sp());
        EXPECT(0xdd52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd50));
        EXPECT(0x54, gbc.readMem(0xdd51));
        // CB 54 035D
        gbc.setState(0x1c1a, 0xa9ba, 0x5950, 0xc116, 0xe38f, 0xf52a, 0x0, 0x1);
        gbc.writeMem(0x1c1a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xa9ba, gbc.sp());
        EXPECT(0x1c1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 035E
        gbc.setState(0x7f3f, 0x2254, 0x2440, 0xc31f, 0x85ac, 0x7694, 0x1, 0x0);
        gbc.writeMem(0x7f3f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x2254, gbc.sp());
        EXPECT(0x7f41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 035F
        gbc.setState(0x38c1, 0x30e, 0x5980, 0xb683, 0xf971, 0x6c5, 0x1, 0x1);
        gbc.writeMem(0x38c1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x30e, gbc.sp());
        EXPECT(0x38c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0360
        gbc.setState(0xdcb5, 0xf0e4, 0x11c0, 0x37d7, 0x51, 0x4f85, 0x1, 0x0);
        gbc.writeMem(0xdcb5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xf0e4, gbc.sp());
        EXPECT(0xdcb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcb5));
        EXPECT(0x54, gbc.readMem(0xdcb6));
        // CB 54 0361
        gbc.setState(0x62fa, 0x9611, 0x4e0, 0xa9d9, 0x402b, 0xd305, 0x0, 0x1);
        gbc.writeMem(0x62fa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x9611, gbc.sp());
        EXPECT(0x62fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0362
        gbc.setState(0x1a8c, 0x3cd2, 0xd700, 0xbaee, 0x12bf, 0xf5f7, 0x0, 0x0);
        gbc.writeMem(0x1a8c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x3cd2, gbc.sp());
        EXPECT(0x1a8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0363
        gbc.setState(0xd91d, 0xe9c2, 0xb890, 0xa473, 0x26d0, 0x5017, 0x0, 0x0);
        gbc.writeMem(0xd91d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xe9c2, gbc.sp());
        EXPECT(0xd91f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd91d));
        EXPECT(0x54, gbc.readMem(0xd91e));
        // CB 54 0364
        gbc.setState(0x665c, 0x5177, 0xe370, 0x344b, 0x30ac, 0xf8b5, 0x0, 0x0);
        gbc.writeMem(0x665c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5177, gbc.sp());
        EXPECT(0x665e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0365
        gbc.setState(0x92e1, 0xa406, 0x5660, 0xcbf5, 0x6de3, 0xd1e1, 0x1, 0x1);
        gbc.writeMem(0x92e1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xa406, gbc.sp());
        EXPECT(0x92e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92e1));
        EXPECT(0x54, gbc.readMem(0x92e2));
        // CB 54 0366
        gbc.setState(0x37c8, 0xf853, 0x3620, 0x831f, 0x158c, 0xfca2, 0x1, 0x0);
        gbc.writeMem(0x37c8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xf853, gbc.sp());
        EXPECT(0x37ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0367
        gbc.setState(0xbc08, 0x6a6d, 0x7700, 0x2643, 0xd764, 0xef3f, 0x0, 0x0);
        gbc.writeMem(0xbc08, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x6a6d, gbc.sp());
        EXPECT(0xbc0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc08));
        EXPECT(0x54, gbc.readMem(0xbc09));
        // CB 54 0368
        gbc.setState(0xae11, 0x410e, 0x7de0, 0x6133, 0x869e, 0xd103, 0x0, 0x0);
        gbc.writeMem(0xae11, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x410e, gbc.sp());
        EXPECT(0xae13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae11));
        EXPECT(0x54, gbc.readMem(0xae12));
        // CB 54 0369
        gbc.setState(0xcc9d, 0x7275, 0x780, 0xe860, 0xb678, 0xb04b, 0x1, 0x1);
        gbc.writeMem(0xcc9d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x7275, gbc.sp());
        EXPECT(0xcc9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc9d));
        EXPECT(0x54, gbc.readMem(0xcc9e));
        // CB 54 036A
        gbc.setState(0xe8cc, 0xcb31, 0x2fb0, 0xd511, 0x7831, 0xad4b, 0x0, 0x1);
        gbc.writeMem(0xe8cc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xcb31, gbc.sp());
        EXPECT(0xe8ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8cc));
        EXPECT(0x54, gbc.readMem(0xe8cd));
        // CB 54 036B
        gbc.setState(0xe9d, 0x2e48, 0x85b0, 0xba4d, 0x7c79, 0x75b1, 0x0, 0x0);
        gbc.writeMem(0xe9d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x2e48, gbc.sp());
        EXPECT(0xe9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 036C
        gbc.setState(0x7206, 0x3567, 0xfb80, 0x1f6a, 0x6c37, 0x605a, 0x0, 0x0);
        gbc.writeMem(0x7206, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x3567, gbc.sp());
        EXPECT(0x7208, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 036D
        gbc.setState(0xd671, 0x2f37, 0xeb90, 0x701a, 0x16fe, 0x3d77, 0x0, 0x1);
        gbc.writeMem(0xd671, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x2f37, gbc.sp());
        EXPECT(0xd673, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd671));
        EXPECT(0x54, gbc.readMem(0xd672));
        // CB 54 036E
        gbc.setState(0x238b, 0x55ec, 0x39e0, 0xa272, 0x63b9, 0x3efa, 0x1, 0x1);
        gbc.writeMem(0x238b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x55ec, gbc.sp());
        EXPECT(0x238d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0370
        gbc.setState(0x8a9f, 0xbc0c, 0x5f00, 0xd4d0, 0x9651, 0x3a9a, 0x1, 0x0);
        gbc.writeMem(0x8a9f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xbc0c, gbc.sp());
        EXPECT(0x8aa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a9f));
        EXPECT(0x54, gbc.readMem(0x8aa0));
        // CB 54 0371
        gbc.setState(0x134c, 0x5ce0, 0xabb0, 0x38e3, 0xf0f5, 0x2c3c, 0x1, 0x1);
        gbc.writeMem(0x134c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x5ce0, gbc.sp());
        EXPECT(0x134e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0372
        gbc.setState(0x161b, 0x3be2, 0xf780, 0xcbc2, 0xbd27, 0x3b4a, 0x1, 0x1);
        gbc.writeMem(0x161b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x3be2, gbc.sp());
        EXPECT(0x161d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0373
        gbc.setState(0x6ca1, 0xb6e5, 0xfb70, 0x8d7a, 0xe7dd, 0x52cb, 0x1, 0x1);
        gbc.writeMem(0x6ca1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xb6e5, gbc.sp());
        EXPECT(0x6ca3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0374
        gbc.setState(0x3cac, 0xe7eb, 0xb380, 0x8113, 0x9121, 0x9d96, 0x0, 0x0);
        gbc.writeMem(0x3cac, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xe7eb, gbc.sp());
        EXPECT(0x3cae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0375
        gbc.setState(0x159c, 0xcb71, 0xc910, 0x71d5, 0x3958, 0xaa6, 0x1, 0x0);
        gbc.writeMem(0x159c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xcb71, gbc.sp());
        EXPECT(0x159e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0376
        gbc.setState(0x1a46, 0xdba0, 0xe60, 0xc3f9, 0xeff3, 0xe45a, 0x0, 0x1);
        gbc.writeMem(0x1a46, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xdba0, gbc.sp());
        EXPECT(0x1a48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0377
        gbc.setState(0xa0db, 0x2b72, 0xed70, 0x8e5b, 0x2c36, 0x3b7d, 0x1, 0x1);
        gbc.writeMem(0xa0db, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2b72, gbc.sp());
        EXPECT(0xa0dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0db));
        EXPECT(0x54, gbc.readMem(0xa0dc));
        // CB 54 0378
        gbc.setState(0x53d7, 0xa856, 0x2c70, 0xd90e, 0xfc2f, 0x8c3f, 0x0, 0x0);
        gbc.writeMem(0x53d7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xa856, gbc.sp());
        EXPECT(0x53d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0379
        gbc.setState(0xcba8, 0x8fc8, 0x7030, 0x3874, 0xd6c7, 0x91cd, 0x1, 0x0);
        gbc.writeMem(0xcba8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x8fc8, gbc.sp());
        EXPECT(0xcbaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcba8));
        EXPECT(0x54, gbc.readMem(0xcba9));
        // CB 54 037A
        gbc.setState(0x426a, 0x1314, 0x6490, 0x4918, 0xfc21, 0x504c, 0x0, 0x1);
        gbc.writeMem(0x426a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x1314, gbc.sp());
        EXPECT(0x426c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 037B
        gbc.setState(0x4f4d, 0x173d, 0x9d00, 0x19ee, 0x57a0, 0x677a, 0x0, 0x1);
        gbc.writeMem(0x4f4d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x173d, gbc.sp());
        EXPECT(0x4f4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 037C
        gbc.setState(0xc869, 0x851c, 0xc4f0, 0xdbf3, 0xc97d, 0x2092, 0x0, 0x1);
        gbc.writeMem(0xc869, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x851c, gbc.sp());
        EXPECT(0xc86b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc869));
        EXPECT(0x54, gbc.readMem(0xc86a));
        // CB 54 037D
        gbc.setState(0xb013, 0x74a3, 0x2090, 0xdc0a, 0x3a45, 0xe123, 0x0, 0x0);
        gbc.writeMem(0xb013, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x74a3, gbc.sp());
        EXPECT(0xb015, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb013));
        EXPECT(0x54, gbc.readMem(0xb014));
        // CB 54 037E
        gbc.setState(0xcaec, 0xb9c7, 0xd9a0, 0x85b4, 0x78b1, 0x69a6, 0x1, 0x0);
        gbc.writeMem(0xcaec, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb9c7, gbc.sp());
        EXPECT(0xcaee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcaec));
        EXPECT(0x54, gbc.readMem(0xcaed));
        // CB 54 037F
        gbc.setState(0xeb0, 0x60e, 0xc910, 0x4457, 0x2228, 0xc603, 0x1, 0x0);
        gbc.writeMem(0xeb0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x60e, gbc.sp());
        EXPECT(0xeb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0380
        gbc.setState(0x7f71, 0x761f, 0x9120, 0xaed8, 0x867a, 0x6bee, 0x0, 0x0);
        gbc.writeMem(0x7f71, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x761f, gbc.sp());
        EXPECT(0x7f73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0381
        gbc.setState(0x731, 0x37f7, 0x3d00, 0xdf4a, 0x1fda, 0xdc5b, 0x0, 0x0);
        gbc.writeMem(0x731, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x37f7, gbc.sp());
        EXPECT(0x733, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0382
        gbc.setState(0x90c0, 0x3917, 0xf870, 0x41c0, 0x11c, 0x3316, 0x1, 0x0);
        gbc.writeMem(0x90c0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x3917, gbc.sp());
        EXPECT(0x90c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90c0));
        EXPECT(0x54, gbc.readMem(0x90c1));
        // CB 54 0383
        gbc.setState(0xac11, 0xe6bb, 0x1610, 0xb31d, 0xb65d, 0x50e6, 0x0, 0x1);
        gbc.writeMem(0xac11, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xe6bb, gbc.sp());
        EXPECT(0xac13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac11));
        EXPECT(0x54, gbc.readMem(0xac12));
        // CB 54 0384
        gbc.setState(0xedfa, 0x8a8f, 0xbff0, 0x1ee7, 0x6711, 0x3ae0, 0x1, 0x0);
        gbc.writeMem(0xedfa, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x8a8f, gbc.sp());
        EXPECT(0xedfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedfa));
        EXPECT(0x54, gbc.readMem(0xedfb));
        // CB 54 0385
        gbc.setState(0xa113, 0x2318, 0x6660, 0x47ed, 0xdaf7, 0xdcc5, 0x0, 0x0);
        gbc.writeMem(0xa113, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x2318, gbc.sp());
        EXPECT(0xa115, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa113));
        EXPECT(0x54, gbc.readMem(0xa114));
        // CB 54 0386
        gbc.setState(0xbf7a, 0x7ed9, 0x4890, 0x6c13, 0x5ee2, 0xb876, 0x1, 0x0);
        gbc.writeMem(0xbf7a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x7ed9, gbc.sp());
        EXPECT(0xbf7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf7a));
        EXPECT(0x54, gbc.readMem(0xbf7b));
        // CB 54 0387
        gbc.setState(0x8087, 0x8ee1, 0x9f0, 0x8de5, 0xdfaf, 0x304b, 0x0, 0x1);
        gbc.writeMem(0x8087, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x8ee1, gbc.sp());
        EXPECT(0x8089, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8087));
        EXPECT(0x54, gbc.readMem(0x8088));
        // CB 54 0388
        gbc.setState(0x73b1, 0xc226, 0xc9b0, 0xed0e, 0x15af, 0x464c, 0x1, 0x0);
        gbc.writeMem(0x73b1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xc226, gbc.sp());
        EXPECT(0x73b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0389
        gbc.setState(0x3ba8, 0x5122, 0x4920, 0xf4d8, 0x8680, 0x12c2, 0x1, 0x1);
        gbc.writeMem(0x3ba8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x5122, gbc.sp());
        EXPECT(0x3baa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 038A
        gbc.setState(0xa542, 0x2cab, 0x5b30, 0x1b41, 0xe874, 0xc762, 0x0, 0x0);
        gbc.writeMem(0xa542, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x2cab, gbc.sp());
        EXPECT(0xa544, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa542));
        EXPECT(0x54, gbc.readMem(0xa543));
        // CB 54 038B
        gbc.setState(0x44cc, 0xf489, 0xf840, 0xa82b, 0xdb66, 0x968, 0x0, 0x0);
        gbc.writeMem(0x44cc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xf489, gbc.sp());
        EXPECT(0x44ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 038C
        gbc.setState(0xa5b6, 0xa5bc, 0x6310, 0x24d5, 0x8d42, 0xb7ba, 0x0, 0x0);
        gbc.writeMem(0xa5b6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xa5bc, gbc.sp());
        EXPECT(0xa5b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5b6));
        EXPECT(0x54, gbc.readMem(0xa5b7));
        // CB 54 038E
        gbc.setState(0xd45, 0xcaeb, 0x2600, 0x1bc0, 0x1ba1, 0x68f2, 0x1, 0x0);
        gbc.writeMem(0xd45, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xcaeb, gbc.sp());
        EXPECT(0xd47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 038F
        gbc.setState(0x6b30, 0x9b39, 0x23e0, 0xcc8c, 0xd290, 0x4cec, 0x1, 0x1);
        gbc.writeMem(0x6b30, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x9b39, gbc.sp());
        EXPECT(0x6b32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0390
        gbc.setState(0xb606, 0x3707, 0x6760, 0xd52, 0xeb06, 0x8d06, 0x0, 0x1);
        gbc.writeMem(0xb606, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x3707, gbc.sp());
        EXPECT(0xb608, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb606));
        EXPECT(0x54, gbc.readMem(0xb607));
        // CB 54 0391
        gbc.setState(0x6565, 0x426d, 0x2ff0, 0xf9dd, 0xadc, 0xed93, 0x0, 0x0);
        gbc.writeMem(0x6565, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x426d, gbc.sp());
        EXPECT(0x6567, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 0392
        gbc.setState(0x282c, 0x6497, 0xe4a0, 0x9ca7, 0x3159, 0x3164, 0x0, 0x1);
        gbc.writeMem(0x282c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x6497, gbc.sp());
        EXPECT(0x282e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0393
        gbc.setState(0xbfd9, 0xac2b, 0xe4a0, 0x6d57, 0xc08d, 0x6a9a, 0x0, 0x0);
        gbc.writeMem(0xbfd9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xac2b, gbc.sp());
        EXPECT(0xbfdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfd9));
        EXPECT(0x54, gbc.readMem(0xbfda));
        // CB 54 0394
        gbc.setState(0x8f37, 0x328, 0xfb60, 0x7083, 0xebb1, 0x592c, 0x0, 0x1);
        gbc.writeMem(0x8f37, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x328, gbc.sp());
        EXPECT(0x8f39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f37));
        EXPECT(0x54, gbc.readMem(0x8f38));
        // CB 54 0395
        gbc.setState(0x22bc, 0xfdc4, 0x6a20, 0xd8ea, 0x1d61, 0xb594, 0x1, 0x1);
        gbc.writeMem(0x22bc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xfdc4, gbc.sp());
        EXPECT(0x22be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0396
        gbc.setState(0x573b, 0xf613, 0xc2a0, 0x5c5c, 0x3383, 0xa7e6, 0x0, 0x1);
        gbc.writeMem(0x573b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xf613, gbc.sp());
        EXPECT(0x573d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0397
        gbc.setState(0x57a7, 0xb138, 0xdd20, 0xdc64, 0xecf6, 0xcb25, 0x0, 0x1);
        gbc.writeMem(0x57a7, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xb138, gbc.sp());
        EXPECT(0x57a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0398
        gbc.setState(0x4311, 0x803, 0xe5a0, 0x78cd, 0x30b6, 0xc5c5, 0x0, 0x0);
        gbc.writeMem(0x4311, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x803, gbc.sp());
        EXPECT(0x4313, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 0399
        gbc.setState(0xafc8, 0xa0f0, 0x7ce0, 0xe68f, 0xb4d0, 0xe913, 0x0, 0x0);
        gbc.writeMem(0xafc8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xa0f0, gbc.sp());
        EXPECT(0xafca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafc8));
        EXPECT(0x54, gbc.readMem(0xafc9));
        // CB 54 039A
        gbc.setState(0x1925, 0xc41c, 0xd8c0, 0x6291, 0x370c, 0xdb7f, 0x1, 0x0);
        gbc.writeMem(0x1925, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc41c, gbc.sp());
        EXPECT(0x1927, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 039B
        gbc.setState(0xeb7a, 0xc6dc, 0x6c10, 0xa6dd, 0x173a, 0xac9a, 0x0, 0x0);
        gbc.writeMem(0xeb7a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xc6dc, gbc.sp());
        EXPECT(0xeb7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb7a));
        EXPECT(0x54, gbc.readMem(0xeb7b));
        // CB 54 039C
        gbc.setState(0x4cc0, 0xc382, 0x4fa0, 0xcf6, 0xf084, 0x49ee, 0x0, 0x1);
        gbc.writeMem(0x4cc0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xc382, gbc.sp());
        EXPECT(0x4cc2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 039D
        gbc.setState(0x825e, 0xfc5a, 0xb080, 0x4e13, 0xe02f, 0x55e2, 0x1, 0x0);
        gbc.writeMem(0x825e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xfc5a, gbc.sp());
        EXPECT(0x8260, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x825e));
        EXPECT(0x54, gbc.readMem(0x825f));
        // CB 54 039E
        gbc.setState(0xab8c, 0xd66e, 0x8c30, 0x61, 0x353d, 0xcc02, 0x1, 0x1);
        gbc.writeMem(0xab8c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xd66e, gbc.sp());
        EXPECT(0xab8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab8c));
        EXPECT(0x54, gbc.readMem(0xab8d));
        // CB 54 039F
        gbc.setState(0xef17, 0x9c85, 0x18c0, 0x24e2, 0x1bf7, 0xf78, 0x0, 0x0);
        gbc.writeMem(0xef17, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x9c85, gbc.sp());
        EXPECT(0xef19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef17));
        EXPECT(0x54, gbc.readMem(0xef18));
        // CB 54 03A0
        gbc.setState(0x8ea8, 0xa72c, 0x5120, 0x1f27, 0x2128, 0x71b0, 0x0, 0x0);
        gbc.writeMem(0x8ea8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xa72c, gbc.sp());
        EXPECT(0x8eaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ea8));
        EXPECT(0x54, gbc.readMem(0x8ea9));
        // CB 54 03A1
        gbc.setState(0xb621, 0x316, 0x8690, 0x2cf9, 0xf349, 0x6ebb, 0x1, 0x1);
        gbc.writeMem(0xb621, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x316, gbc.sp());
        EXPECT(0xb623, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb621));
        EXPECT(0x54, gbc.readMem(0xb622));
        // CB 54 03A2
        gbc.setState(0xbc23, 0xebc3, 0x5250, 0x3da5, 0xfddc, 0x790, 0x1, 0x1);
        gbc.writeMem(0xbc23, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xebc3, gbc.sp());
        EXPECT(0xbc25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc23));
        EXPECT(0x54, gbc.readMem(0xbc24));
        // CB 54 03A3
        gbc.setState(0xda5a, 0xae96, 0xf70, 0xa8d7, 0x1ab8, 0x1485, 0x0, 0x1);
        gbc.writeMem(0xda5a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xae96, gbc.sp());
        EXPECT(0xda5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda5a));
        EXPECT(0x54, gbc.readMem(0xda5b));
        // CB 54 03A4
        gbc.setState(0xbbb2, 0x8b8, 0xf720, 0x4ef1, 0x8e91, 0x94ff, 0x1, 0x1);
        gbc.writeMem(0xbbb2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x8b8, gbc.sp());
        EXPECT(0xbbb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbb2));
        EXPECT(0x54, gbc.readMem(0xbbb3));
        // CB 54 03A5
        gbc.setState(0x2263, 0x8350, 0xc5e0, 0xa222, 0xb814, 0x20d4, 0x0, 0x0);
        gbc.writeMem(0x2263, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x8350, gbc.sp());
        EXPECT(0x2265, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03A6
        gbc.setState(0xa720, 0x85e4, 0x15e0, 0x918, 0x8f7d, 0xac2a, 0x0, 0x1);
        gbc.writeMem(0xa720, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x85e4, gbc.sp());
        EXPECT(0xa722, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa720));
        EXPECT(0x54, gbc.readMem(0xa721));
        // CB 54 03A7
        gbc.setState(0xea85, 0xab2f, 0xe170, 0xd351, 0xb6ad, 0xd6e2, 0x1, 0x0);
        gbc.writeMem(0xea85, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xab2f, gbc.sp());
        EXPECT(0xea87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea85));
        EXPECT(0x54, gbc.readMem(0xea86));
        // CB 54 03A8
        gbc.setState(0x3df0, 0x76f8, 0xaab0, 0xc477, 0xe9c, 0xc154, 0x1, 0x1);
        gbc.writeMem(0x3df0, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x76f8, gbc.sp());
        EXPECT(0x3df2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03A9
        gbc.setState(0x862f, 0x1688, 0x95c0, 0xf1c0, 0x3b5a, 0xd0e9, 0x1, 0x0);
        gbc.writeMem(0x862f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x1688, gbc.sp());
        EXPECT(0x8631, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x862f));
        EXPECT(0x54, gbc.readMem(0x8630));
        // CB 54 03AA
        gbc.setState(0x25d3, 0x9e7d, 0xcdf0, 0xc746, 0x9142, 0x4fa1, 0x1, 0x0);
        gbc.writeMem(0x25d3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9e7d, gbc.sp());
        EXPECT(0x25d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03AB
        gbc.setState(0x3ad1, 0xf327, 0x3c20, 0xca2e, 0xa51f, 0x2119, 0x0, 0x0);
        gbc.writeMem(0x3ad1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xf327, gbc.sp());
        EXPECT(0x3ad3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03AC
        gbc.setState(0x7963, 0xfbc7, 0x1420, 0x5315, 0x85d9, 0xd6d8, 0x1, 0x1);
        gbc.writeMem(0x7963, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xfbc7, gbc.sp());
        EXPECT(0x7965, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03AD
        gbc.setState(0x60d9, 0x74db, 0xf290, 0xe08a, 0xdf2b, 0xb574, 0x1, 0x1);
        gbc.writeMem(0x60d9, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x74db, gbc.sp());
        EXPECT(0x60db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03AE
        gbc.setState(0xeca2, 0xbb35, 0x30b0, 0xa3e6, 0x14e7, 0x62d2, 0x1, 0x1);
        gbc.writeMem(0xeca2, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xbb35, gbc.sp());
        EXPECT(0xeca4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeca2));
        EXPECT(0x54, gbc.readMem(0xeca3));
        // CB 54 03B0
        gbc.setState(0xe26d, 0x7283, 0xd660, 0xf6f3, 0x8aa5, 0xd52e, 0x0, 0x0);
        gbc.writeMem(0xe26d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x7283, gbc.sp());
        EXPECT(0xe26f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe26d));
        EXPECT(0x54, gbc.readMem(0xe26e));
        // CB 54 03B1
        gbc.setState(0xd74b, 0xa233, 0x7ea0, 0x2100, 0x216e, 0xb1d6, 0x0, 0x0);
        gbc.writeMem(0xd74b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xa233, gbc.sp());
        EXPECT(0xd74d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd74b));
        EXPECT(0x54, gbc.readMem(0xd74c));
        // CB 54 03B2
        gbc.setState(0xdede, 0xb783, 0xa9d0, 0xb719, 0xad0, 0x5357, 0x0, 0x1);
        gbc.writeMem(0xdede, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xb783, gbc.sp());
        EXPECT(0xdee0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdede));
        EXPECT(0x54, gbc.readMem(0xdedf));
        // CB 54 03B3
        gbc.setState(0x7265, 0x5851, 0xe630, 0x92eb, 0xf76a, 0x9a12, 0x1, 0x0);
        gbc.writeMem(0x7265, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x5851, gbc.sp());
        EXPECT(0x7267, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03B4
        gbc.setState(0xc810, 0x74fa, 0xfeb0, 0xf58a, 0x2e0b, 0x1424, 0x0, 0x0);
        gbc.writeMem(0xc810, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x74fa, gbc.sp());
        EXPECT(0xc812, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc810));
        EXPECT(0x54, gbc.readMem(0xc811));
        // CB 54 03B5
        gbc.setState(0xed8e, 0xe255, 0x7290, 0x91b0, 0xedb6, 0x151c, 0x0, 0x0);
        gbc.writeMem(0xed8e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xe255, gbc.sp());
        EXPECT(0xed90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed8e));
        EXPECT(0x54, gbc.readMem(0xed8f));
        // CB 54 03B6
        gbc.setState(0x38a, 0xfbe5, 0xe580, 0xfca2, 0x94bb, 0x74d1, 0x0, 0x0);
        gbc.writeMem(0x38a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xfbe5, gbc.sp());
        EXPECT(0x38c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03B7
        gbc.setState(0x72a8, 0x694e, 0x10d0, 0xfe1e, 0x8fbd, 0xd807, 0x0, 0x0);
        gbc.writeMem(0x72a8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x694e, gbc.sp());
        EXPECT(0x72aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03B8
        gbc.setState(0x7730, 0x99c, 0xa700, 0x5b54, 0x2411, 0x24e7, 0x1, 0x1);
        gbc.writeMem(0x7730, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x99c, gbc.sp());
        EXPECT(0x7732, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03B9
        gbc.setState(0x8336, 0x33e, 0xd290, 0x8c1b, 0x220a, 0x55d1, 0x1, 0x1);
        gbc.writeMem(0x8336, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x33e, gbc.sp());
        EXPECT(0x8338, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8336));
        EXPECT(0x54, gbc.readMem(0x8337));
        // CB 54 03BA
        gbc.setState(0xddd6, 0xa8c3, 0x5a0, 0x5157, 0x1b17, 0xbb43, 0x0, 0x0);
        gbc.writeMem(0xddd6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xa8c3, gbc.sp());
        EXPECT(0xddd8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddd6));
        EXPECT(0x54, gbc.readMem(0xddd7));
        // CB 54 03BB
        gbc.setState(0x258, 0x378, 0x7c20, 0x8d1e, 0x973b, 0xa27, 0x1, 0x0);
        gbc.writeMem(0x258, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x378, gbc.sp());
        EXPECT(0x25a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03BC
        gbc.setState(0x6e4a, 0x3b74, 0xc620, 0x5b77, 0x689d, 0x166f, 0x0, 0x1);
        gbc.writeMem(0x6e4a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x3b74, gbc.sp());
        EXPECT(0x6e4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03BD
        gbc.setState(0xe388, 0xe8f1, 0x66e0, 0xb790, 0x3e0e, 0x8c46, 0x1, 0x0);
        gbc.writeMem(0xe388, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xe8f1, gbc.sp());
        EXPECT(0xe38a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe388));
        EXPECT(0x54, gbc.readMem(0xe389));
        // CB 54 03BE
        gbc.setState(0x5700, 0x3685, 0x80d0, 0x3903, 0xd18c, 0x80c1, 0x0, 0x0);
        gbc.writeMem(0x5700, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x3685, gbc.sp());
        EXPECT(0x5702, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03BF
        gbc.setState(0x8b97, 0x29a, 0xf2e0, 0x8196, 0x1832, 0xa7c8, 0x1, 0x1);
        gbc.writeMem(0x8b97, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x29a, gbc.sp());
        EXPECT(0x8b99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b97));
        EXPECT(0x54, gbc.readMem(0x8b98));
        // CB 54 03C0
        gbc.setState(0x3819, 0x7cb, 0xc830, 0x3ccd, 0x1bf5, 0xec47, 0x1, 0x0);
        gbc.writeMem(0x3819, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x7cb, gbc.sp());
        EXPECT(0x381b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03C1
        gbc.setState(0xd84e, 0xb17a, 0x4110, 0xcec7, 0xa1f0, 0xae75, 0x0, 0x1);
        gbc.writeMem(0xd84e, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xb17a, gbc.sp());
        EXPECT(0xd850, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd84e));
        EXPECT(0x54, gbc.readMem(0xd84f));
        // CB 54 03C2
        gbc.setState(0x66f6, 0x2180, 0x2390, 0x271f, 0x368d, 0x9ac9, 0x0, 0x0);
        gbc.writeMem(0x66f6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x2180, gbc.sp());
        EXPECT(0x66f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03C3
        gbc.setState(0xe583, 0xbac0, 0x2b80, 0xce3d, 0x771, 0x51e4, 0x1, 0x0);
        gbc.writeMem(0xe583, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xbac0, gbc.sp());
        EXPECT(0xe585, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe583));
        EXPECT(0x54, gbc.readMem(0xe584));
        // CB 54 03C4
        gbc.setState(0xad58, 0xbdc8, 0x7350, 0xf513, 0xe2a9, 0x4b8, 0x0, 0x1);
        gbc.writeMem(0xad58, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xbdc8, gbc.sp());
        EXPECT(0xad5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad58));
        EXPECT(0x54, gbc.readMem(0xad59));
        // CB 54 03C5
        gbc.setState(0x18a8, 0xb227, 0x9180, 0xd9a5, 0x65c6, 0x7c5c, 0x0, 0x0);
        gbc.writeMem(0x18a8, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xb227, gbc.sp());
        EXPECT(0x18aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03C6
        gbc.setState(0x6bfc, 0x15dc, 0x8b00, 0x65ab, 0x4b94, 0x742c, 0x0, 0x0);
        gbc.writeMem(0x6bfc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x15dc, gbc.sp());
        EXPECT(0x6bfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03C7
        gbc.setState(0xe031, 0xbc70, 0xc840, 0xa4b, 0x2d45, 0xc76f, 0x0, 0x0);
        gbc.writeMem(0xe031, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xbc70, gbc.sp());
        EXPECT(0xe033, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe031));
        EXPECT(0x54, gbc.readMem(0xe032));
        // CB 54 03C8
        gbc.setState(0x6af5, 0x870c, 0x99d0, 0x45a0, 0x6551, 0xc158, 0x0, 0x1);
        gbc.writeMem(0x6af5, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x870c, gbc.sp());
        EXPECT(0x6af7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03C9
        gbc.setState(0x11fc, 0x9869, 0xdfb0, 0x72c8, 0xdf3d, 0xb1d7, 0x0, 0x1);
        gbc.writeMem(0x11fc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x9869, gbc.sp());
        EXPECT(0x11fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03CA
        gbc.setState(0xe048, 0xb1ae, 0x6d70, 0x4714, 0xc2ac, 0xe6d3, 0x0, 0x0);
        gbc.writeMem(0xe048, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xb1ae, gbc.sp());
        EXPECT(0xe04a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe048));
        EXPECT(0x54, gbc.readMem(0xe049));
        // CB 54 03CB
        gbc.setState(0x519a, 0x9a75, 0xf2e0, 0x9dc3, 0x19c7, 0x6eed, 0x1, 0x1);
        gbc.writeMem(0x519a, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x9a75, gbc.sp());
        EXPECT(0x519c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03CC
        gbc.setState(0x77cc, 0xac1d, 0x8670, 0xf067, 0xc0ac, 0x14ee, 0x0, 0x1);
        gbc.writeMem(0x77cc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xac1d, gbc.sp());
        EXPECT(0x77ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03CD
        gbc.setState(0xef6, 0xcd26, 0x47c0, 0xea9a, 0x1da4, 0xd846, 0x0, 0x1);
        gbc.writeMem(0xef6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xcd26, gbc.sp());
        EXPECT(0xef8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03CE
        gbc.setState(0x4283, 0xa647, 0x670, 0x5ad, 0xec30, 0x2d07, 0x0, 0x1);
        gbc.writeMem(0x4283, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xa647, gbc.sp());
        EXPECT(0x4285, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03CF
        gbc.setState(0xadfc, 0x9a34, 0xc680, 0x1c15, 0x7a3, 0xc196, 0x1, 0x0);
        gbc.writeMem(0xadfc, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x9a34, gbc.sp());
        EXPECT(0xadfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadfc));
        EXPECT(0x54, gbc.readMem(0xadfd));
        // CB 54 03D1
        gbc.setState(0x26a6, 0xf7ad, 0x4eb0, 0x9b97, 0x9106, 0xab3, 0x1, 0x0);
        gbc.writeMem(0x26a6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xf7ad, gbc.sp());
        EXPECT(0x26a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03D2
        gbc.setState(0xa07f, 0xd898, 0x7d00, 0x2fe1, 0xe7c9, 0x13bf, 0x1, 0x0);
        gbc.writeMem(0xa07f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xd898, gbc.sp());
        EXPECT(0xa081, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa07f));
        EXPECT(0x54, gbc.readMem(0xa080));
        // CB 54 03D3
        gbc.setState(0x548d, 0x2ceb, 0xbf0, 0x5476, 0xc880, 0x2af, 0x0, 0x0);
        gbc.writeMem(0x548d, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x2ceb, gbc.sp());
        EXPECT(0x548f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03D4
        gbc.setState(0x2308, 0xb323, 0x2b20, 0xe439, 0x8ce1, 0x70ac, 0x0, 0x1);
        gbc.writeMem(0x2308, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xb323, gbc.sp());
        EXPECT(0x230a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03D5
        gbc.setState(0x8f77, 0x15bd, 0xf820, 0xebdb, 0x7bec, 0x7158, 0x1, 0x1);
        gbc.writeMem(0x8f77, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x15bd, gbc.sp());
        EXPECT(0x8f79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f77));
        EXPECT(0x54, gbc.readMem(0x8f78));
        // CB 54 03D6
        gbc.setState(0xd073, 0xb23e, 0x6f40, 0x1d8d, 0xb6ec, 0x4570, 0x0, 0x0);
        gbc.writeMem(0xd073, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xb23e, gbc.sp());
        EXPECT(0xd075, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd073));
        EXPECT(0x54, gbc.readMem(0xd074));
        // CB 54 03D7
        gbc.setState(0x14e6, 0x4ac4, 0xa910, 0xbc2c, 0xae00, 0x6f29, 0x1, 0x1);
        gbc.writeMem(0x14e6, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x4ac4, gbc.sp());
        EXPECT(0x14e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03D8
        gbc.setState(0x2fd3, 0x1af4, 0xad30, 0x4585, 0x3565, 0x689d, 0x1, 0x1);
        gbc.writeMem(0x2fd3, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x1af4, gbc.sp());
        EXPECT(0x2fd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03D9
        gbc.setState(0xcb99, 0x5b0, 0x4e70, 0x5dbe, 0x9e21, 0x9a1d, 0x1, 0x1);
        gbc.writeMem(0xcb99, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x5b0, gbc.sp());
        EXPECT(0xcb9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb99));
        EXPECT(0x54, gbc.readMem(0xcb9a));
        // CB 54 03DA
        gbc.setState(0x454f, 0xf86d, 0xfd20, 0xd67a, 0x684e, 0x5274, 0x0, 0x0);
        gbc.writeMem(0x454f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xf86d, gbc.sp());
        EXPECT(0x4551, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03DC
        gbc.setState(0xa194, 0x718b, 0xf9f0, 0x8960, 0x39ed, 0x3098, 0x1, 0x1);
        gbc.writeMem(0xa194, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x718b, gbc.sp());
        EXPECT(0xa196, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa194));
        EXPECT(0x54, gbc.readMem(0xa195));
        // CB 54 03DD
        gbc.setState(0x26af, 0x6a78, 0x8fe0, 0x74b3, 0x8133, 0x6729, 0x0, 0x0);
        gbc.writeMem(0x26af, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x6a78, gbc.sp());
        EXPECT(0x26b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03DE
        gbc.setState(0x21cb, 0x9bdc, 0xab50, 0x6e36, 0x8499, 0x4669, 0x0, 0x1);
        gbc.writeMem(0x21cb, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x9bdc, gbc.sp());
        EXPECT(0x21cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 54 03DF
        gbc.setState(0xd30b, 0x89b1, 0xc920, 0x14eb, 0xfd38, 0x59bb, 0x0, 0x0);
        gbc.writeMem(0xd30b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x89b1, gbc.sp());
        EXPECT(0xd30d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd30b));
        EXPECT(0x54, gbc.readMem(0xd30c));
        // CB 54 03E0
        gbc.setState(0x1e8c, 0x8373, 0xa700, 0x7e8, 0x2f02, 0xf1d4, 0x1, 0x0);
        gbc.writeMem(0x1e8c, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x8373, gbc.sp());
        EXPECT(0x1e8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03E1
        gbc.setState(0x2e06, 0x74b3, 0x8a00, 0x1c4, 0x4b0f, 0x16ad, 0x0, 0x1);
        gbc.writeMem(0x2e06, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x74b3, gbc.sp());
        EXPECT(0x2e08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 54 03E2
        gbc.setState(0xa260, 0xe72c, 0xf80, 0x4588, 0x8367, 0xc46f, 0x0, 0x1);
        gbc.writeMem(0xa260, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xe72c, gbc.sp());
        EXPECT(0xa262, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa260));
        EXPECT(0x54, gbc.readMem(0xa261));
        // CB 54 03E3
        gbc.setState(0xa1f1, 0x3067, 0xba00, 0xd802, 0xf0c1, 0xcacc, 0x0, 0x1);
        gbc.writeMem(0xa1f1, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x3067, gbc.sp());
        EXPECT(0xa1f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1f1));
        EXPECT(0x54, gbc.readMem(0xa1f2));
        // CB 54 03E4
        gbc.setState(0x9982, 0xa8c4, 0xdc00, 0xa76b, 0xce74, 0xb43d, 0x1, 0x0);
        gbc.writeMem(0x9982, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xa8c4, gbc.sp());
        EXPECT(0x9984, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9982));
        EXPECT(0x54, gbc.readMem(0x9983));
        // CB 54 03E5
        gbc.setState(0x8750, 0x62e0, 0xe9b0, 0x1bb8, 0x677d, 0xab6b, 0x1, 0x0);
        gbc.writeMem(0x8750, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x62e0, gbc.sp());
        EXPECT(0x8752, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8750));
        EXPECT(0x54, gbc.readMem(0x8751));
        // CB 54 03E6
        gbc.setState(0xe33f, 0x45e6, 0x8a30, 0xeeb2, 0xf496, 0xd194, 0x0, 0x1);
        gbc.writeMem(0xe33f, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x45e6, gbc.sp());
        EXPECT(0xe341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe33f));
        EXPECT(0x54, gbc.readMem(0xe340));
        // CB 54 03E7
        gbc.setState(0xb01b, 0x80d1, 0x55d0, 0xe15c, 0x7b51, 0x47c8, 0x0, 0x0);
        gbc.writeMem(0xb01b, { 0xcb, 0x54 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x80d1, gbc.sp());
        EXPECT(0xb01d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb01b));
        EXPECT(0x54, gbc.readMem(0xb01c));
    }
