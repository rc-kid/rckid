    TEST(gbcemu, opcode_e8) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // E8 0000
        gbc.setState(0x1fbc, 0x203f, 0xfa20, 0x45df, 0xea63, 0x9ea2, 0x0, 0x0);
        gbc.writeMem(0x1fbc, { 0xe8, 0x50 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x208f, gbc.sp());
        EXPECT(0x1fbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0001
        gbc.setState(0x16b6, 0x72e3, 0xa500, 0xba5d, 0x5d5d, 0xaefb, 0x1, 0x1);
        gbc.writeMem(0x16b6, { 0xe8, 0xe5 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x72c8, gbc.sp());
        EXPECT(0x16b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0002
        gbc.setState(0x6366, 0xa01a, 0x7ac0, 0x2592, 0xd030, 0xac94, 0x0, 0x1);
        gbc.writeMem(0x6366, { 0xe8, 0x6c });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xa086, gbc.sp());
        EXPECT(0x6368, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0003
        gbc.setState(0x4fe2, 0xc45a, 0x96d0, 0xebf2, 0x52c8, 0xc3f3, 0x0, 0x1);
        gbc.writeMem(0x4fe2, { 0xe8, 0x2c });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xc486, gbc.sp());
        EXPECT(0x4fe4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0005
        gbc.setState(0x3883, 0xfa2a, 0x7e20, 0x4a61, 0xda87, 0xc739, 0x0, 0x0);
        gbc.writeMem(0x3883, { 0xe8, 0xe5 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xfa0f, gbc.sp());
        EXPECT(0x3885, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0006
        gbc.setState(0x3952, 0x62b5, 0x1f70, 0x9971, 0xf777, 0xe009, 0x1, 0x1);
        gbc.writeMem(0x3952, { 0xe8, 0xa5 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x625a, gbc.sp());
        EXPECT(0x3954, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0007
        gbc.setState(0xc649, 0xaae6, 0xbef0, 0x1ecd, 0x415, 0xfbc8, 0x1, 0x0);
        gbc.writeMem(0xc649, { 0xe8, 0xea });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xaad0, gbc.sp());
        EXPECT(0xc64b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc649));
        EXPECT(0xea, gbc.readMem(0xc64a));
        // E8 0008
        gbc.setState(0xb6e3, 0x46b, 0x1420, 0xafdc, 0xfeb7, 0x5261, 0x0, 0x1);
        gbc.writeMem(0xb6e3, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x4a1, gbc.sp());
        EXPECT(0xb6e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb6e3));
        EXPECT(0x36, gbc.readMem(0xb6e4));
        // E8 0009
        gbc.setState(0x7d57, 0x5d7d, 0x2370, 0x70bc, 0x8f1e, 0x7c13, 0x1, 0x1);
        gbc.writeMem(0x7d57, { 0xe8, 0x24 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x5da1, gbc.sp());
        EXPECT(0x7d59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 000A
        gbc.setState(0x5f22, 0x3ed9, 0xf040, 0x6cfe, 0x87e4, 0xa119, 0x0, 0x0);
        gbc.writeMem(0x5f22, { 0xe8, 0x58 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x3f31, gbc.sp());
        EXPECT(0x5f24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 000B
        gbc.setState(0x2ce2, 0x2553, 0x1b0, 0xbb9, 0xf2fd, 0x8bb3, 0x1, 0x0);
        gbc.writeMem(0x2ce2, { 0xe8, 0xb9 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x250c, gbc.sp());
        EXPECT(0x2ce4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 000C
        gbc.setState(0x81e5, 0x78f5, 0xd070, 0x6745, 0x5522, 0x7a02, 0x1, 0x0);
        gbc.writeMem(0x81e5, { 0xe8, 0x1 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x78f6, gbc.sp());
        EXPECT(0x81e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x81e5));
        EXPECT(0x1, gbc.readMem(0x81e6));
        // E8 000E
        gbc.setState(0x69d7, 0x7588, 0x2980, 0x6f78, 0x9b68, 0x428f, 0x1, 0x1);
        gbc.writeMem(0x69d7, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x75ad, gbc.sp());
        EXPECT(0x69d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 000F
        gbc.setState(0xe88f, 0xae91, 0x94a0, 0xc6ea, 0x617a, 0xaca0, 0x0, 0x0);
        gbc.writeMem(0xe88f, { 0xe8, 0xe0 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xae71, gbc.sp());
        EXPECT(0xe891, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe88f));
        EXPECT(0xe0, gbc.readMem(0xe890));
        // E8 0010
        gbc.setState(0xd182, 0xf8f8, 0xeda0, 0xabf3, 0xe88a, 0x509f, 0x0, 0x1);
        gbc.writeMem(0xd182, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xf88e, gbc.sp());
        EXPECT(0xd184, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd182));
        EXPECT(0x96, gbc.readMem(0xd183));
        // E8 0011
        gbc.setState(0x6ecc, 0x191e, 0x60, 0xa692, 0x1d1d, 0xe1e6, 0x1, 0x1);
        gbc.writeMem(0x6ecc, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x1925, gbc.sp());
        EXPECT(0x6ece, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0012
        gbc.setState(0xe323, 0xd99, 0xd380, 0xa326, 0x2c6d, 0xe17d, 0x1, 0x1);
        gbc.writeMem(0xe323, { 0xe8, 0xe1 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xd7a, gbc.sp());
        EXPECT(0xe325, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe323));
        EXPECT(0xe1, gbc.readMem(0xe324));
        // E8 0013
        gbc.setState(0x2064, 0x7082, 0x3f70, 0x8227, 0xb33c, 0xe12c, 0x0, 0x0);
        gbc.writeMem(0x2064, { 0xe8, 0xa7 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7029, gbc.sp());
        EXPECT(0x2066, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0014
        gbc.setState(0x7394, 0x434e, 0x2780, 0x4043, 0xab73, 0xadbd, 0x0, 0x0);
        gbc.writeMem(0x7394, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x43a8, gbc.sp());
        EXPECT(0x7396, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0015
        gbc.setState(0x39c1, 0x3d29, 0x8100, 0xe15b, 0x53f9, 0xa0f3, 0x0, 0x0);
        gbc.writeMem(0x39c1, { 0xe8, 0x71 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x3d9a, gbc.sp());
        EXPECT(0x39c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0016
        gbc.setState(0x88e5, 0x233d, 0xd0c0, 0xcf11, 0x1796, 0xbce6, 0x1, 0x1);
        gbc.writeMem(0x88e5, { 0xe8, 0xbd });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x22fa, gbc.sp());
        EXPECT(0x88e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x88e5));
        EXPECT(0xbd, gbc.readMem(0x88e6));
        // E8 0017
        gbc.setState(0xbe75, 0x56c8, 0x7e80, 0xc285, 0xa8dd, 0xd136, 0x1, 0x1);
        gbc.writeMem(0xbe75, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x5715, gbc.sp());
        EXPECT(0xbe77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbe75));
        EXPECT(0x4d, gbc.readMem(0xbe76));
        // E8 0018
        gbc.setState(0x17ad, 0x245, 0x9f80, 0xa248, 0xaf97, 0x1866, 0x0, 0x0);
        gbc.writeMem(0x17ad, { 0xe8, 0x43 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x288, gbc.sp());
        EXPECT(0x17af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0019
        gbc.setState(0xbf27, 0x217e, 0x81b0, 0x838b, 0xff3d, 0x9c22, 0x0, 0x1);
        gbc.writeMem(0xbf27, { 0xe8, 0x13 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x2191, gbc.sp());
        EXPECT(0xbf29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbf27));
        EXPECT(0x13, gbc.readMem(0xbf28));
        // E8 001A
        gbc.setState(0xb883, 0x7818, 0x5000, 0xcdf1, 0x6784, 0xe35c, 0x1, 0x1);
        gbc.writeMem(0xb883, { 0xe8, 0x6f });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7887, gbc.sp());
        EXPECT(0xb885, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb883));
        EXPECT(0x6f, gbc.readMem(0xb884));
        // E8 001B
        gbc.setState(0xc7eb, 0x8587, 0xba70, 0xdec0, 0x14, 0x4f7, 0x0, 0x1);
        gbc.writeMem(0xc7eb, { 0xe8, 0x57 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x85de, gbc.sp());
        EXPECT(0xc7ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc7eb));
        EXPECT(0x57, gbc.readMem(0xc7ec));
        // E8 001C
        gbc.setState(0x30c8, 0x53e2, 0xcc20, 0x64c4, 0xd5d0, 0xe491, 0x0, 0x0);
        gbc.writeMem(0x30c8, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x53dc, gbc.sp());
        EXPECT(0x30ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 001D
        gbc.setState(0xcc3a, 0x888a, 0x2420, 0x9d3a, 0x7feb, 0x1737, 0x0, 0x0);
        gbc.writeMem(0xcc3a, { 0xe8, 0xe0 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x886a, gbc.sp());
        EXPECT(0xcc3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcc3a));
        EXPECT(0xe0, gbc.readMem(0xcc3b));
        // E8 001E
        gbc.setState(0xd4eb, 0x8ea0, 0x8cd0, 0xc6ac, 0x97e3, 0x393f, 0x0, 0x0);
        gbc.writeMem(0xd4eb, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x8e41, gbc.sp());
        EXPECT(0xd4ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd4eb));
        EXPECT(0xa1, gbc.readMem(0xd4ec));
        // E8 001F
        gbc.setState(0xaec7, 0x3b4f, 0x27e0, 0x5b5e, 0x6923, 0x1f1f, 0x0, 0x1);
        gbc.writeMem(0xaec7, { 0xe8, 0x61 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x3bb0, gbc.sp());
        EXPECT(0xaec9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaec7));
        EXPECT(0x61, gbc.readMem(0xaec8));
        // E8 0020
        gbc.setState(0xaf85, 0x9aa9, 0x24c0, 0x77b2, 0x15dc, 0x2e27, 0x0, 0x0);
        gbc.writeMem(0xaf85, { 0xe8, 0xc7 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x9a70, gbc.sp());
        EXPECT(0xaf87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaf85));
        EXPECT(0xc7, gbc.readMem(0xaf86));
        // E8 0021
        gbc.setState(0x2e06, 0x8b57, 0xbfc0, 0xa878, 0x1b8b, 0x929, 0x0, 0x1);
        gbc.writeMem(0x2e06, { 0xe8, 0x59 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x8bb0, gbc.sp());
        EXPECT(0x2e08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0022
        gbc.setState(0x9727, 0xd6bd, 0x8830, 0xfb28, 0x8ed8, 0xe9d8, 0x1, 0x1);
        gbc.writeMem(0x9727, { 0xe8, 0x98 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xd655, gbc.sp());
        EXPECT(0x9729, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9727));
        EXPECT(0x98, gbc.readMem(0x9728));
        // E8 0023
        gbc.setState(0xe508, 0x421, 0xbe00, 0x2a20, 0x76fb, 0xf882, 0x1, 0x1);
        gbc.writeMem(0xe508, { 0xe8, 0xaf });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x3d0, gbc.sp());
        EXPECT(0xe50a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe508));
        EXPECT(0xaf, gbc.readMem(0xe509));
        // E8 0024
        gbc.setState(0xcb01, 0xfbd7, 0xf850, 0xfa93, 0x48c9, 0x1968, 0x1, 0x1);
        gbc.writeMem(0xcb01, { 0xe8, 0xeb });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xfbc2, gbc.sp());
        EXPECT(0xcb03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcb01));
        EXPECT(0xeb, gbc.readMem(0xcb02));
        // E8 0025
        gbc.setState(0xddc2, 0xdc18, 0x17c0, 0x575b, 0xfb8b, 0x9efa, 0x0, 0x0);
        gbc.writeMem(0xddc2, { 0xe8, 0x3f });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xdc57, gbc.sp());
        EXPECT(0xddc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xddc2));
        EXPECT(0x3f, gbc.readMem(0xddc3));
        // E8 0026
        gbc.setState(0x7b29, 0x35bb, 0x8bf0, 0x70f6, 0xb3d3, 0xea2, 0x0, 0x0);
        gbc.writeMem(0x7b29, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x35b5, gbc.sp());
        EXPECT(0x7b2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0027
        gbc.setState(0xa95a, 0xadf2, 0xd220, 0xacc5, 0x4910, 0xedbb, 0x0, 0x1);
        gbc.writeMem(0xa95a, { 0xe8, 0xc4 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xadb6, gbc.sp());
        EXPECT(0xa95c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa95a));
        EXPECT(0xc4, gbc.readMem(0xa95b));
        // E8 0028
        gbc.setState(0xe2f6, 0x4644, 0x40a0, 0x2c7e, 0xa71c, 0x5d9e, 0x1, 0x1);
        gbc.writeMem(0xe2f6, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x463e, gbc.sp());
        EXPECT(0xe2f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe2f6));
        EXPECT(0xfa, gbc.readMem(0xe2f7));
        // E8 0029
        gbc.setState(0x76dc, 0xc8c, 0xde50, 0x6997, 0x50d7, 0xa365, 0x1, 0x0);
        gbc.writeMem(0x76dc, { 0xe8, 0xd5 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xc61, gbc.sp());
        EXPECT(0x76de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 002A
        gbc.setState(0x6e12, 0x8a88, 0x9710, 0xeb29, 0xf9d0, 0x51e7, 0x0, 0x1);
        gbc.writeMem(0x6e12, { 0xe8, 0xb7 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x8a3f, gbc.sp());
        EXPECT(0x6e14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 002C
        gbc.setState(0xd93c, 0x601f, 0xa630, 0x8585, 0x305b, 0x754d, 0x0, 0x1);
        gbc.writeMem(0xd93c, { 0xe8, 0x66 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x6085, gbc.sp());
        EXPECT(0xd93e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd93c));
        EXPECT(0x66, gbc.readMem(0xd93d));
        // E8 002D
        gbc.setState(0xd9ff, 0x2dad, 0x89b0, 0xe153, 0xbcd6, 0x9589, 0x1, 0x0);
        gbc.writeMem(0xd9ff, { 0xe8, 0xa6 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x2d53, gbc.sp());
        EXPECT(0xda01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd9ff));
        EXPECT(0xa6, gbc.readMem(0xda00));
        // E8 002E
        gbc.setState(0x3ed, 0x1c9c, 0x2320, 0xfb44, 0xd326, 0x3f4f, 0x1, 0x1);
        gbc.writeMem(0x3ed, { 0xe8, 0xa7 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x1c43, gbc.sp());
        EXPECT(0x3ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 002F
        gbc.setState(0x96fe, 0x15a2, 0xa720, 0xc30f, 0x8e76, 0x9d24, 0x0, 0x0);
        gbc.writeMem(0x96fe, { 0xe8, 0xd8 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x157a, gbc.sp());
        EXPECT(0x9700, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x96fe));
        EXPECT(0xd8, gbc.readMem(0x96ff));
        // E8 0030
        gbc.setState(0x2977, 0xa877, 0x6820, 0xe5ad, 0x6789, 0x825e, 0x0, 0x1);
        gbc.writeMem(0x2977, { 0xe8, 0xc9 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xa840, gbc.sp());
        EXPECT(0x2979, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0031
        gbc.setState(0x6a7, 0x3cf8, 0x9980, 0x440b, 0x18a9, 0x3380, 0x0, 0x1);
        gbc.writeMem(0x6a7, { 0xe8, 0x30 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x3d28, gbc.sp());
        EXPECT(0x6a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0032
        gbc.setState(0x962c, 0x1c75, 0x5c0, 0x9d4e, 0x2261, 0x2409, 0x0, 0x0);
        gbc.writeMem(0x962c, { 0xe8, 0xb });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x1c80, gbc.sp());
        EXPECT(0x962e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x962c));
        EXPECT(0xb, gbc.readMem(0x962d));
        // E8 0034
        gbc.setState(0xdcdc, 0xa29, 0x7180, 0xa374, 0xbebc, 0xe22a, 0x0, 0x1);
        gbc.writeMem(0xdcdc, { 0xe8, 0x72 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xa9b, gbc.sp());
        EXPECT(0xdcde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdcdc));
        EXPECT(0x72, gbc.readMem(0xdcdd));
        // E8 0035
        gbc.setState(0x5852, 0x600a, 0x4f20, 0x8682, 0xcf1d, 0xe645, 0x1, 0x1);
        gbc.writeMem(0x5852, { 0xe8, 0x3f });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x6049, gbc.sp());
        EXPECT(0x5854, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0036
        gbc.setState(0xdd67, 0x795a, 0x8df0, 0x6083, 0xb476, 0xedbb, 0x0, 0x0);
        gbc.writeMem(0xdd67, { 0xe8, 0x74 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x79ce, gbc.sp());
        EXPECT(0xdd69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdd67));
        EXPECT(0x74, gbc.readMem(0xdd68));
        // E8 0037
        gbc.setState(0x9b1a, 0xbf8, 0xa780, 0x60d6, 0xd95e, 0x6458, 0x1, 0x1);
        gbc.writeMem(0x9b1a, { 0xe8, 0x12 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc0a, gbc.sp());
        EXPECT(0x9b1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9b1a));
        EXPECT(0x12, gbc.readMem(0x9b1b));
        // E8 0038
        gbc.setState(0xb280, 0x3009, 0x5b40, 0xeca0, 0xf3fa, 0xd60a, 0x1, 0x0);
        gbc.writeMem(0xb280, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3010, gbc.sp());
        EXPECT(0xb282, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb280));
        EXPECT(0x7, gbc.readMem(0xb281));
        // E8 0039
        gbc.setState(0x2277, 0x3e2f, 0xbc80, 0xaa08, 0x6461, 0x56c3, 0x1, 0x1);
        gbc.writeMem(0x2277, { 0xe8, 0x31 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3e60, gbc.sp());
        EXPECT(0x2279, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 003A
        gbc.setState(0x156e, 0xfa38, 0x7790, 0x4e70, 0x9835, 0x3a35, 0x0, 0x0);
        gbc.writeMem(0x156e, { 0xe8, 0x66 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xfa9e, gbc.sp());
        EXPECT(0x1570, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 003B
        gbc.setState(0x3af8, 0xb47f, 0xb8e0, 0x1157, 0x949e, 0x546d, 0x1, 0x0);
        gbc.writeMem(0x3af8, { 0xe8, 0xdf });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xb45e, gbc.sp());
        EXPECT(0x3afa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 003C
        gbc.setState(0x977d, 0x130c, 0x24a0, 0xa251, 0xbb8, 0x5cbf, 0x0, 0x0);
        gbc.writeMem(0x977d, { 0xe8, 0x97 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x12a3, gbc.sp());
        EXPECT(0x977f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x977d));
        EXPECT(0x97, gbc.readMem(0x977e));
        // E8 003D
        gbc.setState(0x1951, 0x6cf5, 0xfab0, 0x48e2, 0x1234, 0xd3dd, 0x1, 0x1);
        gbc.writeMem(0x1951, { 0xe8, 0x5f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x6d54, gbc.sp());
        EXPECT(0x1953, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 003E
        gbc.setState(0xea5b, 0xfb13, 0xb9a0, 0xd3fc, 0xa41e, 0xf899, 0x0, 0x1);
        gbc.writeMem(0xea5b, { 0xe8, 0xe6 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xfaf9, gbc.sp());
        EXPECT(0xea5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xea5b));
        EXPECT(0xe6, gbc.readMem(0xea5c));
        // E8 003F
        gbc.setState(0x68fe, 0x1229, 0xa790, 0xc6cf, 0x4c35, 0xcc51, 0x1, 0x1);
        gbc.writeMem(0x68fe, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x1252, gbc.sp());
        EXPECT(0x6900, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0040
        gbc.setState(0xc4e2, 0xd3c5, 0x2500, 0x9eea, 0x2e86, 0x6eb2, 0x0, 0x0);
        gbc.writeMem(0xc4e2, { 0xe8, 0x52 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xd417, gbc.sp());
        EXPECT(0xc4e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc4e2));
        EXPECT(0x52, gbc.readMem(0xc4e3));
        // E8 0041
        gbc.setState(0x9ed5, 0x8d5d, 0xc2c0, 0x4cec, 0x78e8, 0x2e9f, 0x1, 0x1);
        gbc.writeMem(0x9ed5, { 0xe8, 0x18 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x8d75, gbc.sp());
        EXPECT(0x9ed7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9ed5));
        EXPECT(0x18, gbc.readMem(0x9ed6));
        // E8 0042
        gbc.setState(0x335, 0xad66, 0x5ba0, 0xeffa, 0xba0b, 0xc374, 0x1, 0x0);
        gbc.writeMem(0x335, { 0xe8, 0x62 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xadc8, gbc.sp());
        EXPECT(0x337, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0043
        gbc.setState(0x8e6d, 0x7c32, 0x87b0, 0x5060, 0xb636, 0x2d6, 0x1, 0x0);
        gbc.writeMem(0x8e6d, { 0xe8, 0xdc });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x7c0e, gbc.sp());
        EXPECT(0x8e6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8e6d));
        EXPECT(0xdc, gbc.readMem(0x8e6e));
        // E8 0044
        gbc.setState(0x3c9d, 0xfd21, 0x7430, 0x55cc, 0x8ff2, 0x5563, 0x1, 0x1);
        gbc.writeMem(0x3c9d, { 0xe8, 0x28 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xfd49, gbc.sp());
        EXPECT(0x3c9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0045
        gbc.setState(0x64b5, 0x603a, 0x9a0, 0x9767, 0xa26b, 0x39c4, 0x0, 0x1);
        gbc.writeMem(0x64b5, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x6027, gbc.sp());
        EXPECT(0x64b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0046
        gbc.setState(0xb89e, 0xcec6, 0x1430, 0x5e60, 0x6c2a, 0xca12, 0x1, 0x1);
        gbc.writeMem(0xb89e, { 0xe8, 0xb6 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xce7c, gbc.sp());
        EXPECT(0xb8a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb89e));
        EXPECT(0xb6, gbc.readMem(0xb89f));
        // E8 0047
        gbc.setState(0xedea, 0xee2e, 0xe610, 0x7d61, 0x9ece, 0xefc3, 0x1, 0x1);
        gbc.writeMem(0xedea, { 0xe8, 0xde });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xee0c, gbc.sp());
        EXPECT(0xedec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xedea));
        EXPECT(0xde, gbc.readMem(0xedeb));
        // E8 0048
        gbc.setState(0xe34d, 0x736b, 0x3890, 0xe679, 0x6d0a, 0xc13, 0x0, 0x0);
        gbc.writeMem(0xe34d, { 0xe8, 0xd8 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x7343, gbc.sp());
        EXPECT(0xe34f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe34d));
        EXPECT(0xd8, gbc.readMem(0xe34e));
        // E8 0049
        gbc.setState(0x34b, 0xf31f, 0xec70, 0xd4e7, 0x3301, 0x2562, 0x1, 0x1);
        gbc.writeMem(0x34b, { 0xe8, 0x18 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xf337, gbc.sp());
        EXPECT(0x34d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 004A
        gbc.setState(0x139f, 0x91e2, 0x5770, 0x6e63, 0x26a8, 0x2e, 0x1, 0x1);
        gbc.writeMem(0x139f, { 0xe8, 0xd0 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x91b2, gbc.sp());
        EXPECT(0x13a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 004B
        gbc.setState(0x3936, 0x8024, 0xdf40, 0xb46a, 0xdeaf, 0x2f2f, 0x1, 0x1);
        gbc.writeMem(0x3936, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x807e, gbc.sp());
        EXPECT(0x3938, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 004C
        gbc.setState(0xa41a, 0xed0f, 0xa590, 0x7b16, 0xf084, 0x1d89, 0x0, 0x0);
        gbc.writeMem(0xa41a, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xec95, gbc.sp());
        EXPECT(0xa41c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa41a));
        EXPECT(0x86, gbc.readMem(0xa41b));
        // E8 004D
        gbc.setState(0x199, 0xaff, 0x2ec0, 0x5290, 0x6694, 0xfb25, 0x0, 0x0);
        gbc.writeMem(0x199, { 0xe8, 0xd9 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xad8, gbc.sp());
        EXPECT(0x19b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 004E
        gbc.setState(0x9830, 0x15b6, 0x2f70, 0xc005, 0xb641, 0x2427, 0x1, 0x1);
        gbc.writeMem(0x9830, { 0xe8, 0x34 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x15ea, gbc.sp());
        EXPECT(0x9832, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9830));
        EXPECT(0x34, gbc.readMem(0x9831));
        // E8 004F
        gbc.setState(0x5712, 0x5fac, 0xc960, 0x592d, 0x47bf, 0x78ea, 0x1, 0x0);
        gbc.writeMem(0x5712, { 0xe8, 0xf3 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x5f9f, gbc.sp());
        EXPECT(0x5714, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0051
        gbc.setState(0xa2c5, 0x2fd9, 0xe450, 0x85b9, 0x94c5, 0x9a7a, 0x0, 0x0);
        gbc.writeMem(0xa2c5, { 0xe8, 0x4 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x2fdd, gbc.sp());
        EXPECT(0xa2c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa2c5));
        EXPECT(0x4, gbc.readMem(0xa2c6));
        // E8 0052
        gbc.setState(0x4d20, 0xf799, 0xb9b0, 0x8bf0, 0xb99a, 0x31bd, 0x0, 0x0);
        gbc.writeMem(0x4d20, { 0xe8, 0x4 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xf79d, gbc.sp());
        EXPECT(0x4d22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0053
        gbc.setState(0x2856, 0xca41, 0xcf0, 0x86ea, 0x8c88, 0xfb59, 0x1, 0x1);
        gbc.writeMem(0x2856, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xc9ec, gbc.sp());
        EXPECT(0x2858, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0054
        gbc.setState(0xae50, 0xa134, 0x8b60, 0x6cd3, 0xfed6, 0x80ff, 0x1, 0x1);
        gbc.writeMem(0xae50, { 0xe8, 0x5f });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xa193, gbc.sp());
        EXPECT(0xae52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae50));
        EXPECT(0x5f, gbc.readMem(0xae51));
        // E8 0055
        gbc.setState(0xec83, 0x40b2, 0x4d50, 0xf253, 0x8f47, 0xfcb6, 0x1, 0x1);
        gbc.writeMem(0xec83, { 0xe8, 0xf4 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x40a6, gbc.sp());
        EXPECT(0xec85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xec83));
        EXPECT(0xf4, gbc.readMem(0xec84));
        // E8 0056
        gbc.setState(0xc419, 0x406a, 0xe5e0, 0xaacf, 0xcb9c, 0xa28f, 0x0, 0x0);
        gbc.writeMem(0xc419, { 0xe8, 0x2a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x4094, gbc.sp());
        EXPECT(0xc41b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc419));
        EXPECT(0x2a, gbc.readMem(0xc41a));
        // E8 0057
        gbc.setState(0x7d2b, 0xe805, 0xbaa0, 0xd908, 0x98e9, 0x79c6, 0x0, 0x0);
        gbc.writeMem(0x7d2b, { 0xe8, 0x44 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xe849, gbc.sp());
        EXPECT(0x7d2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0059
        gbc.setState(0x2928, 0xaa93, 0x15d0, 0x9311, 0xa0e6, 0x15dd, 0x1, 0x0);
        gbc.writeMem(0x2928, { 0xe8, 0xe1 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xaa74, gbc.sp());
        EXPECT(0x292a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 005A
        gbc.setState(0x904d, 0x460b, 0x51a0, 0xe0df, 0xb526, 0xbbd8, 0x1, 0x1);
        gbc.writeMem(0x904d, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x45a1, gbc.sp());
        EXPECT(0x904f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x904d));
        EXPECT(0x96, gbc.readMem(0x904e));
        // E8 005B
        gbc.setState(0x48b6, 0xfa0a, 0x7400, 0x629a, 0x8919, 0x7792, 0x1, 0x1);
        gbc.writeMem(0x48b6, { 0xe8, 0x0 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xfa0a, gbc.sp());
        EXPECT(0x48b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 005C
        gbc.setState(0x3fe2, 0xb0a2, 0xc180, 0x3c06, 0xaf3f, 0x9cc5, 0x0, 0x0);
        gbc.writeMem(0x3fe2, { 0xe8, 0xdb });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xb07d, gbc.sp());
        EXPECT(0x3fe4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 005D
        gbc.setState(0x44c8, 0x87d5, 0xa0a0, 0xb7cf, 0xdd55, 0x10ef, 0x0, 0x0);
        gbc.writeMem(0x44c8, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x879b, gbc.sp());
        EXPECT(0x44ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 005E
        gbc.setState(0x3928, 0x5253, 0x12c0, 0x6ee6, 0xde11, 0x279e, 0x1, 0x1);
        gbc.writeMem(0x3928, { 0xe8, 0xf1 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x5244, gbc.sp());
        EXPECT(0x392a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 005F
        gbc.setState(0x6dc5, 0xb97d, 0xc0a0, 0xd28f, 0xc760, 0xa9db, 0x0, 0x0);
        gbc.writeMem(0x6dc5, { 0xe8, 0xc });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xb989, gbc.sp());
        EXPECT(0x6dc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0060
        gbc.setState(0xc99d, 0x7ea9, 0xf5d0, 0xf7a8, 0xc8f2, 0x580b, 0x1, 0x0);
        gbc.writeMem(0xc99d, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7ec5, gbc.sp());
        EXPECT(0xc99f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc99d));
        EXPECT(0x1c, gbc.readMem(0xc99e));
        // E8 0061
        gbc.setState(0xec66, 0xdd10, 0xb160, 0x470c, 0xd2ba, 0x9aab, 0x0, 0x1);
        gbc.writeMem(0xec66, { 0xe8, 0x2c });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xdd3c, gbc.sp());
        EXPECT(0xec68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xec66));
        EXPECT(0x2c, gbc.readMem(0xec67));
        // E8 0062
        gbc.setState(0x4ac3, 0x532e, 0xb6b0, 0x6804, 0x984b, 0xefcc, 0x1, 0x1);
        gbc.writeMem(0x4ac3, { 0xe8, 0xb0 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x52de, gbc.sp());
        EXPECT(0x4ac5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0063
        gbc.setState(0x234d, 0xaf21, 0xfee0, 0x1fdd, 0xe3af, 0xb988, 0x0, 0x0);
        gbc.writeMem(0x234d, { 0xe8, 0xa2 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xaec3, gbc.sp());
        EXPECT(0x234f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0064
        gbc.setState(0x6c55, 0xa2ad, 0xf4a0, 0xb80d, 0xdf6d, 0xc49b, 0x1, 0x1);
        gbc.writeMem(0x6c55, { 0xe8, 0x15 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xa2c2, gbc.sp());
        EXPECT(0x6c57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0065
        gbc.setState(0xd24d, 0x6e1, 0x23f0, 0x7142, 0x5324, 0x177, 0x0, 0x0);
        gbc.writeMem(0xd24d, { 0xe8, 0xd8 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x6b9, gbc.sp());
        EXPECT(0xd24f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd24d));
        EXPECT(0xd8, gbc.readMem(0xd24e));
        // E8 0067
        gbc.setState(0xb29e, 0xb5b1, 0x640, 0x4b5d, 0x7410, 0x43d7, 0x0, 0x0);
        gbc.writeMem(0xb29e, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xb59e, gbc.sp());
        EXPECT(0xb2a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb29e));
        EXPECT(0xed, gbc.readMem(0xb29f));
        // E8 0068
        gbc.setState(0x80f5, 0x4f62, 0xbdc0, 0x2107, 0x4815, 0xcf37, 0x1, 0x1);
        gbc.writeMem(0x80f5, { 0xe8, 0x41 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x4fa3, gbc.sp());
        EXPECT(0x80f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x80f5));
        EXPECT(0x41, gbc.readMem(0x80f6));
        // E8 0069
        gbc.setState(0x389d, 0xeb3c, 0xe560, 0x8de9, 0x1b76, 0x7fd8, 0x1, 0x0);
        gbc.writeMem(0x389d, { 0xe8, 0x41 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xeb7d, gbc.sp());
        EXPECT(0x389f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 006A
        gbc.setState(0xbfa8, 0x292f, 0x6a70, 0x6c58, 0x61c5, 0x2d4e, 0x0, 0x0);
        gbc.writeMem(0xbfa8, { 0xe8, 0x77 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x29a6, gbc.sp());
        EXPECT(0xbfaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbfa8));
        EXPECT(0x77, gbc.readMem(0xbfa9));
        // E8 006C
        gbc.setState(0xba0e, 0xcb52, 0x9cd0, 0xc1c6, 0x7e1b, 0x2fb1, 0x0, 0x1);
        gbc.writeMem(0xba0e, { 0xe8, 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xcba6, gbc.sp());
        EXPECT(0xba10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xba0e));
        EXPECT(0x54, gbc.readMem(0xba0f));
        // E8 006D
        gbc.setState(0x85ac, 0x9f02, 0xaa80, 0x2299, 0x3603, 0x10dc, 0x1, 0x1);
        gbc.writeMem(0x85ac, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x9f27, gbc.sp());
        EXPECT(0x85ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x85ac));
        EXPECT(0x25, gbc.readMem(0x85ad));
        // E8 006F
        gbc.setState(0x6bcf, 0xfc1, 0xf010, 0x4035, 0x3130, 0x8e2e, 0x0, 0x1);
        gbc.writeMem(0x6bcf, { 0xe8, 0x6d });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x102e, gbc.sp());
        EXPECT(0x6bd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0070
        gbc.setState(0xa00e, 0x2839, 0xdb70, 0x5d57, 0x2a3a, 0x3fd7, 0x0, 0x1);
        gbc.writeMem(0xa00e, { 0xe8, 0x28 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x2861, gbc.sp());
        EXPECT(0xa010, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa00e));
        EXPECT(0x28, gbc.readMem(0xa00f));
        // E8 0071
        gbc.setState(0xc6e8, 0xd40e, 0x8a0, 0xdd1a, 0x9c49, 0x3cbe, 0x0, 0x0);
        gbc.writeMem(0xc6e8, { 0xe8, 0xc0 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd3ce, gbc.sp());
        EXPECT(0xc6ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc6e8));
        EXPECT(0xc0, gbc.readMem(0xc6e9));
        // E8 0072
        gbc.setState(0x58a2, 0x213, 0xdce0, 0x8760, 0x7269, 0xf7d3, 0x1, 0x1);
        gbc.writeMem(0x58a2, { 0xe8, 0xbc });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x1cf, gbc.sp());
        EXPECT(0x58a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0073
        gbc.setState(0x3cc1, 0x827d, 0x2b0, 0x2200, 0x300c, 0xcf31, 0x0, 0x0);
        gbc.writeMem(0x3cc1, { 0xe8, 0x12 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x828f, gbc.sp());
        EXPECT(0x3cc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0075
        gbc.setState(0xb466, 0x1469, 0x770, 0xdc1d, 0x2768, 0x1fa3, 0x0, 0x0);
        gbc.writeMem(0xb466, { 0xe8, 0x70 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x14d9, gbc.sp());
        EXPECT(0xb468, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb466));
        EXPECT(0x70, gbc.readMem(0xb467));
        // E8 0076
        gbc.setState(0xd85c, 0x31e2, 0xb970, 0x285, 0xf0c7, 0xc3b0, 0x1, 0x0);
        gbc.writeMem(0xd85c, { 0xe8, 0x63 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x3245, gbc.sp());
        EXPECT(0xd85e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd85c));
        EXPECT(0x63, gbc.readMem(0xd85d));
        // E8 0078
        gbc.setState(0x2108, 0x64e2, 0x3ed0, 0xb5da, 0x2dcd, 0x8011, 0x1, 0x1);
        gbc.writeMem(0x2108, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x652f, gbc.sp());
        EXPECT(0x210a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0079
        gbc.setState(0x3e5c, 0x5127, 0xf440, 0x1c75, 0xdc74, 0x5a98, 0x1, 0x1);
        gbc.writeMem(0x3e5c, { 0xe8, 0x13 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x513a, gbc.sp());
        EXPECT(0x3e5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 007A
        gbc.setState(0xed83, 0xce91, 0x6750, 0x60d4, 0xf47f, 0xbfe9, 0x1, 0x0);
        gbc.writeMem(0xed83, { 0xe8, 0x18 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xcea9, gbc.sp());
        EXPECT(0xed85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xed83));
        EXPECT(0x18, gbc.readMem(0xed84));
        // E8 007B
        gbc.setState(0xac2e, 0x928c, 0x2f80, 0xb082, 0x7b7f, 0x6c8a, 0x0, 0x0);
        gbc.writeMem(0xac2e, { 0xe8, 0xbc });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x9248, gbc.sp());
        EXPECT(0xac30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xac2e));
        EXPECT(0xbc, gbc.readMem(0xac2f));
        // E8 007C
        gbc.setState(0xb40d, 0xb62e, 0xcd00, 0xf5f8, 0x89f0, 0x37b5, 0x0, 0x0);
        gbc.writeMem(0xb40d, { 0xe8, 0x5f });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xb68d, gbc.sp());
        EXPECT(0xb40f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb40d));
        EXPECT(0x5f, gbc.readMem(0xb40e));
        // E8 007D
        gbc.setState(0x6370, 0x9957, 0x66e0, 0xa3bd, 0xf173, 0xcd65, 0x0, 0x1);
        gbc.writeMem(0x6370, { 0xe8, 0x50 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x99a7, gbc.sp());
        EXPECT(0x6372, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 007E
        gbc.setState(0x5cbf, 0x193a, 0x4090, 0xaf61, 0xe5fc, 0x642a, 0x1, 0x1);
        gbc.writeMem(0x5cbf, { 0xe8, 0x39 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x1973, gbc.sp());
        EXPECT(0x5cc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 007F
        gbc.setState(0xb258, 0xc725, 0x5bb0, 0x8399, 0x1729, 0xe9b8, 0x1, 0x0);
        gbc.writeMem(0xb258, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xc6d2, gbc.sp());
        EXPECT(0xb25a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb258));
        EXPECT(0xad, gbc.readMem(0xb259));
        // E8 0080
        gbc.setState(0xbdfe, 0x2df9, 0x6840, 0x9401, 0x6d51, 0xf240, 0x0, 0x1);
        gbc.writeMem(0xbdfe, { 0xe8, 0xa7 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x2da0, gbc.sp());
        EXPECT(0xbe00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbdfe));
        EXPECT(0xa7, gbc.readMem(0xbdff));
        // E8 0081
        gbc.setState(0xe3a8, 0xe410, 0x7020, 0xdd5, 0x9fd3, 0x6854, 0x0, 0x0);
        gbc.writeMem(0xe3a8, { 0xe8, 0x4e });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xe45e, gbc.sp());
        EXPECT(0xe3aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe3a8));
        EXPECT(0x4e, gbc.readMem(0xe3a9));
        // E8 0082
        gbc.setState(0x92cd, 0x508, 0x5bd0, 0x2f30, 0x109e, 0xdae4, 0x1, 0x0);
        gbc.writeMem(0x92cd, { 0xe8, 0xcb });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4d3, gbc.sp());
        EXPECT(0x92cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x92cd));
        EXPECT(0xcb, gbc.readMem(0x92ce));
        // E8 0083
        gbc.setState(0xcd2f, 0xb30f, 0xdae0, 0x3117, 0xf6f5, 0x25ff, 0x0, 0x0);
        gbc.writeMem(0xcd2f, { 0xe8, 0x13 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xb322, gbc.sp());
        EXPECT(0xcd31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcd2f));
        EXPECT(0x13, gbc.readMem(0xcd30));
        // E8 0084
        gbc.setState(0xb8d3, 0xf559, 0x4830, 0x2077, 0x353c, 0xd73c, 0x1, 0x0);
        gbc.writeMem(0xb8d3, { 0xe8, 0x4b });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xf5a4, gbc.sp());
        EXPECT(0xb8d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb8d3));
        EXPECT(0x4b, gbc.readMem(0xb8d4));
        // E8 0085
        gbc.setState(0x8a80, 0xc9f3, 0xa110, 0x80f7, 0xf350, 0xad95, 0x1, 0x1);
        gbc.writeMem(0x8a80, { 0xe8, 0x3b });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xca2e, gbc.sp());
        EXPECT(0x8a82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8a80));
        EXPECT(0x3b, gbc.readMem(0x8a81));
        // E8 0087
        gbc.setState(0xabb, 0x719c, 0xfce0, 0x4b6, 0xed43, 0x5142, 0x1, 0x0);
        gbc.writeMem(0xabb, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x7196, gbc.sp());
        EXPECT(0xabd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0088
        gbc.setState(0xe72d, 0x2a2, 0xb890, 0x8e34, 0xc596, 0xdab5, 0x0, 0x1);
        gbc.writeMem(0xe72d, { 0xe8, 0x9c });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x23e, gbc.sp());
        EXPECT(0xe72f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe72d));
        EXPECT(0x9c, gbc.readMem(0xe72e));
        // E8 0089
        gbc.setState(0xe497, 0x33b6, 0xa5b0, 0xf08b, 0x8cb7, 0x2d19, 0x1, 0x1);
        gbc.writeMem(0xe497, { 0xe8, 0xa2 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x3358, gbc.sp());
        EXPECT(0xe499, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe497));
        EXPECT(0xa2, gbc.readMem(0xe498));
        // E8 008A
        gbc.setState(0xefce, 0xe53f, 0xbaf0, 0x74eb, 0x6d8e, 0x870b, 0x0, 0x0);
        gbc.writeMem(0xefce, { 0xe8, 0x4e });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xe58d, gbc.sp());
        EXPECT(0xefd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xefce));
        EXPECT(0x4e, gbc.readMem(0xefcf));
        // E8 008B
        gbc.setState(0x9362, 0x62fd, 0xc300, 0x9bf1, 0x7f86, 0x2bba, 0x1, 0x0);
        gbc.writeMem(0x9362, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x62a8, gbc.sp());
        EXPECT(0x9364, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9362));
        EXPECT(0xab, gbc.readMem(0x9363));
        // E8 008C
        gbc.setState(0x57a0, 0x2313, 0x1f90, 0xe6f8, 0xa91d, 0x4d40, 0x0, 0x0);
        gbc.writeMem(0x57a0, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x22d9, gbc.sp());
        EXPECT(0x57a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 008D
        gbc.setState(0x4ec6, 0xac8c, 0x4ab0, 0x5028, 0x290a, 0x9560, 0x0, 0x1);
        gbc.writeMem(0x4ec6, { 0xe8, 0x3c });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xacc8, gbc.sp());
        EXPECT(0x4ec8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 008E
        gbc.setState(0x4d7e, 0x4d82, 0xfc90, 0xf20f, 0xf13e, 0x78ad, 0x1, 0x1);
        gbc.writeMem(0x4d7e, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x4d48, gbc.sp());
        EXPECT(0x4d80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 008F
        gbc.setState(0x9155, 0x9f1e, 0x43f0, 0x3390, 0xc1a9, 0xea94, 0x0, 0x0);
        gbc.writeMem(0x9155, { 0xe8, 0x94 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9eb2, gbc.sp());
        EXPECT(0x9157, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9155));
        EXPECT(0x94, gbc.readMem(0x9156));
        // E8 0090
        gbc.setState(0x26e3, 0xaac6, 0x2700, 0xc777, 0xcd6b, 0xd0d7, 0x0, 0x1);
        gbc.writeMem(0x26e3, { 0xe8, 0x68 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xab2e, gbc.sp());
        EXPECT(0x26e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0091
        gbc.setState(0xeba0, 0x84f3, 0xb630, 0x2073, 0xe009, 0x33e7, 0x0, 0x0);
        gbc.writeMem(0xeba0, { 0xe8, 0x8a });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x847d, gbc.sp());
        EXPECT(0xeba2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeba0));
        EXPECT(0x8a, gbc.readMem(0xeba1));
        // E8 0092
        gbc.setState(0x6e89, 0x21, 0xb1d0, 0x2028, 0x4fc9, 0x108a, 0x0, 0x0);
        gbc.writeMem(0x6e89, { 0xe8, 0x30 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x51, gbc.sp());
        EXPECT(0x6e8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0093
        gbc.setState(0xd746, 0xb0a9, 0x6140, 0x2c76, 0xa618, 0x4baf, 0x0, 0x0);
        gbc.writeMem(0xd746, { 0xe8, 0x42 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xb0eb, gbc.sp());
        EXPECT(0xd748, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd746));
        EXPECT(0x42, gbc.readMem(0xd747));
        // E8 0094
        gbc.setState(0x79db, 0x2489, 0x9c90, 0x3d89, 0xa1e1, 0xa7e2, 0x0, 0x1);
        gbc.writeMem(0x79db, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x24ae, gbc.sp());
        EXPECT(0x79dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0095
        gbc.setState(0x55bf, 0x305e, 0x8890, 0x89ed, 0xe0b5, 0xd968, 0x1, 0x1);
        gbc.writeMem(0x55bf, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x2fe4, gbc.sp());
        EXPECT(0x55c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0096
        gbc.setState(0xe1d6, 0xe885, 0xdc0, 0xb67e, 0xc207, 0xb190, 0x1, 0x0);
        gbc.writeMem(0xe1d6, { 0xe8, 0x12 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xe897, gbc.sp());
        EXPECT(0xe1d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe1d6));
        EXPECT(0x12, gbc.readMem(0xe1d7));
        // E8 0097
        gbc.setState(0x621f, 0x9865, 0x1370, 0x3bee, 0x1f0c, 0x8fd3, 0x0, 0x1);
        gbc.writeMem(0x621f, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x97fa, gbc.sp());
        EXPECT(0x6221, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0098
        gbc.setState(0x78c1, 0x37fb, 0xd660, 0x465e, 0xe1f9, 0x5c08, 0x0, 0x1);
        gbc.writeMem(0x78c1, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x3802, gbc.sp());
        EXPECT(0x78c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0099
        gbc.setState(0xa298, 0x5173, 0x7160, 0x65a2, 0x63f9, 0x8b04, 0x0, 0x0);
        gbc.writeMem(0xa298, { 0xe8, 0xa9 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x511c, gbc.sp());
        EXPECT(0xa29a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa298));
        EXPECT(0xa9, gbc.readMem(0xa299));
        // E8 009A
        gbc.setState(0x850d, 0x3db3, 0x39f0, 0xc6fc, 0xdf99, 0x756a, 0x0, 0x1);
        gbc.writeMem(0x850d, { 0xe8, 0xe6 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x3d99, gbc.sp());
        EXPECT(0x850f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x850d));
        EXPECT(0xe6, gbc.readMem(0x850e));
        // E8 009B
        gbc.setState(0x26e1, 0x83f8, 0xc6a0, 0x96a0, 0xfe8d, 0x61d1, 0x1, 0x1);
        gbc.writeMem(0x26e1, { 0xe8, 0xc5 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x83bd, gbc.sp());
        EXPECT(0x26e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 009C
        gbc.setState(0x4766, 0xa337, 0x5bd0, 0x5cfb, 0xc230, 0xe3ae, 0x0, 0x0);
        gbc.writeMem(0x4766, { 0xe8, 0x67 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xa39e, gbc.sp());
        EXPECT(0x4768, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 009E
        gbc.setState(0xef64, 0x5dda, 0x1240, 0x9986, 0x188b, 0x946, 0x0, 0x1);
        gbc.writeMem(0xef64, { 0xe8, 0xa6 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x5d80, gbc.sp());
        EXPECT(0xef66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xef64));
        EXPECT(0xa6, gbc.readMem(0xef65));
        // E8 009F
        gbc.setState(0x685a, 0xcb75, 0x51d0, 0x5810, 0x16a5, 0x289e, 0x1, 0x0);
        gbc.writeMem(0x685a, { 0xe8, 0x5 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xcb7a, gbc.sp());
        EXPECT(0x685c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00A0
        gbc.setState(0x7bc5, 0xf481, 0xe600, 0xf998, 0xb528, 0x6ef9, 0x0, 0x0);
        gbc.writeMem(0x7bc5, { 0xe8, 0xe7 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xf468, gbc.sp());
        EXPECT(0x7bc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00A1
        gbc.setState(0x6005, 0x3240, 0x1e20, 0x5fc7, 0x809d, 0x8a5c, 0x0, 0x0);
        gbc.writeMem(0x6005, { 0xe8, 0x2a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x326a, gbc.sp());
        EXPECT(0x6007, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00A2
        gbc.setState(0x63ef, 0xb904, 0x1420, 0x7f79, 0x8384, 0xc557, 0x1, 0x1);
        gbc.writeMem(0x63ef, { 0xe8, 0x31 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xb935, gbc.sp());
        EXPECT(0x63f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00A3
        gbc.setState(0xa6d, 0x2498, 0x93a0, 0xbd61, 0xd9ef, 0x53be, 0x1, 0x0);
        gbc.writeMem(0xa6d, { 0xe8, 0xd8 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x2470, gbc.sp());
        EXPECT(0xa6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00A4
        gbc.setState(0x5322, 0xc187, 0xf820, 0x36d9, 0x91dd, 0x8d70, 0x1, 0x1);
        gbc.writeMem(0x5322, { 0xe8, 0x81 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc108, gbc.sp());
        EXPECT(0x5324, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00A5
        gbc.setState(0x73e1, 0x718, 0x370, 0xa123, 0x4e02, 0x6da7, 0x0, 0x0);
        gbc.writeMem(0x73e1, { 0xe8, 0x53 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x76b, gbc.sp());
        EXPECT(0x73e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00A6
        gbc.setState(0xd8e4, 0x54d, 0x27c0, 0x785a, 0x6be1, 0xb561, 0x0, 0x0);
        gbc.writeMem(0xd8e4, { 0xe8, 0xd0 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x51d, gbc.sp());
        EXPECT(0xd8e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd8e4));
        EXPECT(0xd0, gbc.readMem(0xd8e5));
        // E8 00A7
        gbc.setState(0x54ec, 0x5b3, 0x6ce0, 0xde2a, 0x20d4, 0xfb70, 0x1, 0x0);
        gbc.writeMem(0x54ec, { 0xe8, 0xe9 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x59c, gbc.sp());
        EXPECT(0x54ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00A8
        gbc.setState(0x5162, 0x2f95, 0x9c70, 0x76a8, 0x4c88, 0x7434, 0x1, 0x0);
        gbc.writeMem(0x5162, { 0xe8, 0x12 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x2fa7, gbc.sp());
        EXPECT(0x5164, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00A9
        gbc.setState(0x9627, 0x9096, 0x8890, 0xa218, 0x7c1e, 0x328, 0x0, 0x1);
        gbc.writeMem(0x9627, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x9029, gbc.sp());
        EXPECT(0x9629, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9627));
        EXPECT(0x93, gbc.readMem(0x9628));
        // E8 00AA
        gbc.setState(0x1163, 0x8f34, 0xa700, 0x681c, 0xa8a2, 0x48c4, 0x0, 0x1);
        gbc.writeMem(0x1163, { 0xe8, 0x27 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x8f5b, gbc.sp());
        EXPECT(0x1165, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00AB
        gbc.setState(0x88a3, 0xc3e6, 0xb0c0, 0x6d2f, 0xe522, 0x7c99, 0x0, 0x0);
        gbc.writeMem(0x88a3, { 0xe8, 0xf0 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xc3d6, gbc.sp());
        EXPECT(0x88a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x88a3));
        EXPECT(0xf0, gbc.readMem(0x88a4));
        // E8 00AC
        gbc.setState(0xb254, 0x9554, 0x54d0, 0x9135, 0x56f1, 0x2081, 0x1, 0x1);
        gbc.writeMem(0xb254, { 0xe8, 0x1e });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x9572, gbc.sp());
        EXPECT(0xb256, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb254));
        EXPECT(0x1e, gbc.readMem(0xb255));
        // E8 00AD
        gbc.setState(0x6f2e, 0x43b8, 0xd960, 0x7c47, 0x9c76, 0x4309, 0x0, 0x0);
        gbc.writeMem(0x6f2e, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x434d, gbc.sp());
        EXPECT(0x6f30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00AF
        gbc.setState(0x3600, 0x91b7, 0xf830, 0x86b2, 0x1ceb, 0xd834, 0x0, 0x1);
        gbc.writeMem(0x3600, { 0xe8, 0xfc });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x91b3, gbc.sp());
        EXPECT(0x3602, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00B0
        gbc.setState(0x458e, 0xc87b, 0xd680, 0x36ba, 0x6ad, 0xb42a, 0x1, 0x1);
        gbc.writeMem(0x458e, { 0xe8, 0x9c });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xc817, gbc.sp());
        EXPECT(0x4590, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00B1
        gbc.setState(0x2bdd, 0xdd40, 0xd050, 0xd377, 0xa5da, 0xdf4, 0x1, 0x1);
        gbc.writeMem(0x2bdd, { 0xe8, 0xbf });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xdcff, gbc.sp());
        EXPECT(0x2bdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00B2
        gbc.setState(0x42ac, 0xf155, 0x77e0, 0xb8d2, 0xc173, 0x5223, 0x1, 0x1);
        gbc.writeMem(0x42ac, { 0xe8, 0x81 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xf0d6, gbc.sp());
        EXPECT(0x42ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00B3
        gbc.setState(0x8093, 0x3bdd, 0x89e0, 0x1c53, 0x8cc2, 0x8581, 0x0, 0x1);
        gbc.writeMem(0x8093, { 0xe8, 0x68 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x3c45, gbc.sp());
        EXPECT(0x8095, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8093));
        EXPECT(0x68, gbc.readMem(0x8094));
        // E8 00B4
        gbc.setState(0x6fac, 0xd99a, 0xc5b0, 0x7120, 0x7a14, 0x311f, 0x0, 0x0);
        gbc.writeMem(0x6fac, { 0xe8, 0x73 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xda0d, gbc.sp());
        EXPECT(0x6fae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00B5
        gbc.setState(0xab9b, 0xe804, 0xedb0, 0x269c, 0x7e05, 0x284a, 0x0, 0x0);
        gbc.writeMem(0xab9b, { 0xe8, 0x4 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xe808, gbc.sp());
        EXPECT(0xab9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xab9b));
        EXPECT(0x4, gbc.readMem(0xab9c));
        // E8 00B6
        gbc.setState(0x79f7, 0x6121, 0x59a0, 0x1997, 0x8021, 0xc991, 0x1, 0x1);
        gbc.writeMem(0x79f7, { 0xe8, 0x52 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x6173, gbc.sp());
        EXPECT(0x79f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00B7
        gbc.setState(0x4ad2, 0xaf77, 0x5560, 0xe0b2, 0xb773, 0x9b23, 0x0, 0x0);
        gbc.writeMem(0x4ad2, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xaefd, gbc.sp());
        EXPECT(0x4ad4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00B8
        gbc.setState(0xbcfd, 0x5903, 0xf050, 0x3e45, 0x50f6, 0xe1d4, 0x1, 0x1);
        gbc.writeMem(0xbcfd, { 0xe8, 0x11 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x5914, gbc.sp());
        EXPECT(0xbcff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbcfd));
        EXPECT(0x11, gbc.readMem(0xbcfe));
        // E8 00B9
        gbc.setState(0x9170, 0xc239, 0xab0, 0xf3cb, 0x63bf, 0x2e67, 0x1, 0x0);
        gbc.writeMem(0x9170, { 0xe8, 0xd6 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xc20f, gbc.sp());
        EXPECT(0x9172, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9170));
        EXPECT(0xd6, gbc.readMem(0x9171));
        // E8 00BA
        gbc.setState(0x71b0, 0xc32d, 0x7c80, 0x6cb8, 0x19, 0x4a8c, 0x1, 0x0);
        gbc.writeMem(0x71b0, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xc349, gbc.sp());
        EXPECT(0x71b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00BB
        gbc.setState(0x9ef0, 0x38a1, 0xc250, 0x84d, 0xdbb9, 0x6f1, 0x1, 0x1);
        gbc.writeMem(0x9ef0, { 0xe8, 0x63 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x3904, gbc.sp());
        EXPECT(0x9ef2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9ef0));
        EXPECT(0x63, gbc.readMem(0x9ef1));
        // E8 00BC
        gbc.setState(0x657c, 0xd294, 0x64a0, 0xeced, 0x1a55, 0xcba0, 0x1, 0x1);
        gbc.writeMem(0x657c, { 0xe8, 0x17 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xd2ab, gbc.sp());
        EXPECT(0x657e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00BD
        gbc.setState(0xb749, 0x875f, 0x5810, 0x83e4, 0xaa02, 0xd87b, 0x0, 0x0);
        gbc.writeMem(0xb749, { 0xe8, 0xc0 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x871f, gbc.sp());
        EXPECT(0xb74b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb749));
        EXPECT(0xc0, gbc.readMem(0xb74a));
        // E8 00BE
        gbc.setState(0x22d3, 0xa288, 0x54f0, 0xa3e6, 0xbd89, 0x9326, 0x0, 0x0);
        gbc.writeMem(0x22d3, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xa232, gbc.sp());
        EXPECT(0x22d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00BF
        gbc.setState(0xcad8, 0xda12, 0x2be0, 0x44a4, 0xa931, 0x555f, 0x1, 0x1);
        gbc.writeMem(0xcad8, { 0xe8, 0xf8 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xda0a, gbc.sp());
        EXPECT(0xcada, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcad8));
        EXPECT(0xf8, gbc.readMem(0xcad9));
        // E8 00C0
        gbc.setState(0x8ec0, 0xb0c9, 0x1af0, 0x1cfe, 0x343, 0x701d, 0x1, 0x1);
        gbc.writeMem(0x8ec0, { 0xe8, 0x3e });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xb107, gbc.sp());
        EXPECT(0x8ec2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8ec0));
        EXPECT(0x3e, gbc.readMem(0x8ec1));
        // E8 00C1
        gbc.setState(0xb0eb, 0x735f, 0xd000, 0x67ef, 0x4fb6, 0xc9b7, 0x1, 0x1);
        gbc.writeMem(0xb0eb, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x737b, gbc.sp());
        EXPECT(0xb0ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb0eb));
        EXPECT(0x1c, gbc.readMem(0xb0ec));
        // E8 00C2
        gbc.setState(0xd82e, 0x9211, 0x3170, 0xa2c2, 0xec7, 0xa338, 0x1, 0x1);
        gbc.writeMem(0xd82e, { 0xe8, 0xe8 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x91f9, gbc.sp());
        EXPECT(0xd830, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd82e));
        EXPECT(0xe8, gbc.readMem(0xd82f));
        // E8 00C3
        gbc.setState(0x7187, 0x1660, 0x6b10, 0x94f3, 0xc6ab, 0xc659, 0x1, 0x0);
        gbc.writeMem(0x7187, { 0xe8, 0x2 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x1662, gbc.sp());
        EXPECT(0x7189, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00C4
        gbc.setState(0xefa5, 0xa74e, 0x6ab0, 0xb468, 0xc0a4, 0x2acc, 0x1, 0x1);
        gbc.writeMem(0xefa5, { 0xe8, 0xff });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xa74d, gbc.sp());
        EXPECT(0xefa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xefa5));
        EXPECT(0xff, gbc.readMem(0xefa6));
        // E8 00C5
        gbc.setState(0xdd8b, 0xfa4f, 0x7490, 0x3ef, 0xd756, 0x7835, 0x0, 0x0);
        gbc.writeMem(0xdd8b, { 0xe8, 0x27 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xfa76, gbc.sp());
        EXPECT(0xdd8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdd8b));
        EXPECT(0x27, gbc.readMem(0xdd8c));
        // E8 00C6
        gbc.setState(0x41e4, 0x8d62, 0x4370, 0x2857, 0x3d93, 0x6a1c, 0x0, 0x0);
        gbc.writeMem(0x41e4, { 0xe8, 0x2d });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x8d8f, gbc.sp());
        EXPECT(0x41e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00C7
        gbc.setState(0xe7a9, 0x4f06, 0x1db0, 0xaadf, 0xe21c, 0xcf64, 0x0, 0x1);
        gbc.writeMem(0xe7a9, { 0xe8, 0xc0 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4ec6, gbc.sp());
        EXPECT(0xe7ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe7a9));
        EXPECT(0xc0, gbc.readMem(0xe7aa));
        // E8 00C8
        gbc.setState(0x4cb8, 0xfdf7, 0xd220, 0xa034, 0x4eac, 0xa6d3, 0x0, 0x0);
        gbc.writeMem(0x4cb8, { 0xe8, 0x5b });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xfe52, gbc.sp());
        EXPECT(0x4cba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00C9
        gbc.setState(0x732e, 0x1a18, 0xfa40, 0x37bc, 0x8b56, 0xb51, 0x0, 0x1);
        gbc.writeMem(0x732e, { 0xe8, 0x70 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x1a88, gbc.sp());
        EXPECT(0x7330, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00CA
        gbc.setState(0xe7c6, 0x3d94, 0x77a0, 0x357b, 0x92b0, 0x63e1, 0x0, 0x1);
        gbc.writeMem(0xe7c6, { 0xe8, 0x6e });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x3e02, gbc.sp());
        EXPECT(0xe7c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe7c6));
        EXPECT(0x6e, gbc.readMem(0xe7c7));
        // E8 00CB
        gbc.setState(0x2a9f, 0xda11, 0xd70, 0xc4fe, 0xe750, 0xeae, 0x0, 0x0);
        gbc.writeMem(0x2a9f, { 0xe8, 0xb0 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xd9c1, gbc.sp());
        EXPECT(0x2aa1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00CC
        gbc.setState(0xda99, 0xa38c, 0xb290, 0xf7a7, 0x1665, 0xa970, 0x0, 0x0);
        gbc.writeMem(0xda99, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xa3b5, gbc.sp());
        EXPECT(0xda9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xda99));
        EXPECT(0x29, gbc.readMem(0xda9a));
        // E8 00CD
        gbc.setState(0x5560, 0xe9ab, 0xf480, 0x28f1, 0x80ad, 0xfd2a, 0x1, 0x0);
        gbc.writeMem(0x5560, { 0xe8, 0xc8 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xe973, gbc.sp());
        EXPECT(0x5562, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00CF
        gbc.setState(0x119a, 0x9482, 0x5240, 0xbf6f, 0x3f3d, 0x47e5, 0x1, 0x1);
        gbc.writeMem(0x119a, { 0xe8, 0x3d });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x94bf, gbc.sp());
        EXPECT(0x119c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00D0
        gbc.setState(0x6796, 0x98e8, 0x6690, 0x72fe, 0xbe19, 0x9a17, 0x0, 0x1);
        gbc.writeMem(0x6796, { 0xe8, 0xf4 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x98dc, gbc.sp());
        EXPECT(0x6798, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00D2
        gbc.setState(0x56fd, 0xa95, 0x73b0, 0xe912, 0xc2b3, 0x829f, 0x1, 0x1);
        gbc.writeMem(0x56fd, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xa5b, gbc.sp());
        EXPECT(0x56ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00D3
        gbc.setState(0xc9a4, 0x8b31, 0x4c10, 0x93fb, 0xebce, 0x2346, 0x0, 0x0);
        gbc.writeMem(0xc9a4, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x8ac0, gbc.sp());
        EXPECT(0xc9a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc9a4));
        EXPECT(0x8f, gbc.readMem(0xc9a5));
        // E8 00D4
        gbc.setState(0x81fe, 0xd01a, 0x1f70, 0xb735, 0xecc6, 0x21bd, 0x1, 0x0);
        gbc.writeMem(0x81fe, { 0xe8, 0x2e });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xd048, gbc.sp());
        EXPECT(0x8200, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x81fe));
        EXPECT(0x2e, gbc.readMem(0x81ff));
        // E8 00D5
        gbc.setState(0xd9de, 0xc0e9, 0x2680, 0xb2ed, 0xe956, 0x5e4a, 0x1, 0x0);
        gbc.writeMem(0xd9de, { 0xe8, 0xb9 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xc0a2, gbc.sp());
        EXPECT(0xd9e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd9de));
        EXPECT(0xb9, gbc.readMem(0xd9df));
        // E8 00D7
        gbc.setState(0x373c, 0xf94d, 0x700, 0x40f4, 0x46a2, 0x13bb, 0x1, 0x0);
        gbc.writeMem(0x373c, { 0xe8, 0xc2 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xf90f, gbc.sp());
        EXPECT(0x373e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00D8
        gbc.setState(0xe5a, 0x278d, 0x4ca0, 0x8e24, 0x869a, 0x9f29, 0x0, 0x1);
        gbc.writeMem(0xe5a, { 0xe8, 0x1b });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x27a8, gbc.sp());
        EXPECT(0xe5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00D9
        gbc.setState(0x5d3f, 0xbf57, 0xeff0, 0xcb93, 0xb0fb, 0x55f3, 0x1, 0x0);
        gbc.writeMem(0x5d3f, { 0xe8, 0xa3 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xbefa, gbc.sp());
        EXPECT(0x5d41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00DA
        gbc.setState(0x3680, 0x4139, 0xa380, 0xc03f, 0x188f, 0x5d0f, 0x1, 0x0);
        gbc.writeMem(0x3680, { 0xe8, 0xb7 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x40f0, gbc.sp());
        EXPECT(0x3682, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00DB
        gbc.setState(0xdc08, 0xb975, 0x4770, 0x2f78, 0x503a, 0x10b3, 0x1, 0x1);
        gbc.writeMem(0xdc08, { 0xe8, 0xd3 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb948, gbc.sp());
        EXPECT(0xdc0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdc08));
        EXPECT(0xd3, gbc.readMem(0xdc09));
        // E8 00DC
        gbc.setState(0x3eca, 0x797f, 0x5f60, 0xa47f, 0xa3e, 0x34b, 0x0, 0x1);
        gbc.writeMem(0x3eca, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x79a8, gbc.sp());
        EXPECT(0x3ecc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00DD
        gbc.setState(0x7d49, 0xe82f, 0x8c40, 0xdf04, 0x4dbf, 0xa7f6, 0x0, 0x0);
        gbc.writeMem(0x7d49, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xe7bd, gbc.sp());
        EXPECT(0x7d4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00DF
        gbc.setState(0xbbe3, 0xe58d, 0x9f30, 0xf3f7, 0xba84, 0x50d0, 0x1, 0x1);
        gbc.writeMem(0xbbe3, { 0xe8, 0x4a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xe5d7, gbc.sp());
        EXPECT(0xbbe5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbbe3));
        EXPECT(0x4a, gbc.readMem(0xbbe4));
        // E8 00E0
        gbc.setState(0xc7ce, 0xf08e, 0x90, 0x24a8, 0x364d, 0xf63e, 0x0, 0x1);
        gbc.writeMem(0xc7ce, { 0xe8, 0xb0 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xf03e, gbc.sp());
        EXPECT(0xc7d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc7ce));
        EXPECT(0xb0, gbc.readMem(0xc7cf));
        // E8 00E1
        gbc.setState(0x9e30, 0xdd97, 0x5460, 0x4962, 0x6202, 0xca02, 0x0, 0x0);
        gbc.writeMem(0x9e30, { 0xe8, 0x47 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xddde, gbc.sp());
        EXPECT(0x9e32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9e30));
        EXPECT(0x47, gbc.readMem(0x9e31));
        // E8 00E2
        gbc.setState(0xd7c4, 0x5166, 0x50, 0xb31d, 0x49bf, 0x2921, 0x1, 0x0);
        gbc.writeMem(0xd7c4, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x51b3, gbc.sp());
        EXPECT(0xd7c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd7c4));
        EXPECT(0x4d, gbc.readMem(0xd7c5));
        // E8 00E3
        gbc.setState(0x492b, 0x9562, 0x7280, 0x888c, 0xb40, 0xb516, 0x0, 0x0);
        gbc.writeMem(0x492b, { 0xe8, 0x23 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x9585, gbc.sp());
        EXPECT(0x492d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00E4
        gbc.setState(0x3b97, 0xb3bd, 0x2f60, 0xe5d4, 0x4278, 0xba69, 0x1, 0x0);
        gbc.writeMem(0x3b97, { 0xe8, 0x11 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb3ce, gbc.sp());
        EXPECT(0x3b99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00E5
        gbc.setState(0x1953, 0x253a, 0xc5a0, 0x151a, 0x851f, 0xf3f2, 0x1, 0x0);
        gbc.writeMem(0x1953, { 0xe8, 0x8c });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x24c6, gbc.sp());
        EXPECT(0x1955, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00E6
        gbc.setState(0xe9de, 0xb0cd, 0x6520, 0x526d, 0x22c0, 0x957a, 0x1, 0x1);
        gbc.writeMem(0xe9de, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xb11a, gbc.sp());
        EXPECT(0xe9e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe9de));
        EXPECT(0x4d, gbc.readMem(0xe9df));
        // E8 00E7
        gbc.setState(0xc710, 0xc40a, 0xbc30, 0xc95, 0x5510, 0xeb75, 0x0, 0x0);
        gbc.writeMem(0xc710, { 0xe8, 0x94 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xc39e, gbc.sp());
        EXPECT(0xc712, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc710));
        EXPECT(0x94, gbc.readMem(0xc711));
        // E8 00E8
        gbc.setState(0x6029, 0x8550, 0xa9d0, 0x9da4, 0x8131, 0x1591, 0x1, 0x0);
        gbc.writeMem(0x6029, { 0xe8, 0x1f });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x856f, gbc.sp());
        EXPECT(0x602b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00E9
        gbc.setState(0x428f, 0xcd7, 0xeb10, 0xdd9e, 0xf21e, 0x10b1, 0x1, 0x0);
        gbc.writeMem(0x428f, { 0xe8, 0x17 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xcee, gbc.sp());
        EXPECT(0x4291, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00EA
        gbc.setState(0xd3d2, 0x7e5f, 0x1990, 0x2fc4, 0xae6, 0xff3, 0x1, 0x1);
        gbc.writeMem(0xd3d2, { 0xe8, 0x4 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x7e63, gbc.sp());
        EXPECT(0xd3d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd3d2));
        EXPECT(0x4, gbc.readMem(0xd3d3));
        // E8 00EB
        gbc.setState(0x2bbe, 0x2274, 0xe380, 0x8329, 0x69b1, 0xd162, 0x1, 0x0);
        gbc.writeMem(0x2bbe, { 0xe8, 0xd6 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x224a, gbc.sp());
        EXPECT(0x2bc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00EC
        gbc.setState(0x4a51, 0xa73b, 0x2dd0, 0x1938, 0xcf26, 0x8cfc, 0x1, 0x0);
        gbc.writeMem(0x4a51, { 0xe8, 0x2f });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xa76a, gbc.sp());
        EXPECT(0x4a53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00ED
        gbc.setState(0x7c89, 0xb25f, 0x220, 0x7af9, 0x58c7, 0xf16b, 0x1, 0x1);
        gbc.writeMem(0x7c89, { 0xe8, 0x45 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xb2a4, gbc.sp());
        EXPECT(0x7c8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00EE
        gbc.setState(0x89ff, 0xf463, 0x1e20, 0x10a7, 0xa04, 0x55ec, 0x0, 0x1);
        gbc.writeMem(0x89ff, { 0xe8, 0x9f });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xf402, gbc.sp());
        EXPECT(0x8a01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x89ff));
        EXPECT(0x9f, gbc.readMem(0x8a00));
        // E8 00EF
        gbc.setState(0x6e71, 0x8e24, 0xdfd0, 0xd63f, 0x6542, 0x9a60, 0x0, 0x0);
        gbc.writeMem(0x6e71, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x8dcf, gbc.sp());
        EXPECT(0x6e73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00F1
        gbc.setState(0xcef1, 0x80ee, 0x14e0, 0x95cd, 0x1f5c, 0x1654, 0x0, 0x1);
        gbc.writeMem(0xcef1, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x8113, gbc.sp());
        EXPECT(0xcef3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcef1));
        EXPECT(0x25, gbc.readMem(0xcef2));
        // E8 00F2
        gbc.setState(0x2672, 0xa021, 0x1eb0, 0xeb90, 0x17f0, 0x4f88, 0x0, 0x1);
        gbc.writeMem(0x2672, { 0xe8, 0xae });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x9fcf, gbc.sp());
        EXPECT(0x2674, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00F3
        gbc.setState(0x3c15, 0xa8a6, 0xfc00, 0xd9b4, 0xcdd4, 0x2ed2, 0x1, 0x0);
        gbc.writeMem(0x3c15, { 0xe8, 0x6d });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xa913, gbc.sp());
        EXPECT(0x3c17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00F4
        gbc.setState(0x4643, 0x3623, 0x9ec0, 0x9038, 0xa678, 0xeaff, 0x1, 0x1);
        gbc.writeMem(0x4643, { 0xe8, 0xd2 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x35f5, gbc.sp());
        EXPECT(0x4645, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00F5
        gbc.setState(0xee07, 0x348b, 0x75c0, 0x110c, 0x513e, 0xd221, 0x0, 0x1);
        gbc.writeMem(0xee07, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x341e, gbc.sp());
        EXPECT(0xee09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xee07));
        EXPECT(0x93, gbc.readMem(0xee08));
        // E8 00F6
        gbc.setState(0xa739, 0xce12, 0x5d30, 0x56d7, 0xbf96, 0x472d, 0x0, 0x0);
        gbc.writeMem(0xa739, { 0xe8, 0xd1 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xcde3, gbc.sp());
        EXPECT(0xa73b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa739));
        EXPECT(0xd1, gbc.readMem(0xa73a));
        // E8 00F7
        gbc.setState(0xa1b7, 0xcdd2, 0x72f0, 0x77d, 0x8eae, 0xf5f0, 0x0, 0x0);
        gbc.writeMem(0xa1b7, { 0xe8, 0xec });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xcdbe, gbc.sp());
        EXPECT(0xa1b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa1b7));
        EXPECT(0xec, gbc.readMem(0xa1b8));
        // E8 00F8
        gbc.setState(0x6020, 0xe93f, 0x7df0, 0x1d7f, 0x706d, 0x3db, 0x1, 0x1);
        gbc.writeMem(0x6020, { 0xe8, 0x3d });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xe97c, gbc.sp());
        EXPECT(0x6022, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00F9
        gbc.setState(0x93a9, 0x4dc5, 0x43a0, 0x60e1, 0xc0b, 0x8aa4, 0x0, 0x1);
        gbc.writeMem(0x93a9, { 0xe8, 0xef });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x4db4, gbc.sp());
        EXPECT(0x93ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x93a9));
        EXPECT(0xef, gbc.readMem(0x93aa));
        // E8 00FA
        gbc.setState(0x9109, 0xa66, 0x5930, 0x25b1, 0x2719, 0x9365, 0x0, 0x0);
        gbc.writeMem(0x9109, { 0xe8, 0x5 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xa6b, gbc.sp());
        EXPECT(0x910b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9109));
        EXPECT(0x5, gbc.readMem(0x910a));
        // E8 00FB
        gbc.setState(0x35ec, 0x18e0, 0xd460, 0x7335, 0x6dcb, 0xac30, 0x0, 0x0);
        gbc.writeMem(0x35ec, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x1875, gbc.sp());
        EXPECT(0x35ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00FC
        gbc.setState(0x5037, 0x9b29, 0xf80, 0xf48c, 0xdbbb, 0xbd7b, 0x1, 0x1);
        gbc.writeMem(0x5037, { 0xe8, 0x56 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x9b7f, gbc.sp());
        EXPECT(0x5039, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00FD
        gbc.setState(0x449c, 0xffec, 0x5ae0, 0x13c6, 0x60fc, 0x14e, 0x1, 0x0);
        gbc.writeMem(0x449c, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xffd9, gbc.sp());
        EXPECT(0x449e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 00FE
        gbc.setState(0x1f82, 0x650a, 0xfc40, 0xf6a3, 0x80aa, 0x7b0f, 0x0, 0x0);
        gbc.writeMem(0x1f82, { 0xe8, 0x74 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x657e, gbc.sp());
        EXPECT(0x1f84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 00FF
        gbc.setState(0x11b, 0x8ed, 0x90e0, 0x8e5a, 0x2154, 0x91df, 0x0, 0x1);
        gbc.writeMem(0x11b, { 0xe8, 0xfe });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x8eb, gbc.sp());
        EXPECT(0x11d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0100
        gbc.setState(0x5527, 0x46ea, 0x8c50, 0x9b09, 0x91c, 0x3528, 0x1, 0x0);
        gbc.writeMem(0x5527, { 0xe8, 0x84 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x466e, gbc.sp());
        EXPECT(0x5529, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0101
        gbc.setState(0x8da2, 0xdfa3, 0xd540, 0xf359, 0xa85f, 0x1e13, 0x1, 0x0);
        gbc.writeMem(0x8da2, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xdfcc, gbc.sp());
        EXPECT(0x8da4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8da2));
        EXPECT(0x29, gbc.readMem(0x8da3));
        // E8 0102
        gbc.setState(0xdedc, 0xd5b8, 0x8d40, 0x691, 0xcb03, 0xb20f, 0x0, 0x1);
        gbc.writeMem(0xdedc, { 0xe8, 0x45 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xd5fd, gbc.sp());
        EXPECT(0xdede, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdedc));
        EXPECT(0x45, gbc.readMem(0xdedd));
        // E8 0103
        gbc.setState(0x9df6, 0xfcf1, 0x99e0, 0x3f3f, 0x950a, 0xf6a6, 0x0, 0x1);
        gbc.writeMem(0x9df6, { 0xe8, 0x40 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xfd31, gbc.sp());
        EXPECT(0x9df8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9df6));
        EXPECT(0x40, gbc.readMem(0x9df7));
        // E8 0104
        gbc.setState(0x9cd9, 0xc936, 0xfdc0, 0x2d37, 0x147c, 0xcc82, 0x1, 0x0);
        gbc.writeMem(0x9cd9, { 0xe8, 0x91 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xc8c7, gbc.sp());
        EXPECT(0x9cdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9cd9));
        EXPECT(0x91, gbc.readMem(0x9cda));
        // E8 0107
        gbc.setState(0x76d, 0xb8c8, 0xcb60, 0xb43, 0xbb0b, 0xc0a7, 0x0, 0x1);
        gbc.writeMem(0x76d, { 0xe8, 0xa0 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xb868, gbc.sp());
        EXPECT(0x76f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0108
        gbc.setState(0x3bf, 0x15c6, 0x9b50, 0xce39, 0xf276, 0x8a8a, 0x1, 0x1);
        gbc.writeMem(0x3bf, { 0xe8, 0x53 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x1619, gbc.sp());
        EXPECT(0x3c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0109
        gbc.setState(0x1e66, 0xe00c, 0x76c0, 0x1c36, 0x51e7, 0x8e23, 0x1, 0x0);
        gbc.writeMem(0x1e66, { 0xe8, 0x8d });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xdf99, gbc.sp());
        EXPECT(0x1e68, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 010A
        gbc.setState(0x5374, 0x8f77, 0xd880, 0x50e1, 0x9585, 0xd130, 0x0, 0x0);
        gbc.writeMem(0x5374, { 0xe8, 0xca });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x8f41, gbc.sp());
        EXPECT(0x5376, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 010B
        gbc.setState(0x7fce, 0xb4b7, 0x1d10, 0xe879, 0xb265, 0x9782, 0x0, 0x1);
        gbc.writeMem(0x7fce, { 0xe8, 0xe7 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xb49e, gbc.sp());
        EXPECT(0x7fd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 010C
        gbc.setState(0xadfb, 0xa91e, 0x7610, 0x4fd1, 0xb29d, 0x52b, 0x0, 0x1);
        gbc.writeMem(0xadfb, { 0xe8, 0x37 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xa955, gbc.sp());
        EXPECT(0xadfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xadfb));
        EXPECT(0x37, gbc.readMem(0xadfc));
        // E8 010D
        gbc.setState(0xb7da, 0x7ebd, 0x8810, 0x3d10, 0x7839, 0xdeaf, 0x0, 0x1);
        gbc.writeMem(0xb7da, { 0xe8, 0x9b });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x7e58, gbc.sp());
        EXPECT(0xb7dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb7da));
        EXPECT(0x9b, gbc.readMem(0xb7db));
        // E8 010E
        gbc.setState(0xd00d, 0x357e, 0x6850, 0xed5a, 0x493c, 0x79a6, 0x1, 0x1);
        gbc.writeMem(0xd00d, { 0xe8, 0xe6 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x3564, gbc.sp());
        EXPECT(0xd00f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd00d));
        EXPECT(0xe6, gbc.readMem(0xd00e));
        // E8 010F
        gbc.setState(0x31d0, 0x5bb0, 0xe00, 0xe602, 0xed92, 0xbbfe, 0x0, 0x0);
        gbc.writeMem(0x31d0, { 0xe8, 0x5d });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x5c0d, gbc.sp());
        EXPECT(0x31d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0110
        gbc.setState(0x2fb1, 0xc460, 0xccc0, 0x1915, 0xf23e, 0x2a69, 0x1, 0x0);
        gbc.writeMem(0x2fb1, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xc4db, gbc.sp());
        EXPECT(0x2fb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0111
        gbc.setState(0xec5f, 0x50b9, 0x46a0, 0x563c, 0x65ab, 0xf16e, 0x1, 0x1);
        gbc.writeMem(0xec5f, { 0xe8, 0xa7 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x5060, gbc.sp());
        EXPECT(0xec61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xec5f));
        EXPECT(0xa7, gbc.readMem(0xec60));
        // E8 0112
        gbc.setState(0x139d, 0xdb33, 0xc370, 0x9e9e, 0xfbe1, 0x1e1c, 0x0, 0x1);
        gbc.writeMem(0x139d, { 0xe8, 0xa4 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xdad7, gbc.sp());
        EXPECT(0x139f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0113
        gbc.setState(0xcb64, 0xee59, 0x7820, 0xf8ea, 0x3d27, 0x4359, 0x1, 0x0);
        gbc.writeMem(0xcb64, { 0xe8, 0x16 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xee6f, gbc.sp());
        EXPECT(0xcb66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcb64));
        EXPECT(0x16, gbc.readMem(0xcb65));
        // E8 0114
        gbc.setState(0xba6c, 0xe098, 0xb450, 0x308d, 0xda9b, 0x2895, 0x1, 0x1);
        gbc.writeMem(0xba6c, { 0xe8, 0x4a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xe0e2, gbc.sp());
        EXPECT(0xba6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xba6c));
        EXPECT(0x4a, gbc.readMem(0xba6d));
        // E8 0115
        gbc.setState(0xd491, 0x5b98, 0x9130, 0xff42, 0x49, 0xd901, 0x0, 0x1);
        gbc.writeMem(0xd491, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x5b9f, gbc.sp());
        EXPECT(0xd493, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd491));
        EXPECT(0x7, gbc.readMem(0xd492));
        // E8 0116
        gbc.setState(0xb1e7, 0x5486, 0x1750, 0xdcd, 0x9e41, 0xe60f, 0x0, 0x1);
        gbc.writeMem(0xb1e7, { 0xe8, 0xca });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x5450, gbc.sp());
        EXPECT(0xb1e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb1e7));
        EXPECT(0xca, gbc.readMem(0xb1e8));
        // E8 0117
        gbc.setState(0xcfd5, 0x2ca4, 0xa090, 0x86c8, 0x999b, 0x4b36, 0x0, 0x1);
        gbc.writeMem(0xcfd5, { 0xe8, 0x11 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x2cb5, gbc.sp());
        EXPECT(0xcfd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcfd5));
        EXPECT(0x11, gbc.readMem(0xcfd6));
        // E8 0118
        gbc.setState(0xe1a0, 0xc783, 0x9190, 0x29b3, 0x82df, 0xd2e3, 0x0, 0x1);
        gbc.writeMem(0xe1a0, { 0xe8, 0xa8 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xc72b, gbc.sp());
        EXPECT(0xe1a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe1a0));
        EXPECT(0xa8, gbc.readMem(0xe1a1));
        // E8 011B
        gbc.setState(0x7824, 0xdbfd, 0x6280, 0x9bbf, 0xa5d4, 0x758a, 0x0, 0x1);
        gbc.writeMem(0x7824, { 0xe8, 0xf4 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xdbf1, gbc.sp());
        EXPECT(0x7826, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 011C
        gbc.setState(0xf9a, 0xb307, 0xe730, 0x945f, 0xc9cf, 0x443c, 0x0, 0x0);
        gbc.writeMem(0xf9a, { 0xe8, 0xec });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb2f3, gbc.sp());
        EXPECT(0xf9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 011D
        gbc.setState(0xe24, 0xbe2, 0xd3f0, 0x67e4, 0x5e63, 0x530e, 0x1, 0x0);
        gbc.writeMem(0xe24, { 0xe8, 0x5c });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xc3e, gbc.sp());
        EXPECT(0xe26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 011E
        gbc.setState(0x344a, 0x1494, 0xd530, 0xcee5, 0x954f, 0xc58b, 0x1, 0x0);
        gbc.writeMem(0x344a, { 0xe8, 0x3b });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x14cf, gbc.sp());
        EXPECT(0x344c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 011F
        gbc.setState(0x643, 0xe6f0, 0xe0c0, 0x6102, 0x74c4, 0xf06b, 0x0, 0x0);
        gbc.writeMem(0x643, { 0xe8, 0x9f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xe68f, gbc.sp());
        EXPECT(0x645, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0121
        gbc.setState(0xd4e3, 0x48d1, 0xc3e0, 0xcf47, 0x26d2, 0x38c9, 0x1, 0x0);
        gbc.writeMem(0xd4e3, { 0xe8, 0x41 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x4912, gbc.sp());
        EXPECT(0xd4e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd4e3));
        EXPECT(0x41, gbc.readMem(0xd4e4));
        // E8 0122
        gbc.setState(0x5d66, 0x3f75, 0x61d0, 0xc9fa, 0xe4ec, 0xf935, 0x0, 0x1);
        gbc.writeMem(0x5d66, { 0xe8, 0xb7 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x3f2c, gbc.sp());
        EXPECT(0x5d68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0123
        gbc.setState(0xea0, 0xee8a, 0x6e50, 0x8376, 0x1dda, 0xed53, 0x1, 0x0);
        gbc.writeMem(0xea0, { 0xe8, 0xb3 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xee3d, gbc.sp());
        EXPECT(0xea2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0124
        gbc.setState(0x4854, 0x146d, 0x6c40, 0x369a, 0x322f, 0xdbd2, 0x0, 0x0);
        gbc.writeMem(0x4854, { 0xe8, 0x5f });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x14cc, gbc.sp());
        EXPECT(0x4856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0125
        gbc.setState(0x8918, 0xc548, 0x54d0, 0x5af4, 0x4716, 0x30bb, 0x1, 0x0);
        gbc.writeMem(0x8918, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xc4d7, gbc.sp());
        EXPECT(0x891a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8918));
        EXPECT(0x8f, gbc.readMem(0x8919));
        // E8 0126
        gbc.setState(0xc7f3, 0x1a01, 0x27f0, 0x180f, 0x57b5, 0x94a0, 0x0, 0x1);
        gbc.writeMem(0xc7f3, { 0xe8, 0x22 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x1a23, gbc.sp());
        EXPECT(0xc7f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc7f3));
        EXPECT(0x22, gbc.readMem(0xc7f4));
        // E8 0127
        gbc.setState(0xe486, 0x768f, 0xb270, 0xe221, 0x9071, 0x8b9e, 0x0, 0x0);
        gbc.writeMem(0xe486, { 0xe8, 0x68 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x76f7, gbc.sp());
        EXPECT(0xe488, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe486));
        EXPECT(0x68, gbc.readMem(0xe487));
        // E8 0128
        gbc.setState(0x727d, 0x8389, 0xcd00, 0x7979, 0xdc2f, 0x362a, 0x1, 0x1);
        gbc.writeMem(0x727d, { 0xe8, 0x2b });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x83b4, gbc.sp());
        EXPECT(0x727f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 012B
        gbc.setState(0x794c, 0x1ce1, 0x7d60, 0x7918, 0xce57, 0x61c5, 0x1, 0x1);
        gbc.writeMem(0x794c, { 0xe8, 0x89 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x1c6a, gbc.sp());
        EXPECT(0x794e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 012C
        gbc.setState(0x924e, 0xc960, 0x8750, 0x745d, 0x270, 0x631d, 0x1, 0x1);
        gbc.writeMem(0x924e, { 0xe8, 0x6b });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xc9cb, gbc.sp());
        EXPECT(0x9250, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x924e));
        EXPECT(0x6b, gbc.readMem(0x924f));
        // E8 012D
        gbc.setState(0xb29e, 0x6d25, 0x4d40, 0xdeb0, 0x4270, 0x4221, 0x0, 0x1);
        gbc.writeMem(0xb29e, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x6d12, gbc.sp());
        EXPECT(0xb2a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb29e));
        EXPECT(0xed, gbc.readMem(0xb29f));
        // E8 012E
        gbc.setState(0x8c87, 0xb849, 0x2df0, 0xcc7c, 0x5d33, 0x42e3, 0x0, 0x0);
        gbc.writeMem(0x8c87, { 0xe8, 0x3 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xb84c, gbc.sp());
        EXPECT(0x8c89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8c87));
        EXPECT(0x3, gbc.readMem(0x8c88));
        // E8 012F
        gbc.setState(0x95fd, 0x67f3, 0x61d0, 0xe7ce, 0x71b6, 0x9392, 0x1, 0x1);
        gbc.writeMem(0x95fd, { 0xe8, 0xb0 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x67a3, gbc.sp());
        EXPECT(0x95ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x95fd));
        EXPECT(0xb0, gbc.readMem(0x95fe));
        // E8 0130
        gbc.setState(0xb8d6, 0xf245, 0x7910, 0x30ac, 0x1bc9, 0x29c9, 0x1, 0x0);
        gbc.writeMem(0xb8d6, { 0xe8, 0x7c });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xf2c1, gbc.sp());
        EXPECT(0xb8d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb8d6));
        EXPECT(0x7c, gbc.readMem(0xb8d7));
        // E8 0131
        gbc.setState(0xa977, 0x811, 0x2e40, 0xec1, 0xe6d7, 0xd607, 0x1, 0x1);
        gbc.writeMem(0xa977, { 0xe8, 0x90 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7a1, gbc.sp());
        EXPECT(0xa979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa977));
        EXPECT(0x90, gbc.readMem(0xa978));
        // E8 0132
        gbc.setState(0x7e95, 0xa448, 0x2cb0, 0x1b63, 0xd29b, 0x938f, 0x0, 0x0);
        gbc.writeMem(0x7e95, { 0xe8, 0x73 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xa4bb, gbc.sp());
        EXPECT(0x7e97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0133
        gbc.setState(0xdbe3, 0x8260, 0x1bc0, 0xd235, 0x6b64, 0x1772, 0x1, 0x0);
        gbc.writeMem(0xdbe3, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x8289, gbc.sp());
        EXPECT(0xdbe5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdbe3));
        EXPECT(0x29, gbc.readMem(0xdbe4));
        // E8 0134
        gbc.setState(0x6576, 0x6a29, 0x62a0, 0xae97, 0x6c0e, 0xee96, 0x0, 0x1);
        gbc.writeMem(0x6576, { 0xe8, 0xa8 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x69d1, gbc.sp());
        EXPECT(0x6578, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0135
        gbc.setState(0x7a95, 0x8572, 0x5a10, 0x21e1, 0xd018, 0xe263, 0x0, 0x0);
        gbc.writeMem(0x7a95, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x85a8, gbc.sp());
        EXPECT(0x7a97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0136
        gbc.setState(0xb88d, 0x7c49, 0xd660, 0x633b, 0x4684, 0xdbf7, 0x1, 0x0);
        gbc.writeMem(0xb88d, { 0xe8, 0xf7 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x7c40, gbc.sp());
        EXPECT(0xb88f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb88d));
        EXPECT(0xf7, gbc.readMem(0xb88e));
        // E8 0137
        gbc.setState(0x90a4, 0xad31, 0x6d0, 0x1647, 0x9a9d, 0x9bee, 0x1, 0x0);
        gbc.writeMem(0x90a4, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xacc7, gbc.sp());
        EXPECT(0x90a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x90a4));
        EXPECT(0x96, gbc.readMem(0x90a5));
        // E8 0138
        gbc.setState(0x786d, 0x3d4d, 0xadd0, 0xe45f, 0xc8a6, 0x153d, 0x0, 0x0);
        gbc.writeMem(0x786d, { 0xe8, 0x30 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x3d7d, gbc.sp());
        EXPECT(0x786f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0139
        gbc.setState(0x63f6, 0x97b6, 0xc760, 0xb019, 0x2b94, 0xb3d2, 0x0, 0x1);
        gbc.writeMem(0x63f6, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x9760, gbc.sp());
        EXPECT(0x63f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 013A
        gbc.setState(0xdeb0, 0x4ca8, 0xe390, 0xefb7, 0x62fd, 0x43a5, 0x0, 0x0);
        gbc.writeMem(0xdeb0, { 0xe8, 0x52 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x4cfa, gbc.sp());
        EXPECT(0xdeb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdeb0));
        EXPECT(0x52, gbc.readMem(0xdeb1));
        // E8 013B
        gbc.setState(0x271c, 0xd1b0, 0xa900, 0xe591, 0x932b, 0x6fa2, 0x1, 0x0);
        gbc.writeMem(0x271c, { 0xe8, 0xe8 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xd198, gbc.sp());
        EXPECT(0x271e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 013C
        gbc.setState(0x67da, 0x69ba, 0xd100, 0x5b2, 0x22e2, 0x5e50, 0x1, 0x0);
        gbc.writeMem(0x67da, { 0xe8, 0xde });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x6998, gbc.sp());
        EXPECT(0x67dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 013D
        gbc.setState(0x5bb1, 0x6689, 0x3040, 0x50fb, 0x6e58, 0x3faa, 0x1, 0x0);
        gbc.writeMem(0x5bb1, { 0xe8, 0x69 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x66f2, gbc.sp());
        EXPECT(0x5bb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 013E
        gbc.setState(0xc69, 0x19be, 0x6900, 0x6f03, 0x1059, 0x701f, 0x0, 0x1);
        gbc.writeMem(0xc69, { 0xe8, 0xe3 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x19a1, gbc.sp());
        EXPECT(0xc6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 013F
        gbc.setState(0x15b1, 0x1c7b, 0xa410, 0x448f, 0x6a97, 0x6ce0, 0x0, 0x0);
        gbc.writeMem(0x15b1, { 0xe8, 0x5d });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x1cd8, gbc.sp());
        EXPECT(0x15b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0140
        gbc.setState(0x8368, 0x16ba, 0xa230, 0x9086, 0xc59e, 0xab4, 0x0, 0x0);
        gbc.writeMem(0x8368, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x1667, gbc.sp());
        EXPECT(0x836a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8368));
        EXPECT(0xad, gbc.readMem(0x8369));
        // E8 0141
        gbc.setState(0xd9d5, 0x7e3d, 0x3320, 0x7f5f, 0xe0d8, 0x330a, 0x1, 0x1);
        gbc.writeMem(0xd9d5, { 0xe8, 0xf9 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x7e36, gbc.sp());
        EXPECT(0xd9d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd9d5));
        EXPECT(0xf9, gbc.readMem(0xd9d6));
        // E8 0142
        gbc.setState(0x2fc6, 0xa8ab, 0x9450, 0xdfd5, 0x600f, 0xbc84, 0x1, 0x0);
        gbc.writeMem(0x2fc6, { 0xe8, 0x45 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xa8f0, gbc.sp());
        EXPECT(0x2fc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0143
        gbc.setState(0x3722, 0xce3d, 0xeb90, 0xdf20, 0xb052, 0xe60b, 0x0, 0x1);
        gbc.writeMem(0x3722, { 0xe8, 0x5f });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xce9c, gbc.sp());
        EXPECT(0x3724, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0144
        gbc.setState(0x5e85, 0x96e2, 0x6ae0, 0x9ec3, 0x18fb, 0xe957, 0x0, 0x1);
        gbc.writeMem(0x5e85, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x9718, gbc.sp());
        EXPECT(0x5e87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0145
        gbc.setState(0x3497, 0x3d1e, 0x9a20, 0xb3b4, 0x4141, 0xf60, 0x1, 0x1);
        gbc.writeMem(0x3497, { 0xe8, 0x6c });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x3d8a, gbc.sp());
        EXPECT(0x3499, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0146
        gbc.setState(0x29ed, 0xf42e, 0x1e40, 0x8a25, 0x168e, 0xb73f, 0x0, 0x0);
        gbc.writeMem(0x29ed, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xf3d9, gbc.sp());
        EXPECT(0x29ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0148
        gbc.setState(0xa20a, 0x6b75, 0x4e30, 0xa881, 0xf6ea, 0xb09, 0x1, 0x1);
        gbc.writeMem(0xa20a, { 0xe8, 0x67 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x6bdc, gbc.sp());
        EXPECT(0xa20c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa20a));
        EXPECT(0x67, gbc.readMem(0xa20b));
        // E8 0149
        gbc.setState(0x1696, 0xa6e4, 0xd930, 0x1f5f, 0x8fee, 0x5deb, 0x1, 0x0);
        gbc.writeMem(0x1696, { 0xe8, 0x92 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa676, gbc.sp());
        EXPECT(0x1698, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 014A
        gbc.setState(0xa13f, 0xd80, 0x6500, 0x42da, 0x2e4, 0x103a, 0x0, 0x0);
        gbc.writeMem(0xa13f, { 0xe8, 0xd3 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd53, gbc.sp());
        EXPECT(0xa141, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa13f));
        EXPECT(0xd3, gbc.readMem(0xa140));
        // E8 014B
        gbc.setState(0xdfc5, 0xb747, 0x3af0, 0x341f, 0x687a, 0x5540, 0x1, 0x1);
        gbc.writeMem(0xdfc5, { 0xe8, 0x9f });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xb6e6, gbc.sp());
        EXPECT(0xdfc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdfc5));
        EXPECT(0x9f, gbc.readMem(0xdfc6));
        // E8 014C
        gbc.setState(0x419b, 0xcf40, 0x3ba0, 0x3d9c, 0xa915, 0x8f0d, 0x1, 0x1);
        gbc.writeMem(0x419b, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xcf8d, gbc.sp());
        EXPECT(0x419d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 014D
        gbc.setState(0x2a09, 0x9fc1, 0x5e0, 0xbbed, 0x3eab, 0x4327, 0x1, 0x1);
        gbc.writeMem(0x2a09, { 0xe8, 0x5e });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xa01f, gbc.sp());
        EXPECT(0x2a0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 014E
        gbc.setState(0x351d, 0x9768, 0xfe80, 0x9c57, 0xa5f3, 0xdf25, 0x0, 0x1);
        gbc.writeMem(0x351d, { 0xe8, 0xa3 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x970b, gbc.sp());
        EXPECT(0x351f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 014F
        gbc.setState(0x61e9, 0x4cfe, 0xed80, 0x962e, 0x3668, 0x2c7f, 0x1, 0x1);
        gbc.writeMem(0x61e9, { 0xe8, 0xf2 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x4cf0, gbc.sp());
        EXPECT(0x61eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0150
        gbc.setState(0xc886, 0xe7a7, 0xb860, 0xe321, 0x31a2, 0x8aaf, 0x0, 0x0);
        gbc.writeMem(0xc886, { 0xe8, 0xb5 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xe75c, gbc.sp());
        EXPECT(0xc888, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc886));
        EXPECT(0xb5, gbc.readMem(0xc887));
        // E8 0151
        gbc.setState(0x376e, 0x9622, 0x1d0, 0xfce9, 0xcd65, 0xca08, 0x1, 0x0);
        gbc.writeMem(0x376e, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x95b7, gbc.sp());
        EXPECT(0x3770, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0152
        gbc.setState(0x21c9, 0x183c, 0x10a0, 0x23d2, 0x73d0, 0xde74, 0x1, 0x1);
        gbc.writeMem(0x21c9, { 0xe8, 0xdc });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x1818, gbc.sp());
        EXPECT(0x21cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0153
        gbc.setState(0x65a, 0xfcfd, 0x6d90, 0x553e, 0x4e4f, 0x42a8, 0x0, 0x0);
        gbc.writeMem(0x65a, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xfd4a, gbc.sp());
        EXPECT(0x65c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0154
        gbc.setState(0xe3e0, 0x68e8, 0xb180, 0x3669, 0x594b, 0xc38b, 0x1, 0x1);
        gbc.writeMem(0xe3e0, { 0xe8, 0xb8 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x68a0, gbc.sp());
        EXPECT(0xe3e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe3e0));
        EXPECT(0xb8, gbc.readMem(0xe3e1));
        // E8 0155
        gbc.setState(0xe882, 0xe3a6, 0xa50, 0x6f3a, 0x5dde, 0xd1d, 0x1, 0x1);
        gbc.writeMem(0xe882, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xe3c2, gbc.sp());
        EXPECT(0xe884, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe882));
        EXPECT(0x1c, gbc.readMem(0xe883));
        // E8 0156
        gbc.setState(0xae9e, 0xcfbd, 0xb330, 0xa821, 0x63fd, 0xc56d, 0x0, 0x0);
        gbc.writeMem(0xae9e, { 0xe8, 0xf7 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xcfb4, gbc.sp());
        EXPECT(0xaea0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae9e));
        EXPECT(0xf7, gbc.readMem(0xae9f));
        // E8 0157
        gbc.setState(0x2490, 0x94d1, 0xb110, 0x1618, 0xcb72, 0x3659, 0x1, 0x0);
        gbc.writeMem(0x2490, { 0xe8, 0xeb });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x94bc, gbc.sp());
        EXPECT(0x2492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0158
        gbc.setState(0x58b0, 0x6e47, 0x90e0, 0xc3f0, 0x85eb, 0x9557, 0x0, 0x1);
        gbc.writeMem(0x58b0, { 0xe8, 0xef });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x6e36, gbc.sp());
        EXPECT(0x58b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0159
        gbc.setState(0x5787, 0x684f, 0x7e70, 0x96da, 0x9323, 0xabbf, 0x0, 0x1);
        gbc.writeMem(0x5787, { 0xe8, 0xc4 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x6813, gbc.sp());
        EXPECT(0x5789, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 015A
        gbc.setState(0x1a03, 0x8a96, 0x6d50, 0xfbdb, 0xeb36, 0x1462, 0x0, 0x0);
        gbc.writeMem(0x1a03, { 0xe8, 0x5b });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x8af1, gbc.sp());
        EXPECT(0x1a05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 015B
        gbc.setState(0xbf20, 0xd628, 0xcf0, 0xa7f3, 0x3ff1, 0x8a32, 0x1, 0x0);
        gbc.writeMem(0xbf20, { 0xe8, 0xbb });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd5e3, gbc.sp());
        EXPECT(0xbf22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbf20));
        EXPECT(0xbb, gbc.readMem(0xbf21));
        // E8 015C
        gbc.setState(0x602d, 0x4fef, 0x5d80, 0x600, 0x6356, 0xff92, 0x0, 0x0);
        gbc.writeMem(0x602d, { 0xe8, 0xba });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x4fa9, gbc.sp());
        EXPECT(0x602f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 015D
        gbc.setState(0x692c, 0x279, 0xccf0, 0x4333, 0x1579, 0x946, 0x1, 0x1);
        gbc.writeMem(0x692c, { 0xe8, 0x65 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x2de, gbc.sp());
        EXPECT(0x692e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 015E
        gbc.setState(0xecb, 0x771e, 0xc8d0, 0xdbf6, 0x31c, 0x9569, 0x0, 0x1);
        gbc.writeMem(0xecb, { 0xe8, 0x6e });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x778c, gbc.sp());
        EXPECT(0xecd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 015F
        gbc.setState(0xa260, 0xe88, 0x7130, 0xa118, 0xd62a, 0xc14, 0x1, 0x0);
        gbc.writeMem(0xa260, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xe1b, gbc.sp());
        EXPECT(0xa262, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa260));
        EXPECT(0x93, gbc.readMem(0xa261));
        // E8 0160
        gbc.setState(0x65d, 0x34a4, 0x2060, 0xfe6a, 0x94c8, 0x6a49, 0x1, 0x0);
        gbc.writeMem(0x65d, { 0xe8, 0x5c });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x3500, gbc.sp());
        EXPECT(0x65f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0161
        gbc.setState(0x43a8, 0x3f96, 0xf970, 0x924a, 0xae08, 0x54a2, 0x0, 0x1);
        gbc.writeMem(0x43a8, { 0xe8, 0x6f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x4005, gbc.sp());
        EXPECT(0x43aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0163
        gbc.setState(0x26fb, 0xb687, 0xb260, 0x1c8, 0x586d, 0x8381, 0x0, 0x1);
        gbc.writeMem(0x26fb, { 0xe8, 0x45 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xb6cc, gbc.sp());
        EXPECT(0x26fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0164
        gbc.setState(0xa5d2, 0x9080, 0x81d0, 0xb7b4, 0x5036, 0x875a, 0x1, 0x0);
        gbc.writeMem(0xa5d2, { 0xe8, 0xd8 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x9058, gbc.sp());
        EXPECT(0xa5d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa5d2));
        EXPECT(0xd8, gbc.readMem(0xa5d3));
        // E8 0165
        gbc.setState(0x107b, 0x29bb, 0x9f90, 0x5bee, 0xeca5, 0xc2cf, 0x0, 0x0);
        gbc.writeMem(0x107b, { 0xe8, 0xc8 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2983, gbc.sp());
        EXPECT(0x107d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0166
        gbc.setState(0x1c87, 0xa7e2, 0xb30, 0x2d36, 0x4a8, 0x2d9b, 0x1, 0x1);
        gbc.writeMem(0x1c87, { 0xe8, 0x5 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xa7e7, gbc.sp());
        EXPECT(0x1c89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0168
        gbc.setState(0x34cd, 0x8ed, 0x7470, 0xe7e2, 0xa8c4, 0xe7db, 0x1, 0x1);
        gbc.writeMem(0x34cd, { 0xe8, 0x47 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x934, gbc.sp());
        EXPECT(0x34cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0169
        gbc.setState(0xe01, 0x67de, 0x4e60, 0xbcec, 0x35fd, 0xe839, 0x1, 0x0);
        gbc.writeMem(0xe01, { 0xe8, 0x32 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x6810, gbc.sp());
        EXPECT(0xe03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 016B
        gbc.setState(0x842e, 0x49f, 0x9220, 0xee14, 0x5787, 0xda79, 0x0, 0x0);
        gbc.writeMem(0x842e, { 0xe8, 0xdc });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x47b, gbc.sp());
        EXPECT(0x8430, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x842e));
        EXPECT(0xdc, gbc.readMem(0x842f));
        // E8 016C
        gbc.setState(0x16c8, 0xec87, 0x9bd0, 0x3f89, 0x8627, 0xb850, 0x0, 0x0);
        gbc.writeMem(0x16c8, { 0xe8, 0x74 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xecfb, gbc.sp());
        EXPECT(0x16ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 016D
        gbc.setState(0xdb78, 0xa5e2, 0x4470, 0x1bb2, 0xcc08, 0xe43e, 0x1, 0x0);
        gbc.writeMem(0xdb78, { 0xe8, 0x85 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa567, gbc.sp());
        EXPECT(0xdb7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdb78));
        EXPECT(0x85, gbc.readMem(0xdb79));
        // E8 016E
        gbc.setState(0x50ea, 0xf16b, 0x3380, 0xd01d, 0xb901, 0xa24b, 0x0, 0x0);
        gbc.writeMem(0x50ea, { 0xe8, 0x74 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xf1df, gbc.sp());
        EXPECT(0x50ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 016F
        gbc.setState(0xaf00, 0xf3b2, 0x4e50, 0x205a, 0x5818, 0xbe9, 0x0, 0x0);
        gbc.writeMem(0xaf00, { 0xe8, 0x41 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xf3f3, gbc.sp());
        EXPECT(0xaf02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaf00));
        EXPECT(0x41, gbc.readMem(0xaf01));
        // E8 0170
        gbc.setState(0x9cbc, 0xfff1, 0x2a90, 0xc8b2, 0xd62c, 0x8d2e, 0x1, 0x0);
        gbc.writeMem(0x9cbc, { 0xe8, 0x4c });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3d, gbc.sp());
        EXPECT(0x9cbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9cbc));
        EXPECT(0x4c, gbc.readMem(0x9cbd));
        // E8 0171
        gbc.setState(0xbf12, 0x18c3, 0xe640, 0xc6b0, 0xa9bf, 0x1ea8, 0x0, 0x0);
        gbc.writeMem(0xbf12, { 0xe8, 0x83 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x1846, gbc.sp());
        EXPECT(0xbf14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbf12));
        EXPECT(0x83, gbc.readMem(0xbf13));
        // E8 0172
        gbc.setState(0x6943, 0xc80b, 0xe970, 0x6a77, 0xa5d5, 0xc700, 0x1, 0x0);
        gbc.writeMem(0x6943, { 0xe8, 0xe4 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xc7ef, gbc.sp());
        EXPECT(0x6945, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0173
        gbc.setState(0x7279, 0x68c6, 0xab10, 0x3ba8, 0xdf78, 0xa47c, 0x1, 0x0);
        gbc.writeMem(0x7279, { 0xe8, 0xe0 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x68a6, gbc.sp());
        EXPECT(0x727b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0174
        gbc.setState(0x5d9a, 0x876f, 0x2ae0, 0x712d, 0x71fd, 0xfdb3, 0x0, 0x0);
        gbc.writeMem(0x5d9a, { 0xe8, 0x5c });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x87cb, gbc.sp());
        EXPECT(0x5d9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0175
        gbc.setState(0xe850, 0x3f34, 0xa150, 0xa3e8, 0xbdb3, 0x1a9a, 0x1, 0x1);
        gbc.writeMem(0xe850, { 0xe8, 0x6a });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x3f9e, gbc.sp());
        EXPECT(0xe852, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe850));
        EXPECT(0x6a, gbc.readMem(0xe851));
        // E8 0176
        gbc.setState(0x4be9, 0x324e, 0x9850, 0x41b4, 0x21d7, 0xcd95, 0x0, 0x1);
        gbc.writeMem(0x4be9, { 0xe8, 0xd1 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x321f, gbc.sp());
        EXPECT(0x4beb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0177
        gbc.setState(0x9d0b, 0x996a, 0x1d00, 0xb8fc, 0x4b6a, 0xa678, 0x1, 0x1);
        gbc.writeMem(0x9d0b, { 0xe8, 0x77 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x99e1, gbc.sp());
        EXPECT(0x9d0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9d0b));
        EXPECT(0x77, gbc.readMem(0x9d0c));
        // E8 0178
        gbc.setState(0x210a, 0xd7a3, 0xdda0, 0xc0e1, 0xdad9, 0x4bbc, 0x0, 0x1);
        gbc.writeMem(0x210a, { 0xe8, 0x11 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xd7b4, gbc.sp());
        EXPECT(0x210c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0179
        gbc.setState(0x8678, 0x3c7f, 0x4ad0, 0xd5e4, 0xbeda, 0x9f64, 0x0, 0x1);
        gbc.writeMem(0x8678, { 0xe8, 0x21 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x3ca0, gbc.sp());
        EXPECT(0x867a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8678));
        EXPECT(0x21, gbc.readMem(0x8679));
        // E8 017A
        gbc.setState(0xa852, 0x57ed, 0x1f40, 0x1ef0, 0xbea5, 0xeeb7, 0x0, 0x1);
        gbc.writeMem(0xa852, { 0xe8, 0x40 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x582d, gbc.sp());
        EXPECT(0xa854, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa852));
        EXPECT(0x40, gbc.readMem(0xa853));
        // E8 017B
        gbc.setState(0xae2c, 0x79c3, 0x8050, 0x796f, 0xd29b, 0x9f2b, 0x1, 0x1);
        gbc.writeMem(0xae2c, { 0xe8, 0x16 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x79d9, gbc.sp());
        EXPECT(0xae2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae2c));
        EXPECT(0x16, gbc.readMem(0xae2d));
        // E8 017D
        gbc.setState(0xcde7, 0x554, 0xe7b0, 0xbae, 0x3b91, 0x5677, 0x1, 0x0);
        gbc.writeMem(0xcde7, { 0xe8, 0xdd });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x531, gbc.sp());
        EXPECT(0xcde9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcde7));
        EXPECT(0xdd, gbc.readMem(0xcde8));
        // E8 017E
        gbc.setState(0x1b02, 0x7098, 0xf8a0, 0x6364, 0x9e23, 0xa971, 0x1, 0x1);
        gbc.writeMem(0x1b02, { 0xe8, 0xfb });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x7093, gbc.sp());
        EXPECT(0x1b04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 017F
        gbc.setState(0xabbb, 0x894c, 0x1f70, 0xb3e, 0x9228, 0xd00b, 0x1, 0x1);
        gbc.writeMem(0xabbb, { 0xe8, 0xce });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x891a, gbc.sp());
        EXPECT(0xabbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xabbb));
        EXPECT(0xce, gbc.readMem(0xabbc));
        // E8 0180
        gbc.setState(0xc5e7, 0xf1ba, 0x4740, 0x2f6a, 0xb0e9, 0x4ca1, 0x0, 0x1);
        gbc.writeMem(0xc5e7, { 0xe8, 0xcc });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xf186, gbc.sp());
        EXPECT(0xc5e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc5e7));
        EXPECT(0xcc, gbc.readMem(0xc5e8));
        // E8 0181
        gbc.setState(0x5e4c, 0xbf6c, 0x2a20, 0xdd22, 0x9669, 0x2006, 0x1, 0x0);
        gbc.writeMem(0x5e4c, { 0xe8, 0xcf });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xbf3b, gbc.sp());
        EXPECT(0x5e4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0182
        gbc.setState(0xd5b7, 0x5b20, 0x6d30, 0xcfd1, 0xd9ae, 0x9f7e, 0x1, 0x1);
        gbc.writeMem(0xd5b7, { 0xe8, 0x1e });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x5b3e, gbc.sp());
        EXPECT(0xd5b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd5b7));
        EXPECT(0x1e, gbc.readMem(0xd5b8));
        // E8 0183
        gbc.setState(0x395b, 0x7db0, 0x4e60, 0xce1a, 0xb6f5, 0xb8de, 0x1, 0x1);
        gbc.writeMem(0x395b, { 0xe8, 0x9c });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x7d4c, gbc.sp());
        EXPECT(0x395d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0184
        gbc.setState(0x493c, 0xbf32, 0x6ff0, 0xdde9, 0x9845, 0xb9c2, 0x0, 0x1);
        gbc.writeMem(0x493c, { 0xe8, 0x47 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xbf79, gbc.sp());
        EXPECT(0x493e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0185
        gbc.setState(0x1f19, 0xc663, 0x5cb0, 0x8f86, 0xf38b, 0xcb70, 0x0, 0x1);
        gbc.writeMem(0x1f19, { 0xe8, 0xd2 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc635, gbc.sp());
        EXPECT(0x1f1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0186
        gbc.setState(0x29b9, 0x7481, 0x74b0, 0x92c5, 0xbd55, 0xf215, 0x1, 0x0);
        gbc.writeMem(0x29b9, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x74aa, gbc.sp());
        EXPECT(0x29bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0187
        gbc.setState(0xbe0f, 0x6bdb, 0x1910, 0xaea8, 0x7562, 0x223b, 0x0, 0x0);
        gbc.writeMem(0xbe0f, { 0xe8, 0x9e });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x6b79, gbc.sp());
        EXPECT(0xbe11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbe0f));
        EXPECT(0x9e, gbc.readMem(0xbe10));
        // E8 0188
        gbc.setState(0xa7b2, 0xf9d1, 0x3490, 0x958, 0x72cb, 0xafde, 0x1, 0x0);
        gbc.writeMem(0xa7b2, { 0xe8, 0xfe });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xf9cf, gbc.sp());
        EXPECT(0xa7b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa7b2));
        EXPECT(0xfe, gbc.readMem(0xa7b3));
        // E8 018A
        gbc.setState(0x2f14, 0x53aa, 0xd120, 0xd72d, 0xed00, 0xc672, 0x0, 0x0);
        gbc.writeMem(0x2f14, { 0xe8, 0xbe });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x5368, gbc.sp());
        EXPECT(0x2f16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 018C
        gbc.setState(0xba53, 0xa20, 0xf270, 0xa284, 0xbefd, 0x18a1, 0x1, 0x1);
        gbc.writeMem(0xba53, { 0xe8, 0x9e });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9be, gbc.sp());
        EXPECT(0xba55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xba53));
        EXPECT(0x9e, gbc.readMem(0xba54));
        // E8 018D
        gbc.setState(0x9d40, 0x6382, 0x9a80, 0x4550, 0x9780, 0xff7a, 0x1, 0x0);
        gbc.writeMem(0x9d40, { 0xe8, 0xa });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x638c, gbc.sp());
        EXPECT(0x9d42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9d40));
        EXPECT(0xa, gbc.readMem(0x9d41));
        // E8 018E
        gbc.setState(0x8bbe, 0x5a31, 0xc30, 0xd100, 0x4aa1, 0x78b1, 0x1, 0x1);
        gbc.writeMem(0x8bbe, { 0xe8, 0x71 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x5aa2, gbc.sp());
        EXPECT(0x8bc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8bbe));
        EXPECT(0x71, gbc.readMem(0x8bbf));
        // E8 018F
        gbc.setState(0x69cb, 0x9eef, 0x4d10, 0x3042, 0x33d6, 0x78e0, 0x1, 0x1);
        gbc.writeMem(0x69cb, { 0xe8, 0x6b });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x9f5a, gbc.sp());
        EXPECT(0x69cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0190
        gbc.setState(0x50eb, 0xc7db, 0x49a0, 0x4955, 0x7031, 0xebe9, 0x0, 0x0);
        gbc.writeMem(0x50eb, { 0xe8, 0x74 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xc84f, gbc.sp());
        EXPECT(0x50ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0191
        gbc.setState(0x32e9, 0x7ea2, 0x53f0, 0xc13, 0x98bd, 0x23e9, 0x1, 0x0);
        gbc.writeMem(0x32e9, { 0xe8, 0xf });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x7eb1, gbc.sp());
        EXPECT(0x32eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0192
        gbc.setState(0x76f0, 0xb075, 0xb9d0, 0x7b5f, 0x3df9, 0x16c3, 0x0, 0x0);
        gbc.writeMem(0x76f0, { 0xe8, 0x94 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb009, gbc.sp());
        EXPECT(0x76f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0193
        gbc.setState(0x5f85, 0x14d2, 0x7f70, 0x471e, 0xd50f, 0x4dbc, 0x0, 0x1);
        gbc.writeMem(0x5f85, { 0xe8, 0xa8 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x147a, gbc.sp());
        EXPECT(0x5f87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0194
        gbc.setState(0x6ec2, 0xa613, 0x2a90, 0xd0d4, 0xc07d, 0xbf7a, 0x0, 0x1);
        gbc.writeMem(0x6ec2, { 0xe8, 0x92 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xa5a5, gbc.sp());
        EXPECT(0x6ec4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0195
        gbc.setState(0xecb0, 0x28d, 0xb410, 0x86b8, 0xd1ea, 0xcbd0, 0x1, 0x0);
        gbc.writeMem(0xecb0, { 0xe8, 0x7d });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x30a, gbc.sp());
        EXPECT(0xecb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xecb0));
        EXPECT(0x7d, gbc.readMem(0xecb1));
        // E8 0196
        gbc.setState(0x6a78, 0x4f1f, 0xe460, 0x711f, 0x29a9, 0x7431, 0x1, 0x1);
        gbc.writeMem(0x6a78, { 0xe8, 0x1f });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x4f3e, gbc.sp());
        EXPECT(0x6a7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0197
        gbc.setState(0xa0bb, 0x2e81, 0x8400, 0x2fb3, 0x8b4e, 0x8cf, 0x0, 0x0);
        gbc.writeMem(0xa0bb, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2eb7, gbc.sp());
        EXPECT(0xa0bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa0bb));
        EXPECT(0x36, gbc.readMem(0xa0bc));
        // E8 0198
        gbc.setState(0xea8, 0x40d2, 0xfce0, 0xe6b8, 0x8f95, 0xe8a2, 0x1, 0x0);
        gbc.writeMem(0xea8, { 0xe8, 0xda });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x40ac, gbc.sp());
        EXPECT(0xeaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0199
        gbc.setState(0x10a3, 0xc52b, 0xf230, 0xc8c5, 0x8ef4, 0x3632, 0x1, 0x0);
        gbc.writeMem(0x10a3, { 0xe8, 0x7f });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xc5aa, gbc.sp());
        EXPECT(0x10a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 019A
        gbc.setState(0x9a7a, 0x5d72, 0x94f0, 0x40b8, 0xc806, 0xf9bf, 0x0, 0x0);
        gbc.writeMem(0x9a7a, { 0xe8, 0xc1 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x5d33, gbc.sp());
        EXPECT(0x9a7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9a7a));
        EXPECT(0xc1, gbc.readMem(0x9a7b));
        // E8 019C
        gbc.setState(0xcc06, 0xf63c, 0xfb10, 0x226c, 0x404a, 0x4672, 0x1, 0x1);
        gbc.writeMem(0xcc06, { 0xe8, 0x58 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xf694, gbc.sp());
        EXPECT(0xcc08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcc06));
        EXPECT(0x58, gbc.readMem(0xcc07));
        // E8 019D
        gbc.setState(0x8c12, 0x1328, 0x12d0, 0x7c2c, 0x9041, 0xdd7e, 0x1, 0x0);
        gbc.writeMem(0x8c12, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x1382, gbc.sp());
        EXPECT(0x8c14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8c12));
        EXPECT(0x5a, gbc.readMem(0x8c13));
        // E8 019E
        gbc.setState(0xe95e, 0xfd80, 0xc160, 0x2972, 0xbe48, 0x45c9, 0x1, 0x0);
        gbc.writeMem(0xe95e, { 0xe8, 0x41 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xfdc1, gbc.sp());
        EXPECT(0xe960, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe95e));
        EXPECT(0x41, gbc.readMem(0xe95f));
        // E8 019F
        gbc.setState(0x53bc, 0x1d32, 0x1820, 0x2112, 0x1f5a, 0x922, 0x1, 0x1);
        gbc.writeMem(0x53bc, { 0xe8, 0x64 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x1d96, gbc.sp());
        EXPECT(0x53be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01A0
        gbc.setState(0x741f, 0x4ee4, 0x7500, 0xf74b, 0x3a6b, 0x2d0a, 0x0, 0x0);
        gbc.writeMem(0x741f, { 0xe8, 0xac });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x4e90, gbc.sp());
        EXPECT(0x7421, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01A1
        gbc.setState(0xc8dd, 0xcbe7, 0x180, 0x41f8, 0xe397, 0x5a07, 0x0, 0x1);
        gbc.writeMem(0xc8dd, { 0xe8, 0x30 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xcc17, gbc.sp());
        EXPECT(0xc8df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc8dd));
        EXPECT(0x30, gbc.readMem(0xc8de));
        // E8 01A2
        gbc.setState(0xc827, 0x14c, 0xeb10, 0x2704, 0x1316, 0xac4, 0x1, 0x1);
        gbc.writeMem(0xc827, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x1c7, gbc.sp());
        EXPECT(0xc829, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc827));
        EXPECT(0x7b, gbc.readMem(0xc828));
        // E8 01A3
        gbc.setState(0xc5f8, 0x9112, 0x5260, 0xbe1b, 0xa4e, 0xf823, 0x0, 0x0);
        gbc.writeMem(0xc5f8, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x90a8, gbc.sp());
        EXPECT(0xc5fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc5f8));
        EXPECT(0x96, gbc.readMem(0xc5f9));
        // E8 01A4
        gbc.setState(0x4773, 0xcf77, 0xfb70, 0xcce7, 0x1d46, 0x6d80, 0x0, 0x1);
        gbc.writeMem(0x4773, { 0xe8, 0x9a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xcf11, gbc.sp());
        EXPECT(0x4775, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01A5
        gbc.setState(0x4070, 0x936f, 0xf980, 0x2b22, 0x4e8c, 0xd263, 0x0, 0x1);
        gbc.writeMem(0x4070, { 0xe8, 0xb4 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x9323, gbc.sp());
        EXPECT(0x4072, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01A6
        gbc.setState(0xca5b, 0x5581, 0x3630, 0x974c, 0x6a20, 0x543, 0x1, 0x0);
        gbc.writeMem(0xca5b, { 0xe8, 0x87 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x5508, gbc.sp());
        EXPECT(0xca5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xca5b));
        EXPECT(0x87, gbc.readMem(0xca5c));
        // E8 01A8
        gbc.setState(0x8d48, 0x44b9, 0xfdb0, 0x7ba7, 0x864a, 0xece1, 0x0, 0x1);
        gbc.writeMem(0x8d48, { 0xe8, 0x45 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x44fe, gbc.sp());
        EXPECT(0x8d4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8d48));
        EXPECT(0x45, gbc.readMem(0x8d49));
        // E8 01A9
        gbc.setState(0xb1fb, 0xc821, 0xd350, 0x6e6a, 0x488e, 0x6dc4, 0x0, 0x1);
        gbc.writeMem(0xb1fb, { 0xe8, 0xb8 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xc7d9, gbc.sp());
        EXPECT(0xb1fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb1fb));
        EXPECT(0xb8, gbc.readMem(0xb1fc));
        // E8 01AA
        gbc.setState(0x8fa2, 0xc070, 0x7b80, 0x5cc1, 0x6b93, 0x4e92, 0x1, 0x0);
        gbc.writeMem(0x8fa2, { 0xe8, 0xf9 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xc069, gbc.sp());
        EXPECT(0x8fa4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8fa2));
        EXPECT(0xf9, gbc.readMem(0x8fa3));
        // E8 01AB
        gbc.setState(0xd3eb, 0xa4fa, 0x5b70, 0x5d16, 0xff24, 0x4c42, 0x0, 0x1);
        gbc.writeMem(0xd3eb, { 0xe8, 0xcf });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xa4c9, gbc.sp());
        EXPECT(0xd3ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd3eb));
        EXPECT(0xcf, gbc.readMem(0xd3ec));
        // E8 01AC
        gbc.setState(0x243, 0xb52c, 0x5c90, 0x8352, 0xb870, 0x4b85, 0x1, 0x1);
        gbc.writeMem(0x243, { 0xe8, 0x63 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb58f, gbc.sp());
        EXPECT(0x245, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01AD
        gbc.setState(0x8589, 0xdd3a, 0xe050, 0x72df, 0x5ed2, 0x6ee6, 0x0, 0x1);
        gbc.writeMem(0x8589, { 0xe8, 0xa5 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xdcdf, gbc.sp());
        EXPECT(0x858b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8589));
        EXPECT(0xa5, gbc.readMem(0x858a));
        // E8 01AE
        gbc.setState(0x4264, 0x9718, 0xb3d0, 0xf682, 0x5661, 0x3ea3, 0x1, 0x1);
        gbc.writeMem(0x4264, { 0xe8, 0x69 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x9781, gbc.sp());
        EXPECT(0x4266, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01AF
        gbc.setState(0xe317, 0xcb87, 0xa0f0, 0xc18d, 0x34ba, 0x29db, 0x1, 0x0);
        gbc.writeMem(0xe317, { 0xe8, 0x22 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xcba9, gbc.sp());
        EXPECT(0xe319, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe317));
        EXPECT(0x22, gbc.readMem(0xe318));
        // E8 01B0
        gbc.setState(0xda6e, 0xfef8, 0x13b0, 0xdc91, 0x69a6, 0xb798, 0x1, 0x1);
        gbc.writeMem(0xda6e, { 0xe8, 0x4b });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xff43, gbc.sp());
        EXPECT(0xda70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xda6e));
        EXPECT(0x4b, gbc.readMem(0xda6f));
        // E8 01B1
        gbc.setState(0x5892, 0xd991, 0x4b0, 0xbf80, 0xb22c, 0x8a20, 0x0, 0x0);
        gbc.writeMem(0x5892, { 0xe8, 0x34 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xd9c5, gbc.sp());
        EXPECT(0x5894, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01B2
        gbc.setState(0xe574, 0xe27c, 0xea80, 0xdb97, 0xae59, 0x8ec0, 0x0, 0x1);
        gbc.writeMem(0xe574, { 0xe8, 0xf5 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xe271, gbc.sp());
        EXPECT(0xe576, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe574));
        EXPECT(0xf5, gbc.readMem(0xe575));
        // E8 01B3
        gbc.setState(0xb8ef, 0xead7, 0x3bd0, 0x5bc2, 0x96a1, 0xe026, 0x0, 0x0);
        gbc.writeMem(0xb8ef, { 0xe8, 0x4f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xeb26, gbc.sp());
        EXPECT(0xb8f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb8ef));
        EXPECT(0x4f, gbc.readMem(0xb8f0));
        // E8 01B4
        gbc.setState(0x2747, 0x3340, 0xbcc0, 0x8a46, 0x6b50, 0xdc9d, 0x0, 0x1);
        gbc.writeMem(0x2747, { 0xe8, 0x7c });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x33bc, gbc.sp());
        EXPECT(0x2749, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01B5
        gbc.setState(0xd058, 0xcd51, 0x3dd0, 0x2d9b, 0xb03f, 0xe6a7, 0x1, 0x1);
        gbc.writeMem(0xd058, { 0xe8, 0x77 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xcdc8, gbc.sp());
        EXPECT(0xd05a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd058));
        EXPECT(0x77, gbc.readMem(0xd059));
        // E8 01B6
        gbc.setState(0xcb2a, 0x4bf4, 0x1970, 0xa57b, 0xe87f, 0x4a21, 0x1, 0x0);
        gbc.writeMem(0xcb2a, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x4c01, gbc.sp());
        EXPECT(0xcb2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcb2a));
        EXPECT(0xd, gbc.readMem(0xcb2b));
        // E8 01B7
        gbc.setState(0x585b, 0x3082, 0x3330, 0x1b5d, 0x8bcc, 0xc743, 0x1, 0x1);
        gbc.writeMem(0x585b, { 0xe8, 0x3e });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x30c0, gbc.sp());
        EXPECT(0x585d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01B9
        gbc.setState(0xc873, 0xfd64, 0x91f0, 0x2665, 0x47f0, 0xdf42, 0x1, 0x0);
        gbc.writeMem(0xc873, { 0xe8, 0xe4 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xfd48, gbc.sp());
        EXPECT(0xc875, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc873));
        EXPECT(0xe4, gbc.readMem(0xc874));
        // E8 01BA
        gbc.setState(0x2c37, 0x4ca8, 0xf6b0, 0x15c0, 0x80a5, 0x36c2, 0x1, 0x1);
        gbc.writeMem(0x2c37, { 0xe8, 0x82 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x4c2a, gbc.sp());
        EXPECT(0x2c39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01BB
        gbc.setState(0xedf8, 0x1cbe, 0x8610, 0xbdd1, 0xb60c, 0x9641, 0x0, 0x0);
        gbc.writeMem(0xedf8, { 0xe8, 0x2b });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x1ce9, gbc.sp());
        EXPECT(0xedfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xedf8));
        EXPECT(0x2b, gbc.readMem(0xedf9));
        // E8 01BC
        gbc.setState(0xe79d, 0xb520, 0xb850, 0x5fad, 0xbee2, 0xc3ca, 0x0, 0x1);
        gbc.writeMem(0xe79d, { 0xe8, 0x6c });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xb58c, gbc.sp());
        EXPECT(0xe79f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe79d));
        EXPECT(0x6c, gbc.readMem(0xe79e));
        // E8 01BD
        gbc.setState(0xb356, 0x9f32, 0x7930, 0xf48e, 0xb25a, 0xcc64, 0x1, 0x1);
        gbc.writeMem(0xb356, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x9ec0, gbc.sp());
        EXPECT(0xb358, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb356));
        EXPECT(0x8e, gbc.readMem(0xb357));
        // E8 01BE
        gbc.setState(0x3f39, 0x30a7, 0x1440, 0x37aa, 0xa445, 0xbbdc, 0x1, 0x1);
        gbc.writeMem(0x3f39, { 0xe8, 0xdf });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x3086, gbc.sp());
        EXPECT(0x3f3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01BF
        gbc.setState(0xc3c5, 0xfe25, 0x3c20, 0x10f9, 0x5b2a, 0x2e95, 0x0, 0x0);
        gbc.writeMem(0xc3c5, { 0xe8, 0x20 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xfe45, gbc.sp());
        EXPECT(0xc3c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc3c5));
        EXPECT(0x20, gbc.readMem(0xc3c6));
        // E8 01C0
        gbc.setState(0x1542, 0x50b0, 0x81a0, 0x32da, 0x278e, 0x868e, 0x1, 0x1);
        gbc.writeMem(0x1542, { 0xe8, 0x12 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x50c2, gbc.sp());
        EXPECT(0x1544, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01C1
        gbc.setState(0x32ef, 0x9ffa, 0x7b70, 0x97c7, 0xa2ab, 0x81a3, 0x0, 0x0);
        gbc.writeMem(0x32ef, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x9fe7, gbc.sp());
        EXPECT(0x32f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01C2
        gbc.setState(0x2469, 0xb696, 0xa030, 0xe5ff, 0xb0fb, 0x4eb4, 0x1, 0x0);
        gbc.writeMem(0x2469, { 0xe8, 0x65 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xb6fb, gbc.sp());
        EXPECT(0x246b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01C4
        gbc.setState(0x9567, 0x584b, 0xb0d0, 0xe200, 0x2cc8, 0xcb1f, 0x1, 0x1);
        gbc.writeMem(0x9567, { 0xe8, 0x99 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x57e4, gbc.sp());
        EXPECT(0x9569, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9567));
        EXPECT(0x99, gbc.readMem(0x9568));
        // E8 01C5
        gbc.setState(0x61bf, 0xc27e, 0x6010, 0x8b3e, 0x4538, 0xa28f, 0x1, 0x1);
        gbc.writeMem(0x61bf, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xc20c, gbc.sp());
        EXPECT(0x61c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01C6
        gbc.setState(0x641a, 0xedd9, 0xe800, 0xa32b, 0x68, 0x811f, 0x1, 0x0);
        gbc.writeMem(0x641a, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xed83, gbc.sp());
        EXPECT(0x641c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01C7
        gbc.setState(0x361a, 0x4ccd, 0x76f0, 0xde2d, 0x2c76, 0x4658, 0x1, 0x0);
        gbc.writeMem(0x361a, { 0xe8, 0x9d });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x4c6a, gbc.sp());
        EXPECT(0x361c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01C8
        gbc.setState(0x5b3e, 0xa9a7, 0xff50, 0x9036, 0xc43e, 0x3e9e, 0x1, 0x1);
        gbc.writeMem(0x5b3e, { 0xe8, 0x32 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xa9d9, gbc.sp());
        EXPECT(0x5b40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01C9
        gbc.setState(0x7526, 0x2666, 0xba60, 0x5b61, 0x9531, 0x94b1, 0x1, 0x0);
        gbc.writeMem(0x7526, { 0xe8, 0x53 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x26b9, gbc.sp());
        EXPECT(0x7528, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01CA
        gbc.setState(0x75fb, 0xfc6a, 0x9550, 0x84c7, 0x86de, 0x9c7d, 0x1, 0x0);
        gbc.writeMem(0x75fb, { 0xe8, 0x8b });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xfbf5, gbc.sp());
        EXPECT(0x75fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01CB
        gbc.setState(0xdf63, 0x64a8, 0xd690, 0x4099, 0x1138, 0x979a, 0x1, 0x0);
        gbc.writeMem(0xdf63, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x6436, gbc.sp());
        EXPECT(0xdf65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdf63));
        EXPECT(0x8e, gbc.readMem(0xdf64));
        // E8 01CC
        gbc.setState(0x123b, 0x22b7, 0x62d0, 0xc00, 0xddcb, 0x8b42, 0x1, 0x1);
        gbc.writeMem(0x123b, { 0xe8, 0xf });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x22c6, gbc.sp());
        EXPECT(0x123d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01CD
        gbc.setState(0x8826, 0x4247, 0xe660, 0xcace, 0x3794, 0x36ae, 0x1, 0x1);
        gbc.writeMem(0x8826, { 0xe8, 0x82 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x41c9, gbc.sp());
        EXPECT(0x8828, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8826));
        EXPECT(0x82, gbc.readMem(0x8827));
        // E8 01CE
        gbc.setState(0x1a1e, 0x15e7, 0xb2f0, 0x5d37, 0xe6e4, 0x49db, 0x0, 0x1);
        gbc.writeMem(0x1a1e, { 0xe8, 0x6f });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x1656, gbc.sp());
        EXPECT(0x1a20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01CF
        gbc.setState(0x80f8, 0x50ab, 0x6840, 0x20c, 0xcb5b, 0xbc77, 0x0, 0x1);
        gbc.writeMem(0x80f8, { 0xe8, 0x58 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x5103, gbc.sp());
        EXPECT(0x80fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x80f8));
        EXPECT(0x58, gbc.readMem(0x80f9));
        // E8 01D0
        gbc.setState(0x463f, 0x3c4b, 0xfaa0, 0x4853, 0x302b, 0xfec, 0x1, 0x0);
        gbc.writeMem(0x463f, { 0xe8, 0x21 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3c6c, gbc.sp());
        EXPECT(0x4641, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01D1
        gbc.setState(0x60e, 0x9f33, 0x37d0, 0x2bb9, 0x8149, 0xccc5, 0x1, 0x1);
        gbc.writeMem(0x60e, { 0xe8, 0x88 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x9ebb, gbc.sp());
        EXPECT(0x610, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01D2
        gbc.setState(0xe4d4, 0x33c4, 0x8540, 0xae19, 0xd164, 0x5859, 0x0, 0x0);
        gbc.writeMem(0xe4d4, { 0xe8, 0x4c });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x3410, gbc.sp());
        EXPECT(0xe4d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe4d4));
        EXPECT(0x4c, gbc.readMem(0xe4d5));
        // E8 01D3
        gbc.setState(0x4ea7, 0xf8b0, 0xb230, 0x5d21, 0xcd24, 0x880a, 0x0, 0x0);
        gbc.writeMem(0x4ea7, { 0xe8, 0x3d });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xf8ed, gbc.sp());
        EXPECT(0x4ea9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01D4
        gbc.setState(0x13f6, 0x47c1, 0x330, 0xe5f3, 0x8888, 0xcf2b, 0x0, 0x1);
        gbc.writeMem(0x13f6, { 0xe8, 0x30 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x47f1, gbc.sp());
        EXPECT(0x13f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01D6
        gbc.setState(0x3da0, 0xc66e, 0x6d60, 0x1706, 0x94c1, 0xd52a, 0x0, 0x0);
        gbc.writeMem(0x3da0, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xc5fd, gbc.sp());
        EXPECT(0x3da2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01D8
        gbc.setState(0xcd84, 0xf5cc, 0x1550, 0xd3b3, 0xd0a1, 0xe83d, 0x1, 0x1);
        gbc.writeMem(0xcd84, { 0xe8, 0xf5 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xf5c1, gbc.sp());
        EXPECT(0xcd86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcd84));
        EXPECT(0xf5, gbc.readMem(0xcd85));
        // E8 01D9
        gbc.setState(0x3edb, 0xcae3, 0x1510, 0xdc72, 0xdf4d, 0x460, 0x1, 0x0);
        gbc.writeMem(0x3edb, { 0xe8, 0xbf });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xcaa2, gbc.sp());
        EXPECT(0x3edd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01DA
        gbc.setState(0xe6d4, 0xa9e0, 0xec50, 0xb91c, 0x8a12, 0x2972, 0x1, 0x0);
        gbc.writeMem(0xe6d4, { 0xe8, 0xb3 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa993, gbc.sp());
        EXPECT(0xe6d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe6d4));
        EXPECT(0xb3, gbc.readMem(0xe6d5));
        // E8 01DB
        gbc.setState(0x646f, 0x5e9f, 0x6680, 0x21e6, 0x91ed, 0xbe3f, 0x0, 0x0);
        gbc.writeMem(0x646f, { 0xe8, 0x3b });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x5eda, gbc.sp());
        EXPECT(0x6471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01DC
        gbc.setState(0xdd2b, 0x2148, 0x8de0, 0x9d73, 0xe688, 0x2915, 0x1, 0x0);
        gbc.writeMem(0xdd2b, { 0xe8, 0xda });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x2122, gbc.sp());
        EXPECT(0xdd2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdd2b));
        EXPECT(0xda, gbc.readMem(0xdd2c));
        // E8 01DD
        gbc.setState(0x998b, 0x4b40, 0x3490, 0x14f9, 0x5c01, 0xa4f7, 0x1, 0x0);
        gbc.writeMem(0x998b, { 0xe8, 0xd0 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x4b10, gbc.sp());
        EXPECT(0x998d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x998b));
        EXPECT(0xd0, gbc.readMem(0x998c));
        // E8 01DE
        gbc.setState(0xcda1, 0x6f05, 0x6c90, 0x963e, 0x90a0, 0x50f5, 0x0, 0x1);
        gbc.writeMem(0xcda1, { 0xe8, 0xf0 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x6ef5, gbc.sp());
        EXPECT(0xcda3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcda1));
        EXPECT(0xf0, gbc.readMem(0xcda2));
        // E8 01DF
        gbc.setState(0x3513, 0x7063, 0x9ec0, 0x4e2a, 0xee5d, 0x8ddb, 0x0, 0x1);
        gbc.writeMem(0x3513, { 0xe8, 0x56 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x70b9, gbc.sp());
        EXPECT(0x3515, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01E0
        gbc.setState(0x48c1, 0xe7ba, 0x5a20, 0x3cab, 0x2c97, 0xf45c, 0x0, 0x1);
        gbc.writeMem(0x48c1, { 0xe8, 0xb4 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe76e, gbc.sp());
        EXPECT(0x48c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01E1
        gbc.setState(0xc39f, 0x1877, 0x8050, 0x112e, 0xbffd, 0x22bb, 0x1, 0x0);
        gbc.writeMem(0xc39f, { 0xe8, 0x26 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x189d, gbc.sp());
        EXPECT(0xc3a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc39f));
        EXPECT(0x26, gbc.readMem(0xc3a0));
        // E8 01E2
        gbc.setState(0x1304, 0x9184, 0xc930, 0xa44f, 0x5c39, 0x9b52, 0x1, 0x1);
        gbc.writeMem(0x1304, { 0xe8, 0xb9 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x913d, gbc.sp());
        EXPECT(0x1306, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01E3
        gbc.setState(0xabd6, 0xdde1, 0x3c00, 0xf00b, 0xe843, 0xe451, 0x0, 0x0);
        gbc.writeMem(0xabd6, { 0xe8, 0x98 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xdd79, gbc.sp());
        EXPECT(0xabd8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xabd6));
        EXPECT(0x98, gbc.readMem(0xabd7));
        // E8 01E4
        gbc.setState(0x2c06, 0xb256, 0xfa10, 0xe565, 0xf5c4, 0xebc9, 0x1, 0x1);
        gbc.writeMem(0x2c06, { 0xe8, 0x4a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xb2a0, gbc.sp());
        EXPECT(0x2c08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01E5
        gbc.setState(0xdf92, 0xaf97, 0xd90, 0xe449, 0xd99e, 0x8c13, 0x1, 0x1);
        gbc.writeMem(0xdf92, { 0xe8, 0xef });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xaf86, gbc.sp());
        EXPECT(0xdf94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdf92));
        EXPECT(0xef, gbc.readMem(0xdf93));
        // E8 01E7
        gbc.setState(0x2e98, 0x68b6, 0xe5f0, 0x22b, 0x3fce, 0xd117, 0x0, 0x1);
        gbc.writeMem(0x2e98, { 0xe8, 0x92 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x6848, gbc.sp());
        EXPECT(0x2e9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01E8
        gbc.setState(0x5971, 0x84e3, 0xcde0, 0x8ee3, 0x46bc, 0x3714, 0x0, 0x1);
        gbc.writeMem(0x5971, { 0xe8, 0xac });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x848f, gbc.sp());
        EXPECT(0x5973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01E9
        gbc.setState(0xe2d4, 0xfc40, 0xfec0, 0x69a4, 0x9261, 0xb1d6, 0x0, 0x1);
        gbc.writeMem(0xe2d4, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xfbd5, gbc.sp());
        EXPECT(0xe2d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe2d4));
        EXPECT(0x95, gbc.readMem(0xe2d5));
        // E8 01EA
        gbc.setState(0xe9a7, 0xce2b, 0xa2c0, 0x7a4e, 0xb41f, 0xe461, 0x1, 0x1);
        gbc.writeMem(0xe9a7, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xcdcc, gbc.sp());
        EXPECT(0xe9a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe9a7));
        EXPECT(0xa1, gbc.readMem(0xe9a8));
        // E8 01EB
        gbc.setState(0x6707, 0x6d96, 0xf080, 0x2c70, 0x5984, 0x4378, 0x0, 0x1);
        gbc.writeMem(0x6707, { 0xe8, 0xc3 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6d59, gbc.sp());
        EXPECT(0x6709, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01EC
        gbc.setState(0x9974, 0xab59, 0x34f0, 0xc280, 0x1fbd, 0x5cb1, 0x0, 0x0);
        gbc.writeMem(0x9974, { 0xe8, 0xa7 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xab00, gbc.sp());
        EXPECT(0x9976, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9974));
        EXPECT(0xa7, gbc.readMem(0x9975));
        // E8 01ED
        gbc.setState(0x5e41, 0xf42a, 0x5af0, 0xba96, 0xfdb3, 0x654e, 0x0, 0x1);
        gbc.writeMem(0x5e41, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xf3b0, gbc.sp());
        EXPECT(0x5e43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01EE
        gbc.setState(0x270, 0x27a9, 0x8940, 0xfc76, 0x8ee5, 0x853e, 0x1, 0x0);
        gbc.writeMem(0x270, { 0xe8, 0xa4 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x274d, gbc.sp());
        EXPECT(0x272, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01EF
        gbc.setState(0x5dc0, 0x2927, 0x4500, 0x7dfe, 0x996e, 0xce7b, 0x1, 0x0);
        gbc.writeMem(0x5dc0, { 0xe8, 0xba });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x28e1, gbc.sp());
        EXPECT(0x5dc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01F0
        gbc.setState(0x5120, 0xeed3, 0xe250, 0xf5f0, 0xe1e0, 0xd9ce, 0x0, 0x1);
        gbc.writeMem(0x5120, { 0xe8, 0x4b });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xef1e, gbc.sp());
        EXPECT(0x5122, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01F1
        gbc.setState(0x15e, 0x631b, 0x1f30, 0x1120, 0x4898, 0xa22c, 0x0, 0x0);
        gbc.writeMem(0x15e, { 0xe8, 0x71 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x638c, gbc.sp());
        EXPECT(0x160, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01F2
        gbc.setState(0xac0c, 0x43da, 0x6f70, 0xd45d, 0x7923, 0x912a, 0x0, 0x1);
        gbc.writeMem(0xac0c, { 0xe8, 0x8 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x43e2, gbc.sp());
        EXPECT(0xac0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xac0c));
        EXPECT(0x8, gbc.readMem(0xac0d));
        // E8 01F3
        gbc.setState(0xea47, 0x3b09, 0x1f50, 0x9436, 0x66a6, 0xbb18, 0x1, 0x1);
        gbc.writeMem(0xea47, { 0xe8, 0x6d });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x3b76, gbc.sp());
        EXPECT(0xea49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xea47));
        EXPECT(0x6d, gbc.readMem(0xea48));
        // E8 01F4
        gbc.setState(0x117d, 0x5613, 0xf7d0, 0xccf7, 0xe1e2, 0x3530, 0x1, 0x1);
        gbc.writeMem(0x117d, { 0xe8, 0xcc });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x55df, gbc.sp());
        EXPECT(0x117f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 01F5
        gbc.setState(0x88fc, 0x9b, 0xc140, 0xafa7, 0x4576, 0x81c, 0x0, 0x0);
        gbc.writeMem(0x88fc, { 0xe8, 0x3b });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xd6, gbc.sp());
        EXPECT(0x88fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x88fc));
        EXPECT(0x3b, gbc.readMem(0x88fd));
        // E8 01F6
        gbc.setState(0xe93b, 0x1943, 0xe050, 0x7a45, 0xe2f2, 0xf991, 0x1, 0x1);
        gbc.writeMem(0xe93b, { 0xe8, 0x5b });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x199e, gbc.sp());
        EXPECT(0xe93d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe93b));
        EXPECT(0x5b, gbc.readMem(0xe93c));
        // E8 01F7
        gbc.setState(0x13d9, 0x71d2, 0x6520, 0x1db2, 0x33a2, 0x11bf, 0x0, 0x1);
        gbc.writeMem(0x13d9, { 0xe8, 0xd5 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x71a7, gbc.sp());
        EXPECT(0x13db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01F8
        gbc.setState(0xda82, 0xcca3, 0x8ed0, 0x2f2b, 0xdf70, 0xf8fd, 0x1, 0x0);
        gbc.writeMem(0xda82, { 0xe8, 0x27 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xccca, gbc.sp());
        EXPECT(0xda84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xda82));
        EXPECT(0x27, gbc.readMem(0xda83));
        // E8 01F9
        gbc.setState(0xae68, 0x6bc2, 0xafd0, 0x1d6, 0xf3c2, 0x11e7, 0x1, 0x1);
        gbc.writeMem(0xae68, { 0xe8, 0xd8 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x6b9a, gbc.sp());
        EXPECT(0xae6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae68));
        EXPECT(0xd8, gbc.readMem(0xae69));
        // E8 01FA
        gbc.setState(0xd7fa, 0x9540, 0x8690, 0x3f85, 0x90de, 0x6f0f, 0x0, 0x0);
        gbc.writeMem(0xd7fa, { 0xe8, 0x48 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x9588, gbc.sp());
        EXPECT(0xd7fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd7fa));
        EXPECT(0x48, gbc.readMem(0xd7fb));
        // E8 01FB
        gbc.setState(0x4a9d, 0x3a7a, 0x25a0, 0x124f, 0xb7bd, 0xd171, 0x0, 0x0);
        gbc.writeMem(0x4a9d, { 0xe8, 0x98 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x3a12, gbc.sp());
        EXPECT(0x4a9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01FC
        gbc.setState(0x96c5, 0x1971, 0x4d30, 0x4d45, 0x206c, 0x7a0d, 0x0, 0x0);
        gbc.writeMem(0x96c5, { 0xe8, 0x64 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x19d5, gbc.sp());
        EXPECT(0x96c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x96c5));
        EXPECT(0x64, gbc.readMem(0x96c6));
        // E8 01FD
        gbc.setState(0xde62, 0xb612, 0x97b0, 0x888f, 0xaeac, 0x3047, 0x1, 0x1);
        gbc.writeMem(0xde62, { 0xe8, 0xd9 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xb5eb, gbc.sp());
        EXPECT(0xde64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xde62));
        EXPECT(0xd9, gbc.readMem(0xde63));
        // E8 01FE
        gbc.setState(0x4b56, 0x91d1, 0x9330, 0x5f7a, 0x2ae1, 0x3750, 0x0, 0x1);
        gbc.writeMem(0x4b56, { 0xe8, 0x56 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x9227, gbc.sp());
        EXPECT(0x4b58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 01FF
        gbc.setState(0xbd54, 0xf7cd, 0x7e10, 0x905b, 0x6327, 0xc28d, 0x1, 0x1);
        gbc.writeMem(0xbd54, { 0xe8, 0x24 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf7f1, gbc.sp());
        EXPECT(0xbd56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbd54));
        EXPECT(0x24, gbc.readMem(0xbd55));
        // E8 0200
        gbc.setState(0x99d4, 0xa516, 0x6640, 0xac3c, 0xf20, 0xd8b1, 0x1, 0x1);
        gbc.writeMem(0x99d4, { 0xe8, 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xa56a, gbc.sp());
        EXPECT(0x99d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x99d4));
        EXPECT(0x54, gbc.readMem(0x99d5));
        // E8 0201
        gbc.setState(0xd3f7, 0xd8e5, 0x7f00, 0x6e9, 0x3398, 0x834a, 0x1, 0x0);
        gbc.writeMem(0xd3f7, { 0xe8, 0x48 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xd92d, gbc.sp());
        EXPECT(0xd3f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd3f7));
        EXPECT(0x48, gbc.readMem(0xd3f8));
        // E8 0202
        gbc.setState(0x9e6d, 0xe25a, 0xeb50, 0xe353, 0xbddc, 0xb8a8, 0x0, 0x0);
        gbc.writeMem(0x9e6d, { 0xe8, 0x26 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xe280, gbc.sp());
        EXPECT(0x9e6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9e6d));
        EXPECT(0x26, gbc.readMem(0x9e6e));
        // E8 0203
        gbc.setState(0xb773, 0xf681, 0x9420, 0xb554, 0x7128, 0x7d1e, 0x1, 0x0);
        gbc.writeMem(0xb773, { 0xe8, 0x6b });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xf6ec, gbc.sp());
        EXPECT(0xb775, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb773));
        EXPECT(0x6b, gbc.readMem(0xb774));
        // E8 0204
        gbc.setState(0x8eff, 0xf475, 0x46f0, 0x6e7e, 0xb831, 0x7d06, 0x0, 0x1);
        gbc.writeMem(0x8eff, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf49a, gbc.sp());
        EXPECT(0x8f01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8eff));
        EXPECT(0x25, gbc.readMem(0x8f00));
        // E8 0206
        gbc.setState(0x4658, 0x2448, 0xa7e0, 0xbc4f, 0x6ea0, 0x6389, 0x1, 0x0);
        gbc.writeMem(0x4658, { 0xe8, 0xf6 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x243e, gbc.sp());
        EXPECT(0x465a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0207
        gbc.setState(0xced5, 0x6b1b, 0x7730, 0xbdae, 0xa813, 0x8b01, 0x1, 0x1);
        gbc.writeMem(0xced5, { 0xe8, 0x2e });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x6b49, gbc.sp());
        EXPECT(0xced7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xced5));
        EXPECT(0x2e, gbc.readMem(0xced6));
        // E8 0208
        gbc.setState(0xd1d, 0x86e5, 0x4cb0, 0x7287, 0x9cb7, 0x7713, 0x0, 0x0);
        gbc.writeMem(0xd1d, { 0xe8, 0xf8 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x86dd, gbc.sp());
        EXPECT(0xd1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0209
        gbc.setState(0x92ea, 0xd7d1, 0x22d0, 0x8599, 0x1d3a, 0x4703, 0x1, 0x0);
        gbc.writeMem(0x92ea, { 0xe8, 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xd7cc, gbc.sp());
        EXPECT(0x92ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x92ea));
        EXPECT(0xfb, gbc.readMem(0x92eb));
        // E8 020B
        gbc.setState(0xc063, 0xcc20, 0x1a50, 0xfcb, 0x7f17, 0x8521, 0x1, 0x0);
        gbc.writeMem(0xc063, { 0xe8, 0x3b });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xcc5b, gbc.sp());
        EXPECT(0xc065, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc063));
        EXPECT(0x3b, gbc.readMem(0xc064));
        // E8 020C
        gbc.setState(0xef53, 0x4fc2, 0x390, 0x3b1f, 0x416c, 0x3c12, 0x1, 0x1);
        gbc.writeMem(0xef53, { 0xe8, 0xae });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x4f70, gbc.sp());
        EXPECT(0xef55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xef53));
        EXPECT(0xae, gbc.readMem(0xef54));
        // E8 020E
        gbc.setState(0xe945, 0xe654, 0x78c0, 0xdce1, 0xad53, 0x2ed4, 0x0, 0x1);
        gbc.writeMem(0xe945, { 0xe8, 0x28 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xe67c, gbc.sp());
        EXPECT(0xe947, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe945));
        EXPECT(0x28, gbc.readMem(0xe946));
        // E8 020F
        gbc.setState(0xbb25, 0xbf2b, 0xad40, 0x961f, 0xac6c, 0x1e67, 0x0, 0x0);
        gbc.writeMem(0xbb25, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xbf18, gbc.sp());
        EXPECT(0xbb27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbb25));
        EXPECT(0xed, gbc.readMem(0xbb26));
        // E8 0210
        gbc.setState(0x9da2, 0x2a49, 0x8210, 0x8319, 0x1fa, 0x5985, 0x1, 0x1);
        gbc.writeMem(0x9da2, { 0xe8, 0xd5 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x2a1e, gbc.sp());
        EXPECT(0x9da4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9da2));
        EXPECT(0xd5, gbc.readMem(0x9da3));
        // E8 0211
        gbc.setState(0x39ec, 0x5d6c, 0xc850, 0x9758, 0x742a, 0xf471, 0x1, 0x0);
        gbc.writeMem(0x39ec, { 0xe8, 0xfe });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5d6a, gbc.sp());
        EXPECT(0x39ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0212
        gbc.setState(0xeb89, 0xab70, 0x6c20, 0x7b05, 0xb3d1, 0xca44, 0x1, 0x1);
        gbc.writeMem(0xeb89, { 0xe8, 0xd7 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xab47, gbc.sp());
        EXPECT(0xeb8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeb89));
        EXPECT(0xd7, gbc.readMem(0xeb8a));
        // E8 0213
        gbc.setState(0xde47, 0xa512, 0x1570, 0xa79e, 0x41f4, 0x8980, 0x0, 0x0);
        gbc.writeMem(0xde47, { 0xe8, 0x8b });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xa49d, gbc.sp());
        EXPECT(0xde49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xde47));
        EXPECT(0x8b, gbc.readMem(0xde48));
        // E8 0214
        gbc.setState(0x4e7e, 0xb7b7, 0x73f0, 0x3515, 0x5470, 0x19a6, 0x1, 0x0);
        gbc.writeMem(0x4e7e, { 0xe8, 0xa6 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb75d, gbc.sp());
        EXPECT(0x4e80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0215
        gbc.setState(0xb62a, 0x2447, 0xfee0, 0xe59c, 0xd593, 0x13b1, 0x0, 0x1);
        gbc.writeMem(0xb62a, { 0xe8, 0x7f });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x24c6, gbc.sp());
        EXPECT(0xb62c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb62a));
        EXPECT(0x7f, gbc.readMem(0xb62b));
        // E8 0217
        gbc.setState(0x8420, 0xe7e1, 0x9570, 0x4666, 0xb9d8, 0xbbb8, 0x0, 0x1);
        gbc.writeMem(0x8420, { 0xe8, 0x8b });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xe76c, gbc.sp());
        EXPECT(0x8422, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8420));
        EXPECT(0x8b, gbc.readMem(0x8421));
        // E8 0218
        gbc.setState(0x4d94, 0x5cca, 0x5e90, 0x6428, 0x3079, 0x80e2, 0x1, 0x1);
        gbc.writeMem(0x4d94, { 0xe8, 0xbb });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x5c85, gbc.sp());
        EXPECT(0x4d96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0219
        gbc.setState(0x858f, 0xda7c, 0x6a40, 0x4d4d, 0x5941, 0xb23a, 0x1, 0x0);
        gbc.writeMem(0x858f, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xdab2, gbc.sp());
        EXPECT(0x8591, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x858f));
        EXPECT(0x36, gbc.readMem(0x8590));
        // E8 021A
        gbc.setState(0x84cf, 0x2717, 0x6f40, 0x882c, 0xe849, 0xb44b, 0x0, 0x1);
        gbc.writeMem(0x84cf, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x26ad, gbc.sp());
        EXPECT(0x84d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x84cf));
        EXPECT(0x96, gbc.readMem(0x84d0));
        // E8 021B
        gbc.setState(0xadc5, 0x74cd, 0x4770, 0x3f38, 0x21e4, 0x36f2, 0x0, 0x1);
        gbc.writeMem(0xadc5, { 0xe8, 0xde });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x74ab, gbc.sp());
        EXPECT(0xadc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xadc5));
        EXPECT(0xde, gbc.readMem(0xadc6));
        // E8 021C
        gbc.setState(0x5b44, 0x645d, 0x87d0, 0x380f, 0xf50c, 0x1836, 0x0, 0x0);
        gbc.writeMem(0x5b44, { 0xe8, 0xea });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x6447, gbc.sp());
        EXPECT(0x5b46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 021D
        gbc.setState(0xe290, 0x82de, 0xdca0, 0xb691, 0x839, 0x585d, 0x1, 0x1);
        gbc.writeMem(0xe290, { 0xe8, 0xcb });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x82a9, gbc.sp());
        EXPECT(0xe292, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe290));
        EXPECT(0xcb, gbc.readMem(0xe291));
        // E8 021E
        gbc.setState(0xab4a, 0xce9b, 0xd8b0, 0x82ea, 0xa2e3, 0x8244, 0x0, 0x0);
        gbc.writeMem(0xab4a, { 0xe8, 0x77 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xcf12, gbc.sp());
        EXPECT(0xab4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xab4a));
        EXPECT(0x77, gbc.readMem(0xab4b));
        // E8 021F
        gbc.setState(0x78b1, 0xfdfc, 0xbb80, 0x1262, 0xc83c, 0x6fb0, 0x0, 0x1);
        gbc.writeMem(0x78b1, { 0xe8, 0xaf });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xfdab, gbc.sp());
        EXPECT(0x78b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0220
        gbc.setState(0x5991, 0xfcbc, 0xdb40, 0x6cc9, 0xc569, 0x4aa8, 0x1, 0x1);
        gbc.writeMem(0x5991, { 0xe8, 0xe1 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xfc9d, gbc.sp());
        EXPECT(0x5993, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0221
        gbc.setState(0x5a3b, 0x5ae9, 0x3d20, 0xccd5, 0xe665, 0xea8f, 0x0, 0x0);
        gbc.writeMem(0x5a3b, { 0xe8, 0x6c });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x5b55, gbc.sp());
        EXPECT(0x5a3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0222
        gbc.setState(0x5f2e, 0x9284, 0xcf40, 0x1fb4, 0x81c7, 0xfeb1, 0x0, 0x1);
        gbc.writeMem(0x5f2e, { 0xe8, 0xee });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x9272, gbc.sp());
        EXPECT(0x5f30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0223
        gbc.setState(0x35f5, 0x61d8, 0xa170, 0x8f18, 0x42c4, 0xada5, 0x1, 0x0);
        gbc.writeMem(0x35f5, { 0xe8, 0xd9 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x61b1, gbc.sp());
        EXPECT(0x35f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0224
        gbc.setState(0x7256, 0x4d3b, 0x7c60, 0xb553, 0xb6b2, 0x97bd, 0x0, 0x1);
        gbc.writeMem(0x7256, { 0xe8, 0xff });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x4d3a, gbc.sp());
        EXPECT(0x7258, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0226
        gbc.setState(0x689a, 0x9fce, 0xf160, 0x592, 0x4019, 0xff38, 0x1, 0x1);
        gbc.writeMem(0x689a, { 0xe8, 0x39 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xa007, gbc.sp());
        EXPECT(0x689c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0227
        gbc.setState(0x8f81, 0x2f48, 0x2f50, 0xc474, 0x414e, 0x3c4b, 0x1, 0x0);
        gbc.writeMem(0x8f81, { 0xe8, 0xb1 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x2ef9, gbc.sp());
        EXPECT(0x8f83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8f81));
        EXPECT(0xb1, gbc.readMem(0x8f82));
        // E8 0228
        gbc.setState(0x36d4, 0x2ca0, 0xdff0, 0x624b, 0x4c17, 0x32ef, 0x0, 0x1);
        gbc.writeMem(0x36d4, { 0xe8, 0x4b });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x2ceb, gbc.sp());
        EXPECT(0x36d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0229
        gbc.setState(0x4bcc, 0xc4c1, 0x2d20, 0x3681, 0x6a1, 0x4630, 0x0, 0x0);
        gbc.writeMem(0x4bcc, { 0xe8, 0xf5 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xc4b6, gbc.sp());
        EXPECT(0x4bce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 022A
        gbc.setState(0x7083, 0x1f1d, 0xed30, 0x1af8, 0xcfd3, 0xacb7, 0x1, 0x0);
        gbc.writeMem(0x7083, { 0xe8, 0x76 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x1f93, gbc.sp());
        EXPECT(0x7085, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 022B
        gbc.setState(0x2dd1, 0xab65, 0xde30, 0xba0e, 0xb7a6, 0x7930, 0x1, 0x0);
        gbc.writeMem(0x2dd1, { 0xe8, 0xba });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xab1f, gbc.sp());
        EXPECT(0x2dd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 022C
        gbc.setState(0xdfcf, 0x9c25, 0xb350, 0x419d, 0x4e9f, 0xaf5f, 0x0, 0x1);
        gbc.writeMem(0xdfcf, { 0xe8, 0x23 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x9c48, gbc.sp());
        EXPECT(0xdfd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdfcf));
        EXPECT(0x23, gbc.readMem(0xdfd0));
        // E8 022D
        gbc.setState(0xc192, 0xf4c0, 0x4480, 0xfd70, 0x6b79, 0x6a4a, 0x1, 0x0);
        gbc.writeMem(0xc192, { 0xe8, 0xc0 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xf480, gbc.sp());
        EXPECT(0xc194, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc192));
        EXPECT(0xc0, gbc.readMem(0xc193));
        // E8 022E
        gbc.setState(0xac6b, 0x3f02, 0xf740, 0xdbcb, 0x6613, 0xbf9b, 0x0, 0x1);
        gbc.writeMem(0xac6b, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x3e88, gbc.sp());
        EXPECT(0xac6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xac6b));
        EXPECT(0x86, gbc.readMem(0xac6c));
        // E8 022F
        gbc.setState(0x3bc, 0x8a80, 0xe560, 0x92ad, 0x6fd, 0xbf85, 0x1, 0x0);
        gbc.writeMem(0x3bc, { 0xe8, 0xe5 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x8a65, gbc.sp());
        EXPECT(0x3be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0230
        gbc.setState(0xe0d5, 0xcd41, 0xdaa0, 0xba08, 0x62c9, 0x5bec, 0x1, 0x1);
        gbc.writeMem(0xe0d5, { 0xe8, 0xa5 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xcce6, gbc.sp());
        EXPECT(0xe0d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe0d5));
        EXPECT(0xa5, gbc.readMem(0xe0d6));
        // E8 0231
        gbc.setState(0xea76, 0xea16, 0x7db0, 0x1b6e, 0x5c7, 0xc72e, 0x0, 0x1);
        gbc.writeMem(0xea76, { 0xe8, 0xdb });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xe9f1, gbc.sp());
        EXPECT(0xea78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xea76));
        EXPECT(0xdb, gbc.readMem(0xea77));
        // E8 0232
        gbc.setState(0x6f9, 0x4238, 0x3290, 0x36e4, 0x5a6e, 0xff80, 0x1, 0x0);
        gbc.writeMem(0x6f9, { 0xe8, 0xe8 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x4220, gbc.sp());
        EXPECT(0x6fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0233
        gbc.setState(0xe8a0, 0x2f41, 0x980, 0x780f, 0x646d, 0xc118, 0x1, 0x1);
        gbc.writeMem(0xe8a0, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x2eee, gbc.sp());
        EXPECT(0xe8a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe8a0));
        EXPECT(0xad, gbc.readMem(0xe8a1));
        // E8 0234
        gbc.setState(0x49ac, 0x6a33, 0xc1c0, 0x4fd4, 0x7cfc, 0xe2f8, 0x1, 0x0);
        gbc.writeMem(0x49ac, { 0xe8, 0xdc });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x6a0f, gbc.sp());
        EXPECT(0x49ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0236
        gbc.setState(0x7b88, 0xda11, 0x1a0, 0xe3ca, 0xd884, 0xbb2a, 0x1, 0x0);
        gbc.writeMem(0x7b88, { 0xe8, 0xe3 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd9f4, gbc.sp());
        EXPECT(0x7b8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0237
        gbc.setState(0xb7a5, 0xb3cb, 0x72c0, 0x9dd, 0xd1b1, 0xfcd0, 0x0, 0x0);
        gbc.writeMem(0xb7a5, { 0xe8, 0xec });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xb3b7, gbc.sp());
        EXPECT(0xb7a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb7a5));
        EXPECT(0xec, gbc.readMem(0xb7a6));
        // E8 0238
        gbc.setState(0x6324, 0x3103, 0x3430, 0xe7ae, 0xf01e, 0xd799, 0x0, 0x1);
        gbc.writeMem(0x6324, { 0xe8, 0xd6 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x30d9, gbc.sp());
        EXPECT(0x6326, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0239
        gbc.setState(0x8249, 0x75a4, 0x1090, 0xe719, 0x7b76, 0xfebd, 0x0, 0x0);
        gbc.writeMem(0x8249, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x761f, gbc.sp());
        EXPECT(0x824b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8249));
        EXPECT(0x7b, gbc.readMem(0x824a));
        // E8 023A
        gbc.setState(0x2317, 0x81fd, 0xf640, 0x7a80, 0x8bbe, 0xea14, 0x0, 0x1);
        gbc.writeMem(0x2317, { 0xe8, 0xb9 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x81b6, gbc.sp());
        EXPECT(0x2319, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 023C
        gbc.setState(0x28be, 0x3a45, 0xbb40, 0x1651, 0x5690, 0xa971, 0x0, 0x1);
        gbc.writeMem(0x28be, { 0xe8, 0x76 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x3abb, gbc.sp());
        EXPECT(0x28c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 023D
        gbc.setState(0xeb4d, 0xb9a0, 0x9700, 0x43d3, 0x37de, 0x94f0, 0x1, 0x1);
        gbc.writeMem(0xeb4d, { 0xe8, 0xa5 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xb945, gbc.sp());
        EXPECT(0xeb4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeb4d));
        EXPECT(0xa5, gbc.readMem(0xeb4e));
        // E8 023F
        gbc.setState(0x4842, 0x9b52, 0x20c0, 0x6ca6, 0x6903, 0xd78c, 0x1, 0x1);
        gbc.writeMem(0x4842, { 0xe8, 0xae });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x9b00, gbc.sp());
        EXPECT(0x4844, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0240
        gbc.setState(0x6a52, 0x74e5, 0x1d00, 0x6a8, 0x8a8e, 0x8b65, 0x1, 0x1);
        gbc.writeMem(0x6a52, { 0xe8, 0x6b });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x7550, gbc.sp());
        EXPECT(0x6a54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0241
        gbc.setState(0x7e72, 0xea9, 0x38f0, 0x8fbb, 0x7d77, 0xc7e6, 0x0, 0x1);
        gbc.writeMem(0x7e72, { 0xe8, 0xae });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xe57, gbc.sp());
        EXPECT(0x7e74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0242
        gbc.setState(0x7be0, 0x8893, 0x9c20, 0xbd94, 0x654a, 0x5c62, 0x1, 0x0);
        gbc.writeMem(0x7be0, { 0xe8, 0xef });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x8882, gbc.sp());
        EXPECT(0x7be2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0243
        gbc.setState(0xaad0, 0xc2af, 0x40c0, 0xa3cd, 0x68cd, 0x9ec4, 0x0, 0x0);
        gbc.writeMem(0xaad0, { 0xe8, 0xbe });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xc26d, gbc.sp());
        EXPECT(0xaad2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaad0));
        EXPECT(0xbe, gbc.readMem(0xaad1));
        // E8 0245
        gbc.setState(0x25e6, 0x4969, 0x20b0, 0x4b8f, 0x3d8, 0xec64, 0x0, 0x0);
        gbc.writeMem(0x25e6, { 0xe8, 0x94 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x48fd, gbc.sp());
        EXPECT(0x25e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0246
        gbc.setState(0x1f7, 0x23af, 0xde40, 0xbc71, 0xf237, 0xd1a2, 0x1, 0x0);
        gbc.writeMem(0x1f7, { 0xe8, 0x4c });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x23fb, gbc.sp());
        EXPECT(0x1f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0247
        gbc.setState(0xd19d, 0x4731, 0x6260, 0x77ae, 0x9a7b, 0xa9db, 0x0, 0x0);
        gbc.writeMem(0xd19d, { 0xe8, 0xbc });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x46ed, gbc.sp());
        EXPECT(0xd19f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd19d));
        EXPECT(0xbc, gbc.readMem(0xd19e));
        // E8 0248
        gbc.setState(0x209a, 0x6a2a, 0x81d0, 0x556c, 0x1ab4, 0x7c4f, 0x0, 0x1);
        gbc.writeMem(0x209a, { 0xe8, 0x39 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x6a63, gbc.sp());
        EXPECT(0x209c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0249
        gbc.setState(0x1092, 0xe21f, 0xe700, 0x6d50, 0xdb0d, 0x8fe, 0x1, 0x1);
        gbc.writeMem(0x1092, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xe1ae, gbc.sp());
        EXPECT(0x1094, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 024A
        gbc.setState(0x8ea0, 0x1a7f, 0x3660, 0xac01, 0x5747, 0xbd56, 0x1, 0x0);
        gbc.writeMem(0x8ea0, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x1a2c, gbc.sp());
        EXPECT(0x8ea2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8ea0));
        EXPECT(0xad, gbc.readMem(0x8ea1));
        // E8 024C
        gbc.setState(0xdf52, 0x108a, 0x7ee0, 0x717d, 0x4cb0, 0xc653, 0x0, 0x1);
        gbc.writeMem(0xdf52, { 0xe8, 0xc5 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x104f, gbc.sp());
        EXPECT(0xdf54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdf52));
        EXPECT(0xc5, gbc.readMem(0xdf53));
        // E8 024D
        gbc.setState(0x4c7, 0x9ab, 0xf790, 0x6baa, 0xb727, 0x6682, 0x0, 0x1);
        gbc.writeMem(0x4c7, { 0xe8, 0xb1 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x95c, gbc.sp());
        EXPECT(0x4c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 024E
        gbc.setState(0xd5d8, 0x86be, 0x2c10, 0xfae3, 0x4faa, 0x68a7, 0x1, 0x1);
        gbc.writeMem(0xd5d8, { 0xe8, 0x2 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x86c0, gbc.sp());
        EXPECT(0xd5da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd5d8));
        EXPECT(0x2, gbc.readMem(0xd5d9));
        // E8 024F
        gbc.setState(0xbbde, 0xddf5, 0x4060, 0x7317, 0x5b63, 0x23b6, 0x0, 0x1);
        gbc.writeMem(0xbbde, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xde1e, gbc.sp());
        EXPECT(0xbbe0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbbde));
        EXPECT(0x29, gbc.readMem(0xbbdf));
        // E8 0250
        gbc.setState(0xe9cc, 0x98bf, 0x6d80, 0x128a, 0x61db, 0x35b9, 0x1, 0x0);
        gbc.writeMem(0xe9cc, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x98cc, gbc.sp());
        EXPECT(0xe9ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe9cc));
        EXPECT(0xd, gbc.readMem(0xe9cd));
        // E8 0252
        gbc.setState(0xabfa, 0x76fa, 0x3e00, 0x843a, 0x26d3, 0xd49e, 0x0, 0x1);
        gbc.writeMem(0xabfa, { 0xe8, 0x22 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x771c, gbc.sp());
        EXPECT(0xabfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xabfa));
        EXPECT(0x22, gbc.readMem(0xabfb));
        // E8 0253
        gbc.setState(0x8b5c, 0xd9ef, 0x2ee0, 0xa740, 0xd909, 0x738a, 0x1, 0x0);
        gbc.writeMem(0x8b5c, { 0xe8, 0x38 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xda27, gbc.sp());
        EXPECT(0x8b5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8b5c));
        EXPECT(0x38, gbc.readMem(0x8b5d));
        // E8 0254
        gbc.setState(0x6ed9, 0xb62c, 0xab80, 0x8fb3, 0xbc90, 0xc3f5, 0x1, 0x0);
        gbc.writeMem(0x6ed9, { 0xe8, 0xec });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb618, gbc.sp());
        EXPECT(0x6edb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0255
        gbc.setState(0xeb6f, 0xb626, 0x6660, 0x52ef, 0x77f, 0x794a, 0x1, 0x0);
        gbc.writeMem(0xeb6f, { 0xe8, 0xe5 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xb60b, gbc.sp());
        EXPECT(0xeb71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeb6f));
        EXPECT(0xe5, gbc.readMem(0xeb70));
        // E8 0256
        gbc.setState(0x5615, 0x2740, 0x1a00, 0x7a5e, 0x7921, 0x3647, 0x0, 0x0);
        gbc.writeMem(0x5615, { 0xe8, 0x74 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x27b4, gbc.sp());
        EXPECT(0x5617, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0258
        gbc.setState(0xa729, 0x9201, 0xb6b0, 0x6233, 0xdc53, 0x68dc, 0x1, 0x0);
        gbc.writeMem(0xa729, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x9194, gbc.sp());
        EXPECT(0xa72b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa729));
        EXPECT(0x93, gbc.readMem(0xa72a));
        // E8 0259
        gbc.setState(0xdd8, 0xb53c, 0x7c0, 0xfc68, 0x38b0, 0xf681, 0x0, 0x1);
        gbc.writeMem(0xdd8, { 0xe8, 0x48 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xb584, gbc.sp());
        EXPECT(0xdda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 025A
        gbc.setState(0x1579, 0x50ef, 0xd270, 0xd6a2, 0x5fa3, 0x2af0, 0x0, 0x0);
        gbc.writeMem(0x1579, { 0xe8, 0xea });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x50d9, gbc.sp());
        EXPECT(0x157b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 025B
        gbc.setState(0x1e3, 0xcfd3, 0xe230, 0x91b5, 0x6204, 0xd40c, 0x1, 0x0);
        gbc.writeMem(0x1e3, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xcfe0, gbc.sp());
        EXPECT(0x1e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 025C
        gbc.setState(0x1f38, 0xfdd1, 0x2ae0, 0x2404, 0x384a, 0x9758, 0x0, 0x0);
        gbc.writeMem(0x1f38, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xfd67, gbc.sp());
        EXPECT(0x1f3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 025D
        gbc.setState(0x409e, 0x8bd8, 0x3fc0, 0x667, 0xc1a5, 0x2c4a, 0x1, 0x0);
        gbc.writeMem(0x409e, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x8c0e, gbc.sp());
        EXPECT(0x40a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 025E
        gbc.setState(0x3082, 0xd561, 0xd70, 0x2052, 0x917d, 0x6208, 0x0, 0x0);
        gbc.writeMem(0x3082, { 0xe8, 0x24 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xd585, gbc.sp());
        EXPECT(0x3084, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 025F
        gbc.setState(0x7e88, 0x755c, 0x1d10, 0xf320, 0x8e96, 0x4b71, 0x0, 0x0);
        gbc.writeMem(0x7e88, { 0xe8, 0x44 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x75a0, gbc.sp());
        EXPECT(0x7e8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0260
        gbc.setState(0x890a, 0x9752, 0xee90, 0xb7e1, 0xa1b8, 0x1e49, 0x1, 0x1);
        gbc.writeMem(0x890a, { 0xe8, 0x90 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x96e2, gbc.sp());
        EXPECT(0x890c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x890a));
        EXPECT(0x90, gbc.readMem(0x890b));
        // E8 0261
        gbc.setState(0x72df, 0xad70, 0xcaa0, 0xfda6, 0x24f6, 0x3aa6, 0x1, 0x0);
        gbc.writeMem(0x72df, { 0xe8, 0xf5 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xad65, gbc.sp());
        EXPECT(0x72e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0262
        gbc.setState(0x53fd, 0x2a35, 0x85a0, 0x87ed, 0x1367, 0x55e6, 0x0, 0x1);
        gbc.writeMem(0x53fd, { 0xe8, 0x23 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x2a58, gbc.sp());
        EXPECT(0x53ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0263
        gbc.setState(0xd2de, 0x110f, 0x4b80, 0x7d52, 0xa4a1, 0xa97f, 0x1, 0x1);
        gbc.writeMem(0xd2de, { 0xe8, 0xb2 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x10c1, gbc.sp());
        EXPECT(0xd2e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd2de));
        EXPECT(0xb2, gbc.readMem(0xd2df));
        // E8 0264
        gbc.setState(0xd35d, 0xbf2c, 0x3b30, 0x95c7, 0xebf5, 0x1a8c, 0x1, 0x1);
        gbc.writeMem(0xd35d, { 0xe8, 0x20 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xbf4c, gbc.sp());
        EXPECT(0xd35f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd35d));
        EXPECT(0x20, gbc.readMem(0xd35e));
        // E8 0265
        gbc.setState(0x3db1, 0x5e4d, 0xe8e0, 0x5dc1, 0xe0b4, 0xb650, 0x0, 0x1);
        gbc.writeMem(0x3db1, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x5dee, gbc.sp());
        EXPECT(0x3db3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0266
        gbc.setState(0xebf0, 0x5a5a, 0x6f60, 0x417e, 0x10f, 0x5dc5, 0x0, 0x0);
        gbc.writeMem(0xebf0, { 0xe8, 0xc });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x5a66, gbc.sp());
        EXPECT(0xebf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xebf0));
        EXPECT(0xc, gbc.readMem(0xebf1));
        // E8 0267
        gbc.setState(0xceec, 0x464f, 0x3080, 0xbbc, 0xfa59, 0x2f3e, 0x1, 0x0);
        gbc.writeMem(0xceec, { 0xe8, 0x5d });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x46ac, gbc.sp());
        EXPECT(0xceee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xceec));
        EXPECT(0x5d, gbc.readMem(0xceed));
        // E8 0268
        gbc.setState(0x87db, 0x46c4, 0x4b60, 0x7649, 0x36f8, 0x5035, 0x0, 0x0);
        gbc.writeMem(0x87db, { 0xe8, 0x45 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x4709, gbc.sp());
        EXPECT(0x87dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x87db));
        EXPECT(0x45, gbc.readMem(0x87dc));
        // E8 0269
        gbc.setState(0x727, 0x623c, 0xb560, 0x76b1, 0xcc4c, 0x2b6c, 0x1, 0x0);
        gbc.writeMem(0x727, { 0xe8, 0xa4 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x61e0, gbc.sp());
        EXPECT(0x729, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 026A
        gbc.setState(0xd5a0, 0x7ae, 0x2a70, 0x1acf, 0xe05c, 0x3aa0, 0x0, 0x1);
        gbc.writeMem(0xd5a0, { 0xe8, 0x89 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x737, gbc.sp());
        EXPECT(0xd5a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd5a0));
        EXPECT(0x89, gbc.readMem(0xd5a1));
        // E8 026B
        gbc.setState(0x961d, 0xf4bf, 0x72a0, 0x236f, 0x992b, 0x7593, 0x1, 0x0);
        gbc.writeMem(0x961d, { 0xe8, 0x1d });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xf4dc, gbc.sp());
        EXPECT(0x961f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x961d));
        EXPECT(0x1d, gbc.readMem(0x961e));
        // E8 026C
        gbc.setState(0x21be, 0x8823, 0xce0, 0x10cf, 0xfbf6, 0x3e65, 0x0, 0x1);
        gbc.writeMem(0x21be, { 0xe8, 0xfc });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x881f, gbc.sp());
        EXPECT(0x21c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 026D
        gbc.setState(0x16c2, 0xeceb, 0x1180, 0xf7e, 0xf722, 0x2e13, 0x1, 0x0);
        gbc.writeMem(0x16c2, { 0xe8, 0xd9 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xecc4, gbc.sp());
        EXPECT(0x16c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 026E
        gbc.setState(0xc870, 0x6a77, 0x260, 0x31b5, 0x7b1a, 0x883e, 0x0, 0x1);
        gbc.writeMem(0xc870, { 0xe8, 0xd4 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x6a4b, gbc.sp());
        EXPECT(0xc872, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc870));
        EXPECT(0xd4, gbc.readMem(0xc871));
        // E8 026F
        gbc.setState(0xe6df, 0xc1d5, 0x93b0, 0xcca9, 0x3c0, 0xe6de, 0x0, 0x0);
        gbc.writeMem(0xe6df, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xc1e2, gbc.sp());
        EXPECT(0xe6e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe6df));
        EXPECT(0xd, gbc.readMem(0xe6e0));
        // E8 0270
        gbc.setState(0x59f8, 0x62e, 0x1e90, 0xe708, 0x5d40, 0xc189, 0x0, 0x1);
        gbc.writeMem(0x59f8, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x688, gbc.sp());
        EXPECT(0x59fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0271
        gbc.setState(0x1442, 0x8700, 0x6590, 0xa61e, 0x8c2e, 0x8e95, 0x1, 0x1);
        gbc.writeMem(0x1442, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x868e, gbc.sp());
        EXPECT(0x1444, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0272
        gbc.setState(0x6bfb, 0x8e74, 0x2170, 0x274b, 0x43f7, 0x7f5d, 0x0, 0x0);
        gbc.writeMem(0x6bfb, { 0xe8, 0xb8 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x8e2c, gbc.sp());
        EXPECT(0x6bfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0273
        gbc.setState(0x6828, 0x4d84, 0xafa0, 0x98dc, 0x9e08, 0x838a, 0x1, 0x0);
        gbc.writeMem(0x6828, { 0xe8, 0xde });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x4d62, gbc.sp());
        EXPECT(0x682a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0274
        gbc.setState(0x9ec8, 0x7cfd, 0x6b80, 0x30af, 0xfafd, 0xe40d, 0x1, 0x0);
        gbc.writeMem(0x9ec8, { 0xe8, 0xc5 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x7cc2, gbc.sp());
        EXPECT(0x9eca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9ec8));
        EXPECT(0xc5, gbc.readMem(0x9ec9));
        // E8 0276
        gbc.setState(0xe7af, 0x72ed, 0x7490, 0xc615, 0x93b4, 0x7ac7, 0x1, 0x0);
        gbc.writeMem(0xe7af, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x72da, gbc.sp());
        EXPECT(0xe7b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe7af));
        EXPECT(0xed, gbc.readMem(0xe7b0));
        // E8 0277
        gbc.setState(0xe163, 0xdd49, 0xd2e0, 0x8a7e, 0x90fb, 0xc808, 0x1, 0x1);
        gbc.writeMem(0xe163, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xdd36, gbc.sp());
        EXPECT(0xe165, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe163));
        EXPECT(0xed, gbc.readMem(0xe164));
        // E8 0278
        gbc.setState(0x47ad, 0xd077, 0x98c0, 0x5685, 0x5a42, 0xc673, 0x1, 0x0);
        gbc.writeMem(0x47ad, { 0xe8, 0x28 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd09f, gbc.sp());
        EXPECT(0x47af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0279
        gbc.setState(0xdd4d, 0x6c47, 0xd5b0, 0x791f, 0xb9b6, 0x24f7, 0x0, 0x0);
        gbc.writeMem(0xdd4d, { 0xe8, 0xa });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x6c51, gbc.sp());
        EXPECT(0xdd4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdd4d));
        EXPECT(0xa, gbc.readMem(0xdd4e));
        // E8 027A
        gbc.setState(0xb824, 0xebd6, 0x2f30, 0x835d, 0xee92, 0xef4f, 0x1, 0x1);
        gbc.writeMem(0xb824, { 0xe8, 0x7f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xec55, gbc.sp());
        EXPECT(0xb826, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb824));
        EXPECT(0x7f, gbc.readMem(0xb825));
        // E8 027B
        gbc.setState(0xbcba, 0xa6c1, 0x6a60, 0xaa8c, 0xad0a, 0x7d1f, 0x0, 0x1);
        gbc.writeMem(0xbcba, { 0xe8, 0xa5 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xa666, gbc.sp());
        EXPECT(0xbcbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbcba));
        EXPECT(0xa5, gbc.readMem(0xbcbb));
        // E8 027C
        gbc.setState(0xb1be, 0x220a, 0xe640, 0x826c, 0x3c33, 0x4f6d, 0x1, 0x1);
        gbc.writeMem(0xb1be, { 0xe8, 0x32 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x223c, gbc.sp());
        EXPECT(0xb1c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb1be));
        EXPECT(0x32, gbc.readMem(0xb1bf));
        // E8 027D
        gbc.setState(0x8497, 0x21bb, 0x6f90, 0x300, 0x6c9e, 0x4296, 0x0, 0x0);
        gbc.writeMem(0x8497, { 0xe8, 0x2f });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x21ea, gbc.sp());
        EXPECT(0x8499, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8497));
        EXPECT(0x2f, gbc.readMem(0x8498));
        // E8 027E
        gbc.setState(0x578f, 0x5d32, 0x97e0, 0x232f, 0x8347, 0x96d4, 0x0, 0x0);
        gbc.writeMem(0x578f, { 0xe8, 0xa });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x5d3c, gbc.sp());
        EXPECT(0x5791, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 027F
        gbc.setState(0x6a6e, 0xe28, 0x5140, 0xfcc1, 0x527e, 0x75f6, 0x0, 0x0);
        gbc.writeMem(0x6a6e, { 0xe8, 0x99 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xdc1, gbc.sp());
        EXPECT(0x6a70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0280
        gbc.setState(0x57ac, 0x5d6b, 0x15b0, 0xc708, 0x2245, 0x1515, 0x1, 0x1);
        gbc.writeMem(0x57ac, { 0xe8, 0x53 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x5dbe, gbc.sp());
        EXPECT(0x57ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0281
        gbc.setState(0xbf8d, 0x8a82, 0xb7f0, 0x43f4, 0x316a, 0xfd61, 0x0, 0x0);
        gbc.writeMem(0xbf8d, { 0xe8, 0xc9 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x8a4b, gbc.sp());
        EXPECT(0xbf8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbf8d));
        EXPECT(0xc9, gbc.readMem(0xbf8e));
        // E8 0282
        gbc.setState(0x7c7b, 0x4db2, 0x9db0, 0xc703, 0x3ea4, 0xd31f, 0x1, 0x0);
        gbc.writeMem(0x7c7b, { 0xe8, 0x31 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x4de3, gbc.sp());
        EXPECT(0x7c7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0283
        gbc.setState(0xbc54, 0xe4c3, 0x7b00, 0xd81c, 0x2d5, 0x8116, 0x1, 0x1);
        gbc.writeMem(0xbc54, { 0xe8, 0xec });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xe4af, gbc.sp());
        EXPECT(0xbc56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbc54));
        EXPECT(0xec, gbc.readMem(0xbc55));
        // E8 0284
        gbc.setState(0x5d4, 0x83b0, 0xb130, 0xb423, 0xb966, 0xcc4, 0x0, 0x1);
        gbc.writeMem(0x5d4, { 0xe8, 0x4f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x83ff, gbc.sp());
        EXPECT(0x5d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0286
        gbc.setState(0x764f, 0xedb0, 0x9c0, 0xd8c6, 0xa3db, 0x774a, 0x1, 0x1);
        gbc.writeMem(0x764f, { 0xe8, 0x84 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xed34, gbc.sp());
        EXPECT(0x7651, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0287
        gbc.setState(0x81ee, 0xe668, 0xe380, 0xbf1, 0xdb8f, 0xa320, 0x1, 0x0);
        gbc.writeMem(0x81ee, { 0xe8, 0x3f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xe6a7, gbc.sp());
        EXPECT(0x81f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x81ee));
        EXPECT(0x3f, gbc.readMem(0x81ef));
        // E8 0288
        gbc.setState(0x9489, 0x808d, 0x50f0, 0x6fc8, 0x1e0b, 0x47f8, 0x1, 0x1);
        gbc.writeMem(0x9489, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x80a9, gbc.sp());
        EXPECT(0x948b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9489));
        EXPECT(0x1c, gbc.readMem(0x948a));
        // E8 0289
        gbc.setState(0x8cdc, 0xab52, 0xd6a0, 0xdd3b, 0xc3b6, 0xf37e, 0x1, 0x1);
        gbc.writeMem(0x8cdc, { 0xe8, 0xe3 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xab35, gbc.sp());
        EXPECT(0x8cde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8cdc));
        EXPECT(0xe3, gbc.readMem(0x8cdd));
        // E8 028A
        gbc.setState(0xdc20, 0x786d, 0x25c0, 0xebb6, 0xd9ff, 0xd36, 0x0, 0x1);
        gbc.writeMem(0xdc20, { 0xe8, 0x62 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x78cf, gbc.sp());
        EXPECT(0xdc22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdc20));
        EXPECT(0x62, gbc.readMem(0xdc21));
        // E8 028B
        gbc.setState(0xd4ef, 0x5585, 0x5e20, 0xc150, 0x6542, 0x2818, 0x1, 0x1);
        gbc.writeMem(0xd4ef, { 0xe8, 0x78 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x55fd, gbc.sp());
        EXPECT(0xd4f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd4ef));
        EXPECT(0x78, gbc.readMem(0xd4f0));
        // E8 028C
        gbc.setState(0xd61, 0x9ee9, 0x1290, 0xbd70, 0x89d2, 0x6fc3, 0x0, 0x0);
        gbc.writeMem(0xd61, { 0xe8, 0xff });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x9ee8, gbc.sp());
        EXPECT(0xd63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 028D
        gbc.setState(0x2591, 0xdaa1, 0xf690, 0x6287, 0x2849, 0xc97, 0x0, 0x1);
        gbc.writeMem(0x2591, { 0xe8, 0x6d });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xdb0e, gbc.sp());
        EXPECT(0x2593, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 028E
        gbc.setState(0xde49, 0xe2bd, 0x7610, 0x3a0a, 0x1f82, 0x5927, 0x1, 0x1);
        gbc.writeMem(0xde49, { 0xe8, 0xc8 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xe285, gbc.sp());
        EXPECT(0xde4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xde49));
        EXPECT(0xc8, gbc.readMem(0xde4a));
        // E8 028F
        gbc.setState(0xde7c, 0xc9e7, 0xcaa0, 0x5df6, 0x1cb8, 0xd6a8, 0x0, 0x1);
        gbc.writeMem(0xde7c, { 0xe8, 0xb3 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xc99a, gbc.sp());
        EXPECT(0xde7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xde7c));
        EXPECT(0xb3, gbc.readMem(0xde7d));
        // E8 0290
        gbc.setState(0xd739, 0xb9c0, 0xebd0, 0x582b, 0x26c7, 0xb3ce, 0x1, 0x0);
        gbc.writeMem(0xd739, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xba1a, gbc.sp());
        EXPECT(0xd73b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd739));
        EXPECT(0x5a, gbc.readMem(0xd73a));
        // E8 0291
        gbc.setState(0x6514, 0x85d8, 0x4750, 0x61d9, 0x9421, 0xd225, 0x0, 0x0);
        gbc.writeMem(0x6514, { 0xe8, 0xb9 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x8591, gbc.sp());
        EXPECT(0x6516, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0292
        gbc.setState(0xc277, 0xade5, 0xabc0, 0x7f2, 0x2a68, 0xb636, 0x1, 0x1);
        gbc.writeMem(0xc277, { 0xe8, 0xdb });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xadc0, gbc.sp());
        EXPECT(0xc279, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc277));
        EXPECT(0xdb, gbc.readMem(0xc278));
        // E8 0293
        gbc.setState(0x54e5, 0xa960, 0x9220, 0xfb70, 0xb4d, 0x7645, 0x1, 0x0);
        gbc.writeMem(0x54e5, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xa967, gbc.sp());
        EXPECT(0x54e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0294
        gbc.setState(0xc370, 0x58c4, 0x5cc0, 0x8a02, 0xef40, 0x4948, 0x1, 0x0);
        gbc.writeMem(0xc370, { 0xe8, 0xe3 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x58a7, gbc.sp());
        EXPECT(0xc372, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc370));
        EXPECT(0xe3, gbc.readMem(0xc371));
        // E8 0295
        gbc.setState(0x9c70, 0xdf7c, 0xf4c0, 0x375f, 0x8026, 0x564b, 0x1, 0x1);
        gbc.writeMem(0x9c70, { 0xe8, 0x4c });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xdfc8, gbc.sp());
        EXPECT(0x9c72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9c70));
        EXPECT(0x4c, gbc.readMem(0x9c71));
        // E8 0296
        gbc.setState(0x667b, 0xf12, 0x8950, 0xd7d6, 0x2e63, 0x8ba5, 0x1, 0x0);
        gbc.writeMem(0x667b, { 0xe8, 0x23 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xf35, gbc.sp());
        EXPECT(0x667d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0297
        gbc.setState(0x2cd, 0x6f53, 0xab60, 0x469b, 0x13e9, 0xce9f, 0x1, 0x0);
        gbc.writeMem(0x2cd, { 0xe8, 0xee });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x6f41, gbc.sp());
        EXPECT(0x2cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0298
        gbc.setState(0x7c02, 0x216a, 0xf660, 0x255e, 0x3404, 0x9708, 0x0, 0x1);
        gbc.writeMem(0x7c02, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x218f, gbc.sp());
        EXPECT(0x7c04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0299
        gbc.setState(0x66c2, 0x2c66, 0x93f0, 0xb9d3, 0xeac, 0x5a76, 0x1, 0x1);
        gbc.writeMem(0x66c2, { 0xe8, 0x2a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x2c90, gbc.sp());
        EXPECT(0x66c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 029A
        gbc.setState(0x8a61, 0x5e4a, 0x1c30, 0x7c4e, 0xf12f, 0xf07a, 0x1, 0x0);
        gbc.writeMem(0x8a61, { 0xe8, 0x7a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x5ec4, gbc.sp());
        EXPECT(0x8a63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8a61));
        EXPECT(0x7a, gbc.readMem(0x8a62));
        // E8 029B
        gbc.setState(0xa223, 0x7c91, 0xb5c0, 0xc982, 0xffa2, 0x8c64, 0x0, 0x1);
        gbc.writeMem(0xa223, { 0xe8, 0xf1 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x7c82, gbc.sp());
        EXPECT(0xa225, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa223));
        EXPECT(0xf1, gbc.readMem(0xa224));
        // E8 029C
        gbc.setState(0xa623, 0x6d, 0x3670, 0x23d5, 0xf0a2, 0x6fa3, 0x1, 0x1);
        gbc.writeMem(0xa623, { 0xe8, 0xe9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x56, gbc.sp());
        EXPECT(0xa625, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa623));
        EXPECT(0xe9, gbc.readMem(0xa624));
        // E8 029D
        gbc.setState(0xaea6, 0xbbad, 0xdff0, 0xcdc8, 0xcf7a, 0x5909, 0x1, 0x0);
        gbc.writeMem(0xaea6, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xbbfa, gbc.sp());
        EXPECT(0xaea8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaea6));
        EXPECT(0x4d, gbc.readMem(0xaea7));
        // E8 029E
        gbc.setState(0x72c7, 0x848b, 0xcac0, 0x21db, 0xc6bf, 0xb037, 0x1, 0x1);
        gbc.writeMem(0x72c7, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x841a, gbc.sp());
        EXPECT(0x72c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 029F
        gbc.setState(0x23e2, 0xbea7, 0xd040, 0x66e6, 0x6fd7, 0x8d9, 0x1, 0x1);
        gbc.writeMem(0x23e2, { 0xe8, 0xa7 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xbe4e, gbc.sp());
        EXPECT(0x23e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02A0
        gbc.setState(0xd280, 0xd7f0, 0x3030, 0x6c1f, 0x7d93, 0xd854, 0x0, 0x0);
        gbc.writeMem(0xd280, { 0xe8, 0xe2 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xd7d2, gbc.sp());
        EXPECT(0xd282, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd280));
        EXPECT(0xe2, gbc.readMem(0xd281));
        // E8 02A1
        gbc.setState(0x8e8, 0xd0e5, 0xdf80, 0xd728, 0xe190, 0x5e04, 0x1, 0x0);
        gbc.writeMem(0x8e8, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xd086, gbc.sp());
        EXPECT(0x8ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02A2
        gbc.setState(0x1f16, 0x53e6, 0x3db0, 0xae6a, 0xc677, 0xc733, 0x0, 0x0);
        gbc.writeMem(0x1f16, { 0xe8, 0x71 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5457, gbc.sp());
        EXPECT(0x1f18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02A3
        gbc.setState(0x2a4a, 0x5710, 0xd790, 0xf90a, 0xea24, 0x7910, 0x1, 0x0);
        gbc.writeMem(0x2a4a, { 0xe8, 0xca });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x56da, gbc.sp());
        EXPECT(0x2a4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02A4
        gbc.setState(0x2265, 0xd201, 0x7160, 0x3caf, 0x9277, 0xca5b, 0x0, 0x0);
        gbc.writeMem(0x2265, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xd1ab, gbc.sp());
        EXPECT(0x2267, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02A5
        gbc.setState(0x5e54, 0x3cc1, 0x1920, 0x33de, 0xc34a, 0x235d, 0x1, 0x1);
        gbc.writeMem(0x5e54, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x3c4f, gbc.sp());
        EXPECT(0x5e56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02A6
        gbc.setState(0x3eb9, 0x4e68, 0x82f0, 0x62f5, 0x9efd, 0x8847, 0x1, 0x0);
        gbc.writeMem(0x3eb9, { 0xe8, 0xb2 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x4e1a, gbc.sp());
        EXPECT(0x3ebb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02A7
        gbc.setState(0x4974, 0x9808, 0xa810, 0xb0d1, 0xf76b, 0x835d, 0x0, 0x1);
        gbc.writeMem(0x4974, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x9824, gbc.sp());
        EXPECT(0x4976, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02A8
        gbc.setState(0x1d26, 0xa89d, 0xa30, 0xd72a, 0xf105, 0x74af, 0x1, 0x1);
        gbc.writeMem(0x1d26, { 0xe8, 0x44 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xa8e1, gbc.sp());
        EXPECT(0x1d28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02A9
        gbc.setState(0x5abd, 0xc744, 0x4430, 0xfd4f, 0x7f56, 0x6da, 0x1, 0x0);
        gbc.writeMem(0x5abd, { 0xe8, 0xfc });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xc740, gbc.sp());
        EXPECT(0x5abf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02AA
        gbc.setState(0xe2cf, 0x8e43, 0x8b20, 0x5da0, 0x499c, 0xeac5, 0x0, 0x0);
        gbc.writeMem(0xe2cf, { 0xe8, 0x59 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x8e9c, gbc.sp());
        EXPECT(0xe2d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe2cf));
        EXPECT(0x59, gbc.readMem(0xe2d0));
        // E8 02AB
        gbc.setState(0x7a62, 0xc95a, 0x97c0, 0x4cad, 0x80d9, 0x246b, 0x0, 0x1);
        gbc.writeMem(0x7a62, { 0xe8, 0x68 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xc9c2, gbc.sp());
        EXPECT(0x7a64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02AC
        gbc.setState(0x7882, 0xc113, 0xfb30, 0x94f9, 0x8c3e, 0xfca1, 0x1, 0x1);
        gbc.writeMem(0x7882, { 0xe8, 0x57 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xc16a, gbc.sp());
        EXPECT(0x7884, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02AD
        gbc.setState(0xb21e, 0xcd78, 0x9100, 0xf219, 0x516e, 0xa9c7, 0x0, 0x1);
        gbc.writeMem(0xb21e, { 0xe8, 0x7d });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xcdf5, gbc.sp());
        EXPECT(0xb220, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb21e));
        EXPECT(0x7d, gbc.readMem(0xb21f));
        // E8 02AE
        gbc.setState(0xb5e, 0xff02, 0x4100, 0x29b4, 0xb059, 0x9a8c, 0x1, 0x0);
        gbc.writeMem(0xb5e, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xfefc, gbc.sp());
        EXPECT(0xb60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02AF
        gbc.setState(0x160b, 0x2a74, 0x44f0, 0x1d2f, 0x5b58, 0xb90b, 0x0, 0x1);
        gbc.writeMem(0x160b, { 0xe8, 0x5c });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x2ad0, gbc.sp());
        EXPECT(0x160d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02B0
        gbc.setState(0x4758, 0xe7c3, 0xc4a0, 0x7394, 0x85bf, 0xcd50, 0x0, 0x1);
        gbc.writeMem(0x4758, { 0xe8, 0x9c });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xe75f, gbc.sp());
        EXPECT(0x475a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02B1
        gbc.setState(0x1967, 0xf4d0, 0xd1d0, 0x8298, 0x6146, 0x5e34, 0x0, 0x1);
        gbc.writeMem(0x1967, { 0xe8, 0xec });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xf4bc, gbc.sp());
        EXPECT(0x1969, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02B2
        gbc.setState(0x3690, 0x9206, 0xec50, 0x4903, 0xbfd5, 0x5b84, 0x0, 0x0);
        gbc.writeMem(0x3690, { 0xe8, 0xfd });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x9203, gbc.sp());
        EXPECT(0x3692, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02B3
        gbc.setState(0x9bc6, 0xc869, 0xadc0, 0xa9de, 0x415f, 0xbd53, 0x1, 0x1);
        gbc.writeMem(0x9bc6, { 0xe8, 0xe });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xc877, gbc.sp());
        EXPECT(0x9bc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9bc6));
        EXPECT(0xe, gbc.readMem(0x9bc7));
        // E8 02B4
        gbc.setState(0x4367, 0xe9f7, 0x9d80, 0x60fd, 0x40c9, 0x8710, 0x1, 0x1);
        gbc.writeMem(0x4367, { 0xe8, 0x39 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xea30, gbc.sp());
        EXPECT(0x4369, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02B5
        gbc.setState(0xbd86, 0xb12c, 0xb910, 0x4df3, 0xd8c7, 0x98cc, 0x1, 0x0);
        gbc.writeMem(0xbd86, { 0xe8, 0x98 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xb0c4, gbc.sp());
        EXPECT(0xbd88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbd86));
        EXPECT(0x98, gbc.readMem(0xbd87));
        // E8 02B6
        gbc.setState(0x526c, 0x391a, 0xf150, 0xc5ce, 0x75fa, 0xfd14, 0x0, 0x0);
        gbc.writeMem(0x526c, { 0xe8, 0x2f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x3949, gbc.sp());
        EXPECT(0x526e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02B7
        gbc.setState(0xed5, 0x4c79, 0x7ee0, 0x3b01, 0xac65, 0xc046, 0x0, 0x0);
        gbc.writeMem(0xed5, { 0xe8, 0xd6 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x4c4f, gbc.sp());
        EXPECT(0xed7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02B8
        gbc.setState(0x857f, 0xf4b5, 0x8360, 0xecbe, 0xd3fc, 0x4983, 0x1, 0x0);
        gbc.writeMem(0x857f, { 0xe8, 0x6f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xf524, gbc.sp());
        EXPECT(0x8581, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x857f));
        EXPECT(0x6f, gbc.readMem(0x8580));
        // E8 02BA
        gbc.setState(0x97a0, 0xdf47, 0xe00, 0x5be4, 0xe7c3, 0x65be, 0x0, 0x1);
        gbc.writeMem(0x97a0, { 0xe8, 0x0 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xdf47, gbc.sp());
        EXPECT(0x97a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x97a0));
        EXPECT(0x0, gbc.readMem(0x97a1));
        // E8 02BB
        gbc.setState(0xa0d9, 0x6d0b, 0xec50, 0xa61e, 0xbd43, 0x2d04, 0x0, 0x0);
        gbc.writeMem(0xa0d9, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6cb5, gbc.sp());
        EXPECT(0xa0db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa0d9));
        EXPECT(0xaa, gbc.readMem(0xa0da));
        // E8 02BC
        gbc.setState(0xbefb, 0xa52c, 0x2860, 0xef20, 0xe761, 0x4fbf, 0x1, 0x1);
        gbc.writeMem(0xbefb, { 0xe8, 0x8 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xa534, gbc.sp());
        EXPECT(0xbefd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbefb));
        EXPECT(0x8, gbc.readMem(0xbefc));
        // E8 02BD
        gbc.setState(0x4105, 0x698d, 0xc390, 0xa90b, 0xb93b, 0xff, 0x1, 0x0);
        gbc.writeMem(0x4105, { 0xe8, 0x66 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x69f3, gbc.sp());
        EXPECT(0x4107, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02BE
        gbc.setState(0x2aad, 0x66d9, 0x64e0, 0xa89d, 0x4b00, 0xe654, 0x0, 0x1);
        gbc.writeMem(0x2aad, { 0xe8, 0x75 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x674e, gbc.sp());
        EXPECT(0x2aaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02BF
        gbc.setState(0xcdd6, 0xfa7b, 0xc590, 0x20a1, 0xb1f6, 0xcdc8, 0x1, 0x0);
        gbc.writeMem(0xcdd6, { 0xe8, 0x80 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xf9fb, gbc.sp());
        EXPECT(0xcdd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcdd6));
        EXPECT(0x80, gbc.readMem(0xcdd7));
        // E8 02C0
        gbc.setState(0x6079, 0x182b, 0xa8b0, 0x1dd8, 0x127c, 0xbdf6, 0x0, 0x1);
        gbc.writeMem(0x6079, { 0xe8, 0xbe });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x17e9, gbc.sp());
        EXPECT(0x607b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02C1
        gbc.setState(0x6f9e, 0xd9bd, 0xbb00, 0xe17e, 0x3f43, 0x1e36, 0x1, 0x0);
        gbc.writeMem(0x6f9e, { 0xe8, 0xac });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xd969, gbc.sp());
        EXPECT(0x6fa0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02C2
        gbc.setState(0x9485, 0xd92, 0xd9a0, 0x7db7, 0x4d67, 0x7d8e, 0x0, 0x0);
        gbc.writeMem(0x9485, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xd9f, gbc.sp());
        EXPECT(0x9487, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9485));
        EXPECT(0xd, gbc.readMem(0x9486));
        // E8 02C3
        gbc.setState(0x7a24, 0xd087, 0x1d0, 0x46bc, 0x23d6, 0x5121, 0x1, 0x0);
        gbc.writeMem(0x7a24, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xd0e1, gbc.sp());
        EXPECT(0x7a26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02C4
        gbc.setState(0xc417, 0x8fe, 0xa460, 0x2bbb, 0xdcf0, 0xb2af, 0x1, 0x0);
        gbc.writeMem(0xc417, { 0xe8, 0xc3 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x8c1, gbc.sp());
        EXPECT(0xc419, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc417));
        EXPECT(0xc3, gbc.readMem(0xc418));
        // E8 02C5
        gbc.setState(0x4308, 0xd67e, 0x68e0, 0xc114, 0x8b8e, 0x8c40, 0x1, 0x0);
        gbc.writeMem(0x4308, { 0xe8, 0xcc });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xd64a, gbc.sp());
        EXPECT(0x430a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02C6
        gbc.setState(0x2b8e, 0xe229, 0xb9d0, 0xdc4, 0xfa14, 0xa20a, 0x1, 0x1);
        gbc.writeMem(0x2b8e, { 0xe8, 0x18 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xe241, gbc.sp());
        EXPECT(0x2b90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02C8
        gbc.setState(0x5c71, 0x1340, 0x2e30, 0xe78b, 0x285f, 0x6de4, 0x1, 0x0);
        gbc.writeMem(0x5c71, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x133a, gbc.sp());
        EXPECT(0x5c73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02CA
        gbc.setState(0x4b2e, 0x7730, 0x8b70, 0x5b31, 0xed1a, 0x3784, 0x1, 0x0);
        gbc.writeMem(0x4b2e, { 0xe8, 0xd6 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x7706, gbc.sp());
        EXPECT(0x4b30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02CB
        gbc.setState(0xd729, 0x118b, 0x4810, 0x245e, 0x2213, 0x68fd, 0x1, 0x1);
        gbc.writeMem(0xd729, { 0xe8, 0xcf });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x115a, gbc.sp());
        EXPECT(0xd72b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd729));
        EXPECT(0xcf, gbc.readMem(0xd72a));
        // E8 02CC
        gbc.setState(0xe9e7, 0xdd63, 0x1c30, 0x66f0, 0xad51, 0x4629, 0x1, 0x0);
        gbc.writeMem(0xe9e7, { 0xe8, 0x76 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xddd9, gbc.sp());
        EXPECT(0xe9e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe9e7));
        EXPECT(0x76, gbc.readMem(0xe9e8));
        // E8 02CD
        gbc.setState(0x3520, 0x61bb, 0xcbb0, 0xdd3d, 0xc491, 0x5098, 0x1, 0x1);
        gbc.writeMem(0x3520, { 0xe8, 0xb4 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x616f, gbc.sp());
        EXPECT(0x3522, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02CE
        gbc.setState(0x390e, 0x182f, 0x4c50, 0xa5b, 0x8596, 0x3207, 0x1, 0x1);
        gbc.writeMem(0x390e, { 0xe8, 0x2f });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x185e, gbc.sp());
        EXPECT(0x3910, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02CF
        gbc.setState(0x7a0c, 0xf375, 0x74e0, 0x66e6, 0x342a, 0xea9, 0x1, 0x0);
        gbc.writeMem(0x7a0c, { 0xe8, 0xca });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf33f, gbc.sp());
        EXPECT(0x7a0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02D0
        gbc.setState(0xe5b2, 0x4e17, 0x9430, 0x6124, 0xc206, 0x7a3, 0x1, 0x0);
        gbc.writeMem(0xe5b2, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x4dac, gbc.sp());
        EXPECT(0xe5b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe5b2));
        EXPECT(0x95, gbc.readMem(0xe5b3));
        // E8 02D1
        gbc.setState(0x4e10, 0xaadd, 0xdf60, 0x4195, 0xd31a, 0x454e, 0x1, 0x1);
        gbc.writeMem(0x4e10, { 0xe8, 0xe1 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xaabe, gbc.sp());
        EXPECT(0x4e12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02D2
        gbc.setState(0x600a, 0x79aa, 0xb0d0, 0x770a, 0x5bf9, 0x5608, 0x0, 0x0);
        gbc.writeMem(0x600a, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x7930, gbc.sp());
        EXPECT(0x600c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02D4
        gbc.setState(0xd90a, 0x4d11, 0xf3a0, 0x7a7a, 0x736f, 0xf544, 0x0, 0x0);
        gbc.writeMem(0xd90a, { 0xe8, 0xe6 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x4cf7, gbc.sp());
        EXPECT(0xd90c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd90a));
        EXPECT(0xe6, gbc.readMem(0xd90b));
        // E8 02D5
        gbc.setState(0xbc4e, 0x3efe, 0x7d50, 0x75f3, 0x3b1f, 0xf579, 0x1, 0x0);
        gbc.writeMem(0xbc4e, { 0xe8, 0x38 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x3f36, gbc.sp());
        EXPECT(0xbc50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbc4e));
        EXPECT(0x38, gbc.readMem(0xbc4f));
        // E8 02D6
        gbc.setState(0xab3d, 0x504, 0x6f40, 0x3cb, 0x3167, 0x2f94, 0x1, 0x0);
        gbc.writeMem(0xab3d, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x50b, gbc.sp());
        EXPECT(0xab3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xab3d));
        EXPECT(0x7, gbc.readMem(0xab3e));
        // E8 02D7
        gbc.setState(0x7cc1, 0xddc6, 0xd370, 0xacc1, 0xb79a, 0xb213, 0x0, 0x0);
        gbc.writeMem(0x7cc1, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xdd70, gbc.sp());
        EXPECT(0x7cc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02D8
        gbc.setState(0x7a1b, 0x25f6, 0x17b0, 0x86d2, 0x7a4d, 0x947a, 0x1, 0x1);
        gbc.writeMem(0x7a1b, { 0xe8, 0x10 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x2606, gbc.sp());
        EXPECT(0x7a1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02D9
        gbc.setState(0x2870, 0xb086, 0x2980, 0x3681, 0x242a, 0x4cb1, 0x1, 0x1);
        gbc.writeMem(0x2870, { 0xe8, 0xdb });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xb061, gbc.sp());
        EXPECT(0x2872, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02DA
        gbc.setState(0x5e0b, 0xe156, 0xdd90, 0x6568, 0x30d8, 0x3e12, 0x1, 0x1);
        gbc.writeMem(0x5e0b, { 0xe8, 0xf7 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xe14d, gbc.sp());
        EXPECT(0x5e0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02DB
        gbc.setState(0xa225, 0x3e02, 0x5dc0, 0xba92, 0x5148, 0xfe27, 0x0, 0x0);
        gbc.writeMem(0xa225, { 0xe8, 0xb8 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3dba, gbc.sp());
        EXPECT(0xa227, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa225));
        EXPECT(0xb8, gbc.readMem(0xa226));
        // E8 02DD
        gbc.setState(0xaa10, 0xf842, 0x7210, 0x3674, 0x4014, 0xee97, 0x0, 0x1);
        gbc.writeMem(0xaa10, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xf808, gbc.sp());
        EXPECT(0xaa12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaa10));
        EXPECT(0xc6, gbc.readMem(0xaa11));
        // E8 02DE
        gbc.setState(0x5e8b, 0x402b, 0x3d40, 0x8912, 0x7fea, 0x5dff, 0x0, 0x1);
        gbc.writeMem(0x5e8b, { 0xe8, 0x9f });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x3fca, gbc.sp());
        EXPECT(0x5e8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02DF
        gbc.setState(0xd030, 0x5714, 0x7be0, 0xb1fc, 0xe8c9, 0x636d, 0x1, 0x0);
        gbc.writeMem(0xd030, { 0xe8, 0x8e });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x56a2, gbc.sp());
        EXPECT(0xd032, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd030));
        EXPECT(0x8e, gbc.readMem(0xd031));
        // E8 02E0
        gbc.setState(0xe81e, 0x24bd, 0xed40, 0x80e0, 0xc0e3, 0x8a08, 0x0, 0x0);
        gbc.writeMem(0xe81e, { 0xe8, 0x40 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x24fd, gbc.sp());
        EXPECT(0xe820, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe81e));
        EXPECT(0x40, gbc.readMem(0xe81f));
        // E8 02E1
        gbc.setState(0x13bd, 0xf1f1, 0x260, 0x61b, 0x3ef8, 0xbac2, 0x0, 0x0);
        gbc.writeMem(0x13bd, { 0xe8, 0xb2 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xf1a3, gbc.sp());
        EXPECT(0x13bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02E2
        gbc.setState(0x1c73, 0xfc49, 0x2fc0, 0x885a, 0x6f31, 0x31ad, 0x0, 0x1);
        gbc.writeMem(0x1c73, { 0xe8, 0xd1 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xfc1a, gbc.sp());
        EXPECT(0x1c75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02E4
        gbc.setState(0x83c3, 0x73f4, 0xf530, 0x1a06, 0x8b1f, 0x377d, 0x0, 0x1);
        gbc.writeMem(0x83c3, { 0xe8, 0x52 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x7446, gbc.sp());
        EXPECT(0x83c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x83c3));
        EXPECT(0x52, gbc.readMem(0x83c4));
        // E8 02E5
        gbc.setState(0xc686, 0xc93c, 0x61c0, 0xd11f, 0xd604, 0x52b0, 0x1, 0x1);
        gbc.writeMem(0xc686, { 0xe8, 0x37 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xc973, gbc.sp());
        EXPECT(0xc688, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc686));
        EXPECT(0x37, gbc.readMem(0xc687));
        // E8 02E6
        gbc.setState(0xe29f, 0x5aa6, 0x79c0, 0x6755, 0x1b1b, 0x460b, 0x0, 0x0);
        gbc.writeMem(0xe29f, { 0xe8, 0x57 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x5afd, gbc.sp());
        EXPECT(0xe2a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe29f));
        EXPECT(0x57, gbc.readMem(0xe2a0));
        // E8 02E7
        gbc.setState(0x3209, 0xf05b, 0xd020, 0xc5e7, 0x589f, 0xb561, 0x1, 0x1);
        gbc.writeMem(0x3209, { 0xe8, 0x5e });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xf0b9, gbc.sp());
        EXPECT(0x320b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02E8
        gbc.setState(0xe18, 0xa807, 0x3660, 0x9338, 0x9bcd, 0xc10b, 0x0, 0x1);
        gbc.writeMem(0xe18, { 0xe8, 0xb8 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xa7bf, gbc.sp());
        EXPECT(0xe1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02E9
        gbc.setState(0x42a0, 0xd3f, 0x1840, 0x6d72, 0xd74b, 0x3f76, 0x0, 0x0);
        gbc.writeMem(0x42a0, { 0xe8, 0x22 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xd61, gbc.sp());
        EXPECT(0x42a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02EA
        gbc.setState(0xe8d, 0x3471, 0xbd20, 0x64c, 0xcc50, 0xac7f, 0x1, 0x1);
        gbc.writeMem(0xe8d, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x3404, gbc.sp());
        EXPECT(0xe8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02EB
        gbc.setState(0x39b0, 0x18d5, 0x7be0, 0x1d86, 0x40cb, 0xe04, 0x0, 0x1);
        gbc.writeMem(0x39b0, { 0xe8, 0x6a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x193f, gbc.sp());
        EXPECT(0x39b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02EC
        gbc.setState(0x5036, 0x278b, 0x7b30, 0xdfe2, 0x903a, 0x6bb4, 0x0, 0x0);
        gbc.writeMem(0x5036, { 0xe8, 0xa4 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x272f, gbc.sp());
        EXPECT(0x5038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02ED
        gbc.setState(0xdae9, 0xf7c7, 0x13f0, 0x78b8, 0x751, 0xa71f, 0x0, 0x1);
        gbc.writeMem(0xdae9, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xf768, gbc.sp());
        EXPECT(0xdaeb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdae9));
        EXPECT(0xa1, gbc.readMem(0xdaea));
        // E8 02EE
        gbc.setState(0x6d76, 0xee15, 0x4e10, 0x67b3, 0xe0a9, 0x4384, 0x0, 0x0);
        gbc.writeMem(0x6d76, { 0xe8, 0xee });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xee03, gbc.sp());
        EXPECT(0x6d78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02EF
        gbc.setState(0x59e0, 0xf06a, 0xe30, 0xb606, 0x80b3, 0x5c6c, 0x1, 0x1);
        gbc.writeMem(0x59e0, { 0xe8, 0x3c });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xf0a6, gbc.sp());
        EXPECT(0x59e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02F0
        gbc.setState(0x8097, 0x89d1, 0xaa60, 0xe64a, 0x50d2, 0x9a24, 0x1, 0x1);
        gbc.writeMem(0x8097, { 0xe8, 0x76 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x8a47, gbc.sp());
        EXPECT(0x8099, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8097));
        EXPECT(0x76, gbc.readMem(0x8098));
        // E8 02F1
        gbc.setState(0x11d3, 0x931f, 0x5150, 0xb2f6, 0xda51, 0xdec0, 0x0, 0x0);
        gbc.writeMem(0x11d3, { 0xe8, 0x35 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x9354, gbc.sp());
        EXPECT(0x11d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02F2
        gbc.setState(0xe133, 0x8c5c, 0xa980, 0x343e, 0xa744, 0x4622, 0x0, 0x1);
        gbc.writeMem(0xe133, { 0xe8, 0x19 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x8c75, gbc.sp());
        EXPECT(0xe135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe133));
        EXPECT(0x19, gbc.readMem(0xe134));
        // E8 02F3
        gbc.setState(0x6a01, 0x3434, 0xf470, 0x1387, 0x5864, 0xb03c, 0x1, 0x1);
        gbc.writeMem(0x6a01, { 0xe8, 0xb });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x343f, gbc.sp());
        EXPECT(0x6a03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02F4
        gbc.setState(0x89ea, 0xaab3, 0x3880, 0xf500, 0x3984, 0xba32, 0x0, 0x1);
        gbc.writeMem(0x89ea, { 0xe8, 0x43 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xaaf6, gbc.sp());
        EXPECT(0x89ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x89ea));
        EXPECT(0x43, gbc.readMem(0x89eb));
        // E8 02F5
        gbc.setState(0xe53e, 0xe44c, 0x6330, 0x4b46, 0x12b, 0x4c3c, 0x0, 0x0);
        gbc.writeMem(0xe53e, { 0xe8, 0xfe });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xe44a, gbc.sp());
        EXPECT(0xe540, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe53e));
        EXPECT(0xfe, gbc.readMem(0xe53f));
        // E8 02F6
        gbc.setState(0x4160, 0xb1ef, 0xa10, 0xbf35, 0x3352, 0xb191, 0x0, 0x1);
        gbc.writeMem(0x4160, { 0xe8, 0x90 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xb17f, gbc.sp());
        EXPECT(0x4162, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02F7
        gbc.setState(0x977, 0x2bb0, 0x3f00, 0xea6, 0x90b5, 0xe4c2, 0x1, 0x0);
        gbc.writeMem(0x977, { 0xe8, 0x75 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x2c25, gbc.sp());
        EXPECT(0x979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02F8
        gbc.setState(0x8084, 0x7cf, 0xd300, 0x473, 0x600d, 0x4b8e, 0x0, 0x0);
        gbc.writeMem(0x8084, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x829, gbc.sp());
        EXPECT(0x8086, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8084));
        EXPECT(0x5a, gbc.readMem(0x8085));
        // E8 02F9
        gbc.setState(0x262d, 0x2012, 0xe100, 0x2e6c, 0x8b31, 0xd2e8, 0x0, 0x0);
        gbc.writeMem(0x262d, { 0xe8, 0xb7 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x1fc9, gbc.sp());
        EXPECT(0x262f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02FA
        gbc.setState(0xe262, 0x5e2a, 0x1ca0, 0xe324, 0x9791, 0x321, 0x0, 0x1);
        gbc.writeMem(0xe262, { 0xe8, 0x87 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x5db1, gbc.sp());
        EXPECT(0xe264, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe262));
        EXPECT(0x87, gbc.readMem(0xe263));
        // E8 02FB
        gbc.setState(0x462c, 0x7bae, 0xe300, 0xfef, 0xc767, 0xef3a, 0x1, 0x0);
        gbc.writeMem(0x462c, { 0xe8, 0x6b });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x7c19, gbc.sp());
        EXPECT(0x462e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 02FC
        gbc.setState(0x5e8, 0x8441, 0xb550, 0xc2df, 0x394, 0x416d, 0x1, 0x1);
        gbc.writeMem(0x5e8, { 0xe8, 0x80 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x83c1, gbc.sp());
        EXPECT(0x5ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02FD
        gbc.setState(0x2853, 0x4181, 0xd230, 0xdab7, 0x89cb, 0xad22, 0x1, 0x0);
        gbc.writeMem(0x2853, { 0xe8, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x41a4, gbc.sp());
        EXPECT(0x2855, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02FE
        gbc.setState(0x1a12, 0x1873, 0xa480, 0xdb7e, 0xb6de, 0x108b, 0x0, 0x0);
        gbc.writeMem(0x1a12, { 0xe8, 0x1 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x1874, gbc.sp());
        EXPECT(0x1a14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 02FF
        gbc.setState(0x4e8a, 0x5ad2, 0x9520, 0x71f8, 0xa25c, 0x9a32, 0x0, 0x0);
        gbc.writeMem(0x4e8a, { 0xe8, 0x6c });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x5b3e, gbc.sp());
        EXPECT(0x4e8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0300
        gbc.setState(0x6e82, 0xd74d, 0x29c0, 0x189e, 0x7c10, 0xb0a8, 0x1, 0x1);
        gbc.writeMem(0x6e82, { 0xe8, 0x92 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xd6df, gbc.sp());
        EXPECT(0x6e84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0301
        gbc.setState(0x8543, 0xa69a, 0x7c00, 0x4c05, 0x62b3, 0xc7ea, 0x0, 0x1);
        gbc.writeMem(0x8543, { 0xe8, 0xf });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xa6a9, gbc.sp());
        EXPECT(0x8545, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8543));
        EXPECT(0xf, gbc.readMem(0x8544));
        // E8 0302
        gbc.setState(0x6396, 0x8330, 0x6730, 0x7ab8, 0x9cd4, 0x4e9c, 0x0, 0x1);
        gbc.writeMem(0x6396, { 0xe8, 0x6b });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x839b, gbc.sp());
        EXPECT(0x6398, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0303
        gbc.setState(0x6554, 0x6f2, 0xedc0, 0x2335, 0xd12c, 0xfe1c, 0x0, 0x1);
        gbc.writeMem(0x6554, { 0xe8, 0x71 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x763, gbc.sp());
        EXPECT(0x6556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0304
        gbc.setState(0xd746, 0x6bbe, 0x4cd0, 0x8262, 0xd4d3, 0xf5bc, 0x1, 0x1);
        gbc.writeMem(0xd746, { 0xe8, 0x42 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x6c00, gbc.sp());
        EXPECT(0xd748, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd746));
        EXPECT(0x42, gbc.readMem(0xd747));
        // E8 0305
        gbc.setState(0x6cae, 0xd84, 0x4bd0, 0x3d74, 0x6f3e, 0xaa23, 0x0, 0x0);
        gbc.writeMem(0x6cae, { 0xe8, 0x9e });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd22, gbc.sp());
        EXPECT(0x6cb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0306
        gbc.setState(0x526, 0xb23a, 0x1690, 0x7568, 0x351f, 0xd6b2, 0x0, 0x0);
        gbc.writeMem(0x526, { 0xe8, 0xcb });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xb205, gbc.sp());
        EXPECT(0x528, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0307
        gbc.setState(0x52f5, 0x6556, 0xdad0, 0xddfe, 0x887f, 0x5912, 0x1, 0x1);
        gbc.writeMem(0x52f5, { 0xe8, 0x11 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x6567, gbc.sp());
        EXPECT(0x52f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0308
        gbc.setState(0xb995, 0xbc8, 0x9b40, 0x5224, 0xb43b, 0x37eb, 0x0, 0x0);
        gbc.writeMem(0xb995, { 0xe8, 0x71 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xc39, gbc.sp());
        EXPECT(0xb997, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb995));
        EXPECT(0x71, gbc.readMem(0xb996));
        // E8 0309
        gbc.setState(0xb6d1, 0x83a7, 0x95f0, 0xa276, 0x32aa, 0xee81, 0x1, 0x1);
        gbc.writeMem(0xb6d1, { 0xe8, 0x36 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x83dd, gbc.sp());
        EXPECT(0xb6d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb6d1));
        EXPECT(0x36, gbc.readMem(0xb6d2));
        // E8 030A
        gbc.setState(0x875a, 0xbdbc, 0xbeb0, 0xe431, 0xb7c3, 0xfa9e, 0x0, 0x1);
        gbc.writeMem(0x875a, { 0xe8, 0x87 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xbd43, gbc.sp());
        EXPECT(0x875c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x875a));
        EXPECT(0x87, gbc.readMem(0x875b));
        // E8 030C
        gbc.setState(0x5a5d, 0xb6b, 0x7b70, 0xb6a0, 0xccf, 0x651b, 0x0, 0x1);
        gbc.writeMem(0x5a5d, { 0xe8, 0x8a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xaf5, gbc.sp());
        EXPECT(0x5a5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 030D
        gbc.setState(0x6446, 0x6481, 0x4400, 0x781c, 0x85bb, 0x9bf0, 0x0, 0x0);
        gbc.writeMem(0x6446, { 0xe8, 0x4 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6485, gbc.sp());
        EXPECT(0x6448, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 030E
        gbc.setState(0xdc39, 0x9c6a, 0xd410, 0x4239, 0x5370, 0xd2b7, 0x1, 0x1);
        gbc.writeMem(0xdc39, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x9ce5, gbc.sp());
        EXPECT(0xdc3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdc39));
        EXPECT(0x7b, gbc.readMem(0xdc3a));
        // E8 030F
        gbc.setState(0x19ca, 0xf869, 0x45c0, 0xfe31, 0x8104, 0xad4f, 0x1, 0x0);
        gbc.writeMem(0x19ca, { 0xe8, 0xbb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xf824, gbc.sp());
        EXPECT(0x19cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0310
        gbc.setState(0x59bc, 0x5f1e, 0x17f0, 0x9e23, 0x34ec, 0x94c9, 0x1, 0x1);
        gbc.writeMem(0x59bc, { 0xe8, 0xeb });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x5f09, gbc.sp());
        EXPECT(0x59be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0311
        gbc.setState(0xb81c, 0xf99c, 0x7d30, 0xfaae, 0xd4cf, 0x7287, 0x0, 0x1);
        gbc.writeMem(0xb81c, { 0xe8, 0x3e });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xf9da, gbc.sp());
        EXPECT(0xb81e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb81c));
        EXPECT(0x3e, gbc.readMem(0xb81d));
        // E8 0312
        gbc.setState(0x670f, 0x2f67, 0xc710, 0x9885, 0xcb37, 0xc242, 0x0, 0x0);
        gbc.writeMem(0x670f, { 0xe8, 0x6e });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x2fd5, gbc.sp());
        EXPECT(0x6711, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0313
        gbc.setState(0xb771, 0x16a0, 0xa450, 0xec77, 0xbd14, 0x9fac, 0x0, 0x1);
        gbc.writeMem(0xb771, { 0xe8, 0x3e });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x16de, gbc.sp());
        EXPECT(0xb773, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb771));
        EXPECT(0x3e, gbc.readMem(0xb772));
        // E8 0314
        gbc.setState(0x9133, 0x90b2, 0x5690, 0x110b, 0xfeeb, 0xe9c1, 0x0, 0x0);
        gbc.writeMem(0x9133, { 0xe8, 0x67 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x9119, gbc.sp());
        EXPECT(0x9135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9133));
        EXPECT(0x67, gbc.readMem(0x9134));
        // E8 0315
        gbc.setState(0x5c8e, 0x1ee5, 0x4750, 0x4591, 0xef59, 0xc3a, 0x0, 0x0);
        gbc.writeMem(0x5c8e, { 0xe8, 0x4e });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x1f33, gbc.sp());
        EXPECT(0x5c90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0316
        gbc.setState(0x1d11, 0x5aab, 0x8d30, 0x455c, 0x5bec, 0xdb94, 0x1, 0x0);
        gbc.writeMem(0x1d11, { 0xe8, 0xbc });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x5a67, gbc.sp());
        EXPECT(0x1d13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0317
        gbc.setState(0xda98, 0xa0e6, 0xed20, 0xe88e, 0x16e8, 0xfef8, 0x0, 0x0);
        gbc.writeMem(0xda98, { 0xe8, 0x0 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xa0e6, gbc.sp());
        EXPECT(0xda9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xda98));
        EXPECT(0x0, gbc.readMem(0xda99));
        // E8 0318
        gbc.setState(0xcc02, 0xaaeb, 0x8ec0, 0x916a, 0x344, 0xb73d, 0x1, 0x0);
        gbc.writeMem(0xcc02, { 0xe8, 0x37 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xab22, gbc.sp());
        EXPECT(0xcc04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcc02));
        EXPECT(0x37, gbc.readMem(0xcc03));
        // E8 0319
        gbc.setState(0xa4a4, 0x17e6, 0x47f0, 0x8de3, 0x41f7, 0x5bfe, 0x0, 0x0);
        gbc.writeMem(0xa4a4, { 0xe8, 0x76 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x185c, gbc.sp());
        EXPECT(0xa4a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa4a4));
        EXPECT(0x76, gbc.readMem(0xa4a5));
        // E8 031A
        gbc.setState(0x632b, 0x5e89, 0x10, 0x2fb2, 0xb693, 0x5e11, 0x0, 0x1);
        gbc.writeMem(0x632b, { 0xe8, 0x7e });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x5f07, gbc.sp());
        EXPECT(0x632d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 031B
        gbc.setState(0x4f26, 0xb943, 0xea0, 0xd294, 0xca9c, 0xa4c8, 0x0, 0x1);
        gbc.writeMem(0x4f26, { 0xe8, 0x99 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xb8dc, gbc.sp());
        EXPECT(0x4f28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 031C
        gbc.setState(0xb7da, 0xfe9e, 0x4020, 0xdb, 0x774, 0xa4c5, 0x0, 0x1);
        gbc.writeMem(0xb7da, { 0xe8, 0x9b });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xfe39, gbc.sp());
        EXPECT(0xb7dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb7da));
        EXPECT(0x9b, gbc.readMem(0xb7db));
        // E8 031F
        gbc.setState(0x6d20, 0xa98a, 0xa2e0, 0x9231, 0x2bc, 0x5802, 0x1, 0x0);
        gbc.writeMem(0x6d20, { 0xe8, 0xfd });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xa987, gbc.sp());
        EXPECT(0x6d22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0320
        gbc.setState(0xeba5, 0xefbc, 0xe9c0, 0x3d68, 0x9ac8, 0xab19, 0x1, 0x1);
        gbc.writeMem(0xeba5, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xef4b, gbc.sp());
        EXPECT(0xeba7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeba5));
        EXPECT(0x8f, gbc.readMem(0xeba6));
        // E8 0321
        gbc.setState(0x80c6, 0xcf46, 0xd860, 0x20d3, 0x6af0, 0x3dfc, 0x0, 0x1);
        gbc.writeMem(0x80c6, { 0xe8, 0x14 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xcf5a, gbc.sp());
        EXPECT(0x80c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x80c6));
        EXPECT(0x14, gbc.readMem(0x80c7));
        // E8 0322
        gbc.setState(0x8902, 0x5ee5, 0xa6c0, 0xc6b5, 0x4628, 0xcdd6, 0x0, 0x0);
        gbc.writeMem(0x8902, { 0xe8, 0x5 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5eea, gbc.sp());
        EXPECT(0x8904, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8902));
        EXPECT(0x5, gbc.readMem(0x8903));
        // E8 0323
        gbc.setState(0x166e, 0x704a, 0x9260, 0x853b, 0xb293, 0xe49d, 0x1, 0x0);
        gbc.writeMem(0x166e, { 0xe8, 0x1e });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x7068, gbc.sp());
        EXPECT(0x1670, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0324
        gbc.setState(0xe29f, 0xd8da, 0x70b0, 0xad4f, 0x89d1, 0x8fac, 0x0, 0x0);
        gbc.writeMem(0xe29f, { 0xe8, 0x57 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xd931, gbc.sp());
        EXPECT(0xe2a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe29f));
        EXPECT(0x57, gbc.readMem(0xe2a0));
        // E8 0325
        gbc.setState(0x944e, 0xbdd3, 0x5d30, 0x9de3, 0x702c, 0x87f1, 0x0, 0x0);
        gbc.writeMem(0x944e, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xbd62, gbc.sp());
        EXPECT(0x9450, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x944e));
        EXPECT(0x8f, gbc.readMem(0x944f));
        // E8 0326
        gbc.setState(0x9447, 0x61ce, 0xadc0, 0x280, 0xc95b, 0x85eb, 0x0, 0x0);
        gbc.writeMem(0x9447, { 0xe8, 0xa0 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x616e, gbc.sp());
        EXPECT(0x9449, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9447));
        EXPECT(0xa0, gbc.readMem(0x9448));
        // E8 0327
        gbc.setState(0x3918, 0xdbdd, 0x28f0, 0x87b7, 0x50cd, 0x1bec, 0x0, 0x1);
        gbc.writeMem(0x3918, { 0xe8, 0x62 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xdc3f, gbc.sp());
        EXPECT(0x391a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0328
        gbc.setState(0x7a1d, 0x7bd4, 0x37b0, 0x12c4, 0xb153, 0x6c26, 0x1, 0x1);
        gbc.writeMem(0x7a1d, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x7bf9, gbc.sp());
        EXPECT(0x7a1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0329
        gbc.setState(0x33a4, 0x68b6, 0x2770, 0xda83, 0x44ed, 0xa444, 0x0, 0x1);
        gbc.writeMem(0x33a4, { 0xe8, 0xba });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6870, gbc.sp());
        EXPECT(0x33a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 032A
        gbc.setState(0xa486, 0xbd82, 0x8560, 0xd34d, 0xc90a, 0xd4c0, 0x1, 0x0);
        gbc.writeMem(0xa486, { 0xe8, 0x8c });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xbd0e, gbc.sp());
        EXPECT(0xa488, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa486));
        EXPECT(0x8c, gbc.readMem(0xa487));
        // E8 032B
        gbc.setState(0xbd97, 0x96a7, 0x1220, 0xf74b, 0x2bf7, 0xdfa2, 0x0, 0x1);
        gbc.writeMem(0xbd97, { 0xe8, 0x82 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x9629, gbc.sp());
        EXPECT(0xbd99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbd97));
        EXPECT(0x82, gbc.readMem(0xbd98));
        // E8 032C
        gbc.setState(0x75c6, 0xfaec, 0xa000, 0xd98c, 0x11e8, 0x2bfc, 0x1, 0x0);
        gbc.writeMem(0x75c6, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xfa7f, gbc.sp());
        EXPECT(0x75c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 032D
        gbc.setState(0xace9, 0xaf8c, 0xd060, 0x9aaa, 0x8d35, 0xe59b, 0x0, 0x1);
        gbc.writeMem(0xace9, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xaf37, gbc.sp());
        EXPECT(0xaceb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xace9));
        EXPECT(0xab, gbc.readMem(0xacea));
        // E8 032E
        gbc.setState(0xae07, 0x7cd7, 0x190, 0xc1c6, 0xfc9b, 0x13c7, 0x1, 0x1);
        gbc.writeMem(0xae07, { 0xe8, 0x3a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x7d11, gbc.sp());
        EXPECT(0xae09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae07));
        EXPECT(0x3a, gbc.readMem(0xae08));
        // E8 032F
        gbc.setState(0xe2f4, 0xcf9a, 0xd1e0, 0x500c, 0x4223, 0xaad3, 0x0, 0x0);
        gbc.writeMem(0xe2f4, { 0xe8, 0x80 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xcf1a, gbc.sp());
        EXPECT(0xe2f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe2f4));
        EXPECT(0x80, gbc.readMem(0xe2f5));
        // E8 0330
        gbc.setState(0x1d54, 0xfb0e, 0x58d0, 0xfd01, 0xeadf, 0xc34a, 0x1, 0x0);
        gbc.writeMem(0x1d54, { 0xe8, 0x6a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xfb78, gbc.sp());
        EXPECT(0x1d56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0331
        gbc.setState(0x6b61, 0x7547, 0x52a0, 0xbe4d, 0x6fe7, 0xa905, 0x1, 0x1);
        gbc.writeMem(0x6b61, { 0xe8, 0x96 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x74dd, gbc.sp());
        EXPECT(0x6b63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0332
        gbc.setState(0x355c, 0x621e, 0x7cc0, 0x7caa, 0x27a6, 0xbbd5, 0x0, 0x0);
        gbc.writeMem(0x355c, { 0xe8, 0x22 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x6240, gbc.sp());
        EXPECT(0x355e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0333
        gbc.setState(0x4a0b, 0xa3a4, 0xfc60, 0x4c1b, 0x7839, 0xe636, 0x1, 0x0);
        gbc.writeMem(0x4a0b, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xa3fe, gbc.sp());
        EXPECT(0x4a0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0334
        gbc.setState(0x2d21, 0x7286, 0xf9f0, 0xe2c8, 0xebdc, 0x8611, 0x0, 0x1);
        gbc.writeMem(0x2d21, { 0xe8, 0xb6 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x723c, gbc.sp());
        EXPECT(0x2d23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0335
        gbc.setState(0x14a6, 0x858d, 0xb930, 0x5f13, 0x8446, 0xfc3a, 0x1, 0x0);
        gbc.writeMem(0x14a6, { 0xe8, 0x5a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x85e7, gbc.sp());
        EXPECT(0x14a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0336
        gbc.setState(0xeee7, 0xe498, 0x9560, 0xa39c, 0xe061, 0x8e3, 0x0, 0x0);
        gbc.writeMem(0xeee7, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xe443, gbc.sp());
        EXPECT(0xeee9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeee7));
        EXPECT(0xab, gbc.readMem(0xeee8));
        // E8 0337
        gbc.setState(0xc379, 0x34, 0x7560, 0x3965, 0x65fc, 0xc63e, 0x1, 0x1);
        gbc.writeMem(0xc379, { 0xe8, 0xf7 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x2b, gbc.sp());
        EXPECT(0xc37b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc379));
        EXPECT(0xf7, gbc.readMem(0xc37a));
        // E8 0338
        gbc.setState(0xdc0b, 0xea76, 0xe370, 0x61a0, 0x34bd, 0x1b15, 0x0, 0x0);
        gbc.writeMem(0xdc0b, { 0xe8, 0x2c });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xeaa2, gbc.sp());
        EXPECT(0xdc0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdc0b));
        EXPECT(0x2c, gbc.readMem(0xdc0c));
        // E8 0339
        gbc.setState(0x39c9, 0xe359, 0xa4e0, 0xe0a1, 0x9ea, 0xe5ac, 0x0, 0x1);
        gbc.writeMem(0x39c9, { 0xe8, 0x1c });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xe375, gbc.sp());
        EXPECT(0x39cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 033A
        gbc.setState(0x87eb, 0x8e04, 0xaa90, 0xc1b9, 0x3a11, 0x7a31, 0x0, 0x0);
        gbc.writeMem(0x87eb, { 0xe8, 0x2e });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x8e32, gbc.sp());
        EXPECT(0x87ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x87eb));
        EXPECT(0x2e, gbc.readMem(0x87ec));
        // E8 033B
        gbc.setState(0x2401, 0x9140, 0x1120, 0x9f3e, 0xd80e, 0x9203, 0x0, 0x0);
        gbc.writeMem(0x2401, { 0xe8, 0xd5 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x9115, gbc.sp());
        EXPECT(0x2403, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 033C
        gbc.setState(0xb5e9, 0x8b7a, 0x1430, 0x3701, 0xc9a7, 0xf330, 0x0, 0x1);
        gbc.writeMem(0xb5e9, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x8b40, gbc.sp());
        EXPECT(0xb5eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb5e9));
        EXPECT(0xc6, gbc.readMem(0xb5ea));
        // E8 033D
        gbc.setState(0xcdef, 0xb6d0, 0xab20, 0x827b, 0x4484, 0x8ffa, 0x0, 0x1);
        gbc.writeMem(0xcdef, { 0xe8, 0x27 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xb6f7, gbc.sp());
        EXPECT(0xcdf1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcdef));
        EXPECT(0x27, gbc.readMem(0xcdf0));
        // E8 033E
        gbc.setState(0xb73c, 0xb419, 0x8750, 0x465e, 0xcf84, 0x8db9, 0x1, 0x1);
        gbc.writeMem(0xb73c, { 0xe8, 0x65 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xb47e, gbc.sp());
        EXPECT(0xb73e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb73c));
        EXPECT(0x65, gbc.readMem(0xb73d));
        // E8 033F
        gbc.setState(0x335b, 0xc77d, 0x8650, 0xe3fe, 0x7e7b, 0x2ad2, 0x0, 0x1);
        gbc.writeMem(0x335b, { 0xe8, 0x1d });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xc79a, gbc.sp());
        EXPECT(0x335d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0340
        gbc.setState(0x4f60, 0x6674, 0xb090, 0xd7de, 0x1094, 0x161a, 0x0, 0x1);
        gbc.writeMem(0x4f60, { 0xe8, 0xef });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x6663, gbc.sp());
        EXPECT(0x4f62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0341
        gbc.setState(0x9bc4, 0x40b5, 0x2160, 0xb9cf, 0x1ad0, 0x4f2f, 0x1, 0x1);
        gbc.writeMem(0x9bc4, { 0xe8, 0x1e });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x40d3, gbc.sp());
        EXPECT(0x9bc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9bc4));
        EXPECT(0x1e, gbc.readMem(0x9bc5));
        // E8 0342
        gbc.setState(0xa15e, 0x5dc5, 0x7180, 0x8706, 0x68d, 0x42fc, 0x0, 0x1);
        gbc.writeMem(0xa15e, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x5d66, gbc.sp());
        EXPECT(0xa160, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa15e));
        EXPECT(0xa1, gbc.readMem(0xa15f));
        // E8 0343
        gbc.setState(0xa791, 0xe419, 0xb5d0, 0xa233, 0xc1cc, 0x4330, 0x0, 0x0);
        gbc.writeMem(0xa791, { 0xe8, 0x46 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe45f, gbc.sp());
        EXPECT(0xa793, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa791));
        EXPECT(0x46, gbc.readMem(0xa792));
        // E8 0344
        gbc.setState(0xf3e, 0xcbf5, 0x1fa0, 0x79e2, 0xbe66, 0x5eb5, 0x1, 0x1);
        gbc.writeMem(0xf3e, { 0xe8, 0x1f });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xcc14, gbc.sp());
        EXPECT(0xf40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0346
        gbc.setState(0xe6bc, 0xab0, 0xa3e0, 0x284d, 0x7f2d, 0xd846, 0x1, 0x0);
        gbc.writeMem(0xe6bc, { 0xe8, 0xfd });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xaad, gbc.sp());
        EXPECT(0xe6be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe6bc));
        EXPECT(0xfd, gbc.readMem(0xe6bd));
        // E8 0347
        gbc.setState(0xb630, 0x11bb, 0xf7f0, 0xcb60, 0xf6a5, 0xb02c, 0x1, 0x0);
        gbc.writeMem(0xb630, { 0xe8, 0x4a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x1205, gbc.sp());
        EXPECT(0xb632, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb630));
        EXPECT(0x4a, gbc.readMem(0xb631));
        // E8 0348
        gbc.setState(0xbf27, 0x30c, 0x6a40, 0x9ec9, 0xd77d, 0x8ec6, 0x1, 0x1);
        gbc.writeMem(0xbf27, { 0xe8, 0x13 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x31f, gbc.sp());
        EXPECT(0xbf29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbf27));
        EXPECT(0x13, gbc.readMem(0xbf28));
        // E8 0349
        gbc.setState(0x5f31, 0x3186, 0x3bf0, 0xab9, 0x8bf5, 0xe7f3, 0x0, 0x0);
        gbc.writeMem(0x5f31, { 0xe8, 0x6f });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x31f5, gbc.sp());
        EXPECT(0x5f33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 034A
        gbc.setState(0x7110, 0x2099, 0xafa0, 0xf4e8, 0x1df7, 0x974f, 0x0, 0x0);
        gbc.writeMem(0x7110, { 0xe8, 0xb1 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x204a, gbc.sp());
        EXPECT(0x7112, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 034C
        gbc.setState(0xbdf1, 0x4940, 0x9ea0, 0x77a4, 0x2fa7, 0xa5a6, 0x0, 0x0);
        gbc.writeMem(0xbdf1, { 0xe8, 0xe3 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x4923, gbc.sp());
        EXPECT(0xbdf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbdf1));
        EXPECT(0xe3, gbc.readMem(0xbdf2));
        // E8 034D
        gbc.setState(0x7ec, 0x2056, 0xf230, 0xae56, 0xa029, 0xbbbb, 0x1, 0x1);
        gbc.writeMem(0x7ec, { 0xe8, 0x86 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x1fdc, gbc.sp());
        EXPECT(0x7ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 034E
        gbc.setState(0xd99, 0xe39f, 0xc790, 0x2169, 0x26a6, 0xa5d6, 0x0, 0x0);
        gbc.writeMem(0xd99, { 0xe8, 0x4f });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xe3ee, gbc.sp());
        EXPECT(0xd9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 034F
        gbc.setState(0x675f, 0xf65e, 0x4af0, 0xc0d4, 0xa5ba, 0xb3a9, 0x1, 0x1);
        gbc.writeMem(0x675f, { 0xe8, 0x75 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf6d3, gbc.sp());
        EXPECT(0x6761, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0350
        gbc.setState(0x2c7, 0xab0a, 0x77d0, 0xf2f6, 0xcbd6, 0x1f62, 0x1, 0x1);
        gbc.writeMem(0x2c7, { 0xe8, 0xcd });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xaad7, gbc.sp());
        EXPECT(0x2c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0351
        gbc.setState(0x2652, 0x19b4, 0x7c00, 0x145e, 0xe795, 0xb5a5, 0x1, 0x0);
        gbc.writeMem(0x2652, { 0xe8, 0x99 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x194d, gbc.sp());
        EXPECT(0x2654, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0352
        gbc.setState(0x53ba, 0x93f6, 0x7800, 0x8cae, 0xa735, 0x900c, 0x1, 0x0);
        gbc.writeMem(0x53ba, { 0xe8, 0x17 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x940d, gbc.sp());
        EXPECT(0x53bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0353
        gbc.setState(0x5cc9, 0x64e9, 0xafb0, 0x791, 0xbe63, 0x9bbe, 0x0, 0x1);
        gbc.writeMem(0x5cc9, { 0xe8, 0xfb });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x64e4, gbc.sp());
        EXPECT(0x5ccb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0354
        gbc.setState(0x1443, 0x496c, 0x40b0, 0x69e7, 0xf57b, 0xeabf, 0x0, 0x0);
        gbc.writeMem(0x1443, { 0xe8, 0xda });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x4946, gbc.sp());
        EXPECT(0x1445, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0355
        gbc.setState(0x7992, 0xca98, 0x7c20, 0xa372, 0xf85f, 0x12d2, 0x1, 0x0);
        gbc.writeMem(0x7992, { 0xe8, 0x55 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xcaed, gbc.sp());
        EXPECT(0x7994, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0356
        gbc.setState(0xb69, 0xe62f, 0x89f0, 0xa45a, 0xc9e4, 0x23b6, 0x1, 0x0);
        gbc.writeMem(0xb69, { 0xe8, 0xeb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xe61a, gbc.sp());
        EXPECT(0xb6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0357
        gbc.setState(0x8505, 0x5ebc, 0xda30, 0x9b2a, 0x3f91, 0x2d90, 0x0, 0x0);
        gbc.writeMem(0x8505, { 0xe8, 0xbe });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x5e7a, gbc.sp());
        EXPECT(0x8507, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8505));
        EXPECT(0xbe, gbc.readMem(0x8506));
        // E8 0358
        gbc.setState(0xc515, 0xe70, 0x860, 0xf41c, 0xacda, 0xb3f4, 0x1, 0x1);
        gbc.writeMem(0xc515, { 0xe8, 0x94 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe04, gbc.sp());
        EXPECT(0xc517, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc515));
        EXPECT(0x94, gbc.readMem(0xc516));
        // E8 0359
        gbc.setState(0xe94a, 0x7b10, 0x44c0, 0xc943, 0xb03f, 0x50bc, 0x0, 0x1);
        gbc.writeMem(0xe94a, { 0xe8, 0x6e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x7b7e, gbc.sp());
        EXPECT(0xe94c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe94a));
        EXPECT(0x6e, gbc.readMem(0xe94b));
        // E8 035A
        gbc.setState(0xccc2, 0xb7ba, 0xce0, 0xfaa, 0x3450, 0x5881, 0x1, 0x1);
        gbc.writeMem(0xccc2, { 0xe8, 0xf2 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xb7ac, gbc.sp());
        EXPECT(0xccc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xccc2));
        EXPECT(0xf2, gbc.readMem(0xccc3));
        // E8 035B
        gbc.setState(0xd5c2, 0x712e, 0xc820, 0xb05f, 0x1bf0, 0xda1e, 0x1, 0x0);
        gbc.writeMem(0xd5c2, { 0xe8, 0xc0 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x70ee, gbc.sp());
        EXPECT(0xd5c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd5c2));
        EXPECT(0xc0, gbc.readMem(0xd5c3));
        // E8 035C
        gbc.setState(0x245a, 0x95c6, 0xe610, 0x53ba, 0xeb05, 0x970a, 0x0, 0x1);
        gbc.writeMem(0x245a, { 0xe8, 0xfd });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x95c3, gbc.sp());
        EXPECT(0x245c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 035D
        gbc.setState(0xa9f4, 0xc4d6, 0x1870, 0xfbaf, 0x5092, 0x68c3, 0x0, 0x0);
        gbc.writeMem(0xa9f4, { 0xe8, 0x38 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xc50e, gbc.sp());
        EXPECT(0xa9f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa9f4));
        EXPECT(0x38, gbc.readMem(0xa9f5));
        // E8 035E
        gbc.setState(0xcfe2, 0xd6bc, 0x2a30, 0x6a63, 0xe750, 0x9d14, 0x0, 0x0);
        gbc.writeMem(0xcfe2, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd6b6, gbc.sp());
        EXPECT(0xcfe4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcfe2));
        EXPECT(0xfa, gbc.readMem(0xcfe3));
        // E8 035F
        gbc.setState(0xdb69, 0xca05, 0x8070, 0xaadb, 0xf0df, 0x57f1, 0x1, 0x0);
        gbc.writeMem(0xdb69, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xca80, gbc.sp());
        EXPECT(0xdb6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdb69));
        EXPECT(0x7b, gbc.readMem(0xdb6a));
        // E8 0361
        gbc.setState(0xd535, 0x42f1, 0xfd80, 0x3bf8, 0x31af, 0xdcd1, 0x0, 0x0);
        gbc.writeMem(0xd535, { 0xe8, 0x7c });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x436d, gbc.sp());
        EXPECT(0xd537, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd535));
        EXPECT(0x7c, gbc.readMem(0xd536));
        // E8 0362
        gbc.setState(0xeed4, 0x5938, 0xc640, 0xc8b9, 0x133, 0xa121, 0x0, 0x1);
        gbc.writeMem(0xeed4, { 0xe8, 0x59 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x5991, gbc.sp());
        EXPECT(0xeed6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xeed4));
        EXPECT(0x59, gbc.readMem(0xeed5));
        // E8 0363
        gbc.setState(0xbe03, 0x656a, 0x2890, 0x3708, 0x77ec, 0xbd99, 0x0, 0x0);
        gbc.writeMem(0xbe03, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x6577, gbc.sp());
        EXPECT(0xbe05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbe03));
        EXPECT(0xd, gbc.readMem(0xbe04));
        // E8 0365
        gbc.setState(0x6ca6, 0xd8bd, 0xa3d0, 0xfb3a, 0x3204, 0xcef1, 0x0, 0x1);
        gbc.writeMem(0x6ca6, { 0xe8, 0xe4 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xd8a1, gbc.sp());
        EXPECT(0x6ca8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0367
        gbc.setState(0xb4f7, 0xd252, 0x8a80, 0x7340, 0x82d4, 0x905e, 0x0, 0x1);
        gbc.writeMem(0xb4f7, { 0xe8, 0x57 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xd2a9, gbc.sp());
        EXPECT(0xb4f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb4f7));
        EXPECT(0x57, gbc.readMem(0xb4f8));
        // E8 0368
        gbc.setState(0x6704, 0xa369, 0x2250, 0x69a0, 0x1b53, 0xd5e5, 0x0, 0x1);
        gbc.writeMem(0x6704, { 0xe8, 0xa3 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xa30c, gbc.sp());
        EXPECT(0x6706, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0369
        gbc.setState(0xd3ea, 0x56ff, 0x3310, 0x1975, 0x953e, 0x1e9b, 0x0, 0x0);
        gbc.writeMem(0xd3ea, { 0xe8, 0xcf });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x56ce, gbc.sp());
        EXPECT(0xd3ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd3ea));
        EXPECT(0xcf, gbc.readMem(0xd3eb));
        // E8 036A
        gbc.setState(0x521b, 0x5f79, 0x8040, 0xea3e, 0xcec6, 0x66ae, 0x1, 0x0);
        gbc.writeMem(0x521b, { 0xe8, 0xd });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x5f86, gbc.sp());
        EXPECT(0x521d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 036B
        gbc.setState(0x103d, 0xfb33, 0xa970, 0x2280, 0x852e, 0xd36d, 0x1, 0x0);
        gbc.writeMem(0x103d, { 0xe8, 0x6e });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xfba1, gbc.sp());
        EXPECT(0x103f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 036C
        gbc.setState(0x62b4, 0x26d0, 0x61e0, 0x6ac2, 0xce49, 0x8b06, 0x0, 0x0);
        gbc.writeMem(0x62b4, { 0xe8, 0x5f });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x272f, gbc.sp());
        EXPECT(0x62b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 036D
        gbc.setState(0xc34b, 0xfed, 0xf5e0, 0xd7b1, 0x99dd, 0x8796, 0x0, 0x1);
        gbc.writeMem(0xc34b, { 0xe8, 0xed });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xfda, gbc.sp());
        EXPECT(0xc34d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc34b));
        EXPECT(0xed, gbc.readMem(0xc34c));
        // E8 036E
        gbc.setState(0x224f, 0x93d2, 0xff00, 0xa373, 0x5dbd, 0x2c4b, 0x1, 0x0);
        gbc.writeMem(0x224f, { 0xe8, 0x3c });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x940e, gbc.sp());
        EXPECT(0x2251, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 036F
        gbc.setState(0x6e6c, 0x4caf, 0xe900, 0xdd3a, 0x3062, 0xa828, 0x1, 0x1);
        gbc.writeMem(0x6e6c, { 0xe8, 0x4a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x4cf9, gbc.sp());
        EXPECT(0x6e6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0370
        gbc.setState(0xbf70, 0xd9f1, 0x7ff0, 0x5ded, 0x3ed0, 0x8554, 0x0, 0x1);
        gbc.writeMem(0xbf70, { 0xe8, 0xe8 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xd9d9, gbc.sp());
        EXPECT(0xbf72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbf70));
        EXPECT(0xe8, gbc.readMem(0xbf71));
        // E8 0371
        gbc.setState(0x5eda, 0xdda8, 0x3800, 0x5ccc, 0x167a, 0xe30c, 0x1, 0x0);
        gbc.writeMem(0x5eda, { 0xe8, 0x46 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xddee, gbc.sp());
        EXPECT(0x5edc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0372
        gbc.setState(0xd112, 0x9ba5, 0xb1d0, 0x416c, 0xcee0, 0x9c6, 0x1, 0x0);
        gbc.writeMem(0xd112, { 0xe8, 0x4e });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x9bf3, gbc.sp());
        EXPECT(0xd114, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd112));
        EXPECT(0x4e, gbc.readMem(0xd113));
        // E8 0373
        gbc.setState(0x4274, 0xf68c, 0x8bb0, 0x7a3a, 0x9c64, 0x69b1, 0x1, 0x0);
        gbc.writeMem(0x4274, { 0xe8, 0x7d });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xf709, gbc.sp());
        EXPECT(0x4276, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0374
        gbc.setState(0xd3ec, 0xd7dd, 0xf780, 0x5b1, 0x281e, 0x4535, 0x1, 0x0);
        gbc.writeMem(0xd3ec, { 0xe8, 0xcf });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xd7ac, gbc.sp());
        EXPECT(0xd3ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd3ec));
        EXPECT(0xcf, gbc.readMem(0xd3ed));
        // E8 0375
        gbc.setState(0xa008, 0x78e9, 0xe340, 0x3a9a, 0x8ae3, 0xf463, 0x1, 0x0);
        gbc.writeMem(0xa008, { 0xe8, 0x22 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x790b, gbc.sp());
        EXPECT(0xa00a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa008));
        EXPECT(0x22, gbc.readMem(0xa009));
        // E8 0376
        gbc.setState(0x25e7, 0x5953, 0xb370, 0x527c, 0x8f89, 0x32a8, 0x1, 0x0);
        gbc.writeMem(0x25e7, { 0xe8, 0x2e });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x5981, gbc.sp());
        EXPECT(0x25e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0377
        gbc.setState(0x94ab, 0xc379, 0xd0c0, 0x7a40, 0xcc93, 0x376c, 0x1, 0x0);
        gbc.writeMem(0x94ab, { 0xe8, 0x53 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xc3cc, gbc.sp());
        EXPECT(0x94ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x94ab));
        EXPECT(0x53, gbc.readMem(0x94ac));
        // E8 0378
        gbc.setState(0xa2fa, 0x1a29, 0x54b0, 0x60a9, 0xd46, 0x89c3, 0x0, 0x0);
        gbc.writeMem(0xa2fa, { 0xe8, 0x99 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x19c2, gbc.sp());
        EXPECT(0xa2fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa2fa));
        EXPECT(0x99, gbc.readMem(0xa2fb));
        // E8 0379
        gbc.setState(0x56b7, 0xdd3c, 0x8b90, 0x385f, 0xebf, 0x6afa, 0x0, 0x1);
        gbc.writeMem(0x56b7, { 0xe8, 0x91 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xdccd, gbc.sp());
        EXPECT(0x56b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 037A
        gbc.setState(0xb635, 0x2b7f, 0x8640, 0xd9a6, 0x3fa1, 0xf82c, 0x1, 0x1);
        gbc.writeMem(0xb635, { 0xe8, 0xee });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x2b6d, gbc.sp());
        EXPECT(0xb637, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb635));
        EXPECT(0xee, gbc.readMem(0xb636));
        // E8 037B
        gbc.setState(0xbc9a, 0x9015, 0xf4e0, 0xb247, 0x8074, 0xc4c2, 0x1, 0x0);
        gbc.writeMem(0xbc9a, { 0xe8, 0x78 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x908d, gbc.sp());
        EXPECT(0xbc9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbc9a));
        EXPECT(0x78, gbc.readMem(0xbc9b));
        // E8 037C
        gbc.setState(0xdf5a, 0x3129, 0x31c0, 0xbe40, 0xe8a7, 0xb686, 0x1, 0x1);
        gbc.writeMem(0xdf5a, { 0xe8, 0x3d });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x3166, gbc.sp());
        EXPECT(0xdf5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdf5a));
        EXPECT(0x3d, gbc.readMem(0xdf5b));
        // E8 037D
        gbc.setState(0x5267, 0x7161, 0x1290, 0x7d3a, 0x1b65, 0xf1de, 0x1, 0x1);
        gbc.writeMem(0x5267, { 0xe8, 0x89 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x70ea, gbc.sp());
        EXPECT(0x5269, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 037E
        gbc.setState(0x2b2c, 0xf3d3, 0x26d0, 0x53bd, 0x178b, 0x6162, 0x1, 0x1);
        gbc.writeMem(0x2b2c, { 0xe8, 0x83 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xf356, gbc.sp());
        EXPECT(0x2b2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 037F
        gbc.setState(0xc0f8, 0x55e3, 0x5a40, 0xbbad, 0x81a6, 0xfa4e, 0x1, 0x0);
        gbc.writeMem(0xc0f8, { 0xe8, 0x1 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x55e4, gbc.sp());
        EXPECT(0xc0fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc0f8));
        EXPECT(0x1, gbc.readMem(0xc0f9));
        // E8 0380
        gbc.setState(0x795d, 0xf3da, 0xdd30, 0x6fd3, 0xd048, 0xf06a, 0x1, 0x0);
        gbc.writeMem(0x795d, { 0xe8, 0x49 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xf423, gbc.sp());
        EXPECT(0x795f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0381
        gbc.setState(0x9182, 0xab6e, 0xd100, 0xb201, 0x4a5a, 0x8970, 0x1, 0x0);
        gbc.writeMem(0x9182, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xab19, gbc.sp());
        EXPECT(0x9184, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9182));
        EXPECT(0xab, gbc.readMem(0x9183));
        // E8 0382
        gbc.setState(0x370c, 0xe7b9, 0xcbe0, 0xa13a, 0x9867, 0xf311, 0x0, 0x0);
        gbc.writeMem(0x370c, { 0xe8, 0xf5 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xe7ae, gbc.sp());
        EXPECT(0x370e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0384
        gbc.setState(0x62a, 0x933e, 0x22f0, 0x230e, 0x89a8, 0x68f4, 0x1, 0x0);
        gbc.writeMem(0x62a, { 0xe8, 0x1 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x933f, gbc.sp());
        EXPECT(0x62c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0385
        gbc.setState(0x8f0, 0x11d2, 0x2000, 0xaea8, 0x979b, 0xc142, 0x0, 0x1);
        gbc.writeMem(0x8f0, { 0xe8, 0x18 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x11ea, gbc.sp());
        EXPECT(0x8f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0386
        gbc.setState(0xc646, 0x5594, 0xef60, 0xfa16, 0xf9c3, 0xb7b3, 0x0, 0x0);
        gbc.writeMem(0xc646, { 0xe8, 0xc3 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x5557, gbc.sp());
        EXPECT(0xc648, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc646));
        EXPECT(0xc3, gbc.readMem(0xc647));
        // E8 0387
        gbc.setState(0x2259, 0x8a7, 0xb730, 0x3589, 0x23ad, 0xfe93, 0x0, 0x0);
        gbc.writeMem(0x2259, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x852, gbc.sp());
        EXPECT(0x225b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0388
        gbc.setState(0x42c2, 0x2dbd, 0x31f0, 0x4752, 0x266, 0xe43, 0x1, 0x0);
        gbc.writeMem(0x42c2, { 0xe8, 0xd3 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x2d90, gbc.sp());
        EXPECT(0x42c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0389
        gbc.setState(0x361, 0xa9b4, 0x8930, 0x90bb, 0x4058, 0x3178, 0x1, 0x0);
        gbc.writeMem(0x361, { 0xe8, 0x25 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xa9d9, gbc.sp());
        EXPECT(0x363, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 038A
        gbc.setState(0x216c, 0xfb6c, 0x6910, 0xcb72, 0x5a99, 0x40cd, 0x1, 0x1);
        gbc.writeMem(0x216c, { 0xe8, 0x11 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xfb7d, gbc.sp());
        EXPECT(0x216e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 038B
        gbc.setState(0xa872, 0xdb89, 0x5710, 0xfe84, 0x62ec, 0xdff, 0x1, 0x1);
        gbc.writeMem(0xa872, { 0xe8, 0x44 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xdbcd, gbc.sp());
        EXPECT(0xa874, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa872));
        EXPECT(0x44, gbc.readMem(0xa873));
        // E8 038C
        gbc.setState(0x85e7, 0x22be, 0x920, 0x6b18, 0x7f14, 0x9d01, 0x0, 0x1);
        gbc.writeMem(0x85e7, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x226b, gbc.sp());
        EXPECT(0x85e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x85e7));
        EXPECT(0xad, gbc.readMem(0x85e8));
        // E8 038D
        gbc.setState(0x8a3, 0x8508, 0x6b0, 0xd6e7, 0x1f1e, 0xfe68, 0x1, 0x1);
        gbc.writeMem(0x8a3, { 0xe8, 0x1b });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8523, gbc.sp());
        EXPECT(0x8a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 038E
        gbc.setState(0x2c32, 0x3124, 0xb8c0, 0x5469, 0xc7c3, 0xb471, 0x0, 0x1);
        gbc.writeMem(0x2c32, { 0xe8, 0x59 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x317d, gbc.sp());
        EXPECT(0x2c34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 038F
        gbc.setState(0xaa00, 0x8a42, 0x1160, 0x57d5, 0x7801, 0x847b, 0x1, 0x1);
        gbc.writeMem(0xaa00, { 0xe8, 0x15 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x8a57, gbc.sp());
        EXPECT(0xaa02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaa00));
        EXPECT(0x15, gbc.readMem(0xaa01));
        // E8 0391
        gbc.setState(0x9596, 0x8662, 0xe5a0, 0x65c5, 0xef6f, 0x64b6, 0x0, 0x0);
        gbc.writeMem(0x9596, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x85f7, gbc.sp());
        EXPECT(0x9598, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9596));
        EXPECT(0x95, gbc.readMem(0x9597));
        // E8 0392
        gbc.setState(0x4d94, 0xe371, 0x9db0, 0x883f, 0x7260, 0x9f75, 0x0, 0x0);
        gbc.writeMem(0x4d94, { 0xe8, 0xbb });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xe32c, gbc.sp());
        EXPECT(0x4d96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 0393
        gbc.setState(0xc30b, 0x64fd, 0xe5a0, 0x13a8, 0x58b5, 0x5fd7, 0x0, 0x1);
        gbc.writeMem(0xc30b, { 0xe8, 0x48 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x6545, gbc.sp());
        EXPECT(0xc30d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc30b));
        EXPECT(0x48, gbc.readMem(0xc30c));
        // E8 0394
        gbc.setState(0xb79e, 0xa4bf, 0x93b0, 0x1ef0, 0x4344, 0xcd14, 0x0, 0x0);
        gbc.writeMem(0xb79e, { 0xe8, 0x91 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xa450, gbc.sp());
        EXPECT(0xb7a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb79e));
        EXPECT(0x91, gbc.readMem(0xb79f));
        // E8 0395
        gbc.setState(0xd738, 0xf143, 0x7210, 0x8f3d, 0xe456, 0x9b75, 0x0, 0x1);
        gbc.writeMem(0xd738, { 0xe8, 0xd7 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xf11a, gbc.sp());
        EXPECT(0xd73a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd738));
        EXPECT(0xd7, gbc.readMem(0xd739));
        // E8 0396
        gbc.setState(0x83f7, 0x2d77, 0xadd0, 0xb7e2, 0x550, 0x9660, 0x1, 0x1);
        gbc.writeMem(0x83f7, { 0xe8, 0xea });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x2d61, gbc.sp());
        EXPECT(0x83f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x83f7));
        EXPECT(0xea, gbc.readMem(0x83f8));
        // E8 0397
        gbc.setState(0x3e08, 0x8fd0, 0x2ed0, 0x9e11, 0x1020, 0x87b6, 0x0, 0x1);
        gbc.writeMem(0x3e08, { 0xe8, 0x10 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x8fe0, gbc.sp());
        EXPECT(0x3e0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 0398
        gbc.setState(0x4a64, 0x925c, 0x1750, 0xc56, 0x1b54, 0x8751, 0x0, 0x0);
        gbc.writeMem(0x4a64, { 0xe8, 0x29 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x9285, gbc.sp());
        EXPECT(0x4a66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 039A
        gbc.setState(0x1370, 0xbbbf, 0xde10, 0xb9e4, 0xc1d2, 0xb524, 0x0, 0x0);
        gbc.writeMem(0x1370, { 0xe8, 0x7f });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xbc3e, gbc.sp());
        EXPECT(0x1372, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 039B
        gbc.setState(0x6a5, 0x9aee, 0x48b0, 0x9a90, 0x14ef, 0xd1c8, 0x1, 0x0);
        gbc.writeMem(0x6a5, { 0xe8, 0xcb });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x9ab9, gbc.sp());
        EXPECT(0x6a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 039C
        gbc.setState(0x1eda, 0x402f, 0xf740, 0xbabd, 0xf1c3, 0xcadd, 0x0, 0x0);
        gbc.writeMem(0x1eda, { 0xe8, 0x76 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x40a5, gbc.sp());
        EXPECT(0x1edc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 039D
        gbc.setState(0x9976, 0x7ded, 0xd700, 0x2724, 0x8435, 0xc41a, 0x0, 0x0);
        gbc.writeMem(0x9976, { 0xe8, 0x14 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x7e01, gbc.sp());
        EXPECT(0x9978, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9976));
        EXPECT(0x14, gbc.readMem(0x9977));
        // E8 039E
        gbc.setState(0x559e, 0x7eb0, 0xf0b0, 0x44b6, 0x3274, 0x342a, 0x0, 0x1);
        gbc.writeMem(0x559e, { 0xe8, 0xd4 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x7e84, gbc.sp());
        EXPECT(0x55a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 039F
        gbc.setState(0xcc42, 0x85b5, 0x6fe0, 0xa8f7, 0xb567, 0x6577, 0x0, 0x1);
        gbc.writeMem(0xcc42, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x8630, gbc.sp());
        EXPECT(0xcc44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcc42));
        EXPECT(0x7b, gbc.readMem(0xcc43));
        // E8 03A0
        gbc.setState(0x656, 0x993, 0x8e0, 0xa04f, 0x9d33, 0xd798, 0x0, 0x1);
        gbc.writeMem(0x656, { 0xe8, 0x4d });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x9e0, gbc.sp());
        EXPECT(0x658, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03A1
        gbc.setState(0xb4e2, 0x9b89, 0xa70, 0xd963, 0x959e, 0xa55f, 0x1, 0x1);
        gbc.writeMem(0xb4e2, { 0xe8, 0x82 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x9b0b, gbc.sp());
        EXPECT(0xb4e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb4e2));
        EXPECT(0x82, gbc.readMem(0xb4e3));
        // E8 03A2
        gbc.setState(0x30e7, 0x6f8e, 0xdfe0, 0x1378, 0xa30d, 0xda9c, 0x1, 0x0);
        gbc.writeMem(0x30e7, { 0xe8, 0x73 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x7001, gbc.sp());
        EXPECT(0x30e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03A3
        gbc.setState(0xb4ea, 0x412a, 0x29c0, 0xe1a0, 0x791a, 0x5d66, 0x1, 0x0);
        gbc.writeMem(0xb4ea, { 0xe8, 0x62 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x418c, gbc.sp());
        EXPECT(0xb4ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb4ea));
        EXPECT(0x62, gbc.readMem(0xb4eb));
        // E8 03A4
        gbc.setState(0x3f6, 0x375b, 0x7ee0, 0xf2ca, 0x4974, 0x8665, 0x0, 0x0);
        gbc.writeMem(0x3f6, { 0xe8, 0xf2 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x374d, gbc.sp());
        EXPECT(0x3f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03A5
        gbc.setState(0xae6e, 0xca6a, 0xd330, 0x98c0, 0x4739, 0x6402, 0x0, 0x0);
        gbc.writeMem(0xae6e, { 0xe8, 0x84 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xc9ee, gbc.sp());
        EXPECT(0xae70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae6e));
        EXPECT(0x84, gbc.readMem(0xae6f));
        // E8 03A6
        gbc.setState(0xb57e, 0x3f58, 0xd80, 0xe6f1, 0x8652, 0xac47, 0x0, 0x0);
        gbc.writeMem(0xb57e, { 0xe8, 0xc6 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x3f1e, gbc.sp());
        EXPECT(0xb580, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb57e));
        EXPECT(0xc6, gbc.readMem(0xb57f));
        // E8 03A8
        gbc.setState(0x4762, 0x9153, 0x70a0, 0x3d40, 0xbdc0, 0xcf28, 0x0, 0x1);
        gbc.writeMem(0x4762, { 0xe8, 0xdd });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x9130, gbc.sp());
        EXPECT(0x4764, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03A9
        gbc.setState(0x4057, 0x3640, 0x37d0, 0x64bd, 0x9681, 0x98cf, 0x1, 0x1);
        gbc.writeMem(0x4057, { 0xe8, 0x6c });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x36ac, gbc.sp());
        EXPECT(0x4059, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03AA
        gbc.setState(0xefc0, 0x883f, 0x15e0, 0x6757, 0xd81b, 0xa3de, 0x0, 0x0);
        gbc.writeMem(0xefc0, { 0xe8, 0xab });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x87ea, gbc.sp());
        EXPECT(0xefc2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xefc0));
        EXPECT(0xab, gbc.readMem(0xefc1));
        // E8 03AB
        gbc.setState(0x88fe, 0xbf1f, 0xa000, 0x9436, 0xa8e2, 0x763b, 0x1, 0x0);
        gbc.writeMem(0x88fe, { 0xe8, 0x4e });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xbf6d, gbc.sp());
        EXPECT(0x8900, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x88fe));
        EXPECT(0x4e, gbc.readMem(0x88ff));
        // E8 03AC
        gbc.setState(0x9e84, 0x5c1, 0x3050, 0x2612, 0xdf92, 0x11fd, 0x0, 0x0);
        gbc.writeMem(0x9e84, { 0xe8, 0x83 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x544, gbc.sp());
        EXPECT(0x9e86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9e84));
        EXPECT(0x83, gbc.readMem(0x9e85));
        // E8 03AD
        gbc.setState(0xe849, 0x29fb, 0x5620, 0x40bd, 0x7641, 0x4b2b, 0x0, 0x1);
        gbc.writeMem(0xe849, { 0xe8, 0x41 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2a3c, gbc.sp());
        EXPECT(0xe84b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe849));
        EXPECT(0x41, gbc.readMem(0xe84a));
        // E8 03AE
        gbc.setState(0xa39c, 0xc8ca, 0xd6e0, 0xeb84, 0x6075, 0xe6f6, 0x0, 0x1);
        gbc.writeMem(0xa39c, { 0xe8, 0x97 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc861, gbc.sp());
        EXPECT(0xa39e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa39c));
        EXPECT(0x97, gbc.readMem(0xa39d));
        // E8 03AF
        gbc.setState(0x6af7, 0x6ecd, 0x54a0, 0xe5f0, 0xa63e, 0x2dd0, 0x1, 0x1);
        gbc.writeMem(0x6af7, { 0xe8, 0x94 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x6e61, gbc.sp());
        EXPECT(0x6af9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03B0
        gbc.setState(0xdd91, 0xbbda, 0xeb0, 0x8054, 0x7c03, 0x90d2, 0x1, 0x1);
        gbc.writeMem(0xdd91, { 0xe8, 0xb2 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xbb8c, gbc.sp());
        EXPECT(0xdd93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdd91));
        EXPECT(0xb2, gbc.readMem(0xdd92));
        // E8 03B1
        gbc.setState(0x1237, 0xc4bb, 0x3470, 0x5eb3, 0x3304, 0xa1d8, 0x1, 0x0);
        gbc.writeMem(0x1237, { 0xe8, 0x7a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xc535, gbc.sp());
        EXPECT(0x1239, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03B2
        gbc.setState(0x11cd, 0x2b8f, 0x94d0, 0xa3f1, 0xed37, 0x50dc, 0x1, 0x1);
        gbc.writeMem(0x11cd, { 0xe8, 0x93 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x2b22, gbc.sp());
        EXPECT(0x11cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03B3
        gbc.setState(0x8c17, 0xa76, 0x3830, 0xdc57, 0x68d6, 0xe612, 0x0, 0x0);
        gbc.writeMem(0x8c17, { 0xe8, 0xdc });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xa52, gbc.sp());
        EXPECT(0x8c19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8c17));
        EXPECT(0xdc, gbc.readMem(0x8c18));
        // E8 03B5
        gbc.setState(0xef4d, 0xdda8, 0xc9b0, 0x9d86, 0x9d81, 0x6dbe, 0x0, 0x0);
        gbc.writeMem(0xef4d, { 0xe8, 0x47 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xddef, gbc.sp());
        EXPECT(0xef4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xef4d));
        EXPECT(0x47, gbc.readMem(0xef4e));
        // E8 03B6
        gbc.setState(0xdfc0, 0x253e, 0x85b0, 0x2378, 0x1f5f, 0x3b82, 0x0, 0x1);
        gbc.writeMem(0xdfc0, { 0xe8, 0x4a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x2588, gbc.sp());
        EXPECT(0xdfc2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xdfc0));
        EXPECT(0x4a, gbc.readMem(0xdfc1));
        // E8 03B7
        gbc.setState(0xb9eb, 0xf50b, 0xb5a0, 0xf471, 0xe85, 0x8981, 0x0, 0x1);
        gbc.writeMem(0xb9eb, { 0xe8, 0x35 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xf540, gbc.sp());
        EXPECT(0xb9ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb9eb));
        EXPECT(0x35, gbc.readMem(0xb9ec));
        // E8 03B8
        gbc.setState(0x31ca, 0x9b71, 0xd7b0, 0xb827, 0x59e3, 0x510b, 0x0, 0x0);
        gbc.writeMem(0x31ca, { 0xe8, 0x80 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x9af1, gbc.sp());
        EXPECT(0x31cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03B9
        gbc.setState(0xcd21, 0xc30c, 0xe370, 0x5dde, 0xb7aa, 0xc6c1, 0x1, 0x1);
        gbc.writeMem(0xcd21, { 0xe8, 0xaa });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xc2b6, gbc.sp());
        EXPECT(0xcd23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xcd21));
        EXPECT(0xaa, gbc.readMem(0xcd22));
        // E8 03BA
        gbc.setState(0x9f67, 0xf40c, 0x4690, 0xd1df, 0xb08, 0xe8c, 0x0, 0x1);
        gbc.writeMem(0x9f67, { 0xe8, 0x7 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xf413, gbc.sp());
        EXPECT(0x9f69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9f67));
        EXPECT(0x7, gbc.readMem(0x9f68));
        // E8 03BB
        gbc.setState(0xb305, 0xd5b, 0x8af0, 0x553b, 0x933e, 0xac4, 0x1, 0x0);
        gbc.writeMem(0xb305, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xd08, gbc.sp());
        EXPECT(0xb307, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb305));
        EXPECT(0xad, gbc.readMem(0xb306));
        // E8 03BC
        gbc.setState(0x628e, 0x3015, 0xd1e0, 0xe49, 0xda0f, 0xdd94, 0x0, 0x0);
        gbc.writeMem(0x628e, { 0xe8, 0xad });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x2fc2, gbc.sp());
        EXPECT(0x6290, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03BE
        gbc.setState(0xa4b6, 0xd170, 0xec80, 0x598d, 0xf6de, 0xe459, 0x0, 0x1);
        gbc.writeMem(0xa4b6, { 0xe8, 0xf4 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xd164, gbc.sp());
        EXPECT(0xa4b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa4b6));
        EXPECT(0xf4, gbc.readMem(0xa4b7));
        // E8 03BF
        gbc.setState(0x359, 0x4db4, 0xdd80, 0x58a0, 0xf8b1, 0xb2de, 0x0, 0x1);
        gbc.writeMem(0x359, { 0xe8, 0xdd });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x4d91, gbc.sp());
        EXPECT(0x35b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03C0
        gbc.setState(0xb4d5, 0xc73e, 0xcb00, 0x9993, 0xf0dc, 0x8db2, 0x0, 0x0);
        gbc.writeMem(0xb4d5, { 0xe8, 0x6e });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xc7ac, gbc.sp());
        EXPECT(0xb4d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb4d5));
        EXPECT(0x6e, gbc.readMem(0xb4d6));
        // E8 03C1
        gbc.setState(0xc79d, 0x5e3, 0x2100, 0x77d8, 0x5b63, 0x7083, 0x0, 0x1);
        gbc.writeMem(0xc79d, { 0xe8, 0x16 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x5f9, gbc.sp());
        EXPECT(0xc79f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc79d));
        EXPECT(0x16, gbc.readMem(0xc79e));
        // E8 03C2
        gbc.setState(0xbc92, 0x32ab, 0x5ae0, 0x18dd, 0xb36d, 0xd0f4, 0x1, 0x0);
        gbc.writeMem(0xbc92, { 0xe8, 0x6d });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x3318, gbc.sp());
        EXPECT(0xbc94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xbc92));
        EXPECT(0x6d, gbc.readMem(0xbc93));
        // E8 03C3
        gbc.setState(0xd607, 0xd06c, 0x98c0, 0x503a, 0x11e5, 0x800c, 0x0, 0x0);
        gbc.writeMem(0xd607, { 0xe8, 0x8 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xd074, gbc.sp());
        EXPECT(0xd609, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xd607));
        EXPECT(0x8, gbc.readMem(0xd608));
        // E8 03C4
        gbc.setState(0x1a01, 0x10ec, 0x8190, 0x3e29, 0xa46b, 0xac09, 0x1, 0x0);
        gbc.writeMem(0x1a01, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x10e6, gbc.sp());
        EXPECT(0x1a03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03C5
        gbc.setState(0x3fb5, 0x8e9, 0x1ae0, 0x95a2, 0xf361, 0xed0a, 0x1, 0x1);
        gbc.writeMem(0x3fb5, { 0xe8, 0x8f });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x878, gbc.sp());
        EXPECT(0x3fb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03C6
        gbc.setState(0xa650, 0x76c2, 0x44f0, 0xd8e0, 0xddb4, 0xa0ec, 0x1, 0x0);
        gbc.writeMem(0xa650, { 0xe8, 0x0 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x76c2, gbc.sp());
        EXPECT(0xa652, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa650));
        EXPECT(0x0, gbc.readMem(0xa651));
        // E8 03C9
        gbc.setState(0x4b8b, 0xb77d, 0x53e0, 0x2ea4, 0xb014, 0xcaf4, 0x1, 0x1);
        gbc.writeMem(0x4b8b, { 0xe8, 0x8d });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xb70a, gbc.sp());
        EXPECT(0x4b8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03CA
        gbc.setState(0xe6c5, 0x8548, 0xae00, 0x616f, 0x3971, 0x6775, 0x1, 0x1);
        gbc.writeMem(0xe6c5, { 0xe8, 0x5 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x854d, gbc.sp());
        EXPECT(0xe6c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xe6c5));
        EXPECT(0x5, gbc.readMem(0xe6c6));
        // E8 03CB
        gbc.setState(0xaed8, 0xb09e, 0xe820, 0xffff, 0x8a80, 0x4b63, 0x0, 0x0);
        gbc.writeMem(0xaed8, { 0xe8, 0x4e });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xb0ec, gbc.sp());
        EXPECT(0xaeda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xaed8));
        EXPECT(0x4e, gbc.readMem(0xaed9));
        // E8 03CC
        gbc.setState(0x24c3, 0xdb13, 0x620, 0xc145, 0x51d7, 0x7fad, 0x1, 0x0);
        gbc.writeMem(0x24c3, { 0xe8, 0xd4 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xdae7, gbc.sp());
        EXPECT(0x24c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03CD
        gbc.setState(0x1d8b, 0xb0c, 0xff50, 0xfe46, 0x39f0, 0xf68d, 0x0, 0x0);
        gbc.writeMem(0x1d8b, { 0xe8, 0x1f });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xb2b, gbc.sp());
        EXPECT(0x1d8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03CE
        gbc.setState(0x9dfd, 0x5f19, 0x3cc0, 0x1dd7, 0x623c, 0xcd7d, 0x0, 0x0);
        gbc.writeMem(0x9dfd, { 0xe8, 0x95 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x5eae, gbc.sp());
        EXPECT(0x9dff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9dfd));
        EXPECT(0x95, gbc.readMem(0x9dfe));
        // E8 03CF
        gbc.setState(0x3019, 0x382b, 0xeaa0, 0xcb4a, 0x1559, 0xe5b0, 0x1, 0x0);
        gbc.writeMem(0x3019, { 0xe8, 0x53 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x387e, gbc.sp());
        EXPECT(0x301b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03D0
        gbc.setState(0xba08, 0x960, 0x5550, 0x7bce, 0xaf9e, 0xba9c, 0x1, 0x0);
        gbc.writeMem(0xba08, { 0xe8, 0x15 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x975, gbc.sp());
        EXPECT(0xba0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xba08));
        EXPECT(0x15, gbc.readMem(0xba09));
        // E8 03D1
        gbc.setState(0xa2ce, 0x2ffd, 0x11c0, 0xd66, 0xbffd, 0x1287, 0x1, 0x1);
        gbc.writeMem(0xa2ce, { 0xe8, 0xd0 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x2fcd, gbc.sp());
        EXPECT(0xa2d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa2ce));
        EXPECT(0xd0, gbc.readMem(0xa2cf));
        // E8 03D2
        gbc.setState(0xfba, 0xb111, 0xf780, 0x9023, 0x4b59, 0xf8dd, 0x1, 0x1);
        gbc.writeMem(0xfba, { 0xe8, 0x7b });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xb18c, gbc.sp());
        EXPECT(0xfbc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03D3
        gbc.setState(0x5255, 0xc949, 0x3be0, 0x8e77, 0xfa4e, 0xb47e, 0x1, 0x1);
        gbc.writeMem(0x5255, { 0xe8, 0xc });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xc955, gbc.sp());
        EXPECT(0x5257, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03D4
        gbc.setState(0x9029, 0x3721, 0xfc80, 0x2243, 0xebc8, 0xb14, 0x0, 0x1);
        gbc.writeMem(0x9029, { 0xe8, 0x8a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x36ab, gbc.sp());
        EXPECT(0x902b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9029));
        EXPECT(0x8a, gbc.readMem(0x902a));
        // E8 03D5
        gbc.setState(0x9e18, 0x94fc, 0xcd70, 0xc8d6, 0x20ce, 0x95b1, 0x0, 0x0);
        gbc.writeMem(0x9e18, { 0xe8, 0x34 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x9530, gbc.sp());
        EXPECT(0x9e1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9e18));
        EXPECT(0x34, gbc.readMem(0x9e19));
        // E8 03D6
        gbc.setState(0x2cf, 0x6839, 0xdf0, 0x8c88, 0xbb8a, 0x70f3, 0x0, 0x0);
        gbc.writeMem(0x2cf, { 0xe8, 0x9e });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x67d7, gbc.sp());
        EXPECT(0x2d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03D7
        gbc.setState(0x2e9, 0x3f55, 0xacd0, 0xd2d1, 0x271c, 0xff28, 0x1, 0x0);
        gbc.writeMem(0x2e9, { 0xe8, 0xf5 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x3f4a, gbc.sp());
        EXPECT(0x2eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03D8
        gbc.setState(0xb241, 0x2fef, 0xc090, 0xa07d, 0xe5e2, 0xec9, 0x1, 0x0);
        gbc.writeMem(0xb241, { 0xe8, 0x63 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x3052, gbc.sp());
        EXPECT(0xb243, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb241));
        EXPECT(0x63, gbc.readMem(0xb242));
        // E8 03D9
        gbc.setState(0x8962, 0xf620, 0x3820, 0x36ea, 0xfb34, 0x785b, 0x0, 0x1);
        gbc.writeMem(0x8962, { 0xe8, 0x9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xf629, gbc.sp());
        EXPECT(0x8964, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x8962));
        EXPECT(0x9, gbc.readMem(0x8963));
        // E8 03DA
        gbc.setState(0x7e90, 0xef55, 0xabb0, 0x82ed, 0xf437, 0xb3ea, 0x0, 0x1);
        gbc.writeMem(0x7e90, { 0xe8, 0x65 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xefba, gbc.sp());
        EXPECT(0x7e92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03DB
        gbc.setState(0x346f, 0xd203, 0x6180, 0xf82e, 0xb934, 0x4c54, 0x1, 0x1);
        gbc.writeMem(0x346f, { 0xe8, 0xa1 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xd1a4, gbc.sp());
        EXPECT(0x3471, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03DC
        gbc.setState(0x38ab, 0xc884, 0x99e0, 0xdb06, 0xfc0, 0x9dc0, 0x1, 0x0);
        gbc.writeMem(0x38ab, { 0xe8, 0x2b });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xc8af, gbc.sp());
        EXPECT(0x38ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03DD
        gbc.setState(0x4bd4, 0x2179, 0xa990, 0x61d8, 0x5082, 0x6d8c, 0x1, 0x1);
        gbc.writeMem(0x4bd4, { 0xe8, 0x3e });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x21b7, gbc.sp());
        EXPECT(0x4bd6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03DE
        gbc.setState(0x9d15, 0x9e6f, 0xabe0, 0x65f3, 0x6302, 0xfd36, 0x1, 0x1);
        gbc.writeMem(0x9d15, { 0xe8, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x9ec3, gbc.sp());
        EXPECT(0x9d17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x9d15));
        EXPECT(0x54, gbc.readMem(0x9d16));
        // E8 03DF
        gbc.setState(0xacde, 0x90a4, 0xa650, 0x567c, 0x7939, 0xcb2d, 0x1, 0x0);
        gbc.writeMem(0xacde, { 0xe8, 0xc3 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x9067, gbc.sp());
        EXPECT(0xace0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xacde));
        EXPECT(0xc3, gbc.readMem(0xacdf));
        // E8 03E0
        gbc.setState(0xa465, 0x3104, 0x2d60, 0xcaaf, 0x6f0b, 0xc15e, 0x0, 0x0);
        gbc.writeMem(0xa465, { 0xe8, 0xe });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x3112, gbc.sp());
        EXPECT(0xa467, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa465));
        EXPECT(0xe, gbc.readMem(0xa466));
        // E8 03E1
        gbc.setState(0xb625, 0xdb5b, 0xccf0, 0x1eff, 0x43ec, 0x48cc, 0x1, 0x1);
        gbc.writeMem(0xb625, { 0xe8, 0x49 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xdba4, gbc.sp());
        EXPECT(0xb627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb625));
        EXPECT(0x49, gbc.readMem(0xb626));
        // E8 03E2
        gbc.setState(0xae11, 0x2c55, 0xc020, 0x3fe3, 0xae96, 0xb8a8, 0x1, 0x1);
        gbc.writeMem(0xae11, { 0xe8, 0xa3 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x2bf8, gbc.sp());
        EXPECT(0xae13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xae11));
        EXPECT(0xa3, gbc.readMem(0xae12));
        // E8 03E3
        gbc.setState(0x7dde, 0x181c, 0x7160, 0x5ebf, 0xe03e, 0x7601, 0x0, 0x0);
        gbc.writeMem(0x7dde, { 0xe8, 0x39 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x1855, gbc.sp());
        EXPECT(0x7de0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03E4
        gbc.setState(0xa1a3, 0x97b, 0x7ac0, 0x8bc3, 0xdb3e, 0x9519, 0x1, 0x0);
        gbc.writeMem(0xa1a3, { 0xe8, 0xfa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x975, gbc.sp());
        EXPECT(0xa1a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xa1a3));
        EXPECT(0xfa, gbc.readMem(0xa1a4));
        // E8 03E5
        gbc.setState(0x3a29, 0x8ace, 0x7720, 0xf094, 0xccee, 0xd69c, 0x1, 0x0);
        gbc.writeMem(0x3a29, { 0xe8, 0xb3 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x8a81, gbc.sp());
        EXPECT(0x3a2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // E8 03E6
        gbc.setState(0x5f18, 0xbbcb, 0xc6f0, 0x5f9a, 0xe09a, 0x30a3, 0x1, 0x1);
        gbc.writeMem(0x5f18, { 0xe8, 0x2c });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xbbf7, gbc.sp());
        EXPECT(0x5f1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // E8 03E7
        gbc.setState(0x4d9c, 0x7d4c, 0x4e30, 0x5b57, 0x7d1b, 0x91fb, 0x1, 0x1);
        gbc.writeMem(0x4d9c, { 0xe8, 0x39 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x7d85, gbc.sp());
        EXPECT(0x4d9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
