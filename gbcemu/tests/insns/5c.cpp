#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_5c)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_5c) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 5C 0000
        gbc.setState(0x1626, 0xeb99, 0xb6c0, 0x18d6, 0xa027, 0xfd4b, 0x1, 0x0);
        gbc.writeMem(0x1626, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xeb99);
        EXPECT(gbc.pc(), 0x1627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0001
        gbc.setState(0xa527, 0x686d, 0xf090, 0xd637, 0x3519, 0x437, 0x1, 0x1);
        gbc.writeMem(0xa527, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x686d);
        EXPECT(gbc.pc(), 0xa528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa527), 0x5c);
        // 5C 0002
        gbc.setState(0x8d54, 0x659f, 0xe3c0, 0x45d9, 0x1f5d, 0xfe19, 0x1, 0x0);
        gbc.writeMem(0x8d54, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x659f);
        EXPECT(gbc.pc(), 0x8d55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d54), 0x5c);
        // 5C 0003
        gbc.setState(0xa91a, 0x4296, 0xbb40, 0x9963, 0xda19, 0xc53c, 0x0, 0x1);
        gbc.writeMem(0xa91a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4296);
        EXPECT(gbc.pc(), 0xa91b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa91a), 0x5c);
        // 5C 0004
        gbc.setState(0x1d7c, 0x91ae, 0xd150, 0xbaa6, 0x9a49, 0xc871, 0x1, 0x1);
        gbc.writeMem(0x1d7c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x91ae);
        EXPECT(gbc.pc(), 0x1d7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0005
        gbc.setState(0x37b0, 0x1ef2, 0x7430, 0x9957, 0x3e6e, 0x8d7b, 0x1, 0x1);
        gbc.writeMem(0x37b0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1ef2);
        EXPECT(gbc.pc(), 0x37b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0006
        gbc.setState(0x6bfe, 0x524e, 0xcf70, 0xbc97, 0x813a, 0xb4fa, 0x1, 0x0);
        gbc.writeMem(0x6bfe, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x524e);
        EXPECT(gbc.pc(), 0x6bff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0007
        gbc.setState(0x9b23, 0xbed, 0xcf30, 0x22db, 0x6f21, 0x5d97, 0x0, 0x0);
        gbc.writeMem(0x9b23, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbed);
        EXPECT(gbc.pc(), 0x9b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b23), 0x5c);
        // 5C 0008
        gbc.setState(0xc1db, 0xe8ee, 0x4670, 0x9142, 0xae9f, 0xdbfa, 0x0, 0x1);
        gbc.writeMem(0xc1db, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe8ee);
        EXPECT(gbc.pc(), 0xc1dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1db), 0x5c);
        // 5C 0009
        gbc.setState(0xe3b4, 0xd158, 0xbb20, 0xd8b4, 0x69d2, 0x273c, 0x0, 0x0);
        gbc.writeMem(0xe3b4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd158);
        EXPECT(gbc.pc(), 0xe3b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b4), 0x5c);
        // 5C 000A
        gbc.setState(0x2ce7, 0xf59e, 0x9f60, 0xccb3, 0x4f85, 0xbb47, 0x1, 0x0);
        gbc.writeMem(0x2ce7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf59e);
        EXPECT(gbc.pc(), 0x2ce8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 000B
        gbc.setState(0xb663, 0x6026, 0x7210, 0xd647, 0x3f80, 0x4e01, 0x1, 0x1);
        gbc.writeMem(0xb663, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6026);
        EXPECT(gbc.pc(), 0xb664);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb663), 0x5c);
        // 5C 000C
        gbc.setState(0xc11c, 0xe818, 0xb4f0, 0x5166, 0x65d0, 0x6962, 0x1, 0x1);
        gbc.writeMem(0xc11c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xe818);
        EXPECT(gbc.pc(), 0xc11d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc11c), 0x5c);
        // 5C 000D
        gbc.setState(0x1bb9, 0xec0, 0x71d0, 0x8457, 0x85d, 0xf3b7, 0x0, 0x1);
        gbc.writeMem(0x1bb9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xec0);
        EXPECT(gbc.pc(), 0x1bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 000E
        gbc.setState(0x4a0f, 0xd6, 0xdf70, 0x4a2d, 0x7125, 0x8a28, 0x0, 0x0);
        gbc.writeMem(0x4a0f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd6);
        EXPECT(gbc.pc(), 0x4a10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 000F
        gbc.setState(0xac94, 0x7b9a, 0x18d0, 0xa41e, 0xa7d7, 0xb447, 0x0, 0x0);
        gbc.writeMem(0xac94, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x7b9a);
        EXPECT(gbc.pc(), 0xac95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac94), 0x5c);
        // 5C 0010
        gbc.setState(0xad0, 0x17e1, 0x46f0, 0x31d5, 0x57b5, 0xf637, 0x0, 0x1);
        gbc.writeMem(0xad0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x17e1);
        EXPECT(gbc.pc(), 0xad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0011
        gbc.setState(0x5a0b, 0xf806, 0x4d60, 0x3776, 0x97e3, 0x4885, 0x1, 0x0);
        gbc.writeMem(0x5a0b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf806);
        EXPECT(gbc.pc(), 0x5a0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0012
        gbc.setState(0xb826, 0x1d58, 0x9060, 0x2d9, 0x8838, 0x47fc, 0x1, 0x0);
        gbc.writeMem(0xb826, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1d58);
        EXPECT(gbc.pc(), 0xb827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb826), 0x5c);
        // 5C 0013
        gbc.setState(0x2953, 0xbeab, 0xcbb0, 0x90e3, 0xdb38, 0xc628, 0x0, 0x1);
        gbc.writeMem(0x2953, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbeab);
        EXPECT(gbc.pc(), 0x2954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0014
        gbc.setState(0xcd19, 0x78d4, 0x1990, 0xa02e, 0xaede, 0x23f7, 0x1, 0x0);
        gbc.writeMem(0xcd19, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x78d4);
        EXPECT(gbc.pc(), 0xcd1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd19), 0x5c);
        // 5C 0015
        gbc.setState(0x9c85, 0xeb20, 0x6860, 0x705, 0xcc6b, 0x34dc, 0x0, 0x0);
        gbc.writeMem(0x9c85, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xeb20);
        EXPECT(gbc.pc(), 0x9c86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c85), 0x5c);
        // 5C 0017
        gbc.setState(0x80a9, 0x76d6, 0x520, 0x26e0, 0x5e6, 0x541e, 0x0, 0x1);
        gbc.writeMem(0x80a9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x76d6);
        EXPECT(gbc.pc(), 0x80aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80a9), 0x5c);
        // 5C 0018
        gbc.setState(0x10e8, 0x918f, 0x63a0, 0xaeb5, 0xcf0b, 0x1956, 0x1, 0x0);
        gbc.writeMem(0x10e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x918f);
        EXPECT(gbc.pc(), 0x10e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0019
        gbc.setState(0x2b5d, 0xb100, 0x8d50, 0x5d62, 0x30ad, 0x31f1, 0x1, 0x0);
        gbc.writeMem(0x2b5d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb100);
        EXPECT(gbc.pc(), 0x2b5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 001A
        gbc.setState(0x3754, 0xf3de, 0x5660, 0x48ec, 0x1292, 0x9793, 0x1, 0x1);
        gbc.writeMem(0x3754, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf3de);
        EXPECT(gbc.pc(), 0x3755);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 001B
        gbc.setState(0x7266, 0x4145, 0xd430, 0x49a7, 0x27a4, 0xc38f, 0x1, 0x1);
        gbc.writeMem(0x7266, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4145);
        EXPECT(gbc.pc(), 0x7267);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 001C
        gbc.setState(0xdfad, 0xfc0a, 0x4720, 0x5fb7, 0xb761, 0x7ae, 0x1, 0x1);
        gbc.writeMem(0xdfad, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xfc0a);
        EXPECT(gbc.pc(), 0xdfae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfad), 0x5c);
        // 5C 001D
        gbc.setState(0x9635, 0x60db, 0x6220, 0x3ea3, 0x3ec8, 0x355b, 0x0, 0x1);
        gbc.writeMem(0x9635, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x60db);
        EXPECT(gbc.pc(), 0x9636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9635), 0x5c);
        // 5C 001E
        gbc.setState(0x33bd, 0xb896, 0xa400, 0x8af8, 0xcd6a, 0xb65a, 0x0, 0x0);
        gbc.writeMem(0x33bd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb896);
        EXPECT(gbc.pc(), 0x33be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 001F
        gbc.setState(0x972d, 0x357, 0x1ef0, 0x692e, 0xb751, 0x5047, 0x1, 0x0);
        gbc.writeMem(0x972d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x357);
        EXPECT(gbc.pc(), 0x972e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x972d), 0x5c);
        // 5C 0020
        gbc.setState(0x6d31, 0x5dab, 0xfc0, 0xe24a, 0x64b3, 0x63d8, 0x1, 0x1);
        gbc.writeMem(0x6d31, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x5dab);
        EXPECT(gbc.pc(), 0x6d32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0021
        gbc.setState(0xbf0d, 0x5472, 0x4030, 0xaaee, 0x294f, 0x6533, 0x1, 0x1);
        gbc.writeMem(0xbf0d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5472);
        EXPECT(gbc.pc(), 0xbf0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf0d), 0x5c);
        // 5C 0022
        gbc.setState(0x64c, 0xa4c5, 0xebd0, 0x224f, 0x4f42, 0xc3e, 0x0, 0x0);
        gbc.writeMem(0x64c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa4c5);
        EXPECT(gbc.pc(), 0x64d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0023
        gbc.setState(0xd526, 0x3c84, 0xa450, 0xca34, 0x5fe8, 0xd127, 0x1, 0x1);
        gbc.writeMem(0xd526, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3c84);
        EXPECT(gbc.pc(), 0xd527);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd526), 0x5c);
        // 5C 0024
        gbc.setState(0x8518, 0x9c0, 0x21b0, 0xfb3f, 0xc20b, 0x84ce, 0x1, 0x1);
        gbc.writeMem(0x8518, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9c0);
        EXPECT(gbc.pc(), 0x8519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8518), 0x5c);
        // 5C 0027
        gbc.setState(0x3d07, 0x96af, 0xc1e0, 0xe90e, 0x9703, 0xf862, 0x0, 0x0);
        gbc.writeMem(0x3d07, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x96af);
        EXPECT(gbc.pc(), 0x3d08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0028
        gbc.setState(0x2431, 0xd588, 0x16d0, 0xbfa3, 0x8480, 0x298d, 0x0, 0x0);
        gbc.writeMem(0x2431, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd588);
        EXPECT(gbc.pc(), 0x2432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0029
        gbc.setState(0xca7c, 0xa9a4, 0x6da0, 0xe671, 0x8b5f, 0xf2a2, 0x1, 0x0);
        gbc.writeMem(0xca7c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xa9a4);
        EXPECT(gbc.pc(), 0xca7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca7c), 0x5c);
        // 5C 002A
        gbc.setState(0x72f7, 0xa87e, 0xf290, 0xa5e8, 0x25bd, 0x753c, 0x0, 0x0);
        gbc.writeMem(0x72f7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa87e);
        EXPECT(gbc.pc(), 0x72f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 002B
        gbc.setState(0x44f4, 0xec12, 0xa6b0, 0xa607, 0xf8b6, 0x4e87, 0x0, 0x0);
        gbc.writeMem(0x44f4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xec12);
        EXPECT(gbc.pc(), 0x44f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 002C
        gbc.setState(0x8f13, 0xdc12, 0x7af0, 0xe58, 0xb1a7, 0xde76, 0x0, 0x0);
        gbc.writeMem(0x8f13, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xdc12);
        EXPECT(gbc.pc(), 0x8f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f13), 0x5c);
        // 5C 002D
        gbc.setState(0xabe9, 0x412b, 0x5f10, 0x80bc, 0xe5d6, 0xafd7, 0x1, 0x1);
        gbc.writeMem(0xabe9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x412b);
        EXPECT(gbc.pc(), 0xabea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabe9), 0x5c);
        // 5C 002E
        gbc.setState(0xa245, 0x6eba, 0x8930, 0x3d93, 0x3109, 0xd7b3, 0x1, 0x1);
        gbc.writeMem(0xa245, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6eba);
        EXPECT(gbc.pc(), 0xa246);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa245), 0x5c);
        // 5C 002F
        gbc.setState(0xb9d1, 0x892e, 0x2a80, 0xfed1, 0x5459, 0xe771, 0x1, 0x1);
        gbc.writeMem(0xb9d1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x892e);
        EXPECT(gbc.pc(), 0xb9d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d1), 0x5c);
        // 5C 0030
        gbc.setState(0x4e90, 0x8b25, 0x4850, 0xdaad, 0xa13e, 0x598e, 0x1, 0x1);
        gbc.writeMem(0x4e90, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8b25);
        EXPECT(gbc.pc(), 0x4e91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0032
        gbc.setState(0x1e83, 0x5665, 0xce40, 0xddb, 0x1c01, 0xce34, 0x1, 0x1);
        gbc.writeMem(0x1e83, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5665);
        EXPECT(gbc.pc(), 0x1e84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0033
        gbc.setState(0x9380, 0x7d9f, 0x9000, 0x6e29, 0x6b05, 0xd2e2, 0x0, 0x1);
        gbc.writeMem(0x9380, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7d9f);
        EXPECT(gbc.pc(), 0x9381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9380), 0x5c);
        // 5C 0034
        gbc.setState(0x85de, 0x62a4, 0xb670, 0x361d, 0x1140, 0xcabd, 0x1, 0x0);
        gbc.writeMem(0x85de, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x62a4);
        EXPECT(gbc.pc(), 0x85df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85de), 0x5c);
        // 5C 0035
        gbc.setState(0xe92b, 0xf097, 0x8c20, 0xbf90, 0xe82d, 0x7322, 0x0, 0x1);
        gbc.writeMem(0xe92b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf097);
        EXPECT(gbc.pc(), 0xe92c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe92b), 0x5c);
        // 5C 0036
        gbc.setState(0x2e74, 0x50a4, 0xa2f0, 0x5b34, 0x282c, 0x63e7, 0x0, 0x0);
        gbc.writeMem(0x2e74, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x50a4);
        EXPECT(gbc.pc(), 0x2e75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0037
        gbc.setState(0x192f, 0x4f37, 0x1f0, 0x1ff6, 0xe504, 0xb0, 0x1, 0x1);
        gbc.writeMem(0x192f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4f37);
        EXPECT(gbc.pc(), 0x1930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0038
        gbc.setState(0x8619, 0x29eb, 0x6b20, 0x102d, 0x1c24, 0x6798, 0x0, 0x0);
        gbc.writeMem(0x8619, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x29eb);
        EXPECT(gbc.pc(), 0x861a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8619), 0x5c);
        // 5C 0039
        gbc.setState(0xd795, 0x6b85, 0xbd80, 0x92c, 0x558a, 0xba9e, 0x1, 0x1);
        gbc.writeMem(0xd795, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6b85);
        EXPECT(gbc.pc(), 0xd796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd795), 0x5c);
        // 5C 003A
        gbc.setState(0x5a5d, 0xc9e3, 0xb270, 0xa089, 0x25f8, 0xf0f6, 0x0, 0x1);
        gbc.writeMem(0x5a5d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc9e3);
        EXPECT(gbc.pc(), 0x5a5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 003B
        gbc.setState(0x26f6, 0xe2c6, 0x6ef0, 0xda07, 0x5e11, 0x5c78, 0x1, 0x0);
        gbc.writeMem(0x26f6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe2c6);
        EXPECT(gbc.pc(), 0x26f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 003C
        gbc.setState(0x8a3, 0x909f, 0x5110, 0x6d31, 0x9b14, 0xc786, 0x1, 0x1);
        gbc.writeMem(0x8a3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x909f);
        EXPECT(gbc.pc(), 0x8a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 003D
        gbc.setState(0xa8ff, 0x633c, 0x1f70, 0x102f, 0xa3d3, 0xa8d2, 0x1, 0x1);
        gbc.writeMem(0xa8ff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x633c);
        EXPECT(gbc.pc(), 0xa900);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ff), 0x5c);
        // 5C 003E
        gbc.setState(0x8af7, 0x2646, 0xdb30, 0xe815, 0xdaee, 0x83ed, 0x1, 0x1);
        gbc.writeMem(0x8af7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2646);
        EXPECT(gbc.pc(), 0x8af8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8af7), 0x5c);
        // 5C 003F
        gbc.setState(0x15b5, 0x6676, 0x9a00, 0x8379, 0x7598, 0xd55d, 0x0, 0x1);
        gbc.writeMem(0x15b5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6676);
        EXPECT(gbc.pc(), 0x15b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0040
        gbc.setState(0x24d2, 0x8729, 0x13f0, 0x1baa, 0x2b7a, 0xbd2b, 0x1, 0x1);
        gbc.writeMem(0x24d2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8729);
        EXPECT(gbc.pc(), 0x24d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0042
        gbc.setState(0xc3a, 0xe979, 0x1390, 0x6bf7, 0x3caf, 0x59b4, 0x0, 0x0);
        gbc.writeMem(0xc3a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe979);
        EXPECT(gbc.pc(), 0xc3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0043
        gbc.setState(0xeb13, 0x3161, 0x5fa0, 0xda63, 0x9f76, 0x96ea, 0x1, 0x1);
        gbc.writeMem(0xeb13, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3161);
        EXPECT(gbc.pc(), 0xeb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb13), 0x5c);
        // 5C 0044
        gbc.setState(0x676c, 0x336, 0x5210, 0x8a65, 0xe14c, 0xbb8, 0x0, 0x0);
        gbc.writeMem(0x676c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x336);
        EXPECT(gbc.pc(), 0x676d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0045
        gbc.setState(0x32e, 0x4464, 0xead0, 0xef19, 0xb8db, 0xab25, 0x1, 0x0);
        gbc.writeMem(0x32e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4464);
        EXPECT(gbc.pc(), 0x32f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0046
        gbc.setState(0xc3e5, 0xb0b3, 0xc1b0, 0x938f, 0xbd71, 0xce02, 0x1, 0x1);
        gbc.writeMem(0xc3e5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb0b3);
        EXPECT(gbc.pc(), 0xc3e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3e5), 0x5c);
        // 5C 0047
        gbc.setState(0x7254, 0x366c, 0x9ff0, 0xc152, 0xb2d3, 0x9e7, 0x0, 0x0);
        gbc.writeMem(0x7254, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x366c);
        EXPECT(gbc.pc(), 0x7255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0048
        gbc.setState(0x3fb3, 0xe298, 0x80f0, 0x161a, 0x829a, 0x8b7c, 0x0, 0x1);
        gbc.writeMem(0x3fb3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe298);
        EXPECT(gbc.pc(), 0x3fb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0049
        gbc.setState(0xe056, 0xa372, 0xf3a0, 0xcf27, 0xa87d, 0xb9e0, 0x0, 0x0);
        gbc.writeMem(0xe056, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa372);
        EXPECT(gbc.pc(), 0xe057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe056), 0x5c);
        // 5C 004A
        gbc.setState(0x96ff, 0x5bf8, 0x82e0, 0x6f38, 0x4367, 0xe048, 0x0, 0x1);
        gbc.writeMem(0x96ff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5bf8);
        EXPECT(gbc.pc(), 0x9700);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ff), 0x5c);
        // 5C 004B
        gbc.setState(0x2471, 0xb510, 0x9630, 0xd8af, 0x1b2b, 0x7e0f, 0x0, 0x0);
        gbc.writeMem(0x2471, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xb510);
        EXPECT(gbc.pc(), 0x2472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 004C
        gbc.setState(0xe5ba, 0xdca8, 0xa660, 0x1494, 0x1fc2, 0x22fc, 0x0, 0x1);
        gbc.writeMem(0xe5ba, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xdca8);
        EXPECT(gbc.pc(), 0xe5bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ba), 0x5c);
        // 5C 004D
        gbc.setState(0x73ac, 0xf46f, 0xac90, 0xa235, 0x1f4b, 0xf98a, 0x1, 0x0);
        gbc.writeMem(0x73ac, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xf46f);
        EXPECT(gbc.pc(), 0x73ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 004F
        gbc.setState(0x8fcd, 0x5bb1, 0xe530, 0x38be, 0x4215, 0xf532, 0x1, 0x1);
        gbc.writeMem(0x8fcd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5bb1);
        EXPECT(gbc.pc(), 0x8fce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fcd), 0x5c);
        // 5C 0050
        gbc.setState(0x91e6, 0x302c, 0xe090, 0x136d, 0xdb42, 0x46d2, 0x0, 0x1);
        gbc.writeMem(0x91e6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x302c);
        EXPECT(gbc.pc(), 0x91e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91e6), 0x5c);
        // 5C 0051
        gbc.setState(0x7c93, 0x4b84, 0x39e0, 0x4324, 0xece5, 0x9ba4, 0x1, 0x0);
        gbc.writeMem(0x7c93, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4b84);
        EXPECT(gbc.pc(), 0x7c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0052
        gbc.setState(0xdf23, 0x8532, 0x2740, 0x8857, 0xd587, 0x4fcf, 0x1, 0x0);
        gbc.writeMem(0xdf23, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x8532);
        EXPECT(gbc.pc(), 0xdf24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf23), 0x5c);
        // 5C 0053
        gbc.setState(0x3175, 0x143a, 0x85e0, 0xdab3, 0x9757, 0x9175, 0x0, 0x1);
        gbc.writeMem(0x3175, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x143a);
        EXPECT(gbc.pc(), 0x3176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0054
        gbc.setState(0x7feb, 0x653f, 0xfea0, 0xd517, 0x2b79, 0x6ce8, 0x1, 0x0);
        gbc.writeMem(0x7feb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x653f);
        EXPECT(gbc.pc(), 0x7fec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0055
        gbc.setState(0xdafd, 0x4498, 0x2540, 0x3fb3, 0xcb13, 0xdf42, 0x1, 0x0);
        gbc.writeMem(0xdafd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x4498);
        EXPECT(gbc.pc(), 0xdafe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafd), 0x5c);
        // 5C 0056
        gbc.setState(0x9b5f, 0x5d55, 0x3190, 0x525e, 0x8e38, 0x28a8, 0x1, 0x1);
        gbc.writeMem(0x9b5f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x5d55);
        EXPECT(gbc.pc(), 0x9b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b5f), 0x5c);
        // 5C 0057
        gbc.setState(0x522c, 0x74fc, 0xdbb0, 0xbcb1, 0x71a0, 0xd3d9, 0x1, 0x1);
        gbc.writeMem(0x522c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x74fc);
        EXPECT(gbc.pc(), 0x522d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0058
        gbc.setState(0x49c1, 0x6490, 0x2900, 0xd90b, 0x506b, 0xf4e8, 0x1, 0x0);
        gbc.writeMem(0x49c1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6490);
        EXPECT(gbc.pc(), 0x49c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0059
        gbc.setState(0x7df1, 0xc06b, 0xe220, 0xe17d, 0x67b8, 0xa0ad, 0x1, 0x1);
        gbc.writeMem(0x7df1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc06b);
        EXPECT(gbc.pc(), 0x7df2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 005A
        gbc.setState(0x982e, 0xc09a, 0x9c70, 0x6659, 0x91bb, 0x2f5c, 0x1, 0x1);
        gbc.writeMem(0x982e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc09a);
        EXPECT(gbc.pc(), 0x982f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x982e), 0x5c);
        // 5C 005B
        gbc.setState(0x36f, 0xd867, 0xded0, 0x7861, 0x9fcf, 0x5e0b, 0x0, 0x0);
        gbc.writeMem(0x36f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xd867);
        EXPECT(gbc.pc(), 0x370);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 005C
        gbc.setState(0x392e, 0x4ef7, 0xe00, 0xb346, 0x9072, 0x378e, 0x0, 0x1);
        gbc.writeMem(0x392e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4ef7);
        EXPECT(gbc.pc(), 0x392f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 005D
        gbc.setState(0x8417, 0xdfb8, 0xb730, 0xb33e, 0x9ec8, 0xd167, 0x1, 0x1);
        gbc.writeMem(0x8417, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xdfb8);
        EXPECT(gbc.pc(), 0x8418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8417), 0x5c);
        // 5C 005E
        gbc.setState(0x2d02, 0xea52, 0xf6f0, 0xc697, 0xb2b7, 0xa82d, 0x0, 0x0);
        gbc.writeMem(0x2d02, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xea52);
        EXPECT(gbc.pc(), 0x2d03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 005F
        gbc.setState(0x5224, 0x1fe2, 0xd430, 0x895e, 0x3c41, 0xc82d, 0x1, 0x0);
        gbc.writeMem(0x5224, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1fe2);
        EXPECT(gbc.pc(), 0x5225);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0060
        gbc.setState(0x4c9c, 0x3a9e, 0xf580, 0x6ae8, 0x484a, 0x16c2, 0x1, 0x1);
        gbc.writeMem(0x4c9c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3a9e);
        EXPECT(gbc.pc(), 0x4c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0061
        gbc.setState(0xe90c, 0x2cfd, 0x9bc0, 0x94cf, 0xf561, 0xe76b, 0x1, 0x0);
        gbc.writeMem(0xe90c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2cfd);
        EXPECT(gbc.pc(), 0xe90d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe90c), 0x5c);
        // 5C 0062
        gbc.setState(0x322f, 0xcd5e, 0xe1d0, 0x8563, 0x8363, 0xfe2, 0x1, 0x0);
        gbc.writeMem(0x322f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xcd5e);
        EXPECT(gbc.pc(), 0x3230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0063
        gbc.setState(0xad95, 0x8b76, 0xbe20, 0xf96, 0xb8f0, 0xf9c5, 0x1, 0x0);
        gbc.writeMem(0xad95, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8b76);
        EXPECT(gbc.pc(), 0xad96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad95), 0x5c);
        // 5C 0064
        gbc.setState(0x10f1, 0xfb98, 0x9650, 0xe389, 0x6d57, 0xd913, 0x1, 0x0);
        gbc.writeMem(0x10f1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xfb98);
        EXPECT(gbc.pc(), 0x10f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0065
        gbc.setState(0x4a51, 0x37ca, 0x5520, 0xd02, 0x72da, 0x97b7, 0x0, 0x1);
        gbc.writeMem(0x4a51, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x37ca);
        EXPECT(gbc.pc(), 0x4a52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0067
        gbc.setState(0xa4dd, 0x496a, 0xd40, 0x4d40, 0x73b9, 0xba45, 0x0, 0x0);
        gbc.writeMem(0xa4dd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x496a);
        EXPECT(gbc.pc(), 0xa4de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4dd), 0x5c);
        // 5C 0068
        gbc.setState(0x5d5d, 0x6186, 0x5660, 0x677d, 0xc329, 0x4b46, 0x1, 0x1);
        gbc.writeMem(0x5d5d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6186);
        EXPECT(gbc.pc(), 0x5d5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0069
        gbc.setState(0xa2d7, 0x20e9, 0x9a90, 0xf659, 0xa99a, 0xcff9, 0x1, 0x0);
        gbc.writeMem(0xa2d7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x20e9);
        EXPECT(gbc.pc(), 0xa2d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2d7), 0x5c);
        // 5C 006A
        gbc.setState(0x4e0a, 0x6b1a, 0x6660, 0x8b0d, 0x7a7a, 0x7698, 0x0, 0x0);
        gbc.writeMem(0x4e0a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6b1a);
        EXPECT(gbc.pc(), 0x4e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 006B
        gbc.setState(0x6bbf, 0x24cb, 0x3fc0, 0x8a6b, 0x3960, 0x12ce, 0x1, 0x1);
        gbc.writeMem(0x6bbf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x24cb);
        EXPECT(gbc.pc(), 0x6bc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 006C
        gbc.setState(0x91a0, 0x78a2, 0x8750, 0xdb2f, 0x1b51, 0x1e32, 0x1, 0x0);
        gbc.writeMem(0x91a0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x78a2);
        EXPECT(gbc.pc(), 0x91a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91a0), 0x5c);
        // 5C 006D
        gbc.setState(0xd8f7, 0xb0c8, 0x1c00, 0xcb39, 0xbe98, 0xdfba, 0x0, 0x1);
        gbc.writeMem(0xd8f7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb0c8);
        EXPECT(gbc.pc(), 0xd8f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f7), 0x5c);
        // 5C 006E
        gbc.setState(0x4943, 0x9ff6, 0xa0f0, 0xff15, 0x4c17, 0xc96b, 0x0, 0x0);
        gbc.writeMem(0x4943, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9ff6);
        EXPECT(gbc.pc(), 0x4944);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 006F
        gbc.setState(0x6aff, 0xaf3d, 0xb310, 0x843e, 0x2687, 0x46e, 0x0, 0x0);
        gbc.writeMem(0x6aff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xaf3d);
        EXPECT(gbc.pc(), 0x6b00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0070
        gbc.setState(0x20c6, 0x165, 0x3060, 0xb9f4, 0x874d, 0x9437, 0x0, 0x1);
        gbc.writeMem(0x20c6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x165);
        EXPECT(gbc.pc(), 0x20c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0071
        gbc.setState(0xe35e, 0x3ccb, 0x52b0, 0x230e, 0x8c39, 0x5f0c, 0x1, 0x0);
        gbc.writeMem(0xe35e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3ccb);
        EXPECT(gbc.pc(), 0xe35f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe35e), 0x5c);
        // 5C 0072
        gbc.setState(0x24ec, 0xb14b, 0x6f10, 0x601c, 0x80c, 0x32a5, 0x0, 0x1);
        gbc.writeMem(0x24ec, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb14b);
        EXPECT(gbc.pc(), 0x24ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0073
        gbc.setState(0xd24b, 0xaffd, 0xf2a0, 0xf660, 0xc441, 0xf57b, 0x1, 0x0);
        gbc.writeMem(0xd24b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xaffd);
        EXPECT(gbc.pc(), 0xd24c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd24b), 0x5c);
        // 5C 0074
        gbc.setState(0x1fc8, 0x9b14, 0x3f20, 0xb8a5, 0xf368, 0xbb01, 0x0, 0x1);
        gbc.writeMem(0x1fc8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9b14);
        EXPECT(gbc.pc(), 0x1fc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0075
        gbc.setState(0xe7c8, 0xaa5e, 0x3180, 0x21, 0x6460, 0x1114, 0x1, 0x1);
        gbc.writeMem(0xe7c8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xaa5e);
        EXPECT(gbc.pc(), 0xe7c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7c8), 0x5c);
        // 5C 0076
        gbc.setState(0x3eef, 0x5d24, 0x3310, 0xcbbf, 0x9ae0, 0xf54b, 0x1, 0x1);
        gbc.writeMem(0x3eef, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5d24);
        EXPECT(gbc.pc(), 0x3ef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0077
        gbc.setState(0x5e09, 0xdf81, 0xb810, 0xdb13, 0x5d35, 0x92d, 0x0, 0x1);
        gbc.writeMem(0x5e09, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xdf81);
        EXPECT(gbc.pc(), 0x5e0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0078
        gbc.setState(0x375e, 0x5014, 0xb960, 0xb5f3, 0x206d, 0x292f, 0x0, 0x1);
        gbc.writeMem(0x375e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5014);
        EXPECT(gbc.pc(), 0x375f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0079
        gbc.setState(0x880d, 0xdcc0, 0xe040, 0x3505, 0x2642, 0x61d3, 0x1, 0x0);
        gbc.writeMem(0x880d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xdcc0);
        EXPECT(gbc.pc(), 0x880e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x880d), 0x5c);
        // 5C 007A
        gbc.setState(0xa9d1, 0xeedf, 0x9c70, 0x8ace, 0x8c10, 0x104d, 0x1, 0x1);
        gbc.writeMem(0xa9d1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xeedf);
        EXPECT(gbc.pc(), 0xa9d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9d1), 0x5c);
        // 5C 007B
        gbc.setState(0xe9aa, 0x4ebd, 0xd440, 0x3cdd, 0x3e7d, 0x4d2f, 0x1, 0x1);
        gbc.writeMem(0xe9aa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x4ebd);
        EXPECT(gbc.pc(), 0xe9ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9aa), 0x5c);
        // 5C 007C
        gbc.setState(0x6a79, 0xa523, 0xb120, 0x1eb6, 0xd858, 0x7534, 0x1, 0x0);
        gbc.writeMem(0x6a79, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa523);
        EXPECT(gbc.pc(), 0x6a7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 007D
        gbc.setState(0x659b, 0x9b00, 0x64b0, 0x6b8e, 0x3271, 0x7a80, 0x1, 0x0);
        gbc.writeMem(0x659b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9b00);
        EXPECT(gbc.pc(), 0x659c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 007E
        gbc.setState(0x58a1, 0x871c, 0x8770, 0x338a, 0x92dd, 0x1409, 0x0, 0x0);
        gbc.writeMem(0x58a1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x871c);
        EXPECT(gbc.pc(), 0x58a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 007F
        gbc.setState(0x1268, 0xf2db, 0xf0b0, 0x95db, 0xdd5a, 0x8e03, 0x1, 0x0);
        gbc.writeMem(0x1268, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf2db);
        EXPECT(gbc.pc(), 0x1269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0080
        gbc.setState(0x8a7, 0xf199, 0xdd60, 0x67ce, 0x3f3d, 0xacca, 0x0, 0x0);
        gbc.writeMem(0x8a7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf199);
        EXPECT(gbc.pc(), 0x8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0081
        gbc.setState(0xba49, 0xd0fd, 0x6450, 0x40d4, 0x6c45, 0x7e20, 0x1, 0x1);
        gbc.writeMem(0xba49, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd0fd);
        EXPECT(gbc.pc(), 0xba4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba49), 0x5c);
        // 5C 0082
        gbc.setState(0x6e6b, 0x2773, 0x4030, 0x36dc, 0x39e1, 0x6bbf, 0x1, 0x0);
        gbc.writeMem(0x6e6b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2773);
        EXPECT(gbc.pc(), 0x6e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0083
        gbc.setState(0x723a, 0x51a, 0xa5a0, 0x2831, 0x38e9, 0xfab2, 0x1, 0x1);
        gbc.writeMem(0x723a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x51a);
        EXPECT(gbc.pc(), 0x723b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0084
        gbc.setState(0xb3e3, 0xbf47, 0xf960, 0x55f1, 0xd845, 0x747c, 0x1, 0x0);
        gbc.writeMem(0xb3e3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xbf47);
        EXPECT(gbc.pc(), 0xb3e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3e3), 0x5c);
        // 5C 0085
        gbc.setState(0x53f6, 0xee1, 0xc620, 0xee9d, 0xe466, 0x7d0f, 0x0, 0x1);
        gbc.writeMem(0x53f6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xee1);
        EXPECT(gbc.pc(), 0x53f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0086
        gbc.setState(0x9eba, 0xc9ac, 0x1b10, 0x42f3, 0xae12, 0x7075, 0x0, 0x0);
        gbc.writeMem(0x9eba, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc9ac);
        EXPECT(gbc.pc(), 0x9ebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9eba), 0x5c);
        // 5C 0087
        gbc.setState(0x2d71, 0xa0e7, 0xad40, 0x4ba8, 0x56a5, 0xb4ba, 0x0, 0x0);
        gbc.writeMem(0x2d71, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa0e7);
        EXPECT(gbc.pc(), 0x2d72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0088
        gbc.setState(0x52ed, 0x31f1, 0x70a0, 0x864a, 0xe89f, 0xccf1, 0x1, 0x1);
        gbc.writeMem(0x52ed, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x31f1);
        EXPECT(gbc.pc(), 0x52ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0089
        gbc.setState(0xa746, 0x83fe, 0x6180, 0x77db, 0x533a, 0x769e, 0x0, 0x1);
        gbc.writeMem(0xa746, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x83fe);
        EXPECT(gbc.pc(), 0xa747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa746), 0x5c);
        // 5C 008A
        gbc.setState(0x1e57, 0x767a, 0x2120, 0xaf22, 0x1c09, 0xaf4d, 0x1, 0x1);
        gbc.writeMem(0x1e57, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x767a);
        EXPECT(gbc.pc(), 0x1e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 008B
        gbc.setState(0xd8e0, 0x6114, 0x94f0, 0xc0c4, 0x58a, 0xe920, 0x1, 0x0);
        gbc.writeMem(0xd8e0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6114);
        EXPECT(gbc.pc(), 0xd8e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e0), 0x5c);
        // 5C 008C
        gbc.setState(0x7caa, 0x930e, 0x6320, 0x5b23, 0xc386, 0xc5df, 0x0, 0x1);
        gbc.writeMem(0x7caa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x930e);
        EXPECT(gbc.pc(), 0x7cab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 008D
        gbc.setState(0x7ad1, 0xdd8b, 0x8320, 0x412c, 0x9814, 0x2224, 0x1, 0x0);
        gbc.writeMem(0x7ad1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xdd8b);
        EXPECT(gbc.pc(), 0x7ad2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 008E
        gbc.setState(0xcd7b, 0x1e62, 0xbdf0, 0x561d, 0x800c, 0x35b5, 0x1, 0x1);
        gbc.writeMem(0xcd7b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1e62);
        EXPECT(gbc.pc(), 0xcd7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd7b), 0x5c);
        // 5C 008F
        gbc.setState(0x1b43, 0x2a64, 0xe500, 0xa089, 0xd27b, 0xffd7, 0x1, 0x0);
        gbc.writeMem(0x1b43, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2a64);
        EXPECT(gbc.pc(), 0x1b44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0090
        gbc.setState(0x2fc4, 0x11b7, 0xc590, 0x87cc, 0x3736, 0xe5da, 0x0, 0x0);
        gbc.writeMem(0x2fc4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x11b7);
        EXPECT(gbc.pc(), 0x2fc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0091
        gbc.setState(0x5ab1, 0xeaa, 0x2c30, 0xa9a, 0xd77, 0x3ed1, 0x0, 0x0);
        gbc.writeMem(0x5ab1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xeaa);
        EXPECT(gbc.pc(), 0x5ab2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0092
        gbc.setState(0xe20d, 0x95f9, 0x9400, 0x6cbf, 0x89db, 0xa3e1, 0x1, 0x1);
        gbc.writeMem(0xe20d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x95f9);
        EXPECT(gbc.pc(), 0xe20e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe20d), 0x5c);
        // 5C 0093
        gbc.setState(0x2245, 0xdc45, 0x230, 0xc216, 0xf644, 0xa942, 0x1, 0x0);
        gbc.writeMem(0x2245, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xdc45);
        EXPECT(gbc.pc(), 0x2246);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0094
        gbc.setState(0xc52, 0x3449, 0x3f80, 0xf2bd, 0x2e98, 0x1170, 0x0, 0x0);
        gbc.writeMem(0xc52, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3449);
        EXPECT(gbc.pc(), 0xc53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0095
        gbc.setState(0xe89e, 0x94e, 0x3de0, 0xed64, 0x1fc, 0xa81f, 0x0, 0x0);
        gbc.writeMem(0xe89e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x94e);
        EXPECT(gbc.pc(), 0xe89f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe89e), 0x5c);
        // 5C 0096
        gbc.setState(0x60d2, 0xf291, 0xe1c0, 0x48f5, 0x9bc3, 0x15dc, 0x1, 0x1);
        gbc.writeMem(0x60d2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf291);
        EXPECT(gbc.pc(), 0x60d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0098
        gbc.setState(0x892b, 0xd960, 0x5f30, 0x33c5, 0x6286, 0xc672, 0x1, 0x0);
        gbc.writeMem(0x892b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd960);
        EXPECT(gbc.pc(), 0x892c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x892b), 0x5c);
        // 5C 0099
        gbc.setState(0x481f, 0x94d3, 0x2440, 0xf490, 0x6e7d, 0xac4b, 0x0, 0x1);
        gbc.writeMem(0x481f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x94d3);
        EXPECT(gbc.pc(), 0x4820);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 009A
        gbc.setState(0x6a3f, 0x851f, 0xdd10, 0xcd94, 0xf909, 0xa4bf, 0x0, 0x1);
        gbc.writeMem(0x6a3f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x851f);
        EXPECT(gbc.pc(), 0x6a40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 009B
        gbc.setState(0x28ed, 0xf824, 0xe450, 0xa0ea, 0x9ff9, 0xc95e, 0x0, 0x0);
        gbc.writeMem(0x28ed, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf824);
        EXPECT(gbc.pc(), 0x28ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 009C
        gbc.setState(0xb475, 0xb514, 0x9330, 0xb5aa, 0x2bf0, 0x2b7b, 0x1, 0x0);
        gbc.writeMem(0xb475, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb514);
        EXPECT(gbc.pc(), 0xb476);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb475), 0x5c);
        // 5C 009D
        gbc.setState(0xc224, 0xa2db, 0x1790, 0x289b, 0x458b, 0x65a, 0x0, 0x0);
        gbc.writeMem(0xc224, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa2db);
        EXPECT(gbc.pc(), 0xc225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc224), 0x5c);
        // 5C 009E
        gbc.setState(0xbee0, 0x30a5, 0x5380, 0xcc5c, 0x7753, 0x8cc7, 0x0, 0x0);
        gbc.writeMem(0xbee0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x30a5);
        EXPECT(gbc.pc(), 0xbee1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee0), 0x5c);
        // 5C 009F
        gbc.setState(0xd89d, 0x91b5, 0x5bc0, 0xb1c2, 0xefd5, 0x2cfa, 0x1, 0x1);
        gbc.writeMem(0xd89d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x91b5);
        EXPECT(gbc.pc(), 0xd89e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd89d), 0x5c);
        // 5C 00A0
        gbc.setState(0xe532, 0x535d, 0x23b0, 0xf399, 0x7951, 0xb12c, 0x1, 0x0);
        gbc.writeMem(0xe532, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x535d);
        EXPECT(gbc.pc(), 0xe533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe532), 0x5c);
        // 5C 00A1
        gbc.setState(0xb9f7, 0x3f4a, 0xb180, 0x7bec, 0x597e, 0x8933, 0x0, 0x1);
        gbc.writeMem(0xb9f7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3f4a);
        EXPECT(gbc.pc(), 0xb9f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9f7), 0x5c);
        // 5C 00A2
        gbc.setState(0x1df4, 0x49b0, 0x9390, 0xf8b9, 0xcba1, 0x8c1f, 0x1, 0x1);
        gbc.writeMem(0x1df4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x49b0);
        EXPECT(gbc.pc(), 0x1df5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00A3
        gbc.setState(0x40ff, 0xb13d, 0x84c0, 0x491, 0x7c8, 0xc412, 0x1, 0x0);
        gbc.writeMem(0x40ff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb13d);
        EXPECT(gbc.pc(), 0x4100);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00A4
        gbc.setState(0xb899, 0xb4b1, 0x5080, 0x2c09, 0x1e7d, 0x325d, 0x1, 0x0);
        gbc.writeMem(0xb899, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb4b1);
        EXPECT(gbc.pc(), 0xb89a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb899), 0x5c);
        // 5C 00A5
        gbc.setState(0x9746, 0x685b, 0xf050, 0x382d, 0x651c, 0xe5f2, 0x0, 0x0);
        gbc.writeMem(0x9746, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x685b);
        EXPECT(gbc.pc(), 0x9747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9746), 0x5c);
        // 5C 00A6
        gbc.setState(0xb612, 0xa3bc, 0x90f0, 0xd60b, 0x1d8c, 0xe1aa, 0x1, 0x0);
        gbc.writeMem(0xb612, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa3bc);
        EXPECT(gbc.pc(), 0xb613);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb612), 0x5c);
        // 5C 00A7
        gbc.setState(0x8602, 0xe9c5, 0x3b50, 0x1c46, 0x893, 0x5daf, 0x1, 0x1);
        gbc.writeMem(0x8602, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe9c5);
        EXPECT(gbc.pc(), 0x8603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8602), 0x5c);
        // 5C 00A8
        gbc.setState(0x9ddf, 0xcce1, 0x2010, 0x80b5, 0x135d, 0x977d, 0x1, 0x1);
        gbc.writeMem(0x9ddf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xcce1);
        EXPECT(gbc.pc(), 0x9de0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ddf), 0x5c);
        // 5C 00A9
        gbc.setState(0x4ac9, 0x4070, 0x89c0, 0x97f9, 0x9f5b, 0x58c1, 0x1, 0x0);
        gbc.writeMem(0x4ac9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4070);
        EXPECT(gbc.pc(), 0x4aca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00AA
        gbc.setState(0xded6, 0xddbc, 0x8690, 0x3aa, 0x4f02, 0x9969, 0x1, 0x1);
        gbc.writeMem(0xded6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xddbc);
        EXPECT(gbc.pc(), 0xded7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xded6), 0x5c);
        // 5C 00AB
        gbc.setState(0xba79, 0x9d0b, 0x4090, 0x2e2a, 0xe766, 0x2fcf, 0x0, 0x0);
        gbc.writeMem(0xba79, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9d0b);
        EXPECT(gbc.pc(), 0xba7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba79), 0x5c);
        // 5C 00AC
        gbc.setState(0x6372, 0xf2b2, 0x6690, 0xd62f, 0x7346, 0x233f, 0x1, 0x0);
        gbc.writeMem(0x6372, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xf2b2);
        EXPECT(gbc.pc(), 0x6373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00AD
        gbc.setState(0x92c8, 0x37af, 0x3a60, 0xd6d7, 0xb5e, 0x6827, 0x1, 0x0);
        gbc.writeMem(0x92c8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x37af);
        EXPECT(gbc.pc(), 0x92c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92c8), 0x5c);
        // 5C 00AE
        gbc.setState(0x64e4, 0x8380, 0xfff0, 0xa44f, 0xdb03, 0x503b, 0x0, 0x1);
        gbc.writeMem(0x64e4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8380);
        EXPECT(gbc.pc(), 0x64e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00AF
        gbc.setState(0x5219, 0x99a9, 0x11e0, 0x61e1, 0x6790, 0xda73, 0x0, 0x1);
        gbc.writeMem(0x5219, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x99a9);
        EXPECT(gbc.pc(), 0x521a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00B0
        gbc.setState(0x3592, 0xedc5, 0xcb20, 0x2058, 0x41ad, 0x3e63, 0x0, 0x0);
        gbc.writeMem(0x3592, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xedc5);
        EXPECT(gbc.pc(), 0x3593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00B1
        gbc.setState(0x64c, 0x295a, 0x5620, 0x6db5, 0xd65, 0xa63f, 0x1, 0x1);
        gbc.writeMem(0x64c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x295a);
        EXPECT(gbc.pc(), 0x64d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00B2
        gbc.setState(0xcc7d, 0xde93, 0xd50, 0xc3fc, 0x1abc, 0xf8fb, 0x1, 0x0);
        gbc.writeMem(0xcc7d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xde93);
        EXPECT(gbc.pc(), 0xcc7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc7d), 0x5c);
        // 5C 00B3
        gbc.setState(0xc836, 0x87b1, 0x4980, 0xb4a6, 0x46a8, 0xc04f, 0x1, 0x1);
        gbc.writeMem(0xc836, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x87b1);
        EXPECT(gbc.pc(), 0xc837);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc836), 0x5c);
        // 5C 00B4
        gbc.setState(0xd751, 0xd909, 0xa0b0, 0xd324, 0xca1a, 0xead, 0x1, 0x0);
        gbc.writeMem(0xd751, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd909);
        EXPECT(gbc.pc(), 0xd752);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd751), 0x5c);
        // 5C 00B5
        gbc.setState(0x55c9, 0x2d05, 0x32d0, 0xb2b4, 0x43bb, 0x6925, 0x0, 0x0);
        gbc.writeMem(0x55c9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2d05);
        EXPECT(gbc.pc(), 0x55ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00B6
        gbc.setState(0xcf55, 0xebd2, 0x8750, 0x521f, 0x8bf8, 0x9ba1, 0x0, 0x0);
        gbc.writeMem(0xcf55, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xebd2);
        EXPECT(gbc.pc(), 0xcf56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf55), 0x5c);
        // 5C 00B7
        gbc.setState(0xaf08, 0xb1ec, 0xcf00, 0x75f2, 0x3fcd, 0x975a, 0x0, 0x0);
        gbc.writeMem(0xaf08, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb1ec);
        EXPECT(gbc.pc(), 0xaf09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf08), 0x5c);
        // 5C 00B8
        gbc.setState(0x22cd, 0x226d, 0x2360, 0x23c7, 0xc39, 0x244b, 0x1, 0x1);
        gbc.writeMem(0x22cd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x226d);
        EXPECT(gbc.pc(), 0x22ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00BA
        gbc.setState(0x3a02, 0xef06, 0x7860, 0x61c9, 0x7cf2, 0x3071, 0x1, 0x1);
        gbc.writeMem(0x3a02, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xef06);
        EXPECT(gbc.pc(), 0x3a03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00BB
        gbc.setState(0x260, 0xdf64, 0xc7c0, 0x755e, 0xe4e5, 0xcff2, 0x0, 0x0);
        gbc.writeMem(0x260, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xdf64);
        EXPECT(gbc.pc(), 0x261);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00BD
        gbc.setState(0x5b60, 0x1ff, 0x35e0, 0xbb7d, 0xa640, 0x7cfb, 0x0, 0x1);
        gbc.writeMem(0x5b60, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1ff);
        EXPECT(gbc.pc(), 0x5b61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00BE
        gbc.setState(0xb508, 0x9b17, 0xdd40, 0x65be, 0xdf32, 0xc45, 0x0, 0x1);
        gbc.writeMem(0xb508, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9b17);
        EXPECT(gbc.pc(), 0xb509);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb508), 0x5c);
        // 5C 00BF
        gbc.setState(0x4113, 0xbba2, 0xa260, 0xf86a, 0x3d31, 0xbb33, 0x1, 0x1);
        gbc.writeMem(0x4113, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xbba2);
        EXPECT(gbc.pc(), 0x4114);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00C0
        gbc.setState(0x6583, 0xab02, 0xac40, 0x8719, 0x1f32, 0x141c, 0x1, 0x1);
        gbc.writeMem(0x6583, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xab02);
        EXPECT(gbc.pc(), 0x6584);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00C1
        gbc.setState(0x7601, 0x3b4f, 0x7680, 0xe44e, 0xcc9f, 0x77b0, 0x0, 0x1);
        gbc.writeMem(0x7601, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3b4f);
        EXPECT(gbc.pc(), 0x7602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00C2
        gbc.setState(0x96, 0xc97b, 0x9d30, 0x4683, 0xc0b0, 0x7139, 0x1, 0x1);
        gbc.writeMem(0x96, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc97b);
        EXPECT(gbc.pc(), 0x97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00C3
        gbc.setState(0x8899, 0x2451, 0x1d60, 0x1a08, 0x24bb, 0xb081, 0x0, 0x0);
        gbc.writeMem(0x8899, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2451);
        EXPECT(gbc.pc(), 0x889a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8899), 0x5c);
        // 5C 00C4
        gbc.setState(0x8703, 0x2614, 0x2380, 0x8c0a, 0xdb86, 0xf936, 0x1, 0x1);
        gbc.writeMem(0x8703, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2614);
        EXPECT(gbc.pc(), 0x8704);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8703), 0x5c);
        // 5C 00C5
        gbc.setState(0x30f7, 0xd4ac, 0x7d80, 0xc970, 0xcab3, 0xc3bd, 0x0, 0x0);
        gbc.writeMem(0x30f7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xd4ac);
        EXPECT(gbc.pc(), 0x30f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00C7
        gbc.setState(0x9edd, 0x3da8, 0xb390, 0xde82, 0x72d3, 0xa1d0, 0x1, 0x1);
        gbc.writeMem(0x9edd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3da8);
        EXPECT(gbc.pc(), 0x9ede);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9edd), 0x5c);
        // 5C 00C8
        gbc.setState(0x55fa, 0x6fcf, 0x70d0, 0x7e32, 0x666d, 0x1ce1, 0x1, 0x0);
        gbc.writeMem(0x55fa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6fcf);
        EXPECT(gbc.pc(), 0x55fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00C9
        gbc.setState(0x92be, 0xcb7f, 0xdbf0, 0x6941, 0x3f20, 0xbe8e, 0x1, 0x1);
        gbc.writeMem(0x92be, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xcb7f);
        EXPECT(gbc.pc(), 0x92bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92be), 0x5c);
        // 5C 00CA
        gbc.setState(0xd57f, 0x2da7, 0xa1c0, 0x8e7e, 0xdcac, 0x8c9, 0x1, 0x1);
        gbc.writeMem(0xd57f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x2da7);
        EXPECT(gbc.pc(), 0xd580);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd57f), 0x5c);
        // 5C 00CB
        gbc.setState(0xaa87, 0x3ea8, 0x7fd0, 0x3ef0, 0xf899, 0x8129, 0x1, 0x0);
        gbc.writeMem(0xaa87, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3ea8);
        EXPECT(gbc.pc(), 0xaa88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa87), 0x5c);
        // 5C 00CD
        gbc.setState(0x6846, 0x7fde, 0xb2b0, 0x3c6d, 0x20c0, 0x697b, 0x0, 0x0);
        gbc.writeMem(0x6846, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x7fde);
        EXPECT(gbc.pc(), 0x6847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00CE
        gbc.setState(0x4503, 0x8def, 0xab30, 0x172a, 0x15cb, 0xc524, 0x1, 0x0);
        gbc.writeMem(0x4503, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8def);
        EXPECT(gbc.pc(), 0x4504);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00CF
        gbc.setState(0xd6ef, 0x1716, 0x3e10, 0xb286, 0x9927, 0x2e5f, 0x0, 0x1);
        gbc.writeMem(0xd6ef, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1716);
        EXPECT(gbc.pc(), 0xd6f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6ef), 0x5c);
        // 5C 00D0
        gbc.setState(0x35ef, 0xa03d, 0x8fe0, 0x88e5, 0xc214, 0x30c8, 0x0, 0x0);
        gbc.writeMem(0x35ef, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa03d);
        EXPECT(gbc.pc(), 0x35f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00D1
        gbc.setState(0x13e2, 0x4d4d, 0x7410, 0x3b9, 0x9d4b, 0xcd6c, 0x1, 0x0);
        gbc.writeMem(0x13e2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4d4d);
        EXPECT(gbc.pc(), 0x13e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00D2
        gbc.setState(0xc630, 0xdcd7, 0x1840, 0x3c26, 0x47f4, 0x96ee, 0x1, 0x0);
        gbc.writeMem(0xc630, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xdcd7);
        EXPECT(gbc.pc(), 0xc631);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc630), 0x5c);
        // 5C 00D3
        gbc.setState(0x92e8, 0xc4c9, 0xc140, 0x892b, 0xaaa8, 0x91d0, 0x1, 0x0);
        gbc.writeMem(0x92e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc4c9);
        EXPECT(gbc.pc(), 0x92e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92e8), 0x5c);
        // 5C 00D4
        gbc.setState(0x320b, 0x9928, 0x3aa0, 0xf456, 0x204f, 0xd70d, 0x1, 0x0);
        gbc.writeMem(0x320b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9928);
        EXPECT(gbc.pc(), 0x320c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00D5
        gbc.setState(0x968a, 0x52aa, 0xa430, 0x4ad0, 0x520b, 0x676, 0x1, 0x1);
        gbc.writeMem(0x968a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x52aa);
        EXPECT(gbc.pc(), 0x968b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x968a), 0x5c);
        // 5C 00D6
        gbc.setState(0x4816, 0x798a, 0x1d60, 0x1cea, 0x45c4, 0x81cd, 0x0, 0x1);
        gbc.writeMem(0x4816, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x798a);
        EXPECT(gbc.pc(), 0x4817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00D7
        gbc.setState(0xeb53, 0x81da, 0x6870, 0x23d8, 0x5202, 0xa1d0, 0x0, 0x1);
        gbc.writeMem(0xeb53, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x81da);
        EXPECT(gbc.pc(), 0xeb54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb53), 0x5c);
        // 5C 00D8
        gbc.setState(0x9009, 0x24f2, 0x49c0, 0xb095, 0x3d01, 0xa99f, 0x0, 0x1);
        gbc.writeMem(0x9009, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x24f2);
        EXPECT(gbc.pc(), 0x900a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9009), 0x5c);
        // 5C 00D9
        gbc.setState(0xe270, 0xdab0, 0xd090, 0xa93d, 0x5278, 0xe422, 0x0, 0x0);
        gbc.writeMem(0xe270, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xdab0);
        EXPECT(gbc.pc(), 0xe271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe270), 0x5c);
        // 5C 00DA
        gbc.setState(0x9142, 0xe633, 0x3a10, 0x1dca, 0x4100, 0xc998, 0x1, 0x1);
        gbc.writeMem(0x9142, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xe633);
        EXPECT(gbc.pc(), 0x9143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9142), 0x5c);
        // 5C 00DB
        gbc.setState(0xa6f3, 0x4d48, 0x270, 0x1e89, 0x84a1, 0x252b, 0x1, 0x0);
        gbc.writeMem(0xa6f3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4d48);
        EXPECT(gbc.pc(), 0xa6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f3), 0x5c);
        // 5C 00DC
        gbc.setState(0xdad8, 0xc23, 0xfd30, 0x337b, 0x4826, 0xf18b, 0x1, 0x1);
        gbc.writeMem(0xdad8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc23);
        EXPECT(gbc.pc(), 0xdad9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdad8), 0x5c);
        // 5C 00DD
        gbc.setState(0xc3cd, 0xad89, 0x44d0, 0xc238, 0x7590, 0x3958, 0x0, 0x0);
        gbc.writeMem(0xc3cd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xad89);
        EXPECT(gbc.pc(), 0xc3ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3cd), 0x5c);
        // 5C 00DE
        gbc.setState(0xb319, 0x343, 0x71b0, 0x6266, 0x3914, 0xcd83, 0x1, 0x0);
        gbc.writeMem(0xb319, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x343);
        EXPECT(gbc.pc(), 0xb31a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb319), 0x5c);
        // 5C 00DF
        gbc.setState(0xb507, 0xa356, 0xa7c0, 0xc5f8, 0x8df4, 0xa354, 0x0, 0x1);
        gbc.writeMem(0xb507, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa356);
        EXPECT(gbc.pc(), 0xb508);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb507), 0x5c);
        // 5C 00E0
        gbc.setState(0xb266, 0xabb8, 0xee20, 0xc4e9, 0x6d11, 0xef48, 0x0, 0x0);
        gbc.writeMem(0xb266, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xabb8);
        EXPECT(gbc.pc(), 0xb267);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb266), 0x5c);
        // 5C 00E1
        gbc.setState(0x85df, 0xdb50, 0x68f0, 0x481d, 0xfd75, 0x1541, 0x0, 0x0);
        gbc.writeMem(0x85df, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdb50);
        EXPECT(gbc.pc(), 0x85e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85df), 0x5c);
        // 5C 00E2
        gbc.setState(0x66b, 0x2c8a, 0x92d0, 0x5be3, 0xb420, 0x3c7d, 0x1, 0x0);
        gbc.writeMem(0x66b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2c8a);
        EXPECT(gbc.pc(), 0x66c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00E3
        gbc.setState(0xfda, 0x8c53, 0xaab0, 0x36d1, 0xc440, 0xcc8b, 0x1, 0x1);
        gbc.writeMem(0xfda, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8c53);
        EXPECT(gbc.pc(), 0xfdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00E4
        gbc.setState(0x3dff, 0x77de, 0x70f0, 0x4208, 0xf786, 0x4c51, 0x0, 0x0);
        gbc.writeMem(0x3dff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x77de);
        EXPECT(gbc.pc(), 0x3e00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00E5
        gbc.setState(0xe98f, 0xba0c, 0xcb0, 0x63a9, 0x86ff, 0x86b8, 0x1, 0x0);
        gbc.writeMem(0xe98f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xba0c);
        EXPECT(gbc.pc(), 0xe990);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe98f), 0x5c);
        // 5C 00E7
        gbc.setState(0x9ae9, 0xb971, 0xed90, 0xc43a, 0x4f3d, 0x83be, 0x1, 0x0);
        gbc.writeMem(0x9ae9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb971);
        EXPECT(gbc.pc(), 0x9aea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae9), 0x5c);
        // 5C 00E8
        gbc.setState(0xc10, 0x80c8, 0xa420, 0xacf0, 0xb1f, 0x29ad, 0x0, 0x0);
        gbc.writeMem(0xc10, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x80c8);
        EXPECT(gbc.pc(), 0xc11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 00E9
        gbc.setState(0xced9, 0x24b5, 0xcef0, 0xcbaa, 0x8e25, 0xc288, 0x1, 0x1);
        gbc.writeMem(0xced9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x24b5);
        EXPECT(gbc.pc(), 0xceda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xced9), 0x5c);
        // 5C 00EB
        gbc.setState(0x32e7, 0xaf42, 0x3a90, 0xaefd, 0x4a5e, 0xef67, 0x1, 0x1);
        gbc.writeMem(0x32e7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xaf42);
        EXPECT(gbc.pc(), 0x32e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00EC
        gbc.setState(0x8d24, 0x3af4, 0xf070, 0x611c, 0x90a2, 0x9e62, 0x0, 0x1);
        gbc.writeMem(0x8d24, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x3af4);
        EXPECT(gbc.pc(), 0x8d25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d24), 0x5c);
        // 5C 00ED
        gbc.setState(0xd8bd, 0x931e, 0x97c0, 0xb31c, 0x80c2, 0x27e0, 0x1, 0x0);
        gbc.writeMem(0xd8bd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x931e);
        EXPECT(gbc.pc(), 0xd8be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8bd), 0x5c);
        // 5C 00EE
        gbc.setState(0xcbc, 0x8155, 0xa2c0, 0x6d64, 0x44d5, 0x5dbc, 0x1, 0x0);
        gbc.writeMem(0xcbc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8155);
        EXPECT(gbc.pc(), 0xcbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00EF
        gbc.setState(0xa97a, 0xaaef, 0xc640, 0xfa5e, 0x9717, 0xa3c9, 0x1, 0x0);
        gbc.writeMem(0xa97a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xaaef);
        EXPECT(gbc.pc(), 0xa97b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa97a), 0x5c);
        // 5C 00F0
        gbc.setState(0xc77, 0xf41, 0x7c70, 0x4c4e, 0x3808, 0xe923, 0x1, 0x1);
        gbc.writeMem(0xc77, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf41);
        EXPECT(gbc.pc(), 0xc78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00F1
        gbc.setState(0xe3b4, 0xb6eb, 0xef80, 0x9c39, 0x12fa, 0xdcf1, 0x1, 0x0);
        gbc.writeMem(0xe3b4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb6eb);
        EXPECT(gbc.pc(), 0xe3b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b4), 0x5c);
        // 5C 00F2
        gbc.setState(0x3728, 0x37c6, 0x70c0, 0xa249, 0x5ea9, 0xb8cb, 0x1, 0x0);
        gbc.writeMem(0x3728, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x37c6);
        EXPECT(gbc.pc(), 0x3729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00F3
        gbc.setState(0xbb38, 0x9da7, 0xa160, 0x6a89, 0xe27a, 0x6015, 0x0, 0x1);
        gbc.writeMem(0xbb38, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x9da7);
        EXPECT(gbc.pc(), 0xbb39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb38), 0x5c);
        // 5C 00F4
        gbc.setState(0x15ce, 0x2eab, 0x2bf0, 0x87bc, 0xc9a4, 0x4069, 0x0, 0x0);
        gbc.writeMem(0x15ce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2eab);
        EXPECT(gbc.pc(), 0x15cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00F5
        gbc.setState(0xe4a1, 0xc4dd, 0xa1e0, 0x69d7, 0xd3da, 0xe247, 0x0, 0x1);
        gbc.writeMem(0xe4a1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xc4dd);
        EXPECT(gbc.pc(), 0xe4a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4a1), 0x5c);
        // 5C 00F6
        gbc.setState(0x10d, 0x65a1, 0x4640, 0xa71, 0xd4fa, 0x7ad1, 0x1, 0x1);
        gbc.writeMem(0x10d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x65a1);
        EXPECT(gbc.pc(), 0x10e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 00F7
        gbc.setState(0x8575, 0x4d98, 0x3460, 0x86c4, 0x8299, 0x4382, 0x0, 0x0);
        gbc.writeMem(0x8575, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4d98);
        EXPECT(gbc.pc(), 0x8576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8575), 0x5c);
        // 5C 00F8
        gbc.setState(0xe820, 0xc5b0, 0xbba0, 0x417a, 0x5e72, 0x182a, 0x1, 0x1);
        gbc.writeMem(0xe820, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xc5b0);
        EXPECT(gbc.pc(), 0xe821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe820), 0x5c);
        // 5C 00F9
        gbc.setState(0x581b, 0xd22, 0x6050, 0x6fb7, 0xb9ab, 0xc456, 0x0, 0x0);
        gbc.writeMem(0x581b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd22);
        EXPECT(gbc.pc(), 0x581c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 00FA
        gbc.setState(0x8829, 0x9841, 0x6440, 0xfdab, 0x5490, 0x718c, 0x0, 0x0);
        gbc.writeMem(0x8829, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x9841);
        EXPECT(gbc.pc(), 0x882a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8829), 0x5c);
        // 5C 00FB
        gbc.setState(0xd0ff, 0xcae1, 0xe010, 0xd9bb, 0x5684, 0xf1bd, 0x0, 0x1);
        gbc.writeMem(0xd0ff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xcae1);
        EXPECT(gbc.pc(), 0xd100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ff), 0x5c);
        // 5C 00FC
        gbc.setState(0x8a34, 0xaad1, 0x750, 0x559f, 0x4842, 0xeef8, 0x0, 0x1);
        gbc.writeMem(0x8a34, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xaad1);
        EXPECT(gbc.pc(), 0x8a35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a34), 0x5c);
        // 5C 00FD
        gbc.setState(0x2bde, 0xa9e4, 0x3370, 0xfc86, 0x290, 0x5095, 0x0, 0x0);
        gbc.writeMem(0x2bde, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa9e4);
        EXPECT(gbc.pc(), 0x2bdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 00FE
        gbc.setState(0xd1c6, 0xe235, 0xc130, 0xc76b, 0x5bf4, 0xe78b, 0x1, 0x1);
        gbc.writeMem(0xd1c6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe235);
        EXPECT(gbc.pc(), 0xd1c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1c6), 0x5c);
        // 5C 00FF
        gbc.setState(0x2bbe, 0x5b66, 0xc2a0, 0x6d21, 0xf16d, 0x9070, 0x0, 0x1);
        gbc.writeMem(0x2bbe, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5b66);
        EXPECT(gbc.pc(), 0x2bbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0100
        gbc.setState(0xe0a2, 0x8700, 0xce40, 0xc31f, 0x7538, 0x7e63, 0x0, 0x1);
        gbc.writeMem(0xe0a2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8700);
        EXPECT(gbc.pc(), 0xe0a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a2), 0x5c);
        // 5C 0101
        gbc.setState(0x4ddb, 0xcbf, 0xb020, 0xf4ac, 0xf0f9, 0x686e, 0x0, 0x1);
        gbc.writeMem(0x4ddb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xcbf);
        EXPECT(gbc.pc(), 0x4ddc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0102
        gbc.setState(0xc8bb, 0x278d, 0xe240, 0xd312, 0x902e, 0xfa5e, 0x0, 0x0);
        gbc.writeMem(0xc8bb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x278d);
        EXPECT(gbc.pc(), 0xc8bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8bb), 0x5c);
        // 5C 0103
        gbc.setState(0xd767, 0x3a94, 0xb450, 0xf59b, 0xdc1a, 0x49d2, 0x0, 0x0);
        gbc.writeMem(0xd767, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3a94);
        EXPECT(gbc.pc(), 0xd768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd767), 0x5c);
        // 5C 0106
        gbc.setState(0x4fc2, 0x216a, 0x87c0, 0x281b, 0x549c, 0x14a9, 0x0, 0x0);
        gbc.writeMem(0x4fc2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x216a);
        EXPECT(gbc.pc(), 0x4fc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0107
        gbc.setState(0xa598, 0xb3f3, 0xb0a0, 0x80b0, 0x5d31, 0x325b, 0x0, 0x0);
        gbc.writeMem(0xa598, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb3f3);
        EXPECT(gbc.pc(), 0xa599);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa598), 0x5c);
        // 5C 0108
        gbc.setState(0x701, 0xb75, 0xe930, 0x2e59, 0x20cc, 0x7de6, 0x0, 0x0);
        gbc.writeMem(0x701, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xb75);
        EXPECT(gbc.pc(), 0x702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0109
        gbc.setState(0x7b21, 0x9642, 0xc7c0, 0x9eea, 0x5c9, 0x6fe4, 0x1, 0x1);
        gbc.writeMem(0x7b21, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9642);
        EXPECT(gbc.pc(), 0x7b22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 010A
        gbc.setState(0xdffb, 0xdd2a, 0x6df0, 0x992d, 0x808c, 0x3dc6, 0x1, 0x1);
        gbc.writeMem(0xdffb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xdd2a);
        EXPECT(gbc.pc(), 0xdffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdffb), 0x5c);
        // 5C 010C
        gbc.setState(0x921e, 0x7855, 0x46f0, 0x59e7, 0xd58b, 0xd1fe, 0x1, 0x0);
        gbc.writeMem(0x921e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7855);
        EXPECT(gbc.pc(), 0x921f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x921e), 0x5c);
        // 5C 010D
        gbc.setState(0xd5b5, 0xb556, 0x2900, 0x848f, 0x1190, 0x6e75, 0x1, 0x0);
        gbc.writeMem(0xd5b5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb556);
        EXPECT(gbc.pc(), 0xd5b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b5), 0x5c);
        // 5C 010E
        gbc.setState(0x9c8c, 0x64af, 0x29d0, 0x79f9, 0x6fcf, 0x9982, 0x0, 0x0);
        gbc.writeMem(0x9c8c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x64af);
        EXPECT(gbc.pc(), 0x9c8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c8c), 0x5c);
        // 5C 010F
        gbc.setState(0x3b71, 0xc966, 0xde0, 0xaaba, 0x6684, 0x7259, 0x1, 0x0);
        gbc.writeMem(0x3b71, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc966);
        EXPECT(gbc.pc(), 0x3b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0110
        gbc.setState(0xa3cf, 0xc3d6, 0x8ef0, 0x43a6, 0x5d9e, 0x2f5f, 0x0, 0x1);
        gbc.writeMem(0xa3cf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xc3d6);
        EXPECT(gbc.pc(), 0xa3d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3cf), 0x5c);
        // 5C 0111
        gbc.setState(0x67ee, 0xf679, 0x1b90, 0x9d86, 0xb20c, 0xe5e9, 0x1, 0x0);
        gbc.writeMem(0x67ee, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf679);
        EXPECT(gbc.pc(), 0x67ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0112
        gbc.setState(0x7472, 0xbe4b, 0x4f90, 0xd007, 0x8ab9, 0x445c, 0x1, 0x0);
        gbc.writeMem(0x7472, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbe4b);
        EXPECT(gbc.pc(), 0x7473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0113
        gbc.setState(0xedec, 0x3cea, 0xabd0, 0xe8d5, 0x4edd, 0x6595, 0x0, 0x1);
        gbc.writeMem(0xedec, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x3cea);
        EXPECT(gbc.pc(), 0xeded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedec), 0x5c);
        // 5C 0114
        gbc.setState(0x326a, 0x207d, 0x940, 0x9c98, 0x1756, 0xad91, 0x1, 0x0);
        gbc.writeMem(0x326a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x207d);
        EXPECT(gbc.pc(), 0x326b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0115
        gbc.setState(0x6c8a, 0x3ab8, 0x6390, 0x98d8, 0x8c59, 0xc3bd, 0x1, 0x0);
        gbc.writeMem(0x6c8a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3ab8);
        EXPECT(gbc.pc(), 0x6c8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0116
        gbc.setState(0xc502, 0x598c, 0xdc00, 0xc72, 0x283f, 0xf8e9, 0x1, 0x1);
        gbc.writeMem(0xc502, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x598c);
        EXPECT(gbc.pc(), 0xc503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc502), 0x5c);
        // 5C 0118
        gbc.setState(0x417d, 0x4946, 0x5190, 0x8f0b, 0x419b, 0x832c, 0x1, 0x0);
        gbc.writeMem(0x417d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x4946);
        EXPECT(gbc.pc(), 0x417e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0119
        gbc.setState(0xc511, 0xf248, 0x1430, 0xe94, 0x3d09, 0x74aa, 0x1, 0x0);
        gbc.writeMem(0xc511, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf248);
        EXPECT(gbc.pc(), 0xc512);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc511), 0x5c);
        // 5C 011A
        gbc.setState(0x42f2, 0xfc5d, 0x1470, 0xbdcf, 0x9dff, 0xd034, 0x0, 0x1);
        gbc.writeMem(0x42f2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xfc5d);
        EXPECT(gbc.pc(), 0x42f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 011C
        gbc.setState(0x4392, 0x281a, 0x1490, 0xfb72, 0x1f40, 0xcc1c, 0x0, 0x1);
        gbc.writeMem(0x4392, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x281a);
        EXPECT(gbc.pc(), 0x4393);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 011D
        gbc.setState(0x5f77, 0xb73, 0xf960, 0xa3f1, 0x4580, 0x87e8, 0x0, 0x0);
        gbc.writeMem(0x5f77, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb73);
        EXPECT(gbc.pc(), 0x5f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 011E
        gbc.setState(0x57d7, 0x2747, 0xf220, 0x6054, 0x8471, 0x92c7, 0x0, 0x1);
        gbc.writeMem(0x57d7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2747);
        EXPECT(gbc.pc(), 0x57d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 011F
        gbc.setState(0x875a, 0x8682, 0x90a0, 0x971d, 0xf30f, 0xeefd, 0x1, 0x1);
        gbc.writeMem(0x875a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8682);
        EXPECT(gbc.pc(), 0x875b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x875a), 0x5c);
        // 5C 0120
        gbc.setState(0x5e76, 0xac6f, 0xf960, 0xfdfd, 0x8923, 0xf4b8, 0x1, 0x0);
        gbc.writeMem(0x5e76, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xac6f);
        EXPECT(gbc.pc(), 0x5e77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0121
        gbc.setState(0xab5e, 0x86de, 0xf310, 0xfb99, 0x93e4, 0x1b7a, 0x0, 0x0);
        gbc.writeMem(0xab5e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x86de);
        EXPECT(gbc.pc(), 0xab5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab5e), 0x5c);
        // 5C 0122
        gbc.setState(0xb43c, 0x60e4, 0x5aa0, 0x6403, 0x2a87, 0x2a1a, 0x0, 0x0);
        gbc.writeMem(0xb43c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x60e4);
        EXPECT(gbc.pc(), 0xb43d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb43c), 0x5c);
        // 5C 0123
        gbc.setState(0x2052, 0xd81c, 0xd610, 0x160b, 0xa4b4, 0xe678, 0x0, 0x1);
        gbc.writeMem(0x2052, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd81c);
        EXPECT(gbc.pc(), 0x2053);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0125
        gbc.setState(0xd389, 0x34ef, 0x5330, 0xa0dc, 0x7559, 0xf57b, 0x1, 0x0);
        gbc.writeMem(0xd389, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x34ef);
        EXPECT(gbc.pc(), 0xd38a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd389), 0x5c);
        // 5C 0127
        gbc.setState(0xda1b, 0xc029, 0x6290, 0x21e4, 0x111a, 0x62ef, 0x1, 0x1);
        gbc.writeMem(0xda1b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc029);
        EXPECT(gbc.pc(), 0xda1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda1b), 0x5c);
        // 5C 0128
        gbc.setState(0x7b44, 0xd200, 0x5870, 0x7a01, 0xf5d2, 0x8b1, 0x0, 0x0);
        gbc.writeMem(0x7b44, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd200);
        EXPECT(gbc.pc(), 0x7b45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0129
        gbc.setState(0xb94e, 0xbb44, 0xe810, 0x75b8, 0xb85d, 0xbfb4, 0x1, 0x1);
        gbc.writeMem(0xb94e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xbb44);
        EXPECT(gbc.pc(), 0xb94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb94e), 0x5c);
        // 5C 012A
        gbc.setState(0x1bb2, 0x77e8, 0x4320, 0x43c6, 0x25be, 0x66f2, 0x0, 0x0);
        gbc.writeMem(0x1bb2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x77e8);
        EXPECT(gbc.pc(), 0x1bb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 012C
        gbc.setState(0x5336, 0xe647, 0x4850, 0x3727, 0x4484, 0x33e2, 0x0, 0x1);
        gbc.writeMem(0x5336, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe647);
        EXPECT(gbc.pc(), 0x5337);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 012D
        gbc.setState(0x3502, 0xffb2, 0x99b0, 0x1d41, 0xb283, 0xf1e8, 0x1, 0x0);
        gbc.writeMem(0x3502, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xffb2);
        EXPECT(gbc.pc(), 0x3503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 012E
        gbc.setState(0x5d84, 0x88da, 0xd1f0, 0x98c7, 0xff62, 0x457c, 0x0, 0x0);
        gbc.writeMem(0x5d84, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x88da);
        EXPECT(gbc.pc(), 0x5d85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 012F
        gbc.setState(0x9218, 0xd62c, 0x3840, 0x2e11, 0x37a8, 0xda49, 0x1, 0x0);
        gbc.writeMem(0x9218, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd62c);
        EXPECT(gbc.pc(), 0x9219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9218), 0x5c);
        // 5C 0130
        gbc.setState(0x291e, 0x8d31, 0x2810, 0xb1ba, 0xf7ee, 0x4f1d, 0x0, 0x1);
        gbc.writeMem(0x291e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8d31);
        EXPECT(gbc.pc(), 0x291f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0131
        gbc.setState(0x69c9, 0xb16e, 0x46d0, 0x28cd, 0x717d, 0xb09d, 0x1, 0x0);
        gbc.writeMem(0x69c9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb16e);
        EXPECT(gbc.pc(), 0x69ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0132
        gbc.setState(0x157c, 0x3531, 0xcd50, 0x2af3, 0x8d3b, 0x9f8, 0x0, 0x1);
        gbc.writeMem(0x157c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3531);
        EXPECT(gbc.pc(), 0x157d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0133
        gbc.setState(0x9047, 0x35b2, 0x4120, 0x5618, 0xc314, 0x8a49, 0x1, 0x0);
        gbc.writeMem(0x9047, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x35b2);
        EXPECT(gbc.pc(), 0x9048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9047), 0x5c);
        // 5C 0134
        gbc.setState(0xed61, 0xe965, 0x20d0, 0x2672, 0xf983, 0xda44, 0x0, 0x0);
        gbc.writeMem(0xed61, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe965);
        EXPECT(gbc.pc(), 0xed62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed61), 0x5c);
        // 5C 0135
        gbc.setState(0x75c3, 0xb8c1, 0xf7f0, 0x224d, 0x63a3, 0x68f0, 0x0, 0x1);
        gbc.writeMem(0x75c3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb8c1);
        EXPECT(gbc.pc(), 0x75c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0136
        gbc.setState(0x32e8, 0xa05, 0xad00, 0xe40c, 0x6b79, 0x9c05, 0x1, 0x0);
        gbc.writeMem(0x32e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa05);
        EXPECT(gbc.pc(), 0x32e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0137
        gbc.setState(0xb22, 0x2d42, 0xc1b0, 0x7e45, 0xd92, 0xf4cd, 0x1, 0x0);
        gbc.writeMem(0xb22, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2d42);
        EXPECT(gbc.pc(), 0xb23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0138
        gbc.setState(0x4a4f, 0x5f25, 0x5090, 0xe43e, 0x6ddd, 0x1848, 0x1, 0x0);
        gbc.writeMem(0x4a4f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5f25);
        EXPECT(gbc.pc(), 0x4a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 013A
        gbc.setState(0x652c, 0xae73, 0x5880, 0xbd85, 0x2874, 0x219c, 0x0, 0x1);
        gbc.writeMem(0x652c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xae73);
        EXPECT(gbc.pc(), 0x652d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 013B
        gbc.setState(0xd5d9, 0x60cb, 0xdf40, 0xbd31, 0x7c3f, 0x4290, 0x0, 0x1);
        gbc.writeMem(0xd5d9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x60cb);
        EXPECT(gbc.pc(), 0xd5da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5d9), 0x5c);
        // 5C 013C
        gbc.setState(0x712f, 0x283c, 0xde10, 0xc41a, 0x578c, 0xf490, 0x0, 0x0);
        gbc.writeMem(0x712f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x283c);
        EXPECT(gbc.pc(), 0x7130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 013D
        gbc.setState(0xb1d0, 0x1f69, 0xa90, 0x5a7a, 0x6420, 0xf386, 0x1, 0x0);
        gbc.writeMem(0xb1d0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1f69);
        EXPECT(gbc.pc(), 0xb1d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1d0), 0x5c);
        // 5C 013E
        gbc.setState(0x699, 0x27b, 0x7070, 0x5361, 0x760e, 0xa736, 0x0, 0x1);
        gbc.writeMem(0x699, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x27b);
        EXPECT(gbc.pc(), 0x69a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 013F
        gbc.setState(0xe810, 0xf9db, 0x9910, 0x1dfd, 0x876f, 0x8241, 0x0, 0x0);
        gbc.writeMem(0xe810, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf9db);
        EXPECT(gbc.pc(), 0xe811);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe810), 0x5c);
        // 5C 0140
        gbc.setState(0x2afd, 0x24ee, 0x53a0, 0x7fac, 0xd453, 0xeb3c, 0x1, 0x1);
        gbc.writeMem(0x2afd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x24ee);
        EXPECT(gbc.pc(), 0x2afe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0141
        gbc.setState(0x3f6a, 0xcdeb, 0x99c0, 0x5bc5, 0xb6f0, 0x2534, 0x0, 0x0);
        gbc.writeMem(0x3f6a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xcdeb);
        EXPECT(gbc.pc(), 0x3f6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0142
        gbc.setState(0x2255, 0xc44d, 0x9500, 0xd60f, 0x958c, 0x21a3, 0x0, 0x1);
        gbc.writeMem(0x2255, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xc44d);
        EXPECT(gbc.pc(), 0x2256);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0143
        gbc.setState(0x37af, 0x74d2, 0x93e0, 0x91c1, 0x1bef, 0xe21b, 0x0, 0x0);
        gbc.writeMem(0x37af, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x74d2);
        EXPECT(gbc.pc(), 0x37b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0144
        gbc.setState(0xbb56, 0xf7d0, 0x80f0, 0x555f, 0x9e30, 0x844d, 0x1, 0x1);
        gbc.writeMem(0xbb56, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf7d0);
        EXPECT(gbc.pc(), 0xbb57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb56), 0x5c);
        // 5C 0145
        gbc.setState(0xd435, 0x3133, 0xbf20, 0x2111, 0x8732, 0x44f4, 0x1, 0x0);
        gbc.writeMem(0xd435, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3133);
        EXPECT(gbc.pc(), 0xd436);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd435), 0x5c);
        // 5C 0146
        gbc.setState(0xa9d3, 0x33f1, 0xbbb0, 0x594a, 0xff07, 0x90d0, 0x0, 0x0);
        gbc.writeMem(0xa9d3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x33f1);
        EXPECT(gbc.pc(), 0xa9d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9d3), 0x5c);
        // 5C 0147
        gbc.setState(0x21c3, 0x27f2, 0x3fd0, 0xa41, 0x35f8, 0x5d05, 0x1, 0x0);
        gbc.writeMem(0x21c3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x27f2);
        EXPECT(gbc.pc(), 0x21c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0148
        gbc.setState(0xdbf8, 0x6c8, 0x17c0, 0xd3f6, 0xc925, 0xdec4, 0x1, 0x0);
        gbc.writeMem(0xdbf8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x6c8);
        EXPECT(gbc.pc(), 0xdbf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbf8), 0x5c);
        // 5C 014B
        gbc.setState(0xea55, 0x1569, 0x2820, 0x1f8b, 0xffed, 0x1de9, 0x0, 0x1);
        gbc.writeMem(0xea55, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1569);
        EXPECT(gbc.pc(), 0xea56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea55), 0x5c);
        // 5C 014C
        gbc.setState(0xb052, 0x17da, 0x5a70, 0xd6af, 0x442, 0x3569, 0x1, 0x1);
        gbc.writeMem(0xb052, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x17da);
        EXPECT(gbc.pc(), 0xb053);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb052), 0x5c);
        // 5C 014D
        gbc.setState(0x9c7f, 0xdd69, 0x8830, 0xc357, 0x6a77, 0xecea, 0x1, 0x0);
        gbc.writeMem(0x9c7f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xdd69);
        EXPECT(gbc.pc(), 0x9c80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c7f), 0x5c);
        // 5C 014E
        gbc.setState(0x43b5, 0x3ccc, 0xeb30, 0x1eec, 0x6254, 0x34c7, 0x0, 0x1);
        gbc.writeMem(0x43b5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3ccc);
        EXPECT(gbc.pc(), 0x43b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 014F
        gbc.setState(0xe987, 0xe862, 0x3640, 0x9b39, 0x5537, 0x21c7, 0x0, 0x1);
        gbc.writeMem(0xe987, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xe862);
        EXPECT(gbc.pc(), 0xe988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe987), 0x5c);
        // 5C 0150
        gbc.setState(0xd9a4, 0x3531, 0x830, 0x6fea, 0x138b, 0xc386, 0x1, 0x1);
        gbc.writeMem(0xd9a4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3531);
        EXPECT(gbc.pc(), 0xd9a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a4), 0x5c);
        // 5C 0151
        gbc.setState(0x1fd0, 0x65c, 0x1ef0, 0xa14d, 0xbb9f, 0x7959, 0x0, 0x0);
        gbc.writeMem(0x1fd0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x65c);
        EXPECT(gbc.pc(), 0x1fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0152
        gbc.setState(0x5ebe, 0x5dab, 0xe3f0, 0x2a84, 0xf279, 0x8d8a, 0x1, 0x0);
        gbc.writeMem(0x5ebe, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5dab);
        EXPECT(gbc.pc(), 0x5ebf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0153
        gbc.setState(0xce68, 0x1133, 0x15f0, 0xf4fd, 0x6857, 0xd223, 0x0, 0x0);
        gbc.writeMem(0xce68, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1133);
        EXPECT(gbc.pc(), 0xce69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce68), 0x5c);
        // 5C 0154
        gbc.setState(0xe7a, 0xf5e, 0x5bd0, 0x5915, 0xe194, 0x9658, 0x1, 0x0);
        gbc.writeMem(0xe7a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xf5e);
        EXPECT(gbc.pc(), 0xe7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0155
        gbc.setState(0x2003, 0xd113, 0xfe60, 0x6087, 0xce40, 0x1cd7, 0x0, 0x1);
        gbc.writeMem(0x2003, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd113);
        EXPECT(gbc.pc(), 0x2004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0156
        gbc.setState(0x2bf8, 0x1e70, 0xe570, 0x4ec6, 0x7da6, 0x7d7, 0x1, 0x0);
        gbc.writeMem(0x2bf8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1e70);
        EXPECT(gbc.pc(), 0x2bf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0158
        gbc.setState(0xa19d, 0x2682, 0xc360, 0x85c3, 0x4c64, 0x9907, 0x1, 0x1);
        gbc.writeMem(0xa19d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2682);
        EXPECT(gbc.pc(), 0xa19e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa19d), 0x5c);
        // 5C 0159
        gbc.setState(0x5c0f, 0xcf3a, 0xb580, 0x8338, 0x554, 0x97be, 0x0, 0x0);
        gbc.writeMem(0x5c0f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcf3a);
        EXPECT(gbc.pc(), 0x5c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 015B
        gbc.setState(0x3e26, 0xccb9, 0xe8b0, 0x2230, 0x84a4, 0x283f, 0x1, 0x1);
        gbc.writeMem(0x3e26, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xccb9);
        EXPECT(gbc.pc(), 0x3e27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 015C
        gbc.setState(0x938a, 0xa119, 0x9d90, 0xedb3, 0x9a11, 0x810, 0x1, 0x0);
        gbc.writeMem(0x938a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa119);
        EXPECT(gbc.pc(), 0x938b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x938a), 0x5c);
        // 5C 015D
        gbc.setState(0xbfde, 0xd493, 0x3610, 0xbd6c, 0xf232, 0x2dba, 0x0, 0x1);
        gbc.writeMem(0xbfde, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd493);
        EXPECT(gbc.pc(), 0xbfdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfde), 0x5c);
        // 5C 015E
        gbc.setState(0x3fb, 0x66dc, 0x8360, 0x4b87, 0x3585, 0x764e, 0x0, 0x0);
        gbc.writeMem(0x3fb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x66dc);
        EXPECT(gbc.pc(), 0x3fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 015F
        gbc.setState(0x4620, 0x1a46, 0xa8b0, 0x7617, 0x2892, 0xdb96, 0x0, 0x1);
        gbc.writeMem(0x4620, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1a46);
        EXPECT(gbc.pc(), 0x4621);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0160
        gbc.setState(0xaa55, 0x9d03, 0xa5e0, 0x61b4, 0x34c6, 0xe028, 0x0, 0x0);
        gbc.writeMem(0xaa55, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9d03);
        EXPECT(gbc.pc(), 0xaa56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa55), 0x5c);
        // 5C 0161
        gbc.setState(0x7ef7, 0x3ffe, 0xd5b0, 0x406d, 0x4d60, 0x7724, 0x1, 0x1);
        gbc.writeMem(0x7ef7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x3ffe);
        EXPECT(gbc.pc(), 0x7ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0162
        gbc.setState(0x8543, 0xadd0, 0x34f0, 0xee3e, 0xc8bc, 0xa03c, 0x1, 0x1);
        gbc.writeMem(0x8543, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xadd0);
        EXPECT(gbc.pc(), 0x8544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8543), 0x5c);
        // 5C 0163
        gbc.setState(0xa317, 0x4281, 0xcb90, 0xd37f, 0xac16, 0x4918, 0x0, 0x0);
        gbc.writeMem(0xa317, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4281);
        EXPECT(gbc.pc(), 0xa318);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa317), 0x5c);
        // 5C 0164
        gbc.setState(0xea4c, 0x1322, 0x9290, 0xfeb, 0x804b, 0x6a49, 0x0, 0x1);
        gbc.writeMem(0xea4c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1322);
        EXPECT(gbc.pc(), 0xea4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea4c), 0x5c);
        // 5C 0165
        gbc.setState(0x797f, 0x8f6a, 0xf00, 0x782a, 0x5d28, 0x5424, 0x0, 0x0);
        gbc.writeMem(0x797f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8f6a);
        EXPECT(gbc.pc(), 0x7980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0166
        gbc.setState(0xb17, 0x2416, 0xe2e0, 0xbdf8, 0x93dd, 0x8a73, 0x1, 0x0);
        gbc.writeMem(0xb17, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2416);
        EXPECT(gbc.pc(), 0xb18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0168
        gbc.setState(0x717b, 0xfc76, 0x2a80, 0x37ca, 0x9053, 0xdee6, 0x0, 0x1);
        gbc.writeMem(0x717b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xfc76);
        EXPECT(gbc.pc(), 0x717c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0169
        gbc.setState(0xab31, 0xf9d4, 0xf890, 0xe95, 0xba5b, 0x803c, 0x0, 0x1);
        gbc.writeMem(0xab31, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf9d4);
        EXPECT(gbc.pc(), 0xab32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab31), 0x5c);
        // 5C 016A
        gbc.setState(0xdf90, 0x209d, 0x62b0, 0x93c1, 0xe755, 0xbc18, 0x0, 0x1);
        gbc.writeMem(0xdf90, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x209d);
        EXPECT(gbc.pc(), 0xdf91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf90), 0x5c);
        // 5C 016B
        gbc.setState(0x5876, 0xb08d, 0xb10, 0x2197, 0xea4a, 0x1bf9, 0x0, 0x0);
        gbc.writeMem(0x5876, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb08d);
        EXPECT(gbc.pc(), 0x5877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 016C
        gbc.setState(0x45db, 0x6110, 0x52e0, 0x392c, 0x1c29, 0xa084, 0x1, 0x0);
        gbc.writeMem(0x45db, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6110);
        EXPECT(gbc.pc(), 0x45dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 016D
        gbc.setState(0x9fb8, 0xf031, 0x1630, 0x6898, 0xff3, 0xa5c9, 0x0, 0x0);
        gbc.writeMem(0x9fb8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf031);
        EXPECT(gbc.pc(), 0x9fb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fb8), 0x5c);
        // 5C 016E
        gbc.setState(0xcc4d, 0x1fa6, 0x9220, 0xf789, 0x3adb, 0xac6d, 0x0, 0x0);
        gbc.writeMem(0xcc4d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1fa6);
        EXPECT(gbc.pc(), 0xcc4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc4d), 0x5c);
        // 5C 016F
        gbc.setState(0xdc05, 0xa87e, 0x6e90, 0xf717, 0xfcf2, 0x3c39, 0x1, 0x0);
        gbc.writeMem(0xdc05, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa87e);
        EXPECT(gbc.pc(), 0xdc06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc05), 0x5c);
        // 5C 0170
        gbc.setState(0x6266, 0x4c87, 0x6ea0, 0xa890, 0x4ea7, 0x4021, 0x0, 0x0);
        gbc.writeMem(0x6266, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4c87);
        EXPECT(gbc.pc(), 0x6267);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0171
        gbc.setState(0x2f3, 0x7bf7, 0xa990, 0x13b7, 0xe296, 0x8df6, 0x0, 0x0);
        gbc.writeMem(0x2f3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7bf7);
        EXPECT(gbc.pc(), 0x2f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0172
        gbc.setState(0xbd37, 0xf887, 0xbc20, 0x1bb0, 0xc8a6, 0x4dac, 0x1, 0x1);
        gbc.writeMem(0xbd37, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf887);
        EXPECT(gbc.pc(), 0xbd38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd37), 0x5c);
        // 5C 0173
        gbc.setState(0x3d55, 0x714d, 0xc10, 0x7b8, 0x561a, 0x5369, 0x0, 0x0);
        gbc.writeMem(0x3d55, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x714d);
        EXPECT(gbc.pc(), 0x3d56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0174
        gbc.setState(0x78eb, 0xa669, 0xac70, 0xbdb7, 0x7e50, 0x7f91, 0x0, 0x1);
        gbc.writeMem(0x78eb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa669);
        EXPECT(gbc.pc(), 0x78ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0175
        gbc.setState(0xc57c, 0x65bc, 0x5a30, 0xa08, 0xc76c, 0x5753, 0x1, 0x1);
        gbc.writeMem(0xc57c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x65bc);
        EXPECT(gbc.pc(), 0xc57d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc57c), 0x5c);
        // 5C 0176
        gbc.setState(0xcb2b, 0xe51d, 0xa080, 0xcef3, 0x504a, 0x17f8, 0x0, 0x0);
        gbc.writeMem(0xcb2b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe51d);
        EXPECT(gbc.pc(), 0xcb2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb2b), 0x5c);
        // 5C 0177
        gbc.setState(0x99ef, 0x51d0, 0x8410, 0x7502, 0x6d7e, 0x83fe, 0x0, 0x1);
        gbc.writeMem(0x99ef, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x51d0);
        EXPECT(gbc.pc(), 0x99f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99ef), 0x5c);
        // 5C 0178
        gbc.setState(0x28ae, 0xde83, 0xfdd0, 0xb2be, 0x321b, 0xab75, 0x0, 0x1);
        gbc.writeMem(0x28ae, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xde83);
        EXPECT(gbc.pc(), 0x28af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0179
        gbc.setState(0xebe0, 0xdcf, 0xdfb0, 0xf58a, 0x8087, 0x3ee1, 0x0, 0x0);
        gbc.writeMem(0xebe0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xdcf);
        EXPECT(gbc.pc(), 0xebe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebe0), 0x5c);
        // 5C 017A
        gbc.setState(0xe80, 0x47db, 0x2650, 0xb162, 0x26ce, 0x9f85, 0x1, 0x1);
        gbc.writeMem(0xe80, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x47db);
        EXPECT(gbc.pc(), 0xe81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 017C
        gbc.setState(0x8494, 0x4e85, 0xea60, 0x580c, 0xeae7, 0x7597, 0x0, 0x1);
        gbc.writeMem(0x8494, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x4e85);
        EXPECT(gbc.pc(), 0x8495);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8494), 0x5c);
        // 5C 017D
        gbc.setState(0x21b7, 0xaab8, 0x5fb0, 0xb804, 0xd536, 0xb6b0, 0x0, 0x0);
        gbc.writeMem(0x21b7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xaab8);
        EXPECT(gbc.pc(), 0x21b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 017E
        gbc.setState(0x90fb, 0x4860, 0x5410, 0x1d1f, 0x4bfb, 0xadea, 0x0, 0x1);
        gbc.writeMem(0x90fb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4860);
        EXPECT(gbc.pc(), 0x90fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90fb), 0x5c);
        // 5C 017F
        gbc.setState(0xd1a, 0x5137, 0x7140, 0x79f8, 0xf2d9, 0x4bf0, 0x0, 0x0);
        gbc.writeMem(0xd1a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5137);
        EXPECT(gbc.pc(), 0xd1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0180
        gbc.setState(0xa463, 0x6d63, 0x590, 0xf75e, 0xf1a9, 0xd0b7, 0x0, 0x0);
        gbc.writeMem(0xa463, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6d63);
        EXPECT(gbc.pc(), 0xa464);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa463), 0x5c);
        // 5C 0181
        gbc.setState(0xe91, 0xce55, 0x3400, 0xb79c, 0xded7, 0x297e, 0x1, 0x1);
        gbc.writeMem(0xe91, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xce55);
        EXPECT(gbc.pc(), 0xe92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0182
        gbc.setState(0x1e3c, 0xe0b3, 0xd850, 0x211d, 0xee91, 0xb01b, 0x1, 0x0);
        gbc.writeMem(0x1e3c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe0b3);
        EXPECT(gbc.pc(), 0x1e3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0183
        gbc.setState(0x18d8, 0x4e4e, 0x17a0, 0xb1ce, 0x8e3b, 0x90b3, 0x0, 0x0);
        gbc.writeMem(0x18d8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4e4e);
        EXPECT(gbc.pc(), 0x18d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0184
        gbc.setState(0xc4b4, 0xb12d, 0xd4d0, 0xa310, 0x423b, 0x5480, 0x0, 0x0);
        gbc.writeMem(0xc4b4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb12d);
        EXPECT(gbc.pc(), 0xc4b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4b4), 0x5c);
        // 5C 0185
        gbc.setState(0x2a00, 0x75eb, 0x26a0, 0x55be, 0x58bf, 0x5abc, 0x1, 0x1);
        gbc.writeMem(0x2a00, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x75eb);
        EXPECT(gbc.pc(), 0x2a01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0186
        gbc.setState(0xbb7c, 0xa8f9, 0xa5c0, 0x892b, 0xd019, 0xad5f, 0x0, 0x0);
        gbc.writeMem(0xbb7c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa8f9);
        EXPECT(gbc.pc(), 0xbb7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb7c), 0x5c);
        // 5C 0187
        gbc.setState(0x4bff, 0x4629, 0xbb90, 0xc664, 0x678e, 0x735f, 0x1, 0x1);
        gbc.writeMem(0x4bff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4629);
        EXPECT(gbc.pc(), 0x4c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0189
        gbc.setState(0x8729, 0xff3a, 0xc140, 0x1ca8, 0xd5b0, 0xdb55, 0x0, 0x1);
        gbc.writeMem(0x8729, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xff3a);
        EXPECT(gbc.pc(), 0x872a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8729), 0x5c);
        // 5C 018A
        gbc.setState(0x5632, 0x1310, 0xebc0, 0xce62, 0xb578, 0x6466, 0x1, 0x0);
        gbc.writeMem(0x5632, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1310);
        EXPECT(gbc.pc(), 0x5633);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 018B
        gbc.setState(0xc9c0, 0x5a6d, 0xdf30, 0x28, 0xbcda, 0x6ec7, 0x0, 0x0);
        gbc.writeMem(0xc9c0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5a6d);
        EXPECT(gbc.pc(), 0xc9c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9c0), 0x5c);
        // 5C 018C
        gbc.setState(0x1922, 0xf017, 0x3660, 0x1c3b, 0x4c03, 0x79d7, 0x0, 0x1);
        gbc.writeMem(0x1922, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf017);
        EXPECT(gbc.pc(), 0x1923);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 018D
        gbc.setState(0x5d87, 0xf67, 0x6cb0, 0xf54f, 0xba52, 0x451, 0x1, 0x0);
        gbc.writeMem(0x5d87, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xf67);
        EXPECT(gbc.pc(), 0x5d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 018E
        gbc.setState(0x4691, 0xe574, 0xf860, 0xc41, 0x9fc8, 0xce87, 0x0, 0x0);
        gbc.writeMem(0x4691, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe574);
        EXPECT(gbc.pc(), 0x4692);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 018F
        gbc.setState(0x60fc, 0x34ca, 0x7a80, 0xbb8d, 0x3270, 0x55dd, 0x0, 0x0);
        gbc.writeMem(0x60fc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x34ca);
        EXPECT(gbc.pc(), 0x60fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0190
        gbc.setState(0x7d71, 0x370e, 0x8370, 0xfffa, 0x288f, 0x768c, 0x0, 0x0);
        gbc.writeMem(0x7d71, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x370e);
        EXPECT(gbc.pc(), 0x7d72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0191
        gbc.setState(0x8366, 0x28d9, 0x3a20, 0xa79, 0x39c5, 0xb0a, 0x1, 0x0);
        gbc.writeMem(0x8366, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x28d9);
        EXPECT(gbc.pc(), 0x8367);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8366), 0x5c);
        // 5C 0193
        gbc.setState(0xe0bf, 0xcabf, 0x6310, 0x425b, 0xe77e, 0x8c70, 0x1, 0x1);
        gbc.writeMem(0xe0bf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xcabf);
        EXPECT(gbc.pc(), 0xe0c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0bf), 0x5c);
        // 5C 0194
        gbc.setState(0x878e, 0xf4ab, 0x9650, 0xc548, 0x8d77, 0xe80a, 0x1, 0x1);
        gbc.writeMem(0x878e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf4ab);
        EXPECT(gbc.pc(), 0x878f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x878e), 0x5c);
        // 5C 0195
        gbc.setState(0xe07c, 0x2066, 0x5000, 0xf202, 0x7a34, 0x6ab9, 0x1, 0x0);
        gbc.writeMem(0xe07c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x2066);
        EXPECT(gbc.pc(), 0xe07d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe07c), 0x5c);
        // 5C 0196
        gbc.setState(0x48e6, 0xcdff, 0xa6d0, 0xb7cd, 0x111c, 0x65a8, 0x0, 0x1);
        gbc.writeMem(0x48e6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcdff);
        EXPECT(gbc.pc(), 0x48e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0197
        gbc.setState(0x6e96, 0xd1b, 0xc9b0, 0x79c5, 0x55b, 0x9342, 0x0, 0x0);
        gbc.writeMem(0x6e96, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd1b);
        EXPECT(gbc.pc(), 0x6e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0198
        gbc.setState(0x95bc, 0x3ffe, 0xf10, 0x3973, 0x71c9, 0x711b, 0x1, 0x1);
        gbc.writeMem(0x95bc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3ffe);
        EXPECT(gbc.pc(), 0x95bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95bc), 0x5c);
        // 5C 0199
        gbc.setState(0xa896, 0xb0e0, 0xdbc0, 0x5eed, 0x41de, 0x445e, 0x0, 0x1);
        gbc.writeMem(0xa896, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xb0e0);
        EXPECT(gbc.pc(), 0xa897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa896), 0x5c);
        // 5C 019A
        gbc.setState(0x9c0a, 0x4c90, 0x5d10, 0xe129, 0x2bf, 0x37d1, 0x0, 0x1);
        gbc.writeMem(0x9c0a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4c90);
        EXPECT(gbc.pc(), 0x9c0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c0a), 0x5c);
        // 5C 019B
        gbc.setState(0x4747, 0x9e12, 0xf720, 0x1cb6, 0x2bd8, 0x2890, 0x0, 0x0);
        gbc.writeMem(0x4747, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9e12);
        EXPECT(gbc.pc(), 0x4748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 019C
        gbc.setState(0x1a0d, 0x9e48, 0x7440, 0xf305, 0xec8b, 0xcdc9, 0x1, 0x0);
        gbc.writeMem(0x1a0d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9e48);
        EXPECT(gbc.pc(), 0x1a0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 019D
        gbc.setState(0xe009, 0x4ee9, 0x5840, 0x17f7, 0x76cc, 0x2a91, 0x1, 0x0);
        gbc.writeMem(0xe009, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4ee9);
        EXPECT(gbc.pc(), 0xe00a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe009), 0x5c);
        // 5C 019E
        gbc.setState(0xd002, 0x4b71, 0x78c0, 0x98ac, 0x3d21, 0x7ec4, 0x1, 0x0);
        gbc.writeMem(0xd002, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x4b71);
        EXPECT(gbc.pc(), 0xd003);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd002), 0x5c);
        // 5C 019F
        gbc.setState(0x829b, 0xd554, 0x3200, 0x565d, 0x6498, 0x9a24, 0x1, 0x0);
        gbc.writeMem(0x829b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xd554);
        EXPECT(gbc.pc(), 0x829c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x829b), 0x5c);
        // 5C 01A0
        gbc.setState(0x35fc, 0xccfd, 0xa80, 0x7ce5, 0xdf7, 0x778b, 0x1, 0x1);
        gbc.writeMem(0x35fc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xccfd);
        EXPECT(gbc.pc(), 0x35fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01A1
        gbc.setState(0xb284, 0x2f6d, 0x82e0, 0x8d00, 0xafc5, 0x5ea2, 0x1, 0x1);
        gbc.writeMem(0xb284, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2f6d);
        EXPECT(gbc.pc(), 0xb285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb284), 0x5c);
        // 5C 01A2
        gbc.setState(0x5e79, 0xaceb, 0xb370, 0x62a5, 0xa46c, 0xe5f4, 0x0, 0x1);
        gbc.writeMem(0x5e79, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xaceb);
        EXPECT(gbc.pc(), 0x5e7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01A3
        gbc.setState(0x14df, 0x5e45, 0xb2c0, 0x40f4, 0x4e33, 0x6f74, 0x0, 0x0);
        gbc.writeMem(0x14df, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5e45);
        EXPECT(gbc.pc(), 0x14e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01A4
        gbc.setState(0x245e, 0xa03b, 0x10e0, 0x9ef9, 0x1b5c, 0xa01, 0x0, 0x0);
        gbc.writeMem(0x245e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xa03b);
        EXPECT(gbc.pc(), 0x245f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01A5
        gbc.setState(0xad97, 0x857, 0x4a30, 0xd938, 0x472c, 0x51e2, 0x0, 0x0);
        gbc.writeMem(0xad97, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x857);
        EXPECT(gbc.pc(), 0xad98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad97), 0x5c);
        // 5C 01A6
        gbc.setState(0xa67b, 0xb47a, 0x6700, 0xf3c4, 0xc5b6, 0xb32e, 0x0, 0x1);
        gbc.writeMem(0xa67b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb47a);
        EXPECT(gbc.pc(), 0xa67c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa67b), 0x5c);
        // 5C 01A7
        gbc.setState(0x23e8, 0x5f9e, 0x6e70, 0x4a0d, 0x9587, 0x3777, 0x1, 0x1);
        gbc.writeMem(0x23e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5f9e);
        EXPECT(gbc.pc(), 0x23e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01A8
        gbc.setState(0x2af1, 0xbd36, 0xbc20, 0x576c, 0xb108, 0x51dd, 0x1, 0x1);
        gbc.writeMem(0x2af1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xbd36);
        EXPECT(gbc.pc(), 0x2af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01A9
        gbc.setState(0x136, 0xd78c, 0xd010, 0x2f23, 0xc24c, 0x746d, 0x1, 0x1);
        gbc.writeMem(0x136, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xd78c);
        EXPECT(gbc.pc(), 0x137);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 01AA
        gbc.setState(0xa352, 0xbfa4, 0x460, 0xba89, 0xe12, 0xab3d, 0x1, 0x0);
        gbc.writeMem(0xa352, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbfa4);
        EXPECT(gbc.pc(), 0xa353);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa352), 0x5c);
        // 5C 01AB
        gbc.setState(0xde38, 0xc52, 0x2d60, 0x7a13, 0x22eb, 0x46b6, 0x1, 0x1);
        gbc.writeMem(0xde38, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xc52);
        EXPECT(gbc.pc(), 0xde39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde38), 0x5c);
        // 5C 01AC
        gbc.setState(0x4e88, 0x3e57, 0xca50, 0x9bf, 0xa7a3, 0x5a03, 0x0, 0x1);
        gbc.writeMem(0x4e88, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3e57);
        EXPECT(gbc.pc(), 0x4e89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 01AE
        gbc.setState(0xed8c, 0x2b1c, 0x7410, 0xbbb7, 0xce93, 0x311, 0x1, 0x0);
        gbc.writeMem(0xed8c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2b1c);
        EXPECT(gbc.pc(), 0xed8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed8c), 0x5c);
        // 5C 01AF
        gbc.setState(0xa3f1, 0x7473, 0xf960, 0x7d13, 0xa580, 0x8f6a, 0x1, 0x0);
        gbc.writeMem(0xa3f1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x7473);
        EXPECT(gbc.pc(), 0xa3f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3f1), 0x5c);
        // 5C 01B0
        gbc.setState(0xc1cb, 0xa1c7, 0x8360, 0x28e, 0x49fb, 0x8b7f, 0x0, 0x0);
        gbc.writeMem(0xc1cb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa1c7);
        EXPECT(gbc.pc(), 0xc1cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1cb), 0x5c);
        // 5C 01B1
        gbc.setState(0x23bd, 0xd63d, 0xfac0, 0x4237, 0x918, 0xc322, 0x1, 0x1);
        gbc.writeMem(0x23bd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd63d);
        EXPECT(gbc.pc(), 0x23be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01B2
        gbc.setState(0xaa1a, 0x63a5, 0x9d10, 0x22b5, 0x33dd, 0x4fac, 0x1, 0x0);
        gbc.writeMem(0xaa1a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x63a5);
        EXPECT(gbc.pc(), 0xaa1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa1a), 0x5c);
        // 5C 01B3
        gbc.setState(0x10d5, 0x2e3e, 0x2d30, 0xf50b, 0xb8f3, 0x380b, 0x0, 0x1);
        gbc.writeMem(0x10d5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2e3e);
        EXPECT(gbc.pc(), 0x10d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01B5
        gbc.setState(0x207b, 0xc557, 0x1260, 0x8315, 0x8404, 0xc46e, 0x1, 0x0);
        gbc.writeMem(0x207b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xc557);
        EXPECT(gbc.pc(), 0x207c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01B6
        gbc.setState(0x8ddc, 0x3c04, 0x2910, 0xac7f, 0xaddf, 0xfc8e, 0x1, 0x0);
        gbc.writeMem(0x8ddc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3c04);
        EXPECT(gbc.pc(), 0x8ddd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ddc), 0x5c);
        // 5C 01B7
        gbc.setState(0x1ff7, 0x10db, 0x5970, 0xdefb, 0xfe51, 0xd0a1, 0x0, 0x1);
        gbc.writeMem(0x1ff7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x10db);
        EXPECT(gbc.pc(), 0x1ff8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01B9
        gbc.setState(0x143d, 0x4d47, 0xb740, 0x9e12, 0x4505, 0xdd95, 0x1, 0x1);
        gbc.writeMem(0x143d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4d47);
        EXPECT(gbc.pc(), 0x143e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01BA
        gbc.setState(0x9f10, 0x6edd, 0x920, 0xfa5b, 0xb72c, 0xba3e, 0x0, 0x1);
        gbc.writeMem(0x9f10, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6edd);
        EXPECT(gbc.pc(), 0x9f11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f10), 0x5c);
        // 5C 01BB
        gbc.setState(0xd9ce, 0x75fd, 0x800, 0x273a, 0xabbe, 0xbab2, 0x0, 0x1);
        gbc.writeMem(0xd9ce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x75fd);
        EXPECT(gbc.pc(), 0xd9cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ce), 0x5c);
        // 5C 01BC
        gbc.setState(0x8dee, 0xaf0, 0x190, 0x6c12, 0x8529, 0xa56f, 0x0, 0x1);
        gbc.writeMem(0x8dee, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xaf0);
        EXPECT(gbc.pc(), 0x8def);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dee), 0x5c);
        // 5C 01BD
        gbc.setState(0x84b9, 0x9627, 0xef60, 0xb519, 0x575a, 0x33d7, 0x0, 0x1);
        gbc.writeMem(0x84b9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x9627);
        EXPECT(gbc.pc(), 0x84ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84b9), 0x5c);
        // 5C 01C0
        gbc.setState(0x112d, 0xf5e5, 0xe230, 0x9f1b, 0x901a, 0x2d32, 0x0, 0x0);
        gbc.writeMem(0x112d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf5e5);
        EXPECT(gbc.pc(), 0x112e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01C1
        gbc.setState(0xe9eb, 0x5d86, 0xc270, 0x53a, 0x6c01, 0xae0c, 0x0, 0x0);
        gbc.writeMem(0xe9eb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5d86);
        EXPECT(gbc.pc(), 0xe9ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9eb), 0x5c);
        // 5C 01C2
        gbc.setState(0x4aa0, 0x3c04, 0xa4c0, 0x559a, 0x14d8, 0x7d79, 0x0, 0x0);
        gbc.writeMem(0x4aa0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3c04);
        EXPECT(gbc.pc(), 0x4aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01C3
        gbc.setState(0xc95b, 0x1212, 0xa8e0, 0x190e, 0x5da0, 0x42ba, 0x0, 0x1);
        gbc.writeMem(0xc95b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1212);
        EXPECT(gbc.pc(), 0xc95c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc95b), 0x5c);
        // 5C 01C4
        gbc.setState(0x7a64, 0xd849, 0xd7c0, 0x6f6e, 0x7a48, 0xf4ec, 0x0, 0x1);
        gbc.writeMem(0x7a64, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd849);
        EXPECT(gbc.pc(), 0x7a65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01C6
        gbc.setState(0x83e7, 0x383c, 0xdb40, 0x3bcf, 0x5624, 0x7e2f, 0x0, 0x0);
        gbc.writeMem(0x83e7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x383c);
        EXPECT(gbc.pc(), 0x83e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e7), 0x5c);
        // 5C 01C8
        gbc.setState(0x161e, 0x36b7, 0xb060, 0xe802, 0x8289, 0x16f9, 0x0, 0x1);
        gbc.writeMem(0x161e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x36b7);
        EXPECT(gbc.pc(), 0x161f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01C9
        gbc.setState(0x865b, 0xc839, 0x1b30, 0xc040, 0xb1df, 0x8865, 0x1, 0x0);
        gbc.writeMem(0x865b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc839);
        EXPECT(gbc.pc(), 0x865c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x865b), 0x5c);
        // 5C 01CB
        gbc.setState(0x77a9, 0x420, 0x9040, 0x701b, 0x2a71, 0x66f3, 0x1, 0x0);
        gbc.writeMem(0x77a9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x420);
        EXPECT(gbc.pc(), 0x77aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01CC
        gbc.setState(0x4286, 0xb480, 0xdda0, 0x4aa8, 0xe0b7, 0xb27f, 0x0, 0x1);
        gbc.writeMem(0x4286, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xb480);
        EXPECT(gbc.pc(), 0x4287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01CD
        gbc.setState(0xdf, 0x83b6, 0x3a60, 0x5331, 0xdcbd, 0xcd7c, 0x1, 0x0);
        gbc.writeMem(0xdf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x83b6);
        EXPECT(gbc.pc(), 0xe0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01CE
        gbc.setState(0x8b50, 0xb1b, 0x98e0, 0x22cc, 0x6057, 0xce26, 0x0, 0x1);
        gbc.writeMem(0x8b50, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb1b);
        EXPECT(gbc.pc(), 0x8b51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b50), 0x5c);
        // 5C 01CF
        gbc.setState(0x88c, 0x9359, 0x8460, 0x7618, 0x3965, 0x6617, 0x0, 0x0);
        gbc.writeMem(0x88c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9359);
        EXPECT(gbc.pc(), 0x88d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01D0
        gbc.setState(0xba55, 0x4c9b, 0xd5c0, 0xd487, 0x721c, 0x7463, 0x1, 0x1);
        gbc.writeMem(0xba55, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x4c9b);
        EXPECT(gbc.pc(), 0xba56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba55), 0x5c);
        // 5C 01D1
        gbc.setState(0x4a85, 0xb18a, 0x3940, 0x2f3c, 0xf451, 0x30fb, 0x0, 0x0);
        gbc.writeMem(0x4a85, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xb18a);
        EXPECT(gbc.pc(), 0x4a86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01D2
        gbc.setState(0xa196, 0x811, 0x630, 0xeb6b, 0x5d52, 0x3bce, 0x0, 0x0);
        gbc.writeMem(0xa196, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x811);
        EXPECT(gbc.pc(), 0xa197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa196), 0x5c);
        // 5C 01D3
        gbc.setState(0x1be2, 0x40, 0xa040, 0x5384, 0x5039, 0x8d82, 0x1, 0x1);
        gbc.writeMem(0x1be2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x40);
        EXPECT(gbc.pc(), 0x1be3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01D4
        gbc.setState(0x876a, 0xc355, 0xcaf0, 0x50d3, 0x811f, 0xe7fe, 0x1, 0x1);
        gbc.writeMem(0x876a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc355);
        EXPECT(gbc.pc(), 0x876b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x876a), 0x5c);
        // 5C 01D5
        gbc.setState(0x42e, 0xa92, 0xb800, 0xf068, 0xb1d2, 0x4c05, 0x1, 0x0);
        gbc.writeMem(0x42e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa92);
        EXPECT(gbc.pc(), 0x42f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01D6
        gbc.setState(0x1925, 0xcae6, 0xb30, 0xe805, 0xe94e, 0x3a60, 0x1, 0x0);
        gbc.writeMem(0x1925, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xcae6);
        EXPECT(gbc.pc(), 0x1926);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01D7
        gbc.setState(0x3d74, 0x7524, 0x6ce0, 0xde7e, 0x6470, 0x3060, 0x0, 0x0);
        gbc.writeMem(0x3d74, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x7524);
        EXPECT(gbc.pc(), 0x3d75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01D8
        gbc.setState(0x365c, 0xa1ad, 0xf9b0, 0xa969, 0x99eb, 0x9563, 0x0, 0x0);
        gbc.writeMem(0x365c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xa1ad);
        EXPECT(gbc.pc(), 0x365d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01D9
        gbc.setState(0x96d, 0x9b05, 0xcde0, 0x6fbc, 0x3528, 0x6485, 0x0, 0x0);
        gbc.writeMem(0x96d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9b05);
        EXPECT(gbc.pc(), 0x96e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01DA
        gbc.setState(0xb4f9, 0xdc02, 0x6aa0, 0xdd9, 0x9f34, 0xae3a, 0x0, 0x1);
        gbc.writeMem(0xb4f9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdc02);
        EXPECT(gbc.pc(), 0xb4fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4f9), 0x5c);
        // 5C 01DB
        gbc.setState(0x80df, 0xc3cb, 0x1f40, 0x68f7, 0xb3f4, 0xf96, 0x0, 0x0);
        gbc.writeMem(0x80df, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc3cb);
        EXPECT(gbc.pc(), 0x80e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80df), 0x5c);
        // 5C 01DC
        gbc.setState(0x85ac, 0x421, 0x2100, 0xe4e6, 0x1744, 0x4d29, 0x0, 0x0);
        gbc.writeMem(0x85ac, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x421);
        EXPECT(gbc.pc(), 0x85ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ac), 0x5c);
        // 5C 01DD
        gbc.setState(0x88aa, 0x2375, 0x4fa0, 0x5909, 0x35b6, 0xa142, 0x1, 0x1);
        gbc.writeMem(0x88aa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2375);
        EXPECT(gbc.pc(), 0x88ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88aa), 0x5c);
        // 5C 01DE
        gbc.setState(0xa143, 0xaa68, 0x5e0, 0x17bd, 0xff71, 0x29e1, 0x1, 0x1);
        gbc.writeMem(0xa143, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xaa68);
        EXPECT(gbc.pc(), 0xa144);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa143), 0x5c);
        // 5C 01DF
        gbc.setState(0x89bd, 0xe17, 0xca80, 0x6c1d, 0x13, 0x6d2d, 0x0, 0x0);
        gbc.writeMem(0x89bd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe17);
        EXPECT(gbc.pc(), 0x89be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89bd), 0x5c);
        // 5C 01E0
        gbc.setState(0x2301, 0xa07f, 0xdf0, 0x15f2, 0xc8e, 0x7bc9, 0x0, 0x0);
        gbc.writeMem(0x2301, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa07f);
        EXPECT(gbc.pc(), 0x2302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01E1
        gbc.setState(0xa338, 0xc697, 0x8400, 0x308c, 0xacac, 0x699b, 0x0, 0x1);
        gbc.writeMem(0xa338, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc697);
        EXPECT(gbc.pc(), 0xa339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa338), 0x5c);
        // 5C 01E2
        gbc.setState(0x35a8, 0x54f1, 0x1c30, 0x497d, 0x8ec4, 0xc6dd, 0x1, 0x0);
        gbc.writeMem(0x35a8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x54f1);
        EXPECT(gbc.pc(), 0x35a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01E3
        gbc.setState(0x99d9, 0xb429, 0x5c0, 0x1f75, 0xd79d, 0x96f9, 0x1, 0x0);
        gbc.writeMem(0x99d9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb429);
        EXPECT(gbc.pc(), 0x99da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d9), 0x5c);
        // 5C 01E4
        gbc.setState(0x14f2, 0x768a, 0x4eb0, 0x67e1, 0x5620, 0xe92a, 0x0, 0x1);
        gbc.writeMem(0x14f2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x768a);
        EXPECT(gbc.pc(), 0x14f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01E5
        gbc.setState(0xd5fd, 0xbe63, 0xb1a0, 0x952b, 0x6ab2, 0x5441, 0x1, 0x0);
        gbc.writeMem(0xd5fd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbe63);
        EXPECT(gbc.pc(), 0xd5fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5fd), 0x5c);
        // 5C 01E6
        gbc.setState(0x4933, 0x9d03, 0x1900, 0x7fea, 0xc85c, 0xae21, 0x0, 0x0);
        gbc.writeMem(0x4933, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9d03);
        EXPECT(gbc.pc(), 0x4934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01E7
        gbc.setState(0x3d2e, 0x960a, 0x10c0, 0x88b7, 0x9e58, 0xc0e7, 0x0, 0x0);
        gbc.writeMem(0x3d2e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x960a);
        EXPECT(gbc.pc(), 0x3d2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01E8
        gbc.setState(0x1858, 0xd4fc, 0x7610, 0xcb45, 0xa112, 0x105e, 0x0, 0x1);
        gbc.writeMem(0x1858, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd4fc);
        EXPECT(gbc.pc(), 0x1859);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 01E9
        gbc.setState(0xb357, 0x8037, 0xfe70, 0x53e4, 0x4ec4, 0x5f17, 0x0, 0x0);
        gbc.writeMem(0xb357, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8037);
        EXPECT(gbc.pc(), 0xb358);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb357), 0x5c);
        // 5C 01EB
        gbc.setState(0xc355, 0x8772, 0x21c0, 0xab4b, 0x3dd6, 0x3c7c, 0x0, 0x0);
        gbc.writeMem(0xc355, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8772);
        EXPECT(gbc.pc(), 0xc356);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc355), 0x5c);
        // 5C 01EC
        gbc.setState(0xec2f, 0x3146, 0x4960, 0x560f, 0x5be4, 0xba4c, 0x1, 0x0);
        gbc.writeMem(0xec2f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3146);
        EXPECT(gbc.pc(), 0xec30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec2f), 0x5c);
        // 5C 01ED
        gbc.setState(0xa5e6, 0x20ff, 0xca70, 0x7549, 0x35dc, 0xd074, 0x0, 0x0);
        gbc.writeMem(0xa5e6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x20ff);
        EXPECT(gbc.pc(), 0xa5e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5e6), 0x5c);
        // 5C 01EE
        gbc.setState(0x6a01, 0xcaea, 0xac80, 0xd9a1, 0xb821, 0x5297, 0x1, 0x0);
        gbc.writeMem(0x6a01, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xcaea);
        EXPECT(gbc.pc(), 0x6a02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01EF
        gbc.setState(0xe7ea, 0x583c, 0xba90, 0xabb9, 0x6bd2, 0x80d3, 0x0, 0x1);
        gbc.writeMem(0xe7ea, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x583c);
        EXPECT(gbc.pc(), 0xe7eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7ea), 0x5c);
        // 5C 01F0
        gbc.setState(0xd3fe, 0xad16, 0x9dd0, 0xb827, 0x8524, 0x4e20, 0x1, 0x1);
        gbc.writeMem(0xd3fe, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xad16);
        EXPECT(gbc.pc(), 0xd3ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3fe), 0x5c);
        // 5C 01F1
        gbc.setState(0x6efd, 0x10e0, 0x8860, 0x8757, 0xabe9, 0xaf04, 0x1, 0x1);
        gbc.writeMem(0x6efd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x10e0);
        EXPECT(gbc.pc(), 0x6efe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01F2
        gbc.setState(0x49b8, 0xdbec, 0x67d0, 0xa07b, 0x63eb, 0xc688, 0x1, 0x0);
        gbc.writeMem(0x49b8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xdbec);
        EXPECT(gbc.pc(), 0x49b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 01F3
        gbc.setState(0x1673, 0x666d, 0xb300, 0xe683, 0x2ac4, 0x354a, 0x0, 0x0);
        gbc.writeMem(0x1673, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x666d);
        EXPECT(gbc.pc(), 0x1674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01F4
        gbc.setState(0x9097, 0xad02, 0x7aa0, 0x56b5, 0x9c46, 0xd839, 0x0, 0x1);
        gbc.writeMem(0x9097, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xad02);
        EXPECT(gbc.pc(), 0x9098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9097), 0x5c);
        // 5C 01F5
        gbc.setState(0x47fd, 0xb3e1, 0xfa00, 0x85ab, 0xce3d, 0xb679, 0x1, 0x1);
        gbc.writeMem(0x47fd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb3e1);
        EXPECT(gbc.pc(), 0x47fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 01F6
        gbc.setState(0xcc74, 0x1b43, 0xc1e0, 0x4450, 0x17c7, 0x862c, 0x0, 0x0);
        gbc.writeMem(0xcc74, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x1b43);
        EXPECT(gbc.pc(), 0xcc75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc74), 0x5c);
        // 5C 01F7
        gbc.setState(0x1507, 0x4486, 0xb350, 0x20be, 0xf779, 0x64, 0x1, 0x1);
        gbc.writeMem(0x1507, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4486);
        EXPECT(gbc.pc(), 0x1508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 01F8
        gbc.setState(0xb221, 0xd67d, 0xb630, 0xdc3, 0xfbec, 0x5f4e, 0x1, 0x1);
        gbc.writeMem(0xb221, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd67d);
        EXPECT(gbc.pc(), 0xb222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb221), 0x5c);
        // 5C 01F9
        gbc.setState(0x5eb7, 0x3ddd, 0x160, 0xd009, 0xde4a, 0x94e0, 0x0, 0x1);
        gbc.writeMem(0x5eb7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3ddd);
        EXPECT(gbc.pc(), 0x5eb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01FA
        gbc.setState(0x455a, 0xb5ba, 0x9bf0, 0xc8c, 0x9a, 0x43b9, 0x0, 0x0);
        gbc.writeMem(0x455a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb5ba);
        EXPECT(gbc.pc(), 0x455b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01FB
        gbc.setState(0x143d, 0x85dd, 0x1350, 0xd660, 0xa4b5, 0x641, 0x1, 0x0);
        gbc.writeMem(0x143d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x85dd);
        EXPECT(gbc.pc(), 0x143e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 01FC
        gbc.setState(0x85f7, 0x92c7, 0x5580, 0x6a50, 0xf0cc, 0x27f5, 0x0, 0x1);
        gbc.writeMem(0x85f7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x92c7);
        EXPECT(gbc.pc(), 0x85f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85f7), 0x5c);
        // 5C 01FD
        gbc.setState(0x3918, 0x7192, 0x6130, 0x94cc, 0x425b, 0xb81f, 0x0, 0x0);
        gbc.writeMem(0x3918, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x7192);
        EXPECT(gbc.pc(), 0x3919);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 01FE
        gbc.setState(0x6a69, 0xc78, 0xe0e0, 0x8b38, 0x9742, 0x772d, 0x0, 0x1);
        gbc.writeMem(0x6a69, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc78);
        EXPECT(gbc.pc(), 0x6a6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 01FF
        gbc.setState(0xbd24, 0xb8c8, 0xf1c0, 0x764e, 0xfb44, 0x989, 0x0, 0x0);
        gbc.writeMem(0xbd24, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb8c8);
        EXPECT(gbc.pc(), 0xbd25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd24), 0x5c);
        // 5C 0200
        gbc.setState(0x2677, 0x337, 0xd120, 0x39fa, 0xa750, 0xa71f, 0x1, 0x1);
        gbc.writeMem(0x2677, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x337);
        EXPECT(gbc.pc(), 0x2678);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0201
        gbc.setState(0x86f6, 0xe76f, 0xcee0, 0xaf09, 0xf64f, 0xdaf3, 0x1, 0x0);
        gbc.writeMem(0x86f6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe76f);
        EXPECT(gbc.pc(), 0x86f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f6), 0x5c);
        // 5C 0202
        gbc.setState(0xb576, 0xa00c, 0x1d00, 0xfbf3, 0x17e6, 0x74a9, 0x0, 0x0);
        gbc.writeMem(0xb576, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xa00c);
        EXPECT(gbc.pc(), 0xb577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb576), 0x5c);
        // 5C 0203
        gbc.setState(0xceb9, 0x13, 0xbeb0, 0x4a4, 0x73f4, 0x6aa9, 0x1, 0x0);
        gbc.writeMem(0xceb9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x13);
        EXPECT(gbc.pc(), 0xceba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceb9), 0x5c);
        // 5C 0204
        gbc.setState(0xae63, 0x32bf, 0xe00, 0x59a9, 0x97c1, 0xcb38, 0x1, 0x0);
        gbc.writeMem(0xae63, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x32bf);
        EXPECT(gbc.pc(), 0xae64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae63), 0x5c);
        // 5C 0205
        gbc.setState(0xa199, 0x760b, 0x48a0, 0xc375, 0xa4f9, 0xa25, 0x0, 0x1);
        gbc.writeMem(0xa199, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x760b);
        EXPECT(gbc.pc(), 0xa19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa199), 0x5c);
        // 5C 0206
        gbc.setState(0x403f, 0x8cdd, 0x1cf0, 0x310, 0x5fa4, 0xb774, 0x0, 0x1);
        gbc.writeMem(0x403f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8cdd);
        EXPECT(gbc.pc(), 0x4040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0207
        gbc.setState(0xb7e4, 0x8863, 0x6680, 0x2772, 0xc660, 0x5d13, 0x1, 0x0);
        gbc.writeMem(0xb7e4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8863);
        EXPECT(gbc.pc(), 0xb7e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7e4), 0x5c);
        // 5C 0208
        gbc.setState(0x21ab, 0xe2ad, 0x7a70, 0x2685, 0x9fe, 0xaa7e, 0x1, 0x0);
        gbc.writeMem(0x21ab, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe2ad);
        EXPECT(gbc.pc(), 0x21ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0209
        gbc.setState(0x97d6, 0x1e22, 0xd110, 0xb0b8, 0xf1fd, 0x33c3, 0x1, 0x0);
        gbc.writeMem(0x97d6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1e22);
        EXPECT(gbc.pc(), 0x97d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d6), 0x5c);
        // 5C 020A
        gbc.setState(0x1bce, 0x2754, 0x9bf0, 0xea1c, 0xdd9f, 0x3dd, 0x0, 0x0);
        gbc.writeMem(0x1bce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2754);
        EXPECT(gbc.pc(), 0x1bcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 020B
        gbc.setState(0xcb6c, 0x334e, 0x68d0, 0x22fb, 0xc77f, 0x9f82, 0x1, 0x1);
        gbc.writeMem(0xcb6c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x334e);
        EXPECT(gbc.pc(), 0xcb6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb6c), 0x5c);
        // 5C 020C
        gbc.setState(0x644a, 0xa7d0, 0x9e60, 0x8066, 0xea3b, 0x8a4f, 0x0, 0x0);
        gbc.writeMem(0x644a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa7d0);
        EXPECT(gbc.pc(), 0x644b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 020D
        gbc.setState(0x3591, 0x16ac, 0x7b20, 0x25f3, 0x6cfb, 0xbd60, 0x1, 0x1);
        gbc.writeMem(0x3591, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x16ac);
        EXPECT(gbc.pc(), 0x3592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 020E
        gbc.setState(0x562f, 0xda2, 0x1040, 0x5936, 0x27c0, 0x48e6, 0x0, 0x0);
        gbc.writeMem(0x562f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xda2);
        EXPECT(gbc.pc(), 0x5630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 020F
        gbc.setState(0x6c3f, 0x78b3, 0xc720, 0x32cd, 0x4d5, 0x51de, 0x1, 0x0);
        gbc.writeMem(0x6c3f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x78b3);
        EXPECT(gbc.pc(), 0x6c40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0210
        gbc.setState(0x629c, 0x46c3, 0xd420, 0x42e9, 0xaa1a, 0xc1e2, 0x1, 0x1);
        gbc.writeMem(0x629c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x46c3);
        EXPECT(gbc.pc(), 0x629d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0211
        gbc.setState(0xcb2f, 0xedd4, 0x40, 0xd0d, 0xb46a, 0x6e2c, 0x1, 0x1);
        gbc.writeMem(0xcb2f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xedd4);
        EXPECT(gbc.pc(), 0xcb30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb2f), 0x5c);
        // 5C 0212
        gbc.setState(0x70c8, 0xa16d, 0x9740, 0x4027, 0x886c, 0x67f6, 0x1, 0x1);
        gbc.writeMem(0x70c8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xa16d);
        EXPECT(gbc.pc(), 0x70c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0213
        gbc.setState(0xd6e8, 0x496a, 0x7250, 0x2c54, 0xdda2, 0x2f5b, 0x1, 0x1);
        gbc.writeMem(0xd6e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x496a);
        EXPECT(gbc.pc(), 0xd6e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6e8), 0x5c);
        // 5C 0214
        gbc.setState(0xac25, 0xb17b, 0xeb60, 0x4d34, 0xcd32, 0x2542, 0x0, 0x0);
        gbc.writeMem(0xac25, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb17b);
        EXPECT(gbc.pc(), 0xac26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac25), 0x5c);
        // 5C 0215
        gbc.setState(0xefc9, 0x38d4, 0x5d20, 0x6b38, 0x22e2, 0x70a8, 0x1, 0x1);
        gbc.writeMem(0xefc9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x38d4);
        EXPECT(gbc.pc(), 0xefca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc9), 0x5c);
        // 5C 0216
        gbc.setState(0xd7d2, 0xe872, 0xcd20, 0x3473, 0x9d4c, 0xc88, 0x1, 0x1);
        gbc.writeMem(0xd7d2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe872);
        EXPECT(gbc.pc(), 0xd7d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7d2), 0x5c);
        // 5C 0217
        gbc.setState(0x605b, 0xa907, 0xebe0, 0xed0f, 0xbe45, 0x4c5b, 0x0, 0x1);
        gbc.writeMem(0x605b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa907);
        EXPECT(gbc.pc(), 0x605c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0218
        gbc.setState(0x4d3d, 0x57b4, 0xb80, 0xc9a, 0xdcb, 0xfd54, 0x1, 0x1);
        gbc.writeMem(0x4d3d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x57b4);
        EXPECT(gbc.pc(), 0x4d3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0219
        gbc.setState(0x420f, 0xaff0, 0xb030, 0xd688, 0x27a8, 0x1ae4, 0x1, 0x0);
        gbc.writeMem(0x420f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xaff0);
        EXPECT(gbc.pc(), 0x4210);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 021A
        gbc.setState(0x7838, 0x989a, 0xe1b0, 0xfbd6, 0x2d65, 0xd7aa, 0x1, 0x0);
        gbc.writeMem(0x7838, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x989a);
        EXPECT(gbc.pc(), 0x7839);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 021B
        gbc.setState(0xced2, 0x4f81, 0xb810, 0x4b10, 0x27e3, 0x4198, 0x1, 0x1);
        gbc.writeMem(0xced2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4f81);
        EXPECT(gbc.pc(), 0xced3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xced2), 0x5c);
        // 5C 021C
        gbc.setState(0x7a2e, 0x5893, 0x4820, 0x794, 0xb297, 0xc064, 0x0, 0x1);
        gbc.writeMem(0x7a2e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5893);
        EXPECT(gbc.pc(), 0x7a2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 021D
        gbc.setState(0xe579, 0xcfd2, 0xd1d0, 0xfee1, 0x76a9, 0x35bd, 0x0, 0x0);
        gbc.writeMem(0xe579, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xcfd2);
        EXPECT(gbc.pc(), 0xe57a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe579), 0x5c);
        // 5C 021E
        gbc.setState(0x9b34, 0xc160, 0x50d0, 0x898a, 0x5750, 0x38a1, 0x0, 0x0);
        gbc.writeMem(0x9b34, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc160);
        EXPECT(gbc.pc(), 0x9b35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b34), 0x5c);
        // 5C 021F
        gbc.setState(0x92d3, 0x19d0, 0xb170, 0x53aa, 0x5ac3, 0xad6c, 0x0, 0x0);
        gbc.writeMem(0x92d3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x19d0);
        EXPECT(gbc.pc(), 0x92d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92d3), 0x5c);
        // 5C 0220
        gbc.setState(0x31d0, 0x3c76, 0x7c0, 0xf4f, 0x9820, 0x990a, 0x0, 0x0);
        gbc.writeMem(0x31d0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3c76);
        EXPECT(gbc.pc(), 0x31d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0222
        gbc.setState(0x33cc, 0x6383, 0x8ac0, 0xa485, 0x23ad, 0xfbb7, 0x1, 0x1);
        gbc.writeMem(0x33cc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6383);
        EXPECT(gbc.pc(), 0x33cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0223
        gbc.setState(0x54ca, 0x9b30, 0x47a0, 0xeb42, 0xcdf0, 0x63b7, 0x0, 0x1);
        gbc.writeMem(0x54ca, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9b30);
        EXPECT(gbc.pc(), 0x54cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0224
        gbc.setState(0xd0cc, 0x180f, 0x4410, 0x8a8f, 0xe3ea, 0x249c, 0x1, 0x1);
        gbc.writeMem(0xd0cc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x180f);
        EXPECT(gbc.pc(), 0xd0cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0cc), 0x5c);
        // 5C 0225
        gbc.setState(0x60f8, 0xe699, 0x54c0, 0xd77a, 0x912f, 0x106d, 0x0, 0x0);
        gbc.writeMem(0x60f8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe699);
        EXPECT(gbc.pc(), 0x60f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0226
        gbc.setState(0x3bdb, 0x36cc, 0x920, 0x1656, 0xd9fe, 0xd83b, 0x0, 0x0);
        gbc.writeMem(0x3bdb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x36cc);
        EXPECT(gbc.pc(), 0x3bdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0227
        gbc.setState(0xe2de, 0xb128, 0x9a10, 0xee88, 0xf92b, 0xb810, 0x1, 0x1);
        gbc.writeMem(0xe2de, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb128);
        EXPECT(gbc.pc(), 0xe2df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2de), 0x5c);
        // 5C 0228
        gbc.setState(0xe5b1, 0xdcca, 0x5cb0, 0x63b4, 0x90a, 0xfa21, 0x0, 0x1);
        gbc.writeMem(0xe5b1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xdcca);
        EXPECT(gbc.pc(), 0xe5b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5b1), 0x5c);
        // 5C 0229
        gbc.setState(0x4ffd, 0xfeae, 0xdcc0, 0x56a6, 0xcd88, 0x93a5, 0x0, 0x0);
        gbc.writeMem(0x4ffd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xfeae);
        EXPECT(gbc.pc(), 0x4ffe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 022A
        gbc.setState(0xafdc, 0x5796, 0x56f0, 0x6231, 0x2fb7, 0xf33c, 0x1, 0x0);
        gbc.writeMem(0xafdc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5796);
        EXPECT(gbc.pc(), 0xafdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafdc), 0x5c);
        // 5C 022B
        gbc.setState(0x4086, 0xb18c, 0xf070, 0x56c2, 0xb19f, 0x3faa, 0x1, 0x0);
        gbc.writeMem(0x4086, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb18c);
        EXPECT(gbc.pc(), 0x4087);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 022C
        gbc.setState(0x6161, 0xbf46, 0xf970, 0x89f2, 0x4858, 0xd336, 0x1, 0x1);
        gbc.writeMem(0x6161, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xbf46);
        EXPECT(gbc.pc(), 0x6162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 022D
        gbc.setState(0x1259, 0x678c, 0x5920, 0x8ed2, 0xeecf, 0x8af3, 0x0, 0x1);
        gbc.writeMem(0x1259, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x678c);
        EXPECT(gbc.pc(), 0x125a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 022E
        gbc.setState(0x17ad, 0x48f8, 0x4cc0, 0xb820, 0x4b11, 0x5460, 0x1, 0x0);
        gbc.writeMem(0x17ad, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x48f8);
        EXPECT(gbc.pc(), 0x17ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 022F
        gbc.setState(0x30c0, 0xc3b0, 0x58e0, 0x13cc, 0xac1e, 0x162e, 0x1, 0x1);
        gbc.writeMem(0x30c0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc3b0);
        EXPECT(gbc.pc(), 0x30c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0230
        gbc.setState(0x7e8, 0xb87f, 0x1fa0, 0x7d04, 0x3c30, 0x8a31, 0x1, 0x0);
        gbc.writeMem(0x7e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xb87f);
        EXPECT(gbc.pc(), 0x7e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0231
        gbc.setState(0x480, 0x8301, 0xc990, 0x4dfe, 0xc86a, 0xc45c, 0x0, 0x0);
        gbc.writeMem(0x480, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8301);
        EXPECT(gbc.pc(), 0x481);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0232
        gbc.setState(0x4125, 0x2bdc, 0xaf60, 0x5084, 0xff68, 0x636e, 0x0, 0x1);
        gbc.writeMem(0x4125, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2bdc);
        EXPECT(gbc.pc(), 0x4126);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0233
        gbc.setState(0xa9b4, 0x8bbd, 0xb420, 0x2e7d, 0xfb1e, 0x923a, 0x1, 0x1);
        gbc.writeMem(0xa9b4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x8bbd);
        EXPECT(gbc.pc(), 0xa9b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9b4), 0x5c);
        // 5C 0234
        gbc.setState(0x41c9, 0x7c6c, 0x7c10, 0xb405, 0xbbf4, 0xbe2d, 0x1, 0x1);
        gbc.writeMem(0x41c9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7c6c);
        EXPECT(gbc.pc(), 0x41ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0235
        gbc.setState(0xa9e1, 0x7bac, 0x1020, 0x7538, 0x3b0e, 0xfee7, 0x1, 0x1);
        gbc.writeMem(0xa9e1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7bac);
        EXPECT(gbc.pc(), 0xa9e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9e1), 0x5c);
        // 5C 0236
        gbc.setState(0x8310, 0x86d3, 0x20c0, 0xd642, 0x214e, 0x2dee, 0x0, 0x1);
        gbc.writeMem(0x8310, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x86d3);
        EXPECT(gbc.pc(), 0x8311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8310), 0x5c);
        // 5C 0237
        gbc.setState(0x7755, 0x84c6, 0x8a0, 0x87ee, 0x4c4e, 0x878a, 0x0, 0x0);
        gbc.writeMem(0x7755, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x84c6);
        EXPECT(gbc.pc(), 0x7756);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0238
        gbc.setState(0x96b1, 0x7493, 0xdab0, 0xf1a0, 0x7686, 0x9a9d, 0x1, 0x1);
        gbc.writeMem(0x96b1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7493);
        EXPECT(gbc.pc(), 0x96b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96b1), 0x5c);
        // 5C 0239
        gbc.setState(0x814c, 0x6004, 0x5f20, 0xad62, 0xb49a, 0xa13c, 0x0, 0x0);
        gbc.writeMem(0x814c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6004);
        EXPECT(gbc.pc(), 0x814d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x814c), 0x5c);
        // 5C 023A
        gbc.setState(0x5f8f, 0x794e, 0xf100, 0x5133, 0xa8ad, 0x75e8, 0x0, 0x1);
        gbc.writeMem(0x5f8f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x794e);
        EXPECT(gbc.pc(), 0x5f90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 023B
        gbc.setState(0xb386, 0x5438, 0x1bc0, 0x4186, 0xf086, 0x1224, 0x1, 0x1);
        gbc.writeMem(0xb386, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5438);
        EXPECT(gbc.pc(), 0xb387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb386), 0x5c);
        // 5C 023C
        gbc.setState(0xe680, 0xdde, 0x37c0, 0x7f17, 0x34fa, 0x97f4, 0x1, 0x1);
        gbc.writeMem(0xe680, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xdde);
        EXPECT(gbc.pc(), 0xe681);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe680), 0x5c);
        // 5C 023D
        gbc.setState(0x82a1, 0x63bf, 0x6c90, 0xf979, 0x3cb7, 0x3104, 0x0, 0x0);
        gbc.writeMem(0x82a1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x63bf);
        EXPECT(gbc.pc(), 0x82a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82a1), 0x5c);
        // 5C 023F
        gbc.setState(0x41b1, 0x96e0, 0xd3a0, 0x654e, 0xff0, 0xb0f, 0x0, 0x1);
        gbc.writeMem(0x41b1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x96e0);
        EXPECT(gbc.pc(), 0x41b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0240
        gbc.setState(0xe598, 0x6840, 0x4310, 0xdd85, 0xcf21, 0x50a1, 0x1, 0x0);
        gbc.writeMem(0xe598, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6840);
        EXPECT(gbc.pc(), 0xe599);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe598), 0x5c);
        // 5C 0241
        gbc.setState(0x9905, 0x5623, 0x950, 0x741d, 0x8cfa, 0x757, 0x0, 0x1);
        gbc.writeMem(0x9905, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5623);
        EXPECT(gbc.pc(), 0x9906);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9905), 0x5c);
        // 5C 0242
        gbc.setState(0x3d8b, 0x9b72, 0xd910, 0x2bb, 0xef31, 0x140b, 0x1, 0x1);
        gbc.writeMem(0x3d8b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9b72);
        EXPECT(gbc.pc(), 0x3d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0243
        gbc.setState(0xe680, 0xa7b, 0xac60, 0x7483, 0x64c3, 0x6258, 0x0, 0x1);
        gbc.writeMem(0xe680, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa7b);
        EXPECT(gbc.pc(), 0xe681);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe680), 0x5c);
        // 5C 0244
        gbc.setState(0xa7ce, 0x5dc2, 0x5430, 0xe5ca, 0x14c3, 0x5485, 0x1, 0x0);
        gbc.writeMem(0xa7ce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5dc2);
        EXPECT(gbc.pc(), 0xa7cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7ce), 0x5c);
        // 5C 0245
        gbc.setState(0xcd50, 0xfc55, 0x6bb0, 0x42b0, 0xfab1, 0xd915, 0x1, 0x0);
        gbc.writeMem(0xcd50, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xfc55);
        EXPECT(gbc.pc(), 0xcd51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd50), 0x5c);
        // 5C 0246
        gbc.setState(0x1fd6, 0xe936, 0xda30, 0x3b6a, 0x8341, 0x109c, 0x1, 0x1);
        gbc.writeMem(0x1fd6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe936);
        EXPECT(gbc.pc(), 0x1fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0247
        gbc.setState(0xee4, 0x51f, 0x5b10, 0x14aa, 0xd2b5, 0xa521, 0x1, 0x0);
        gbc.writeMem(0xee4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x51f);
        EXPECT(gbc.pc(), 0xee5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0248
        gbc.setState(0x162e, 0x3520, 0xd0a0, 0x6788, 0xaabd, 0x49a, 0x1, 0x0);
        gbc.writeMem(0x162e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x3520);
        EXPECT(gbc.pc(), 0x162f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0249
        gbc.setState(0x5921, 0xdb0b, 0xf9b0, 0x310b, 0x92f6, 0x1c0, 0x0, 0x1);
        gbc.writeMem(0x5921, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xdb0b);
        EXPECT(gbc.pc(), 0x5922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 024A
        gbc.setState(0xc65, 0x1fec, 0x3b80, 0xefbd, 0x822c, 0xdae9, 0x1, 0x0);
        gbc.writeMem(0xc65, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1fec);
        EXPECT(gbc.pc(), 0xc66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 024B
        gbc.setState(0xade0, 0x101a, 0x2e20, 0x3292, 0xc310, 0xced4, 0x1, 0x1);
        gbc.writeMem(0xade0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x101a);
        EXPECT(gbc.pc(), 0xade1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xade0), 0x5c);
        // 5C 024C
        gbc.setState(0xa8a8, 0xa6da, 0xf5c0, 0xedfd, 0xe309, 0xfd5d, 0x1, 0x0);
        gbc.writeMem(0xa8a8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa6da);
        EXPECT(gbc.pc(), 0xa8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8a8), 0x5c);
        // 5C 024D
        gbc.setState(0xca04, 0x92b4, 0x2220, 0x7de3, 0xa6ec, 0x7b9, 0x0, 0x1);
        gbc.writeMem(0xca04, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x92b4);
        EXPECT(gbc.pc(), 0xca05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca04), 0x5c);
        // 5C 024E
        gbc.setState(0x47b9, 0x5999, 0xeb90, 0xbe0c, 0x7db4, 0xc79d, 0x0, 0x1);
        gbc.writeMem(0x47b9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x5999);
        EXPECT(gbc.pc(), 0x47ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 024F
        gbc.setState(0xb7e3, 0x3224, 0x310, 0x5e87, 0x8952, 0x739b, 0x1, 0x0);
        gbc.writeMem(0xb7e3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3224);
        EXPECT(gbc.pc(), 0xb7e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7e3), 0x5c);
        // 5C 0250
        gbc.setState(0x684a, 0x6900, 0x9320, 0xdffb, 0x8215, 0xd4d2, 0x0, 0x0);
        gbc.writeMem(0x684a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6900);
        EXPECT(gbc.pc(), 0x684b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0251
        gbc.setState(0xcf94, 0x93d3, 0x9d90, 0x6945, 0x175d, 0x716, 0x0, 0x0);
        gbc.writeMem(0xcf94, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x93d3);
        EXPECT(gbc.pc(), 0xcf95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf94), 0x5c);
        // 5C 0252
        gbc.setState(0xc875, 0x482a, 0xc990, 0xda4a, 0x3230, 0x236e, 0x0, 0x0);
        gbc.writeMem(0xc875, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x482a);
        EXPECT(gbc.pc(), 0xc876);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc875), 0x5c);
        // 5C 0253
        gbc.setState(0x6947, 0xab29, 0x5e10, 0x38a6, 0xd36a, 0xd25b, 0x0, 0x0);
        gbc.writeMem(0x6947, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xab29);
        EXPECT(gbc.pc(), 0x6948);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0254
        gbc.setState(0xa9f2, 0x3af3, 0x9bc0, 0xb702, 0x7ead, 0x823c, 0x1, 0x0);
        gbc.writeMem(0xa9f2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3af3);
        EXPECT(gbc.pc(), 0xa9f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9f2), 0x5c);
        // 5C 0255
        gbc.setState(0xb93c, 0x9606, 0x7540, 0xd669, 0xa302, 0x2628, 0x0, 0x1);
        gbc.writeMem(0xb93c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9606);
        EXPECT(gbc.pc(), 0xb93d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb93c), 0x5c);
        // 5C 0256
        gbc.setState(0x6ce6, 0x788f, 0x2c70, 0x92c7, 0x24e7, 0x97f6, 0x0, 0x1);
        gbc.writeMem(0x6ce6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x788f);
        EXPECT(gbc.pc(), 0x6ce7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0257
        gbc.setState(0x6f2c, 0xdee8, 0x1740, 0x7b57, 0xda8a, 0xc5af, 0x0, 0x0);
        gbc.writeMem(0x6f2c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xdee8);
        EXPECT(gbc.pc(), 0x6f2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0258
        gbc.setState(0x6722, 0x1135, 0x7e20, 0xe615, 0x489a, 0x22af, 0x0, 0x1);
        gbc.writeMem(0x6722, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x1135);
        EXPECT(gbc.pc(), 0x6723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0259
        gbc.setState(0x1b5e, 0x1c5d, 0x86e0, 0x9c31, 0x3af3, 0x587, 0x1, 0x0);
        gbc.writeMem(0x1b5e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1c5d);
        EXPECT(gbc.pc(), 0x1b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 025A
        gbc.setState(0xdca8, 0xdac3, 0x4c10, 0xbbdb, 0x74d5, 0xd2c6, 0x0, 0x1);
        gbc.writeMem(0xdca8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xdac3);
        EXPECT(gbc.pc(), 0xdca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdca8), 0x5c);
        // 5C 025B
        gbc.setState(0x1c66, 0xcd8d, 0x9cf0, 0xe448, 0x7d3d, 0x7f11, 0x0, 0x1);
        gbc.writeMem(0x1c66, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xcd8d);
        EXPECT(gbc.pc(), 0x1c67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 025C
        gbc.setState(0x8a41, 0x50bc, 0x8d00, 0xef36, 0xbc23, 0xc2a3, 0x0, 0x0);
        gbc.writeMem(0x8a41, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x50bc);
        EXPECT(gbc.pc(), 0x8a42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a41), 0x5c);
        // 5C 025D
        gbc.setState(0xd8db, 0xd72e, 0x9240, 0x16ce, 0x52ac, 0xf333, 0x1, 0x1);
        gbc.writeMem(0xd8db, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd72e);
        EXPECT(gbc.pc(), 0xd8dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8db), 0x5c);
        // 5C 025E
        gbc.setState(0x906e, 0x7f24, 0xca60, 0x5dfd, 0x649c, 0x7c18, 0x1, 0x1);
        gbc.writeMem(0x906e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7f24);
        EXPECT(gbc.pc(), 0x906f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x906e), 0x5c);
        // 5C 025F
        gbc.setState(0x2304, 0xdf5, 0xc1c0, 0x25f6, 0x8101, 0xe9bf, 0x1, 0x0);
        gbc.writeMem(0x2304, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdf5);
        EXPECT(gbc.pc(), 0x2305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0261
        gbc.setState(0x8fdb, 0x63c2, 0xfa60, 0x2a2f, 0xcf86, 0xef08, 0x1, 0x1);
        gbc.writeMem(0x8fdb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x63c2);
        EXPECT(gbc.pc(), 0x8fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fdb), 0x5c);
        // 5C 0262
        gbc.setState(0x9113, 0x9d6e, 0xe6d0, 0x1be5, 0xf20a, 0x782f, 0x1, 0x1);
        gbc.writeMem(0x9113, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9d6e);
        EXPECT(gbc.pc(), 0x9114);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9113), 0x5c);
        // 5C 0263
        gbc.setState(0xa388, 0x2b0, 0x8e80, 0xe9b1, 0x9a86, 0xeaf2, 0x1, 0x1);
        gbc.writeMem(0xa388, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2b0);
        EXPECT(gbc.pc(), 0xa389);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa388), 0x5c);
        // 5C 0264
        gbc.setState(0x5943, 0x101d, 0x3220, 0x55dc, 0x6ef9, 0x332a, 0x1, 0x1);
        gbc.writeMem(0x5943, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x101d);
        EXPECT(gbc.pc(), 0x5944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0265
        gbc.setState(0x4d38, 0xd0ee, 0x99e0, 0x50ec, 0x2b07, 0x28e, 0x0, 0x0);
        gbc.writeMem(0x4d38, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd0ee);
        EXPECT(gbc.pc(), 0x4d39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0266
        gbc.setState(0x4e6c, 0x58, 0xba20, 0x2bfb, 0x7f3b, 0xfd1, 0x0, 0x1);
        gbc.writeMem(0x4e6c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x58);
        EXPECT(gbc.pc(), 0x4e6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0267
        gbc.setState(0x813e, 0x66df, 0xb030, 0xb363, 0x4ffc, 0x411a, 0x0, 0x0);
        gbc.writeMem(0x813e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x66df);
        EXPECT(gbc.pc(), 0x813f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x813e), 0x5c);
        // 5C 0268
        gbc.setState(0x3ed4, 0xe214, 0x7bc0, 0x928b, 0x4d2c, 0xa4a2, 0x0, 0x0);
        gbc.writeMem(0x3ed4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe214);
        EXPECT(gbc.pc(), 0x3ed5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0269
        gbc.setState(0xa846, 0x9cb, 0x1880, 0xcf29, 0xdec1, 0xd023, 0x0, 0x1);
        gbc.writeMem(0xa846, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9cb);
        EXPECT(gbc.pc(), 0xa847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa846), 0x5c);
        // 5C 026A
        gbc.setState(0x64e0, 0x2b9a, 0xa2d0, 0x2625, 0x1bc7, 0xcc69, 0x1, 0x1);
        gbc.writeMem(0x64e0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2b9a);
        EXPECT(gbc.pc(), 0x64e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 026B
        gbc.setState(0x13b, 0x61d9, 0x5b60, 0xdbc2, 0x363e, 0x575f, 0x0, 0x1);
        gbc.writeMem(0x13b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x61d9);
        EXPECT(gbc.pc(), 0x13c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 026C
        gbc.setState(0x8682, 0xd37f, 0xbff0, 0x9cb0, 0x29f4, 0xb5cb, 0x1, 0x0);
        gbc.writeMem(0x8682, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd37f);
        EXPECT(gbc.pc(), 0x8683);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8682), 0x5c);
        // 5C 026D
        gbc.setState(0x97a, 0xd606, 0xbc90, 0xb98c, 0x4e16, 0x2694, 0x1, 0x0);
        gbc.writeMem(0x97a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd606);
        EXPECT(gbc.pc(), 0x97b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 026E
        gbc.setState(0xc4f4, 0x805c, 0x5ff0, 0x2921, 0xece7, 0x8144, 0x1, 0x0);
        gbc.writeMem(0xc4f4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x805c);
        EXPECT(gbc.pc(), 0xc4f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4f4), 0x5c);
        // 5C 0270
        gbc.setState(0x7ef1, 0x7728, 0x960, 0xc9ed, 0x4cf1, 0x70c8, 0x0, 0x1);
        gbc.writeMem(0x7ef1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7728);
        EXPECT(gbc.pc(), 0x7ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0271
        gbc.setState(0xaa91, 0x31fa, 0x5390, 0x96f1, 0xe778, 0x3d93, 0x0, 0x1);
        gbc.writeMem(0xaa91, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x31fa);
        EXPECT(gbc.pc(), 0xaa92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa91), 0x5c);
        // 5C 0272
        gbc.setState(0x1928, 0x9c19, 0x1710, 0xd4d, 0x2f6e, 0x2495, 0x0, 0x1);
        gbc.writeMem(0x1928, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x9c19);
        EXPECT(gbc.pc(), 0x1929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0273
        gbc.setState(0xecdb, 0x30ee, 0xabf0, 0x554e, 0xf939, 0xe9bf, 0x0, 0x0);
        gbc.writeMem(0xecdb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x30ee);
        EXPECT(gbc.pc(), 0xecdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecdb), 0x5c);
        // 5C 0274
        gbc.setState(0x3b9a, 0xffa2, 0xcfb0, 0xd14, 0xf8fc, 0x4466, 0x0, 0x0);
        gbc.writeMem(0x3b9a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xffa2);
        EXPECT(gbc.pc(), 0x3b9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0275
        gbc.setState(0x3010, 0xb226, 0xaa40, 0xf7da, 0x7cb2, 0x4b0, 0x1, 0x1);
        gbc.writeMem(0x3010, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb226);
        EXPECT(gbc.pc(), 0x3011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0276
        gbc.setState(0x7738, 0xb1d4, 0xb2b0, 0xe6e6, 0x8d22, 0x8798, 0x0, 0x0);
        gbc.writeMem(0x7738, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb1d4);
        EXPECT(gbc.pc(), 0x7739);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0277
        gbc.setState(0xd154, 0x25e4, 0x56a0, 0xc003, 0x4c29, 0x3f27, 0x1, 0x1);
        gbc.writeMem(0xd154, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x25e4);
        EXPECT(gbc.pc(), 0xd155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd154), 0x5c);
        // 5C 0278
        gbc.setState(0x2937, 0x2e28, 0x86e0, 0xd8b3, 0xafc1, 0xd845, 0x1, 0x1);
        gbc.writeMem(0x2937, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2e28);
        EXPECT(gbc.pc(), 0x2938);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0279
        gbc.setState(0x3d40, 0x555, 0x8080, 0x2065, 0x8133, 0x9636, 0x0, 0x1);
        gbc.writeMem(0x3d40, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x555);
        EXPECT(gbc.pc(), 0x3d41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 027A
        gbc.setState(0x5488, 0xb8c7, 0x6c60, 0xa4c6, 0xdc05, 0x61d6, 0x1, 0x1);
        gbc.writeMem(0x5488, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb8c7);
        EXPECT(gbc.pc(), 0x5489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 027B
        gbc.setState(0x64fe, 0x9e50, 0xad0, 0xb5a, 0x8a89, 0x22f0, 0x0, 0x1);
        gbc.writeMem(0x64fe, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9e50);
        EXPECT(gbc.pc(), 0x64ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 027C
        gbc.setState(0x5202, 0x4d7c, 0x6340, 0xab0, 0x3fe4, 0x3b2e, 0x1, 0x0);
        gbc.writeMem(0x5202, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4d7c);
        EXPECT(gbc.pc(), 0x5203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 027E
        gbc.setState(0xd19b, 0xc187, 0x7160, 0xeb91, 0x676, 0x1b02, 0x1, 0x0);
        gbc.writeMem(0xd19b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc187);
        EXPECT(gbc.pc(), 0xd19c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd19b), 0x5c);
        // 5C 027F
        gbc.setState(0x5a1c, 0xcc85, 0x39e0, 0xa11c, 0xa0bb, 0xc0b3, 0x0, 0x1);
        gbc.writeMem(0x5a1c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xcc85);
        EXPECT(gbc.pc(), 0x5a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0280
        gbc.setState(0x23c7, 0x94fb, 0xe230, 0xd344, 0x78c0, 0xed55, 0x1, 0x0);
        gbc.writeMem(0x23c7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x94fb);
        EXPECT(gbc.pc(), 0x23c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0281
        gbc.setState(0x50ae, 0x2d0a, 0xd300, 0xee46, 0x5f93, 0xe5e, 0x1, 0x0);
        gbc.writeMem(0x50ae, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2d0a);
        EXPECT(gbc.pc(), 0x50af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0282
        gbc.setState(0x5677, 0x9c4b, 0x56a0, 0xd478, 0x313f, 0x4ac7, 0x0, 0x0);
        gbc.writeMem(0x5677, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x9c4b);
        EXPECT(gbc.pc(), 0x5678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0283
        gbc.setState(0xd716, 0x91a3, 0xb860, 0x2122, 0xd510, 0xa2a7, 0x1, 0x1);
        gbc.writeMem(0xd716, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x91a3);
        EXPECT(gbc.pc(), 0xd717);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd716), 0x5c);
        // 5C 0284
        gbc.setState(0x16f1, 0x8794, 0xfb80, 0x1513, 0x31ea, 0xed0d, 0x1, 0x1);
        gbc.writeMem(0x16f1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8794);
        EXPECT(gbc.pc(), 0x16f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0285
        gbc.setState(0x89aa, 0x59f8, 0x1410, 0xceb0, 0x5245, 0x1dc2, 0x0, 0x0);
        gbc.writeMem(0x89aa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x59f8);
        EXPECT(gbc.pc(), 0x89ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89aa), 0x5c);
        // 5C 0286
        gbc.setState(0x1b52, 0x631, 0x70c0, 0x8284, 0x9a79, 0x3411, 0x1, 0x1);
        gbc.writeMem(0x1b52, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x631);
        EXPECT(gbc.pc(), 0x1b53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0287
        gbc.setState(0xa3c8, 0x3822, 0x92b0, 0x5046, 0x2f91, 0xba27, 0x1, 0x1);
        gbc.writeMem(0xa3c8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3822);
        EXPECT(gbc.pc(), 0xa3c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3c8), 0x5c);
        // 5C 0288
        gbc.setState(0x3d7, 0x2585, 0xb300, 0xce0, 0x9ae6, 0xc11a, 0x0, 0x1);
        gbc.writeMem(0x3d7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2585);
        EXPECT(gbc.pc(), 0x3d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0289
        gbc.setState(0x6293, 0x2a92, 0xc400, 0x3381, 0xee05, 0xa632, 0x1, 0x1);
        gbc.writeMem(0x6293, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2a92);
        EXPECT(gbc.pc(), 0x6294);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 028A
        gbc.setState(0x32a2, 0x35d4, 0xb770, 0xb6a, 0x42d9, 0xe0ed, 0x1, 0x0);
        gbc.writeMem(0x32a2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x35d4);
        EXPECT(gbc.pc(), 0x32a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 028B
        gbc.setState(0x926, 0x9f2, 0x9040, 0x9fc7, 0x2088, 0x5dce, 0x0, 0x1);
        gbc.writeMem(0x926, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9f2);
        EXPECT(gbc.pc(), 0x927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 028C
        gbc.setState(0x5ccf, 0x8f5a, 0xa820, 0x354a, 0x3cb9, 0x51c8, 0x0, 0x0);
        gbc.writeMem(0x5ccf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x8f5a);
        EXPECT(gbc.pc(), 0x5cd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 028D
        gbc.setState(0x76dc, 0x7823, 0x7640, 0x7f6f, 0xaf50, 0x709f, 0x1, 0x1);
        gbc.writeMem(0x76dc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x7823);
        EXPECT(gbc.pc(), 0x76dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 028E
        gbc.setState(0xcb7e, 0xc4ef, 0xf9d0, 0xcf0f, 0x1dcf, 0xb84c, 0x0, 0x0);
        gbc.writeMem(0xcb7e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc4ef);
        EXPECT(gbc.pc(), 0xcb7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb7e), 0x5c);
        // 5C 028F
        gbc.setState(0x66d3, 0x2176, 0x3a60, 0xae15, 0x7a5e, 0x6a7b, 0x0, 0x1);
        gbc.writeMem(0x66d3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x2176);
        EXPECT(gbc.pc(), 0x66d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0290
        gbc.setState(0x421e, 0x83f8, 0x4fa0, 0x1c50, 0xdf5b, 0xc2c7, 0x1, 0x0);
        gbc.writeMem(0x421e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x83f8);
        EXPECT(gbc.pc(), 0x421f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0291
        gbc.setState(0x74b3, 0xeda7, 0xf0e0, 0x5ad0, 0xbd8b, 0x1800, 0x1, 0x1);
        gbc.writeMem(0x74b3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xeda7);
        EXPECT(gbc.pc(), 0x74b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0292
        gbc.setState(0xc3a7, 0x56ed, 0xd570, 0xbdc9, 0x8900, 0x63d4, 0x1, 0x0);
        gbc.writeMem(0xc3a7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x56ed);
        EXPECT(gbc.pc(), 0xc3a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3a7), 0x5c);
        // 5C 0293
        gbc.setState(0x9f3b, 0x46a0, 0xa20, 0xc8ac, 0x940d, 0xfdc9, 0x1, 0x1);
        gbc.writeMem(0x9f3b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x46a0);
        EXPECT(gbc.pc(), 0x9f3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f3b), 0x5c);
        // 5C 0294
        gbc.setState(0xd68a, 0xfb0, 0xaea0, 0x5ca6, 0xb2ac, 0xcae2, 0x1, 0x1);
        gbc.writeMem(0xd68a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xfb0);
        EXPECT(gbc.pc(), 0xd68b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd68a), 0x5c);
        // 5C 0295
        gbc.setState(0x76ef, 0xdae2, 0xa290, 0x4f0, 0xb9fa, 0xfb3a, 0x0, 0x1);
        gbc.writeMem(0x76ef, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdae2);
        EXPECT(gbc.pc(), 0x76f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0296
        gbc.setState(0xc0df, 0x8ca4, 0x79a0, 0xc418, 0xc50f, 0x47c7, 0x1, 0x1);
        gbc.writeMem(0xc0df, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8ca4);
        EXPECT(gbc.pc(), 0xc0e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0df), 0x5c);
        // 5C 0297
        gbc.setState(0xce85, 0x765f, 0x2a30, 0xc01a, 0x7ede, 0x69d9, 0x1, 0x0);
        gbc.writeMem(0xce85, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x765f);
        EXPECT(gbc.pc(), 0xce86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce85), 0x5c);
        // 5C 0298
        gbc.setState(0x70f, 0x6fde, 0xdcd0, 0x48d5, 0xe1e5, 0x2993, 0x0, 0x1);
        gbc.writeMem(0x70f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6fde);
        EXPECT(gbc.pc(), 0x710);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0299
        gbc.setState(0xd177, 0x879b, 0x7ad0, 0xa694, 0x5f79, 0x9835, 0x1, 0x1);
        gbc.writeMem(0xd177, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x879b);
        EXPECT(gbc.pc(), 0xd178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd177), 0x5c);
        // 5C 029A
        gbc.setState(0x2484, 0xa1f6, 0xabe0, 0x777e, 0x27ac, 0xb767, 0x1, 0x0);
        gbc.writeMem(0x2484, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa1f6);
        EXPECT(gbc.pc(), 0x2485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 029B
        gbc.setState(0x22f0, 0xf728, 0xd100, 0x9c79, 0x76fa, 0x193, 0x1, 0x0);
        gbc.writeMem(0x22f0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf728);
        EXPECT(gbc.pc(), 0x22f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 029C
        gbc.setState(0x919a, 0x8024, 0x16d0, 0x2eac, 0x809, 0xab13, 0x0, 0x1);
        gbc.writeMem(0x919a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8024);
        EXPECT(gbc.pc(), 0x919b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x919a), 0x5c);
        // 5C 029D
        gbc.setState(0xc883, 0x30e0, 0x81c0, 0xdc38, 0x5c39, 0xf9b0, 0x1, 0x1);
        gbc.writeMem(0xc883, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x30e0);
        EXPECT(gbc.pc(), 0xc884);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc883), 0x5c);
        // 5C 029E
        gbc.setState(0x1395, 0x4fab, 0x2ed0, 0x69c3, 0xcc17, 0xf5c5, 0x0, 0x0);
        gbc.writeMem(0x1395, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4fab);
        EXPECT(gbc.pc(), 0x1396);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 029F
        gbc.setState(0x6c63, 0x97af, 0xd610, 0x38ea, 0x4fd5, 0x892d, 0x0, 0x1);
        gbc.writeMem(0x6c63, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x97af);
        EXPECT(gbc.pc(), 0x6c64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02A0
        gbc.setState(0x5ecb, 0x768c, 0xea20, 0xff28, 0x6573, 0xd5d2, 0x0, 0x1);
        gbc.writeMem(0x5ecb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x768c);
        EXPECT(gbc.pc(), 0x5ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02A1
        gbc.setState(0x7161, 0x13c8, 0x2920, 0x7156, 0x21df, 0x83d9, 0x0, 0x1);
        gbc.writeMem(0x7161, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x13c8);
        EXPECT(gbc.pc(), 0x7162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02A2
        gbc.setState(0xa7e5, 0x552b, 0x72d0, 0x9660, 0x1fd3, 0x5778, 0x1, 0x0);
        gbc.writeMem(0xa7e5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x552b);
        EXPECT(gbc.pc(), 0xa7e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7e5), 0x5c);
        // 5C 02A3
        gbc.setState(0xa9b0, 0xaaaa, 0x1610, 0xe5e8, 0xcec0, 0x6bbb, 0x1, 0x0);
        gbc.writeMem(0xa9b0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xaaaa);
        EXPECT(gbc.pc(), 0xa9b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b0), 0x5c);
        // 5C 02A4
        gbc.setState(0xebb7, 0x9628, 0xa6a0, 0xd2cf, 0x8a08, 0x312, 0x1, 0x0);
        gbc.writeMem(0xebb7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x9628);
        EXPECT(gbc.pc(), 0xebb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebb7), 0x5c);
        // 5C 02A5
        gbc.setState(0x15c6, 0xe2fd, 0x7350, 0xa6e8, 0x6597, 0xc775, 0x1, 0x1);
        gbc.writeMem(0x15c6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe2fd);
        EXPECT(gbc.pc(), 0x15c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02A6
        gbc.setState(0x8b35, 0xf1c7, 0x9d40, 0xae6, 0x723d, 0xc007, 0x1, 0x0);
        gbc.writeMem(0x8b35, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf1c7);
        EXPECT(gbc.pc(), 0x8b36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b35), 0x5c);
        // 5C 02A7
        gbc.setState(0x6584, 0xe0c0, 0x6570, 0x189c, 0x8426, 0x7847, 0x1, 0x0);
        gbc.writeMem(0x6584, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe0c0);
        EXPECT(gbc.pc(), 0x6585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02A8
        gbc.setState(0x90d7, 0x70a2, 0xfde0, 0x1a68, 0x582f, 0x7f20, 0x1, 0x0);
        gbc.writeMem(0x90d7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x70a2);
        EXPECT(gbc.pc(), 0x90d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d7), 0x5c);
        // 5C 02A9
        gbc.setState(0xc88d, 0xef8, 0xcca0, 0x4717, 0x24d6, 0xc29d, 0x0, 0x1);
        gbc.writeMem(0xc88d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xef8);
        EXPECT(gbc.pc(), 0xc88e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc88d), 0x5c);
        // 5C 02AA
        gbc.setState(0x269, 0x4c72, 0x78e0, 0x2243, 0xe64, 0x3066, 0x1, 0x1);
        gbc.writeMem(0x269, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4c72);
        EXPECT(gbc.pc(), 0x26a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02AB
        gbc.setState(0x68a3, 0xfba, 0x250, 0xe8cc, 0x6f7, 0xc337, 0x1, 0x1);
        gbc.writeMem(0x68a3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfba);
        EXPECT(gbc.pc(), 0x68a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02AC
        gbc.setState(0xe4fb, 0x56b3, 0x9960, 0x46f0, 0xceba, 0x33e5, 0x0, 0x0);
        gbc.writeMem(0xe4fb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x56b3);
        EXPECT(gbc.pc(), 0xe4fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4fb), 0x5c);
        // 5C 02AD
        gbc.setState(0xa817, 0x6ed5, 0xe4a0, 0x1b76, 0xb78a, 0xfed5, 0x1, 0x1);
        gbc.writeMem(0xa817, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6ed5);
        EXPECT(gbc.pc(), 0xa818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa817), 0x5c);
        // 5C 02AE
        gbc.setState(0x4d63, 0x5281, 0xf290, 0xf3c6, 0x54dd, 0xa06c, 0x1, 0x1);
        gbc.writeMem(0x4d63, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5281);
        EXPECT(gbc.pc(), 0x4d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02AF
        gbc.setState(0x9c15, 0xbd0c, 0x4e20, 0xaaf0, 0x8c95, 0x6f41, 0x1, 0x0);
        gbc.writeMem(0x9c15, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbd0c);
        EXPECT(gbc.pc(), 0x9c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c15), 0x5c);
        // 5C 02B0
        gbc.setState(0x22af, 0xb633, 0x5520, 0x42a4, 0xc51b, 0xee7a, 0x1, 0x0);
        gbc.writeMem(0x22af, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xb633);
        EXPECT(gbc.pc(), 0x22b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02B2
        gbc.setState(0xece3, 0x3466, 0xb170, 0x8d8a, 0xa627, 0x1900, 0x1, 0x0);
        gbc.writeMem(0xece3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3466);
        EXPECT(gbc.pc(), 0xece4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xece3), 0x5c);
        // 5C 02B3
        gbc.setState(0x2cdd, 0xf08d, 0xb400, 0x6648, 0x569f, 0xd052, 0x0, 0x0);
        gbc.writeMem(0x2cdd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf08d);
        EXPECT(gbc.pc(), 0x2cde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02B4
        gbc.setState(0x4b88, 0x8a12, 0xf8d0, 0xd53f, 0xae2c, 0x5140, 0x1, 0x0);
        gbc.writeMem(0x4b88, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8a12);
        EXPECT(gbc.pc(), 0x4b89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02B5
        gbc.setState(0x8d59, 0xe9e4, 0xd590, 0x2122, 0xfda6, 0x8a78, 0x1, 0x0);
        gbc.writeMem(0x8d59, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe9e4);
        EXPECT(gbc.pc(), 0x8d5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d59), 0x5c);
        // 5C 02B6
        gbc.setState(0x84b9, 0x1ab7, 0xa4f0, 0x8e05, 0xdcfb, 0xb585, 0x1, 0x1);
        gbc.writeMem(0x84b9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1ab7);
        EXPECT(gbc.pc(), 0x84ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b9), 0x5c);
        // 5C 02B7
        gbc.setState(0x4f7a, 0x1785, 0x6610, 0x4ad3, 0x241b, 0x4a30, 0x1, 0x0);
        gbc.writeMem(0x4f7a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1785);
        EXPECT(gbc.pc(), 0x4f7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02B8
        gbc.setState(0x4996, 0x5d96, 0x6fe0, 0xb007, 0x2662, 0xe90c, 0x0, 0x0);
        gbc.writeMem(0x4996, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5d96);
        EXPECT(gbc.pc(), 0x4997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02B9
        gbc.setState(0x1a73, 0xaf80, 0x7910, 0x8fdc, 0xed94, 0x2eb9, 0x0, 0x1);
        gbc.writeMem(0x1a73, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xaf80);
        EXPECT(gbc.pc(), 0x1a74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02BA
        gbc.setState(0x7da9, 0xc00e, 0xf830, 0x1794, 0x3a12, 0x6d84, 0x1, 0x0);
        gbc.writeMem(0x7da9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc00e);
        EXPECT(gbc.pc(), 0x7daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02BB
        gbc.setState(0x702a, 0x9ade, 0x6e0, 0x32f6, 0x452, 0x217d, 0x0, 0x0);
        gbc.writeMem(0x702a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9ade);
        EXPECT(gbc.pc(), 0x702b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02BC
        gbc.setState(0xd84a, 0x5aa6, 0xc8f0, 0x236, 0xa46b, 0xf2ee, 0x0, 0x0);
        gbc.writeMem(0xd84a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5aa6);
        EXPECT(gbc.pc(), 0xd84b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd84a), 0x5c);
        // 5C 02BD
        gbc.setState(0xb1eb, 0xea18, 0x8ba0, 0xd050, 0x51ef, 0xf1b5, 0x1, 0x1);
        gbc.writeMem(0xb1eb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xea18);
        EXPECT(gbc.pc(), 0xb1ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1eb), 0x5c);
        // 5C 02BE
        gbc.setState(0x27f8, 0x5e6d, 0x3b90, 0x2ef0, 0xf6b6, 0x61d8, 0x1, 0x1);
        gbc.writeMem(0x27f8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x5e6d);
        EXPECT(gbc.pc(), 0x27f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02BF
        gbc.setState(0xd99c, 0x400, 0xda60, 0xe753, 0x280d, 0xf44d, 0x1, 0x0);
        gbc.writeMem(0xd99c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x400);
        EXPECT(gbc.pc(), 0xd99d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd99c), 0x5c);
        // 5C 02C0
        gbc.setState(0x6dc3, 0x1578, 0x7dd0, 0x675, 0x4c01, 0x7a1f, 0x1, 0x1);
        gbc.writeMem(0x6dc3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1578);
        EXPECT(gbc.pc(), 0x6dc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02C1
        gbc.setState(0x7d33, 0xf072, 0x97e0, 0x86e8, 0xd58, 0x4a58, 0x1, 0x0);
        gbc.writeMem(0x7d33, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xf072);
        EXPECT(gbc.pc(), 0x7d34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02C2
        gbc.setState(0xb3a7, 0x4f37, 0x7b00, 0xfb96, 0xf740, 0xd9a4, 0x0, 0x0);
        gbc.writeMem(0xb3a7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4f37);
        EXPECT(gbc.pc(), 0xb3a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3a7), 0x5c);
        // 5C 02C3
        gbc.setState(0x3a0f, 0x468a, 0x7fe0, 0x6cc2, 0xd7cc, 0x9543, 0x0, 0x0);
        gbc.writeMem(0x3a0f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x468a);
        EXPECT(gbc.pc(), 0x3a10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02C4
        gbc.setState(0x6514, 0x83dd, 0x6a20, 0x551f, 0x3549, 0xeccf, 0x0, 0x1);
        gbc.writeMem(0x6514, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x83dd);
        EXPECT(gbc.pc(), 0x6515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02C5
        gbc.setState(0x73d4, 0xf32c, 0x4ef0, 0x29b5, 0x7428, 0xcd6c, 0x0, 0x0);
        gbc.writeMem(0x73d4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf32c);
        EXPECT(gbc.pc(), 0x73d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02C6
        gbc.setState(0xb1b7, 0x6a92, 0x17d0, 0x6b42, 0xf95e, 0xfac9, 0x0, 0x0);
        gbc.writeMem(0xb1b7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6a92);
        EXPECT(gbc.pc(), 0xb1b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1b7), 0x5c);
        // 5C 02C7
        gbc.setState(0x2c6d, 0xae35, 0x1fc0, 0x1f34, 0x479a, 0x1f6e, 0x0, 0x0);
        gbc.writeMem(0x2c6d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xae35);
        EXPECT(gbc.pc(), 0x2c6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02C8
        gbc.setState(0xaf7b, 0x4a2, 0x38b0, 0xba71, 0x9870, 0x74aa, 0x0, 0x1);
        gbc.writeMem(0xaf7b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x4a2);
        EXPECT(gbc.pc(), 0xaf7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf7b), 0x5c);
        // 5C 02C9
        gbc.setState(0x6667, 0x1595, 0x660, 0xdc30, 0x94ef, 0xc4a2, 0x0, 0x0);
        gbc.writeMem(0x6667, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1595);
        EXPECT(gbc.pc(), 0x6668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02CA
        gbc.setState(0xc4b8, 0x21, 0x2ff0, 0x6c70, 0x6f6d, 0x3603, 0x0, 0x1);
        gbc.writeMem(0xc4b8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x21);
        EXPECT(gbc.pc(), 0xc4b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4b8), 0x5c);
        // 5C 02CB
        gbc.setState(0xb727, 0x8efb, 0xc810, 0xe994, 0x1fa6, 0x5bd9, 0x0, 0x1);
        gbc.writeMem(0xb727, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8efb);
        EXPECT(gbc.pc(), 0xb728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb727), 0x5c);
        // 5C 02CC
        gbc.setState(0x15f3, 0x1e9e, 0x78e0, 0x90c9, 0x579a, 0xda4a, 0x1, 0x0);
        gbc.writeMem(0x15f3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1e9e);
        EXPECT(gbc.pc(), 0x15f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02CD
        gbc.setState(0x83b8, 0x1534, 0xb640, 0xf875, 0x40e5, 0x27c9, 0x1, 0x0);
        gbc.writeMem(0x83b8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1534);
        EXPECT(gbc.pc(), 0x83b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83b8), 0x5c);
        // 5C 02CE
        gbc.setState(0xe722, 0xca8e, 0x9600, 0x2e06, 0x790e, 0x2f75, 0x0, 0x1);
        gbc.writeMem(0xe722, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xca8e);
        EXPECT(gbc.pc(), 0xe723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe722), 0x5c);
        // 5C 02CF
        gbc.setState(0x5419, 0x63e5, 0x9df0, 0x9af7, 0x11c1, 0xb25, 0x1, 0x1);
        gbc.writeMem(0x5419, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x63e5);
        EXPECT(gbc.pc(), 0x541a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02D0
        gbc.setState(0x82bf, 0x6ef3, 0x7c70, 0x7248, 0xe228, 0xa3c3, 0x0, 0x0);
        gbc.writeMem(0x82bf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6ef3);
        EXPECT(gbc.pc(), 0x82c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82bf), 0x5c);
        // 5C 02D1
        gbc.setState(0xab7a, 0xcb72, 0x9520, 0x2319, 0x39af, 0x78ee, 0x0, 0x0);
        gbc.writeMem(0xab7a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xcb72);
        EXPECT(gbc.pc(), 0xab7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab7a), 0x5c);
        // 5C 02D2
        gbc.setState(0x6c7b, 0x12b2, 0x9a0, 0xdb1e, 0xf2c2, 0x9dfc, 0x1, 0x0);
        gbc.writeMem(0x6c7b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x12b2);
        EXPECT(gbc.pc(), 0x6c7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02D3
        gbc.setState(0x1676, 0xd251, 0x5c70, 0x2219, 0xc95b, 0xffdb, 0x1, 0x0);
        gbc.writeMem(0x1676, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd251);
        EXPECT(gbc.pc(), 0x1677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02D4
        gbc.setState(0x505e, 0xe7f2, 0x9640, 0x676b, 0xc07e, 0xa895, 0x1, 0x0);
        gbc.writeMem(0x505e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe7f2);
        EXPECT(gbc.pc(), 0x505f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02D5
        gbc.setState(0x2203, 0x4098, 0x5170, 0x2b3, 0xe682, 0x6d5d, 0x1, 0x0);
        gbc.writeMem(0x2203, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4098);
        EXPECT(gbc.pc(), 0x2204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02D7
        gbc.setState(0x2334, 0x52a2, 0x670, 0xb836, 0xa27, 0x6f28, 0x1, 0x0);
        gbc.writeMem(0x2334, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x52a2);
        EXPECT(gbc.pc(), 0x2335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02D8
        gbc.setState(0x1e4f, 0x2fb5, 0x38e0, 0x8853, 0x72fa, 0xac4e, 0x0, 0x0);
        gbc.writeMem(0x1e4f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x2fb5);
        EXPECT(gbc.pc(), 0x1e50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02D9
        gbc.setState(0xc8ce, 0xed8e, 0x2c00, 0x9f25, 0xc54d, 0x6f14, 0x0, 0x0);
        gbc.writeMem(0xc8ce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xed8e);
        EXPECT(gbc.pc(), 0xc8cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8ce), 0x5c);
        // 5C 02DA
        gbc.setState(0x3ae2, 0x6674, 0x8400, 0x16ec, 0x6893, 0x6829, 0x0, 0x1);
        gbc.writeMem(0x3ae2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6674);
        EXPECT(gbc.pc(), 0x3ae3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02DC
        gbc.setState(0x1a52, 0x3422, 0x48e0, 0x9b89, 0xaa1f, 0xbfd9, 0x0, 0x1);
        gbc.writeMem(0x1a52, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3422);
        EXPECT(gbc.pc(), 0x1a53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02DD
        gbc.setState(0x3019, 0xc7c4, 0x290, 0x1e94, 0xb291, 0xd011, 0x0, 0x0);
        gbc.writeMem(0x3019, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc7c4);
        EXPECT(gbc.pc(), 0x301a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02DE
        gbc.setState(0x22fb, 0xa984, 0xa1e0, 0x578b, 0x4a14, 0xd0ea, 0x0, 0x0);
        gbc.writeMem(0x22fb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xa984);
        EXPECT(gbc.pc(), 0x22fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02DF
        gbc.setState(0x8025, 0x1253, 0x3750, 0x174e, 0x24db, 0x225c, 0x0, 0x0);
        gbc.writeMem(0x8025, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1253);
        EXPECT(gbc.pc(), 0x8026);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8025), 0x5c);
        // 5C 02E0
        gbc.setState(0x22b4, 0xf29b, 0x890, 0xa73d, 0xd6aa, 0xdc21, 0x0, 0x1);
        gbc.writeMem(0x22b4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf29b);
        EXPECT(gbc.pc(), 0x22b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02E1
        gbc.setState(0xd83d, 0xace2, 0x9210, 0x34d3, 0xa24f, 0x28be, 0x1, 0x0);
        gbc.writeMem(0xd83d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xace2);
        EXPECT(gbc.pc(), 0xd83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd83d), 0x5c);
        // 5C 02E2
        gbc.setState(0x2558, 0xba0f, 0x8ea0, 0x78f8, 0x8d15, 0xe92a, 0x1, 0x0);
        gbc.writeMem(0x2558, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xba0f);
        EXPECT(gbc.pc(), 0x2559);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02E3
        gbc.setState(0xb619, 0xae9e, 0x5010, 0xd9bb, 0x5d78, 0x2e77, 0x0, 0x0);
        gbc.writeMem(0xb619, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xae9e);
        EXPECT(gbc.pc(), 0xb61a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb619), 0x5c);
        // 5C 02E5
        gbc.setState(0xbe4f, 0xa901, 0x80a0, 0x8a91, 0xf2c0, 0xb02f, 0x1, 0x0);
        gbc.writeMem(0xbe4f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa901);
        EXPECT(gbc.pc(), 0xbe50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4f), 0x5c);
        // 5C 02E6
        gbc.setState(0xefcb, 0xf1dc, 0x2570, 0x755a, 0xe08c, 0x4f81, 0x1, 0x0);
        gbc.writeMem(0xefcb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf1dc);
        EXPECT(gbc.pc(), 0xefcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefcb), 0x5c);
        // 5C 02E7
        gbc.setState(0xeb7d, 0x8435, 0x6530, 0x138a, 0xab04, 0x1716, 0x0, 0x0);
        gbc.writeMem(0xeb7d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8435);
        EXPECT(gbc.pc(), 0xeb7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb7d), 0x5c);
        // 5C 02E8
        gbc.setState(0x40ad, 0x5156, 0xcc60, 0x137a, 0xf806, 0xbe51, 0x0, 0x0);
        gbc.writeMem(0x40ad, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x5156);
        EXPECT(gbc.pc(), 0x40ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02E9
        gbc.setState(0x7063, 0x2aff, 0x5770, 0x90ec, 0xe73a, 0x88bc, 0x1, 0x1);
        gbc.writeMem(0x7063, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x2aff);
        EXPECT(gbc.pc(), 0x7064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02EA
        gbc.setState(0x6dca, 0xae66, 0xd220, 0x83e1, 0x3792, 0xb120, 0x1, 0x0);
        gbc.writeMem(0x6dca, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xae66);
        EXPECT(gbc.pc(), 0x6dcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02EB
        gbc.setState(0x10e1, 0x79d1, 0x7800, 0x8e4d, 0xcb7c, 0xc384, 0x1, 0x1);
        gbc.writeMem(0x10e1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x79d1);
        EXPECT(gbc.pc(), 0x10e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02ED
        gbc.setState(0xc7e8, 0x9e69, 0x2040, 0x385, 0x9600, 0xe0d3, 0x1, 0x0);
        gbc.writeMem(0xc7e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9e69);
        EXPECT(gbc.pc(), 0xc7e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7e8), 0x5c);
        // 5C 02EE
        gbc.setState(0x425e, 0xb506, 0xd400, 0x7593, 0xd2be, 0x4e7, 0x0, 0x0);
        gbc.writeMem(0x425e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb506);
        EXPECT(gbc.pc(), 0x425f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02EF
        gbc.setState(0x2986, 0x90f9, 0x3190, 0xae52, 0x899a, 0x4ffd, 0x1, 0x1);
        gbc.writeMem(0x2986, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x90f9);
        EXPECT(gbc.pc(), 0x2987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02F0
        gbc.setState(0x751d, 0x5995, 0x9960, 0xb0a0, 0x715d, 0x43c3, 0x0, 0x0);
        gbc.writeMem(0x751d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5995);
        EXPECT(gbc.pc(), 0x751e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02F1
        gbc.setState(0x62a0, 0xbc5d, 0xed20, 0xd729, 0xd969, 0x12c0, 0x1, 0x1);
        gbc.writeMem(0x62a0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xbc5d);
        EXPECT(gbc.pc(), 0x62a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02F2
        gbc.setState(0xd466, 0x29c2, 0x2620, 0xca64, 0x387, 0x66e, 0x1, 0x1);
        gbc.writeMem(0xd466, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x29c2);
        EXPECT(gbc.pc(), 0xd467);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd466), 0x5c);
        // 5C 02F3
        gbc.setState(0xba37, 0x6427, 0xf3b0, 0x38c1, 0x6516, 0x9156, 0x0, 0x1);
        gbc.writeMem(0xba37, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6427);
        EXPECT(gbc.pc(), 0xba38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba37), 0x5c);
        // 5C 02F4
        gbc.setState(0xc621, 0x7e65, 0x8cd0, 0x66af, 0xc0b0, 0xef17, 0x1, 0x0);
        gbc.writeMem(0xc621, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7e65);
        EXPECT(gbc.pc(), 0xc622);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc621), 0x5c);
        // 5C 02F5
        gbc.setState(0x8983, 0x3ac8, 0xb0c0, 0x5569, 0x302c, 0xd02b, 0x1, 0x0);
        gbc.writeMem(0x8983, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3ac8);
        EXPECT(gbc.pc(), 0x8984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8983), 0x5c);
        // 5C 02F6
        gbc.setState(0x4c52, 0xca2c, 0x3950, 0x72c4, 0x67d0, 0xaa89, 0x1, 0x0);
        gbc.writeMem(0x4c52, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xca2c);
        EXPECT(gbc.pc(), 0x4c53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02F7
        gbc.setState(0x7c6f, 0x595c, 0xb890, 0xfdf3, 0x3eb0, 0x52b6, 0x1, 0x0);
        gbc.writeMem(0x7c6f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x595c);
        EXPECT(gbc.pc(), 0x7c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 02F8
        gbc.setState(0x70ea, 0x4f7f, 0x53b0, 0x4590, 0x8015, 0x78b7, 0x0, 0x1);
        gbc.writeMem(0x70ea, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4f7f);
        EXPECT(gbc.pc(), 0x70eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 02F9
        gbc.setState(0x63b5, 0xf610, 0x1960, 0x9ec2, 0xd542, 0x327f, 0x0, 0x1);
        gbc.writeMem(0x63b5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf610);
        EXPECT(gbc.pc(), 0x63b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02FA
        gbc.setState(0x9dd9, 0xabe7, 0xb260, 0xa907, 0x54ac, 0x564e, 0x0, 0x1);
        gbc.writeMem(0x9dd9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xabe7);
        EXPECT(gbc.pc(), 0x9dda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dd9), 0x5c);
        // 5C 02FB
        gbc.setState(0x27ec, 0x1fd3, 0xea00, 0x2189, 0xc6fb, 0x5845, 0x0, 0x1);
        gbc.writeMem(0x27ec, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1fd3);
        EXPECT(gbc.pc(), 0x27ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02FC
        gbc.setState(0x748, 0x21fa, 0x3660, 0xec24, 0x3c9a, 0x1cd5, 0x0, 0x1);
        gbc.writeMem(0x748, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x21fa);
        EXPECT(gbc.pc(), 0x749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 02FD
        gbc.setState(0x3297, 0xec9a, 0x55c0, 0x848f, 0x7272, 0x5a55, 0x0, 0x0);
        gbc.writeMem(0x3297, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xec9a);
        EXPECT(gbc.pc(), 0x3298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 02FE
        gbc.setState(0xcac4, 0x4162, 0xbe10, 0xee68, 0x6a8f, 0xf901, 0x0, 0x0);
        gbc.writeMem(0xcac4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4162);
        EXPECT(gbc.pc(), 0xcac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcac4), 0x5c);
        // 5C 02FF
        gbc.setState(0x715, 0xf8b8, 0x3e0, 0xa243, 0x7a22, 0x75ae, 0x1, 0x1);
        gbc.writeMem(0x715, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf8b8);
        EXPECT(gbc.pc(), 0x716);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0300
        gbc.setState(0x4525, 0xf2b6, 0xac50, 0x3653, 0x2428, 0x785a, 0x1, 0x1);
        gbc.writeMem(0x4525, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf2b6);
        EXPECT(gbc.pc(), 0x4526);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0301
        gbc.setState(0x4ecc, 0x1638, 0x4680, 0x245a, 0xab47, 0xfba6, 0x1, 0x0);
        gbc.writeMem(0x4ecc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1638);
        EXPECT(gbc.pc(), 0x4ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0302
        gbc.setState(0xdce9, 0xc8b3, 0xe920, 0x44a6, 0x4afc, 0x5c09, 0x0, 0x0);
        gbc.writeMem(0xdce9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xc8b3);
        EXPECT(gbc.pc(), 0xdcea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdce9), 0x5c);
        // 5C 0303
        gbc.setState(0x3d3e, 0xe2f6, 0xe1f0, 0x98ac, 0x5851, 0xd800, 0x0, 0x0);
        gbc.writeMem(0x3d3e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe2f6);
        EXPECT(gbc.pc(), 0x3d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0304
        gbc.setState(0x28b8, 0x413b, 0x4ea0, 0x991f, 0xa02a, 0x2f56, 0x0, 0x1);
        gbc.writeMem(0x28b8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x413b);
        EXPECT(gbc.pc(), 0x28b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0305
        gbc.setState(0x2c1, 0xdd00, 0x92c0, 0x84e7, 0x6221, 0x551, 0x1, 0x0);
        gbc.writeMem(0x2c1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xdd00);
        EXPECT(gbc.pc(), 0x2c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0306
        gbc.setState(0x912c, 0xc331, 0xd4a0, 0x547c, 0x57d8, 0x81e1, 0x0, 0x1);
        gbc.writeMem(0x912c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc331);
        EXPECT(gbc.pc(), 0x912d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x912c), 0x5c);
        // 5C 0307
        gbc.setState(0xe18f, 0x8f2c, 0xa850, 0xdcf3, 0x719f, 0xd1, 0x0, 0x0);
        gbc.writeMem(0xe18f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8f2c);
        EXPECT(gbc.pc(), 0xe190);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe18f), 0x5c);
        // 5C 0308
        gbc.setState(0x2abf, 0x3fba, 0x7c0, 0x1e9e, 0xb7eb, 0xaeda, 0x0, 0x1);
        gbc.writeMem(0x2abf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3fba);
        EXPECT(gbc.pc(), 0x2ac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0309
        gbc.setState(0x96c4, 0xbbb2, 0x6190, 0xb5be, 0x5cfa, 0x3c31, 0x0, 0x0);
        gbc.writeMem(0x96c4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xbbb2);
        EXPECT(gbc.pc(), 0x96c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96c4), 0x5c);
        // 5C 030A
        gbc.setState(0xd9c, 0x5427, 0xef40, 0xf87e, 0xdbb, 0xe5ff, 0x0, 0x0);
        gbc.writeMem(0xd9c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5427);
        EXPECT(gbc.pc(), 0xd9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 030B
        gbc.setState(0x46fa, 0x23ab, 0xcd80, 0x2300, 0x1dc9, 0xcb07, 0x0, 0x0);
        gbc.writeMem(0x46fa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x23ab);
        EXPECT(gbc.pc(), 0x46fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 030C
        gbc.setState(0xd918, 0xd7dc, 0x5a40, 0x7e2e, 0xaffb, 0x1a1, 0x0, 0x1);
        gbc.writeMem(0xd918, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xd7dc);
        EXPECT(gbc.pc(), 0xd919);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd918), 0x5c);
        // 5C 030D
        gbc.setState(0x8f64, 0xb435, 0x8d40, 0x2854, 0xbc39, 0xcf8b, 0x1, 0x0);
        gbc.writeMem(0x8f64, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb435);
        EXPECT(gbc.pc(), 0x8f65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f64), 0x5c);
        // 5C 030E
        gbc.setState(0x67c9, 0xd3b5, 0x1840, 0xa6f5, 0x8137, 0x678e, 0x0, 0x0);
        gbc.writeMem(0x67c9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd3b5);
        EXPECT(gbc.pc(), 0x67ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 030F
        gbc.setState(0x31a4, 0x3d7e, 0xe0a0, 0x6f55, 0x1c45, 0x75aa, 0x0, 0x0);
        gbc.writeMem(0x31a4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3d7e);
        EXPECT(gbc.pc(), 0x31a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0310
        gbc.setState(0xefb, 0x5cc, 0xbd00, 0xc3a4, 0x1670, 0x90d0, 0x0, 0x0);
        gbc.writeMem(0xefb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x5cc);
        EXPECT(gbc.pc(), 0xefc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0311
        gbc.setState(0x3f39, 0x22c4, 0xdbc0, 0xf712, 0xdb59, 0x8ebd, 0x0, 0x1);
        gbc.writeMem(0x3f39, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x22c4);
        EXPECT(gbc.pc(), 0x3f3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0312
        gbc.setState(0x193c, 0x3392, 0x4d80, 0xc50, 0x8842, 0xe3b4, 0x0, 0x0);
        gbc.writeMem(0x193c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3392);
        EXPECT(gbc.pc(), 0x193d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0313
        gbc.setState(0x1d5, 0xb3c1, 0xa3e0, 0x4cd0, 0xb582, 0x60da, 0x1, 0x1);
        gbc.writeMem(0x1d5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb3c1);
        EXPECT(gbc.pc(), 0x1d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0314
        gbc.setState(0x264, 0xeae, 0xa370, 0x8f01, 0x2c9f, 0xa0f8, 0x0, 0x1);
        gbc.writeMem(0x264, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xeae);
        EXPECT(gbc.pc(), 0x265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0315
        gbc.setState(0x2a93, 0xcf8d, 0x9b20, 0x6b9f, 0xab48, 0xa812, 0x0, 0x1);
        gbc.writeMem(0x2a93, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcf8d);
        EXPECT(gbc.pc(), 0x2a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0316
        gbc.setState(0xaed5, 0x994a, 0x2e90, 0x48ba, 0xe68f, 0xd422, 0x1, 0x0);
        gbc.writeMem(0xaed5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x994a);
        EXPECT(gbc.pc(), 0xaed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaed5), 0x5c);
        // 5C 0317
        gbc.setState(0x74be, 0xa02b, 0xcda0, 0x5f5b, 0x9841, 0x374d, 0x1, 0x1);
        gbc.writeMem(0x74be, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xa02b);
        EXPECT(gbc.pc(), 0x74bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0318
        gbc.setState(0x69f1, 0x9430, 0x9cf0, 0xc34, 0xe9b5, 0xe8a0, 0x1, 0x0);
        gbc.writeMem(0x69f1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9430);
        EXPECT(gbc.pc(), 0x69f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0319
        gbc.setState(0xecc6, 0xab1d, 0x16e0, 0x1c12, 0xed3e, 0x4fd4, 0x0, 0x0);
        gbc.writeMem(0xecc6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xab1d);
        EXPECT(gbc.pc(), 0xecc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecc6), 0x5c);
        // 5C 031A
        gbc.setState(0x8856, 0x93de, 0x9a70, 0x515c, 0x4f02, 0x7ada, 0x0, 0x1);
        gbc.writeMem(0x8856, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x93de);
        EXPECT(gbc.pc(), 0x8857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8856), 0x5c);
        // 5C 031B
        gbc.setState(0xad6f, 0xb668, 0xf840, 0xa81, 0x8a8c, 0xd5fc, 0x0, 0x0);
        gbc.writeMem(0xad6f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb668);
        EXPECT(gbc.pc(), 0xad70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad6f), 0x5c);
        // 5C 031C
        gbc.setState(0x2bbf, 0x9909, 0x2370, 0x60d4, 0x12aa, 0x613c, 0x0, 0x1);
        gbc.writeMem(0x2bbf, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9909);
        EXPECT(gbc.pc(), 0x2bc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 031D
        gbc.setState(0x74d4, 0x9bac, 0xf410, 0x46c9, 0xb470, 0x1a98, 0x1, 0x0);
        gbc.writeMem(0x74d4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9bac);
        EXPECT(gbc.pc(), 0x74d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 031E
        gbc.setState(0x2b27, 0xabcc, 0x77d0, 0x6c92, 0xed7d, 0x8883, 0x1, 0x0);
        gbc.writeMem(0x2b27, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xabcc);
        EXPECT(gbc.pc(), 0x2b28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 031F
        gbc.setState(0x6371, 0x4445, 0xc3b0, 0xb6e4, 0x40cb, 0x371e, 0x1, 0x0);
        gbc.writeMem(0x6371, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4445);
        EXPECT(gbc.pc(), 0x6372);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0320
        gbc.setState(0xe12a, 0x5cef, 0xbf10, 0xd599, 0xf341, 0x4ddd, 0x1, 0x1);
        gbc.writeMem(0xe12a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x5cef);
        EXPECT(gbc.pc(), 0xe12b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe12a), 0x5c);
        // 5C 0321
        gbc.setState(0xc985, 0x2c14, 0x23d0, 0xd5ae, 0x1ebc, 0xb0e, 0x0, 0x0);
        gbc.writeMem(0xc985, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2c14);
        EXPECT(gbc.pc(), 0xc986);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc985), 0x5c);
        // 5C 0322
        gbc.setState(0x4b12, 0xa616, 0x9420, 0x9df8, 0xa4a5, 0xcbd, 0x0, 0x1);
        gbc.writeMem(0x4b12, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa616);
        EXPECT(gbc.pc(), 0x4b13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0323
        gbc.setState(0x5bfe, 0x7696, 0x6f70, 0xa604, 0x3db4, 0x1940, 0x1, 0x1);
        gbc.writeMem(0x5bfe, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7696);
        EXPECT(gbc.pc(), 0x5bff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0324
        gbc.setState(0x696b, 0x1373, 0x3ad0, 0x3cbb, 0x7749, 0x82ea, 0x0, 0x0);
        gbc.writeMem(0x696b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1373);
        EXPECT(gbc.pc(), 0x696c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0325
        gbc.setState(0x44f0, 0xaab9, 0xc8a0, 0x5a50, 0x9b3, 0x1c14, 0x1, 0x1);
        gbc.writeMem(0x44f0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xaab9);
        EXPECT(gbc.pc(), 0x44f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0326
        gbc.setState(0x2ec6, 0x204e, 0x25a0, 0xeb58, 0x2bd5, 0x6096, 0x1, 0x0);
        gbc.writeMem(0x2ec6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x204e);
        EXPECT(gbc.pc(), 0x2ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0327
        gbc.setState(0xab28, 0xf05d, 0xc610, 0xd90d, 0x7177, 0xdfc4, 0x0, 0x0);
        gbc.writeMem(0xab28, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf05d);
        EXPECT(gbc.pc(), 0xab29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab28), 0x5c);
        // 5C 0328
        gbc.setState(0xbb6a, 0x8edb, 0x2540, 0xb310, 0xb7f, 0x91, 0x0, 0x1);
        gbc.writeMem(0xbb6a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x8edb);
        EXPECT(gbc.pc(), 0xbb6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb6a), 0x5c);
        // 5C 0329
        gbc.setState(0x1bc0, 0xab3, 0xdd10, 0xb9fd, 0xd607, 0x5123, 0x1, 0x0);
        gbc.writeMem(0x1bc0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xab3);
        EXPECT(gbc.pc(), 0x1bc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 032A
        gbc.setState(0x57a2, 0xc26b, 0x390, 0x2a00, 0x52de, 0x312e, 0x1, 0x1);
        gbc.writeMem(0x57a2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc26b);
        EXPECT(gbc.pc(), 0x57a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 032B
        gbc.setState(0x1fd1, 0x14e1, 0x3410, 0xddd8, 0x9efa, 0x526e, 0x0, 0x1);
        gbc.writeMem(0x1fd1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x14e1);
        EXPECT(gbc.pc(), 0x1fd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 032C
        gbc.setState(0x6aeb, 0xd940, 0xfe40, 0x7098, 0x3489, 0x5f6c, 0x1, 0x1);
        gbc.writeMem(0x6aeb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd940);
        EXPECT(gbc.pc(), 0x6aec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 032D
        gbc.setState(0x30c4, 0xe722, 0xf860, 0x4d, 0xcc9a, 0xab31, 0x1, 0x0);
        gbc.writeMem(0x30c4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe722);
        EXPECT(gbc.pc(), 0x30c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 032F
        gbc.setState(0x314a, 0x3975, 0xb680, 0xe140, 0x99e1, 0xb427, 0x1, 0x0);
        gbc.writeMem(0x314a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3975);
        EXPECT(gbc.pc(), 0x314b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0330
        gbc.setState(0xb2c3, 0x45c5, 0xa0e0, 0xb403, 0x4e13, 0xec9f, 0x0, 0x0);
        gbc.writeMem(0xb2c3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x45c5);
        EXPECT(gbc.pc(), 0xb2c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c3), 0x5c);
        // 5C 0331
        gbc.setState(0x6b28, 0x12e4, 0xbe10, 0xa464, 0x90d8, 0xdcc2, 0x0, 0x1);
        gbc.writeMem(0x6b28, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x12e4);
        EXPECT(gbc.pc(), 0x6b29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0332
        gbc.setState(0x7be9, 0x5097, 0xdc10, 0xa60d, 0x4ff1, 0x882, 0x0, 0x1);
        gbc.writeMem(0x7be9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x5097);
        EXPECT(gbc.pc(), 0x7bea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0333
        gbc.setState(0x16f8, 0xe31b, 0x1ef0, 0x38cd, 0x3395, 0xdf8d, 0x1, 0x1);
        gbc.writeMem(0x16f8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe31b);
        EXPECT(gbc.pc(), 0x16f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0334
        gbc.setState(0x9023, 0x9b74, 0xae20, 0x820, 0x7939, 0x575f, 0x1, 0x1);
        gbc.writeMem(0x9023, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9b74);
        EXPECT(gbc.pc(), 0x9024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9023), 0x5c);
        // 5C 0335
        gbc.setState(0x6226, 0x29be, 0xd270, 0xfaca, 0x27f4, 0xeec7, 0x0, 0x0);
        gbc.writeMem(0x6226, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x29be);
        EXPECT(gbc.pc(), 0x6227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0336
        gbc.setState(0xf65, 0x8c72, 0xd980, 0x3a2a, 0x78e1, 0x23ec, 0x0, 0x1);
        gbc.writeMem(0xf65, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x8c72);
        EXPECT(gbc.pc(), 0xf66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0337
        gbc.setState(0x8c9d, 0xb64, 0x1960, 0xc1, 0x6715, 0xa7f8, 0x1, 0x1);
        gbc.writeMem(0x8c9d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb64);
        EXPECT(gbc.pc(), 0x8c9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c9d), 0x5c);
        // 5C 0338
        gbc.setState(0x581d, 0x26f6, 0xe0, 0xf718, 0x91eb, 0xddc5, 0x1, 0x1);
        gbc.writeMem(0x581d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x26f6);
        EXPECT(gbc.pc(), 0x581e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0339
        gbc.setState(0x6b1e, 0xc8fa, 0xe5e0, 0x8a75, 0x6422, 0xdef3, 0x0, 0x0);
        gbc.writeMem(0x6b1e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc8fa);
        EXPECT(gbc.pc(), 0x6b1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 033B
        gbc.setState(0x8ade, 0x7370, 0x92c0, 0x8c0, 0x5a9f, 0x53fe, 0x0, 0x1);
        gbc.writeMem(0x8ade, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7370);
        EXPECT(gbc.pc(), 0x8adf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ade), 0x5c);
        // 5C 033C
        gbc.setState(0xc95f, 0x69d3, 0xe370, 0x87d3, 0x459d, 0xc377, 0x1, 0x1);
        gbc.writeMem(0xc95f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x69d3);
        EXPECT(gbc.pc(), 0xc960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc95f), 0x5c);
        // 5C 033D
        gbc.setState(0x5d58, 0x4cd1, 0x5ee0, 0xa768, 0xcb57, 0xcc88, 0x1, 0x1);
        gbc.writeMem(0x5d58, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4cd1);
        EXPECT(gbc.pc(), 0x5d59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 033E
        gbc.setState(0xca97, 0xc837, 0x27a0, 0x178b, 0x7544, 0xeda8, 0x0, 0x0);
        gbc.writeMem(0xca97, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc837);
        EXPECT(gbc.pc(), 0xca98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca97), 0x5c);
        // 5C 033F
        gbc.setState(0xbbe3, 0x43e0, 0x9230, 0x444c, 0x5057, 0xbaef, 0x1, 0x1);
        gbc.writeMem(0xbbe3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x43e0);
        EXPECT(gbc.pc(), 0xbbe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbe3), 0x5c);
        // 5C 0340
        gbc.setState(0x83fc, 0xe419, 0xe080, 0xca71, 0x222a, 0xadf7, 0x1, 0x0);
        gbc.writeMem(0x83fc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe419);
        EXPECT(gbc.pc(), 0x83fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83fc), 0x5c);
        // 5C 0341
        gbc.setState(0xd925, 0x53c7, 0x4e20, 0xf1d2, 0x3673, 0x965, 0x0, 0x1);
        gbc.writeMem(0xd925, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x53c7);
        EXPECT(gbc.pc(), 0xd926);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd925), 0x5c);
        // 5C 0342
        gbc.setState(0x116, 0x518e, 0xb000, 0x5318, 0x8349, 0x19de, 0x0, 0x1);
        gbc.writeMem(0x116, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x518e);
        EXPECT(gbc.pc(), 0x117);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0343
        gbc.setState(0xcd75, 0x24a2, 0xbb90, 0xa51b, 0xb254, 0xbc54, 0x0, 0x0);
        gbc.writeMem(0xcd75, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x24a2);
        EXPECT(gbc.pc(), 0xcd76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd75), 0x5c);
        // 5C 0344
        gbc.setState(0x869d, 0x584, 0xa250, 0xfd3b, 0x647d, 0xad97, 0x0, 0x0);
        gbc.writeMem(0x869d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x584);
        EXPECT(gbc.pc(), 0x869e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x869d), 0x5c);
        // 5C 0345
        gbc.setState(0x223e, 0x5f2c, 0x2d30, 0x75e9, 0x81e3, 0xba84, 0x0, 0x0);
        gbc.writeMem(0x223e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x5f2c);
        EXPECT(gbc.pc(), 0x223f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0346
        gbc.setState(0x1784, 0x6cbd, 0x2b00, 0x2a9, 0x1d62, 0x3dfd, 0x1, 0x1);
        gbc.writeMem(0x1784, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6cbd);
        EXPECT(gbc.pc(), 0x1785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0347
        gbc.setState(0x56e1, 0x1368, 0x2870, 0x20d8, 0x46ca, 0x32c5, 0x0, 0x1);
        gbc.writeMem(0x56e1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x1368);
        EXPECT(gbc.pc(), 0x56e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0348
        gbc.setState(0x2ea1, 0x3f85, 0x3850, 0x1c15, 0x262, 0x6f45, 0x0, 0x0);
        gbc.writeMem(0x2ea1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3f85);
        EXPECT(gbc.pc(), 0x2ea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0349
        gbc.setState(0xba03, 0xe476, 0x14d0, 0x6532, 0x2b9d, 0x53ed, 0x1, 0x1);
        gbc.writeMem(0xba03, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe476);
        EXPECT(gbc.pc(), 0xba04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba03), 0x5c);
        // 5C 034A
        gbc.setState(0x5f3d, 0x7051, 0xce0, 0x66ef, 0xb43, 0x60ed, 0x0, 0x0);
        gbc.writeMem(0x5f3d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7051);
        EXPECT(gbc.pc(), 0x5f3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 034B
        gbc.setState(0x2a95, 0x914c, 0xbc50, 0x319e, 0x57b9, 0x3095, 0x1, 0x0);
        gbc.writeMem(0x2a95, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x914c);
        EXPECT(gbc.pc(), 0x2a96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 034C
        gbc.setState(0x806e, 0xb8f4, 0xb4e0, 0xf967, 0xeb67, 0x4e0b, 0x1, 0x0);
        gbc.writeMem(0x806e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb8f4);
        EXPECT(gbc.pc(), 0x806f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x806e), 0x5c);
        // 5C 034D
        gbc.setState(0xe4b1, 0x4b6f, 0xc7b0, 0xcbdf, 0x9cc7, 0x150e, 0x0, 0x1);
        gbc.writeMem(0xe4b1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4b6f);
        EXPECT(gbc.pc(), 0xe4b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4b1), 0x5c);
        // 5C 034E
        gbc.setState(0x2f15, 0x3fd9, 0x5930, 0xadb5, 0x5a10, 0xbf16, 0x1, 0x1);
        gbc.writeMem(0x2f15, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x3fd9);
        EXPECT(gbc.pc(), 0x2f16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 034F
        gbc.setState(0x51fd, 0xbe2a, 0x8e50, 0x6c76, 0xf581, 0xacdc, 0x0, 0x0);
        gbc.writeMem(0x51fd, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xbe2a);
        EXPECT(gbc.pc(), 0x51fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0350
        gbc.setState(0xed56, 0x474d, 0x35a0, 0x3911, 0xb5e1, 0x37d0, 0x1, 0x1);
        gbc.writeMem(0xed56, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x474d);
        EXPECT(gbc.pc(), 0xed57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed56), 0x5c);
        // 5C 0351
        gbc.setState(0x92d1, 0xb4dd, 0xd0, 0xec53, 0x3dc2, 0xbfca, 0x0, 0x0);
        gbc.writeMem(0x92d1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb4dd);
        EXPECT(gbc.pc(), 0x92d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92d1), 0x5c);
        // 5C 0352
        gbc.setState(0xcc2c, 0x3a0, 0xeef0, 0x9bdf, 0x4065, 0x165c, 0x1, 0x0);
        gbc.writeMem(0xcc2c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3a0);
        EXPECT(gbc.pc(), 0xcc2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc2c), 0x5c);
        // 5C 0353
        gbc.setState(0x8c40, 0xcf78, 0xe9b0, 0xa826, 0x20e7, 0x82bb, 0x1, 0x0);
        gbc.writeMem(0x8c40, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xcf78);
        EXPECT(gbc.pc(), 0x8c41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c40), 0x5c);
        // 5C 0354
        gbc.setState(0x6011, 0x7016, 0x6000, 0x5b43, 0x2932, 0x5491, 0x1, 0x1);
        gbc.writeMem(0x6011, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7016);
        EXPECT(gbc.pc(), 0x6012);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0355
        gbc.setState(0x3708, 0x4406, 0x62b0, 0x45bb, 0x8bcb, 0xa5e1, 0x0, 0x0);
        gbc.writeMem(0x3708, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x4406);
        EXPECT(gbc.pc(), 0x3709);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0356
        gbc.setState(0xef16, 0xa8f6, 0x83a0, 0x5f9c, 0x9df4, 0x8294, 0x0, 0x0);
        gbc.writeMem(0xef16, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa8f6);
        EXPECT(gbc.pc(), 0xef17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef16), 0x5c);
        // 5C 0357
        gbc.setState(0x359b, 0xe1d, 0xeb20, 0x7119, 0xca2e, 0x541e, 0x1, 0x0);
        gbc.writeMem(0x359b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe1d);
        EXPECT(gbc.pc(), 0x359c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0358
        gbc.setState(0x6689, 0x1d2c, 0x6dd0, 0xe5ac, 0x87ad, 0x9853, 0x1, 0x1);
        gbc.writeMem(0x6689, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1d2c);
        EXPECT(gbc.pc(), 0x668a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0359
        gbc.setState(0x5339, 0x7dbd, 0x8460, 0x254e, 0xd348, 0xbc48, 0x0, 0x1);
        gbc.writeMem(0x5339, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7dbd);
        EXPECT(gbc.pc(), 0x533a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 035A
        gbc.setState(0x7dc0, 0x868e, 0x8880, 0x59f7, 0x82b1, 0x840d, 0x1, 0x0);
        gbc.writeMem(0x7dc0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x868e);
        EXPECT(gbc.pc(), 0x7dc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 035B
        gbc.setState(0x3482, 0x4f73, 0x3810, 0x8f40, 0xac51, 0xb811, 0x1, 0x1);
        gbc.writeMem(0x3482, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4f73);
        EXPECT(gbc.pc(), 0x3483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 035D
        gbc.setState(0x7386, 0xaa03, 0xeb40, 0x6446, 0xb7b5, 0xe60c, 0x1, 0x0);
        gbc.writeMem(0x7386, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xaa03);
        EXPECT(gbc.pc(), 0x7387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 035E
        gbc.setState(0x4f51, 0x9d5f, 0x66e0, 0x1917, 0x200b, 0xa403, 0x0, 0x0);
        gbc.writeMem(0x4f51, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9d5f);
        EXPECT(gbc.pc(), 0x4f52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0360
        gbc.setState(0x9049, 0x8f8b, 0xf5f0, 0xe0da, 0x1a57, 0x7bdf, 0x0, 0x1);
        gbc.writeMem(0x9049, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8f8b);
        EXPECT(gbc.pc(), 0x904a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9049), 0x5c);
        // 5C 0361
        gbc.setState(0xdb17, 0xb658, 0x970, 0x8f35, 0xcd47, 0x5953, 0x0, 0x1);
        gbc.writeMem(0xdb17, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb658);
        EXPECT(gbc.pc(), 0xdb18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb17), 0x5c);
        // 5C 0362
        gbc.setState(0x22db, 0x8b6f, 0xb9f0, 0x1638, 0x9dc8, 0xba79, 0x0, 0x1);
        gbc.writeMem(0x22db, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8b6f);
        EXPECT(gbc.pc(), 0x22dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0363
        gbc.setState(0x7aff, 0x107c, 0x5330, 0x62e8, 0x2ee, 0x286f, 0x0, 0x0);
        gbc.writeMem(0x7aff, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x107c);
        EXPECT(gbc.pc(), 0x7b00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0364
        gbc.setState(0x44af, 0xdb96, 0x1bf0, 0x5a4f, 0x461a, 0x9acf, 0x0, 0x0);
        gbc.writeMem(0x44af, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xdb96);
        EXPECT(gbc.pc(), 0x44b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0365
        gbc.setState(0x2ac4, 0xef12, 0xe190, 0xf676, 0x2c6, 0x760f, 0x0, 0x0);
        gbc.writeMem(0x2ac4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xef12);
        EXPECT(gbc.pc(), 0x2ac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0366
        gbc.setState(0xc638, 0x623f, 0x5e40, 0xb69f, 0x2f6b, 0xcaff, 0x1, 0x1);
        gbc.writeMem(0xc638, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x623f);
        EXPECT(gbc.pc(), 0xc639);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc638), 0x5c);
        // 5C 0367
        gbc.setState(0x5cfc, 0x713f, 0x2a00, 0x9343, 0x8d33, 0x9744, 0x1, 0x1);
        gbc.writeMem(0x5cfc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x713f);
        EXPECT(gbc.pc(), 0x5cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0368
        gbc.setState(0x3d60, 0x7d2b, 0xc0f0, 0x228, 0xf162, 0xefa5, 0x1, 0x0);
        gbc.writeMem(0x3d60, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7d2b);
        EXPECT(gbc.pc(), 0x3d61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0369
        gbc.setState(0xdbe8, 0xa785, 0x1c20, 0x3aaa, 0xb159, 0x784a, 0x1, 0x1);
        gbc.writeMem(0xdbe8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa785);
        EXPECT(gbc.pc(), 0xdbe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbe8), 0x5c);
        // 5C 036C
        gbc.setState(0x9893, 0x5cf3, 0xec70, 0xaab4, 0x276, 0x951f, 0x0, 0x1);
        gbc.writeMem(0x9893, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5cf3);
        EXPECT(gbc.pc(), 0x9894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9893), 0x5c);
        // 5C 036D
        gbc.setState(0x824a, 0x1a11, 0xe9e0, 0xc090, 0x6d27, 0x5250, 0x0, 0x1);
        gbc.writeMem(0x824a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1a11);
        EXPECT(gbc.pc(), 0x824b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x824a), 0x5c);
        // 5C 036E
        gbc.setState(0xa7a8, 0x1c62, 0x76a0, 0x4a54, 0x8622, 0xc250, 0x0, 0x0);
        gbc.writeMem(0xa7a8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1c62);
        EXPECT(gbc.pc(), 0xa7a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7a8), 0x5c);
        // 5C 036F
        gbc.setState(0x89e8, 0xe424, 0xd190, 0xdfdf, 0xf5d8, 0x7d76, 0x1, 0x1);
        gbc.writeMem(0x89e8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe424);
        EXPECT(gbc.pc(), 0x89e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89e8), 0x5c);
        // 5C 0370
        gbc.setState(0x8603, 0xbae9, 0x6730, 0x2da6, 0xf385, 0xa3c4, 0x0, 0x0);
        gbc.writeMem(0x8603, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbae9);
        EXPECT(gbc.pc(), 0x8604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8603), 0x5c);
        // 5C 0371
        gbc.setState(0x9ae2, 0xbc22, 0xd7f0, 0xa24, 0x6fff, 0xc53f, 0x1, 0x0);
        gbc.writeMem(0x9ae2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbc22);
        EXPECT(gbc.pc(), 0x9ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae2), 0x5c);
        // 5C 0372
        gbc.setState(0xd5f0, 0xf795, 0x27c0, 0x6c, 0x8cf, 0x2598, 0x1, 0x0);
        gbc.writeMem(0xd5f0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf795);
        EXPECT(gbc.pc(), 0xd5f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f0), 0x5c);
        // 5C 0373
        gbc.setState(0xa9ce, 0x8d3a, 0x24d0, 0x5237, 0x71c1, 0xbd29, 0x0, 0x0);
        gbc.writeMem(0xa9ce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8d3a);
        EXPECT(gbc.pc(), 0xa9cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ce), 0x5c);
        // 5C 0374
        gbc.setState(0x3e8b, 0x30dd, 0x9330, 0x3d2b, 0x93ca, 0xcf10, 0x1, 0x0);
        gbc.writeMem(0x3e8b, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x30dd);
        EXPECT(gbc.pc(), 0x3e8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0375
        gbc.setState(0xa33d, 0x849a, 0x4670, 0x3da4, 0xe026, 0x2404, 0x0, 0x0);
        gbc.writeMem(0xa33d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x849a);
        EXPECT(gbc.pc(), 0xa33e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa33d), 0x5c);
        // 5C 0376
        gbc.setState(0x7277, 0x6b6b, 0xfb50, 0x1377, 0x9975, 0x38fb, 0x0, 0x0);
        gbc.writeMem(0x7277, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x6b6b);
        EXPECT(gbc.pc(), 0x7278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0377
        gbc.setState(0x9da3, 0xd299, 0x43d0, 0x8b39, 0x93f1, 0xe89a, 0x1, 0x0);
        gbc.writeMem(0x9da3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xd299);
        EXPECT(gbc.pc(), 0x9da4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9da3), 0x5c);
        // 5C 0378
        gbc.setState(0x3ec6, 0xd18a, 0xb530, 0x6c0b, 0x4701, 0xb0f8, 0x1, 0x0);
        gbc.writeMem(0x3ec6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xd18a);
        EXPECT(gbc.pc(), 0x3ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0379
        gbc.setState(0xd30f, 0x920b, 0x7b70, 0x21d6, 0x3c94, 0xf15a, 0x1, 0x0);
        gbc.writeMem(0xd30f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x920b);
        EXPECT(gbc.pc(), 0xd310);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd30f), 0x5c);
        // 5C 037A
        gbc.setState(0x9767, 0x7180, 0x5dc0, 0x9839, 0x69c1, 0xd72e, 0x1, 0x0);
        gbc.writeMem(0x9767, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7180);
        EXPECT(gbc.pc(), 0x9768);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9767), 0x5c);
        // 5C 037B
        gbc.setState(0x5ebb, 0x435a, 0x5090, 0xe5c3, 0xc4ec, 0x19ce, 0x1, 0x0);
        gbc.writeMem(0x5ebb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x435a);
        EXPECT(gbc.pc(), 0x5ebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 037C
        gbc.setState(0x6bd3, 0x1418, 0xd910, 0xc3d4, 0xde93, 0x17ae, 0x0, 0x0);
        gbc.writeMem(0x6bd3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1418);
        EXPECT(gbc.pc(), 0x6bd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 037D
        gbc.setState(0x4a9d, 0x7021, 0xfa40, 0xd802, 0x32e, 0x358c, 0x1, 0x0);
        gbc.writeMem(0x4a9d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7021);
        EXPECT(gbc.pc(), 0x4a9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 037E
        gbc.setState(0x3b09, 0xa8e2, 0xb50, 0x447e, 0xc5be, 0x376c, 0x1, 0x1);
        gbc.writeMem(0x3b09, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa8e2);
        EXPECT(gbc.pc(), 0x3b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 037F
        gbc.setState(0x8505, 0xb923, 0xf060, 0x718a, 0x1025, 0xe92c, 0x1, 0x1);
        gbc.writeMem(0x8505, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb923);
        EXPECT(gbc.pc(), 0x8506);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8505), 0x5c);
        // 5C 0380
        gbc.setState(0xaa26, 0x2c69, 0x9530, 0x332c, 0xd141, 0xb9b1, 0x1, 0x0);
        gbc.writeMem(0xaa26, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2c69);
        EXPECT(gbc.pc(), 0xaa27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa26), 0x5c);
        // 5C 0383
        gbc.setState(0x948f, 0x79be, 0xc600, 0xa842, 0x81f8, 0x88f5, 0x0, 0x0);
        gbc.writeMem(0x948f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x79be);
        EXPECT(gbc.pc(), 0x9490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x948f), 0x5c);
        // 5C 0385
        gbc.setState(0x837f, 0xda35, 0x1440, 0x9e99, 0x7682, 0x1453, 0x0, 0x1);
        gbc.writeMem(0x837f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xda35);
        EXPECT(gbc.pc(), 0x8380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x837f), 0x5c);
        // 5C 0386
        gbc.setState(0x3163, 0xace3, 0x85f0, 0xdba3, 0xe1dc, 0x4881, 0x1, 0x1);
        gbc.writeMem(0x3163, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xace3);
        EXPECT(gbc.pc(), 0x3164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0387
        gbc.setState(0x283a, 0xe055, 0xa620, 0xa7e0, 0x503d, 0xbaa3, 0x1, 0x1);
        gbc.writeMem(0x283a, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xe055);
        EXPECT(gbc.pc(), 0x283b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0388
        gbc.setState(0x166e, 0x2e73, 0xa860, 0x13ed, 0x98fb, 0x5f19, 0x1, 0x0);
        gbc.writeMem(0x166e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2e73);
        EXPECT(gbc.pc(), 0x166f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 0389
        gbc.setState(0x8ea4, 0x176b, 0xe460, 0xa68, 0x7a43, 0x3de5, 0x0, 0x1);
        gbc.writeMem(0x8ea4, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x176b);
        EXPECT(gbc.pc(), 0x8ea5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ea4), 0x5c);
        // 5C 038A
        gbc.setState(0xd2d3, 0x68a4, 0x8780, 0xa43a, 0xe080, 0xf045, 0x0, 0x1);
        gbc.writeMem(0xd2d3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x68a4);
        EXPECT(gbc.pc(), 0xd2d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2d3), 0x5c);
        // 5C 038B
        gbc.setState(0x9c24, 0x31d1, 0x8430, 0xa9c3, 0xfec5, 0xfb16, 0x1, 0x0);
        gbc.writeMem(0x9c24, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x31d1);
        EXPECT(gbc.pc(), 0x9c25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c24), 0x5c);
        // 5C 038C
        gbc.setState(0x865, 0xa7e7, 0x1a20, 0xe9a8, 0xcf55, 0xe2bf, 0x1, 0x0);
        gbc.writeMem(0x865, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa7e7);
        EXPECT(gbc.pc(), 0x866);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 038D
        gbc.setState(0x94c5, 0xe3ab, 0x82d0, 0x4a42, 0x7fa9, 0x4d68, 0x1, 0x0);
        gbc.writeMem(0x94c5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe3ab);
        EXPECT(gbc.pc(), 0x94c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c5), 0x5c);
        // 5C 038E
        gbc.setState(0x70a7, 0xa817, 0x8a50, 0xc94b, 0xff92, 0xef88, 0x0, 0x0);
        gbc.writeMem(0x70a7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa817);
        EXPECT(gbc.pc(), 0x70a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 038F
        gbc.setState(0xe2f8, 0x4c35, 0x2970, 0xe1a8, 0x8ac3, 0x5d2b, 0x1, 0x1);
        gbc.writeMem(0xe2f8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4c35);
        EXPECT(gbc.pc(), 0xe2f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2f8), 0x5c);
        // 5C 0390
        gbc.setState(0x8192, 0x2263, 0xd1f0, 0x33e1, 0x1634, 0x57ea, 0x1, 0x0);
        gbc.writeMem(0x8192, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2263);
        EXPECT(gbc.pc(), 0x8193);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8192), 0x5c);
        // 5C 0391
        gbc.setState(0x3f37, 0x499c, 0x3510, 0x1b02, 0x2029, 0x7ca5, 0x0, 0x0);
        gbc.writeMem(0x3f37, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x499c);
        EXPECT(gbc.pc(), 0x3f38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 0392
        gbc.setState(0x1879, 0xffed, 0x1280, 0x1d97, 0xa04f, 0x7e16, 0x1, 0x0);
        gbc.writeMem(0x1879, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xffed);
        EXPECT(gbc.pc(), 0x187a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 0393
        gbc.setState(0xa154, 0xe03a, 0xe7d0, 0x6d22, 0xae2, 0x159a, 0x0, 0x0);
        gbc.writeMem(0xa154, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xe03a);
        EXPECT(gbc.pc(), 0xa155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa154), 0x5c);
        // 5C 0394
        gbc.setState(0xd018, 0x773d, 0x7dd0, 0x48b2, 0x9926, 0x94a2, 0x1, 0x1);
        gbc.writeMem(0xd018, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x773d);
        EXPECT(gbc.pc(), 0xd019);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd018), 0x5c);
        // 5C 0395
        gbc.setState(0xb013, 0x81a8, 0xacb0, 0x2f15, 0x74d3, 0x721f, 0x0, 0x1);
        gbc.writeMem(0xb013, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x81a8);
        EXPECT(gbc.pc(), 0xb014);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb013), 0x5c);
        // 5C 0396
        gbc.setState(0xe80e, 0x1d0b, 0x2550, 0xa4b5, 0x29af, 0xd283, 0x1, 0x1);
        gbc.writeMem(0xe80e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1d0b);
        EXPECT(gbc.pc(), 0xe80f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe80e), 0x5c);
        // 5C 0397
        gbc.setState(0x10b7, 0x2168, 0xd7b0, 0xed3, 0x9485, 0x1ba5, 0x0, 0x1);
        gbc.writeMem(0x10b7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2168);
        EXPECT(gbc.pc(), 0x10b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 0398
        gbc.setState(0x5b44, 0xdaa5, 0x8380, 0x3ca2, 0xa9e, 0x8b25, 0x0, 0x1);
        gbc.writeMem(0x5b44, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xdaa5);
        EXPECT(gbc.pc(), 0x5b45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 039A
        gbc.setState(0xc5f6, 0x1c1, 0x5f00, 0x7edf, 0x2936, 0x3a3b, 0x1, 0x1);
        gbc.writeMem(0xc5f6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1c1);
        EXPECT(gbc.pc(), 0xc5f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5f6), 0x5c);
        // 5C 039B
        gbc.setState(0x7763, 0xff9a, 0xbc40, 0xe07a, 0x35c9, 0x30e3, 0x0, 0x0);
        gbc.writeMem(0x7763, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xff9a);
        EXPECT(gbc.pc(), 0x7764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 039C
        gbc.setState(0x3455, 0xf4f9, 0x6c90, 0x60ff, 0xb1, 0xe56d, 0x0, 0x1);
        gbc.writeMem(0x3455, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf4f9);
        EXPECT(gbc.pc(), 0x3456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 039D
        gbc.setState(0x7223, 0x58b9, 0x3440, 0x7efc, 0x4b56, 0x12b3, 0x1, 0x1);
        gbc.writeMem(0x7223, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x58b9);
        EXPECT(gbc.pc(), 0x7224);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 039E
        gbc.setState(0x51fa, 0x48a4, 0xbd50, 0xff85, 0xec9a, 0xf17, 0x0, 0x0);
        gbc.writeMem(0x51fa, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x48a4);
        EXPECT(gbc.pc(), 0x51fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 039F
        gbc.setState(0x11e0, 0xa74, 0x5bd0, 0xabc4, 0x2574, 0xeebf, 0x1, 0x0);
        gbc.writeMem(0x11e0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa74);
        EXPECT(gbc.pc(), 0x11e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03A0
        gbc.setState(0x78ea, 0x4946, 0xcca0, 0x61dc, 0xaed2, 0xfa4c, 0x0, 0x0);
        gbc.writeMem(0x78ea, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x4946);
        EXPECT(gbc.pc(), 0x78eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03A1
        gbc.setState(0x68f2, 0x69ae, 0x9f0, 0x2ee0, 0x519a, 0xdadb, 0x1, 0x0);
        gbc.writeMem(0x68f2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x69ae);
        EXPECT(gbc.pc(), 0x68f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03A2
        gbc.setState(0x38c8, 0x26dc, 0x4ca0, 0x58fc, 0x5dcd, 0x845a, 0x1, 0x0);
        gbc.writeMem(0x38c8, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x26dc);
        EXPECT(gbc.pc(), 0x38c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03A3
        gbc.setState(0xb93c, 0xbfc4, 0xf070, 0xc419, 0xf89e, 0x2361, 0x1, 0x0);
        gbc.writeMem(0xb93c, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xbfc4);
        EXPECT(gbc.pc(), 0xb93d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb93c), 0x5c);
        // 5C 03A4
        gbc.setState(0x744f, 0x59e1, 0xdfa0, 0x9226, 0x9503, 0xad1a, 0x0, 0x0);
        gbc.writeMem(0x744f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x59e1);
        EXPECT(gbc.pc(), 0x7450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03A5
        gbc.setState(0x3bd1, 0xa426, 0xacd0, 0xa070, 0x2908, 0x38fd, 0x0, 0x0);
        gbc.writeMem(0x3bd1, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xa426);
        EXPECT(gbc.pc(), 0x3bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03A6
        gbc.setState(0x4d90, 0x4e8f, 0x5a90, 0x3bc3, 0x522d, 0x29f2, 0x1, 0x1);
        gbc.writeMem(0x4d90, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4e8f);
        EXPECT(gbc.pc(), 0x4d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03A7
        gbc.setState(0x7a31, 0x8d2e, 0x56d0, 0xaf07, 0x5abc, 0xd645, 0x1, 0x0);
        gbc.writeMem(0x7a31, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x8d2e);
        EXPECT(gbc.pc(), 0x7a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03A8
        gbc.setState(0xdd5d, 0xb592, 0x5120, 0x956b, 0x9079, 0xd295, 0x0, 0x0);
        gbc.writeMem(0xdd5d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb592);
        EXPECT(gbc.pc(), 0xdd5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd5d), 0x5c);
        // 5C 03A9
        gbc.setState(0x19cc, 0x97f9, 0x9d20, 0x4264, 0x26c8, 0xe9c1, 0x0, 0x0);
        gbc.writeMem(0x19cc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x97f9);
        EXPECT(gbc.pc(), 0x19cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03AA
        gbc.setState(0x5066, 0xbcb6, 0x4700, 0x3750, 0x2ba1, 0xb552, 0x0, 0x1);
        gbc.writeMem(0x5066, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xbcb6);
        EXPECT(gbc.pc(), 0x5067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 03AB
        gbc.setState(0xd146, 0x8abb, 0x3f70, 0xd3ec, 0x9265, 0x573, 0x0, 0x0);
        gbc.writeMem(0xd146, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8abb);
        EXPECT(gbc.pc(), 0xd147);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd146), 0x5c);
        // 5C 03AC
        gbc.setState(0x12a2, 0xb2ad, 0x7460, 0x8fce, 0xf319, 0x3692, 0x0, 0x1);
        gbc.writeMem(0x12a2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb2ad);
        EXPECT(gbc.pc(), 0x12a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03AD
        gbc.setState(0x37f0, 0x45cc, 0x71e0, 0xbaf9, 0x34b7, 0x8c86, 0x1, 0x1);
        gbc.writeMem(0x37f0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x45cc);
        EXPECT(gbc.pc(), 0x37f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03AE
        gbc.setState(0xc078, 0x1d2c, 0xe920, 0xf7af, 0xaa23, 0x41a, 0x0, 0x0);
        gbc.writeMem(0xc078, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1d2c);
        EXPECT(gbc.pc(), 0xc079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc078), 0x5c);
        // 5C 03AF
        gbc.setState(0x1fae, 0x21b3, 0x6730, 0x834c, 0xf296, 0xd96, 0x0, 0x1);
        gbc.writeMem(0x1fae, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x21b3);
        EXPECT(gbc.pc(), 0x1faf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03B0
        gbc.setState(0xaa34, 0xa080, 0xc040, 0x5ea5, 0x18ab, 0x8984, 0x1, 0x1);
        gbc.writeMem(0xaa34, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa080);
        EXPECT(gbc.pc(), 0xaa35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa34), 0x5c);
        // 5C 03B1
        gbc.setState(0xee52, 0x90f5, 0x44f0, 0x338b, 0x3a6c, 0x15e1, 0x0, 0x1);
        gbc.writeMem(0xee52, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x90f5);
        EXPECT(gbc.pc(), 0xee53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee52), 0x5c);
        // 5C 03B2
        gbc.setState(0xcdf5, 0x6cf7, 0x94c0, 0x97a9, 0xbe29, 0xf940, 0x0, 0x0);
        gbc.writeMem(0xcdf5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6cf7);
        EXPECT(gbc.pc(), 0xcdf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf5), 0x5c);
        // 5C 03B3
        gbc.setState(0xc17d, 0x6f46, 0x1c80, 0xbb21, 0x7e5e, 0xf901, 0x0, 0x1);
        gbc.writeMem(0xc17d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6f46);
        EXPECT(gbc.pc(), 0xc17e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc17d), 0x5c);
        // 5C 03B4
        gbc.setState(0x5fdb, 0x7755, 0x57b0, 0x9e94, 0x12f9, 0xf697, 0x1, 0x0);
        gbc.writeMem(0x5fdb, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7755);
        EXPECT(gbc.pc(), 0x5fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03B5
        gbc.setState(0x81c5, 0xb64a, 0xdfd0, 0x30eb, 0x6260, 0x6dc4, 0x0, 0x0);
        gbc.writeMem(0x81c5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb64a);
        EXPECT(gbc.pc(), 0x81c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81c5), 0x5c);
        // 5C 03B6
        gbc.setState(0xeb91, 0xe07e, 0xda0, 0xad10, 0xa0c2, 0x4cf0, 0x1, 0x1);
        gbc.writeMem(0xeb91, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe07e);
        EXPECT(gbc.pc(), 0xeb92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb91), 0x5c);
        // 5C 03B7
        gbc.setState(0x4cc5, 0xb47f, 0xcce0, 0xa1fb, 0x6a98, 0x60a5, 0x0, 0x0);
        gbc.writeMem(0x4cc5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb47f);
        EXPECT(gbc.pc(), 0x4cc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5C 03B8
        gbc.setState(0xdacc, 0x1439, 0x7100, 0xc932, 0xc236, 0x5ada, 0x1, 0x1);
        gbc.writeMem(0xdacc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1439);
        EXPECT(gbc.pc(), 0xdacd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdacc), 0x5c);
        // 5C 03BA
        gbc.setState(0xb328, 0xb219, 0xe90, 0x422f, 0xb76e, 0xd7a2, 0x1, 0x0);
        gbc.writeMem(0xb328, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xb219);
        EXPECT(gbc.pc(), 0xb329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb328), 0x5c);
        // 5C 03BB
        gbc.setState(0xb3a3, 0x6963, 0x53f0, 0x60db, 0x6aad, 0x88d9, 0x1, 0x1);
        gbc.writeMem(0xb3a3, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x6963);
        EXPECT(gbc.pc(), 0xb3a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3a3), 0x5c);
        // 5C 03BC
        gbc.setState(0x8593, 0x24ca, 0xcfe0, 0x71bc, 0x9c70, 0xeec5, 0x0, 0x0);
        gbc.writeMem(0x8593, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x24ca);
        EXPECT(gbc.pc(), 0x8594);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8593), 0x5c);
        // 5C 03BD
        gbc.setState(0xdecc, 0x1fca, 0xb2d0, 0xee25, 0xf74b, 0xb111, 0x0, 0x0);
        gbc.writeMem(0xdecc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1fca);
        EXPECT(gbc.pc(), 0xdecd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdecc), 0x5c);
        // 5C 03BF
        gbc.setState(0x3f04, 0x7a57, 0xde80, 0x707c, 0x1dc3, 0x96ca, 0x1, 0x0);
        gbc.writeMem(0x3f04, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7a57);
        EXPECT(gbc.pc(), 0x3f05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 03C0
        gbc.setState(0x6c7f, 0xcbd2, 0x1f0, 0x2d75, 0xe169, 0x1948, 0x1, 0x0);
        gbc.writeMem(0x6c7f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xcbd2);
        EXPECT(gbc.pc(), 0x6c80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03C1
        gbc.setState(0xc76e, 0xcdd1, 0xcf30, 0x6eea, 0x1b5c, 0xc337, 0x0, 0x0);
        gbc.writeMem(0xc76e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xcdd1);
        EXPECT(gbc.pc(), 0xc76f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc76e), 0x5c);
        // 5C 03C2
        gbc.setState(0xa4d6, 0xd472, 0x9d0, 0x1aca, 0x7cda, 0x7a0e, 0x0, 0x1);
        gbc.writeMem(0xa4d6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xd472);
        EXPECT(gbc.pc(), 0xa4d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4d6), 0x5c);
        // 5C 03C3
        gbc.setState(0xc70, 0x2011, 0x1d80, 0x64ce, 0x8a74, 0xbabb, 0x1, 0x1);
        gbc.writeMem(0xc70, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2011);
        EXPECT(gbc.pc(), 0xc71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 03C4
        gbc.setState(0x3922, 0x5d9d, 0xd9f0, 0x816, 0x3355, 0x3af6, 0x1, 0x0);
        gbc.writeMem(0x3922, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5d9d);
        EXPECT(gbc.pc(), 0x3923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03C5
        gbc.setState(0x6b1e, 0xf350, 0x1840, 0x94a9, 0x5f85, 0xdb3a, 0x1, 0x0);
        gbc.writeMem(0x6b1e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf350);
        EXPECT(gbc.pc(), 0x6b1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 03C6
        gbc.setState(0xad77, 0x21f6, 0xdd80, 0xfa0d, 0x42c, 0xc7f8, 0x1, 0x1);
        gbc.writeMem(0xad77, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x21f6);
        EXPECT(gbc.pc(), 0xad78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad77), 0x5c);
        // 5C 03C8
        gbc.setState(0xd6b7, 0x5fc2, 0xb7e0, 0x886c, 0x4a26, 0x4d43, 0x1, 0x0);
        gbc.writeMem(0xd6b7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x5fc2);
        EXPECT(gbc.pc(), 0xd6b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6b7), 0x5c);
        // 5C 03C9
        gbc.setState(0x42d6, 0x5203, 0x95b0, 0xd8c5, 0x49e3, 0x4110, 0x0, 0x0);
        gbc.writeMem(0x42d6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5203);
        EXPECT(gbc.pc(), 0x42d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03CA
        gbc.setState(0x73ad, 0x2812, 0x4130, 0x6216, 0x3ef2, 0x3b21, 0x0, 0x1);
        gbc.writeMem(0x73ad, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x2812);
        EXPECT(gbc.pc(), 0x73ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03CB
        gbc.setState(0x37b0, 0xc551, 0x8cf0, 0xc6ab, 0xa338, 0x8484, 0x0, 0x0);
        gbc.writeMem(0x37b0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc551);
        EXPECT(gbc.pc(), 0x37b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03CC
        gbc.setState(0x91e0, 0x4a93, 0xac60, 0xd5cc, 0x684, 0x55b1, 0x0, 0x0);
        gbc.writeMem(0x91e0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4a93);
        EXPECT(gbc.pc(), 0x91e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e0), 0x5c);
        // 5C 03CD
        gbc.setState(0xd303, 0xc016, 0xd610, 0x1c1e, 0x3540, 0xbb8b, 0x1, 0x1);
        gbc.writeMem(0xd303, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc016);
        EXPECT(gbc.pc(), 0xd304);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd303), 0x5c);
        // 5C 03CE
        gbc.setState(0xe7f9, 0x9a93, 0xb950, 0x1f27, 0xe102, 0x56c5, 0x1, 0x1);
        gbc.writeMem(0xe7f9, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x9a93);
        EXPECT(gbc.pc(), 0xe7fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7f9), 0x5c);
        // 5C 03CF
        gbc.setState(0x7dbc, 0x1989, 0x9e50, 0xa347, 0xffb3, 0x3ac6, 0x1, 0x0);
        gbc.writeMem(0x7dbc, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1989);
        EXPECT(gbc.pc(), 0x7dbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03D0
        gbc.setState(0xe308, 0x20d4, 0x5fd0, 0x45e7, 0x331b, 0x40af, 0x1, 0x0);
        gbc.writeMem(0xe308, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x20d4);
        EXPECT(gbc.pc(), 0xe309);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe308), 0x5c);
        // 5C 03D1
        gbc.setState(0x7ec5, 0x2110, 0x98f0, 0xe38a, 0x9398, 0x7686, 0x0, 0x0);
        gbc.writeMem(0x7ec5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2110);
        EXPECT(gbc.pc(), 0x7ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03D2
        gbc.setState(0x90d2, 0x5f9d, 0x3290, 0xfb7e, 0x6646, 0x18cd, 0x1, 0x1);
        gbc.writeMem(0x90d2, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5f9d);
        EXPECT(gbc.pc(), 0x90d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90d2), 0x5c);
        // 5C 03D3
        gbc.setState(0xe0de, 0xd47c, 0x67c0, 0x573, 0xb9d, 0xc805, 0x1, 0x1);
        gbc.writeMem(0xe0de, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd47c);
        EXPECT(gbc.pc(), 0xe0df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0de), 0x5c);
        // 5C 03D4
        gbc.setState(0x811f, 0x4d53, 0xab60, 0xd506, 0x774d, 0x8e09, 0x1, 0x1);
        gbc.writeMem(0x811f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4d53);
        EXPECT(gbc.pc(), 0x8120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x811f), 0x5c);
        // 5C 03D5
        gbc.setState(0xde7f, 0x3bb7, 0x9840, 0xd03b, 0x738b, 0x5161, 0x1, 0x1);
        gbc.writeMem(0xde7f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x3bb7);
        EXPECT(gbc.pc(), 0xde80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde7f), 0x5c);
        // 5C 03D6
        gbc.setState(0x58b7, 0xdce1, 0x6310, 0xed2a, 0x7b3e, 0xaa5e, 0x1, 0x1);
        gbc.writeMem(0x58b7, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xdce1);
        EXPECT(gbc.pc(), 0x58b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03D7
        gbc.setState(0xed13, 0x7ff, 0x2c60, 0x833d, 0xe051, 0x42ed, 0x1, 0x0);
        gbc.writeMem(0xed13, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7ff);
        EXPECT(gbc.pc(), 0xed14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed13), 0x5c);
        // 5C 03D8
        gbc.setState(0x83ce, 0xa7ef, 0xde50, 0x271f, 0x6bc, 0xec3d, 0x0, 0x1);
        gbc.writeMem(0x83ce, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa7ef);
        EXPECT(gbc.pc(), 0x83cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83ce), 0x5c);
        // 5C 03D9
        gbc.setState(0xc7c5, 0x6323, 0x6550, 0x48f1, 0x593e, 0x64d2, 0x0, 0x0);
        gbc.writeMem(0xc7c5, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6323);
        EXPECT(gbc.pc(), 0xc7c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7c5), 0x5c);
        // 5C 03DA
        gbc.setState(0x6e55, 0x570a, 0x8d0, 0xcb86, 0xa720, 0xe66a, 0x0, 0x1);
        gbc.writeMem(0x6e55, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x570a);
        EXPECT(gbc.pc(), 0x6e56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03DB
        gbc.setState(0x8862, 0xb0ce, 0x4270, 0x8aa4, 0x1ecd, 0xedfc, 0x1, 0x1);
        gbc.writeMem(0x8862, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb0ce);
        EXPECT(gbc.pc(), 0x8863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8862), 0x5c);
        // 5C 03DC
        gbc.setState(0xd2db, 0xa6ea, 0x19c0, 0xd47b, 0xca20, 0xe86a, 0x1, 0x0);
        gbc.writeMem(0xd2db, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa6ea);
        EXPECT(gbc.pc(), 0xd2dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2db), 0x5c);
        // 5C 03DD
        gbc.setState(0x9f6e, 0x2338, 0x1a60, 0xd9f, 0x53ff, 0x1af4, 0x1, 0x1);
        gbc.writeMem(0x9f6e, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2338);
        EXPECT(gbc.pc(), 0x9f6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f6e), 0x5c);
        // 5C 03DE
        gbc.setState(0x30ca, 0x6a6d, 0xfcc0, 0x446c, 0x7b06, 0xee55, 0x1, 0x0);
        gbc.writeMem(0x30ca, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6a6d);
        EXPECT(gbc.pc(), 0x30cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5C 03E0
        gbc.setState(0xd7ea, 0x8548, 0x82e0, 0x786f, 0x5d17, 0xd0f3, 0x1, 0x1);
        gbc.writeMem(0xd7ea, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8548);
        EXPECT(gbc.pc(), 0xd7eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ea), 0x5c);
        // 5C 03E1
        gbc.setState(0x5477, 0x647, 0x8810, 0x968e, 0x2e53, 0xfe76, 0x1, 0x0);
        gbc.writeMem(0x5477, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x647);
        EXPECT(gbc.pc(), 0x5478);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03E2
        gbc.setState(0x365d, 0xbc8c, 0xc4b0, 0x64a1, 0xcd7, 0x3e20, 0x0, 0x0);
        gbc.writeMem(0x365d, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xbc8c);
        EXPECT(gbc.pc(), 0x365e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03E3
        gbc.setState(0x47f, 0xad7c, 0x6970, 0xd393, 0x9d51, 0x1e94, 0x1, 0x1);
        gbc.writeMem(0x47f, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xad7c);
        EXPECT(gbc.pc(), 0x480);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5C 03E4
        gbc.setState(0x72ee, 0x9f06, 0x8390, 0xe84c, 0x6eec, 0x446f, 0x1, 0x0);
        gbc.writeMem(0x72ee, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9f06);
        EXPECT(gbc.pc(), 0x72ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5C 03E5
        gbc.setState(0xb8f0, 0x51cd, 0xe50, 0x2036, 0xba83, 0x2938, 0x0, 0x0);
        gbc.writeMem(0xb8f0, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x51cd);
        EXPECT(gbc.pc(), 0xb8f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8f0), 0x5c);
        // 5C 03E6
        gbc.setState(0xc6b6, 0x805b, 0x2530, 0xc5a3, 0xa10f, 0x23f8, 0x1, 0x0);
        gbc.writeMem(0xc6b6, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x805b);
        EXPECT(gbc.pc(), 0xc6b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6b6), 0x5c);
        // 5C 03E7
        gbc.setState(0xbc35, 0x1467, 0xd110, 0xa71, 0x781f, 0x6d14, 0x1, 0x1);
        gbc.writeMem(0xbc35, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x1467);
        EXPECT(gbc.pc(), 0xbc36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc35), 0x5c);
    }
}
#endif
