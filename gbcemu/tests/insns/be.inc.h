    TEST(gbcemu, opcode_be) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // BE 0000
        gbc.setState(0xad8c, 0x1db3, 0xa6c0, 0x7a27, 0x3479, 0x8b0a, 0x0, 0x1);
        gbc.writeMem(0x8b0a, { 0xe1 });
        gbc.writeMem(0xad8c, { 0xbe });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x1db3, gbc.sp());
        EXPECT(0xad8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe1, gbc.readMem(0x8b0a));
        EXPECT(0xbe, gbc.readMem(0xad8c));
        // BE 0002
        gbc.setState(0x23ec, 0xf0f8, 0x5760, 0x546b, 0x306, 0xeb0c, 0x0, 0x1);
        gbc.writeMem(0x23ec, { 0xbe });
        gbc.writeMem(0xeb0c, { 0x10 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xf0f8, gbc.sp());
        EXPECT(0x23ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x10, gbc.readMem(0xeb0c));
        // BE 0003
        gbc.setState(0x3ee8, 0xb336, 0xdb40, 0x1ee9, 0x68a5, 0x8f1c, 0x0, 0x1);
        gbc.writeMem(0x3ee8, { 0xbe });
        gbc.writeMem(0x8f1c, { 0xed });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xb336, gbc.sp());
        EXPECT(0x3ee9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xed, gbc.readMem(0x8f1c));
        // BE 0005
        gbc.setState(0x8380, 0x29ec, 0x49f0, 0xa713, 0xd349, 0xa3a2, 0x1, 0x1);
        gbc.writeMem(0x8380, { 0xbe });
        gbc.writeMem(0xa3a2, { 0x33 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x29ec, gbc.sp());
        EXPECT(0x8381, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8380));
        EXPECT(0x33, gbc.readMem(0xa3a2));
        // BE 0006
        gbc.setState(0x9544, 0xf15c, 0x6b80, 0xaf3b, 0xa063, 0xae4c, 0x1, 0x1);
        gbc.writeMem(0x9544, { 0xbe });
        gbc.writeMem(0xae4c, { 0x8c });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xf15c, gbc.sp());
        EXPECT(0x9545, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9544));
        EXPECT(0x8c, gbc.readMem(0xae4c));
        // BE 0007
        gbc.setState(0x10e3, 0x2a7, 0x80a0, 0xd329, 0x599, 0x381e, 0x0, 0x1);
        gbc.writeMem(0x10e3, { 0xbe });
        gbc.writeMem(0x381e, { 0x8e });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x2a7, gbc.sp());
        EXPECT(0x10e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0008
        gbc.setState(0x222e, 0x5060, 0xf940, 0xaf8d, 0x6ce0, 0x4850, 0x1, 0x1);
        gbc.writeMem(0x222e, { 0xbe });
        gbc.writeMem(0x4850, { 0x24 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x5060, gbc.sp());
        EXPECT(0x222f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0009
        gbc.setState(0x80de, 0x1463, 0xe150, 0xe8e5, 0xcf3f, 0x6081, 0x0, 0x0);
        gbc.writeMem(0x6081, { 0xb0 });
        gbc.writeMem(0x80de, { 0xbe });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x1463, gbc.sp());
        EXPECT(0x80df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x80de));
        // BE 000A
        gbc.setState(0xb5ab, 0x798b, 0x3130, 0x9618, 0x6a4, 0xf9e0, 0x0, 0x0);
        gbc.writeMem(0xb5ab, { 0xbe });
        gbc.writeMem(0xf9e0, { 0xdd });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x798b, gbc.sp());
        EXPECT(0xb5ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb5ab));
        EXPECT(0xdd, gbc.readMem(0xf9e0));
        // BE 000B
        gbc.setState(0x1275, 0xe9f, 0x8c10, 0x142c, 0x2958, 0xfc13, 0x1, 0x1);
        gbc.writeMem(0x1275, { 0xbe });
        gbc.writeMem(0xfc13, { 0x92 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xe9f, gbc.sp());
        EXPECT(0x1276, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0xfc13));
        // BE 000C
        gbc.setState(0xc7e7, 0x1530, 0x9650, 0x4915, 0x266f, 0x31cd, 0x1, 0x0);
        gbc.writeMem(0x31cd, { 0x83 });
        gbc.writeMem(0xc7e7, { 0xbe });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x1530, gbc.sp());
        EXPECT(0xc7e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc7e7));
        // BE 000D
        gbc.setState(0x8b45, 0xcd4, 0xf480, 0x8474, 0x542c, 0xd6e9, 0x1, 0x1);
        gbc.writeMem(0x8b45, { 0xbe });
        gbc.writeMem(0xd6e9, { 0x6d });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xcd4, gbc.sp());
        EXPECT(0x8b46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8b45));
        EXPECT(0x6d, gbc.readMem(0xd6e9));
        // BE 000E
        gbc.setState(0x4c05, 0xeadc, 0xec20, 0xc67b, 0x2940, 0xe73e, 0x0, 0x0);
        gbc.writeMem(0x4c05, { 0xbe });
        gbc.writeMem(0xe73e, { 0x6e });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xeadc, gbc.sp());
        EXPECT(0x4c06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6e, gbc.readMem(0xe73e));
        // BE 000F
        gbc.setState(0xaefe, 0x5f3b, 0xa000, 0xc144, 0xc9f6, 0x5125, 0x1, 0x0);
        gbc.writeMem(0x5125, { 0x1f });
        gbc.writeMem(0xaefe, { 0xbe });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x5f3b, gbc.sp());
        EXPECT(0xaeff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaefe));
        // BE 0010
        gbc.setState(0xcee, 0xf5ec, 0xb2c0, 0x43d, 0xc0af, 0x7227, 0x0, 0x0);
        gbc.writeMem(0xcee, { 0xbe });
        gbc.writeMem(0x7227, { 0xd3 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xf5ec, gbc.sp());
        EXPECT(0xcef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0011
        gbc.setState(0x82e6, 0xb50a, 0x5200, 0xc630, 0x399, 0xe016, 0x0, 0x1);
        gbc.writeMem(0x82e6, { 0xbe });
        gbc.writeMem(0xe016, { 0xa0 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xb50a, gbc.sp());
        EXPECT(0x82e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x82e6));
        EXPECT(0xa0, gbc.readMem(0xe016));
        // BE 0012
        gbc.setState(0x946d, 0x8410, 0xf180, 0x899f, 0x8a8e, 0x685b, 0x0, 0x0);
        gbc.writeMem(0x685b, { 0x5 });
        gbc.writeMem(0x946d, { 0xbe });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x8410, gbc.sp());
        EXPECT(0x946e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x946d));
        // BE 0013
        gbc.setState(0xed34, 0xbf4e, 0x6010, 0x68e0, 0x78a8, 0x97d, 0x1, 0x0);
        gbc.writeMem(0x97d, { 0x5f });
        gbc.writeMem(0xed34, { 0xbe });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xbf4e, gbc.sp());
        EXPECT(0xed35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xed34));
        // BE 0014
        gbc.setState(0xbf6c, 0xaf5, 0x5b50, 0x7067, 0xcf59, 0x6dc4, 0x1, 0x0);
        gbc.writeMem(0x6dc4, { 0x63 });
        gbc.writeMem(0xbf6c, { 0xbe });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xaf5, gbc.sp());
        EXPECT(0xbf6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbf6c));
        // BE 0015
        gbc.setState(0x4dcd, 0xa63b, 0x6910, 0x1cfc, 0x3403, 0xda8a, 0x1, 0x1);
        gbc.writeMem(0x4dcd, { 0xbe });
        gbc.writeMem(0xda8a, { 0x1a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa63b, gbc.sp());
        EXPECT(0x4dce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1a, gbc.readMem(0xda8a));
        // BE 0016
        gbc.setState(0xf8d, 0x251f, 0xdf40, 0x77e3, 0x56cf, 0x1fb3, 0x0, 0x1);
        gbc.writeMem(0xf8d, { 0xbe });
        gbc.writeMem(0x1fb3, { 0x5d });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x251f, gbc.sp());
        EXPECT(0xf8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0017
        gbc.setState(0x81e4, 0xf4ca, 0xdb40, 0x681a, 0x292e, 0x88ab, 0x0, 0x0);
        gbc.writeMem(0x81e4, { 0xbe });
        gbc.writeMem(0x88ab, { 0x5b });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xf4ca, gbc.sp());
        EXPECT(0x81e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x81e4));
        EXPECT(0x5b, gbc.readMem(0x88ab));
        // BE 0018
        gbc.setState(0x33b1, 0xff4a, 0xe5c0, 0x48b3, 0x98e4, 0x2237, 0x0, 0x0);
        gbc.writeMem(0x2237, { 0xd5 });
        gbc.writeMem(0x33b1, { 0xbe });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xff4a, gbc.sp());
        EXPECT(0x33b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0019
        gbc.setState(0xeeec, 0x128c, 0x9140, 0xe219, 0x37e0, 0xa846, 0x1, 0x0);
        gbc.writeMem(0xa846, { 0x97 });
        gbc.writeMem(0xeeec, { 0xbe });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x128c, gbc.sp());
        EXPECT(0xeeed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x97, gbc.readMem(0xa846));
        EXPECT(0xbe, gbc.readMem(0xeeec));
        // BE 001A
        gbc.setState(0xdeba, 0x716e, 0x96d0, 0xd576, 0xebb4, 0x5bb2, 0x1, 0x1);
        gbc.writeMem(0x5bb2, { 0x69 });
        gbc.writeMem(0xdeba, { 0xbe });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x716e, gbc.sp());
        EXPECT(0xdebb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdeba));
        // BE 001B
        gbc.setState(0x7d5, 0x1ea2, 0x1930, 0x344d, 0x830b, 0x7af6, 0x1, 0x1);
        gbc.writeMem(0x7d5, { 0xbe });
        gbc.writeMem(0x7af6, { 0xc8 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x1ea2, gbc.sp());
        EXPECT(0x7d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 001C
        gbc.setState(0x3ef, 0x51ba, 0xa950, 0xecd, 0x2246, 0xb456, 0x0, 0x0);
        gbc.writeMem(0x3ef, { 0xbe });
        gbc.writeMem(0xb456, { 0xbb });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x51ba, gbc.sp());
        EXPECT(0x3f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbb, gbc.readMem(0xb456));
        // BE 001D
        gbc.setState(0x9f13, 0xc748, 0x8790, 0xf6fd, 0x4f53, 0x81a1, 0x0, 0x0);
        gbc.writeMem(0x81a1, { 0x81 });
        gbc.writeMem(0x9f13, { 0xbe });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xc748, gbc.sp());
        EXPECT(0x9f14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x81, gbc.readMem(0x81a1));
        EXPECT(0xbe, gbc.readMem(0x9f13));
        // BE 001E
        gbc.setState(0xedba, 0xbdab, 0xff10, 0x600a, 0xbb11, 0xab24, 0x0, 0x1);
        gbc.writeMem(0xab24, { 0x34 });
        gbc.writeMem(0xedba, { 0xbe });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xbdab, gbc.sp());
        EXPECT(0xedbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x34, gbc.readMem(0xab24));
        EXPECT(0xbe, gbc.readMem(0xedba));
        // BE 001F
        gbc.setState(0x672f, 0xf2cf, 0x4080, 0x3156, 0x8f92, 0x9a2b, 0x1, 0x1);
        gbc.writeMem(0x672f, { 0xbe });
        gbc.writeMem(0x9a2b, { 0x88 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xf2cf, gbc.sp());
        EXPECT(0x6730, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x88, gbc.readMem(0x9a2b));
        // BE 0020
        gbc.setState(0x916c, 0x79eb, 0xfed0, 0x6ea2, 0xa7f6, 0xc5c8, 0x0, 0x0);
        gbc.writeMem(0x916c, { 0xbe });
        gbc.writeMem(0xc5c8, { 0xf });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x79eb, gbc.sp());
        EXPECT(0x916d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x916c));
        EXPECT(0xf, gbc.readMem(0xc5c8));
        // BE 0021
        gbc.setState(0x9425, 0xa82d, 0xe740, 0x36c0, 0xbc6f, 0x24eb, 0x0, 0x0);
        gbc.writeMem(0x24eb, { 0x75 });
        gbc.writeMem(0x9425, { 0xbe });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa82d, gbc.sp());
        EXPECT(0x9426, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9425));
        // BE 0022
        gbc.setState(0xc41, 0x19cb, 0xced0, 0xb72f, 0xa3ea, 0x4ccd, 0x1, 0x1);
        gbc.writeMem(0xc41, { 0xbe });
        gbc.writeMem(0x4ccd, { 0x51 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x19cb, gbc.sp());
        EXPECT(0xc42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0023
        gbc.setState(0x4472, 0x7ad7, 0xea20, 0x5065, 0x4a30, 0x2506, 0x0, 0x1);
        gbc.writeMem(0x2506, { 0xb0 });
        gbc.writeMem(0x4472, { 0xbe });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x7ad7, gbc.sp());
        EXPECT(0x4473, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0024
        gbc.setState(0x7062, 0xe444, 0xb440, 0x3e9c, 0x92e3, 0x886d, 0x1, 0x1);
        gbc.writeMem(0x7062, { 0xbe });
        gbc.writeMem(0x886d, { 0x29 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xe444, gbc.sp());
        EXPECT(0x7063, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x29, gbc.readMem(0x886d));
        // BE 0025
        gbc.setState(0xefb1, 0x4a52, 0x6ba0, 0x3758, 0x359a, 0x270c, 0x0, 0x0);
        gbc.writeMem(0x270c, { 0xec });
        gbc.writeMem(0xefb1, { 0xbe });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x4a52, gbc.sp());
        EXPECT(0xefb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xefb1));
        // BE 0026
        gbc.setState(0x5f08, 0xa1c2, 0x46c0, 0xc61d, 0x345b, 0xeeb, 0x0, 0x0);
        gbc.writeMem(0xeeb, { 0x7a });
        gbc.writeMem(0x5f08, { 0xbe });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa1c2, gbc.sp());
        EXPECT(0x5f09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0027
        gbc.setState(0x98e, 0xc984, 0x2730, 0xb683, 0xf40e, 0x9fb, 0x1, 0x1);
        gbc.writeMem(0x98e, { 0xbe });
        gbc.writeMem(0x9fb, { 0xda });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xc984, gbc.sp());
        EXPECT(0x98f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0028
        gbc.setState(0x29d6, 0xe428, 0x5a0, 0xf8ed, 0x2287, 0x57ca, 0x1, 0x1);
        gbc.writeMem(0x29d6, { 0xbe });
        gbc.writeMem(0x57ca, { 0xe7 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xe428, gbc.sp());
        EXPECT(0x29d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0029
        gbc.setState(0x9169, 0x3ab3, 0xb0e0, 0x5dd1, 0xfc74, 0x9d8c, 0x0, 0x0);
        gbc.writeMem(0x9169, { 0xbe });
        gbc.writeMem(0x9d8c, { 0x5b });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x3ab3, gbc.sp());
        EXPECT(0x916a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9169));
        EXPECT(0x5b, gbc.readMem(0x9d8c));
        // BE 002B
        gbc.setState(0x46fe, 0x5a3c, 0x2e30, 0x6e0e, 0xc70b, 0x2bf0, 0x0, 0x0);
        gbc.writeMem(0x2bf0, { 0xc5 });
        gbc.writeMem(0x46fe, { 0xbe });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5a3c, gbc.sp());
        EXPECT(0x46ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 002C
        gbc.setState(0xb8be, 0x168a, 0x1310, 0xbc48, 0x66e1, 0xb147, 0x1, 0x1);
        gbc.writeMem(0xb147, { 0x30 });
        gbc.writeMem(0xb8be, { 0xbe });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x168a, gbc.sp());
        EXPECT(0xb8bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x30, gbc.readMem(0xb147));
        EXPECT(0xbe, gbc.readMem(0xb8be));
        // BE 002D
        gbc.setState(0x8c35, 0xb31e, 0x1500, 0x1e59, 0x5dce, 0x2cd8, 0x0, 0x1);
        gbc.writeMem(0x2cd8, { 0x3b });
        gbc.writeMem(0x8c35, { 0xbe });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xb31e, gbc.sp());
        EXPECT(0x8c36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8c35));
        // BE 002E
        gbc.setState(0xab12, 0xfcca, 0x6100, 0xdfb5, 0xb84a, 0x3e2c, 0x1, 0x1);
        gbc.writeMem(0x3e2c, { 0xa7 });
        gbc.writeMem(0xab12, { 0xbe });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xfcca, gbc.sp());
        EXPECT(0xab13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xab12));
        // BE 002F
        gbc.setState(0xc089, 0xb10d, 0xae40, 0x64e2, 0xf691, 0xa109, 0x0, 0x0);
        gbc.writeMem(0xa109, { 0xf3 });
        gbc.writeMem(0xc089, { 0xbe });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xb10d, gbc.sp());
        EXPECT(0xc08a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf3, gbc.readMem(0xa109));
        EXPECT(0xbe, gbc.readMem(0xc089));
        // BE 0031
        gbc.setState(0x7e75, 0xf145, 0x33d0, 0xe04b, 0xd299, 0xd5cb, 0x0, 0x1);
        gbc.writeMem(0x7e75, { 0xbe });
        gbc.writeMem(0xd5cb, { 0x8d });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xf145, gbc.sp());
        EXPECT(0x7e76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8d, gbc.readMem(0xd5cb));
        // BE 0032
        gbc.setState(0x2f13, 0x2de8, 0xff10, 0xa2a5, 0xcb73, 0x7c46, 0x0, 0x0);
        gbc.writeMem(0x2f13, { 0xbe });
        gbc.writeMem(0x7c46, { 0x1f });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x2de8, gbc.sp());
        EXPECT(0x2f14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0033
        gbc.setState(0x54f0, 0xc4c6, 0x7310, 0xc86a, 0x91d2, 0x927f, 0x1, 0x1);
        gbc.writeMem(0x54f0, { 0xbe });
        gbc.writeMem(0x927f, { 0xf6 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc4c6, gbc.sp());
        EXPECT(0x54f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf6, gbc.readMem(0x927f));
        // BE 0034
        gbc.setState(0xfbf, 0xd5b7, 0x4c70, 0x92b, 0xb647, 0x50f2, 0x1, 0x1);
        gbc.writeMem(0xfbf, { 0xbe });
        gbc.writeMem(0x50f2, { 0x74 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xd5b7, gbc.sp());
        EXPECT(0xfc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0035
        gbc.setState(0x24de, 0xed00, 0xff0, 0x2fb9, 0x29d9, 0x8696, 0x0, 0x1);
        gbc.writeMem(0x24de, { 0xbe });
        gbc.writeMem(0x8696, { 0x5f });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xed00, gbc.sp());
        EXPECT(0x24df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5f, gbc.readMem(0x8696));
        // BE 0036
        gbc.setState(0x4640, 0xebf5, 0x3440, 0x7838, 0xc4a3, 0x9a5e, 0x0, 0x0);
        gbc.writeMem(0x4640, { 0xbe });
        gbc.writeMem(0x9a5e, { 0x9f });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xebf5, gbc.sp());
        EXPECT(0x4641, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9f, gbc.readMem(0x9a5e));
        // BE 0037
        gbc.setState(0x5bf, 0x18a8, 0x2c10, 0x6b20, 0xcf29, 0x9198, 0x0, 0x0);
        gbc.writeMem(0x5bf, { 0xbe });
        gbc.writeMem(0x9198, { 0xa4 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x18a8, gbc.sp());
        EXPECT(0x5c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0x9198));
        // BE 0038
        gbc.setState(0x1a5d, 0x237e, 0x33f0, 0x53ee, 0x7fd9, 0x83ac, 0x1, 0x1);
        gbc.writeMem(0x1a5d, { 0xbe });
        gbc.writeMem(0x83ac, { 0xb0 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x237e, gbc.sp());
        EXPECT(0x1a5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb0, gbc.readMem(0x83ac));
        // BE 0039
        gbc.setState(0x7ee8, 0xcdb2, 0xfeb0, 0xe3f4, 0x8833, 0x7032, 0x1, 0x0);
        gbc.writeMem(0x7032, { 0x29 });
        gbc.writeMem(0x7ee8, { 0xbe });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xcdb2, gbc.sp());
        EXPECT(0x7ee9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 003A
        gbc.setState(0x5cfe, 0xb00b, 0x8bb0, 0x6341, 0x50d6, 0xa69b, 0x0, 0x0);
        gbc.writeMem(0x5cfe, { 0xbe });
        gbc.writeMem(0xa69b, { 0x89 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb00b, gbc.sp());
        EXPECT(0x5cff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x89, gbc.readMem(0xa69b));
        // BE 003B
        gbc.setState(0x8605, 0x7de2, 0x2590, 0xdf1b, 0x2607, 0x88ac, 0x1, 0x0);
        gbc.writeMem(0x8605, { 0xbe });
        gbc.writeMem(0x88ac, { 0x7b });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x7de2, gbc.sp());
        EXPECT(0x8606, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8605));
        EXPECT(0x7b, gbc.readMem(0x88ac));
        // BE 003D
        gbc.setState(0x4774, 0xa275, 0x1d20, 0xf5e4, 0x1d3a, 0x3498, 0x1, 0x0);
        gbc.writeMem(0x3498, { 0x6c });
        gbc.writeMem(0x4774, { 0xbe });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xa275, gbc.sp());
        EXPECT(0x4775, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 003E
        gbc.setState(0x378a, 0x3fe8, 0x97c0, 0x4be2, 0xa285, 0x6327, 0x1, 0x1);
        gbc.writeMem(0x378a, { 0xbe });
        gbc.writeMem(0x6327, { 0x52 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3fe8, gbc.sp());
        EXPECT(0x378b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 003F
        gbc.setState(0xb036, 0x9797, 0x5820, 0x70e4, 0xdc4a, 0x5d38, 0x0, 0x1);
        gbc.writeMem(0x5d38, { 0xde });
        gbc.writeMem(0xb036, { 0xbe });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x9797, gbc.sp());
        EXPECT(0xb037, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb036));
        // BE 0040
        gbc.setState(0xdfb6, 0x81bc, 0x1e90, 0x58a6, 0x2b59, 0xce8, 0x0, 0x1);
        gbc.writeMem(0xce8, { 0x1a });
        gbc.writeMem(0xdfb6, { 0xbe });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x81bc, gbc.sp());
        EXPECT(0xdfb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdfb6));
        // BE 0041
        gbc.setState(0x2a74, 0x108, 0x60f0, 0x243b, 0x39c8, 0x351f, 0x1, 0x1);
        gbc.writeMem(0x2a74, { 0xbe });
        gbc.writeMem(0x351f, { 0xfa });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x108, gbc.sp());
        EXPECT(0x2a75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0042
        gbc.setState(0x3747, 0xf888, 0xbd90, 0xcc24, 0x1dad, 0x121f, 0x0, 0x1);
        gbc.writeMem(0x121f, { 0x8e });
        gbc.writeMem(0x3747, { 0xbe });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xf888, gbc.sp());
        EXPECT(0x3748, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0043
        gbc.setState(0x565e, 0xccee, 0x2960, 0x89c2, 0xf799, 0x4d3f, 0x1, 0x1);
        gbc.writeMem(0x4d3f, { 0x9c });
        gbc.writeMem(0x565e, { 0xbe });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xccee, gbc.sp());
        EXPECT(0x565f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0044
        gbc.setState(0x808c, 0xb22, 0xb1c0, 0x49b1, 0x1d84, 0xb448, 0x0, 0x1);
        gbc.writeMem(0x808c, { 0xbe });
        gbc.writeMem(0xb448, { 0xeb });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xb22, gbc.sp());
        EXPECT(0x808d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x808c));
        EXPECT(0xeb, gbc.readMem(0xb448));
        // BE 0045
        gbc.setState(0xe176, 0x83c7, 0x5070, 0x9fc8, 0x1af5, 0x8058, 0x1, 0x0);
        gbc.writeMem(0x8058, { 0x74 });
        gbc.writeMem(0xe176, { 0xbe });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x83c7, gbc.sp());
        EXPECT(0xe177, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x74, gbc.readMem(0x8058));
        EXPECT(0xbe, gbc.readMem(0xe176));
        // BE 0046
        gbc.setState(0x1ca2, 0x81f9, 0x5690, 0x2717, 0x5022, 0x173f, 0x1, 0x1);
        gbc.writeMem(0x173f, { 0x59 });
        gbc.writeMem(0x1ca2, { 0xbe });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x81f9, gbc.sp());
        EXPECT(0x1ca3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0047
        gbc.setState(0x4220, 0x164, 0xe9e0, 0x4f6, 0x15b0, 0x6c7c, 0x0, 0x1);
        gbc.writeMem(0x4220, { 0xbe });
        gbc.writeMem(0x6c7c, { 0xbd });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x164, gbc.sp());
        EXPECT(0x4221, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0048
        gbc.setState(0x3101, 0x1d01, 0x2a80, 0x8c9d, 0x7679, 0xc21a, 0x1, 0x1);
        gbc.writeMem(0x3101, { 0xbe });
        gbc.writeMem(0xc21a, { 0x3d });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x1d01, gbc.sp());
        EXPECT(0x3102, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x3d, gbc.readMem(0xc21a));
        // BE 0049
        gbc.setState(0x26ce, 0xeae7, 0x1830, 0x27c7, 0xa592, 0x5ee1, 0x1, 0x1);
        gbc.writeMem(0x26ce, { 0xbe });
        gbc.writeMem(0x5ee1, { 0xee });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xeae7, gbc.sp());
        EXPECT(0x26cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 004A
        gbc.setState(0xeb7d, 0x1060, 0xdde0, 0xe00f, 0xd486, 0xcfa4, 0x1, 0x1);
        gbc.writeMem(0xcfa4, { 0xeb });
        gbc.writeMem(0xeb7d, { 0xbe });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x1060, gbc.sp());
        EXPECT(0xeb7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xeb, gbc.readMem(0xcfa4));
        EXPECT(0xbe, gbc.readMem(0xeb7d));
        // BE 004B
        gbc.setState(0x6dda, 0x6159, 0xe50, 0xdaef, 0x2dbb, 0x8b07, 0x0, 0x0);
        gbc.writeMem(0x6dda, { 0xbe });
        gbc.writeMem(0x8b07, { 0x9b });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x6159, gbc.sp());
        EXPECT(0x6ddb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9b, gbc.readMem(0x8b07));
        // BE 004C
        gbc.setState(0x6621, 0x8c33, 0x2bc0, 0xfc24, 0x849d, 0x9db2, 0x1, 0x0);
        gbc.writeMem(0x6621, { 0xbe });
        gbc.writeMem(0x9db2, { 0xa5 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x8c33, gbc.sp());
        EXPECT(0x6622, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa5, gbc.readMem(0x9db2));
        // BE 004D
        gbc.setState(0x5772, 0x2002, 0xc920, 0x67ea, 0xee80, 0x3add, 0x1, 0x1);
        gbc.writeMem(0x3add, { 0xf2 });
        gbc.writeMem(0x5772, { 0xbe });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x2002, gbc.sp());
        EXPECT(0x5773, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 004E
        gbc.setState(0xb4f7, 0x9d86, 0x38b0, 0xf181, 0xf010, 0x61c, 0x1, 0x1);
        gbc.writeMem(0x61c, { 0xa6 });
        gbc.writeMem(0xb4f7, { 0xbe });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x9d86, gbc.sp());
        EXPECT(0xb4f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb4f7));
        // BE 004F
        gbc.setState(0xdfa, 0xd113, 0xff10, 0x732a, 0xe2cf, 0x9889, 0x0, 0x0);
        gbc.writeMem(0xdfa, { 0xbe });
        gbc.writeMem(0x9889, { 0xb1 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xd113, gbc.sp());
        EXPECT(0xdfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb1, gbc.readMem(0x9889));
        // BE 0050
        gbc.setState(0x7692, 0x66ad, 0xafa0, 0xd3d7, 0x2c71, 0xf2d, 0x0, 0x1);
        gbc.writeMem(0xf2d, { 0x40 });
        gbc.writeMem(0x7692, { 0xbe });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x66ad, gbc.sp());
        EXPECT(0x7693, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0051
        gbc.setState(0x7e5b, 0x1037, 0xd7b0, 0x3e00, 0xa106, 0xa614, 0x0, 0x0);
        gbc.writeMem(0x7e5b, { 0xbe });
        gbc.writeMem(0xa614, { 0x31 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x1037, gbc.sp());
        EXPECT(0x7e5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x31, gbc.readMem(0xa614));
        // BE 0052
        gbc.setState(0xe7cb, 0x33e3, 0xca00, 0xc40c, 0x434, 0xef72, 0x0, 0x0);
        gbc.writeMem(0xe7cb, { 0xbe });
        gbc.writeMem(0xef72, { 0x8a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x33e3, gbc.sp());
        EXPECT(0xe7cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe7cb));
        EXPECT(0x8a, gbc.readMem(0xef72));
        // BE 0054
        gbc.setState(0x9dc3, 0x3afc, 0x9290, 0x74f5, 0xfcd4, 0x8e15, 0x1, 0x1);
        gbc.writeMem(0x8e15, { 0x84 });
        gbc.writeMem(0x9dc3, { 0xbe });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3afc, gbc.sp());
        EXPECT(0x9dc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x84, gbc.readMem(0x8e15));
        EXPECT(0xbe, gbc.readMem(0x9dc3));
        // BE 0055
        gbc.setState(0xa0de, 0xc08e, 0x8490, 0x5674, 0x4798, 0xbd7e, 0x1, 0x1);
        gbc.writeMem(0xa0de, { 0xbe });
        gbc.writeMem(0xbd7e, { 0x89 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xc08e, gbc.sp());
        EXPECT(0xa0df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa0de));
        EXPECT(0x89, gbc.readMem(0xbd7e));
        // BE 0056
        gbc.setState(0xc894, 0x969c, 0x2aa0, 0x68d9, 0x85b0, 0x5b1, 0x1, 0x1);
        gbc.writeMem(0x5b1, { 0x3b });
        gbc.writeMem(0xc894, { 0xbe });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x969c, gbc.sp());
        EXPECT(0xc895, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc894));
        // BE 0057
        gbc.setState(0x3a1f, 0xfb6b, 0x8b30, 0xd8c1, 0xd0c6, 0x5c19, 0x1, 0x0);
        gbc.writeMem(0x3a1f, { 0xbe });
        gbc.writeMem(0x5c19, { 0x62 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xfb6b, gbc.sp());
        EXPECT(0x3a20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0058
        gbc.setState(0x9710, 0xcfc6, 0x7980, 0x1f1, 0xcf73, 0xe4b8, 0x1, 0x1);
        gbc.writeMem(0x9710, { 0xbe });
        gbc.writeMem(0xe4b8, { 0xa9 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xcfc6, gbc.sp());
        EXPECT(0x9711, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9710));
        EXPECT(0xa9, gbc.readMem(0xe4b8));
        // BE 0059
        gbc.setState(0xb411, 0xcc32, 0xb90, 0x4d26, 0xfe5b, 0x62aa, 0x0, 0x1);
        gbc.writeMem(0x62aa, { 0xe6 });
        gbc.writeMem(0xb411, { 0xbe });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xcc32, gbc.sp());
        EXPECT(0xb412, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb411));
        // BE 005A
        gbc.setState(0xa8b0, 0x1cea, 0xee80, 0xbcab, 0x658a, 0xd013, 0x0, 0x1);
        gbc.writeMem(0xa8b0, { 0xbe });
        gbc.writeMem(0xd013, { 0x71 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x1cea, gbc.sp());
        EXPECT(0xa8b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa8b0));
        EXPECT(0x71, gbc.readMem(0xd013));
        // BE 005B
        gbc.setState(0x6592, 0xc399, 0xcc80, 0x1cf, 0xcdf0, 0x8c71, 0x0, 0x0);
        gbc.writeMem(0x6592, { 0xbe });
        gbc.writeMem(0x8c71, { 0x93 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xc399, gbc.sp());
        EXPECT(0x6593, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x93, gbc.readMem(0x8c71));
        // BE 005C
        gbc.setState(0x3ac4, 0x64ba, 0xeb10, 0x2fd, 0x854, 0x63da, 0x0, 0x1);
        gbc.writeMem(0x3ac4, { 0xbe });
        gbc.writeMem(0x63da, { 0x25 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x64ba, gbc.sp());
        EXPECT(0x3ac5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 005D
        gbc.setState(0xcb14, 0xcf9f, 0xcd70, 0x8c8b, 0xe927, 0xefb9, 0x0, 0x0);
        gbc.writeMem(0xcb14, { 0xbe });
        gbc.writeMem(0xefb9, { 0x2b });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xcf9f, gbc.sp());
        EXPECT(0xcb15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xcb14));
        EXPECT(0x2b, gbc.readMem(0xefb9));
        // BE 005E
        gbc.setState(0x6876, 0x149, 0x4940, 0xc224, 0x45f8, 0xa9cd, 0x1, 0x0);
        gbc.writeMem(0x6876, { 0xbe });
        gbc.writeMem(0xa9cd, { 0x15 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x149, gbc.sp());
        EXPECT(0x6877, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x15, gbc.readMem(0xa9cd));
        // BE 005F
        gbc.setState(0x3b6d, 0x93e6, 0x4260, 0x98fe, 0xb746, 0xd11a, 0x1, 0x1);
        gbc.writeMem(0x3b6d, { 0xbe });
        gbc.writeMem(0xd11a, { 0xf1 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x93e6, gbc.sp());
        EXPECT(0x3b6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf1, gbc.readMem(0xd11a));
        // BE 0060
        gbc.setState(0xb6c, 0x751c, 0x4810, 0x728d, 0xb37d, 0x734, 0x1, 0x1);
        gbc.writeMem(0x734, { 0x19 });
        gbc.writeMem(0xb6c, { 0xbe });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x751c, gbc.sp());
        EXPECT(0xb6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0061
        gbc.setState(0xe3e1, 0x2967, 0x6160, 0x94ef, 0x548, 0xab7f, 0x1, 0x1);
        gbc.writeMem(0xab7f, { 0x4c });
        gbc.writeMem(0xe3e1, { 0xbe });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x2967, gbc.sp());
        EXPECT(0xe3e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4c, gbc.readMem(0xab7f));
        EXPECT(0xbe, gbc.readMem(0xe3e1));
        // BE 0062
        gbc.setState(0x62e0, 0x7ea4, 0xcbd0, 0xa533, 0xa32f, 0x1512, 0x1, 0x1);
        gbc.writeMem(0x1512, { 0xb1 });
        gbc.writeMem(0x62e0, { 0xbe });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x7ea4, gbc.sp());
        EXPECT(0x62e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0063
        gbc.setState(0xb8ad, 0xfcf, 0xd760, 0x9fb2, 0x3037, 0x73a2, 0x0, 0x1);
        gbc.writeMem(0x73a2, { 0x95 });
        gbc.writeMem(0xb8ad, { 0xbe });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xfcf, gbc.sp());
        EXPECT(0xb8ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb8ad));
        // BE 0064
        gbc.setState(0xb791, 0x7e5f, 0xa390, 0x6c0, 0x2123, 0xd795, 0x1, 0x1);
        gbc.writeMem(0xb791, { 0xbe });
        gbc.writeMem(0xd795, { 0xa1 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x7e5f, gbc.sp());
        EXPECT(0xb792, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb791));
        EXPECT(0xa1, gbc.readMem(0xd795));
        // BE 0065
        gbc.setState(0x501e, 0xd7bd, 0x6400, 0x4b03, 0xcfef, 0x990e, 0x1, 0x1);
        gbc.writeMem(0x501e, { 0xbe });
        gbc.writeMem(0x990e, { 0xe1 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xd7bd, gbc.sp());
        EXPECT(0x501f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe1, gbc.readMem(0x990e));
        // BE 0066
        gbc.setState(0x4dd2, 0x3a8c, 0xcce0, 0x5721, 0xb979, 0x5ef3, 0x0, 0x1);
        gbc.writeMem(0x4dd2, { 0xbe });
        gbc.writeMem(0x5ef3, { 0xe1 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x3a8c, gbc.sp());
        EXPECT(0x4dd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0068
        gbc.setState(0x7b3d, 0xe388, 0xe070, 0x7f75, 0x611d, 0xf144, 0x1, 0x0);
        gbc.writeMem(0x7b3d, { 0xbe });
        gbc.writeMem(0xf144, { 0x38 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xe388, gbc.sp());
        EXPECT(0x7b3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x38, gbc.readMem(0xf144));
        // BE 0069
        gbc.setState(0xd7ea, 0x206d, 0x7340, 0x4276, 0xc9e6, 0x58f4, 0x1, 0x1);
        gbc.writeMem(0x58f4, { 0xf0 });
        gbc.writeMem(0xd7ea, { 0xbe });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x206d, gbc.sp());
        EXPECT(0xd7eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd7ea));
        // BE 006A
        gbc.setState(0x364f, 0x80f2, 0x9880, 0x2308, 0x4e7, 0x301e, 0x1, 0x1);
        gbc.writeMem(0x301e, { 0x5 });
        gbc.writeMem(0x364f, { 0xbe });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x80f2, gbc.sp());
        EXPECT(0x3650, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 006B
        gbc.setState(0x7374, 0xb804, 0x7770, 0x12c0, 0xa81d, 0xa647, 0x1, 0x0);
        gbc.writeMem(0x7374, { 0xbe });
        gbc.writeMem(0xa647, { 0x40 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xb804, gbc.sp());
        EXPECT(0x7375, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x40, gbc.readMem(0xa647));
        // BE 006D
        gbc.setState(0x6aaf, 0x80f8, 0x7a30, 0xe74e, 0x5425, 0xeb7f, 0x0, 0x1);
        gbc.writeMem(0x6aaf, { 0xbe });
        gbc.writeMem(0xeb7f, { 0x38 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x80f8, gbc.sp());
        EXPECT(0x6ab0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x38, gbc.readMem(0xeb7f));
        // BE 006E
        gbc.setState(0x9495, 0xf87, 0x7620, 0xfae1, 0xcd0c, 0xcc4f, 0x0, 0x1);
        gbc.writeMem(0x9495, { 0xbe });
        gbc.writeMem(0xcc4f, { 0xd9 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xf87, gbc.sp());
        EXPECT(0x9496, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9495));
        EXPECT(0xd9, gbc.readMem(0xcc4f));
        // BE 006F
        gbc.setState(0x8280, 0xb45e, 0xbbe0, 0x575e, 0xebe5, 0x58c3, 0x1, 0x0);
        gbc.writeMem(0x58c3, { 0x2c });
        gbc.writeMem(0x8280, { 0xbe });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb45e, gbc.sp());
        EXPECT(0x8281, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8280));
        // BE 0070
        gbc.setState(0x2d08, 0x21f, 0x7b80, 0x1ff1, 0x257, 0xb330, 0x0, 0x0);
        gbc.writeMem(0x2d08, { 0xbe });
        gbc.writeMem(0xb330, { 0xca });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x21f, gbc.sp());
        EXPECT(0x2d09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xca, gbc.readMem(0xb330));
        // BE 0071
        gbc.setState(0xc765, 0x5e2c, 0x9f90, 0x99bf, 0x3b63, 0x213f, 0x1, 0x1);
        gbc.writeMem(0x213f, { 0xad });
        gbc.writeMem(0xc765, { 0xbe });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x5e2c, gbc.sp());
        EXPECT(0xc766, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc765));
        // BE 0072
        gbc.setState(0x773f, 0x1ecd, 0x1890, 0x6599, 0xae2a, 0xf375, 0x0, 0x0);
        gbc.writeMem(0x773f, { 0xbe });
        gbc.writeMem(0xf375, { 0x79 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x1ecd, gbc.sp());
        EXPECT(0x7740, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x79, gbc.readMem(0xf375));
        // BE 0073
        gbc.setState(0x25ab, 0xb682, 0x95a0, 0x118, 0x2430, 0x6ab2, 0x0, 0x0);
        gbc.writeMem(0x25ab, { 0xbe });
        gbc.writeMem(0x6ab2, { 0xcb });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xb682, gbc.sp());
        EXPECT(0x25ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0074
        gbc.setState(0xcdd3, 0x6e8, 0xd5c0, 0xbe67, 0x5bd0, 0x9a0b, 0x0, 0x0);
        gbc.writeMem(0x9a0b, { 0x47 });
        gbc.writeMem(0xcdd3, { 0xbe });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x6e8, gbc.sp());
        EXPECT(0xcdd4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x47, gbc.readMem(0x9a0b));
        EXPECT(0xbe, gbc.readMem(0xcdd3));
        // BE 0075
        gbc.setState(0x606f, 0xbe2, 0xa200, 0x2eb4, 0xb63b, 0xcf0c, 0x1, 0x0);
        gbc.writeMem(0x606f, { 0xbe });
        gbc.writeMem(0xcf0c, { 0x2b });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xbe2, gbc.sp());
        EXPECT(0x6070, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2b, gbc.readMem(0xcf0c));
        // BE 0076
        gbc.setState(0x54f0, 0x2e5f, 0x7430, 0x2407, 0x8e48, 0xf5b8, 0x1, 0x1);
        gbc.writeMem(0x54f0, { 0xbe });
        gbc.writeMem(0xf5b8, { 0xa4 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x2e5f, gbc.sp());
        EXPECT(0x54f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xf5b8));
        // BE 0077
        gbc.setState(0x54fb, 0xd46, 0x1bf0, 0x82b, 0x6310, 0x77eb, 0x0, 0x1);
        gbc.writeMem(0x54fb, { 0xbe });
        gbc.writeMem(0x77eb, { 0xeb });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xd46, gbc.sp());
        EXPECT(0x54fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0078
        gbc.setState(0x8890, 0x6f95, 0xada0, 0xeb6b, 0x862f, 0x68ef, 0x0, 0x1);
        gbc.writeMem(0x68ef, { 0xcb });
        gbc.writeMem(0x8890, { 0xbe });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x6f95, gbc.sp());
        EXPECT(0x8891, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8890));
        // BE 0079
        gbc.setState(0x9440, 0x5d48, 0x9470, 0x8520, 0xc7ff, 0x4164, 0x1, 0x1);
        gbc.writeMem(0x4164, { 0xef });
        gbc.writeMem(0x9440, { 0xbe });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x5d48, gbc.sp());
        EXPECT(0x9441, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9440));
        // BE 007A
        gbc.setState(0xc6bc, 0x7913, 0xfef0, 0x886b, 0x3b5, 0x4d0a, 0x1, 0x0);
        gbc.writeMem(0x4d0a, { 0x58 });
        gbc.writeMem(0xc6bc, { 0xbe });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x7913, gbc.sp());
        EXPECT(0xc6bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc6bc));
        // BE 007B
        gbc.setState(0xb01e, 0x1802, 0xfca0, 0x9e35, 0x8f48, 0xb2e6, 0x0, 0x0);
        gbc.writeMem(0xb01e, { 0xbe });
        gbc.writeMem(0xb2e6, { 0x45 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x1802, gbc.sp());
        EXPECT(0xb01f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb01e));
        EXPECT(0x45, gbc.readMem(0xb2e6));
        // BE 007C
        gbc.setState(0xaeab, 0xe5f3, 0x4a50, 0xfdbe, 0x9704, 0x5e44, 0x1, 0x0);
        gbc.writeMem(0x5e44, { 0x53 });
        gbc.writeMem(0xaeab, { 0xbe });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xe5f3, gbc.sp());
        EXPECT(0xaeac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaeab));
        // BE 007D
        gbc.setState(0x700d, 0xd157, 0x48d0, 0x6de7, 0xb92c, 0x8180, 0x0, 0x0);
        gbc.writeMem(0x700d, { 0xbe });
        gbc.writeMem(0x8180, { 0x23 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xd157, gbc.sp());
        EXPECT(0x700e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x23, gbc.readMem(0x8180));
        // BE 007F
        gbc.setState(0xaa37, 0x85fc, 0x4ea0, 0x7022, 0xba99, 0xe653, 0x1, 0x0);
        gbc.writeMem(0xaa37, { 0xbe });
        gbc.writeMem(0xe653, { 0x36 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x85fc, gbc.sp());
        EXPECT(0xaa38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaa37));
        EXPECT(0x36, gbc.readMem(0xe653));
        // BE 0080
        gbc.setState(0xbfeb, 0x1460, 0x2db0, 0x7486, 0xdf6a, 0x8f4f, 0x0, 0x1);
        gbc.writeMem(0x8f4f, { 0x19 });
        gbc.writeMem(0xbfeb, { 0xbe });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x1460, gbc.sp());
        EXPECT(0xbfec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x19, gbc.readMem(0x8f4f));
        EXPECT(0xbe, gbc.readMem(0xbfeb));
        // BE 0081
        gbc.setState(0x7a19, 0x30c9, 0xbd70, 0xe3bc, 0xb930, 0xf62d, 0x1, 0x0);
        gbc.writeMem(0x7a19, { 0xbe });
        gbc.writeMem(0xf62d, { 0x94 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x30c9, gbc.sp());
        EXPECT(0x7a1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0xf62d));
        // BE 0082
        gbc.setState(0x97f, 0xbf03, 0x6860, 0xf5ef, 0xf943, 0x1b37, 0x0, 0x1);
        gbc.writeMem(0x97f, { 0xbe });
        gbc.writeMem(0x1b37, { 0x23 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xbf03, gbc.sp());
        EXPECT(0x980, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0083
        gbc.setState(0xd12e, 0x6740, 0x6d20, 0xec3f, 0xb4b1, 0xa862, 0x1, 0x1);
        gbc.writeMem(0xa862, { 0x16 });
        gbc.writeMem(0xd12e, { 0xbe });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x6740, gbc.sp());
        EXPECT(0xd12f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x16, gbc.readMem(0xa862));
        EXPECT(0xbe, gbc.readMem(0xd12e));
        // BE 0084
        gbc.setState(0x6506, 0x6b98, 0x8130, 0xe690, 0x1b4, 0xda22, 0x0, 0x1);
        gbc.writeMem(0x6506, { 0xbe });
        gbc.writeMem(0xda22, { 0xd });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x6b98, gbc.sp());
        EXPECT(0x6507, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd, gbc.readMem(0xda22));
        // BE 0085
        gbc.setState(0xe7b2, 0x8766, 0xe220, 0x14e2, 0x6de4, 0x79d5, 0x0, 0x0);
        gbc.writeMem(0x79d5, { 0xdc });
        gbc.writeMem(0xe7b2, { 0xbe });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x8766, gbc.sp());
        EXPECT(0xe7b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe7b2));
        // BE 0087
        gbc.setState(0x2fc2, 0xb2c4, 0x17e0, 0x5bd7, 0x336f, 0x3372, 0x0, 0x0);
        gbc.writeMem(0x2fc2, { 0xbe });
        gbc.writeMem(0x3372, { 0x73 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xb2c4, gbc.sp());
        EXPECT(0x2fc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0089
        gbc.setState(0xbd7f, 0x9a66, 0xb3f0, 0xcf39, 0x8ce4, 0xfac3, 0x0, 0x1);
        gbc.writeMem(0xbd7f, { 0xbe });
        gbc.writeMem(0xfac3, { 0x24 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x9a66, gbc.sp());
        EXPECT(0xbd80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbd7f));
        EXPECT(0x24, gbc.readMem(0xfac3));
        // BE 008A
        gbc.setState(0x8879, 0x9ded, 0x6030, 0xaa4, 0x802d, 0x7cb0, 0x0, 0x0);
        gbc.writeMem(0x7cb0, { 0xd });
        gbc.writeMem(0x8879, { 0xbe });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x9ded, gbc.sp());
        EXPECT(0x887a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8879));
        // BE 008B
        gbc.setState(0x9aea, 0x9b1f, 0x18f0, 0x5c5c, 0x9bea, 0xf9bd, 0x0, 0x0);
        gbc.writeMem(0x9aea, { 0xbe });
        gbc.writeMem(0xf9bd, { 0x83 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x9b1f, gbc.sp());
        EXPECT(0x9aeb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9aea));
        EXPECT(0x83, gbc.readMem(0xf9bd));
        // BE 008C
        gbc.setState(0xcbc, 0xccda, 0x4a60, 0xf2d1, 0x51a4, 0xe28d, 0x1, 0x1);
        gbc.writeMem(0xcbc, { 0xbe });
        gbc.writeMem(0xe28d, { 0x6e });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xccda, gbc.sp());
        EXPECT(0xcbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6e, gbc.readMem(0xe28d));
        // BE 008D
        gbc.setState(0x8bb1, 0x1708, 0xeb10, 0x3140, 0x1723, 0xa786, 0x0, 0x0);
        gbc.writeMem(0x8bb1, { 0xbe });
        gbc.writeMem(0xa786, { 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x1708, gbc.sp());
        EXPECT(0x8bb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8bb1));
        EXPECT(0x23, gbc.readMem(0xa786));
        // BE 008E
        gbc.setState(0xb2ce, 0x4ece, 0x6bc0, 0x2629, 0xb42, 0xf4cf, 0x1, 0x1);
        gbc.writeMem(0xb2ce, { 0xbe });
        gbc.writeMem(0xf4cf, { 0xf3 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x4ece, gbc.sp());
        EXPECT(0xb2cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb2ce));
        EXPECT(0xf3, gbc.readMem(0xf4cf));
        // BE 008F
        gbc.setState(0x607, 0x9318, 0x1f20, 0x4b85, 0x568e, 0x9e80, 0x0, 0x1);
        gbc.writeMem(0x607, { 0xbe });
        gbc.writeMem(0x9e80, { 0x67 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x9318, gbc.sp());
        EXPECT(0x608, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9e80));
        // BE 0090
        gbc.setState(0x10cd, 0x73d8, 0x5a40, 0x44c0, 0x20f9, 0x3450, 0x0, 0x0);
        gbc.writeMem(0x10cd, { 0xbe });
        gbc.writeMem(0x3450, { 0x34 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x73d8, gbc.sp());
        EXPECT(0x10ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0091
        gbc.setState(0x403a, 0x7c75, 0x3510, 0x76d0, 0x24ad, 0xe42, 0x0, 0x0);
        gbc.writeMem(0xe42, { 0x46 });
        gbc.writeMem(0x403a, { 0xbe });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x7c75, gbc.sp());
        EXPECT(0x403b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0092
        gbc.setState(0x1103, 0xdefc, 0xc6d0, 0x7440, 0xd7bc, 0xe4a8, 0x0, 0x1);
        gbc.writeMem(0x1103, { 0xbe });
        gbc.writeMem(0xe4a8, { 0x55 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xdefc, gbc.sp());
        EXPECT(0x1104, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x55, gbc.readMem(0xe4a8));
        // BE 0093
        gbc.setState(0xc60e, 0x883a, 0x9a60, 0x48e3, 0x354e, 0xb60b, 0x0, 0x0);
        gbc.writeMem(0xb60b, { 0x59 });
        gbc.writeMem(0xc60e, { 0xbe });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x883a, gbc.sp());
        EXPECT(0xc60f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x59, gbc.readMem(0xb60b));
        EXPECT(0xbe, gbc.readMem(0xc60e));
        // BE 0094
        gbc.setState(0xef8e, 0x5c84, 0xc610, 0x91f6, 0x8517, 0x32ce, 0x1, 0x0);
        gbc.writeMem(0x32ce, { 0x21 });
        gbc.writeMem(0xef8e, { 0xbe });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x5c84, gbc.sp());
        EXPECT(0xef8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xef8e));
        // BE 0095
        gbc.setState(0x391d, 0x4e17, 0x5d60, 0xe8c0, 0x63a2, 0x6cee, 0x1, 0x1);
        gbc.writeMem(0x391d, { 0xbe });
        gbc.writeMem(0x6cee, { 0x8c });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x4e17, gbc.sp());
        EXPECT(0x391e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0097
        gbc.setState(0x6645, 0xeff8, 0x5c50, 0xcb73, 0xd241, 0xf7da, 0x1, 0x1);
        gbc.writeMem(0x6645, { 0xbe });
        gbc.writeMem(0xf7da, { 0x6d });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xeff8, gbc.sp());
        EXPECT(0x6646, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6d, gbc.readMem(0xf7da));
        // BE 0098
        gbc.setState(0x85a7, 0x925b, 0x1840, 0xb482, 0x8ea4, 0xd304, 0x1, 0x1);
        gbc.writeMem(0x85a7, { 0xbe });
        gbc.writeMem(0xd304, { 0x97 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x925b, gbc.sp());
        EXPECT(0x85a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x85a7));
        EXPECT(0x97, gbc.readMem(0xd304));
        // BE 0099
        gbc.setState(0xa5b8, 0xb8cc, 0x5180, 0x25, 0x56bf, 0xb163, 0x1, 0x1);
        gbc.writeMem(0xa5b8, { 0xbe });
        gbc.writeMem(0xb163, { 0x58 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xb8cc, gbc.sp());
        EXPECT(0xa5b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa5b8));
        EXPECT(0x58, gbc.readMem(0xb163));
        // BE 009A
        gbc.setState(0xd63e, 0x96bf, 0xffd0, 0x9603, 0x513b, 0xfac, 0x1, 0x0);
        gbc.writeMem(0xfac, { 0xdd });
        gbc.writeMem(0xd63e, { 0xbe });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x96bf, gbc.sp());
        EXPECT(0xd63f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd63e));
        // BE 009B
        gbc.setState(0xb7bf, 0xf326, 0x1840, 0x9938, 0x924c, 0xd45c, 0x1, 0x0);
        gbc.writeMem(0xb7bf, { 0xbe });
        gbc.writeMem(0xd45c, { 0xda });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xf326, gbc.sp());
        EXPECT(0xb7c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb7bf));
        EXPECT(0xda, gbc.readMem(0xd45c));
        // BE 009C
        gbc.setState(0xe152, 0x4202, 0xe0f0, 0xde88, 0xada0, 0x8996, 0x0, 0x0);
        gbc.writeMem(0x8996, { 0xf4 });
        gbc.writeMem(0xe152, { 0xbe });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x4202, gbc.sp());
        EXPECT(0xe153, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf4, gbc.readMem(0x8996));
        EXPECT(0xbe, gbc.readMem(0xe152));
        // BE 009D
        gbc.setState(0x1e9c, 0xd1b3, 0x1ba0, 0xba5b, 0xcff6, 0x9282, 0x1, 0x0);
        gbc.writeMem(0x1e9c, { 0xbe });
        gbc.writeMem(0x9282, { 0xe4 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xd1b3, gbc.sp());
        EXPECT(0x1e9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe4, gbc.readMem(0x9282));
        // BE 009E
        gbc.setState(0x9a03, 0xec78, 0x60, 0xd336, 0xdc8e, 0x974, 0x0, 0x0);
        gbc.writeMem(0x974, { 0x77 });
        gbc.writeMem(0x9a03, { 0xbe });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xec78, gbc.sp());
        EXPECT(0x9a04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9a03));
        // BE 009F
        gbc.setState(0xe59e, 0x94da, 0xe2f0, 0x48dd, 0x6aad, 0x2db1, 0x1, 0x1);
        gbc.writeMem(0x2db1, { 0x2b });
        gbc.writeMem(0xe59e, { 0xbe });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x94da, gbc.sp());
        EXPECT(0xe59f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe59e));
        // BE 00A1
        gbc.setState(0x7af7, 0x4a5f, 0x1750, 0xa902, 0x48ac, 0xf5c2, 0x0, 0x0);
        gbc.writeMem(0x7af7, { 0xbe });
        gbc.writeMem(0xf5c2, { 0xd3 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x4a5f, gbc.sp());
        EXPECT(0x7af8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd3, gbc.readMem(0xf5c2));
        // BE 00A2
        gbc.setState(0xc3ac, 0x211b, 0x92e0, 0x69b3, 0xad41, 0x9607, 0x0, 0x0);
        gbc.writeMem(0x9607, { 0x2a });
        gbc.writeMem(0xc3ac, { 0xbe });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x211b, gbc.sp());
        EXPECT(0xc3ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2a, gbc.readMem(0x9607));
        EXPECT(0xbe, gbc.readMem(0xc3ac));
        // BE 00A3
        gbc.setState(0xdef4, 0x3d24, 0x1970, 0x66ac, 0xd721, 0x36fe, 0x0, 0x1);
        gbc.writeMem(0x36fe, { 0x19 });
        gbc.writeMem(0xdef4, { 0xbe });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x3d24, gbc.sp());
        EXPECT(0xdef5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdef4));
        // BE 00A4
        gbc.setState(0x6d86, 0x32a3, 0x85d0, 0x51af, 0x1b93, 0x2a7b, 0x1, 0x1);
        gbc.writeMem(0x2a7b, { 0xb5 });
        gbc.writeMem(0x6d86, { 0xbe });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x32a3, gbc.sp());
        EXPECT(0x6d87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00A5
        gbc.setState(0x841b, 0x2a1d, 0x4030, 0x4f56, 0xb450, 0xe276, 0x0, 0x1);
        gbc.writeMem(0x841b, { 0xbe });
        gbc.writeMem(0xe276, { 0x1a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x2a1d, gbc.sp());
        EXPECT(0x841c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x841b));
        EXPECT(0x1a, gbc.readMem(0xe276));
        // BE 00A6
        gbc.setState(0xa5ec, 0x4a86, 0x8310, 0xcf80, 0xa909, 0xf2c5, 0x0, 0x1);
        gbc.writeMem(0xa5ec, { 0xbe });
        gbc.writeMem(0xf2c5, { 0x73 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x4a86, gbc.sp());
        EXPECT(0xa5ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa5ec));
        EXPECT(0x73, gbc.readMem(0xf2c5));
        // BE 00A7
        gbc.setState(0x8fb1, 0x92ff, 0x99b0, 0xf30c, 0xe1f2, 0xfb59, 0x1, 0x1);
        gbc.writeMem(0x8fb1, { 0xbe });
        gbc.writeMem(0xfb59, { 0xba });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x92ff, gbc.sp());
        EXPECT(0x8fb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8fb1));
        EXPECT(0xba, gbc.readMem(0xfb59));
        // BE 00A8
        gbc.setState(0xa398, 0xb368, 0xc560, 0xea07, 0x57c2, 0x3f3f, 0x0, 0x0);
        gbc.writeMem(0x3f3f, { 0x8 });
        gbc.writeMem(0xa398, { 0xbe });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xb368, gbc.sp());
        EXPECT(0xa399, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa398));
        // BE 00A9
        gbc.setState(0x618a, 0xf2e2, 0x9af0, 0x52f8, 0x5c92, 0x17b7, 0x1, 0x1);
        gbc.writeMem(0x17b7, { 0xfc });
        gbc.writeMem(0x618a, { 0xbe });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xf2e2, gbc.sp());
        EXPECT(0x618b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00AA
        gbc.setState(0x8248, 0xccc8, 0x7fc0, 0x19c0, 0x1fd1, 0xb359, 0x1, 0x1);
        gbc.writeMem(0x8248, { 0xbe });
        gbc.writeMem(0xb359, { 0x6e });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xccc8, gbc.sp());
        EXPECT(0x8249, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8248));
        EXPECT(0x6e, gbc.readMem(0xb359));
        // BE 00AB
        gbc.setState(0xe1d9, 0x9eb0, 0xf200, 0x27fa, 0x3a4a, 0x1a2f, 0x0, 0x1);
        gbc.writeMem(0x1a2f, { 0x8c });
        gbc.writeMem(0xe1d9, { 0xbe });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x9eb0, gbc.sp());
        EXPECT(0xe1da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe1d9));
        // BE 00AC
        gbc.setState(0xbbb9, 0x8455, 0xee50, 0xe7e, 0xd0b8, 0xa1a7, 0x0, 0x0);
        gbc.writeMem(0xa1a7, { 0xc4 });
        gbc.writeMem(0xbbb9, { 0xbe });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x8455, gbc.sp());
        EXPECT(0xbbba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa1a7));
        EXPECT(0xbe, gbc.readMem(0xbbb9));
        // BE 00AD
        gbc.setState(0x8dcb, 0xa97c, 0x1230, 0x95bb, 0x6de0, 0xa95a, 0x0, 0x1);
        gbc.writeMem(0x8dcb, { 0xbe });
        gbc.writeMem(0xa95a, { 0x2f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa97c, gbc.sp());
        EXPECT(0x8dcc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8dcb));
        EXPECT(0x2f, gbc.readMem(0xa95a));
        // BE 00AE
        gbc.setState(0xd37d, 0xcd1d, 0x1a80, 0xb36e, 0xabc, 0xa6c6, 0x0, 0x0);
        gbc.writeMem(0xa6c6, { 0x71 });
        gbc.writeMem(0xd37d, { 0xbe });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xcd1d, gbc.sp());
        EXPECT(0xd37e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x71, gbc.readMem(0xa6c6));
        EXPECT(0xbe, gbc.readMem(0xd37d));
        // BE 00AF
        gbc.setState(0x232c, 0x8601, 0x1c50, 0x91ab, 0x120f, 0x560e, 0x0, 0x0);
        gbc.writeMem(0x232c, { 0xbe });
        gbc.writeMem(0x560e, { 0x91 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x8601, gbc.sp());
        EXPECT(0x232d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00B0
        gbc.setState(0x86e1, 0xbcd1, 0xc860, 0x926d, 0x1f16, 0x315e, 0x1, 0x0);
        gbc.writeMem(0x315e, { 0x94 });
        gbc.writeMem(0x86e1, { 0xbe });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xbcd1, gbc.sp());
        EXPECT(0x86e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x86e1));
        // BE 00B1
        gbc.setState(0x1df4, 0xc9f4, 0xb980, 0x1fb1, 0xbbe1, 0x8ee3, 0x1, 0x0);
        gbc.writeMem(0x1df4, { 0xbe });
        gbc.writeMem(0x8ee3, { 0x2f });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xc9f4, gbc.sp());
        EXPECT(0x1df5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2f, gbc.readMem(0x8ee3));
        // BE 00B2
        gbc.setState(0x57d6, 0x8b00, 0xc700, 0xb26a, 0xb5e9, 0x8514, 0x1, 0x1);
        gbc.writeMem(0x57d6, { 0xbe });
        gbc.writeMem(0x8514, { 0xf7 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x8b00, gbc.sp());
        EXPECT(0x57d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf7, gbc.readMem(0x8514));
        // BE 00B3
        gbc.setState(0x5b2c, 0x208f, 0x60, 0x9969, 0x7b1a, 0xd7f5, 0x1, 0x1);
        gbc.writeMem(0x5b2c, { 0xbe });
        gbc.writeMem(0xd7f5, { 0x22 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x208f, gbc.sp());
        EXPECT(0x5b2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x22, gbc.readMem(0xd7f5));
        // BE 00B4
        gbc.setState(0x24cd, 0xaec0, 0xfcc0, 0x9fd1, 0x1e72, 0x6a80, 0x1, 0x0);
        gbc.writeMem(0x24cd, { 0xbe });
        gbc.writeMem(0x6a80, { 0x9a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xaec0, gbc.sp());
        EXPECT(0x24ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00B5
        gbc.setState(0x9aba, 0x4294, 0x20b0, 0x4685, 0x2389, 0x6c7a, 0x0, 0x1);
        gbc.writeMem(0x6c7a, { 0x9a });
        gbc.writeMem(0x9aba, { 0xbe });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x4294, gbc.sp());
        EXPECT(0x9abb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9aba));
        // BE 00B6
        gbc.setState(0x6044, 0x683, 0xd4f0, 0xcce5, 0x54d2, 0x918c, 0x1, 0x1);
        gbc.writeMem(0x6044, { 0xbe });
        gbc.writeMem(0x918c, { 0xd3 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x683, gbc.sp());
        EXPECT(0x6045, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd3, gbc.readMem(0x918c));
        // BE 00B7
        gbc.setState(0x935f, 0x4d7c, 0xd3c0, 0xe6d9, 0xddcd, 0x9cbc, 0x1, 0x0);
        gbc.writeMem(0x935f, { 0xbe });
        gbc.writeMem(0x9cbc, { 0xd9 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x4d7c, gbc.sp());
        EXPECT(0x9360, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x935f));
        EXPECT(0xd9, gbc.readMem(0x9cbc));
        // BE 00B8
        gbc.setState(0x64f, 0x831, 0xc0, 0x5cb7, 0xfda5, 0x6a15, 0x1, 0x0);
        gbc.writeMem(0x64f, { 0xbe });
        gbc.writeMem(0x6a15, { 0x6 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x831, gbc.sp());
        EXPECT(0x650, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00B9
        gbc.setState(0x7adb, 0x68b9, 0x83f0, 0x9c3d, 0x5406, 0xc94c, 0x1, 0x0);
        gbc.writeMem(0x7adb, { 0xbe });
        gbc.writeMem(0xc94c, { 0x92 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x68b9, gbc.sp());
        EXPECT(0x7adc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0xc94c));
        // BE 00BA
        gbc.setState(0x5c2b, 0x35a3, 0x91e0, 0x17c0, 0x8c01, 0xde26, 0x1, 0x1);
        gbc.writeMem(0x5c2b, { 0xbe });
        gbc.writeMem(0xde26, { 0xc6 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x35a3, gbc.sp());
        EXPECT(0x5c2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc6, gbc.readMem(0xde26));
        // BE 00BB
        gbc.setState(0x73fa, 0x669, 0x80d0, 0xecf3, 0xe7f3, 0xae9b, 0x1, 0x1);
        gbc.writeMem(0x73fa, { 0xbe });
        gbc.writeMem(0xae9b, { 0xe6 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x669, gbc.sp());
        EXPECT(0x73fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe6, gbc.readMem(0xae9b));
        // BE 00BC
        gbc.setState(0x2b7b, 0x22d7, 0x9f0, 0x781b, 0x24ec, 0xb79, 0x0, 0x0);
        gbc.writeMem(0xb79, { 0x1f });
        gbc.writeMem(0x2b7b, { 0xbe });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x22d7, gbc.sp());
        EXPECT(0x2b7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00BD
        gbc.setState(0xb6cc, 0x7dae, 0x10c0, 0x94c8, 0x1bb, 0x669c, 0x0, 0x1);
        gbc.writeMem(0x669c, { 0xe5 });
        gbc.writeMem(0xb6cc, { 0xbe });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x7dae, gbc.sp());
        EXPECT(0xb6cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb6cc));
        // BE 00BE
        gbc.setState(0x73b2, 0xc6ba, 0x6d50, 0xb064, 0xdb56, 0x6eb8, 0x0, 0x0);
        gbc.writeMem(0x6eb8, { 0xeb });
        gbc.writeMem(0x73b2, { 0xbe });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xc6ba, gbc.sp());
        EXPECT(0x73b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00BF
        gbc.setState(0xe536, 0x4a31, 0xc970, 0x6d3, 0x73a6, 0xd092, 0x0, 0x1);
        gbc.writeMem(0xd092, { 0x8d });
        gbc.writeMem(0xe536, { 0xbe });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x4a31, gbc.sp());
        EXPECT(0xe537, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8d, gbc.readMem(0xd092));
        EXPECT(0xbe, gbc.readMem(0xe536));
        // BE 00C0
        gbc.setState(0x52b8, 0x4486, 0x6dd0, 0xb143, 0xb684, 0xf588, 0x0, 0x1);
        gbc.writeMem(0x52b8, { 0xbe });
        gbc.writeMem(0xf588, { 0xe6 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x4486, gbc.sp());
        EXPECT(0x52b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe6, gbc.readMem(0xf588));
        // BE 00C1
        gbc.setState(0xc66a, 0x3de8, 0x9fa0, 0x19e3, 0xcf48, 0xe5b3, 0x0, 0x1);
        gbc.writeMem(0xc66a, { 0xbe });
        gbc.writeMem(0xe5b3, { 0x95 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x3de8, gbc.sp());
        EXPECT(0xc66b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc66a));
        EXPECT(0x95, gbc.readMem(0xe5b3));
        // BE 00C2
        gbc.setState(0x54f6, 0xabbc, 0x8250, 0x2a98, 0x38ad, 0x3a9f, 0x0, 0x1);
        gbc.writeMem(0x3a9f, { 0x3f });
        gbc.writeMem(0x54f6, { 0xbe });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xabbc, gbc.sp());
        EXPECT(0x54f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00C3
        gbc.setState(0xce57, 0x9228, 0xd6a0, 0x2f9a, 0x4321, 0xa653, 0x1, 0x1);
        gbc.writeMem(0xa653, { 0x28 });
        gbc.writeMem(0xce57, { 0xbe });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x9228, gbc.sp());
        EXPECT(0xce58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa653));
        EXPECT(0xbe, gbc.readMem(0xce57));
        // BE 00C4
        gbc.setState(0xe905, 0x47c5, 0x35d0, 0x998d, 0xc6da, 0x43a7, 0x0, 0x1);
        gbc.writeMem(0x43a7, { 0x26 });
        gbc.writeMem(0xe905, { 0xbe });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x47c5, gbc.sp());
        EXPECT(0xe906, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe905));
        // BE 00C5
        gbc.setState(0x5277, 0x821b, 0x8660, 0xfa73, 0xfa9c, 0xe7ea, 0x0, 0x0);
        gbc.writeMem(0x5277, { 0xbe });
        gbc.writeMem(0xe7ea, { 0x6b });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x821b, gbc.sp());
        EXPECT(0x5278, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6b, gbc.readMem(0xe7ea));
        // BE 00C6
        gbc.setState(0x88ca, 0x39d8, 0x1a40, 0x2351, 0x69a, 0x5cbd, 0x1, 0x1);
        gbc.writeMem(0x5cbd, { 0xf2 });
        gbc.writeMem(0x88ca, { 0xbe });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x39d8, gbc.sp());
        EXPECT(0x88cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x88ca));
        // BE 00C7
        gbc.setState(0xb141, 0xc880, 0xcb40, 0xd469, 0x1c7d, 0x7b87, 0x1, 0x0);
        gbc.writeMem(0x7b87, { 0xe4 });
        gbc.writeMem(0xb141, { 0xbe });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xc880, gbc.sp());
        EXPECT(0xb142, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb141));
        // BE 00C8
        gbc.setState(0xca3a, 0xd36, 0x4220, 0xdae2, 0x4fd8, 0x8e32, 0x1, 0x1);
        gbc.writeMem(0x8e32, { 0x7e });
        gbc.writeMem(0xca3a, { 0xbe });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd36, gbc.sp());
        EXPECT(0xca3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7e, gbc.readMem(0x8e32));
        EXPECT(0xbe, gbc.readMem(0xca3a));
        // BE 00C9
        gbc.setState(0xa846, 0xf210, 0x3b80, 0xf75c, 0x7bf0, 0xc25f, 0x0, 0x1);
        gbc.writeMem(0xa846, { 0xbe });
        gbc.writeMem(0xc25f, { 0x7e });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xf210, gbc.sp());
        EXPECT(0xa847, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa846));
        EXPECT(0x7e, gbc.readMem(0xc25f));
        // BE 00CA
        gbc.setState(0x2c20, 0x533d, 0xcfe0, 0x8529, 0xc102, 0x18fc, 0x1, 0x0);
        gbc.writeMem(0x18fc, { 0x61 });
        gbc.writeMem(0x2c20, { 0xbe });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x533d, gbc.sp());
        EXPECT(0x2c21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00CB
        gbc.setState(0x50b2, 0x65d8, 0x1810, 0x570c, 0x9269, 0x3945, 0x1, 0x1);
        gbc.writeMem(0x3945, { 0x9f });
        gbc.writeMem(0x50b2, { 0xbe });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x65d8, gbc.sp());
        EXPECT(0x50b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00CC
        gbc.setState(0x5a2b, 0x7ce8, 0xf7b0, 0x5e64, 0xaec1, 0xb118, 0x0, 0x0);
        gbc.writeMem(0x5a2b, { 0xbe });
        gbc.writeMem(0xb118, { 0x9d });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x7ce8, gbc.sp());
        EXPECT(0x5a2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9d, gbc.readMem(0xb118));
        // BE 00CD
        gbc.setState(0x9ec, 0x4f0e, 0x9ce0, 0x65f1, 0xa32c, 0x5002, 0x1, 0x1);
        gbc.writeMem(0x9ec, { 0xbe });
        gbc.writeMem(0x5002, { 0x91 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x4f0e, gbc.sp());
        EXPECT(0x9ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00CE
        gbc.setState(0x4891, 0xe4e9, 0xab50, 0x9782, 0x659a, 0x85e4, 0x1, 0x1);
        gbc.writeMem(0x4891, { 0xbe });
        gbc.writeMem(0x85e4, { 0xcc });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xe4e9, gbc.sp());
        EXPECT(0x4892, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcc, gbc.readMem(0x85e4));
        // BE 00CF
        gbc.setState(0xe04d, 0x34ea, 0x10c0, 0x2fbb, 0x85c8, 0xd0e3, 0x1, 0x1);
        gbc.writeMem(0xd0e3, { 0x4f });
        gbc.writeMem(0xe04d, { 0xbe });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x34ea, gbc.sp());
        EXPECT(0xe04e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4f, gbc.readMem(0xd0e3));
        EXPECT(0xbe, gbc.readMem(0xe04d));
        // BE 00D0
        gbc.setState(0x3af2, 0xce8d, 0x96f0, 0xe0be, 0x5366, 0x9a1d, 0x0, 0x1);
        gbc.writeMem(0x3af2, { 0xbe });
        gbc.writeMem(0x9a1d, { 0x16 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xce8d, gbc.sp());
        EXPECT(0x3af3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x16, gbc.readMem(0x9a1d));
        // BE 00D2
        gbc.setState(0x5a61, 0xb8ce, 0x7bc0, 0x80c8, 0xdfb7, 0x7d30, 0x1, 0x1);
        gbc.writeMem(0x5a61, { 0xbe });
        gbc.writeMem(0x7d30, { 0x98 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xb8ce, gbc.sp());
        EXPECT(0x5a62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00D3
        gbc.setState(0xb930, 0xf81e, 0xa460, 0xd7c7, 0x8866, 0xfce4, 0x0, 0x0);
        gbc.writeMem(0xb930, { 0xbe });
        gbc.writeMem(0xfce4, { 0xa0 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xf81e, gbc.sp());
        EXPECT(0xb931, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb930));
        EXPECT(0xa0, gbc.readMem(0xfce4));
        // BE 00D4
        gbc.setState(0x1b8, 0x53ec, 0xc420, 0x4819, 0xe550, 0xe8f6, 0x1, 0x1);
        gbc.writeMem(0x1b8, { 0xbe });
        gbc.writeMem(0xe8f6, { 0x3b });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x53ec, gbc.sp());
        EXPECT(0x1b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3b, gbc.readMem(0xe8f6));
        // BE 00D5
        gbc.setState(0x6903, 0x9fa4, 0xd2f0, 0x1152, 0xaff4, 0x8816, 0x1, 0x0);
        gbc.writeMem(0x6903, { 0xbe });
        gbc.writeMem(0x8816, { 0x4a });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x9fa4, gbc.sp());
        EXPECT(0x6904, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4a, gbc.readMem(0x8816));
        // BE 00D6
        gbc.setState(0xb706, 0x8a08, 0xe600, 0x5f8d, 0x6902, 0x4969, 0x0, 0x0);
        gbc.writeMem(0x4969, { 0x51 });
        gbc.writeMem(0xb706, { 0xbe });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x8a08, gbc.sp());
        EXPECT(0xb707, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb706));
        // BE 00D7
        gbc.setState(0x5d0c, 0x49eb, 0xd0c0, 0xee85, 0xce69, 0x73ea, 0x1, 0x1);
        gbc.writeMem(0x5d0c, { 0xbe });
        gbc.writeMem(0x73ea, { 0xfc });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x49eb, gbc.sp());
        EXPECT(0x5d0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00D8
        gbc.setState(0x2dd, 0x5416, 0xa360, 0xf329, 0xe477, 0xdbe, 0x1, 0x1);
        gbc.writeMem(0x2dd, { 0xbe });
        gbc.writeMem(0xdbe, { 0x4d });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x5416, gbc.sp());
        EXPECT(0x2de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00D9
        gbc.setState(0x267a, 0xc1d5, 0xf7f0, 0x3366, 0xcc48, 0x3fa7, 0x0, 0x1);
        gbc.writeMem(0x267a, { 0xbe });
        gbc.writeMem(0x3fa7, { 0x0 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xc1d5, gbc.sp());
        EXPECT(0x267b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00DB
        gbc.setState(0xb765, 0x77d9, 0x86c0, 0xc1fd, 0x8912, 0x4e64, 0x1, 0x1);
        gbc.writeMem(0x4e64, { 0x7 });
        gbc.writeMem(0xb765, { 0xbe });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x77d9, gbc.sp());
        EXPECT(0xb766, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb765));
        // BE 00DC
        gbc.setState(0x6a24, 0x4960, 0xc810, 0x49ad, 0x1205, 0xcd81, 0x1, 0x1);
        gbc.writeMem(0x6a24, { 0xbe });
        gbc.writeMem(0xcd81, { 0x15 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x4960, gbc.sp());
        EXPECT(0x6a25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x15, gbc.readMem(0xcd81));
        // BE 00DD
        gbc.setState(0xd7f1, 0xc23c, 0x81e0, 0xbb10, 0x7f1e, 0x612c, 0x0, 0x0);
        gbc.writeMem(0x612c, { 0xc5 });
        gbc.writeMem(0xd7f1, { 0xbe });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xc23c, gbc.sp());
        EXPECT(0xd7f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd7f1));
        // BE 00DE
        gbc.setState(0x9aca, 0x3ddc, 0x1a0, 0x3a90, 0xee7f, 0x9890, 0x0, 0x1);
        gbc.writeMem(0x9890, { 0x2c });
        gbc.writeMem(0x9aca, { 0xbe });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x3ddc, gbc.sp());
        EXPECT(0x9acb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x2c, gbc.readMem(0x9890));
        EXPECT(0xbe, gbc.readMem(0x9aca));
        // BE 00DF
        gbc.setState(0x5acb, 0x74, 0x2a10, 0xacb3, 0xc4b4, 0xf623, 0x0, 0x0);
        gbc.writeMem(0x5acb, { 0xbe });
        gbc.writeMem(0xf623, { 0xd7 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x74, gbc.sp());
        EXPECT(0x5acc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd7, gbc.readMem(0xf623));
        // BE 00E1
        gbc.setState(0x9959, 0xd589, 0x20a0, 0x5850, 0x432c, 0xc430, 0x1, 0x1);
        gbc.writeMem(0x9959, { 0xbe });
        gbc.writeMem(0xc430, { 0x57 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xd589, gbc.sp());
        EXPECT(0x995a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9959));
        EXPECT(0x57, gbc.readMem(0xc430));
        // BE 00E2
        gbc.setState(0xa2e9, 0x518e, 0x64e0, 0x8bd8, 0x9933, 0xbebd, 0x0, 0x1);
        gbc.writeMem(0xa2e9, { 0xbe });
        gbc.writeMem(0xbebd, { 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x518e, gbc.sp());
        EXPECT(0xa2ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa2e9));
        EXPECT(0x54, gbc.readMem(0xbebd));
        // BE 00E3
        gbc.setState(0x705c, 0xcb67, 0xaf70, 0x951e, 0x50db, 0xc62f, 0x1, 0x0);
        gbc.writeMem(0x705c, { 0xbe });
        gbc.writeMem(0xc62f, { 0x1e });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xcb67, gbc.sp());
        EXPECT(0x705d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1e, gbc.readMem(0xc62f));
        // BE 00E4
        gbc.setState(0xefba, 0x8d7c, 0xe90, 0x9c85, 0x43bf, 0xff4c, 0x1, 0x1);
        gbc.writeMem(0xefba, { 0xbe });
        gbc.writeMem(0xff4c, { 0x5a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x8d7c, gbc.sp());
        EXPECT(0xefbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xefba));
        EXPECT(0x5a, gbc.readMem(0xff4c));
        // BE 00E5
        gbc.setState(0x46fd, 0xc16a, 0x8c40, 0xe648, 0x6e7f, 0xc377, 0x1, 0x0);
        gbc.writeMem(0x46fd, { 0xbe });
        gbc.writeMem(0xc377, { 0xc9 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xc16a, gbc.sp());
        EXPECT(0x46fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc9, gbc.readMem(0xc377));
        // BE 00E6
        gbc.setState(0x1f69, 0xcb02, 0x3420, 0xc25, 0x5308, 0xd69f, 0x0, 0x0);
        gbc.writeMem(0x1f69, { 0xbe });
        gbc.writeMem(0xd69f, { 0xba });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xcb02, gbc.sp());
        EXPECT(0x1f6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xba, gbc.readMem(0xd69f));
        // BE 00E7
        gbc.setState(0x6e82, 0x2f1e, 0xb3b0, 0xe583, 0x820e, 0x7cfe, 0x1, 0x0);
        gbc.writeMem(0x6e82, { 0xbe });
        gbc.writeMem(0x7cfe, { 0x40 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x2f1e, gbc.sp());
        EXPECT(0x6e83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00E8
        gbc.setState(0x3ff7, 0x7195, 0xb590, 0xaf61, 0x6843, 0x3103, 0x0, 0x1);
        gbc.writeMem(0x3103, { 0xd5 });
        gbc.writeMem(0x3ff7, { 0xbe });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x7195, gbc.sp());
        EXPECT(0x3ff8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00EA
        gbc.setState(0x2e86, 0x7454, 0xf7b0, 0xdcca, 0xa223, 0x7432, 0x1, 0x0);
        gbc.writeMem(0x2e86, { 0xbe });
        gbc.writeMem(0x7432, { 0xd4 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x7454, gbc.sp());
        EXPECT(0x2e87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00EC
        gbc.setState(0x3b24, 0xb8c2, 0x8550, 0xe69d, 0xfa9e, 0x80ee, 0x1, 0x1);
        gbc.writeMem(0x3b24, { 0xbe });
        gbc.writeMem(0x80ee, { 0x13 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xb8c2, gbc.sp());
        EXPECT(0x3b25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x13, gbc.readMem(0x80ee));
        // BE 00ED
        gbc.setState(0x2805, 0x7af8, 0x9fc0, 0xe0ee, 0x9bae, 0x82af, 0x0, 0x0);
        gbc.writeMem(0x2805, { 0xbe });
        gbc.writeMem(0x82af, { 0x3e });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x7af8, gbc.sp());
        EXPECT(0x2806, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3e, gbc.readMem(0x82af));
        // BE 00EE
        gbc.setState(0x36c8, 0x2db, 0xab40, 0x4ca3, 0xff3c, 0xfd82, 0x0, 0x1);
        gbc.writeMem(0x36c8, { 0xbe });
        gbc.writeMem(0xfd82, { 0xf1 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x2db, gbc.sp());
        EXPECT(0x36c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf1, gbc.readMem(0xfd82));
        // BE 00EF
        gbc.setState(0xaf36, 0x5cfc, 0x8d90, 0x2188, 0x2a93, 0x9d1, 0x1, 0x0);
        gbc.writeMem(0x9d1, { 0x9a });
        gbc.writeMem(0xaf36, { 0xbe });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x5cfc, gbc.sp());
        EXPECT(0xaf37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaf36));
        // BE 00F0
        gbc.setState(0x830d, 0x75d3, 0x560, 0xaaae, 0x899e, 0x346, 0x0, 0x0);
        gbc.writeMem(0x346, { 0x5c });
        gbc.writeMem(0x830d, { 0xbe });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x75d3, gbc.sp());
        EXPECT(0x830e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x830d));
        // BE 00F1
        gbc.setState(0x4feb, 0x39e4, 0x12c0, 0x70d0, 0x7f01, 0xf1b, 0x0, 0x1);
        gbc.writeMem(0xf1b, { 0xd0 });
        gbc.writeMem(0x4feb, { 0xbe });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x39e4, gbc.sp());
        EXPECT(0x4fec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00F2
        gbc.setState(0x185e, 0xf2e5, 0x5a90, 0x94aa, 0x4d0, 0x1444, 0x1, 0x0);
        gbc.writeMem(0x1444, { 0xda });
        gbc.writeMem(0x185e, { 0xbe });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf2e5, gbc.sp());
        EXPECT(0x185f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00F3
        gbc.setState(0xa481, 0x72f, 0x7cc0, 0xbaae, 0xaebc, 0xec1, 0x0, 0x1);
        gbc.writeMem(0xec1, { 0x75 });
        gbc.writeMem(0xa481, { 0xbe });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x72f, gbc.sp());
        EXPECT(0xa482, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa481));
        // BE 00F5
        gbc.setState(0x196c, 0xa136, 0x5370, 0x7bb4, 0x581a, 0xb379, 0x0, 0x0);
        gbc.writeMem(0x196c, { 0xbe });
        gbc.writeMem(0xb379, { 0x3f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa136, gbc.sp());
        EXPECT(0x196d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3f, gbc.readMem(0xb379));
        // BE 00F6
        gbc.setState(0x7c57, 0xca38, 0xbbf0, 0xc2a1, 0x2b43, 0x6cb2, 0x0, 0x1);
        gbc.writeMem(0x6cb2, { 0xd6 });
        gbc.writeMem(0x7c57, { 0xbe });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xca38, gbc.sp());
        EXPECT(0x7c58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00F7
        gbc.setState(0x623b, 0xc809, 0x920, 0x4512, 0xeeb2, 0x43b4, 0x0, 0x0);
        gbc.writeMem(0x43b4, { 0xba });
        gbc.writeMem(0x623b, { 0xbe });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xc809, gbc.sp());
        EXPECT(0x623c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00F8
        gbc.setState(0x8de9, 0xbf90, 0x890, 0xabe6, 0x220c, 0x5992, 0x0, 0x1);
        gbc.writeMem(0x5992, { 0xe1 });
        gbc.writeMem(0x8de9, { 0xbe });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xbf90, gbc.sp());
        EXPECT(0x8dea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8de9));
        // BE 00F9
        gbc.setState(0x9754, 0x4c41, 0xb40, 0xd9c9, 0x2605, 0xd53a, 0x0, 0x1);
        gbc.writeMem(0x9754, { 0xbe });
        gbc.writeMem(0xd53a, { 0xc0 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x4c41, gbc.sp());
        EXPECT(0x9755, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9754));
        EXPECT(0xc0, gbc.readMem(0xd53a));
        // BE 00FA
        gbc.setState(0x7db1, 0x24c8, 0x32d0, 0x8b3b, 0x49ac, 0x5f24, 0x0, 0x0);
        gbc.writeMem(0x5f24, { 0x19 });
        gbc.writeMem(0x7db1, { 0xbe });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x24c8, gbc.sp());
        EXPECT(0x7db2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 00FB
        gbc.setState(0x3028, 0x58c9, 0x25d0, 0x4d6c, 0x3132, 0xc3ce, 0x1, 0x0);
        gbc.writeMem(0x3028, { 0xbe });
        gbc.writeMem(0xc3ce, { 0xa0 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x58c9, gbc.sp());
        EXPECT(0x3029, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa0, gbc.readMem(0xc3ce));
        // BE 00FC
        gbc.setState(0x8e23, 0xde4d, 0x72b0, 0x587c, 0x264f, 0xac18, 0x0, 0x1);
        gbc.writeMem(0x8e23, { 0xbe });
        gbc.writeMem(0xac18, { 0xba });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xde4d, gbc.sp());
        EXPECT(0x8e24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8e23));
        EXPECT(0xba, gbc.readMem(0xac18));
        // BE 00FD
        gbc.setState(0x4c8c, 0x8b43, 0x5420, 0xbca4, 0x794e, 0x6787, 0x0, 0x0);
        gbc.writeMem(0x4c8c, { 0xbe });
        gbc.writeMem(0x6787, { 0x8d });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x8b43, gbc.sp());
        EXPECT(0x4c8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 00FE
        gbc.setState(0xc9d3, 0x8865, 0xab90, 0x9a91, 0x13f, 0xa208, 0x1, 0x0);
        gbc.writeMem(0xa208, { 0x82 });
        gbc.writeMem(0xc9d3, { 0xbe });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x8865, gbc.sp());
        EXPECT(0xc9d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x82, gbc.readMem(0xa208));
        EXPECT(0xbe, gbc.readMem(0xc9d3));
        // BE 00FF
        gbc.setState(0x2f9f, 0x86ae, 0x410, 0x8cd4, 0x97d8, 0x3c26, 0x0, 0x0);
        gbc.writeMem(0x2f9f, { 0xbe });
        gbc.writeMem(0x3c26, { 0x67 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x86ae, gbc.sp());
        EXPECT(0x2fa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0100
        gbc.setState(0xac0c, 0x9f8d, 0x2040, 0x62da, 0xd19a, 0x4c72, 0x1, 0x1);
        gbc.writeMem(0x4c72, { 0xe4 });
        gbc.writeMem(0xac0c, { 0xbe });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x9f8d, gbc.sp());
        EXPECT(0xac0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xac0c));
        // BE 0102
        gbc.setState(0xe1c7, 0x293, 0xe760, 0x3b1f, 0xeb5a, 0xf689, 0x1, 0x0);
        gbc.writeMem(0xe1c7, { 0xbe });
        gbc.writeMem(0xf689, { 0x91 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x293, gbc.sp());
        EXPECT(0xe1c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe1c7));
        EXPECT(0x91, gbc.readMem(0xf689));
        // BE 0103
        gbc.setState(0x7996, 0x57bc, 0x7f20, 0x2897, 0xd217, 0xfbd4, 0x0, 0x1);
        gbc.writeMem(0x7996, { 0xbe });
        gbc.writeMem(0xfbd4, { 0x24 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x57bc, gbc.sp());
        EXPECT(0x7997, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x24, gbc.readMem(0xfbd4));
        // BE 0104
        gbc.setState(0x20b6, 0x3308, 0xe8c0, 0x9f6, 0xba7b, 0x9884, 0x1, 0x0);
        gbc.writeMem(0x20b6, { 0xbe });
        gbc.writeMem(0x9884, { 0xf9 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x3308, gbc.sp());
        EXPECT(0x20b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0x9884));
        // BE 0105
        gbc.setState(0xa7e1, 0x5591, 0xda60, 0x6ce5, 0x5508, 0xa04, 0x0, 0x1);
        gbc.writeMem(0xa04, { 0x75 });
        gbc.writeMem(0xa7e1, { 0xbe });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x5591, gbc.sp());
        EXPECT(0xa7e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa7e1));
        // BE 0106
        gbc.setState(0x9b60, 0x3cc3, 0x3f50, 0x4b5e, 0xb09b, 0x4869, 0x0, 0x1);
        gbc.writeMem(0x4869, { 0x95 });
        gbc.writeMem(0x9b60, { 0xbe });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x3cc3, gbc.sp());
        EXPECT(0x9b61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9b60));
        // BE 0108
        gbc.setState(0x9437, 0xa48e, 0x880, 0x9bea, 0xdaba, 0x4184, 0x1, 0x1);
        gbc.writeMem(0x4184, { 0x10 });
        gbc.writeMem(0x9437, { 0xbe });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xa48e, gbc.sp());
        EXPECT(0x9438, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9437));
        // BE 0109
        gbc.setState(0xd50f, 0x1217, 0xcc60, 0xbdd3, 0x1b2d, 0xb0ba, 0x0, 0x0);
        gbc.writeMem(0xb0ba, { 0xe });
        gbc.writeMem(0xd50f, { 0xbe });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x1217, gbc.sp());
        EXPECT(0xd510, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe, gbc.readMem(0xb0ba));
        EXPECT(0xbe, gbc.readMem(0xd50f));
        // BE 010A
        gbc.setState(0xe3fc, 0x355, 0xfca0, 0x697c, 0xdf5b, 0xb34e, 0x1, 0x0);
        gbc.writeMem(0xb34e, { 0x52 });
        gbc.writeMem(0xe3fc, { 0xbe });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x355, gbc.sp());
        EXPECT(0xe3fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x52, gbc.readMem(0xb34e));
        EXPECT(0xbe, gbc.readMem(0xe3fc));
        // BE 010B
        gbc.setState(0xd2b7, 0xb9ac, 0x8b20, 0xf96c, 0xa876, 0x20de, 0x1, 0x0);
        gbc.writeMem(0x20de, { 0x34 });
        gbc.writeMem(0xd2b7, { 0xbe });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xb9ac, gbc.sp());
        EXPECT(0xd2b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd2b7));
        // BE 010C
        gbc.setState(0xe977, 0x358f, 0xbe70, 0x9ba, 0x6484, 0x901b, 0x1, 0x0);
        gbc.writeMem(0x901b, { 0xe8 });
        gbc.writeMem(0xe977, { 0xbe });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x358f, gbc.sp());
        EXPECT(0xe978, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x901b));
        EXPECT(0xbe, gbc.readMem(0xe977));
        // BE 010D
        gbc.setState(0xb6de, 0x95ef, 0x5d50, 0xa9f2, 0x1fe5, 0x4f1c, 0x1, 0x0);
        gbc.writeMem(0x4f1c, { 0x13 });
        gbc.writeMem(0xb6de, { 0xbe });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x95ef, gbc.sp());
        EXPECT(0xb6df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb6de));
        // BE 010E
        gbc.setState(0x94f, 0xb6d3, 0x6140, 0x38a1, 0x1a37, 0xc187, 0x1, 0x1);
        gbc.writeMem(0x94f, { 0xbe });
        gbc.writeMem(0xc187, { 0xda });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xb6d3, gbc.sp());
        EXPECT(0x950, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0xc187));
        // BE 010F
        gbc.setState(0xbc1e, 0x5ec1, 0x1cf0, 0xced, 0xdd65, 0x7aad, 0x0, 0x1);
        gbc.writeMem(0x7aad, { 0xd1 });
        gbc.writeMem(0xbc1e, { 0xbe });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x5ec1, gbc.sp());
        EXPECT(0xbc1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbc1e));
        // BE 0110
        gbc.setState(0xe838, 0xb9dd, 0x7570, 0xdb87, 0xf78a, 0xef60, 0x1, 0x1);
        gbc.writeMem(0xe838, { 0xbe });
        gbc.writeMem(0xef60, { 0xe5 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xb9dd, gbc.sp());
        EXPECT(0xe839, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe838));
        EXPECT(0xe5, gbc.readMem(0xef60));
        // BE 0111
        gbc.setState(0x7025, 0xb37f, 0xd330, 0x4c45, 0x6919, 0x3d8f, 0x0, 0x1);
        gbc.writeMem(0x3d8f, { 0xa1 });
        gbc.writeMem(0x7025, { 0xbe });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb37f, gbc.sp());
        EXPECT(0x7026, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0112
        gbc.setState(0x3126, 0x9fca, 0xa1b0, 0xa381, 0xa1be, 0x7f8e, 0x0, 0x0);
        gbc.writeMem(0x3126, { 0xbe });
        gbc.writeMem(0x7f8e, { 0x98 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x9fca, gbc.sp());
        EXPECT(0x3127, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0113
        gbc.setState(0x5f0d, 0xb435, 0x93b0, 0x6fee, 0xead6, 0x4ec3, 0x1, 0x0);
        gbc.writeMem(0x4ec3, { 0xb4 });
        gbc.writeMem(0x5f0d, { 0xbe });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb435, gbc.sp());
        EXPECT(0x5f0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0114
        gbc.setState(0x82e2, 0xc643, 0x3b00, 0x3341, 0x27ab, 0xa63d, 0x0, 0x0);
        gbc.writeMem(0x82e2, { 0xbe });
        gbc.writeMem(0xa63d, { 0xb2 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xc643, gbc.sp());
        EXPECT(0x82e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x82e2));
        EXPECT(0xb2, gbc.readMem(0xa63d));
        // BE 0115
        gbc.setState(0x9137, 0x2f2, 0x3c60, 0x698f, 0x6fa9, 0xc477, 0x1, 0x0);
        gbc.writeMem(0x9137, { 0xbe });
        gbc.writeMem(0xc477, { 0xec });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x2f2, gbc.sp());
        EXPECT(0x9138, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9137));
        EXPECT(0xec, gbc.readMem(0xc477));
        // BE 0116
        gbc.setState(0x5a9f, 0xb131, 0x5640, 0x50a, 0xaa58, 0xae0b, 0x0, 0x1);
        gbc.writeMem(0x5a9f, { 0xbe });
        gbc.writeMem(0xae0b, { 0x5c });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xb131, gbc.sp());
        EXPECT(0x5aa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5c, gbc.readMem(0xae0b));
        // BE 0117
        gbc.setState(0x1b59, 0xf9ea, 0x94a0, 0xc892, 0xfcf8, 0x7d76, 0x0, 0x1);
        gbc.writeMem(0x1b59, { 0xbe });
        gbc.writeMem(0x7d76, { 0xb4 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xf9ea, gbc.sp());
        EXPECT(0x1b5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0118
        gbc.setState(0xb774, 0x19a8, 0x34a0, 0x8592, 0x36d2, 0x2ba, 0x1, 0x0);
        gbc.writeMem(0x2ba, { 0xe4 });
        gbc.writeMem(0xb774, { 0xbe });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x19a8, gbc.sp());
        EXPECT(0xb775, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb774));
        // BE 0119
        gbc.setState(0x2a43, 0xec0f, 0x1a00, 0x3465, 0x9068, 0xc5e6, 0x0, 0x0);
        gbc.writeMem(0x2a43, { 0xbe });
        gbc.writeMem(0xc5e6, { 0x66 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xec0f, gbc.sp());
        EXPECT(0x2a44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x66, gbc.readMem(0xc5e6));
        // BE 011A
        gbc.setState(0x12cd, 0x7ed5, 0xc90, 0xf464, 0x4942, 0xb973, 0x0, 0x1);
        gbc.writeMem(0x12cd, { 0xbe });
        gbc.writeMem(0xb973, { 0x46 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x7ed5, gbc.sp());
        EXPECT(0x12ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x46, gbc.readMem(0xb973));
        // BE 011B
        gbc.setState(0x8be4, 0x7d13, 0xe9d0, 0x6894, 0x61c5, 0x276f, 0x1, 0x1);
        gbc.writeMem(0x276f, { 0x5c });
        gbc.writeMem(0x8be4, { 0xbe });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x7d13, gbc.sp());
        EXPECT(0x8be5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8be4));
        // BE 011C
        gbc.setState(0x93ea, 0xdfe7, 0xfe60, 0xadc, 0x630b, 0xe7ff, 0x0, 0x1);
        gbc.writeMem(0x93ea, { 0xbe });
        gbc.writeMem(0xe7ff, { 0x7b });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xdfe7, gbc.sp());
        EXPECT(0x93eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x93ea));
        EXPECT(0x7b, gbc.readMem(0xe7ff));
        // BE 011D
        gbc.setState(0xc1a4, 0x6dc8, 0xca0, 0x4ec7, 0x8cf, 0x4346, 0x1, 0x1);
        gbc.writeMem(0x4346, { 0x1d });
        gbc.writeMem(0xc1a4, { 0xbe });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x6dc8, gbc.sp());
        EXPECT(0xc1a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc1a4));
        // BE 011E
        gbc.setState(0x916d, 0x815c, 0xe9d0, 0x7b5a, 0x846, 0xe1af, 0x0, 0x0);
        gbc.writeMem(0x916d, { 0xbe });
        gbc.writeMem(0xe1af, { 0xde });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x815c, gbc.sp());
        EXPECT(0x916e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x916d));
        EXPECT(0xde, gbc.readMem(0xe1af));
        // BE 011F
        gbc.setState(0x2aad, 0xf758, 0x9130, 0xe988, 0x8c92, 0xca45, 0x0, 0x1);
        gbc.writeMem(0x2aad, { 0xbe });
        gbc.writeMem(0xca45, { 0x7c });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xf758, gbc.sp());
        EXPECT(0x2aae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7c, gbc.readMem(0xca45));
        // BE 0120
        gbc.setState(0x466a, 0xd60c, 0x4ed0, 0x2fc3, 0x1688, 0x5803, 0x0, 0x0);
        gbc.writeMem(0x466a, { 0xbe });
        gbc.writeMem(0x5803, { 0xdf });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xd60c, gbc.sp());
        EXPECT(0x466b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0121
        gbc.setState(0x7323, 0xf71b, 0x5a40, 0x971a, 0x3637, 0xfc78, 0x0, 0x0);
        gbc.writeMem(0x7323, { 0xbe });
        gbc.writeMem(0xfc78, { 0xeb });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xf71b, gbc.sp());
        EXPECT(0x7324, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xeb, gbc.readMem(0xfc78));
        // BE 0122
        gbc.setState(0x6eda, 0x9990, 0x10b0, 0x496e, 0xb41e, 0xc560, 0x1, 0x0);
        gbc.writeMem(0x6eda, { 0xbe });
        gbc.writeMem(0xc560, { 0x3 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x9990, gbc.sp());
        EXPECT(0x6edb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0xc560));
        // BE 0123
        gbc.setState(0x2514, 0xd11b, 0xa530, 0x299e, 0x62d6, 0x704f, 0x1, 0x0);
        gbc.writeMem(0x2514, { 0xbe });
        gbc.writeMem(0x704f, { 0xa3 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xd11b, gbc.sp());
        EXPECT(0x2515, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0124
        gbc.setState(0xdc3b, 0x9e32, 0x4ec0, 0xc817, 0xf064, 0x1a39, 0x1, 0x1);
        gbc.writeMem(0x1a39, { 0xd });
        gbc.writeMem(0xdc3b, { 0xbe });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x9e32, gbc.sp());
        EXPECT(0xdc3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdc3b));
        // BE 0125
        gbc.setState(0x6fb6, 0xda1c, 0xe590, 0x3b25, 0x9f18, 0xdf37, 0x1, 0x1);
        gbc.writeMem(0x6fb6, { 0xbe });
        gbc.writeMem(0xdf37, { 0xb0 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xda1c, gbc.sp());
        EXPECT(0x6fb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb0, gbc.readMem(0xdf37));
        // BE 0126
        gbc.setState(0x3daf, 0xe90e, 0x66e0, 0xee27, 0xe6c5, 0xd4de, 0x1, 0x0);
        gbc.writeMem(0x3daf, { 0xbe });
        gbc.writeMem(0xd4de, { 0xd1 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xe90e, gbc.sp());
        EXPECT(0x3db0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd1, gbc.readMem(0xd4de));
        // BE 0127
        gbc.setState(0x17a2, 0x747b, 0x3c20, 0xb782, 0x75c1, 0x4670, 0x0, 0x0);
        gbc.writeMem(0x17a2, { 0xbe });
        gbc.writeMem(0x4670, { 0x4d });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x747b, gbc.sp());
        EXPECT(0x17a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0128
        gbc.setState(0xd4d5, 0xe06d, 0xb320, 0xdb51, 0x47d1, 0x66c0, 0x0, 0x1);
        gbc.writeMem(0x66c0, { 0xa1 });
        gbc.writeMem(0xd4d5, { 0xbe });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xe06d, gbc.sp());
        EXPECT(0xd4d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd4d5));
        // BE 0129
        gbc.setState(0x6a9f, 0x897f, 0x74e0, 0xba06, 0xb413, 0xe1db, 0x1, 0x0);
        gbc.writeMem(0x6a9f, { 0xbe });
        gbc.writeMem(0xe1db, { 0x99 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x897f, gbc.sp());
        EXPECT(0x6aa0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x99, gbc.readMem(0xe1db));
        // BE 012A
        gbc.setState(0x16ca, 0xa7a2, 0xee70, 0xab0f, 0x2cd9, 0xf060, 0x0, 0x1);
        gbc.writeMem(0x16ca, { 0xbe });
        gbc.writeMem(0xf060, { 0x25 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xa7a2, gbc.sp());
        EXPECT(0x16cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0xf060));
        // BE 012C
        gbc.setState(0xda76, 0xa4d9, 0x6540, 0x694c, 0xe15a, 0xdd91, 0x1, 0x1);
        gbc.writeMem(0xda76, { 0xbe });
        gbc.writeMem(0xdd91, { 0x6f });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xa4d9, gbc.sp());
        EXPECT(0xda77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xda76));
        EXPECT(0x6f, gbc.readMem(0xdd91));
        // BE 012D
        gbc.setState(0x63c7, 0x16df, 0xe170, 0x73c7, 0x78d6, 0x490d, 0x1, 0x0);
        gbc.writeMem(0x490d, { 0xbb });
        gbc.writeMem(0x63c7, { 0xbe });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x16df, gbc.sp());
        EXPECT(0x63c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 012E
        gbc.setState(0x84e5, 0x10b1, 0x73b0, 0xe4ec, 0x3c0e, 0xdc89, 0x0, 0x1);
        gbc.writeMem(0x84e5, { 0xbe });
        gbc.writeMem(0xdc89, { 0x26 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x10b1, gbc.sp());
        EXPECT(0x84e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x84e5));
        EXPECT(0x26, gbc.readMem(0xdc89));
        // BE 012F
        gbc.setState(0xc334, 0x5219, 0x6fc0, 0x7405, 0xd5bf, 0x9f73, 0x1, 0x1);
        gbc.writeMem(0x9f73, { 0xc9 });
        gbc.writeMem(0xc334, { 0xbe });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x5219, gbc.sp());
        EXPECT(0xc335, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc9, gbc.readMem(0x9f73));
        EXPECT(0xbe, gbc.readMem(0xc334));
        // BE 0130
        gbc.setState(0x3bfd, 0x6a65, 0x56c0, 0xe75d, 0x4652, 0xfa0e, 0x1, 0x1);
        gbc.writeMem(0x3bfd, { 0xbe });
        gbc.writeMem(0xfa0e, { 0xcb });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x6a65, gbc.sp());
        EXPECT(0x3bfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xfa0e));
        // BE 0131
        gbc.setState(0x4342, 0x936e, 0x3300, 0x9d0c, 0xe11d, 0x5267, 0x0, 0x0);
        gbc.writeMem(0x4342, { 0xbe });
        gbc.writeMem(0x5267, { 0xd5 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x936e, gbc.sp());
        EXPECT(0x4343, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0133
        gbc.setState(0xe7bf, 0xfef9, 0xd50, 0x17c5, 0x3940, 0x3e1d, 0x0, 0x0);
        gbc.writeMem(0x3e1d, { 0xcc });
        gbc.writeMem(0xe7bf, { 0xbe });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xfef9, gbc.sp());
        EXPECT(0xe7c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe7bf));
        // BE 0134
        gbc.setState(0x21df, 0xf474, 0x6d10, 0x534a, 0xeb83, 0xa0c3, 0x0, 0x0);
        gbc.writeMem(0x21df, { 0xbe });
        gbc.writeMem(0xa0c3, { 0x6b });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xf474, gbc.sp());
        EXPECT(0x21e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6b, gbc.readMem(0xa0c3));
        // BE 0135
        gbc.setState(0x1c09, 0xc1a, 0x7d00, 0x3ac5, 0xe446, 0x529a, 0x0, 0x0);
        gbc.writeMem(0x1c09, { 0xbe });
        gbc.writeMem(0x529a, { 0xc5 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xc1a, gbc.sp());
        EXPECT(0x1c0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0136
        gbc.setState(0xb746, 0xee58, 0x9d60, 0x23c3, 0xd3fe, 0x2f85, 0x1, 0x0);
        gbc.writeMem(0x2f85, { 0xcd });
        gbc.writeMem(0xb746, { 0xbe });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xee58, gbc.sp());
        EXPECT(0xb747, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb746));
        // BE 0137
        gbc.setState(0x2421, 0x329b, 0xc2e0, 0xda0e, 0x965, 0xd1f6, 0x1, 0x1);
        gbc.writeMem(0x2421, { 0xbe });
        gbc.writeMem(0xd1f6, { 0xd });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x329b, gbc.sp());
        EXPECT(0x2422, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd, gbc.readMem(0xd1f6));
        // BE 0138
        gbc.setState(0xd95, 0x204, 0xb270, 0x1de5, 0x7d68, 0x7c66, 0x0, 0x0);
        gbc.writeMem(0xd95, { 0xbe });
        gbc.writeMem(0x7c66, { 0xcc });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x204, gbc.sp());
        EXPECT(0xd96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0139
        gbc.setState(0x7b62, 0x2b93, 0xaa40, 0xfbad, 0xbcf4, 0x8997, 0x1, 0x1);
        gbc.writeMem(0x7b62, { 0xbe });
        gbc.writeMem(0x8997, { 0xda });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x2b93, gbc.sp());
        EXPECT(0x7b63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0x8997));
        // BE 013A
        gbc.setState(0xb417, 0xea03, 0xe470, 0xbfc3, 0x23e2, 0xe1c4, 0x1, 0x0);
        gbc.writeMem(0xb417, { 0xbe });
        gbc.writeMem(0xe1c4, { 0xf8 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xea03, gbc.sp());
        EXPECT(0xb418, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb417));
        EXPECT(0xf8, gbc.readMem(0xe1c4));
        // BE 013C
        gbc.setState(0x6884, 0x649e, 0xc4f0, 0x599, 0xd034, 0xbf16, 0x0, 0x0);
        gbc.writeMem(0x6884, { 0xbe });
        gbc.writeMem(0xbf16, { 0x43 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x649e, gbc.sp());
        EXPECT(0x6885, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x43, gbc.readMem(0xbf16));
        // BE 013D
        gbc.setState(0x2f11, 0x4564, 0xa70, 0x4235, 0x2c7e, 0x57a, 0x0, 0x1);
        gbc.writeMem(0x57a, { 0xa3 });
        gbc.writeMem(0x2f11, { 0xbe });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x4564, gbc.sp());
        EXPECT(0x2f12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 013E
        gbc.setState(0xedf7, 0xa0da, 0xca80, 0x31, 0x1343, 0x2620, 0x1, 0x1);
        gbc.writeMem(0x2620, { 0x67 });
        gbc.writeMem(0xedf7, { 0xbe });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xa0da, gbc.sp());
        EXPECT(0xedf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xedf7));
        // BE 013F
        gbc.setState(0x5ef2, 0xbe28, 0xb4b0, 0x5f1c, 0xc1a7, 0x8a4d, 0x1, 0x1);
        gbc.writeMem(0x5ef2, { 0xbe });
        gbc.writeMem(0x8a4d, { 0x35 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xbe28, gbc.sp());
        EXPECT(0x5ef3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x35, gbc.readMem(0x8a4d));
        // BE 0140
        gbc.setState(0x15be, 0xcc99, 0x7550, 0x1547, 0x9d18, 0xf73, 0x0, 0x1);
        gbc.writeMem(0xf73, { 0x4c });
        gbc.writeMem(0x15be, { 0xbe });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xcc99, gbc.sp());
        EXPECT(0x15bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0141
        gbc.setState(0x11a4, 0x66af, 0x1af0, 0x8daa, 0xa679, 0x638b, 0x1, 0x1);
        gbc.writeMem(0x11a4, { 0xbe });
        gbc.writeMem(0x638b, { 0xe9 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x66af, gbc.sp());
        EXPECT(0x11a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0142
        gbc.setState(0xc8d8, 0xcf8b, 0xa250, 0xf0c4, 0xba35, 0x7247, 0x1, 0x1);
        gbc.writeMem(0x7247, { 0xc4 });
        gbc.writeMem(0xc8d8, { 0xbe });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xcf8b, gbc.sp());
        EXPECT(0xc8d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc8d8));
        // BE 0143
        gbc.setState(0x3cc9, 0x604c, 0xeae0, 0xf4d4, 0x16e9, 0xcc86, 0x1, 0x0);
        gbc.writeMem(0x3cc9, { 0xbe });
        gbc.writeMem(0xcc86, { 0x74 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x604c, gbc.sp());
        EXPECT(0x3cca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x74, gbc.readMem(0xcc86));
        // BE 0144
        gbc.setState(0xe68f, 0xd113, 0x68d0, 0xe5a5, 0x8c33, 0x742, 0x1, 0x0);
        gbc.writeMem(0x742, { 0x95 });
        gbc.writeMem(0xe68f, { 0xbe });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xd113, gbc.sp());
        EXPECT(0xe690, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe68f));
        // BE 0145
        gbc.setState(0xa5e, 0x7e6, 0xa4d0, 0x7930, 0x4a4, 0x9928, 0x1, 0x0);
        gbc.writeMem(0xa5e, { 0xbe });
        gbc.writeMem(0x9928, { 0xc7 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x7e6, gbc.sp());
        EXPECT(0xa5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc7, gbc.readMem(0x9928));
        // BE 0146
        gbc.setState(0xc216, 0x78c4, 0x8650, 0xe394, 0x6344, 0x3e3, 0x0, 0x1);
        gbc.writeMem(0x3e3, { 0x88 });
        gbc.writeMem(0xc216, { 0xbe });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x78c4, gbc.sp());
        EXPECT(0xc217, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc216));
        // BE 0147
        gbc.setState(0xefd2, 0x8b68, 0x2350, 0x7b9c, 0xecbd, 0x7953, 0x0, 0x1);
        gbc.writeMem(0x7953, { 0x90 });
        gbc.writeMem(0xefd2, { 0xbe });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x8b68, gbc.sp());
        EXPECT(0xefd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xefd2));
        // BE 0148
        gbc.setState(0xc506, 0x1b08, 0x9420, 0x5355, 0x4287, 0xe8f7, 0x0, 0x1);
        gbc.writeMem(0xc506, { 0xbe });
        gbc.writeMem(0xe8f7, { 0x31 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x1b08, gbc.sp());
        EXPECT(0xc507, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc506));
        EXPECT(0x31, gbc.readMem(0xe8f7));
        // BE 0149
        gbc.setState(0xb74b, 0x90e9, 0x8d00, 0xc2ae, 0x69ef, 0xb329, 0x1, 0x1);
        gbc.writeMem(0xb329, { 0xc7 });
        gbc.writeMem(0xb74b, { 0xbe });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x90e9, gbc.sp());
        EXPECT(0xb74c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc7, gbc.readMem(0xb329));
        EXPECT(0xbe, gbc.readMem(0xb74b));
        // BE 014A
        gbc.setState(0xa96f, 0xa082, 0x6820, 0x3f8b, 0xb661, 0x2a17, 0x0, 0x1);
        gbc.writeMem(0x2a17, { 0xdd });
        gbc.writeMem(0xa96f, { 0xbe });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xa082, gbc.sp());
        EXPECT(0xa970, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa96f));
        // BE 014B
        gbc.setState(0xa91d, 0xbe1d, 0xbfc0, 0x8f89, 0xc0a5, 0x4888, 0x1, 0x1);
        gbc.writeMem(0x4888, { 0x2d });
        gbc.writeMem(0xa91d, { 0xbe });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xbe1d, gbc.sp());
        EXPECT(0xa91e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa91d));
        // BE 014C
        gbc.setState(0xb70f, 0xa1fb, 0x7730, 0xdc74, 0x7e0c, 0xa1a2, 0x1, 0x1);
        gbc.writeMem(0xa1a2, { 0x7e });
        gbc.writeMem(0xb70f, { 0xbe });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xa1fb, gbc.sp());
        EXPECT(0xb710, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7e, gbc.readMem(0xa1a2));
        EXPECT(0xbe, gbc.readMem(0xb70f));
        // BE 014D
        gbc.setState(0x8b89, 0xd08, 0x1530, 0xa6a, 0xac90, 0x9072, 0x0, 0x1);
        gbc.writeMem(0x8b89, { 0xbe });
        gbc.writeMem(0x9072, { 0x5b });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xd08, gbc.sp());
        EXPECT(0x8b8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8b89));
        EXPECT(0x5b, gbc.readMem(0x9072));
        // BE 014E
        gbc.setState(0xa6cd, 0xff91, 0xea00, 0x3096, 0xcb46, 0xf705, 0x1, 0x0);
        gbc.writeMem(0xa6cd, { 0xbe });
        gbc.writeMem(0xf705, { 0x7 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xff91, gbc.sp());
        EXPECT(0xa6ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa6cd));
        EXPECT(0x7, gbc.readMem(0xf705));
        // BE 014F
        gbc.setState(0x818e, 0xeb91, 0xbe60, 0xc035, 0xefd6, 0xd83d, 0x1, 0x1);
        gbc.writeMem(0x818e, { 0xbe });
        gbc.writeMem(0xd83d, { 0x74 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xeb91, gbc.sp());
        EXPECT(0x818f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x818e));
        EXPECT(0x74, gbc.readMem(0xd83d));
        // BE 0150
        gbc.setState(0x1038, 0x869d, 0x46d0, 0xab15, 0x521, 0x95cd, 0x0, 0x1);
        gbc.writeMem(0x1038, { 0xbe });
        gbc.writeMem(0x95cd, { 0xaa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x869d, gbc.sp());
        EXPECT(0x1039, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xaa, gbc.readMem(0x95cd));
        // BE 0151
        gbc.setState(0xe0ba, 0xd0c8, 0x7d40, 0x36b7, 0x6b1e, 0x8ed3, 0x0, 0x0);
        gbc.writeMem(0x8ed3, { 0x53 });
        gbc.writeMem(0xe0ba, { 0xbe });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xd0c8, gbc.sp());
        EXPECT(0xe0bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x53, gbc.readMem(0x8ed3));
        EXPECT(0xbe, gbc.readMem(0xe0ba));
        // BE 0152
        gbc.setState(0x15e8, 0x1698, 0x63b0, 0x42bb, 0x8de4, 0xb9d9, 0x1, 0x1);
        gbc.writeMem(0x15e8, { 0xbe });
        gbc.writeMem(0xb9d9, { 0x86 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x1698, gbc.sp());
        EXPECT(0x15e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x86, gbc.readMem(0xb9d9));
        // BE 0153
        gbc.setState(0xdc87, 0x4d6d, 0xd880, 0x74f3, 0xf3ff, 0x7002, 0x1, 0x1);
        gbc.writeMem(0x7002, { 0x4d });
        gbc.writeMem(0xdc87, { 0xbe });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x4d6d, gbc.sp());
        EXPECT(0xdc88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdc87));
        // BE 0154
        gbc.setState(0xaed6, 0x16f1, 0x8d0, 0xa6d8, 0x1041, 0x78c8, 0x0, 0x1);
        gbc.writeMem(0x78c8, { 0xb8 });
        gbc.writeMem(0xaed6, { 0xbe });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x16f1, gbc.sp());
        EXPECT(0xaed7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaed6));
        // BE 0155
        gbc.setState(0x28c6, 0xf62f, 0x7690, 0x15f7, 0x109a, 0x2486, 0x1, 0x1);
        gbc.writeMem(0x2486, { 0x1f });
        gbc.writeMem(0x28c6, { 0xbe });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xf62f, gbc.sp());
        EXPECT(0x28c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0156
        gbc.setState(0x3a30, 0x2e97, 0x21a0, 0x52ef, 0x867b, 0x449b, 0x0, 0x1);
        gbc.writeMem(0x3a30, { 0xbe });
        gbc.writeMem(0x449b, { 0xe4 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x2e97, gbc.sp());
        EXPECT(0x3a31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0157
        gbc.setState(0x8e55, 0x3b5c, 0xcf90, 0x5ec8, 0x1fa2, 0xcd65, 0x1, 0x0);
        gbc.writeMem(0x8e55, { 0xbe });
        gbc.writeMem(0xcd65, { 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x3b5c, gbc.sp());
        EXPECT(0x8e56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8e55));
        EXPECT(0x54, gbc.readMem(0xcd65));
        // BE 0158
        gbc.setState(0x78ff, 0xf4bb, 0xe650, 0x3303, 0x51cb, 0x7ff7, 0x1, 0x0);
        gbc.writeMem(0x78ff, { 0xbe });
        gbc.writeMem(0x7ff7, { 0x38 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xf4bb, gbc.sp());
        EXPECT(0x7900, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0159
        gbc.setState(0x394f, 0xa725, 0x6ba0, 0x8c, 0x236, 0xe0ff, 0x0, 0x0);
        gbc.writeMem(0x394f, { 0xbe });
        gbc.writeMem(0xe0ff, { 0x56 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xa725, gbc.sp());
        EXPECT(0x3950, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x56, gbc.readMem(0xe0ff));
        // BE 015A
        gbc.setState(0xc7d, 0xdb56, 0xce40, 0xdebf, 0xefb0, 0x6b1, 0x0, 0x0);
        gbc.writeMem(0x6b1, { 0x54 });
        gbc.writeMem(0xc7d, { 0xbe });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xdb56, gbc.sp());
        EXPECT(0xc7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 015B
        gbc.setState(0xb5dd, 0x8fed, 0x1600, 0xc76f, 0x2e9b, 0x6f66, 0x1, 0x1);
        gbc.writeMem(0x6f66, { 0xca });
        gbc.writeMem(0xb5dd, { 0xbe });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x8fed, gbc.sp());
        EXPECT(0xb5de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb5dd));
        // BE 015C
        gbc.setState(0x2a0, 0x3703, 0xc5e0, 0xd9fe, 0x212f, 0xefa0, 0x0, 0x0);
        gbc.writeMem(0x2a0, { 0xbe });
        gbc.writeMem(0xefa0, { 0x98 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x3703, gbc.sp());
        EXPECT(0x2a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x98, gbc.readMem(0xefa0));
        // BE 015D
        gbc.setState(0x8275, 0x730e, 0xcae0, 0xb47, 0x2d9f, 0x6a16, 0x1, 0x1);
        gbc.writeMem(0x6a16, { 0xd1 });
        gbc.writeMem(0x8275, { 0xbe });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x730e, gbc.sp());
        EXPECT(0x8276, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8275));
        // BE 015E
        gbc.setState(0x4ebd, 0x85e9, 0x3550, 0xdad5, 0x7ae3, 0xa2bf, 0x1, 0x0);
        gbc.writeMem(0x4ebd, { 0xbe });
        gbc.writeMem(0xa2bf, { 0x8d });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x85e9, gbc.sp());
        EXPECT(0x4ebe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8d, gbc.readMem(0xa2bf));
        // BE 015F
        gbc.setState(0x4ca4, 0x90fc, 0x930, 0xc85c, 0x7e91, 0xe0c8, 0x0, 0x1);
        gbc.writeMem(0x4ca4, { 0xbe });
        gbc.writeMem(0xe0c8, { 0xe4 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x90fc, gbc.sp());
        EXPECT(0x4ca5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe4, gbc.readMem(0xe0c8));
        // BE 0160
        gbc.setState(0xc353, 0xd469, 0x2820, 0x2bb2, 0xf90a, 0xba8c, 0x0, 0x1);
        gbc.writeMem(0xba8c, { 0xdc });
        gbc.writeMem(0xc353, { 0xbe });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xd469, gbc.sp());
        EXPECT(0xc354, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdc, gbc.readMem(0xba8c));
        EXPECT(0xbe, gbc.readMem(0xc353));
        // BE 0161
        gbc.setState(0x7c04, 0x848e, 0xde50, 0x7036, 0x6caa, 0xa641, 0x0, 0x0);
        gbc.writeMem(0x7c04, { 0xbe });
        gbc.writeMem(0xa641, { 0x7b });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x848e, gbc.sp());
        EXPECT(0x7c05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7b, gbc.readMem(0xa641));
        // BE 0163
        gbc.setState(0x89dc, 0xe2a6, 0x13a0, 0x7a9b, 0x773, 0xbb08, 0x0, 0x0);
        gbc.writeMem(0x89dc, { 0xbe });
        gbc.writeMem(0xbb08, { 0x7f });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xe2a6, gbc.sp());
        EXPECT(0x89dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x89dc));
        EXPECT(0x7f, gbc.readMem(0xbb08));
        // BE 0165
        gbc.setState(0x6a45, 0x8fa7, 0xafc0, 0x71a2, 0x81d3, 0x2893, 0x1, 0x0);
        gbc.writeMem(0x2893, { 0x84 });
        gbc.writeMem(0x6a45, { 0xbe });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x8fa7, gbc.sp());
        EXPECT(0x6a46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0166
        gbc.setState(0x87a4, 0x33bd, 0x57d0, 0x5455, 0xe2f3, 0xe5fc, 0x0, 0x1);
        gbc.writeMem(0x87a4, { 0xbe });
        gbc.writeMem(0xe5fc, { 0x3f });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x33bd, gbc.sp());
        EXPECT(0x87a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x87a4));
        EXPECT(0x3f, gbc.readMem(0xe5fc));
        // BE 0167
        gbc.setState(0x8453, 0x51b1, 0xc4f0, 0x81f7, 0x188c, 0x5cc4, 0x1, 0x1);
        gbc.writeMem(0x5cc4, { 0x72 });
        gbc.writeMem(0x8453, { 0xbe });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x51b1, gbc.sp());
        EXPECT(0x8454, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8453));
        // BE 0168
        gbc.setState(0xab31, 0x71, 0xd770, 0x95a5, 0x6fe, 0x287a, 0x0, 0x0);
        gbc.writeMem(0x287a, { 0xc4 });
        gbc.writeMem(0xab31, { 0xbe });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x71, gbc.sp());
        EXPECT(0xab32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xab31));
        // BE 0169
        gbc.setState(0x431c, 0x8060, 0x6f60, 0x26d8, 0x23ef, 0xcfc0, 0x0, 0x1);
        gbc.writeMem(0x431c, { 0xbe });
        gbc.writeMem(0xcfc0, { 0x3e });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x8060, gbc.sp());
        EXPECT(0x431d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3e, gbc.readMem(0xcfc0));
        // BE 016A
        gbc.setState(0xc517, 0xaa1d, 0xb3f0, 0xc1fc, 0xfa28, 0xc18a, 0x1, 0x1);
        gbc.writeMem(0xc18a, { 0xf2 });
        gbc.writeMem(0xc517, { 0xbe });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xaa1d, gbc.sp());
        EXPECT(0xc518, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf2, gbc.readMem(0xc18a));
        EXPECT(0xbe, gbc.readMem(0xc517));
        // BE 016B
        gbc.setState(0xdbd7, 0xe0dd, 0xdbc0, 0xd54f, 0xbda, 0xc99, 0x1, 0x0);
        gbc.writeMem(0xc99, { 0xb4 });
        gbc.writeMem(0xdbd7, { 0xbe });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xe0dd, gbc.sp());
        EXPECT(0xdbd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdbd7));
        // BE 016C
        gbc.setState(0xa5c7, 0x1766, 0x4b0, 0x1c6e, 0x916b, 0x3004, 0x1, 0x1);
        gbc.writeMem(0x3004, { 0x31 });
        gbc.writeMem(0xa5c7, { 0xbe });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x1766, gbc.sp());
        EXPECT(0xa5c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa5c7));
        // BE 016D
        gbc.setState(0x6b68, 0x926c, 0x9900, 0x13d0, 0xf88f, 0x406d, 0x1, 0x0);
        gbc.writeMem(0x406d, { 0xd3 });
        gbc.writeMem(0x6b68, { 0xbe });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x926c, gbc.sp());
        EXPECT(0x6b69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 016E
        gbc.setState(0x5718, 0x564b, 0x4260, 0x6ca, 0x174b, 0xbad, 0x0, 0x1);
        gbc.writeMem(0xbad, { 0xa });
        gbc.writeMem(0x5718, { 0xbe });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x564b, gbc.sp());
        EXPECT(0x5719, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 016F
        gbc.setState(0x53b, 0xfb69, 0xf150, 0xb78b, 0x8ff7, 0xf3f, 0x0, 0x0);
        gbc.writeMem(0x53b, { 0xbe });
        gbc.writeMem(0xf3f, { 0x1f });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xfb69, gbc.sp());
        EXPECT(0x53c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0170
        gbc.setState(0x878f, 0xd68e, 0x7940, 0x1340, 0xbdef, 0xc00c, 0x1, 0x0);
        gbc.writeMem(0x878f, { 0xbe });
        gbc.writeMem(0xc00c, { 0x38 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xd68e, gbc.sp());
        EXPECT(0x8790, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x878f));
        EXPECT(0x38, gbc.readMem(0xc00c));
        // BE 0171
        gbc.setState(0xca33, 0x2606, 0xe220, 0x2a0f, 0xaa5c, 0xfc11, 0x0, 0x1);
        gbc.writeMem(0xca33, { 0xbe });
        gbc.writeMem(0xfc11, { 0xa7 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x2606, gbc.sp());
        EXPECT(0xca34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xca33));
        EXPECT(0xa7, gbc.readMem(0xfc11));
        // BE 0172
        gbc.setState(0xd1ff, 0x23ce, 0x4160, 0x2b3d, 0xf083, 0x480f, 0x0, 0x1);
        gbc.writeMem(0x480f, { 0x75 });
        gbc.writeMem(0xd1ff, { 0xbe });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x23ce, gbc.sp());
        EXPECT(0xd200, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd1ff));
        // BE 0173
        gbc.setState(0x9931, 0x12c4, 0x9ea0, 0x3913, 0x754f, 0x2c65, 0x1, 0x1);
        gbc.writeMem(0x2c65, { 0x5e });
        gbc.writeMem(0x9931, { 0xbe });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x12c4, gbc.sp());
        EXPECT(0x9932, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9931));
        // BE 0174
        gbc.setState(0x59b, 0x759c, 0x2db0, 0x6fdf, 0xb20b, 0xfc89, 0x0, 0x1);
        gbc.writeMem(0x59b, { 0xbe });
        gbc.writeMem(0xfc89, { 0x14 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x759c, gbc.sp());
        EXPECT(0x59c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x14, gbc.readMem(0xfc89));
        // BE 0175
        gbc.setState(0x15ed, 0xb109, 0x9fc0, 0x6c9f, 0xa758, 0x3fed, 0x1, 0x0);
        gbc.writeMem(0x15ed, { 0xbe });
        gbc.writeMem(0x3fed, { 0x80 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xb109, gbc.sp());
        EXPECT(0x15ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0176
        gbc.setState(0x6c88, 0xa8e9, 0xde50, 0x6bf8, 0x91fe, 0x3f91, 0x1, 0x1);
        gbc.writeMem(0x3f91, { 0x6e });
        gbc.writeMem(0x6c88, { 0xbe });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xa8e9, gbc.sp());
        EXPECT(0x6c89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0177
        gbc.setState(0x73cb, 0xf24e, 0x3b0, 0xcdee, 0xacd5, 0xdc15, 0x1, 0x0);
        gbc.writeMem(0x73cb, { 0xbe });
        gbc.writeMem(0xdc15, { 0x5a });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xf24e, gbc.sp());
        EXPECT(0x73cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5a, gbc.readMem(0xdc15));
        // BE 0178
        gbc.setState(0x94d5, 0xd445, 0x6b30, 0x1afb, 0xd8e6, 0xed41, 0x0, 0x1);
        gbc.writeMem(0x94d5, { 0xbe });
        gbc.writeMem(0xed41, { 0x37 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xd445, gbc.sp());
        EXPECT(0x94d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x94d5));
        EXPECT(0x37, gbc.readMem(0xed41));
        // BE 017A
        gbc.setState(0xd8ae, 0xa2a, 0xa780, 0x7f39, 0xd5ee, 0x3dbb, 0x1, 0x1);
        gbc.writeMem(0x3dbb, { 0x2e });
        gbc.writeMem(0xd8ae, { 0xbe });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xa2a, gbc.sp());
        EXPECT(0xd8af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd8ae));
        // BE 017B
        gbc.setState(0xd612, 0x5690, 0x9ca0, 0xe302, 0x6e94, 0x22aa, 0x0, 0x1);
        gbc.writeMem(0x22aa, { 0xa6 });
        gbc.writeMem(0xd612, { 0xbe });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x5690, gbc.sp());
        EXPECT(0xd613, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd612));
        // BE 017C
        gbc.setState(0xeb54, 0xd11b, 0x2f30, 0xe157, 0xd6f, 0xa2c6, 0x1, 0x1);
        gbc.writeMem(0xa2c6, { 0x4 });
        gbc.writeMem(0xeb54, { 0xbe });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xd11b, gbc.sp());
        EXPECT(0xeb55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4, gbc.readMem(0xa2c6));
        EXPECT(0xbe, gbc.readMem(0xeb54));
        // BE 017E
        gbc.setState(0x2bd2, 0x5343, 0xfa00, 0xaf0a, 0xe634, 0x3c7c, 0x0, 0x1);
        gbc.writeMem(0x2bd2, { 0xbe });
        gbc.writeMem(0x3c7c, { 0x9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x5343, gbc.sp());
        EXPECT(0x2bd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 017F
        gbc.setState(0x3c51, 0x577c, 0x6d20, 0x9e2d, 0x33bf, 0x8e9b, 0x1, 0x0);
        gbc.writeMem(0x3c51, { 0xbe });
        gbc.writeMem(0x8e9b, { 0x7d });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x577c, gbc.sp());
        EXPECT(0x3c52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7d, gbc.readMem(0x8e9b));
        // BE 0180
        gbc.setState(0xda26, 0x2db3, 0x5a50, 0xfd87, 0xda7d, 0x28eb, 0x1, 0x0);
        gbc.writeMem(0x28eb, { 0x23 });
        gbc.writeMem(0xda26, { 0xbe });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x2db3, gbc.sp());
        EXPECT(0xda27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xda26));
        // BE 0181
        gbc.setState(0x3be5, 0x898a, 0xaba0, 0xc9d5, 0xa309, 0x71f4, 0x1, 0x1);
        gbc.writeMem(0x3be5, { 0xbe });
        gbc.writeMem(0x71f4, { 0x16 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x898a, gbc.sp());
        EXPECT(0x3be6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0183
        gbc.setState(0x94ef, 0xea6f, 0x93b0, 0xbbf1, 0xf256, 0xc2f8, 0x0, 0x1);
        gbc.writeMem(0x94ef, { 0xbe });
        gbc.writeMem(0xc2f8, { 0x5a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xea6f, gbc.sp());
        EXPECT(0x94f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x94ef));
        EXPECT(0x5a, gbc.readMem(0xc2f8));
        // BE 0184
        gbc.setState(0x4767, 0xafa7, 0xefe0, 0x8144, 0xf94e, 0xb915, 0x1, 0x0);
        gbc.writeMem(0x4767, { 0xbe });
        gbc.writeMem(0xb915, { 0xe8 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xafa7, gbc.sp());
        EXPECT(0x4768, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xb915));
        // BE 0187
        gbc.setState(0xafb0, 0x2a50, 0x3df0, 0xa76b, 0xbe15, 0x5f81, 0x1, 0x0);
        gbc.writeMem(0x5f81, { 0xf8 });
        gbc.writeMem(0xafb0, { 0xbe });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x2a50, gbc.sp());
        EXPECT(0xafb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xafb0));
        // BE 0188
        gbc.setState(0xc738, 0xdd97, 0xb3e0, 0xdb1f, 0xdb83, 0xc5f8, 0x1, 0x0);
        gbc.writeMem(0xc5f8, { 0x3c });
        gbc.writeMem(0xc738, { 0xbe });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xdd97, gbc.sp());
        EXPECT(0xc739, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3c, gbc.readMem(0xc5f8));
        EXPECT(0xbe, gbc.readMem(0xc738));
        // BE 0189
        gbc.setState(0xc53, 0x8d64, 0x1e10, 0xf7bc, 0xb703, 0xd855, 0x0, 0x0);
        gbc.writeMem(0xc53, { 0xbe });
        gbc.writeMem(0xd855, { 0x83 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x8d64, gbc.sp());
        EXPECT(0xc54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x83, gbc.readMem(0xd855));
        // BE 018B
        gbc.setState(0x711c, 0x9090, 0x7fc0, 0x570a, 0xa1e0, 0x6bd4, 0x1, 0x1);
        gbc.writeMem(0x6bd4, { 0xe9 });
        gbc.writeMem(0x711c, { 0xbe });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x9090, gbc.sp());
        EXPECT(0x711d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 018C
        gbc.setState(0xd613, 0xb374, 0x2910, 0x913e, 0x9e04, 0x8dcf, 0x0, 0x1);
        gbc.writeMem(0x8dcf, { 0x64 });
        gbc.writeMem(0xd613, { 0xbe });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xb374, gbc.sp());
        EXPECT(0xd614, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x64, gbc.readMem(0x8dcf));
        EXPECT(0xbe, gbc.readMem(0xd613));
        // BE 018D
        gbc.setState(0x2c1b, 0x38e5, 0xdc10, 0xbb70, 0xe06e, 0x4e22, 0x1, 0x1);
        gbc.writeMem(0x2c1b, { 0xbe });
        gbc.writeMem(0x4e22, { 0x55 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x38e5, gbc.sp());
        EXPECT(0x2c1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 018E
        gbc.setState(0x7d6, 0xc6fa, 0x3a90, 0xcc25, 0x366, 0xd3a5, 0x1, 0x0);
        gbc.writeMem(0x7d6, { 0xbe });
        gbc.writeMem(0xd3a5, { 0x15 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xc6fa, gbc.sp());
        EXPECT(0x7d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x15, gbc.readMem(0xd3a5));
        // BE 018F
        gbc.setState(0xcf5d, 0xccd9, 0xa120, 0x315, 0x2f06, 0x31c6, 0x0, 0x1);
        gbc.writeMem(0x31c6, { 0x4b });
        gbc.writeMem(0xcf5d, { 0xbe });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xccd9, gbc.sp());
        EXPECT(0xcf5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xcf5d));
        // BE 0190
        gbc.setState(0x3cb4, 0xbb4f, 0x5750, 0x493b, 0xb2f1, 0x8693, 0x0, 0x0);
        gbc.writeMem(0x3cb4, { 0xbe });
        gbc.writeMem(0x8693, { 0xa5 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xbb4f, gbc.sp());
        EXPECT(0x3cb5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa5, gbc.readMem(0x8693));
        // BE 0191
        gbc.setState(0x90c6, 0xece6, 0xa360, 0x240e, 0xf8fe, 0xdb12, 0x1, 0x0);
        gbc.writeMem(0x90c6, { 0xbe });
        gbc.writeMem(0xdb12, { 0xa });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xece6, gbc.sp());
        EXPECT(0x90c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x90c6));
        EXPECT(0xa, gbc.readMem(0xdb12));
        // BE 0192
        gbc.setState(0x456a, 0x5571, 0x97b0, 0x79a, 0x25b7, 0xdb04, 0x0, 0x0);
        gbc.writeMem(0x456a, { 0xbe });
        gbc.writeMem(0xdb04, { 0xe3 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x5571, gbc.sp());
        EXPECT(0x456b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe3, gbc.readMem(0xdb04));
        // BE 0193
        gbc.setState(0x3354, 0xab2c, 0x7620, 0xd6d7, 0x26a7, 0x8a18, 0x0, 0x1);
        gbc.writeMem(0x3354, { 0xbe });
        gbc.writeMem(0x8a18, { 0x65 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xab2c, gbc.sp());
        EXPECT(0x3355, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x65, gbc.readMem(0x8a18));
        // BE 0194
        gbc.setState(0x777d, 0x3a2c, 0x16d0, 0x5aa5, 0xc2fd, 0x233d, 0x0, 0x0);
        gbc.writeMem(0x233d, { 0x79 });
        gbc.writeMem(0x777d, { 0xbe });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x3a2c, gbc.sp());
        EXPECT(0x777e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0195
        gbc.setState(0x9da, 0x954b, 0xfc70, 0xda50, 0x936c, 0x4092, 0x1, 0x0);
        gbc.writeMem(0x9da, { 0xbe });
        gbc.writeMem(0x4092, { 0xc });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x954b, gbc.sp());
        EXPECT(0x9db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0196
        gbc.setState(0x4dbf, 0xd2b, 0xc10, 0x731f, 0x24ba, 0x3111, 0x1, 0x1);
        gbc.writeMem(0x3111, { 0x3e });
        gbc.writeMem(0x4dbf, { 0xbe });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xd2b, gbc.sp());
        EXPECT(0x4dc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0197
        gbc.setState(0x2b38, 0xb814, 0xb940, 0x5ea2, 0x21fa, 0xec5, 0x1, 0x0);
        gbc.writeMem(0xec5, { 0xa0 });
        gbc.writeMem(0x2b38, { 0xbe });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xb814, gbc.sp());
        EXPECT(0x2b39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0198
        gbc.setState(0xabf2, 0xa6d3, 0xe770, 0xfc71, 0xb1a5, 0x4c7a, 0x1, 0x0);
        gbc.writeMem(0x4c7a, { 0x8c });
        gbc.writeMem(0xabf2, { 0xbe });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xa6d3, gbc.sp());
        EXPECT(0xabf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xabf2));
        // BE 0199
        gbc.setState(0xef19, 0x9b79, 0xa740, 0x483f, 0xecb2, 0x2f8e, 0x0, 0x0);
        gbc.writeMem(0x2f8e, { 0xb6 });
        gbc.writeMem(0xef19, { 0xbe });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x9b79, gbc.sp());
        EXPECT(0xef1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xef19));
        // BE 019A
        gbc.setState(0xea48, 0xc0a4, 0x8a60, 0x14e6, 0x3882, 0x376c, 0x0, 0x0);
        gbc.writeMem(0x376c, { 0xd0 });
        gbc.writeMem(0xea48, { 0xbe });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xc0a4, gbc.sp());
        EXPECT(0xea49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xea48));
        // BE 019B
        gbc.setState(0x8597, 0x750, 0xaf80, 0x8cb9, 0x6ad7, 0x43e1, 0x1, 0x1);
        gbc.writeMem(0x43e1, { 0x1e });
        gbc.writeMem(0x8597, { 0xbe });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x750, gbc.sp());
        EXPECT(0x8598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8597));
        // BE 019C
        gbc.setState(0x150f, 0xa45a, 0x4ca0, 0x7024, 0x220e, 0x11b0, 0x0, 0x0);
        gbc.writeMem(0x11b0, { 0x3f });
        gbc.writeMem(0x150f, { 0xbe });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xa45a, gbc.sp());
        EXPECT(0x1510, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 019D
        gbc.setState(0x57c8, 0xff8b, 0x59f0, 0x86f2, 0x880d, 0x6a28, 0x1, 0x1);
        gbc.writeMem(0x57c8, { 0xbe });
        gbc.writeMem(0x6a28, { 0xc5 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xff8b, gbc.sp());
        EXPECT(0x57c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 019E
        gbc.setState(0x8301, 0x4d36, 0x2a10, 0x4a6a, 0x14ec, 0xaca, 0x0, 0x0);
        gbc.writeMem(0xaca, { 0xeb });
        gbc.writeMem(0x8301, { 0xbe });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x4d36, gbc.sp());
        EXPECT(0x8302, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8301));
        // BE 019F
        gbc.setState(0xab5f, 0x797b, 0x7bb0, 0x2b7c, 0x76ab, 0x7960, 0x0, 0x0);
        gbc.writeMem(0x7960, { 0x20 });
        gbc.writeMem(0xab5f, { 0xbe });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x797b, gbc.sp());
        EXPECT(0xab60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xab5f));
        // BE 01A0
        gbc.setState(0x1dba, 0xa48b, 0xb320, 0x2415, 0x4531, 0x4fd0, 0x1, 0x1);
        gbc.writeMem(0x1dba, { 0xbe });
        gbc.writeMem(0x4fd0, { 0x29 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xa48b, gbc.sp());
        EXPECT(0x1dbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01A1
        gbc.setState(0xc463, 0x74ec, 0xa900, 0x5599, 0x9e9a, 0x7ad5, 0x0, 0x1);
        gbc.writeMem(0x7ad5, { 0xc2 });
        gbc.writeMem(0xc463, { 0xbe });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x74ec, gbc.sp());
        EXPECT(0xc464, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc463));
        // BE 01A2
        gbc.setState(0xd386, 0x1692, 0x95e0, 0x8f21, 0x6a99, 0xd93f, 0x1, 0x1);
        gbc.writeMem(0xd386, { 0xbe });
        gbc.writeMem(0xd93f, { 0xae });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x1692, gbc.sp());
        EXPECT(0xd387, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd386));
        EXPECT(0xae, gbc.readMem(0xd93f));
        // BE 01A3
        gbc.setState(0x1b86, 0x81fb, 0xc950, 0x1461, 0xd81a, 0x177, 0x0, 0x1);
        gbc.writeMem(0x177, { 0x12 });
        gbc.writeMem(0x1b86, { 0xbe });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x81fb, gbc.sp());
        EXPECT(0x1b87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01A4
        gbc.setState(0xbfcd, 0x54ad, 0xc660, 0x92a2, 0xe143, 0xf8db, 0x1, 0x0);
        gbc.writeMem(0xbfcd, { 0xbe });
        gbc.writeMem(0xf8db, { 0x8c });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x54ad, gbc.sp());
        EXPECT(0xbfce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbfcd));
        EXPECT(0x8c, gbc.readMem(0xf8db));
        // BE 01A5
        gbc.setState(0xb9c, 0x6c37, 0x830, 0xd0ad, 0xedc6, 0x50b, 0x1, 0x1);
        gbc.writeMem(0x50b, { 0x6c });
        gbc.writeMem(0xb9c, { 0xbe });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x6c37, gbc.sp());
        EXPECT(0xb9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01A6
        gbc.setState(0xde34, 0x9c36, 0x2e60, 0x8038, 0xf22f, 0x4c32, 0x1, 0x0);
        gbc.writeMem(0x4c32, { 0xfa });
        gbc.writeMem(0xde34, { 0xbe });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x9c36, gbc.sp());
        EXPECT(0xde35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xde34));
        // BE 01A7
        gbc.setState(0xa93, 0xef2, 0x1a30, 0xb037, 0x96f0, 0xfcfa, 0x1, 0x0);
        gbc.writeMem(0xa93, { 0xbe });
        gbc.writeMem(0xfcfa, { 0x31 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xef2, gbc.sp());
        EXPECT(0xa94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x31, gbc.readMem(0xfcfa));
        // BE 01A8
        gbc.setState(0xa770, 0x9674, 0xd590, 0xfb15, 0xbec1, 0xcbce, 0x0, 0x0);
        gbc.writeMem(0xa770, { 0xbe });
        gbc.writeMem(0xcbce, { 0x2f });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x9674, gbc.sp());
        EXPECT(0xa771, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa770));
        EXPECT(0x2f, gbc.readMem(0xcbce));
        // BE 01AA
        gbc.setState(0x1ddd, 0x184b, 0xffb0, 0x5a1a, 0x6499, 0x2196, 0x1, 0x0);
        gbc.writeMem(0x1ddd, { 0xbe });
        gbc.writeMem(0x2196, { 0xad });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x184b, gbc.sp());
        EXPECT(0x1dde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01AB
        gbc.setState(0xbd7f, 0x6ede, 0xe2a0, 0x7233, 0x945e, 0x9ad, 0x0, 0x0);
        gbc.writeMem(0x9ad, { 0x44 });
        gbc.writeMem(0xbd7f, { 0xbe });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x6ede, gbc.sp());
        EXPECT(0xbd80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbd7f));
        // BE 01AC
        gbc.setState(0xa411, 0x5db2, 0xfa90, 0x935d, 0x300e, 0x7bc1, 0x1, 0x1);
        gbc.writeMem(0x7bc1, { 0x9d });
        gbc.writeMem(0xa411, { 0xbe });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x5db2, gbc.sp());
        EXPECT(0xa412, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa411));
        // BE 01AD
        gbc.setState(0x4ce1, 0x2e78, 0xc2b0, 0x8f57, 0x245c, 0x2b92, 0x0, 0x0);
        gbc.writeMem(0x2b92, { 0x4a });
        gbc.writeMem(0x4ce1, { 0xbe });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x2e78, gbc.sp());
        EXPECT(0x4ce2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01AF
        gbc.setState(0xeb69, 0x90c6, 0xaf40, 0xd68e, 0x92a, 0x75f9, 0x1, 0x1);
        gbc.writeMem(0x75f9, { 0xcb });
        gbc.writeMem(0xeb69, { 0xbe });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x90c6, gbc.sp());
        EXPECT(0xeb6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xeb69));
        // BE 01B0
        gbc.setState(0x8377, 0x229b, 0x1dc0, 0x7446, 0xd5ca, 0x1fb3, 0x0, 0x1);
        gbc.writeMem(0x1fb3, { 0x5d });
        gbc.writeMem(0x8377, { 0xbe });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x229b, gbc.sp());
        EXPECT(0x8378, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8377));
        // BE 01B1
        gbc.setState(0x4185, 0xfb59, 0xdb90, 0x55d8, 0xdaad, 0xb587, 0x1, 0x1);
        gbc.writeMem(0x4185, { 0xbe });
        gbc.writeMem(0xb587, { 0xa6 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xfb59, gbc.sp());
        EXPECT(0x4186, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa6, gbc.readMem(0xb587));
        // BE 01B2
        gbc.setState(0x54cf, 0xd688, 0x5850, 0xcf2e, 0x6a97, 0x763a, 0x0, 0x0);
        gbc.writeMem(0x54cf, { 0xbe });
        gbc.writeMem(0x763a, { 0x85 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd688, gbc.sp());
        EXPECT(0x54d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01B3
        gbc.setState(0x755d, 0xc10, 0x1180, 0xe216, 0xd8b3, 0x4e6, 0x1, 0x0);
        gbc.writeMem(0x4e6, { 0xeb });
        gbc.writeMem(0x755d, { 0xbe });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc10, gbc.sp());
        EXPECT(0x755e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01B4
        gbc.setState(0xb57e, 0x34ab, 0xaab0, 0x5d95, 0x1a5f, 0xaf1a, 0x1, 0x1);
        gbc.writeMem(0xaf1a, { 0x65 });
        gbc.writeMem(0xb57e, { 0xbe });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x34ab, gbc.sp());
        EXPECT(0xb57f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x65, gbc.readMem(0xaf1a));
        EXPECT(0xbe, gbc.readMem(0xb57e));
        // BE 01B5
        gbc.setState(0x999, 0xbcbc, 0xda70, 0xba4f, 0xbefc, 0x9dab, 0x1, 0x0);
        gbc.writeMem(0x999, { 0xbe });
        gbc.writeMem(0x9dab, { 0xce });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xbcbc, gbc.sp());
        EXPECT(0x99a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9dab));
        // BE 01B6
        gbc.setState(0x360c, 0x4ef8, 0x2d10, 0xceab, 0x5531, 0xf6ac, 0x1, 0x1);
        gbc.writeMem(0x360c, { 0xbe });
        gbc.writeMem(0xf6ac, { 0x50 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x4ef8, gbc.sp());
        EXPECT(0x360d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x50, gbc.readMem(0xf6ac));
        // BE 01B7
        gbc.setState(0xc58e, 0x8021, 0x89c0, 0x4214, 0x5ca2, 0x25aa, 0x1, 0x1);
        gbc.writeMem(0x25aa, { 0xd8 });
        gbc.writeMem(0xc58e, { 0xbe });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x8021, gbc.sp());
        EXPECT(0xc58f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc58e));
        // BE 01B8
        gbc.setState(0x4bf3, 0xcd4d, 0x9140, 0x6fd8, 0x23c7, 0x72eb, 0x1, 0x0);
        gbc.writeMem(0x4bf3, { 0xbe });
        gbc.writeMem(0x72eb, { 0x8e });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xcd4d, gbc.sp());
        EXPECT(0x4bf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01B9
        gbc.setState(0x74fd, 0x5e2f, 0x98d0, 0xc7a7, 0xe6d0, 0x6dfa, 0x1, 0x1);
        gbc.writeMem(0x6dfa, { 0x33 });
        gbc.writeMem(0x74fd, { 0xbe });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x5e2f, gbc.sp());
        EXPECT(0x74fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01BB
        gbc.setState(0x491, 0x66e8, 0xaa10, 0x6421, 0x2fc2, 0x1242, 0x1, 0x0);
        gbc.writeMem(0x491, { 0xbe });
        gbc.writeMem(0x1242, { 0x58 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x66e8, gbc.sp());
        EXPECT(0x492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01BC
        gbc.setState(0x9e5b, 0xae90, 0x6d90, 0xb950, 0xf9fc, 0xbd22, 0x1, 0x0);
        gbc.writeMem(0x9e5b, { 0xbe });
        gbc.writeMem(0xbd22, { 0xff });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xae90, gbc.sp());
        EXPECT(0x9e5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9e5b));
        EXPECT(0xff, gbc.readMem(0xbd22));
        // BE 01BD
        gbc.setState(0x9626, 0xa76d, 0x3b90, 0xc799, 0x9d39, 0xfad1, 0x1, 0x0);
        gbc.writeMem(0x9626, { 0xbe });
        gbc.writeMem(0xfad1, { 0xb3 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa76d, gbc.sp());
        EXPECT(0x9627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9626));
        EXPECT(0xb3, gbc.readMem(0xfad1));
        // BE 01BE
        gbc.setState(0xd8fe, 0xe987, 0xd70, 0x2384, 0x79ca, 0x4be4, 0x0, 0x0);
        gbc.writeMem(0x4be4, { 0xfd });
        gbc.writeMem(0xd8fe, { 0xbe });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xe987, gbc.sp());
        EXPECT(0xd8ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd8fe));
        // BE 01BF
        gbc.setState(0xa9aa, 0x503e, 0xac80, 0x988, 0x214e, 0xad1d, 0x0, 0x1);
        gbc.writeMem(0xa9aa, { 0xbe });
        gbc.writeMem(0xad1d, { 0xd6 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x503e, gbc.sp());
        EXPECT(0xa9ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa9aa));
        EXPECT(0xd6, gbc.readMem(0xad1d));
        // BE 01C0
        gbc.setState(0xe18c, 0xde54, 0xdc00, 0x4bfa, 0x5c24, 0xa18f, 0x1, 0x1);
        gbc.writeMem(0xa18f, { 0xa5 });
        gbc.writeMem(0xe18c, { 0xbe });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xde54, gbc.sp());
        EXPECT(0xe18d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa5, gbc.readMem(0xa18f));
        EXPECT(0xbe, gbc.readMem(0xe18c));
        // BE 01C1
        gbc.setState(0x8ad6, 0x3824, 0x2080, 0xe82d, 0x43ce, 0xe195, 0x0, 0x0);
        gbc.writeMem(0x8ad6, { 0xbe });
        gbc.writeMem(0xe195, { 0xa6 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x3824, gbc.sp());
        EXPECT(0x8ad7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8ad6));
        EXPECT(0xa6, gbc.readMem(0xe195));
        // BE 01C2
        gbc.setState(0x3e6a, 0x38df, 0xe2c0, 0x331c, 0x9a46, 0x3bba, 0x1, 0x1);
        gbc.writeMem(0x3bba, { 0xe2 });
        gbc.writeMem(0x3e6a, { 0xbe });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x38df, gbc.sp());
        EXPECT(0x3e6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01C3
        gbc.setState(0x1c68, 0x3768, 0x4560, 0xf1b1, 0x4279, 0xf747, 0x1, 0x0);
        gbc.writeMem(0x1c68, { 0xbe });
        gbc.writeMem(0xf747, { 0xf });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x3768, gbc.sp());
        EXPECT(0x1c69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf, gbc.readMem(0xf747));
        // BE 01C4
        gbc.setState(0x957f, 0x8b6a, 0x3a80, 0xa32f, 0xd42e, 0x863a, 0x1, 0x0);
        gbc.writeMem(0x863a, { 0xec });
        gbc.writeMem(0x957f, { 0xbe });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x8b6a, gbc.sp());
        EXPECT(0x9580, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xec, gbc.readMem(0x863a));
        EXPECT(0xbe, gbc.readMem(0x957f));
        // BE 01C5
        gbc.setState(0xbb5, 0xd595, 0x6640, 0x4e5c, 0x5dbc, 0xde52, 0x1, 0x0);
        gbc.writeMem(0xbb5, { 0xbe });
        gbc.writeMem(0xde52, { 0xac });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xd595, gbc.sp());
        EXPECT(0xbb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xac, gbc.readMem(0xde52));
        // BE 01C6
        gbc.setState(0x863e, 0x4370, 0xbb40, 0x5f90, 0x1c7c, 0x6b20, 0x0, 0x1);
        gbc.writeMem(0x6b20, { 0xfb });
        gbc.writeMem(0x863e, { 0xbe });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x4370, gbc.sp());
        EXPECT(0x863f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x863e));
        // BE 01C7
        gbc.setState(0x461c, 0x16b2, 0x8fc0, 0xd562, 0x2d14, 0x37ad, 0x0, 0x0);
        gbc.writeMem(0x37ad, { 0x4e });
        gbc.writeMem(0x461c, { 0xbe });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x16b2, gbc.sp());
        EXPECT(0x461d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01C8
        gbc.setState(0xe563, 0x9da1, 0x5fc0, 0x1d13, 0xf934, 0xc246, 0x1, 0x0);
        gbc.writeMem(0xc246, { 0x9f });
        gbc.writeMem(0xe563, { 0xbe });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x9da1, gbc.sp());
        EXPECT(0xe564, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9f, gbc.readMem(0xc246));
        EXPECT(0xbe, gbc.readMem(0xe563));
        // BE 01C9
        gbc.setState(0xbf2c, 0x9ae9, 0xb50, 0x76f5, 0x64e0, 0x3aa1, 0x0, 0x1);
        gbc.writeMem(0x3aa1, { 0x9f });
        gbc.writeMem(0xbf2c, { 0xbe });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9ae9, gbc.sp());
        EXPECT(0xbf2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbf2c));
        // BE 01CA
        gbc.setState(0xbe59, 0xabb1, 0x8ab0, 0x13f8, 0x1033, 0x4e56, 0x0, 0x1);
        gbc.writeMem(0x4e56, { 0xf0 });
        gbc.writeMem(0xbe59, { 0xbe });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xabb1, gbc.sp());
        EXPECT(0xbe5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbe59));
        // BE 01CB
        gbc.setState(0x8a0c, 0xe449, 0xcae0, 0xa90f, 0x333f, 0xc8f4, 0x1, 0x0);
        gbc.writeMem(0x8a0c, { 0xbe });
        gbc.writeMem(0xc8f4, { 0xeb });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe449, gbc.sp());
        EXPECT(0x8a0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8a0c));
        EXPECT(0xeb, gbc.readMem(0xc8f4));
        // BE 01CC
        gbc.setState(0x8539, 0xb99b, 0x8980, 0x1e38, 0x3896, 0x4104, 0x1, 0x0);
        gbc.writeMem(0x4104, { 0xb });
        gbc.writeMem(0x8539, { 0xbe });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xb99b, gbc.sp());
        EXPECT(0x853a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8539));
        // BE 01CD
        gbc.setState(0x68a7, 0x6e5c, 0xf300, 0xd68e, 0x17b5, 0xec2, 0x1, 0x1);
        gbc.writeMem(0xec2, { 0x3e });
        gbc.writeMem(0x68a7, { 0xbe });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x6e5c, gbc.sp());
        EXPECT(0x68a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01CE
        gbc.setState(0xcce4, 0x3325, 0xe3a0, 0x1444, 0x8bc2, 0x2033, 0x0, 0x0);
        gbc.writeMem(0x2033, { 0xa7 });
        gbc.writeMem(0xcce4, { 0xbe });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x3325, gbc.sp());
        EXPECT(0xcce5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xcce4));
        // BE 01CF
        gbc.setState(0x9778, 0xc7b4, 0xcd10, 0x995c, 0x6940, 0x3fe8, 0x1, 0x1);
        gbc.writeMem(0x3fe8, { 0x90 });
        gbc.writeMem(0x9778, { 0xbe });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xc7b4, gbc.sp());
        EXPECT(0x9779, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9778));
        // BE 01D0
        gbc.setState(0x2415, 0x7002, 0x7dc0, 0xf9ff, 0x6e38, 0xa020, 0x1, 0x1);
        gbc.writeMem(0x2415, { 0xbe });
        gbc.writeMem(0xa020, { 0xec });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x7002, gbc.sp());
        EXPECT(0x2416, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xec, gbc.readMem(0xa020));
        // BE 01D1
        gbc.setState(0x9c4a, 0x9b8f, 0xe270, 0x41db, 0x4fa1, 0xea8d, 0x0, 0x0);
        gbc.writeMem(0x9c4a, { 0xbe });
        gbc.writeMem(0xea8d, { 0x7c });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x9b8f, gbc.sp());
        EXPECT(0x9c4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9c4a));
        EXPECT(0x7c, gbc.readMem(0xea8d));
        // BE 01D2
        gbc.setState(0x5363, 0xf490, 0xfc70, 0x8d5a, 0x3b61, 0xec3, 0x0, 0x0);
        gbc.writeMem(0xec3, { 0x81 });
        gbc.writeMem(0x5363, { 0xbe });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xf490, gbc.sp());
        EXPECT(0x5364, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01D3
        gbc.setState(0x36ae, 0xdbdc, 0x5290, 0xd149, 0xc703, 0x2713, 0x1, 0x1);
        gbc.writeMem(0x2713, { 0xd3 });
        gbc.writeMem(0x36ae, { 0xbe });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xdbdc, gbc.sp());
        EXPECT(0x36af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01D4
        gbc.setState(0x467d, 0xd18d, 0x2910, 0x31cb, 0xe43f, 0x14a, 0x1, 0x1);
        gbc.writeMem(0x14a, { 0x7e });
        gbc.writeMem(0x467d, { 0xbe });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xd18d, gbc.sp());
        EXPECT(0x467e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01D5
        gbc.setState(0x3b50, 0x2d3b, 0x64d0, 0xaf72, 0xed9f, 0xfaca, 0x1, 0x1);
        gbc.writeMem(0x3b50, { 0xbe });
        gbc.writeMem(0xfaca, { 0x6c });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x2d3b, gbc.sp());
        EXPECT(0x3b51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6c, gbc.readMem(0xfaca));
        // BE 01D6
        gbc.setState(0xa852, 0xeda4, 0x1a0, 0xeb2e, 0x4622, 0x56, 0x0, 0x0);
        gbc.writeMem(0x56, { 0x2b });
        gbc.writeMem(0xa852, { 0xbe });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xeda4, gbc.sp());
        EXPECT(0xa853, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa852));
        // BE 01D7
        gbc.setState(0x2cca, 0x23be, 0x3d10, 0x8a83, 0x6e47, 0x1b3b, 0x1, 0x0);
        gbc.writeMem(0x1b3b, { 0x35 });
        gbc.writeMem(0x2cca, { 0xbe });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x23be, gbc.sp());
        EXPECT(0x2ccb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01D8
        gbc.setState(0xe38d, 0x1427, 0x48d0, 0xb8d2, 0xf5db, 0x199, 0x0, 0x1);
        gbc.writeMem(0x199, { 0x94 });
        gbc.writeMem(0xe38d, { 0xbe });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x1427, gbc.sp());
        EXPECT(0xe38e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe38d));
        // BE 01D9
        gbc.setState(0x33ac, 0xa622, 0x8870, 0x9648, 0x374b, 0x1c70, 0x0, 0x0);
        gbc.writeMem(0x1c70, { 0xef });
        gbc.writeMem(0x33ac, { 0xbe });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xa622, gbc.sp());
        EXPECT(0x33ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01DA
        gbc.setState(0x9c98, 0x3247, 0x9b90, 0x3bb0, 0xd288, 0x9eb4, 0x0, 0x1);
        gbc.writeMem(0x9c98, { 0xbe });
        gbc.writeMem(0x9eb4, { 0x7d });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x3247, gbc.sp());
        EXPECT(0x9c99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9c98));
        EXPECT(0x7d, gbc.readMem(0x9eb4));
        // BE 01DB
        gbc.setState(0x1b4c, 0x46a1, 0xf0c0, 0x92de, 0x912f, 0x3592, 0x0, 0x0);
        gbc.writeMem(0x1b4c, { 0xbe });
        gbc.writeMem(0x3592, { 0x19 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x46a1, gbc.sp());
        EXPECT(0x1b4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01DC
        gbc.setState(0x29aa, 0xa5cf, 0x98f0, 0xe495, 0x2372, 0x9d77, 0x1, 0x0);
        gbc.writeMem(0x29aa, { 0xbe });
        gbc.writeMem(0x9d77, { 0xe });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xa5cf, gbc.sp());
        EXPECT(0x29ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe, gbc.readMem(0x9d77));
        // BE 01DD
        gbc.setState(0x200, 0xa170, 0xb750, 0xc1f6, 0xcb64, 0x5ff5, 0x1, 0x1);
        gbc.writeMem(0x200, { 0xbe });
        gbc.writeMem(0x5ff5, { 0x71 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa170, gbc.sp());
        EXPECT(0x201, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01DF
        gbc.setState(0xc5fd, 0xbfca, 0x8780, 0xe71, 0x2032, 0x977a, 0x0, 0x1);
        gbc.writeMem(0x977a, { 0x24 });
        gbc.writeMem(0xc5fd, { 0xbe });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xbfca, gbc.sp());
        EXPECT(0xc5fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x24, gbc.readMem(0x977a));
        EXPECT(0xbe, gbc.readMem(0xc5fd));
        // BE 01E0
        gbc.setState(0x5f2b, 0x3e55, 0x7900, 0x480, 0xfc92, 0x7e00, 0x1, 0x1);
        gbc.writeMem(0x5f2b, { 0xbe });
        gbc.writeMem(0x7e00, { 0x8b });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x3e55, gbc.sp());
        EXPECT(0x5f2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01E1
        gbc.setState(0xedac, 0x5914, 0x70, 0x84c5, 0xa642, 0x18f0, 0x1, 0x1);
        gbc.writeMem(0x18f0, { 0x6f });
        gbc.writeMem(0xedac, { 0xbe });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5914, gbc.sp());
        EXPECT(0xedad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xedac));
        // BE 01E2
        gbc.setState(0xcd80, 0xb863, 0x31c0, 0x9469, 0x375f, 0xb198, 0x0, 0x0);
        gbc.writeMem(0xb198, { 0x27 });
        gbc.writeMem(0xcd80, { 0xbe });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb863, gbc.sp());
        EXPECT(0xcd81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x27, gbc.readMem(0xb198));
        EXPECT(0xbe, gbc.readMem(0xcd80));
        // BE 01E3
        gbc.setState(0x9176, 0xba7b, 0xbd60, 0xb97d, 0xb44c, 0xf1f2, 0x0, 0x1);
        gbc.writeMem(0x9176, { 0xbe });
        gbc.writeMem(0xf1f2, { 0xea });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xba7b, gbc.sp());
        EXPECT(0x9177, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9176));
        EXPECT(0xea, gbc.readMem(0xf1f2));
        // BE 01E4
        gbc.setState(0xb35, 0x80ab, 0xf310, 0x62c3, 0x8ed5, 0xab40, 0x0, 0x0);
        gbc.writeMem(0xb35, { 0xbe });
        gbc.writeMem(0xab40, { 0x35 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x80ab, gbc.sp());
        EXPECT(0xb36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x35, gbc.readMem(0xab40));
        // BE 01E5
        gbc.setState(0xe331, 0x7941, 0x60c0, 0xb1b3, 0x858, 0x473e, 0x1, 0x0);
        gbc.writeMem(0x473e, { 0x21 });
        gbc.writeMem(0xe331, { 0xbe });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x7941, gbc.sp());
        EXPECT(0xe332, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe331));
        // BE 01E6
        gbc.setState(0xe3a0, 0x1996, 0x2cf0, 0xab1, 0xad8b, 0xc03d, 0x1, 0x1);
        gbc.writeMem(0xc03d, { 0x75 });
        gbc.writeMem(0xe3a0, { 0xbe });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x1996, gbc.sp());
        EXPECT(0xe3a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0xc03d));
        EXPECT(0xbe, gbc.readMem(0xe3a0));
        // BE 01E8
        gbc.setState(0xd0f, 0xaeb7, 0xef20, 0x4a62, 0xba2f, 0x915b, 0x0, 0x1);
        gbc.writeMem(0xd0f, { 0xbe });
        gbc.writeMem(0x915b, { 0x89 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xaeb7, gbc.sp());
        EXPECT(0xd10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x89, gbc.readMem(0x915b));
        // BE 01E9
        gbc.setState(0xbbd0, 0xf97e, 0x1fc0, 0xf175, 0x9f85, 0xdb5b, 0x1, 0x1);
        gbc.writeMem(0xbbd0, { 0xbe });
        gbc.writeMem(0xdb5b, { 0x98 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xf97e, gbc.sp());
        EXPECT(0xbbd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbbd0));
        EXPECT(0x98, gbc.readMem(0xdb5b));
        // BE 01EA
        gbc.setState(0xdb4c, 0x2a72, 0x4e30, 0x716d, 0x8df7, 0xa416, 0x1, 0x0);
        gbc.writeMem(0xa416, { 0xbd });
        gbc.writeMem(0xdb4c, { 0xbe });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x2a72, gbc.sp());
        EXPECT(0xdb4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbd, gbc.readMem(0xa416));
        EXPECT(0xbe, gbc.readMem(0xdb4c));
        // BE 01EB
        gbc.setState(0x703f, 0xeda4, 0x5720, 0xecec, 0x811c, 0x33f6, 0x0, 0x1);
        gbc.writeMem(0x33f6, { 0x4a });
        gbc.writeMem(0x703f, { 0xbe });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xeda4, gbc.sp());
        EXPECT(0x7040, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01EC
        gbc.setState(0xc436, 0xdff7, 0x7900, 0x530, 0x91f8, 0xccc7, 0x1, 0x0);
        gbc.writeMem(0xc436, { 0xbe });
        gbc.writeMem(0xccc7, { 0x98 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xdff7, gbc.sp());
        EXPECT(0xc437, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc436));
        EXPECT(0x98, gbc.readMem(0xccc7));
        // BE 01ED
        gbc.setState(0xa156, 0xdea, 0xf860, 0xfbda, 0x31a3, 0x1e39, 0x0, 0x0);
        gbc.writeMem(0x1e39, { 0xd4 });
        gbc.writeMem(0xa156, { 0xbe });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xdea, gbc.sp());
        EXPECT(0xa157, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa156));
        // BE 01EE
        gbc.setState(0xde90, 0x241e, 0x6570, 0x2837, 0x12cb, 0xba0d, 0x0, 0x0);
        gbc.writeMem(0xba0d, { 0xdd });
        gbc.writeMem(0xde90, { 0xbe });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x241e, gbc.sp());
        EXPECT(0xde91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdd, gbc.readMem(0xba0d));
        EXPECT(0xbe, gbc.readMem(0xde90));
        // BE 01F1
        gbc.setState(0xb5c, 0x30d0, 0xd480, 0x8b8d, 0x9e99, 0xadee, 0x0, 0x1);
        gbc.writeMem(0xb5c, { 0xbe });
        gbc.writeMem(0xadee, { 0x8a });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x30d0, gbc.sp());
        EXPECT(0xb5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8a, gbc.readMem(0xadee));
        // BE 01F2
        gbc.setState(0x31ec, 0x3496, 0xd160, 0x99fb, 0x634, 0xf518, 0x0, 0x0);
        gbc.writeMem(0x31ec, { 0xbe });
        gbc.writeMem(0xf518, { 0xc });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x3496, gbc.sp());
        EXPECT(0x31ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc, gbc.readMem(0xf518));
        // BE 01F3
        gbc.setState(0x502d, 0xb95e, 0x57b0, 0x5c1a, 0x56a0, 0x1229, 0x0, 0x1);
        gbc.writeMem(0x1229, { 0xea });
        gbc.writeMem(0x502d, { 0xbe });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xb95e, gbc.sp());
        EXPECT(0x502e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01F4
        gbc.setState(0x57d8, 0x665c, 0xbc30, 0x520e, 0x8b1f, 0xb108, 0x0, 0x1);
        gbc.writeMem(0x57d8, { 0xbe });
        gbc.writeMem(0xb108, { 0xbe });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x665c, gbc.sp());
        EXPECT(0x57d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb108));
        // BE 01F5
        gbc.setState(0x3a7e, 0xe800, 0x4310, 0x7c4b, 0xe309, 0xc711, 0x0, 0x0);
        gbc.writeMem(0x3a7e, { 0xbe });
        gbc.writeMem(0xc711, { 0x94 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xe800, gbc.sp());
        EXPECT(0x3a7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0xc711));
        // BE 01F6
        gbc.setState(0x3e15, 0x77d0, 0xbea0, 0x806e, 0x6510, 0x9efe, 0x0, 0x1);
        gbc.writeMem(0x3e15, { 0xbe });
        gbc.writeMem(0x9efe, { 0x97 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x77d0, gbc.sp());
        EXPECT(0x3e16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x97, gbc.readMem(0x9efe));
        // BE 01F7
        gbc.setState(0xc30a, 0xa4c7, 0xa50, 0x269, 0x856d, 0xcec3, 0x1, 0x0);
        gbc.writeMem(0xc30a, { 0xbe });
        gbc.writeMem(0xcec3, { 0x5e });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xa4c7, gbc.sp());
        EXPECT(0xc30b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc30a));
        EXPECT(0x5e, gbc.readMem(0xcec3));
        // BE 01F8
        gbc.setState(0x26c6, 0xf1b2, 0xd8b0, 0xac8e, 0xa8a9, 0x52d4, 0x0, 0x0);
        gbc.writeMem(0x26c6, { 0xbe });
        gbc.writeMem(0x52d4, { 0xa });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf1b2, gbc.sp());
        EXPECT(0x26c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01F9
        gbc.setState(0x1329, 0x2c93, 0x4990, 0xc8b3, 0x7054, 0x91f8, 0x0, 0x1);
        gbc.writeMem(0x1329, { 0xbe });
        gbc.writeMem(0x91f8, { 0x3f });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x2c93, gbc.sp());
        EXPECT(0x132a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3f, gbc.readMem(0x91f8));
        // BE 01FA
        gbc.setState(0x4395, 0xff6f, 0x850, 0xc5bf, 0x5f01, 0xc47, 0x0, 0x1);
        gbc.writeMem(0xc47, { 0xcc });
        gbc.writeMem(0x4395, { 0xbe });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xff6f, gbc.sp());
        EXPECT(0x4396, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 01FB
        gbc.setState(0x168f, 0xeb10, 0xa6d0, 0x8e2b, 0xad88, 0x814a, 0x1, 0x0);
        gbc.writeMem(0x168f, { 0xbe });
        gbc.writeMem(0x814a, { 0x9f });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xeb10, gbc.sp());
        EXPECT(0x1690, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9f, gbc.readMem(0x814a));
        // BE 01FC
        gbc.setState(0x3f91, 0xd501, 0x5970, 0x77ee, 0xfcdb, 0x367e, 0x1, 0x0);
        gbc.writeMem(0x367e, { 0x0 });
        gbc.writeMem(0x3f91, { 0xbe });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xd501, gbc.sp());
        EXPECT(0x3f92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01FD
        gbc.setState(0x4141, 0xa9f7, 0xff30, 0x2838, 0x1021, 0xf335, 0x1, 0x1);
        gbc.writeMem(0x4141, { 0xbe });
        gbc.writeMem(0xf335, { 0xfa });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xa9f7, gbc.sp());
        EXPECT(0x4142, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfa, gbc.readMem(0xf335));
        // BE 01FE
        gbc.setState(0x6f56, 0x8409, 0xf740, 0x4ebe, 0xec83, 0x64ae, 0x1, 0x0);
        gbc.writeMem(0x64ae, { 0x25 });
        gbc.writeMem(0x6f56, { 0xbe });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x8409, gbc.sp());
        EXPECT(0x6f57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 01FF
        gbc.setState(0xd653, 0xc22f, 0x4c50, 0x46f1, 0xaa0e, 0x2dbe, 0x1, 0x0);
        gbc.writeMem(0x2dbe, { 0x67 });
        gbc.writeMem(0xd653, { 0xbe });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xc22f, gbc.sp());
        EXPECT(0xd654, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd653));
        // BE 0200
        gbc.setState(0x7bb5, 0xd439, 0x3970, 0xd74e, 0xaa0d, 0x4933, 0x0, 0x1);
        gbc.writeMem(0x4933, { 0x35 });
        gbc.writeMem(0x7bb5, { 0xbe });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xd439, gbc.sp());
        EXPECT(0x7bb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0201
        gbc.setState(0x8de, 0x9876, 0x3330, 0x71b, 0x7e61, 0xc552, 0x0, 0x1);
        gbc.writeMem(0x8de, { 0xbe });
        gbc.writeMem(0xc552, { 0xa4 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x9876, gbc.sp());
        EXPECT(0x8df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xc552));
        // BE 0202
        gbc.setState(0xb2c, 0x788d, 0xcdf0, 0xdc7e, 0xd2e9, 0x1746, 0x0, 0x0);
        gbc.writeMem(0xb2c, { 0xbe });
        gbc.writeMem(0x1746, { 0xf6 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x788d, gbc.sp());
        EXPECT(0xb2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0203
        gbc.setState(0xa171, 0x72ce, 0x6470, 0xf2b7, 0x8fe7, 0x3ac1, 0x1, 0x0);
        gbc.writeMem(0x3ac1, { 0x1d });
        gbc.writeMem(0xa171, { 0xbe });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x72ce, gbc.sp());
        EXPECT(0xa172, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa171));
        // BE 0204
        gbc.setState(0x7464, 0x4939, 0x64a0, 0x6b21, 0xe5ed, 0xee8a, 0x1, 0x0);
        gbc.writeMem(0x7464, { 0xbe });
        gbc.writeMem(0xee8a, { 0xd9 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x4939, gbc.sp());
        EXPECT(0x7465, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd9, gbc.readMem(0xee8a));
        // BE 0205
        gbc.setState(0x655e, 0xb11a, 0x36e0, 0x3b71, 0x98bd, 0x33a6, 0x0, 0x1);
        gbc.writeMem(0x33a6, { 0xe2 });
        gbc.writeMem(0x655e, { 0xbe });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb11a, gbc.sp());
        EXPECT(0x655f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0206
        gbc.setState(0xdddd, 0x3d5a, 0x3d90, 0x77d6, 0x1452, 0x8acb, 0x1, 0x0);
        gbc.writeMem(0x8acb, { 0x92 });
        gbc.writeMem(0xdddd, { 0xbe });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x3d5a, gbc.sp());
        EXPECT(0xddde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0x8acb));
        EXPECT(0xbe, gbc.readMem(0xdddd));
        // BE 0207
        gbc.setState(0x3695, 0xf37e, 0x10d0, 0xf84b, 0x7841, 0x390e, 0x1, 0x1);
        gbc.writeMem(0x3695, { 0xbe });
        gbc.writeMem(0x390e, { 0x7 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xf37e, gbc.sp());
        EXPECT(0x3696, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0208
        gbc.setState(0xb661, 0xd2f7, 0x6c60, 0xee1f, 0x41a7, 0x48d, 0x0, 0x1);
        gbc.writeMem(0x48d, { 0x6f });
        gbc.writeMem(0xb661, { 0xbe });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xd2f7, gbc.sp());
        EXPECT(0xb662, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb661));
        // BE 0209
        gbc.setState(0xb12, 0xc14c, 0x3c40, 0x6ea3, 0xf96c, 0x4ef5, 0x0, 0x1);
        gbc.writeMem(0xb12, { 0xbe });
        gbc.writeMem(0x4ef5, { 0xfc });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xc14c, gbc.sp());
        EXPECT(0xb13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 020A
        gbc.setState(0x183f, 0xc2a8, 0x3d30, 0x88d1, 0xac96, 0xe97f, 0x1, 0x1);
        gbc.writeMem(0x183f, { 0xbe });
        gbc.writeMem(0xe97f, { 0x0 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc2a8, gbc.sp());
        EXPECT(0x1840, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x0, gbc.readMem(0xe97f));
        // BE 020B
        gbc.setState(0x160c, 0x908a, 0x3250, 0x1e49, 0xe7a8, 0xa3e4, 0x1, 0x1);
        gbc.writeMem(0x160c, { 0xbe });
        gbc.writeMem(0xa3e4, { 0x41 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x908a, gbc.sp());
        EXPECT(0x160d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x41, gbc.readMem(0xa3e4));
        // BE 020C
        gbc.setState(0x75e5, 0x8f85, 0xa990, 0xd9d4, 0xb18a, 0x38cb, 0x1, 0x1);
        gbc.writeMem(0x38cb, { 0xb2 });
        gbc.writeMem(0x75e5, { 0xbe });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8f85, gbc.sp());
        EXPECT(0x75e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 020D
        gbc.setState(0x1699, 0x6425, 0x6630, 0x1103, 0x7025, 0xf364, 0x0, 0x1);
        gbc.writeMem(0x1699, { 0xbe });
        gbc.writeMem(0xf364, { 0xd8 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x6425, gbc.sp());
        EXPECT(0x169a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd8, gbc.readMem(0xf364));
        // BE 020E
        gbc.setState(0x3c20, 0x2cfb, 0xfd50, 0x6f04, 0x7f9b, 0xd8de, 0x0, 0x1);
        gbc.writeMem(0x3c20, { 0xbe });
        gbc.writeMem(0xd8de, { 0x71 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x2cfb, gbc.sp());
        EXPECT(0x3c21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x71, gbc.readMem(0xd8de));
        // BE 020F
        gbc.setState(0x51ff, 0xd989, 0xdbd0, 0x3fee, 0x7839, 0xa1aa, 0x1, 0x0);
        gbc.writeMem(0x51ff, { 0xbe });
        gbc.writeMem(0xa1aa, { 0xaa });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xd989, gbc.sp());
        EXPECT(0x5200, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xaa, gbc.readMem(0xa1aa));
        // BE 0210
        gbc.setState(0x3038, 0x8d3c, 0xdc20, 0x18cc, 0x3d1a, 0x8b8b, 0x0, 0x0);
        gbc.writeMem(0x3038, { 0xbe });
        gbc.writeMem(0x8b8b, { 0x97 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x8d3c, gbc.sp());
        EXPECT(0x3039, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x97, gbc.readMem(0x8b8b));
        // BE 0211
        gbc.setState(0x2710, 0x5a5b, 0x60, 0xa7ce, 0x3c3e, 0x9f92, 0x0, 0x0);
        gbc.writeMem(0x2710, { 0xbe });
        gbc.writeMem(0x9f92, { 0xce });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5a5b, gbc.sp());
        EXPECT(0x2711, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9f92));
        // BE 0212
        gbc.setState(0x92da, 0x20b3, 0x7560, 0x82b9, 0x3c5e, 0xc228, 0x0, 0x0);
        gbc.writeMem(0x92da, { 0xbe });
        gbc.writeMem(0xc228, { 0xdf });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x20b3, gbc.sp());
        EXPECT(0x92db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x92da));
        EXPECT(0xdf, gbc.readMem(0xc228));
        // BE 0213
        gbc.setState(0xb5af, 0x97fd, 0xd300, 0xc2e8, 0xd88e, 0xfc38, 0x0, 0x0);
        gbc.writeMem(0xb5af, { 0xbe });
        gbc.writeMem(0xfc38, { 0x2d });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x97fd, gbc.sp());
        EXPECT(0xb5b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb5af));
        EXPECT(0x2d, gbc.readMem(0xfc38));
        // BE 0214
        gbc.setState(0x67fc, 0x6f8f, 0x1f0, 0xe6d7, 0x40cf, 0x9b53, 0x1, 0x1);
        gbc.writeMem(0x67fc, { 0xbe });
        gbc.writeMem(0x9b53, { 0xf7 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x6f8f, gbc.sp());
        EXPECT(0x67fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf7, gbc.readMem(0x9b53));
        // BE 0215
        gbc.setState(0x98a3, 0x407c, 0x6b10, 0x3dee, 0x83d8, 0x8aed, 0x1, 0x0);
        gbc.writeMem(0x8aed, { 0x96 });
        gbc.writeMem(0x98a3, { 0xbe });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x407c, gbc.sp());
        EXPECT(0x98a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x96, gbc.readMem(0x8aed));
        EXPECT(0xbe, gbc.readMem(0x98a3));
        // BE 0216
        gbc.setState(0xb5ba, 0x4407, 0xdf60, 0xca22, 0x4e7a, 0x486c, 0x0, 0x0);
        gbc.writeMem(0x486c, { 0xf0 });
        gbc.writeMem(0xb5ba, { 0xbe });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x4407, gbc.sp());
        EXPECT(0xb5bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb5ba));
        // BE 0217
        gbc.setState(0xd922, 0xd33c, 0x8c20, 0xdc8b, 0xfd73, 0xf63d, 0x1, 0x1);
        gbc.writeMem(0xd922, { 0xbe });
        gbc.writeMem(0xf63d, { 0x1c });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xd33c, gbc.sp());
        EXPECT(0xd923, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd922));
        EXPECT(0x1c, gbc.readMem(0xf63d));
        // BE 0218
        gbc.setState(0xce95, 0x87f5, 0x3940, 0x6eba, 0x29ba, 0xc85f, 0x0, 0x0);
        gbc.writeMem(0xc85f, { 0x1a });
        gbc.writeMem(0xce95, { 0xbe });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x87f5, gbc.sp());
        EXPECT(0xce96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1a, gbc.readMem(0xc85f));
        EXPECT(0xbe, gbc.readMem(0xce95));
        // BE 0219
        gbc.setState(0xa672, 0x6e70, 0xc190, 0x51a2, 0x9a9f, 0x775, 0x1, 0x0);
        gbc.writeMem(0x775, { 0x2f });
        gbc.writeMem(0xa672, { 0xbe });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x6e70, gbc.sp());
        EXPECT(0xa673, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa672));
        // BE 021A
        gbc.setState(0x705e, 0xb6f, 0x63a0, 0xd418, 0x9dc5, 0x288c, 0x1, 0x1);
        gbc.writeMem(0x288c, { 0xb5 });
        gbc.writeMem(0x705e, { 0xbe });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xb6f, gbc.sp());
        EXPECT(0x705f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 021B
        gbc.setState(0x6ada, 0xe3ca, 0xbce0, 0xd0ed, 0x254e, 0x49eb, 0x0, 0x0);
        gbc.writeMem(0x49eb, { 0xc1 });
        gbc.writeMem(0x6ada, { 0xbe });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xe3ca, gbc.sp());
        EXPECT(0x6adb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 021C
        gbc.setState(0xdbc9, 0xd15c, 0xd430, 0xcb6c, 0xc410, 0xc3b0, 0x0, 0x1);
        gbc.writeMem(0xc3b0, { 0x4e });
        gbc.writeMem(0xdbc9, { 0xbe });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xd15c, gbc.sp());
        EXPECT(0xdbca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4e, gbc.readMem(0xc3b0));
        EXPECT(0xbe, gbc.readMem(0xdbc9));
        // BE 021D
        gbc.setState(0x7cb5, 0x7907, 0xaf0, 0xb4b4, 0x3ee7, 0x3c0f, 0x1, 0x1);
        gbc.writeMem(0x3c0f, { 0xf2 });
        gbc.writeMem(0x7cb5, { 0xbe });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x7907, gbc.sp());
        EXPECT(0x7cb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 021F
        gbc.setState(0x7a17, 0x98f4, 0xea70, 0x1824, 0xf359, 0xdf8b, 0x1, 0x1);
        gbc.writeMem(0x7a17, { 0xbe });
        gbc.writeMem(0xdf8b, { 0x8c });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x98f4, gbc.sp());
        EXPECT(0x7a18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8c, gbc.readMem(0xdf8b));
        // BE 0220
        gbc.setState(0xebf3, 0x5595, 0x31f0, 0x6f55, 0xcd2f, 0x2ff1, 0x1, 0x0);
        gbc.writeMem(0x2ff1, { 0xaa });
        gbc.writeMem(0xebf3, { 0xbe });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x5595, gbc.sp());
        EXPECT(0xebf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xebf3));
        // BE 0221
        gbc.setState(0x5ec9, 0xded5, 0x50e0, 0x33bd, 0x6976, 0xc07e, 0x0, 0x0);
        gbc.writeMem(0x5ec9, { 0xbe });
        gbc.writeMem(0xc07e, { 0x8 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xded5, gbc.sp());
        EXPECT(0x5eca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8, gbc.readMem(0xc07e));
        // BE 0222
        gbc.setState(0x5f68, 0xb04c, 0xe6b0, 0x3d8, 0x3c42, 0x4a34, 0x1, 0x1);
        gbc.writeMem(0x4a34, { 0x54 });
        gbc.writeMem(0x5f68, { 0xbe });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xb04c, gbc.sp());
        EXPECT(0x5f69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0223
        gbc.setState(0xd682, 0x9413, 0xaf10, 0x2c24, 0x980c, 0xeb97, 0x1, 0x0);
        gbc.writeMem(0xd682, { 0xbe });
        gbc.writeMem(0xeb97, { 0x1 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x9413, gbc.sp());
        EXPECT(0xd683, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd682));
        EXPECT(0x1, gbc.readMem(0xeb97));
        // BE 0224
        gbc.setState(0x6cb7, 0x23b6, 0xcce0, 0x9e32, 0x6cf3, 0x963b, 0x1, 0x1);
        gbc.writeMem(0x6cb7, { 0xbe });
        gbc.writeMem(0x963b, { 0xbb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x23b6, gbc.sp());
        EXPECT(0x6cb8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbb, gbc.readMem(0x963b));
        // BE 0226
        gbc.setState(0xc26d, 0x5407, 0xabc0, 0xf5fe, 0xd695, 0x7df, 0x0, 0x0);
        gbc.writeMem(0x7df, { 0x8a });
        gbc.writeMem(0xc26d, { 0xbe });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x5407, gbc.sp());
        EXPECT(0xc26e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc26d));
        // BE 0227
        gbc.setState(0xab9e, 0x775d, 0x5f40, 0x80da, 0x4022, 0x8e4c, 0x0, 0x1);
        gbc.writeMem(0x8e4c, { 0x4f });
        gbc.writeMem(0xab9e, { 0xbe });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x775d, gbc.sp());
        EXPECT(0xab9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4f, gbc.readMem(0x8e4c));
        EXPECT(0xbe, gbc.readMem(0xab9e));
        // BE 0228
        gbc.setState(0x96b1, 0xcf5f, 0x7010, 0x843b, 0xe7b6, 0xe0ee, 0x0, 0x1);
        gbc.writeMem(0x96b1, { 0xbe });
        gbc.writeMem(0xe0ee, { 0xcd });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xcf5f, gbc.sp());
        EXPECT(0x96b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x96b1));
        EXPECT(0xcd, gbc.readMem(0xe0ee));
        // BE 0229
        gbc.setState(0x7b70, 0x1059, 0xb7f0, 0xf3a, 0x1b39, 0x42c1, 0x0, 0x0);
        gbc.writeMem(0x42c1, { 0xa6 });
        gbc.writeMem(0x7b70, { 0xbe });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x1059, gbc.sp());
        EXPECT(0x7b71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 022A
        gbc.setState(0x7931, 0x73e0, 0xc820, 0xe6a, 0xd8e2, 0xe565, 0x1, 0x1);
        gbc.writeMem(0x7931, { 0xbe });
        gbc.writeMem(0xe565, { 0x5d });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x73e0, gbc.sp());
        EXPECT(0x7932, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5d, gbc.readMem(0xe565));
        // BE 022B
        gbc.setState(0x28d, 0xdc, 0x4df0, 0x295a, 0x14bc, 0x9f1a, 0x0, 0x0);
        gbc.writeMem(0x28d, { 0xbe });
        gbc.writeMem(0x9f1a, { 0x68 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xdc, gbc.sp());
        EXPECT(0x28e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x68, gbc.readMem(0x9f1a));
        // BE 022C
        gbc.setState(0x888e, 0x5950, 0xc9d0, 0x331, 0x41bd, 0x42e, 0x1, 0x0);
        gbc.writeMem(0x42e, { 0xad });
        gbc.writeMem(0x888e, { 0xbe });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x5950, gbc.sp());
        EXPECT(0x888f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x888e));
        // BE 022D
        gbc.setState(0x281d, 0x4c73, 0x22c0, 0xa0b5, 0xcff7, 0x9072, 0x1, 0x0);
        gbc.writeMem(0x281d, { 0xbe });
        gbc.writeMem(0x9072, { 0x5b });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x4c73, gbc.sp());
        EXPECT(0x281e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5b, gbc.readMem(0x9072));
        // BE 022E
        gbc.setState(0xb47f, 0x9b8d, 0xe360, 0xb509, 0x26d4, 0x894, 0x1, 0x0);
        gbc.writeMem(0x894, { 0x1f });
        gbc.writeMem(0xb47f, { 0xbe });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9b8d, gbc.sp());
        EXPECT(0xb480, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb47f));
        // BE 022F
        gbc.setState(0x3c75, 0x70a4, 0xa7e0, 0x7ba9, 0x6178, 0x4e5b, 0x0, 0x0);
        gbc.writeMem(0x3c75, { 0xbe });
        gbc.writeMem(0x4e5b, { 0x6d });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x70a4, gbc.sp());
        EXPECT(0x3c76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0230
        gbc.setState(0xb2ce, 0x722e, 0xba0, 0xe0d4, 0xfa9d, 0xc859, 0x0, 0x1);
        gbc.writeMem(0xb2ce, { 0xbe });
        gbc.writeMem(0xc859, { 0x7f });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x722e, gbc.sp());
        EXPECT(0xb2cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb2ce));
        EXPECT(0x7f, gbc.readMem(0xc859));
        // BE 0231
        gbc.setState(0xef64, 0x34c8, 0x5300, 0x5713, 0x4bc6, 0x5414, 0x1, 0x1);
        gbc.writeMem(0x5414, { 0xb7 });
        gbc.writeMem(0xef64, { 0xbe });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x34c8, gbc.sp());
        EXPECT(0xef65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xef64));
        // BE 0232
        gbc.setState(0x1f80, 0x1d6d, 0x5cc0, 0xb816, 0xc07a, 0xfb53, 0x0, 0x1);
        gbc.writeMem(0x1f80, { 0xbe });
        gbc.writeMem(0xfb53, { 0xe3 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x1d6d, gbc.sp());
        EXPECT(0x1f81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe3, gbc.readMem(0xfb53));
        // BE 0233
        gbc.setState(0xb46e, 0x44b6, 0xc640, 0x8479, 0x44c1, 0x1f68, 0x0, 0x0);
        gbc.writeMem(0x1f68, { 0x9c });
        gbc.writeMem(0xb46e, { 0xbe });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x44b6, gbc.sp());
        EXPECT(0xb46f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb46e));
        // BE 0234
        gbc.setState(0xde0a, 0xb2d6, 0x9470, 0x9911, 0xb8eb, 0xae5f, 0x1, 0x0);
        gbc.writeMem(0xae5f, { 0x7e });
        gbc.writeMem(0xde0a, { 0xbe });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xb2d6, gbc.sp());
        EXPECT(0xde0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7e, gbc.readMem(0xae5f));
        EXPECT(0xbe, gbc.readMem(0xde0a));
        // BE 0235
        gbc.setState(0x794a, 0xca1, 0xfe20, 0x9509, 0xe8c9, 0x5640, 0x0, 0x1);
        gbc.writeMem(0x5640, { 0xde });
        gbc.writeMem(0x794a, { 0xbe });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xca1, gbc.sp());
        EXPECT(0x794b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0236
        gbc.setState(0x8d4a, 0x5835, 0x33f0, 0x9108, 0x2263, 0x7c45, 0x0, 0x1);
        gbc.writeMem(0x7c45, { 0x67 });
        gbc.writeMem(0x8d4a, { 0xbe });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x5835, gbc.sp());
        EXPECT(0x8d4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8d4a));
        // BE 0237
        gbc.setState(0xeb6a, 0x1ea8, 0x7d90, 0x5e42, 0x1f50, 0xf2cd, 0x0, 0x1);
        gbc.writeMem(0xeb6a, { 0xbe });
        gbc.writeMem(0xf2cd, { 0x85 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x1ea8, gbc.sp());
        EXPECT(0xeb6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xeb6a));
        EXPECT(0x85, gbc.readMem(0xf2cd));
        // BE 0238
        gbc.setState(0x677b, 0x93b, 0x7ec0, 0x665c, 0x75d3, 0x3f07, 0x1, 0x0);
        gbc.writeMem(0x3f07, { 0xe7 });
        gbc.writeMem(0x677b, { 0xbe });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x93b, gbc.sp());
        EXPECT(0x677c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0239
        gbc.setState(0x2f83, 0xd181, 0xc240, 0xfeaa, 0xbf48, 0x83fd, 0x0, 0x1);
        gbc.writeMem(0x2f83, { 0xbe });
        gbc.writeMem(0x83fd, { 0x93 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xd181, gbc.sp());
        EXPECT(0x2f84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x93, gbc.readMem(0x83fd));
        // BE 023A
        gbc.setState(0x454c, 0x3c53, 0x1e90, 0x40c2, 0xb83a, 0x5929, 0x1, 0x1);
        gbc.writeMem(0x454c, { 0xbe });
        gbc.writeMem(0x5929, { 0x65 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x3c53, gbc.sp());
        EXPECT(0x454d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 023B
        gbc.setState(0x4805, 0x2c57, 0x8550, 0x9b0, 0x40b8, 0x7050, 0x1, 0x0);
        gbc.writeMem(0x4805, { 0xbe });
        gbc.writeMem(0x7050, { 0x7e });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x2c57, gbc.sp());
        EXPECT(0x4806, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 023C
        gbc.setState(0x820a, 0x46db, 0x520, 0x9630, 0x9cc5, 0xbc2f, 0x1, 0x0);
        gbc.writeMem(0x820a, { 0xbe });
        gbc.writeMem(0xbc2f, { 0x83 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x46db, gbc.sp());
        EXPECT(0x820b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x820a));
        EXPECT(0x83, gbc.readMem(0xbc2f));
        // BE 023D
        gbc.setState(0x5879, 0x6919, 0xe7c0, 0x6eea, 0xad3a, 0xc73d, 0x0, 0x1);
        gbc.writeMem(0x5879, { 0xbe });
        gbc.writeMem(0xc73d, { 0x81 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x6919, gbc.sp());
        EXPECT(0x587a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x81, gbc.readMem(0xc73d));
        // BE 023E
        gbc.setState(0x3a3b, 0xd183, 0x2340, 0x1040, 0x9a50, 0x73fa, 0x1, 0x0);
        gbc.writeMem(0x3a3b, { 0xbe });
        gbc.writeMem(0x73fa, { 0x4e });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xd183, gbc.sp());
        EXPECT(0x3a3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 023F
        gbc.setState(0x4326, 0xcb0d, 0xa610, 0x918a, 0x4eaa, 0x6994, 0x1, 0x1);
        gbc.writeMem(0x4326, { 0xbe });
        gbc.writeMem(0x6994, { 0x1f });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xcb0d, gbc.sp());
        EXPECT(0x4327, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0240
        gbc.setState(0x2fc3, 0x8212, 0x7b90, 0xd98d, 0xc3b2, 0xe1ea, 0x0, 0x0);
        gbc.writeMem(0x2fc3, { 0xbe });
        gbc.writeMem(0xe1ea, { 0x33 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x8212, gbc.sp());
        EXPECT(0x2fc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xe1ea));
        // BE 0241
        gbc.setState(0x7ec4, 0x6b1d, 0x3f30, 0x27c3, 0x700c, 0x564f, 0x0, 0x1);
        gbc.writeMem(0x564f, { 0x8a });
        gbc.writeMem(0x7ec4, { 0xbe });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x6b1d, gbc.sp());
        EXPECT(0x7ec5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0242
        gbc.setState(0xa63d, 0xebe8, 0xc570, 0x1c96, 0xdbe8, 0x6015, 0x1, 0x0);
        gbc.writeMem(0x6015, { 0x1d });
        gbc.writeMem(0xa63d, { 0xbe });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xebe8, gbc.sp());
        EXPECT(0xa63e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa63d));
        // BE 0243
        gbc.setState(0x7455, 0xfe46, 0x60e0, 0xa0a0, 0x5f45, 0x5415, 0x1, 0x1);
        gbc.writeMem(0x5415, { 0x4f });
        gbc.writeMem(0x7455, { 0xbe });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xfe46, gbc.sp());
        EXPECT(0x7456, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0245
        gbc.setState(0x519f, 0x7b39, 0x1410, 0x8fad, 0x6d73, 0x7cbb, 0x1, 0x0);
        gbc.writeMem(0x519f, { 0xbe });
        gbc.writeMem(0x7cbb, { 0xeb });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x7b39, gbc.sp());
        EXPECT(0x51a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0246
        gbc.setState(0xdea3, 0xc09c, 0xf7d0, 0xdbfb, 0xf8d1, 0xdea5, 0x1, 0x1);
        gbc.writeMem(0xdea3, { 0xbe });
        gbc.writeMem(0xdea5, { 0xe7 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xc09c, gbc.sp());
        EXPECT(0xdea4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdea3));
        EXPECT(0xe7, gbc.readMem(0xdea5));
        // BE 0247
        gbc.setState(0x430f, 0x2ad8, 0x7e40, 0x190e, 0x70c, 0x629f, 0x1, 0x0);
        gbc.writeMem(0x430f, { 0xbe });
        gbc.writeMem(0x629f, { 0x82 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x2ad8, gbc.sp());
        EXPECT(0x4310, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0248
        gbc.setState(0x73ba, 0xa106, 0x4fb0, 0xc36c, 0xc7e1, 0x645f, 0x0, 0x1);
        gbc.writeMem(0x645f, { 0xa5 });
        gbc.writeMem(0x73ba, { 0xbe });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xa106, gbc.sp());
        EXPECT(0x73bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0249
        gbc.setState(0x549a, 0xce2b, 0xf990, 0xf7ff, 0xaa03, 0x652d, 0x1, 0x1);
        gbc.writeMem(0x549a, { 0xbe });
        gbc.writeMem(0x652d, { 0xf });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xce2b, gbc.sp());
        EXPECT(0x549b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 024A
        gbc.setState(0x26be, 0x9d30, 0x6ea0, 0x7f40, 0x7793, 0xb646, 0x0, 0x0);
        gbc.writeMem(0x26be, { 0xbe });
        gbc.writeMem(0xb646, { 0x82 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x9d30, gbc.sp());
        EXPECT(0x26bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x82, gbc.readMem(0xb646));
        // BE 024B
        gbc.setState(0xb5, 0xe623, 0x21a0, 0x74c7, 0xceff, 0x7b24, 0x0, 0x1);
        gbc.writeMem(0xb5, { 0xbe });
        gbc.writeMem(0x7b24, { 0xdf });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xe623, gbc.sp());
        EXPECT(0xb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 024C
        gbc.setState(0xb778, 0xc38e, 0x3600, 0xdc43, 0xdae3, 0x1cac, 0x1, 0x1);
        gbc.writeMem(0x1cac, { 0x36 });
        gbc.writeMem(0xb778, { 0xbe });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xc38e, gbc.sp());
        EXPECT(0xb779, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb778));
        // BE 024D
        gbc.setState(0xd8d7, 0x8d69, 0xe620, 0x596b, 0x2d7b, 0x6187, 0x0, 0x1);
        gbc.writeMem(0x6187, { 0x74 });
        gbc.writeMem(0xd8d7, { 0xbe });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x8d69, gbc.sp());
        EXPECT(0xd8d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd8d7));
        // BE 024E
        gbc.setState(0x71db, 0xd05e, 0xb8f0, 0xcb02, 0x1f02, 0x4504, 0x0, 0x1);
        gbc.writeMem(0x4504, { 0x1e });
        gbc.writeMem(0x71db, { 0xbe });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xd05e, gbc.sp());
        EXPECT(0x71dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 024F
        gbc.setState(0xc1e1, 0x7c70, 0x3c50, 0xd14c, 0x1cb4, 0x922, 0x1, 0x0);
        gbc.writeMem(0x922, { 0x35 });
        gbc.writeMem(0xc1e1, { 0xbe });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x7c70, gbc.sp());
        EXPECT(0xc1e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc1e1));
        // BE 0250
        gbc.setState(0xb295, 0x95b5, 0x8500, 0x7603, 0xf577, 0x9f6e, 0x1, 0x0);
        gbc.writeMem(0x9f6e, { 0xe0 });
        gbc.writeMem(0xb295, { 0xbe });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x95b5, gbc.sp());
        EXPECT(0xb296, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe0, gbc.readMem(0x9f6e));
        EXPECT(0xbe, gbc.readMem(0xb295));
        // BE 0251
        gbc.setState(0xc3a7, 0x4aee, 0xbb50, 0x9e7c, 0x7f40, 0x7681, 0x1, 0x0);
        gbc.writeMem(0x7681, { 0xb0 });
        gbc.writeMem(0xc3a7, { 0xbe });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x4aee, gbc.sp());
        EXPECT(0xc3a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc3a7));
        // BE 0252
        gbc.setState(0xce36, 0x14ad, 0x1e10, 0x556, 0x5f3, 0x83a1, 0x1, 0x0);
        gbc.writeMem(0x83a1, { 0xc6 });
        gbc.writeMem(0xce36, { 0xbe });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x14ad, gbc.sp());
        EXPECT(0xce37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc6, gbc.readMem(0x83a1));
        EXPECT(0xbe, gbc.readMem(0xce36));
        // BE 0253
        gbc.setState(0x1a72, 0xc6f9, 0xe540, 0x27aa, 0x95af, 0x2c9d, 0x0, 0x0);
        gbc.writeMem(0x1a72, { 0xbe });
        gbc.writeMem(0x2c9d, { 0x81 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xc6f9, gbc.sp());
        EXPECT(0x1a73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0254
        gbc.setState(0x8d6d, 0xc04f, 0x8c10, 0xa0ee, 0x8853, 0xaa37, 0x0, 0x1);
        gbc.writeMem(0x8d6d, { 0xbe });
        gbc.writeMem(0xaa37, { 0xd5 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xc04f, gbc.sp());
        EXPECT(0x8d6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8d6d));
        EXPECT(0xd5, gbc.readMem(0xaa37));
        // BE 0255
        gbc.setState(0x63e8, 0xc436, 0x62e0, 0x5aa, 0xc18a, 0x36a5, 0x0, 0x1);
        gbc.writeMem(0x36a5, { 0x4f });
        gbc.writeMem(0x63e8, { 0xbe });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xc436, gbc.sp());
        EXPECT(0x63e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0256
        gbc.setState(0x892, 0xab53, 0x6ad0, 0xe3b7, 0x9e41, 0x8c43, 0x1, 0x1);
        gbc.writeMem(0x892, { 0xbe });
        gbc.writeMem(0x8c43, { 0xfa });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xab53, gbc.sp());
        EXPECT(0x893, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfa, gbc.readMem(0x8c43));
        // BE 0257
        gbc.setState(0x8429, 0xcb77, 0xc0, 0xf74c, 0xcdae, 0x4234, 0x0, 0x0);
        gbc.writeMem(0x4234, { 0x6c });
        gbc.writeMem(0x8429, { 0xbe });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xcb77, gbc.sp());
        EXPECT(0x842a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8429));
        // BE 0258
        gbc.setState(0x89a7, 0xcd02, 0x74d0, 0xb, 0x3277, 0xffa9, 0x1, 0x0);
        gbc.writeMem(0x89a7, { 0xbe });
        gbc.writeMem(0xffa9, { 0x61 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xcd02, gbc.sp());
        EXPECT(0x89a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x89a7));
        EXPECT(0x61, gbc.readMem(0xffa9));
        // BE 025C
        gbc.setState(0x8567, 0xd5c8, 0xd930, 0x3219, 0x4745, 0x8612, 0x1, 0x0);
        gbc.writeMem(0x8567, { 0xbe });
        gbc.writeMem(0x8612, { 0xca });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xd5c8, gbc.sp());
        EXPECT(0x8568, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8567));
        EXPECT(0xca, gbc.readMem(0x8612));
        // BE 025D
        gbc.setState(0x2565, 0x1db4, 0x37f0, 0xa599, 0x30a5, 0x3633, 0x1, 0x1);
        gbc.writeMem(0x2565, { 0xbe });
        gbc.writeMem(0x3633, { 0x65 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x1db4, gbc.sp());
        EXPECT(0x2566, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 025E
        gbc.setState(0xc42e, 0x87f2, 0x95a0, 0x11a6, 0x138c, 0x20, 0x1, 0x1);
        gbc.writeMem(0x20, { 0xe4 });
        gbc.writeMem(0xc42e, { 0xbe });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x87f2, gbc.sp());
        EXPECT(0xc42f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc42e));
        // BE 025F
        gbc.setState(0x2c94, 0x3ae5, 0x8d40, 0x1db8, 0x4ded, 0x2c8a, 0x0, 0x1);
        gbc.writeMem(0x2c8a, { 0x2e });
        gbc.writeMem(0x2c94, { 0xbe });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x3ae5, gbc.sp());
        EXPECT(0x2c95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0260
        gbc.setState(0xcd18, 0x4fc8, 0x8f40, 0xdd5b, 0x9325, 0xd4fe, 0x0, 0x0);
        gbc.writeMem(0xcd18, { 0xbe });
        gbc.writeMem(0xd4fe, { 0x46 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x4fc8, gbc.sp());
        EXPECT(0xcd19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xcd18));
        EXPECT(0x46, gbc.readMem(0xd4fe));
        // BE 0261
        gbc.setState(0xe685, 0xb5ac, 0xf7c0, 0xcaeb, 0xb107, 0x5e7b, 0x0, 0x1);
        gbc.writeMem(0x5e7b, { 0x9d });
        gbc.writeMem(0xe685, { 0xbe });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb5ac, gbc.sp());
        EXPECT(0xe686, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe685));
        // BE 0262
        gbc.setState(0xadba, 0x900, 0xd350, 0xa5a, 0xc207, 0xeae6, 0x0, 0x1);
        gbc.writeMem(0xadba, { 0xbe });
        gbc.writeMem(0xeae6, { 0x47 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x900, gbc.sp());
        EXPECT(0xadbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xadba));
        EXPECT(0x47, gbc.readMem(0xeae6));
        // BE 0263
        gbc.setState(0x3f87, 0x3eb0, 0xf940, 0xc8f7, 0x4408, 0x3058, 0x1, 0x1);
        gbc.writeMem(0x3058, { 0x52 });
        gbc.writeMem(0x3f87, { 0xbe });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x3eb0, gbc.sp());
        EXPECT(0x3f88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0264
        gbc.setState(0xb821, 0xe049, 0x6c50, 0xf76e, 0x611, 0x4b36, 0x0, 0x0);
        gbc.writeMem(0x4b36, { 0xfc });
        gbc.writeMem(0xb821, { 0xbe });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xe049, gbc.sp());
        EXPECT(0xb822, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb821));
        // BE 0265
        gbc.setState(0xe9de, 0xdbb8, 0xfa40, 0xc742, 0x91ad, 0xe06d, 0x1, 0x1);
        gbc.writeMem(0xe06d, { 0x13 });
        gbc.writeMem(0xe9de, { 0xbe });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xdbb8, gbc.sp());
        EXPECT(0xe9df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x13, gbc.readMem(0xe06d));
        EXPECT(0xbe, gbc.readMem(0xe9de));
        // BE 0266
        gbc.setState(0xdbdb, 0xe313, 0xb0f0, 0x13a6, 0x7038, 0x44be, 0x0, 0x0);
        gbc.writeMem(0x44be, { 0x37 });
        gbc.writeMem(0xdbdb, { 0xbe });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xe313, gbc.sp());
        EXPECT(0xdbdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdbdb));
        // BE 0267
        gbc.setState(0x8da1, 0x7dae, 0x83f0, 0x352a, 0x1a77, 0xee63, 0x0, 0x1);
        gbc.writeMem(0x8da1, { 0xbe });
        gbc.writeMem(0xee63, { 0x68 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x7dae, gbc.sp());
        EXPECT(0x8da2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8da1));
        EXPECT(0x68, gbc.readMem(0xee63));
        // BE 0268
        gbc.setState(0x59da, 0x7aab, 0xe060, 0x8a28, 0x2443, 0xd393, 0x1, 0x0);
        gbc.writeMem(0x59da, { 0xbe });
        gbc.writeMem(0xd393, { 0xcd });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x7aab, gbc.sp());
        EXPECT(0x59db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcd, gbc.readMem(0xd393));
        // BE 0269
        gbc.setState(0x8b2b, 0x79f4, 0xca90, 0xbf4c, 0x495d, 0xbfec, 0x0, 0x1);
        gbc.writeMem(0x8b2b, { 0xbe });
        gbc.writeMem(0xbfec, { 0xc3 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x79f4, gbc.sp());
        EXPECT(0x8b2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8b2b));
        EXPECT(0xc3, gbc.readMem(0xbfec));
        // BE 026A
        gbc.setState(0x74f6, 0x64e1, 0x7990, 0x55a1, 0x40e9, 0x5e98, 0x0, 0x1);
        gbc.writeMem(0x5e98, { 0x49 });
        gbc.writeMem(0x74f6, { 0xbe });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x64e1, gbc.sp());
        EXPECT(0x74f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 026B
        gbc.setState(0xd23e, 0xf735, 0xbc10, 0xc99c, 0xae4b, 0x1a79, 0x1, 0x0);
        gbc.writeMem(0x1a79, { 0xc1 });
        gbc.writeMem(0xd23e, { 0xbe });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xf735, gbc.sp());
        EXPECT(0xd23f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd23e));
        // BE 026C
        gbc.setState(0x2f33, 0xa60, 0x7420, 0xf932, 0x8b38, 0x206e, 0x0, 0x0);
        gbc.writeMem(0x206e, { 0x54 });
        gbc.writeMem(0x2f33, { 0xbe });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xa60, gbc.sp());
        EXPECT(0x2f34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 026F
        gbc.setState(0x5b69, 0x8d96, 0xeab0, 0xedc, 0xb380, 0xd5f7, 0x1, 0x0);
        gbc.writeMem(0x5b69, { 0xbe });
        gbc.writeMem(0xd5f7, { 0x2e });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x8d96, gbc.sp());
        EXPECT(0x5b6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2e, gbc.readMem(0xd5f7));
        // BE 0270
        gbc.setState(0x6803, 0x2e25, 0x8f0, 0x883c, 0xa78f, 0x4314, 0x0, 0x0);
        gbc.writeMem(0x4314, { 0x9 });
        gbc.writeMem(0x6803, { 0xbe });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x2e25, gbc.sp());
        EXPECT(0x6804, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0271
        gbc.setState(0x56b7, 0xd98e, 0xbae0, 0x28f6, 0x2690, 0x6779, 0x1, 0x0);
        gbc.writeMem(0x56b7, { 0xbe });
        gbc.writeMem(0x6779, { 0x18 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd98e, gbc.sp());
        EXPECT(0x56b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0272
        gbc.setState(0x3394, 0x432, 0x34e0, 0x4a4c, 0x71f0, 0x90fb, 0x0, 0x1);
        gbc.writeMem(0x3394, { 0xbe });
        gbc.writeMem(0x90fb, { 0x90 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x432, gbc.sp());
        EXPECT(0x3395, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x90fb));
        // BE 0273
        gbc.setState(0x9c01, 0x7d82, 0xbea0, 0xf01, 0x5834, 0x40a7, 0x0, 0x1);
        gbc.writeMem(0x40a7, { 0x7 });
        gbc.writeMem(0x9c01, { 0xbe });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x7d82, gbc.sp());
        EXPECT(0x9c02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9c01));
        // BE 0274
        gbc.setState(0x430b, 0xc9b9, 0xfc30, 0xeca5, 0xe4ab, 0xe54a, 0x1, 0x0);
        gbc.writeMem(0x430b, { 0xbe });
        gbc.writeMem(0xe54a, { 0x39 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xc9b9, gbc.sp());
        EXPECT(0x430c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x39, gbc.readMem(0xe54a));
        // BE 0275
        gbc.setState(0x53c5, 0xa2f6, 0xdc0, 0x1d4e, 0xd43e, 0x129c, 0x0, 0x1);
        gbc.writeMem(0x129c, { 0x97 });
        gbc.writeMem(0x53c5, { 0xbe });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xa2f6, gbc.sp());
        EXPECT(0x53c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0276
        gbc.setState(0x94f6, 0xb817, 0xcac0, 0xf8a1, 0xa28c, 0x9b78, 0x1, 0x0);
        gbc.writeMem(0x94f6, { 0xbe });
        gbc.writeMem(0x9b78, { 0x1e });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xb817, gbc.sp());
        EXPECT(0x94f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x94f6));
        EXPECT(0x1e, gbc.readMem(0x9b78));
        // BE 0277
        gbc.setState(0x9d77, 0xa2af, 0xa550, 0xf237, 0x66f4, 0x4127, 0x1, 0x1);
        gbc.writeMem(0x4127, { 0x31 });
        gbc.writeMem(0x9d77, { 0xbe });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xa2af, gbc.sp());
        EXPECT(0x9d78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9d77));
        // BE 0278
        gbc.setState(0xef20, 0x1617, 0x3720, 0xe0d4, 0x50fc, 0x67fd, 0x0, 0x0);
        gbc.writeMem(0x67fd, { 0x99 });
        gbc.writeMem(0xef20, { 0xbe });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x1617, gbc.sp());
        EXPECT(0xef21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xef20));
        // BE 0279
        gbc.setState(0xddfe, 0x5e5e, 0x7270, 0x3567, 0x3416, 0x8d2b, 0x0, 0x0);
        gbc.writeMem(0x8d2b, { 0x39 });
        gbc.writeMem(0xddfe, { 0xbe });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x5e5e, gbc.sp());
        EXPECT(0xddff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x39, gbc.readMem(0x8d2b));
        EXPECT(0xbe, gbc.readMem(0xddfe));
        // BE 027A
        gbc.setState(0xd106, 0xa7c9, 0x2480, 0x8065, 0x9c53, 0x542, 0x0, 0x1);
        gbc.writeMem(0x542, { 0x40 });
        gbc.writeMem(0xd106, { 0xbe });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xa7c9, gbc.sp());
        EXPECT(0xd107, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd106));
        // BE 027B
        gbc.setState(0x820b, 0x6686, 0x8ac0, 0x6958, 0xfc3a, 0x518d, 0x1, 0x0);
        gbc.writeMem(0x518d, { 0xc5 });
        gbc.writeMem(0x820b, { 0xbe });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x6686, gbc.sp());
        EXPECT(0x820c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x820b));
        // BE 027D
        gbc.setState(0x6c62, 0x8747, 0xc450, 0xc7f4, 0xd75d, 0x7268, 0x1, 0x0);
        gbc.writeMem(0x6c62, { 0xbe });
        gbc.writeMem(0x7268, { 0x7b });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8747, gbc.sp());
        EXPECT(0x6c63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0280
        gbc.setState(0x9dae, 0xdeeb, 0xed90, 0xae92, 0x5a7b, 0x1578, 0x0, 0x1);
        gbc.writeMem(0x1578, { 0x43 });
        gbc.writeMem(0x9dae, { 0xbe });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xdeeb, gbc.sp());
        EXPECT(0x9daf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9dae));
        // BE 0281
        gbc.setState(0x5855, 0x47d, 0x2800, 0x387c, 0xada7, 0xa05c, 0x1, 0x1);
        gbc.writeMem(0x5855, { 0xbe });
        gbc.writeMem(0xa05c, { 0xae });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x47d, gbc.sp());
        EXPECT(0x5856, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xae, gbc.readMem(0xa05c));
        // BE 0282
        gbc.setState(0xaaf7, 0xe11d, 0x50d0, 0x8f5f, 0x1637, 0x489e, 0x0, 0x1);
        gbc.writeMem(0x489e, { 0x4 });
        gbc.writeMem(0xaaf7, { 0xbe });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xe11d, gbc.sp());
        EXPECT(0xaaf8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaaf7));
        // BE 0283
        gbc.setState(0x1d90, 0xd475, 0x2950, 0x8bab, 0xd7ca, 0x9226, 0x0, 0x1);
        gbc.writeMem(0x1d90, { 0xbe });
        gbc.writeMem(0x9226, { 0x21 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xd475, gbc.sp());
        EXPECT(0x1d91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x21, gbc.readMem(0x9226));
        // BE 0284
        gbc.setState(0xa9b8, 0x7db6, 0xe1e0, 0xd285, 0x58ce, 0x5a24, 0x1, 0x1);
        gbc.writeMem(0x5a24, { 0x2b });
        gbc.writeMem(0xa9b8, { 0xbe });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x7db6, gbc.sp());
        EXPECT(0xa9b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa9b8));
        // BE 0285
        gbc.setState(0xbf89, 0x5ad5, 0xd010, 0x68a8, 0x5b48, 0x25c9, 0x0, 0x1);
        gbc.writeMem(0x25c9, { 0xd });
        gbc.writeMem(0xbf89, { 0xbe });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x5ad5, gbc.sp());
        EXPECT(0xbf8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbf89));
        // BE 0286
        gbc.setState(0xdb7c, 0x3009, 0x8ac0, 0xaa9e, 0xf5e, 0x99d0, 0x0, 0x0);
        gbc.writeMem(0x99d0, { 0xf2 });
        gbc.writeMem(0xdb7c, { 0xbe });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x3009, gbc.sp());
        EXPECT(0xdb7d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf2, gbc.readMem(0x99d0));
        EXPECT(0xbe, gbc.readMem(0xdb7c));
        // BE 0289
        gbc.setState(0x1f2, 0xc0e, 0x76b0, 0x248f, 0x7502, 0xe607, 0x1, 0x0);
        gbc.writeMem(0x1f2, { 0xbe });
        gbc.writeMem(0xe607, { 0xfb });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xc0e, gbc.sp());
        EXPECT(0x1f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe607));
        // BE 028A
        gbc.setState(0xd941, 0x7e1, 0xd170, 0x80ac, 0x24e2, 0xd375, 0x1, 0x0);
        gbc.writeMem(0xd375, { 0x9e });
        gbc.writeMem(0xd941, { 0xbe });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x7e1, gbc.sp());
        EXPECT(0xd942, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9e, gbc.readMem(0xd375));
        EXPECT(0xbe, gbc.readMem(0xd941));
        // BE 028B
        gbc.setState(0x57c, 0x66c0, 0x9ec0, 0x5013, 0xd886, 0x3bce, 0x1, 0x1);
        gbc.writeMem(0x57c, { 0xbe });
        gbc.writeMem(0x3bce, { 0xbf });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x66c0, gbc.sp());
        EXPECT(0x57d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 028C
        gbc.setState(0x8487, 0xb641, 0x31f0, 0xfa44, 0x6b9, 0xc78c, 0x1, 0x1);
        gbc.writeMem(0x8487, { 0xbe });
        gbc.writeMem(0xc78c, { 0x5c });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xb641, gbc.sp());
        EXPECT(0x8488, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8487));
        EXPECT(0x5c, gbc.readMem(0xc78c));
        // BE 028D
        gbc.setState(0xe069, 0xd35b, 0x77d0, 0xdddf, 0xca88, 0x64d8, 0x1, 0x0);
        gbc.writeMem(0x64d8, { 0xff });
        gbc.writeMem(0xe069, { 0xbe });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xd35b, gbc.sp());
        EXPECT(0xe06a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe069));
        // BE 028E
        gbc.setState(0x4e2b, 0xc324, 0xde0, 0xa7fd, 0x7116, 0x936a, 0x0, 0x0);
        gbc.writeMem(0x4e2b, { 0xbe });
        gbc.writeMem(0x936a, { 0xfd });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xc324, gbc.sp());
        EXPECT(0x4e2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfd, gbc.readMem(0x936a));
        // BE 028F
        gbc.setState(0xbe08, 0xf016, 0x6830, 0xc2f6, 0x1343, 0x34ca, 0x0, 0x0);
        gbc.writeMem(0x34ca, { 0x9a });
        gbc.writeMem(0xbe08, { 0xbe });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xf016, gbc.sp());
        EXPECT(0xbe09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbe08));
        // BE 0290
        gbc.setState(0x9ca4, 0xbfa3, 0xd7c0, 0x2d43, 0xf846, 0x37ac, 0x0, 0x0);
        gbc.writeMem(0x37ac, { 0x6a });
        gbc.writeMem(0x9ca4, { 0xbe });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xbfa3, gbc.sp());
        EXPECT(0x9ca5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9ca4));
        // BE 0291
        gbc.setState(0x523d, 0x99b5, 0x40e0, 0xf858, 0xf558, 0xc184, 0x0, 0x1);
        gbc.writeMem(0x523d, { 0xbe });
        gbc.writeMem(0xc184, { 0xe2 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x99b5, gbc.sp());
        EXPECT(0x523e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe2, gbc.readMem(0xc184));
        // BE 0292
        gbc.setState(0x50d3, 0xb4b4, 0x1dc0, 0xe8ef, 0xa603, 0x3db5, 0x0, 0x1);
        gbc.writeMem(0x3db5, { 0x24 });
        gbc.writeMem(0x50d3, { 0xbe });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xb4b4, gbc.sp());
        EXPECT(0x50d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0293
        gbc.setState(0x463a, 0xc89d, 0x6d40, 0x9c61, 0xb88a, 0x2990, 0x0, 0x0);
        gbc.writeMem(0x2990, { 0x0 });
        gbc.writeMem(0x463a, { 0xbe });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xc89d, gbc.sp());
        EXPECT(0x463b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0294
        gbc.setState(0x32a, 0x412a, 0x9320, 0x8512, 0xe920, 0xfdc, 0x0, 0x0);
        gbc.writeMem(0x32a, { 0xbe });
        gbc.writeMem(0xfdc, { 0x64 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x412a, gbc.sp());
        EXPECT(0x32b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0295
        gbc.setState(0x214e, 0xcdef, 0xb820, 0x569b, 0x25fd, 0xe356, 0x0, 0x0);
        gbc.writeMem(0x214e, { 0xbe });
        gbc.writeMem(0xe356, { 0x23 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xcdef, gbc.sp());
        EXPECT(0x214f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x23, gbc.readMem(0xe356));
        // BE 0296
        gbc.setState(0x9330, 0x9662, 0x1ba0, 0x656, 0x84c2, 0xfc36, 0x1, 0x1);
        gbc.writeMem(0x9330, { 0xbe });
        gbc.writeMem(0xfc36, { 0xfd });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x9662, gbc.sp());
        EXPECT(0x9331, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9330));
        EXPECT(0xfd, gbc.readMem(0xfc36));
        // BE 0297
        gbc.setState(0xdab6, 0x2f08, 0xdd0, 0x97f1, 0xb576, 0xe4e, 0x0, 0x1);
        gbc.writeMem(0xe4e, { 0x5a });
        gbc.writeMem(0xdab6, { 0xbe });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x2f08, gbc.sp());
        EXPECT(0xdab7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdab6));
        // BE 0298
        gbc.setState(0x584c, 0x932e, 0x8f50, 0x96b8, 0x2d74, 0x1c63, 0x0, 0x0);
        gbc.writeMem(0x1c63, { 0x4 });
        gbc.writeMem(0x584c, { 0xbe });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x932e, gbc.sp());
        EXPECT(0x584d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0299
        gbc.setState(0x2780, 0x32d2, 0xdcd0, 0x27d8, 0xfa63, 0x238c, 0x0, 0x1);
        gbc.writeMem(0x238c, { 0xff });
        gbc.writeMem(0x2780, { 0xbe });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x32d2, gbc.sp());
        EXPECT(0x2781, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 029A
        gbc.setState(0x3e2d, 0x3397, 0x6bb0, 0xab4f, 0xa16b, 0x39c0, 0x0, 0x1);
        gbc.writeMem(0x39c0, { 0x28 });
        gbc.writeMem(0x3e2d, { 0xbe });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x3397, gbc.sp());
        EXPECT(0x3e2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 029B
        gbc.setState(0x3547, 0x1265, 0x4ea0, 0x92c9, 0x1eab, 0xad58, 0x0, 0x0);
        gbc.writeMem(0x3547, { 0xbe });
        gbc.writeMem(0xad58, { 0xa4 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x1265, gbc.sp());
        EXPECT(0x3548, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xad58));
        // BE 029C
        gbc.setState(0x50ea, 0xc6e5, 0x3450, 0xabd7, 0x7d8d, 0x92ca, 0x1, 0x1);
        gbc.writeMem(0x50ea, { 0xbe });
        gbc.writeMem(0x92ca, { 0x2e });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xc6e5, gbc.sp());
        EXPECT(0x50eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2e, gbc.readMem(0x92ca));
        // BE 029D
        gbc.setState(0x35c8, 0x2d3f, 0x34a0, 0xe145, 0xe7b9, 0xb168, 0x1, 0x1);
        gbc.writeMem(0x35c8, { 0xbe });
        gbc.writeMem(0xb168, { 0x77 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x2d3f, gbc.sp());
        EXPECT(0x35c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0xb168));
        // BE 029E
        gbc.setState(0x81ac, 0x3b43, 0x8720, 0xdf77, 0x5ff4, 0xdb85, 0x0, 0x0);
        gbc.writeMem(0x81ac, { 0xbe });
        gbc.writeMem(0xdb85, { 0xbd });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x3b43, gbc.sp());
        EXPECT(0x81ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x81ac));
        EXPECT(0xbd, gbc.readMem(0xdb85));
        // BE 029F
        gbc.setState(0xbfb1, 0x4623, 0x2ef0, 0x1503, 0x5430, 0x7578, 0x0, 0x0);
        gbc.writeMem(0x7578, { 0xc3 });
        gbc.writeMem(0xbfb1, { 0xbe });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x4623, gbc.sp());
        EXPECT(0xbfb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbfb1));
        // BE 02A0
        gbc.setState(0x841d, 0xd96a, 0xd450, 0xa22a, 0xad02, 0x9ca2, 0x1, 0x1);
        gbc.writeMem(0x841d, { 0xbe });
        gbc.writeMem(0x9ca2, { 0xd8 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xd96a, gbc.sp());
        EXPECT(0x841e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x841d));
        EXPECT(0xd8, gbc.readMem(0x9ca2));
        // BE 02A2
        gbc.setState(0x3f20, 0xbcd0, 0x3c40, 0x5dff, 0x9af5, 0x9764, 0x0, 0x0);
        gbc.writeMem(0x3f20, { 0xbe });
        gbc.writeMem(0x9764, { 0x21 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbcd0, gbc.sp());
        EXPECT(0x3f21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x21, gbc.readMem(0x9764));
        // BE 02A3
        gbc.setState(0x9e32, 0x4de2, 0x7f40, 0x792b, 0xd9a, 0x2f5a, 0x1, 0x1);
        gbc.writeMem(0x2f5a, { 0x5e });
        gbc.writeMem(0x9e32, { 0xbe });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x4de2, gbc.sp());
        EXPECT(0x9e33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9e32));
        // BE 02A4
        gbc.setState(0x46e3, 0x80b8, 0xe2e0, 0x1f4f, 0x8e30, 0x6c7d, 0x1, 0x1);
        gbc.writeMem(0x46e3, { 0xbe });
        gbc.writeMem(0x6c7d, { 0x7e });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x80b8, gbc.sp());
        EXPECT(0x46e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02A5
        gbc.setState(0xd254, 0x12c8, 0x1bf0, 0xced1, 0x8593, 0x6c24, 0x0, 0x0);
        gbc.writeMem(0x6c24, { 0xaf });
        gbc.writeMem(0xd254, { 0xbe });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x12c8, gbc.sp());
        EXPECT(0xd255, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd254));
        // BE 02A6
        gbc.setState(0x3433, 0x942d, 0x8690, 0x5cc1, 0x3f87, 0x5f8d, 0x0, 0x0);
        gbc.writeMem(0x3433, { 0xbe });
        gbc.writeMem(0x5f8d, { 0x60 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x942d, gbc.sp());
        EXPECT(0x3434, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02A7
        gbc.setState(0x1ac2, 0x3b8f, 0xc80, 0x1fdb, 0x4704, 0xfef8, 0x1, 0x0);
        gbc.writeMem(0x1ac2, { 0xbe });
        gbc.writeMem(0xfef8, { 0xef });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x3b8f, gbc.sp());
        EXPECT(0x1ac3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xef, gbc.readMem(0xfef8));
        // BE 02A8
        gbc.setState(0x7c75, 0x1c15, 0x840, 0x5a91, 0x3716, 0xc827, 0x1, 0x0);
        gbc.writeMem(0x7c75, { 0xbe });
        gbc.writeMem(0xc827, { 0xd0 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x1c15, gbc.sp());
        EXPECT(0x7c76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0xc827));
        // BE 02A9
        gbc.setState(0x8215, 0x1003, 0x5c70, 0x40f7, 0xcb23, 0x2f7c, 0x1, 0x0);
        gbc.writeMem(0x2f7c, { 0x0 });
        gbc.writeMem(0x8215, { 0xbe });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x1003, gbc.sp());
        EXPECT(0x8216, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8215));
        // BE 02AA
        gbc.setState(0x76e1, 0xc388, 0x1320, 0x356d, 0xeeab, 0x3e28, 0x1, 0x0);
        gbc.writeMem(0x3e28, { 0x83 });
        gbc.writeMem(0x76e1, { 0xbe });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xc388, gbc.sp());
        EXPECT(0x76e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02AB
        gbc.setState(0x923f, 0x7b3f, 0x8a00, 0xb08b, 0x91f7, 0x5148, 0x0, 0x1);
        gbc.writeMem(0x5148, { 0x53 });
        gbc.writeMem(0x923f, { 0xbe });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x7b3f, gbc.sp());
        EXPECT(0x9240, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x923f));
        // BE 02AC
        gbc.setState(0x6ffe, 0x5bba, 0x6f70, 0xfe13, 0xa9f, 0x1cea, 0x0, 0x1);
        gbc.writeMem(0x1cea, { 0x75 });
        gbc.writeMem(0x6ffe, { 0xbe });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x5bba, gbc.sp());
        EXPECT(0x6fff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02AD
        gbc.setState(0x375a, 0x8b, 0x68d0, 0x3cdb, 0x6f3c, 0x2a45, 0x0, 0x1);
        gbc.writeMem(0x2a45, { 0x29 });
        gbc.writeMem(0x375a, { 0xbe });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x8b, gbc.sp());
        EXPECT(0x375b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02AE
        gbc.setState(0x952c, 0xe89d, 0x73f0, 0xc2c3, 0x9e9b, 0xf3fc, 0x0, 0x0);
        gbc.writeMem(0x952c, { 0xbe });
        gbc.writeMem(0xf3fc, { 0x3c });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xe89d, gbc.sp());
        EXPECT(0x952d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x952c));
        EXPECT(0x3c, gbc.readMem(0xf3fc));
        // BE 02AF
        gbc.setState(0x10de, 0x19f5, 0xd1b0, 0xbe75, 0xaadb, 0x9ced, 0x0, 0x0);
        gbc.writeMem(0x10de, { 0xbe });
        gbc.writeMem(0x9ced, { 0x3b });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x19f5, gbc.sp());
        EXPECT(0x10df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3b, gbc.readMem(0x9ced));
        // BE 02B0
        gbc.setState(0x9604, 0x70a7, 0x9510, 0x7b2b, 0xf754, 0x4228, 0x1, 0x0);
        gbc.writeMem(0x4228, { 0x2e });
        gbc.writeMem(0x9604, { 0xbe });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x70a7, gbc.sp());
        EXPECT(0x9605, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9604));
        // BE 02B1
        gbc.setState(0xe914, 0xcd06, 0x2a80, 0xa1e4, 0xf3a4, 0xd5ee, 0x1, 0x0);
        gbc.writeMem(0xd5ee, { 0x69 });
        gbc.writeMem(0xe914, { 0xbe });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xcd06, gbc.sp());
        EXPECT(0xe915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x69, gbc.readMem(0xd5ee));
        EXPECT(0xbe, gbc.readMem(0xe914));
        // BE 02B2
        gbc.setState(0x8abd, 0xc4a3, 0x5e00, 0x94b1, 0x1f03, 0x5c1f, 0x1, 0x0);
        gbc.writeMem(0x5c1f, { 0x32 });
        gbc.writeMem(0x8abd, { 0xbe });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xc4a3, gbc.sp());
        EXPECT(0x8abe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8abd));
        // BE 02B3
        gbc.setState(0x5f50, 0xea04, 0x3fe0, 0xbc8b, 0x5b3b, 0xdd26, 0x0, 0x0);
        gbc.writeMem(0x5f50, { 0xbe });
        gbc.writeMem(0xdd26, { 0x62 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xea04, gbc.sp());
        EXPECT(0x5f51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x62, gbc.readMem(0xdd26));
        // BE 02B4
        gbc.setState(0x1c35, 0xb38a, 0x7c40, 0x9c62, 0x15f5, 0xab91, 0x1, 0x0);
        gbc.writeMem(0x1c35, { 0xbe });
        gbc.writeMem(0xab91, { 0x14 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xb38a, gbc.sp());
        EXPECT(0x1c36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x14, gbc.readMem(0xab91));
        // BE 02B5
        gbc.setState(0xb384, 0x7928, 0x24a0, 0x416a, 0xd36b, 0xf217, 0x0, 0x1);
        gbc.writeMem(0xb384, { 0xbe });
        gbc.writeMem(0xf217, { 0xc9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x7928, gbc.sp());
        EXPECT(0xb385, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb384));
        EXPECT(0xc9, gbc.readMem(0xf217));
        // BE 02B6
        gbc.setState(0xe100, 0x2406, 0x6d0, 0x5dab, 0x298b, 0x7dfd, 0x0, 0x1);
        gbc.writeMem(0x7dfd, { 0x91 });
        gbc.writeMem(0xe100, { 0xbe });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x2406, gbc.sp());
        EXPECT(0xe101, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe100));
        // BE 02B7
        gbc.setState(0x37bc, 0x25c0, 0xca70, 0xd54d, 0x876f, 0xb0e8, 0x0, 0x0);
        gbc.writeMem(0x37bc, { 0xbe });
        gbc.writeMem(0xb0e8, { 0x92 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x25c0, gbc.sp());
        EXPECT(0x37bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0xb0e8));
        // BE 02B8
        gbc.setState(0x8b8, 0x9d01, 0x6e90, 0xbef0, 0xff51, 0x1247, 0x0, 0x0);
        gbc.writeMem(0x8b8, { 0xbe });
        gbc.writeMem(0x1247, { 0xc1 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x9d01, gbc.sp());
        EXPECT(0x8b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02B9
        gbc.setState(0x4e7d, 0xe35, 0xfa20, 0x67cc, 0xd4f4, 0x87cd, 0x0, 0x1);
        gbc.writeMem(0x4e7d, { 0xbe });
        gbc.writeMem(0x87cd, { 0x49 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xe35, gbc.sp());
        EXPECT(0x4e7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x49, gbc.readMem(0x87cd));
        // BE 02BA
        gbc.setState(0x4006, 0xf849, 0x7930, 0xd64b, 0xa98e, 0x7392, 0x0, 0x0);
        gbc.writeMem(0x4006, { 0xbe });
        gbc.writeMem(0x7392, { 0x10 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xf849, gbc.sp());
        EXPECT(0x4007, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02BB
        gbc.setState(0xe6a3, 0xd887, 0x97c0, 0x61b1, 0x1fa, 0xf7ac, 0x1, 0x0);
        gbc.writeMem(0xe6a3, { 0xbe });
        gbc.writeMem(0xf7ac, { 0x73 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xd887, gbc.sp());
        EXPECT(0xe6a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe6a3));
        EXPECT(0x73, gbc.readMem(0xf7ac));
        // BE 02BC
        gbc.setState(0xc36a, 0x3c05, 0xe460, 0x147, 0xafb3, 0x81d1, 0x1, 0x0);
        gbc.writeMem(0x81d1, { 0x43 });
        gbc.writeMem(0xc36a, { 0xbe });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x3c05, gbc.sp());
        EXPECT(0xc36b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x43, gbc.readMem(0x81d1));
        EXPECT(0xbe, gbc.readMem(0xc36a));
        // BE 02BD
        gbc.setState(0x467c, 0x5ffb, 0x1610, 0x3706, 0x11d5, 0x56f3, 0x0, 0x1);
        gbc.writeMem(0x467c, { 0xbe });
        gbc.writeMem(0x56f3, { 0x59 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x5ffb, gbc.sp());
        EXPECT(0x467d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02BE
        gbc.setState(0xb6da, 0xa7fa, 0xf350, 0xdadc, 0x95dc, 0xb40f, 0x1, 0x0);
        gbc.writeMem(0xb40f, { 0x54 });
        gbc.writeMem(0xb6da, { 0xbe });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xa7fa, gbc.sp());
        EXPECT(0xb6db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb40f));
        EXPECT(0xbe, gbc.readMem(0xb6da));
        // BE 02BF
        gbc.setState(0xb34, 0x5fb2, 0x9140, 0xd146, 0x3158, 0xdc2d, 0x0, 0x1);
        gbc.writeMem(0xb34, { 0xbe });
        gbc.writeMem(0xdc2d, { 0xf8 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x5fb2, gbc.sp());
        EXPECT(0xb35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf8, gbc.readMem(0xdc2d));
        // BE 02C0
        gbc.setState(0x6dd, 0x1ceb, 0xb360, 0xd97a, 0x20d4, 0xfc12, 0x0, 0x0);
        gbc.writeMem(0x6dd, { 0xbe });
        gbc.writeMem(0xfc12, { 0xd8 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x1ceb, gbc.sp());
        EXPECT(0x6de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd8, gbc.readMem(0xfc12));
        // BE 02C1
        gbc.setState(0x1c42, 0xb993, 0x4140, 0xf589, 0xe6bd, 0xdd3d, 0x0, 0x0);
        gbc.writeMem(0x1c42, { 0xbe });
        gbc.writeMem(0xdd3d, { 0x7a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xb993, gbc.sp());
        EXPECT(0x1c43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7a, gbc.readMem(0xdd3d));
        // BE 02C2
        gbc.setState(0x7cc1, 0xd8b2, 0x7fc0, 0x3d15, 0x9b28, 0x580f, 0x0, 0x0);
        gbc.writeMem(0x580f, { 0x49 });
        gbc.writeMem(0x7cc1, { 0xbe });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xd8b2, gbc.sp());
        EXPECT(0x7cc2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02C3
        gbc.setState(0x6be6, 0xc9c0, 0xb990, 0xabbb, 0x3491, 0xc258, 0x1, 0x1);
        gbc.writeMem(0x6be6, { 0xbe });
        gbc.writeMem(0xc258, { 0x97 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc9c0, gbc.sp());
        EXPECT(0x6be7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x97, gbc.readMem(0xc258));
        // BE 02C4
        gbc.setState(0xc93f, 0x453e, 0x3310, 0x4486, 0xe055, 0x4b35, 0x0, 0x1);
        gbc.writeMem(0x4b35, { 0xa2 });
        gbc.writeMem(0xc93f, { 0xbe });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x453e, gbc.sp());
        EXPECT(0xc940, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc93f));
        // BE 02C5
        gbc.setState(0x1f3, 0xb18a, 0xcf30, 0xddfe, 0x9f94, 0xc0ab, 0x1, 0x1);
        gbc.writeMem(0x1f3, { 0xbe });
        gbc.writeMem(0xc0ab, { 0x2e });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xb18a, gbc.sp());
        EXPECT(0x1f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2e, gbc.readMem(0xc0ab));
        // BE 02C6
        gbc.setState(0xd907, 0xa595, 0x3f30, 0x359a, 0x1b84, 0xac7, 0x0, 0x0);
        gbc.writeMem(0xac7, { 0x6c });
        gbc.writeMem(0xd907, { 0xbe });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xa595, gbc.sp());
        EXPECT(0xd908, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd907));
        // BE 02C7
        gbc.setState(0xd749, 0x1058, 0xee30, 0xdd0b, 0xcc7d, 0x654e, 0x0, 0x0);
        gbc.writeMem(0x654e, { 0x5d });
        gbc.writeMem(0xd749, { 0xbe });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x1058, gbc.sp());
        EXPECT(0xd74a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd749));
        // BE 02C8
        gbc.setState(0x3e94, 0xf371, 0xd350, 0xccd6, 0xf43, 0xb333, 0x1, 0x0);
        gbc.writeMem(0x3e94, { 0xbe });
        gbc.writeMem(0xb333, { 0x72 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xf371, gbc.sp());
        EXPECT(0x3e95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x72, gbc.readMem(0xb333));
        // BE 02C9
        gbc.setState(0xeca1, 0x1717, 0xeae0, 0x603a, 0x78ab, 0x28e2, 0x0, 0x0);
        gbc.writeMem(0x28e2, { 0xcb });
        gbc.writeMem(0xeca1, { 0xbe });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x1717, gbc.sp());
        EXPECT(0xeca2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xeca1));
        // BE 02CA
        gbc.setState(0x651f, 0x6863, 0x16f0, 0xd7ed, 0x4d48, 0xa733, 0x0, 0x0);
        gbc.writeMem(0x651f, { 0xbe });
        gbc.writeMem(0xa733, { 0x2d });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x6863, gbc.sp());
        EXPECT(0x6520, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x2d, gbc.readMem(0xa733));
        // BE 02CB
        gbc.setState(0x1e5a, 0x8e4b, 0xf0f0, 0xce25, 0x32b6, 0xc640, 0x0, 0x1);
        gbc.writeMem(0x1e5a, { 0xbe });
        gbc.writeMem(0xc640, { 0x3d });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x8e4b, gbc.sp());
        EXPECT(0x1e5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3d, gbc.readMem(0xc640));
        // BE 02CD
        gbc.setState(0xb5a4, 0xa112, 0xee60, 0x8d91, 0x8cd9, 0x945, 0x1, 0x0);
        gbc.writeMem(0x945, { 0xc4 });
        gbc.writeMem(0xb5a4, { 0xbe });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xa112, gbc.sp());
        EXPECT(0xb5a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb5a4));
        // BE 02CE
        gbc.setState(0x576b, 0x1529, 0x4de0, 0xa43, 0xea4, 0xe835, 0x0, 0x0);
        gbc.writeMem(0x576b, { 0xbe });
        gbc.writeMem(0xe835, { 0xbf });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x1529, gbc.sp());
        EXPECT(0x576c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbf, gbc.readMem(0xe835));
        // BE 02CF
        gbc.setState(0xe14e, 0x5c33, 0xb0, 0xd5a0, 0x1216, 0x35b6, 0x0, 0x0);
        gbc.writeMem(0x35b6, { 0x7c });
        gbc.writeMem(0xe14e, { 0xbe });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x5c33, gbc.sp());
        EXPECT(0xe14f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe14e));
        // BE 02D0
        gbc.setState(0x8a9d, 0x9918, 0xfed0, 0x2812, 0xe4b0, 0xa0a6, 0x1, 0x1);
        gbc.writeMem(0x8a9d, { 0xbe });
        gbc.writeMem(0xa0a6, { 0x7d });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x9918, gbc.sp());
        EXPECT(0x8a9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8a9d));
        EXPECT(0x7d, gbc.readMem(0xa0a6));
        // BE 02D1
        gbc.setState(0x3717, 0xb547, 0x190, 0xdced, 0x5de5, 0x763d, 0x1, 0x0);
        gbc.writeMem(0x3717, { 0xbe });
        gbc.writeMem(0x763d, { 0x52 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xb547, gbc.sp());
        EXPECT(0x3718, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02D2
        gbc.setState(0x8b84, 0x36e4, 0xe320, 0x5640, 0x3be6, 0xa292, 0x0, 0x1);
        gbc.writeMem(0x8b84, { 0xbe });
        gbc.writeMem(0xa292, { 0x3a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x36e4, gbc.sp());
        EXPECT(0x8b85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8b84));
        EXPECT(0x3a, gbc.readMem(0xa292));
        // BE 02D3
        gbc.setState(0x424a, 0x944, 0xd360, 0xbce3, 0x9089, 0xee4b, 0x1, 0x0);
        gbc.writeMem(0x424a, { 0xbe });
        gbc.writeMem(0xee4b, { 0xde });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x944, gbc.sp());
        EXPECT(0x424b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xde, gbc.readMem(0xee4b));
        // BE 02D4
        gbc.setState(0xbc87, 0x3b42, 0x72b0, 0xb580, 0x72f4, 0xb4ea, 0x1, 0x0);
        gbc.writeMem(0xb4ea, { 0x47 });
        gbc.writeMem(0xbc87, { 0xbe });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x3b42, gbc.sp());
        EXPECT(0xbc88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x47, gbc.readMem(0xb4ea));
        EXPECT(0xbe, gbc.readMem(0xbc87));
        // BE 02D5
        gbc.setState(0x604f, 0x83ce, 0x43d0, 0xa9f0, 0x7a0b, 0x6dc, 0x0, 0x0);
        gbc.writeMem(0x6dc, { 0xb1 });
        gbc.writeMem(0x604f, { 0xbe });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x83ce, gbc.sp());
        EXPECT(0x6050, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02D6
        gbc.setState(0xa8bf, 0x1959, 0xfc80, 0xcd68, 0x2570, 0x3b96, 0x1, 0x0);
        gbc.writeMem(0x3b96, { 0x6b });
        gbc.writeMem(0xa8bf, { 0xbe });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x1959, gbc.sp());
        EXPECT(0xa8c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa8bf));
        // BE 02D7
        gbc.setState(0x1130, 0xb6a, 0x63e0, 0x5115, 0x2aa5, 0x3f2d, 0x1, 0x0);
        gbc.writeMem(0x1130, { 0xbe });
        gbc.writeMem(0x3f2d, { 0x32 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xb6a, gbc.sp());
        EXPECT(0x1131, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02D8
        gbc.setState(0x286c, 0x917d, 0x9900, 0x43ca, 0x641f, 0x4061, 0x1, 0x1);
        gbc.writeMem(0x286c, { 0xbe });
        gbc.writeMem(0x4061, { 0xb1 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x917d, gbc.sp());
        EXPECT(0x286d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02D9
        gbc.setState(0x756a, 0xde9e, 0x72b0, 0x7fce, 0x63f9, 0x44cf, 0x1, 0x0);
        gbc.writeMem(0x44cf, { 0x2a });
        gbc.writeMem(0x756a, { 0xbe });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xde9e, gbc.sp());
        EXPECT(0x756b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02DA
        gbc.setState(0xa557, 0xd4b4, 0xa140, 0xd9f8, 0xc026, 0x79a0, 0x1, 0x0);
        gbc.writeMem(0x79a0, { 0xf0 });
        gbc.writeMem(0xa557, { 0xbe });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xd4b4, gbc.sp());
        EXPECT(0xa558, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa557));
        // BE 02DC
        gbc.setState(0x8d5, 0x88fb, 0xda50, 0x9f9e, 0xaa2b, 0xcb25, 0x0, 0x1);
        gbc.writeMem(0x8d5, { 0xbe });
        gbc.writeMem(0xcb25, { 0x4d });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x88fb, gbc.sp());
        EXPECT(0x8d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4d, gbc.readMem(0xcb25));
        // BE 02DD
        gbc.setState(0xbe5e, 0x835b, 0x9a50, 0x6334, 0x9d76, 0xb65e, 0x1, 0x1);
        gbc.writeMem(0xb65e, { 0x8f });
        gbc.writeMem(0xbe5e, { 0xbe });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x835b, gbc.sp());
        EXPECT(0xbe5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8f, gbc.readMem(0xb65e));
        EXPECT(0xbe, gbc.readMem(0xbe5e));
        // BE 02DE
        gbc.setState(0x30ef, 0x9bcd, 0xe240, 0x575e, 0xeae2, 0x7254, 0x1, 0x0);
        gbc.writeMem(0x30ef, { 0xbe });
        gbc.writeMem(0x7254, { 0x58 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x9bcd, gbc.sp());
        EXPECT(0x30f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02DF
        gbc.setState(0xa4fb, 0x72d0, 0x5fa0, 0xfdc1, 0xb2bd, 0xfb8, 0x0, 0x0);
        gbc.writeMem(0xfb8, { 0x1a });
        gbc.writeMem(0xa4fb, { 0xbe });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x72d0, gbc.sp());
        EXPECT(0xa4fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa4fb));
        // BE 02E0
        gbc.setState(0xa17a, 0x4b51, 0x23b0, 0xebf9, 0x88ea, 0x9c02, 0x1, 0x0);
        gbc.writeMem(0x9c02, { 0x2b });
        gbc.writeMem(0xa17a, { 0xbe });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x4b51, gbc.sp());
        EXPECT(0xa17b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x2b, gbc.readMem(0x9c02));
        EXPECT(0xbe, gbc.readMem(0xa17a));
        // BE 02E1
        gbc.setState(0xb1f1, 0xdb41, 0xc200, 0x82ab, 0x89a, 0xcc41, 0x1, 0x1);
        gbc.writeMem(0xb1f1, { 0xbe });
        gbc.writeMem(0xcc41, { 0x42 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xdb41, gbc.sp());
        EXPECT(0xb1f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb1f1));
        EXPECT(0x42, gbc.readMem(0xcc41));
        // BE 02E2
        gbc.setState(0xafdb, 0xf558, 0x24a0, 0xe4c2, 0x853b, 0xcefb, 0x0, 0x1);
        gbc.writeMem(0xafdb, { 0xbe });
        gbc.writeMem(0xcefb, { 0x3a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xf558, gbc.sp());
        EXPECT(0xafdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xafdb));
        EXPECT(0x3a, gbc.readMem(0xcefb));
        // BE 02E3
        gbc.setState(0xe8eb, 0xfeb3, 0xa1b0, 0x7e09, 0xde35, 0x1f9, 0x1, 0x0);
        gbc.writeMem(0x1f9, { 0xb4 });
        gbc.writeMem(0xe8eb, { 0xbe });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xfeb3, gbc.sp());
        EXPECT(0xe8ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe8eb));
        // BE 02E4
        gbc.setState(0xdc9c, 0x2aba, 0xe150, 0x4c5b, 0x1c98, 0x49b0, 0x0, 0x1);
        gbc.writeMem(0x49b0, { 0xf1 });
        gbc.writeMem(0xdc9c, { 0xbe });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x2aba, gbc.sp());
        EXPECT(0xdc9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdc9c));
        // BE 02E5
        gbc.setState(0x4dea, 0xf3f, 0x2740, 0xedd8, 0x3e7e, 0xccf9, 0x0, 0x0);
        gbc.writeMem(0x4dea, { 0xbe });
        gbc.writeMem(0xccf9, { 0xbd });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xf3f, gbc.sp());
        EXPECT(0x4deb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbd, gbc.readMem(0xccf9));
        // BE 02E6
        gbc.setState(0x1855, 0xcb7c, 0x8d0, 0x924b, 0x5898, 0x9380, 0x0, 0x0);
        gbc.writeMem(0x1855, { 0xbe });
        gbc.writeMem(0x9380, { 0x34 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xcb7c, gbc.sp());
        EXPECT(0x1856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x34, gbc.readMem(0x9380));
        // BE 02E7
        gbc.setState(0xce8f, 0xe5f3, 0x44a0, 0x284e, 0xcd88, 0x903e, 0x1, 0x0);
        gbc.writeMem(0x903e, { 0x25 });
        gbc.writeMem(0xce8f, { 0xbe });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xe5f3, gbc.sp());
        EXPECT(0xce90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0x903e));
        EXPECT(0xbe, gbc.readMem(0xce8f));
        // BE 02E8
        gbc.setState(0xdcdf, 0xdb7f, 0x33c0, 0x625d, 0x836d, 0xb533, 0x1, 0x1);
        gbc.writeMem(0xb533, { 0xe1 });
        gbc.writeMem(0xdcdf, { 0xbe });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xdb7f, gbc.sp());
        EXPECT(0xdce0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe1, gbc.readMem(0xb533));
        EXPECT(0xbe, gbc.readMem(0xdcdf));
        // BE 02E9
        gbc.setState(0xa2be, 0x7ec5, 0xfda0, 0x1862, 0x440e, 0x8a00, 0x0, 0x1);
        gbc.writeMem(0x8a00, { 0x9f });
        gbc.writeMem(0xa2be, { 0xbe });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x7ec5, gbc.sp());
        EXPECT(0xa2bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9f, gbc.readMem(0x8a00));
        EXPECT(0xbe, gbc.readMem(0xa2be));
        // BE 02EA
        gbc.setState(0x5242, 0x276e, 0x1280, 0xff55, 0x5aab, 0x57bc, 0x1, 0x1);
        gbc.writeMem(0x5242, { 0xbe });
        gbc.writeMem(0x57bc, { 0xd1 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x276e, gbc.sp());
        EXPECT(0x5243, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02EB
        gbc.setState(0x19d, 0x529f, 0xf5c0, 0xf5c4, 0x60e7, 0x46b5, 0x0, 0x0);
        gbc.writeMem(0x19d, { 0xbe });
        gbc.writeMem(0x46b5, { 0x65 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x529f, gbc.sp());
        EXPECT(0x19e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02EC
        gbc.setState(0x4e05, 0x14a5, 0x77c0, 0x5aaa, 0x591, 0x24a5, 0x1, 0x1);
        gbc.writeMem(0x24a5, { 0xb6 });
        gbc.writeMem(0x4e05, { 0xbe });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x14a5, gbc.sp());
        EXPECT(0x4e06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02ED
        gbc.setState(0xb4e7, 0x2769, 0x3ae0, 0xa379, 0xe95f, 0xbbd6, 0x1, 0x1);
        gbc.writeMem(0xb4e7, { 0xbe });
        gbc.writeMem(0xbbd6, { 0xaa });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x2769, gbc.sp());
        EXPECT(0xb4e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb4e7));
        EXPECT(0xaa, gbc.readMem(0xbbd6));
        // BE 02EE
        gbc.setState(0x3829, 0x38a9, 0x2f60, 0x3445, 0x6911, 0x30e4, 0x0, 0x0);
        gbc.writeMem(0x30e4, { 0x19 });
        gbc.writeMem(0x3829, { 0xbe });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x38a9, gbc.sp());
        EXPECT(0x382a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02EF
        gbc.setState(0xf00, 0xce10, 0xdac0, 0x7ceb, 0x4885, 0x6d5d, 0x0, 0x1);
        gbc.writeMem(0xf00, { 0xbe });
        gbc.writeMem(0x6d5d, { 0x22 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xce10, gbc.sp());
        EXPECT(0xf01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 02F0
        gbc.setState(0xdd5b, 0x6987, 0x8780, 0x1a55, 0xb80f, 0x12c0, 0x1, 0x1);
        gbc.writeMem(0x12c0, { 0x21 });
        gbc.writeMem(0xdd5b, { 0xbe });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x6987, gbc.sp());
        EXPECT(0xdd5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdd5b));
        // BE 02F1
        gbc.setState(0x2306, 0xed83, 0xb0d0, 0x1580, 0x7c15, 0x83fd, 0x0, 0x0);
        gbc.writeMem(0x2306, { 0xbe });
        gbc.writeMem(0x83fd, { 0x93 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xed83, gbc.sp());
        EXPECT(0x2307, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x93, gbc.readMem(0x83fd));
        // BE 02F2
        gbc.setState(0x80d0, 0xb3b5, 0xcaf0, 0x1bf4, 0xd64, 0xc9b9, 0x0, 0x0);
        gbc.writeMem(0x80d0, { 0xbe });
        gbc.writeMem(0xc9b9, { 0xa2 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xb3b5, gbc.sp());
        EXPECT(0x80d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x80d0));
        EXPECT(0xa2, gbc.readMem(0xc9b9));
        // BE 02F3
        gbc.setState(0xb37b, 0xa179, 0xfc10, 0x6ee3, 0x136, 0x718b, 0x1, 0x0);
        gbc.writeMem(0x718b, { 0xf1 });
        gbc.writeMem(0xb37b, { 0xbe });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xa179, gbc.sp());
        EXPECT(0xb37c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb37b));
        // BE 02F4
        gbc.setState(0xce7b, 0xce7a, 0xb9e0, 0x1240, 0x700a, 0x9202, 0x1, 0x1);
        gbc.writeMem(0x9202, { 0xb9 });
        gbc.writeMem(0xce7b, { 0xbe });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xce7a, gbc.sp());
        EXPECT(0xce7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb9, gbc.readMem(0x9202));
        EXPECT(0xbe, gbc.readMem(0xce7b));
        // BE 02F5
        gbc.setState(0x4601, 0xdb36, 0x9160, 0x8c8c, 0x718c, 0xf534, 0x1, 0x0);
        gbc.writeMem(0x4601, { 0xbe });
        gbc.writeMem(0xf534, { 0x25 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xdb36, gbc.sp());
        EXPECT(0x4602, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0xf534));
        // BE 02F6
        gbc.setState(0x7eef, 0x11f4, 0xbef0, 0x9045, 0xce40, 0xb1fe, 0x1, 0x1);
        gbc.writeMem(0x7eef, { 0xbe });
        gbc.writeMem(0xb1fe, { 0xb6 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x11f4, gbc.sp());
        EXPECT(0x7ef0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb6, gbc.readMem(0xb1fe));
        // BE 02F7
        gbc.setState(0x1e16, 0x3ba7, 0x47b0, 0x660a, 0xfaf8, 0x7c0a, 0x0, 0x1);
        gbc.writeMem(0x1e16, { 0xbe });
        gbc.writeMem(0x7c0a, { 0x93 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3ba7, gbc.sp());
        EXPECT(0x1e17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02F8
        gbc.setState(0x1250, 0x185d, 0xbc20, 0xca22, 0xe849, 0xbaf2, 0x0, 0x1);
        gbc.writeMem(0x1250, { 0xbe });
        gbc.writeMem(0xbaf2, { 0x3e });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x185d, gbc.sp());
        EXPECT(0x1251, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3e, gbc.readMem(0xbaf2));
        // BE 02F9
        gbc.setState(0xb043, 0x1819, 0x6a0, 0x5b2b, 0x248, 0x4140, 0x1, 0x0);
        gbc.writeMem(0x4140, { 0xc3 });
        gbc.writeMem(0xb043, { 0xbe });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1819, gbc.sp());
        EXPECT(0xb044, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb043));
        // BE 02FB
        gbc.setState(0x5efc, 0x917c, 0x8870, 0x3862, 0xbe32, 0x758e, 0x1, 0x0);
        gbc.writeMem(0x5efc, { 0xbe });
        gbc.writeMem(0x758e, { 0x9d });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x917c, gbc.sp());
        EXPECT(0x5efd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02FC
        gbc.setState(0x2ac3, 0x57d1, 0x84a0, 0x4707, 0x5a06, 0x1419, 0x1, 0x1);
        gbc.writeMem(0x1419, { 0xcb });
        gbc.writeMem(0x2ac3, { 0xbe });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x57d1, gbc.sp());
        EXPECT(0x2ac4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 02FD
        gbc.setState(0xeda4, 0x9ded, 0xc790, 0xc8d7, 0x8cf8, 0x8609, 0x0, 0x0);
        gbc.writeMem(0x8609, { 0x51 });
        gbc.writeMem(0xeda4, { 0xbe });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x9ded, gbc.sp());
        EXPECT(0xeda5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x51, gbc.readMem(0x8609));
        EXPECT(0xbe, gbc.readMem(0xeda4));
        // BE 02FE
        gbc.setState(0x4af7, 0xb1ad, 0x9870, 0xca12, 0xcb8, 0xf8ba, 0x0, 0x0);
        gbc.writeMem(0x4af7, { 0xbe });
        gbc.writeMem(0xf8ba, { 0x28 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xb1ad, gbc.sp());
        EXPECT(0x4af8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xf8ba));
        // BE 02FF
        gbc.setState(0x3f2, 0xeeeb, 0x5e30, 0x7be5, 0xc2e, 0x1b33, 0x1, 0x1);
        gbc.writeMem(0x3f2, { 0xbe });
        gbc.writeMem(0x1b33, { 0x24 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xeeeb, gbc.sp());
        EXPECT(0x3f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0300
        gbc.setState(0x926f, 0x18fb, 0x50c0, 0x1bf7, 0xd217, 0x27c9, 0x1, 0x0);
        gbc.writeMem(0x27c9, { 0xd0 });
        gbc.writeMem(0x926f, { 0xbe });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x18fb, gbc.sp());
        EXPECT(0x9270, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x926f));
        // BE 0301
        gbc.setState(0x6fb6, 0x726f, 0xecd0, 0x98e6, 0x5ca1, 0xa8e, 0x0, 0x0);
        gbc.writeMem(0xa8e, { 0x79 });
        gbc.writeMem(0x6fb6, { 0xbe });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x726f, gbc.sp());
        EXPECT(0x6fb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0302
        gbc.setState(0x4137, 0xc39, 0x9210, 0xa2b5, 0x74dd, 0x333, 0x0, 0x1);
        gbc.writeMem(0x333, { 0x2a });
        gbc.writeMem(0x4137, { 0xbe });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xc39, gbc.sp());
        EXPECT(0x4138, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0303
        gbc.setState(0xb327, 0xadb8, 0xe440, 0xa4ec, 0xace8, 0xf368, 0x1, 0x0);
        gbc.writeMem(0xb327, { 0xbe });
        gbc.writeMem(0xf368, { 0xa4 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xadb8, gbc.sp());
        EXPECT(0xb328, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb327));
        EXPECT(0xa4, gbc.readMem(0xf368));
        // BE 0304
        gbc.setState(0x884b, 0x71a9, 0x9840, 0x5fa0, 0xfe0e, 0x6ca3, 0x1, 0x0);
        gbc.writeMem(0x6ca3, { 0xf7 });
        gbc.writeMem(0x884b, { 0xbe });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x71a9, gbc.sp());
        EXPECT(0x884c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x884b));
        // BE 0305
        gbc.setState(0xbf99, 0x5f4b, 0xfd90, 0x14fe, 0x47e7, 0x37ea, 0x0, 0x0);
        gbc.writeMem(0x37ea, { 0xc9 });
        gbc.writeMem(0xbf99, { 0xbe });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x5f4b, gbc.sp());
        EXPECT(0xbf9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbf99));
        // BE 0307
        gbc.setState(0xbfcd, 0xbdeb, 0x7a70, 0x594, 0x3bf6, 0x974a, 0x1, 0x1);
        gbc.writeMem(0x974a, { 0xba });
        gbc.writeMem(0xbfcd, { 0xbe });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xbdeb, gbc.sp());
        EXPECT(0xbfce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xba, gbc.readMem(0x974a));
        EXPECT(0xbe, gbc.readMem(0xbfcd));
        // BE 0308
        gbc.setState(0x8fac, 0x562e, 0xcf0, 0x993, 0x6557, 0xfb9c, 0x1, 0x0);
        gbc.writeMem(0x8fac, { 0xbe });
        gbc.writeMem(0xfb9c, { 0x26 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x562e, gbc.sp());
        EXPECT(0x8fad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8fac));
        EXPECT(0x26, gbc.readMem(0xfb9c));
        // BE 0309
        gbc.setState(0x1e54, 0x6e33, 0xc890, 0x5755, 0x4d59, 0xddad, 0x0, 0x1);
        gbc.writeMem(0x1e54, { 0xbe });
        gbc.writeMem(0xddad, { 0x5c });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x6e33, gbc.sp());
        EXPECT(0x1e55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5c, gbc.readMem(0xddad));
        // BE 030A
        gbc.setState(0xe384, 0xaa7c, 0xbdb0, 0x1b4e, 0xf8eb, 0xbacd, 0x0, 0x1);
        gbc.writeMem(0xbacd, { 0x96 });
        gbc.writeMem(0xe384, { 0xbe });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xaa7c, gbc.sp());
        EXPECT(0xe385, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x96, gbc.readMem(0xbacd));
        EXPECT(0xbe, gbc.readMem(0xe384));
        // BE 030B
        gbc.setState(0x54bc, 0x5360, 0x3750, 0xff01, 0x24a9, 0xcae6, 0x1, 0x1);
        gbc.writeMem(0x54bc, { 0xbe });
        gbc.writeMem(0xcae6, { 0xd3 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x5360, gbc.sp());
        EXPECT(0x54bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd3, gbc.readMem(0xcae6));
        // BE 030C
        gbc.setState(0xa7e, 0xfe9d, 0xc5f0, 0x75aa, 0xb8fd, 0x26be, 0x0, 0x0);
        gbc.writeMem(0xa7e, { 0xbe });
        gbc.writeMem(0x26be, { 0x2d });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xfe9d, gbc.sp());
        EXPECT(0xa7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 030E
        gbc.setState(0xbd76, 0xd4e3, 0x8820, 0x113e, 0xbe25, 0xf7ad, 0x1, 0x0);
        gbc.writeMem(0xbd76, { 0xbe });
        gbc.writeMem(0xf7ad, { 0x8c });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xd4e3, gbc.sp());
        EXPECT(0xbd77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbd76));
        EXPECT(0x8c, gbc.readMem(0xf7ad));
        // BE 030F
        gbc.setState(0x94b1, 0xc67b, 0x3b40, 0xa22d, 0xc868, 0x2eba, 0x1, 0x1);
        gbc.writeMem(0x2eba, { 0x24 });
        gbc.writeMem(0x94b1, { 0xbe });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xc67b, gbc.sp());
        EXPECT(0x94b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x94b1));
        // BE 0310
        gbc.setState(0x8655, 0xd3a9, 0xd400, 0x666f, 0xa6bb, 0x8cc, 0x0, 0x1);
        gbc.writeMem(0x8cc, { 0x72 });
        gbc.writeMem(0x8655, { 0xbe });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xd3a9, gbc.sp());
        EXPECT(0x8656, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8655));
        // BE 0311
        gbc.setState(0xd632, 0x2fb8, 0xcb10, 0x750a, 0x852a, 0xd8b9, 0x1, 0x1);
        gbc.writeMem(0xd632, { 0xbe });
        gbc.writeMem(0xd8b9, { 0x9b });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x2fb8, gbc.sp());
        EXPECT(0xd633, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd632));
        EXPECT(0x9b, gbc.readMem(0xd8b9));
        // BE 0312
        gbc.setState(0x5ec4, 0xffe7, 0x9e60, 0xa302, 0x5ee8, 0xbcb9, 0x0, 0x1);
        gbc.writeMem(0x5ec4, { 0xbe });
        gbc.writeMem(0xbcb9, { 0x14 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xffe7, gbc.sp());
        EXPECT(0x5ec5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x14, gbc.readMem(0xbcb9));
        // BE 0313
        gbc.setState(0x5f3, 0x6fb, 0x6090, 0x4d3c, 0xe17b, 0xfa2d, 0x1, 0x1);
        gbc.writeMem(0x5f3, { 0xbe });
        gbc.writeMem(0xfa2d, { 0x7a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6fb, gbc.sp());
        EXPECT(0x5f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7a, gbc.readMem(0xfa2d));
        // BE 0315
        gbc.setState(0x29a9, 0xd1ff, 0x55f0, 0xf867, 0xfe4, 0xc1d7, 0x1, 0x1);
        gbc.writeMem(0x29a9, { 0xbe });
        gbc.writeMem(0xc1d7, { 0xbf });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xd1ff, gbc.sp());
        EXPECT(0x29aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbf, gbc.readMem(0xc1d7));
        // BE 0316
        gbc.setState(0xe3e7, 0x19b0, 0x79a0, 0x6310, 0xe9c7, 0x1d46, 0x1, 0x0);
        gbc.writeMem(0x1d46, { 0x74 });
        gbc.writeMem(0xe3e7, { 0xbe });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x19b0, gbc.sp());
        EXPECT(0xe3e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe3e7));
        // BE 0317
        gbc.setState(0x1a2c, 0x4dab, 0x7320, 0x64f3, 0x7c26, 0x25d4, 0x0, 0x1);
        gbc.writeMem(0x1a2c, { 0xbe });
        gbc.writeMem(0x25d4, { 0xbe });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x4dab, gbc.sp());
        EXPECT(0x1a2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0318
        gbc.setState(0xae11, 0xeea2, 0xd990, 0xfe6e, 0xbfa1, 0x81b1, 0x1, 0x0);
        gbc.writeMem(0x81b1, { 0xa8 });
        gbc.writeMem(0xae11, { 0xbe });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xeea2, gbc.sp());
        EXPECT(0xae12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa8, gbc.readMem(0x81b1));
        EXPECT(0xbe, gbc.readMem(0xae11));
        // BE 0319
        gbc.setState(0x615, 0x2a8, 0x76e0, 0x87f3, 0x47d9, 0x4c25, 0x1, 0x1);
        gbc.writeMem(0x615, { 0xbe });
        gbc.writeMem(0x4c25, { 0x1a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x2a8, gbc.sp());
        EXPECT(0x616, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 031A
        gbc.setState(0x5e7f, 0x77ee, 0x8940, 0x8405, 0x7c36, 0xe65, 0x1, 0x1);
        gbc.writeMem(0xe65, { 0x1e });
        gbc.writeMem(0x5e7f, { 0xbe });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x77ee, gbc.sp());
        EXPECT(0x5e80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 031B
        gbc.setState(0xe3cd, 0xb53c, 0x56d0, 0x6d18, 0x5016, 0x4bfd, 0x1, 0x1);
        gbc.writeMem(0x4bfd, { 0x10 });
        gbc.writeMem(0xe3cd, { 0xbe });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xb53c, gbc.sp());
        EXPECT(0xe3ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe3cd));
        // BE 031C
        gbc.setState(0x420b, 0x952d, 0x8080, 0x309d, 0xece9, 0xd92f, 0x0, 0x1);
        gbc.writeMem(0x420b, { 0xbe });
        gbc.writeMem(0xd92f, { 0xb3 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x952d, gbc.sp());
        EXPECT(0x420c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb3, gbc.readMem(0xd92f));
        // BE 031D
        gbc.setState(0x8592, 0xa438, 0xf850, 0x1ff3, 0xa8b6, 0xa2b6, 0x0, 0x0);
        gbc.writeMem(0x8592, { 0xbe });
        gbc.writeMem(0xa2b6, { 0x7f });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xa438, gbc.sp());
        EXPECT(0x8593, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8592));
        EXPECT(0x7f, gbc.readMem(0xa2b6));
        // BE 031E
        gbc.setState(0x466f, 0xe8c2, 0xe2b0, 0x3c4f, 0x8634, 0xd259, 0x0, 0x1);
        gbc.writeMem(0x466f, { 0xbe });
        gbc.writeMem(0xd259, { 0xb2 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xe8c2, gbc.sp());
        EXPECT(0x4670, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb2, gbc.readMem(0xd259));
        // BE 031F
        gbc.setState(0x658f, 0x423f, 0x3d50, 0x9154, 0x171e, 0xc7f8, 0x0, 0x1);
        gbc.writeMem(0x658f, { 0xbe });
        gbc.writeMem(0xc7f8, { 0x13 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x423f, gbc.sp());
        EXPECT(0x6590, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x13, gbc.readMem(0xc7f8));
        // BE 0320
        gbc.setState(0xe970, 0x1544, 0xc4c0, 0x90f4, 0x8cdf, 0x5920, 0x1, 0x1);
        gbc.writeMem(0x5920, { 0x41 });
        gbc.writeMem(0xe970, { 0xbe });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x1544, gbc.sp());
        EXPECT(0xe971, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe970));
        // BE 0321
        gbc.setState(0x21a7, 0xf36d, 0x5220, 0x2f95, 0xd89, 0x954f, 0x0, 0x0);
        gbc.writeMem(0x21a7, { 0xbe });
        gbc.writeMem(0x954f, { 0xee });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xf36d, gbc.sp());
        EXPECT(0x21a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xee, gbc.readMem(0x954f));
        // BE 0322
        gbc.setState(0x4ca5, 0x128a, 0x2740, 0x6411, 0x5b99, 0x5581, 0x1, 0x1);
        gbc.writeMem(0x4ca5, { 0xbe });
        gbc.writeMem(0x5581, { 0x17 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x128a, gbc.sp());
        EXPECT(0x4ca6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0323
        gbc.setState(0xa54c, 0x32b, 0xa690, 0x2148, 0xb996, 0x9d64, 0x1, 0x1);
        gbc.writeMem(0x9d64, { 0xb4 });
        gbc.writeMem(0xa54c, { 0xbe });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x32b, gbc.sp());
        EXPECT(0xa54d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb4, gbc.readMem(0x9d64));
        EXPECT(0xbe, gbc.readMem(0xa54c));
        // BE 0324
        gbc.setState(0xd2d5, 0xe1c1, 0x8320, 0xbad1, 0x498f, 0x5139, 0x0, 0x0);
        gbc.writeMem(0x5139, { 0x44 });
        gbc.writeMem(0xd2d5, { 0xbe });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xe1c1, gbc.sp());
        EXPECT(0xd2d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd2d5));
        // BE 0325
        gbc.setState(0x2b95, 0x80ce, 0x9a50, 0x2828, 0x7963, 0xc4d1, 0x1, 0x1);
        gbc.writeMem(0x2b95, { 0xbe });
        gbc.writeMem(0xc4d1, { 0x33 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x80ce, gbc.sp());
        EXPECT(0x2b96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xc4d1));
        // BE 0326
        gbc.setState(0x1ef6, 0xcfb7, 0x4140, 0xe0e3, 0x6639, 0xb089, 0x0, 0x0);
        gbc.writeMem(0x1ef6, { 0xbe });
        gbc.writeMem(0xb089, { 0x17 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xcfb7, gbc.sp());
        EXPECT(0x1ef7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x17, gbc.readMem(0xb089));
        // BE 0327
        gbc.setState(0x80bf, 0x8077, 0x7bb0, 0x2853, 0x608f, 0x82a0, 0x0, 0x0);
        gbc.writeMem(0x80bf, { 0xbe });
        gbc.writeMem(0x82a0, { 0xd3 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x8077, gbc.sp());
        EXPECT(0x80c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x80bf));
        EXPECT(0xd3, gbc.readMem(0x82a0));
        // BE 0328
        gbc.setState(0x3b7b, 0x9098, 0x2b00, 0xca6e, 0xfea, 0x41d6, 0x0, 0x0);
        gbc.writeMem(0x3b7b, { 0xbe });
        gbc.writeMem(0x41d6, { 0x71 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x9098, gbc.sp());
        EXPECT(0x3b7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 032A
        gbc.setState(0xc57d, 0x89e7, 0x10f0, 0xcfaa, 0x409d, 0x2672, 0x1, 0x1);
        gbc.writeMem(0x2672, { 0x8 });
        gbc.writeMem(0xc57d, { 0xbe });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x89e7, gbc.sp());
        EXPECT(0xc57e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc57d));
        // BE 032B
        gbc.setState(0x4ba9, 0xe8cf, 0xffb0, 0x5550, 0xcaf4, 0xc5f3, 0x1, 0x0);
        gbc.writeMem(0x4ba9, { 0xbe });
        gbc.writeMem(0xc5f3, { 0x44 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xe8cf, gbc.sp());
        EXPECT(0x4baa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x44, gbc.readMem(0xc5f3));
        // BE 032C
        gbc.setState(0x98e6, 0x5de4, 0xff60, 0x4996, 0x7f2a, 0x3271, 0x1, 0x1);
        gbc.writeMem(0x3271, { 0xcb });
        gbc.writeMem(0x98e6, { 0xbe });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5de4, gbc.sp());
        EXPECT(0x98e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x98e6));
        // BE 032D
        gbc.setState(0xde11, 0xc10d, 0x9db0, 0x48c4, 0x8f09, 0xd132, 0x0, 0x1);
        gbc.writeMem(0xd132, { 0xf4 });
        gbc.writeMem(0xde11, { 0xbe });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xc10d, gbc.sp());
        EXPECT(0xde12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf4, gbc.readMem(0xd132));
        EXPECT(0xbe, gbc.readMem(0xde11));
        // BE 032E
        gbc.setState(0xbec3, 0xe065, 0xdb00, 0x8cf5, 0x3c3, 0xe158, 0x0, 0x1);
        gbc.writeMem(0xbec3, { 0xbe });
        gbc.writeMem(0xe158, { 0x4c });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xe065, gbc.sp());
        EXPECT(0xbec4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbec3));
        EXPECT(0x4c, gbc.readMem(0xe158));
        // BE 032F
        gbc.setState(0x5e7c, 0xc6aa, 0xc210, 0xd0, 0x6cfd, 0x49e6, 0x0, 0x0);
        gbc.writeMem(0x49e6, { 0xd3 });
        gbc.writeMem(0x5e7c, { 0xbe });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc6aa, gbc.sp());
        EXPECT(0x5e7d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0331
        gbc.setState(0xc51, 0x5397, 0xb470, 0xb189, 0xb083, 0x7998, 0x0, 0x0);
        gbc.writeMem(0xc51, { 0xbe });
        gbc.writeMem(0x7998, { 0xbc });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x5397, gbc.sp());
        EXPECT(0xc52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0332
        gbc.setState(0x7322, 0xdabf, 0xb0d0, 0xd97e, 0xb7d9, 0xa4ad, 0x0, 0x1);
        gbc.writeMem(0x7322, { 0xbe });
        gbc.writeMem(0xa4ad, { 0xa2 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xdabf, gbc.sp());
        EXPECT(0x7323, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa2, gbc.readMem(0xa4ad));
        // BE 0333
        gbc.setState(0xb00d, 0xa8c, 0x6e0, 0x8118, 0x696c, 0xddec, 0x1, 0x0);
        gbc.writeMem(0xb00d, { 0xbe });
        gbc.writeMem(0xddec, { 0xa4 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xa8c, gbc.sp());
        EXPECT(0xb00e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb00d));
        EXPECT(0xa4, gbc.readMem(0xddec));
        // BE 0334
        gbc.setState(0x6c7d, 0xa24, 0x5ae0, 0x87cf, 0xe121, 0x61f3, 0x0, 0x0);
        gbc.writeMem(0x61f3, { 0xe9 });
        gbc.writeMem(0x6c7d, { 0xbe });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xa24, gbc.sp());
        EXPECT(0x6c7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0335
        gbc.setState(0x8ca8, 0x1e20, 0xb640, 0x3b61, 0x75e8, 0xf021, 0x1, 0x1);
        gbc.writeMem(0x8ca8, { 0xbe });
        gbc.writeMem(0xf021, { 0xa });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1e20, gbc.sp());
        EXPECT(0x8ca9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8ca8));
        EXPECT(0xa, gbc.readMem(0xf021));
        // BE 0336
        gbc.setState(0x32e4, 0xcf87, 0xb520, 0xfeb7, 0x33f0, 0x7c1b, 0x1, 0x1);
        gbc.writeMem(0x32e4, { 0xbe });
        gbc.writeMem(0x7c1b, { 0x42 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xcf87, gbc.sp());
        EXPECT(0x32e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0337
        gbc.setState(0xef25, 0x40bb, 0xa470, 0x7251, 0x2f0c, 0x65c5, 0x0, 0x1);
        gbc.writeMem(0x65c5, { 0x4e });
        gbc.writeMem(0xef25, { 0xbe });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x40bb, gbc.sp());
        EXPECT(0xef26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xef25));
        // BE 0338
        gbc.setState(0xd2a4, 0x694e, 0xae90, 0xeb62, 0x8d35, 0x1b62, 0x0, 0x1);
        gbc.writeMem(0x1b62, { 0xcc });
        gbc.writeMem(0xd2a4, { 0xbe });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x694e, gbc.sp());
        EXPECT(0xd2a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd2a4));
        // BE 0339
        gbc.setState(0x7eb0, 0x2c60, 0x80, 0x31c4, 0x9223, 0xd7d7, 0x0, 0x0);
        gbc.writeMem(0x7eb0, { 0xbe });
        gbc.writeMem(0xd7d7, { 0xc0 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x2c60, gbc.sp());
        EXPECT(0x7eb1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc0, gbc.readMem(0xd7d7));
        // BE 033A
        gbc.setState(0xe138, 0x33dc, 0x2b40, 0x73e6, 0xa76b, 0xd5f0, 0x0, 0x0);
        gbc.writeMem(0xd5f0, { 0x4d });
        gbc.writeMem(0xe138, { 0xbe });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x33dc, gbc.sp());
        EXPECT(0xe139, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4d, gbc.readMem(0xd5f0));
        EXPECT(0xbe, gbc.readMem(0xe138));
        // BE 033B
        gbc.setState(0xbc17, 0x4047, 0x3fe0, 0xd5dd, 0xdcb4, 0x8af3, 0x0, 0x0);
        gbc.writeMem(0x8af3, { 0x75 });
        gbc.writeMem(0xbc17, { 0xbe });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x4047, gbc.sp());
        EXPECT(0xbc18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0x8af3));
        EXPECT(0xbe, gbc.readMem(0xbc17));
        // BE 033D
        gbc.setState(0x6a37, 0xde9a, 0x2b40, 0x32ff, 0xd28d, 0x6a8b, 0x1, 0x1);
        gbc.writeMem(0x6a37, { 0xbe });
        gbc.writeMem(0x6a8b, { 0xca });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xde9a, gbc.sp());
        EXPECT(0x6a38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 033E
        gbc.setState(0x6b36, 0x2fa9, 0xf460, 0x689, 0x2081, 0x1fcc, 0x0, 0x0);
        gbc.writeMem(0x1fcc, { 0x6e });
        gbc.writeMem(0x6b36, { 0xbe });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x2fa9, gbc.sp());
        EXPECT(0x6b37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 033F
        gbc.setState(0xf6d, 0x908b, 0xad00, 0x1ad0, 0xc8ec, 0x458d, 0x0, 0x1);
        gbc.writeMem(0xf6d, { 0xbe });
        gbc.writeMem(0x458d, { 0xad });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x908b, gbc.sp());
        EXPECT(0xf6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0340
        gbc.setState(0xc2bf, 0xbe35, 0xbae0, 0xbd28, 0xe2e3, 0x2c1e, 0x1, 0x0);
        gbc.writeMem(0x2c1e, { 0x60 });
        gbc.writeMem(0xc2bf, { 0xbe });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xbe35, gbc.sp());
        EXPECT(0xc2c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc2bf));
        // BE 0341
        gbc.setState(0xaf42, 0x93f4, 0xe490, 0xbaeb, 0xe258, 0x8b96, 0x0, 0x0);
        gbc.writeMem(0x8b96, { 0x39 });
        gbc.writeMem(0xaf42, { 0xbe });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x93f4, gbc.sp());
        EXPECT(0xaf43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x39, gbc.readMem(0x8b96));
        EXPECT(0xbe, gbc.readMem(0xaf42));
        // BE 0342
        gbc.setState(0x3507, 0xf453, 0x2cf0, 0x8993, 0xf1f2, 0xcc60, 0x1, 0x0);
        gbc.writeMem(0x3507, { 0xbe });
        gbc.writeMem(0xcc60, { 0xf9 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xf453, gbc.sp());
        EXPECT(0x3508, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0xcc60));
        // BE 0343
        gbc.setState(0x194f, 0x8999, 0xb600, 0x46d2, 0x4346, 0xb5c5, 0x1, 0x1);
        gbc.writeMem(0x194f, { 0xbe });
        gbc.writeMem(0xb5c5, { 0x92 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x8999, gbc.sp());
        EXPECT(0x1950, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0xb5c5));
        // BE 0344
        gbc.setState(0xc85e, 0x45cc, 0x46c0, 0x8d, 0x98c9, 0xda9d, 0x1, 0x0);
        gbc.writeMem(0xc85e, { 0xbe });
        gbc.writeMem(0xda9d, { 0x58 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x45cc, gbc.sp());
        EXPECT(0xc85f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc85e));
        EXPECT(0x58, gbc.readMem(0xda9d));
        // BE 0345
        gbc.setState(0xa2e4, 0xc80a, 0xdcd0, 0x6f88, 0xf7eb, 0x9267, 0x1, 0x0);
        gbc.writeMem(0x9267, { 0x73 });
        gbc.writeMem(0xa2e4, { 0xbe });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xc80a, gbc.sp());
        EXPECT(0xa2e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x73, gbc.readMem(0x9267));
        EXPECT(0xbe, gbc.readMem(0xa2e4));
        // BE 0346
        gbc.setState(0xda46, 0xe3f3, 0x1d40, 0x58c7, 0x1ada, 0xf057, 0x1, 0x0);
        gbc.writeMem(0xda46, { 0xbe });
        gbc.writeMem(0xf057, { 0x60 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xe3f3, gbc.sp());
        EXPECT(0xda47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xda46));
        EXPECT(0x60, gbc.readMem(0xf057));
        // BE 0347
        gbc.setState(0xe185, 0x69d0, 0x7e80, 0x29c2, 0x4c12, 0x844d, 0x1, 0x1);
        gbc.writeMem(0x844d, { 0x1e });
        gbc.writeMem(0xe185, { 0xbe });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x69d0, gbc.sp());
        EXPECT(0xe186, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1e, gbc.readMem(0x844d));
        EXPECT(0xbe, gbc.readMem(0xe185));
        // BE 0348
        gbc.setState(0x27de, 0x2b1c, 0x54d0, 0x1b3f, 0xad31, 0x6b4c, 0x0, 0x0);
        gbc.writeMem(0x27de, { 0xbe });
        gbc.writeMem(0x6b4c, { 0x4a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2b1c, gbc.sp());
        EXPECT(0x27df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0349
        gbc.setState(0x6b1b, 0x4dcc, 0x5be0, 0x533c, 0xdddc, 0x4ed6, 0x0, 0x1);
        gbc.writeMem(0x4ed6, { 0xdd });
        gbc.writeMem(0x6b1b, { 0xbe });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x4dcc, gbc.sp());
        EXPECT(0x6b1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 034A
        gbc.setState(0xdff8, 0x9bcb, 0x9d60, 0x3cc0, 0x5fb2, 0x18f0, 0x1, 0x0);
        gbc.writeMem(0x18f0, { 0x6f });
        gbc.writeMem(0xdff8, { 0xbe });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x9bcb, gbc.sp());
        EXPECT(0xdff9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdff8));
        // BE 034B
        gbc.setState(0xcb33, 0x32a4, 0xb560, 0xc92e, 0xd0c4, 0xc9f2, 0x1, 0x1);
        gbc.writeMem(0xc9f2, { 0x66 });
        gbc.writeMem(0xcb33, { 0xbe });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x32a4, gbc.sp());
        EXPECT(0xcb34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x66, gbc.readMem(0xc9f2));
        EXPECT(0xbe, gbc.readMem(0xcb33));
        // BE 034C
        gbc.setState(0x5d0a, 0x99a8, 0x8dd0, 0xded8, 0xfbc5, 0x1260, 0x0, 0x1);
        gbc.writeMem(0x1260, { 0x52 });
        gbc.writeMem(0x5d0a, { 0xbe });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x99a8, gbc.sp());
        EXPECT(0x5d0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 034D
        gbc.setState(0x5266, 0x4859, 0xef30, 0x8596, 0x147e, 0x30db, 0x1, 0x0);
        gbc.writeMem(0x30db, { 0xf7 });
        gbc.writeMem(0x5266, { 0xbe });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x4859, gbc.sp());
        EXPECT(0x5267, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 034E
        gbc.setState(0xc97, 0xc515, 0xb410, 0x4354, 0x17ca, 0x693e, 0x1, 0x1);
        gbc.writeMem(0xc97, { 0xbe });
        gbc.writeMem(0x693e, { 0x1 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xc515, gbc.sp());
        EXPECT(0xc98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 034F
        gbc.setState(0xaa83, 0x3fc2, 0xd8c0, 0x8c31, 0x5d02, 0xc2db, 0x0, 0x0);
        gbc.writeMem(0xaa83, { 0xbe });
        gbc.writeMem(0xc2db, { 0x67 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x3fc2, gbc.sp());
        EXPECT(0xaa84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaa83));
        EXPECT(0x67, gbc.readMem(0xc2db));
        // BE 0350
        gbc.setState(0x6288, 0x370d, 0xc030, 0xbc8f, 0xd165, 0xf386, 0x0, 0x1);
        gbc.writeMem(0x6288, { 0xbe });
        gbc.writeMem(0xf386, { 0xb0 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x370d, gbc.sp());
        EXPECT(0x6289, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb0, gbc.readMem(0xf386));
        // BE 0351
        gbc.setState(0xbf05, 0x153c, 0xb180, 0x400b, 0x861a, 0x1f9b, 0x1, 0x1);
        gbc.writeMem(0x1f9b, { 0x4f });
        gbc.writeMem(0xbf05, { 0xbe });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x153c, gbc.sp());
        EXPECT(0xbf06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbf05));
        // BE 0352
        gbc.setState(0xe72d, 0x96ff, 0x4a60, 0xba7, 0xf773, 0x42e9, 0x1, 0x1);
        gbc.writeMem(0x42e9, { 0x12 });
        gbc.writeMem(0xe72d, { 0xbe });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x96ff, gbc.sp());
        EXPECT(0xe72e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe72d));
        // BE 0353
        gbc.setState(0xd72f, 0x33eb, 0x24b0, 0x414d, 0x7f3c, 0x92ce, 0x1, 0x0);
        gbc.writeMem(0x92ce, { 0xcb });
        gbc.writeMem(0xd72f, { 0xbe });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x33eb, gbc.sp());
        EXPECT(0xd730, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92ce));
        EXPECT(0xbe, gbc.readMem(0xd72f));
        // BE 0354
        gbc.setState(0xc698, 0xb767, 0xe560, 0x6c34, 0x85c3, 0x497b, 0x1, 0x0);
        gbc.writeMem(0x497b, { 0x3c });
        gbc.writeMem(0xc698, { 0xbe });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb767, gbc.sp());
        EXPECT(0xc699, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc698));
        // BE 0355
        gbc.setState(0xe0c8, 0x7e3f, 0x1840, 0x8931, 0xb075, 0x989b, 0x0, 0x1);
        gbc.writeMem(0x989b, { 0xdb });
        gbc.writeMem(0xe0c8, { 0xbe });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x7e3f, gbc.sp());
        EXPECT(0xe0c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdb, gbc.readMem(0x989b));
        EXPECT(0xbe, gbc.readMem(0xe0c8));
        // BE 0356
        gbc.setState(0x6d97, 0xd001, 0x9bd0, 0xfdf4, 0x34e0, 0xf6bb, 0x0, 0x0);
        gbc.writeMem(0x6d97, { 0xbe });
        gbc.writeMem(0xf6bb, { 0xcb });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xd001, gbc.sp());
        EXPECT(0x6d98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xf6bb));
        // BE 0357
        gbc.setState(0x3eee, 0x4b1, 0xa360, 0x3dae, 0xb9e3, 0x23d5, 0x1, 0x1);
        gbc.writeMem(0x23d5, { 0x40 });
        gbc.writeMem(0x3eee, { 0xbe });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x4b1, gbc.sp());
        EXPECT(0x3eef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0358
        gbc.setState(0xdd9e, 0xca8f, 0xc7f0, 0x20b3, 0x67eb, 0x9583, 0x0, 0x0);
        gbc.writeMem(0x9583, { 0xbc });
        gbc.writeMem(0xdd9e, { 0xbe });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xca8f, gbc.sp());
        EXPECT(0xdd9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbc, gbc.readMem(0x9583));
        EXPECT(0xbe, gbc.readMem(0xdd9e));
        // BE 0359
        gbc.setState(0x7546, 0x1dec, 0xe5f0, 0x9a65, 0x90a5, 0x1687, 0x0, 0x1);
        gbc.writeMem(0x1687, { 0x65 });
        gbc.writeMem(0x7546, { 0xbe });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x1dec, gbc.sp());
        EXPECT(0x7547, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 035A
        gbc.setState(0x34fa, 0x92be, 0xf0d0, 0x751b, 0x5858, 0xb993, 0x1, 0x0);
        gbc.writeMem(0x34fa, { 0xbe });
        gbc.writeMem(0xb993, { 0x95 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x92be, gbc.sp());
        EXPECT(0x34fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x95, gbc.readMem(0xb993));
        // BE 035B
        gbc.setState(0xe246, 0x9a1, 0xf2f0, 0x8c90, 0x904f, 0xd2fe, 0x0, 0x0);
        gbc.writeMem(0xd2fe, { 0x22 });
        gbc.writeMem(0xe246, { 0xbe });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9a1, gbc.sp());
        EXPECT(0xe247, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x22, gbc.readMem(0xd2fe));
        EXPECT(0xbe, gbc.readMem(0xe246));
        // BE 035C
        gbc.setState(0x232d, 0x7eb1, 0x9880, 0xbc5e, 0x4794, 0x93c6, 0x1, 0x0);
        gbc.writeMem(0x232d, { 0xbe });
        gbc.writeMem(0x93c6, { 0xa3 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x7eb1, gbc.sp());
        EXPECT(0x232e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa3, gbc.readMem(0x93c6));
        // BE 035D
        gbc.setState(0x9b68, 0x105e, 0x2230, 0xa6f6, 0x7c98, 0x9a0a, 0x1, 0x0);
        gbc.writeMem(0x9a0a, { 0x75 });
        gbc.writeMem(0x9b68, { 0xbe });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x105e, gbc.sp());
        EXPECT(0x9b69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0x9a0a));
        EXPECT(0xbe, gbc.readMem(0x9b68));
        // BE 035E
        gbc.setState(0x7501, 0x4b44, 0xfd50, 0xc1aa, 0x4a6, 0x60e0, 0x0, 0x1);
        gbc.writeMem(0x60e0, { 0x7d });
        gbc.writeMem(0x7501, { 0xbe });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x4b44, gbc.sp());
        EXPECT(0x7502, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 035F
        gbc.setState(0x3f49, 0x29f5, 0x8a00, 0xbb1a, 0x4032, 0x89f7, 0x1, 0x1);
        gbc.writeMem(0x3f49, { 0xbe });
        gbc.writeMem(0x89f7, { 0xb5 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x29f5, gbc.sp());
        EXPECT(0x3f4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb5, gbc.readMem(0x89f7));
        // BE 0360
        gbc.setState(0x480f, 0xc2e, 0x7190, 0xeecf, 0xc99d, 0x5070, 0x1, 0x0);
        gbc.writeMem(0x480f, { 0xbe });
        gbc.writeMem(0x5070, { 0x64 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc2e, gbc.sp());
        EXPECT(0x4810, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0361
        gbc.setState(0x3885, 0xdc08, 0x6ca0, 0x7799, 0x1e9, 0xde66, 0x1, 0x1);
        gbc.writeMem(0x3885, { 0xbe });
        gbc.writeMem(0xde66, { 0x63 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xdc08, gbc.sp());
        EXPECT(0x3886, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x63, gbc.readMem(0xde66));
        // BE 0362
        gbc.setState(0xeeb8, 0xca81, 0x2240, 0x1080, 0x62a0, 0x2fad, 0x1, 0x1);
        gbc.writeMem(0x2fad, { 0xb1 });
        gbc.writeMem(0xeeb8, { 0xbe });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xca81, gbc.sp());
        EXPECT(0xeeb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xeeb8));
        // BE 0363
        gbc.setState(0xd40c, 0x9694, 0x23d0, 0x6c33, 0xcaf5, 0x5562, 0x0, 0x1);
        gbc.writeMem(0x5562, { 0x99 });
        gbc.writeMem(0xd40c, { 0xbe });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9694, gbc.sp());
        EXPECT(0xd40d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd40c));
        // BE 0364
        gbc.setState(0xe482, 0xb51b, 0x63c0, 0x3bec, 0x8f74, 0x183d, 0x0, 0x0);
        gbc.writeMem(0x183d, { 0x46 });
        gbc.writeMem(0xe482, { 0xbe });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xb51b, gbc.sp());
        EXPECT(0xe483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe482));
        // BE 0365
        gbc.setState(0xbcd6, 0xec07, 0x8560, 0xd8e5, 0xcc02, 0x410, 0x1, 0x1);
        gbc.writeMem(0x410, { 0x7a });
        gbc.writeMem(0xbcd6, { 0xbe });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xec07, gbc.sp());
        EXPECT(0xbcd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbcd6));
        // BE 0366
        gbc.setState(0x722b, 0x8f92, 0x1730, 0xf798, 0xf2de, 0x3478, 0x0, 0x0);
        gbc.writeMem(0x3478, { 0x9f });
        gbc.writeMem(0x722b, { 0xbe });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x8f92, gbc.sp());
        EXPECT(0x722c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0367
        gbc.setState(0x70e5, 0xc47, 0xd850, 0xd9dd, 0x92b7, 0x9ce1, 0x0, 0x0);
        gbc.writeMem(0x70e5, { 0xbe });
        gbc.writeMem(0x9ce1, { 0x3a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xc47, gbc.sp());
        EXPECT(0x70e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3a, gbc.readMem(0x9ce1));
        // BE 0368
        gbc.setState(0x539f, 0xf5cf, 0x6d20, 0x1c32, 0x8133, 0x13cb, 0x1, 0x1);
        gbc.writeMem(0x13cb, { 0xc2 });
        gbc.writeMem(0x539f, { 0xbe });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xf5cf, gbc.sp());
        EXPECT(0x53a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0369
        gbc.setState(0x1433, 0x2cec, 0x3330, 0x10d2, 0xbb6c, 0xb481, 0x1, 0x0);
        gbc.writeMem(0x1433, { 0xbe });
        gbc.writeMem(0xb481, { 0x3 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x2cec, gbc.sp());
        EXPECT(0x1434, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0xb481));
        // BE 036A
        gbc.setState(0xa4ef, 0x1f1e, 0xa5a0, 0x62dc, 0xaf7c, 0xc627, 0x1, 0x1);
        gbc.writeMem(0xa4ef, { 0xbe });
        gbc.writeMem(0xc627, { 0x82 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x1f1e, gbc.sp());
        EXPECT(0xa4f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa4ef));
        EXPECT(0x82, gbc.readMem(0xc627));
        // BE 036B
        gbc.setState(0x4f22, 0x313, 0x3e30, 0xcf06, 0x96f9, 0x115b, 0x1, 0x0);
        gbc.writeMem(0x115b, { 0x1d });
        gbc.writeMem(0x4f22, { 0xbe });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x313, gbc.sp());
        EXPECT(0x4f23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 036C
        gbc.setState(0x541, 0x5c65, 0x1a40, 0x58ff, 0x7370, 0x341f, 0x0, 0x1);
        gbc.writeMem(0x541, { 0xbe });
        gbc.writeMem(0x341f, { 0xc9 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x5c65, gbc.sp());
        EXPECT(0x542, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 036D
        gbc.setState(0xa93d, 0x5fc7, 0x6590, 0xe1ec, 0x7f75, 0xa0e8, 0x1, 0x0);
        gbc.writeMem(0xa0e8, { 0x3c });
        gbc.writeMem(0xa93d, { 0xbe });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5fc7, gbc.sp());
        EXPECT(0xa93e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3c, gbc.readMem(0xa0e8));
        EXPECT(0xbe, gbc.readMem(0xa93d));
        // BE 036E
        gbc.setState(0x8ad, 0x5dbc, 0xa250, 0x61a1, 0xbbd2, 0x4479, 0x1, 0x1);
        gbc.writeMem(0x8ad, { 0xbe });
        gbc.writeMem(0x4479, { 0xf6 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x5dbc, gbc.sp());
        EXPECT(0x8ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 036F
        gbc.setState(0x838b, 0xc0a1, 0xad0, 0xc348, 0x6d61, 0xf8a2, 0x0, 0x1);
        gbc.writeMem(0x838b, { 0xbe });
        gbc.writeMem(0xf8a2, { 0xc4 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xc0a1, gbc.sp());
        EXPECT(0x838c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x838b));
        EXPECT(0xc4, gbc.readMem(0xf8a2));
        // BE 0370
        gbc.setState(0x2d47, 0x2e9c, 0x3ae0, 0x5941, 0xbf2d, 0x214c, 0x1, 0x0);
        gbc.writeMem(0x214c, { 0xde });
        gbc.writeMem(0x2d47, { 0xbe });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2e9c, gbc.sp());
        EXPECT(0x2d48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0371
        gbc.setState(0x946, 0x974, 0xf9e0, 0x2ce9, 0xb9af, 0x8add, 0x0, 0x0);
        gbc.writeMem(0x946, { 0xbe });
        gbc.writeMem(0x8add, { 0x59 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x974, gbc.sp());
        EXPECT(0x947, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x59, gbc.readMem(0x8add));
        // BE 0372
        gbc.setState(0x3d84, 0xb091, 0xbd50, 0xb7b8, 0xea7b, 0xd5e6, 0x1, 0x1);
        gbc.writeMem(0x3d84, { 0xbe });
        gbc.writeMem(0xd5e6, { 0x33 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xb091, gbc.sp());
        EXPECT(0x3d85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xd5e6));
        // BE 0373
        gbc.setState(0x3da5, 0xee7d, 0x9f0, 0x1c21, 0x8df3, 0x4c8b, 0x0, 0x0);
        gbc.writeMem(0x3da5, { 0xbe });
        gbc.writeMem(0x4c8b, { 0x9a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xee7d, gbc.sp());
        EXPECT(0x3da6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0374
        gbc.setState(0xa162, 0x6f5e, 0x4930, 0x7a46, 0x8273, 0x84f8, 0x0, 0x1);
        gbc.writeMem(0x84f8, { 0x18 });
        gbc.writeMem(0xa162, { 0xbe });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x6f5e, gbc.sp());
        EXPECT(0xa163, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x18, gbc.readMem(0x84f8));
        EXPECT(0xbe, gbc.readMem(0xa162));
        // BE 0375
        gbc.setState(0x6db4, 0xeef3, 0x1160, 0xeaf1, 0x52eb, 0x9cb, 0x1, 0x1);
        gbc.writeMem(0x9cb, { 0x2 });
        gbc.writeMem(0x6db4, { 0xbe });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xeef3, gbc.sp());
        EXPECT(0x6db5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0376
        gbc.setState(0x54b1, 0x4bb4, 0x4960, 0x4e3d, 0xe4ae, 0x2eb4, 0x0, 0x1);
        gbc.writeMem(0x2eb4, { 0xc2 });
        gbc.writeMem(0x54b1, { 0xbe });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x4bb4, gbc.sp());
        EXPECT(0x54b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0377
        gbc.setState(0x1dbb, 0x6667, 0x29f0, 0x7daa, 0x4704, 0x5085, 0x0, 0x0);
        gbc.writeMem(0x1dbb, { 0xbe });
        gbc.writeMem(0x5085, { 0xb6 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x6667, gbc.sp());
        EXPECT(0x1dbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0378
        gbc.setState(0x84b5, 0xff73, 0xfe80, 0x6f7e, 0xbf01, 0xb0de, 0x0, 0x0);
        gbc.writeMem(0x84b5, { 0xbe });
        gbc.writeMem(0xb0de, { 0xf0 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xff73, gbc.sp());
        EXPECT(0x84b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x84b5));
        EXPECT(0xf0, gbc.readMem(0xb0de));
        // BE 0379
        gbc.setState(0xc056, 0x65e, 0xa160, 0xf926, 0x2fb8, 0xe956, 0x0, 0x0);
        gbc.writeMem(0xc056, { 0xbe });
        gbc.writeMem(0xe956, { 0x83 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x65e, gbc.sp());
        EXPECT(0xc057, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc056));
        EXPECT(0x83, gbc.readMem(0xe956));
        // BE 037A
        gbc.setState(0xc54c, 0xf6ec, 0x2300, 0xe0b, 0x5a44, 0x9af0, 0x0, 0x0);
        gbc.writeMem(0x9af0, { 0xb6 });
        gbc.writeMem(0xc54c, { 0xbe });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xf6ec, gbc.sp());
        EXPECT(0xc54d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb6, gbc.readMem(0x9af0));
        EXPECT(0xbe, gbc.readMem(0xc54c));
        // BE 037B
        gbc.setState(0xaab3, 0x6f75, 0xd4f0, 0xc155, 0x4dd1, 0xbf24, 0x1, 0x1);
        gbc.writeMem(0xaab3, { 0xbe });
        gbc.writeMem(0xbf24, { 0xbe });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x6f75, gbc.sp());
        EXPECT(0xaab4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xaab3));
        EXPECT(0xbe, gbc.readMem(0xbf24));
        // BE 037C
        gbc.setState(0xe589, 0xcd1c, 0x6e00, 0xe447, 0xf347, 0x125c, 0x1, 0x0);
        gbc.writeMem(0x125c, { 0x12 });
        gbc.writeMem(0xe589, { 0xbe });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xcd1c, gbc.sp());
        EXPECT(0xe58a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe589));
        // BE 037D
        gbc.setState(0x1436, 0xaed9, 0x95c0, 0x2d25, 0xd8ba, 0x75f1, 0x1, 0x0);
        gbc.writeMem(0x1436, { 0xbe });
        gbc.writeMem(0x75f1, { 0xb9 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xaed9, gbc.sp());
        EXPECT(0x1437, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 037E
        gbc.setState(0x3dbf, 0xbed3, 0xa510, 0x2caa, 0x6e33, 0xb470, 0x0, 0x0);
        gbc.writeMem(0x3dbf, { 0xbe });
        gbc.writeMem(0xb470, { 0x99 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xbed3, gbc.sp());
        EXPECT(0x3dc0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x99, gbc.readMem(0xb470));
        // BE 0380
        gbc.setState(0x5139, 0x467b, 0x5b0, 0x9d09, 0xf886, 0x27f9, 0x0, 0x0);
        gbc.writeMem(0x27f9, { 0xfe });
        gbc.writeMem(0x5139, { 0xbe });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x467b, gbc.sp());
        EXPECT(0x513a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0381
        gbc.setState(0x170f, 0xf748, 0x2fc0, 0xde67, 0x57d0, 0x49d1, 0x1, 0x0);
        gbc.writeMem(0x170f, { 0xbe });
        gbc.writeMem(0x49d1, { 0xdc });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xf748, gbc.sp());
        EXPECT(0x1710, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0382
        gbc.setState(0x8a4c, 0xdfa7, 0x4640, 0x2aa1, 0x3c7, 0xae7a, 0x0, 0x0);
        gbc.writeMem(0x8a4c, { 0xbe });
        gbc.writeMem(0xae7a, { 0x57 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xdfa7, gbc.sp());
        EXPECT(0x8a4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8a4c));
        EXPECT(0x57, gbc.readMem(0xae7a));
        // BE 0383
        gbc.setState(0x6bc9, 0xe2b8, 0xadd0, 0x6923, 0x40e6, 0x9a52, 0x1, 0x0);
        gbc.writeMem(0x6bc9, { 0xbe });
        gbc.writeMem(0x9a52, { 0x44 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xe2b8, gbc.sp());
        EXPECT(0x6bca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x44, gbc.readMem(0x9a52));
        // BE 0384
        gbc.setState(0xb715, 0x6b13, 0xc720, 0x7758, 0x8f65, 0x5c8e, 0x0, 0x1);
        gbc.writeMem(0x5c8e, { 0x1d });
        gbc.writeMem(0xb715, { 0xbe });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x6b13, gbc.sp());
        EXPECT(0xb716, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb715));
        // BE 0385
        gbc.setState(0x35cc, 0x927e, 0x3590, 0xf03c, 0xbb52, 0x3988, 0x0, 0x0);
        gbc.writeMem(0x35cc, { 0xbe });
        gbc.writeMem(0x3988, { 0xf4 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x927e, gbc.sp());
        EXPECT(0x35cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0386
        gbc.setState(0x1ad, 0x25f, 0x90e0, 0x8148, 0x2ea8, 0x38c9, 0x1, 0x0);
        gbc.writeMem(0x1ad, { 0xbe });
        gbc.writeMem(0x38c9, { 0xa6 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x25f, gbc.sp());
        EXPECT(0x1ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0387
        gbc.setState(0x1807, 0x5fbe, 0xc560, 0xa2b5, 0xf921, 0x4cc5, 0x1, 0x1);
        gbc.writeMem(0x1807, { 0xbe });
        gbc.writeMem(0x4cc5, { 0x95 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x5fbe, gbc.sp());
        EXPECT(0x1808, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0389
        gbc.setState(0xd7a9, 0x2938, 0xe4f0, 0xe19, 0x70e0, 0x4f17, 0x1, 0x0);
        gbc.writeMem(0x4f17, { 0x64 });
        gbc.writeMem(0xd7a9, { 0xbe });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x2938, gbc.sp());
        EXPECT(0xd7aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd7a9));
        // BE 038A
        gbc.setState(0x86b, 0x1a9d, 0x2d40, 0xe6ff, 0xbba5, 0x56ea, 0x1, 0x1);
        gbc.writeMem(0x86b, { 0xbe });
        gbc.writeMem(0x56ea, { 0x40 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x1a9d, gbc.sp());
        EXPECT(0x86c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 038B
        gbc.setState(0xbace, 0x78c3, 0xdee0, 0x30c, 0x2634, 0x946, 0x0, 0x0);
        gbc.writeMem(0x946, { 0xec });
        gbc.writeMem(0xbace, { 0xbe });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x78c3, gbc.sp());
        EXPECT(0xbacf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbace));
        // BE 038C
        gbc.setState(0x4588, 0xf24a, 0x70c0, 0xfce8, 0x949c, 0x9994, 0x1, 0x1);
        gbc.writeMem(0x4588, { 0xbe });
        gbc.writeMem(0x9994, { 0x5c });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xf24a, gbc.sp());
        EXPECT(0x4589, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5c, gbc.readMem(0x9994));
        // BE 038D
        gbc.setState(0x6a0f, 0xf86, 0xc680, 0xef7f, 0xd103, 0x3465, 0x0, 0x1);
        gbc.writeMem(0x3465, { 0xa1 });
        gbc.writeMem(0x6a0f, { 0xbe });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xf86, gbc.sp());
        EXPECT(0x6a10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 038E
        gbc.setState(0x6f48, 0x4fa7, 0x2f80, 0xbeb9, 0x953f, 0xb656, 0x1, 0x1);
        gbc.writeMem(0x6f48, { 0xbe });
        gbc.writeMem(0xb656, { 0x7c });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x4fa7, gbc.sp());
        EXPECT(0x6f49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7c, gbc.readMem(0xb656));
        // BE 038F
        gbc.setState(0x256, 0x6cc6, 0x4ad0, 0x91df, 0x8ae7, 0xd8ce, 0x1, 0x0);
        gbc.writeMem(0x256, { 0xbe });
        gbc.writeMem(0xd8ce, { 0x36 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x6cc6, gbc.sp());
        EXPECT(0x257, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x36, gbc.readMem(0xd8ce));
        // BE 0390
        gbc.setState(0x2ca0, 0xb7b5, 0x77a0, 0x45ef, 0x6725, 0xe9b6, 0x0, 0x1);
        gbc.writeMem(0x2ca0, { 0xbe });
        gbc.writeMem(0xe9b6, { 0xb3 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xb7b5, gbc.sp());
        EXPECT(0x2ca1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb3, gbc.readMem(0xe9b6));
        // BE 0391
        gbc.setState(0x9fa9, 0x8c49, 0x7fd0, 0xb099, 0x3c45, 0x891d, 0x1, 0x0);
        gbc.writeMem(0x891d, { 0x3c });
        gbc.writeMem(0x9fa9, { 0xbe });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x8c49, gbc.sp());
        EXPECT(0x9faa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3c, gbc.readMem(0x891d));
        EXPECT(0xbe, gbc.readMem(0x9fa9));
        // BE 0393
        gbc.setState(0xb8e9, 0xacf1, 0x6780, 0xf87, 0x541f, 0x6325, 0x1, 0x1);
        gbc.writeMem(0x6325, { 0xd6 });
        gbc.writeMem(0xb8e9, { 0xbe });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xacf1, gbc.sp());
        EXPECT(0xb8ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb8e9));
        // BE 0394
        gbc.setState(0x4b3a, 0xa262, 0xf4c0, 0xd063, 0x2e14, 0x2cd9, 0x1, 0x1);
        gbc.writeMem(0x2cd9, { 0x34 });
        gbc.writeMem(0x4b3a, { 0xbe });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xa262, gbc.sp());
        EXPECT(0x4b3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 0395
        gbc.setState(0xbf74, 0x7042, 0xe370, 0x7f50, 0x5a4c, 0xe4a, 0x0, 0x0);
        gbc.writeMem(0xe4a, { 0x62 });
        gbc.writeMem(0xbf74, { 0xbe });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x7042, gbc.sp());
        EXPECT(0xbf75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xbf74));
        // BE 0396
        gbc.setState(0x8baa, 0xb4bc, 0x4a0, 0x6204, 0x2ed9, 0xcb3d, 0x0, 0x0);
        gbc.writeMem(0x8baa, { 0xbe });
        gbc.writeMem(0xcb3d, { 0xee });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xb4bc, gbc.sp());
        EXPECT(0x8bab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8baa));
        EXPECT(0xee, gbc.readMem(0xcb3d));
        // BE 0397
        gbc.setState(0x1e48, 0xf97c, 0xaf0, 0xc198, 0xbd79, 0x128, 0x0, 0x0);
        gbc.writeMem(0x128, { 0xa8 });
        gbc.writeMem(0x1e48, { 0xbe });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xf97c, gbc.sp());
        EXPECT(0x1e49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 0398
        gbc.setState(0x9488, 0x3ff, 0xc3e0, 0xee1a, 0x310, 0x1739, 0x1, 0x1);
        gbc.writeMem(0x1739, { 0xbd });
        gbc.writeMem(0x9488, { 0xbe });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x3ff, gbc.sp());
        EXPECT(0x9489, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9488));
        // BE 0399
        gbc.setState(0xb25d, 0x726c, 0x8f60, 0x9ace, 0x710a, 0xb732, 0x0, 0x0);
        gbc.writeMem(0xb25d, { 0xbe });
        gbc.writeMem(0xb732, { 0x8e });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x726c, gbc.sp());
        EXPECT(0xb25e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb25d));
        EXPECT(0x8e, gbc.readMem(0xb732));
        // BE 039A
        gbc.setState(0x9632, 0x6330, 0x7760, 0xa984, 0x9ae1, 0x7293, 0x0, 0x1);
        gbc.writeMem(0x7293, { 0xfa });
        gbc.writeMem(0x9632, { 0xbe });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x6330, gbc.sp());
        EXPECT(0x9633, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9632));
        // BE 039B
        gbc.setState(0x230, 0x1644, 0x5920, 0x92b3, 0x59d8, 0x775b, 0x1, 0x0);
        gbc.writeMem(0x230, { 0xbe });
        gbc.writeMem(0x775b, { 0xe9 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x1644, gbc.sp());
        EXPECT(0x231, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 039C
        gbc.setState(0xa141, 0x2f5d, 0x74f0, 0x5439, 0xea63, 0x48e4, 0x1, 0x0);
        gbc.writeMem(0x48e4, { 0xd3 });
        gbc.writeMem(0xa141, { 0xbe });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x2f5d, gbc.sp());
        EXPECT(0xa142, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa141));
        // BE 039D
        gbc.setState(0x393d, 0x3d35, 0x87b0, 0x41f4, 0x1d8a, 0x5595, 0x0, 0x1);
        gbc.writeMem(0x393d, { 0xbe });
        gbc.writeMem(0x5595, { 0xa9 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x3d35, gbc.sp());
        EXPECT(0x393e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 039E
        gbc.setState(0x3c42, 0x8e45, 0x2dc0, 0x7a8a, 0x7273, 0xd6ba, 0x1, 0x1);
        gbc.writeMem(0x3c42, { 0xbe });
        gbc.writeMem(0xd6ba, { 0x77 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x8e45, gbc.sp());
        EXPECT(0x3c43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0xd6ba));
        // BE 03A0
        gbc.setState(0xc3d4, 0xc4ce, 0xc620, 0x4e65, 0xd177, 0x596d, 0x0, 0x0);
        gbc.writeMem(0x596d, { 0x41 });
        gbc.writeMem(0xc3d4, { 0xbe });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xc4ce, gbc.sp());
        EXPECT(0xc3d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc3d4));
        // BE 03A1
        gbc.setState(0x62f6, 0x9de6, 0x5080, 0x85c7, 0x1789, 0x6f6, 0x0, 0x1);
        gbc.writeMem(0x6f6, { 0xf });
        gbc.writeMem(0x62f6, { 0xbe });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x9de6, gbc.sp());
        EXPECT(0x62f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03A2
        gbc.setState(0x2052, 0xb3c8, 0xf0c0, 0xdefd, 0x1894, 0xdffc, 0x0, 0x0);
        gbc.writeMem(0x2052, { 0xbe });
        gbc.writeMem(0xdffc, { 0xf2 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xb3c8, gbc.sp());
        EXPECT(0x2053, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf2, gbc.readMem(0xdffc));
        // BE 03A3
        gbc.setState(0x2473, 0x3eca, 0x3480, 0xc96f, 0xf81, 0x24e1, 0x1, 0x1);
        gbc.writeMem(0x2473, { 0xbe });
        gbc.writeMem(0x24e1, { 0x30 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x3eca, gbc.sp());
        EXPECT(0x2474, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03A4
        gbc.setState(0x15b8, 0xaf9b, 0xb9b0, 0x35ef, 0xcab4, 0x8baa, 0x0, 0x0);
        gbc.writeMem(0x15b8, { 0xbe });
        gbc.writeMem(0x8baa, { 0x95 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xaf9b, gbc.sp());
        EXPECT(0x15b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x95, gbc.readMem(0x8baa));
        // BE 03A5
        gbc.setState(0x28eb, 0x7b4, 0xd2b0, 0x33a, 0x2e49, 0x4193, 0x1, 0x1);
        gbc.writeMem(0x28eb, { 0xbe });
        gbc.writeMem(0x4193, { 0x9b });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x7b4, gbc.sp());
        EXPECT(0x28ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03A6
        gbc.setState(0x3c32, 0x60d6, 0x7930, 0x202d, 0xf381, 0xd95f, 0x1, 0x0);
        gbc.writeMem(0x3c32, { 0xbe });
        gbc.writeMem(0xd95f, { 0xd7 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x60d6, gbc.sp());
        EXPECT(0x3c33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd7, gbc.readMem(0xd95f));
        // BE 03A7
        gbc.setState(0x93dc, 0x1f6f, 0x1f30, 0x81f4, 0xfb88, 0xbda4, 0x0, 0x0);
        gbc.writeMem(0x93dc, { 0xbe });
        gbc.writeMem(0xbda4, { 0xee });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x1f6f, gbc.sp());
        EXPECT(0x93dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x93dc));
        EXPECT(0xee, gbc.readMem(0xbda4));
        // BE 03A8
        gbc.setState(0xeeca, 0x9f1e, 0xc910, 0x7945, 0x8ee2, 0xb444, 0x1, 0x0);
        gbc.writeMem(0xb444, { 0x96 });
        gbc.writeMem(0xeeca, { 0xbe });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x9f1e, gbc.sp());
        EXPECT(0xeecb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x96, gbc.readMem(0xb444));
        EXPECT(0xbe, gbc.readMem(0xeeca));
        // BE 03AA
        gbc.setState(0x6f21, 0x197b, 0x8c20, 0xb1a7, 0x3445, 0xbe53, 0x1, 0x0);
        gbc.writeMem(0x6f21, { 0xbe });
        gbc.writeMem(0xbe53, { 0x78 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x197b, gbc.sp());
        EXPECT(0x6f22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x78, gbc.readMem(0xbe53));
        // BE 03AB
        gbc.setState(0xdac1, 0x355, 0xbf70, 0xe490, 0x9773, 0x1df5, 0x1, 0x0);
        gbc.writeMem(0x1df5, { 0x96 });
        gbc.writeMem(0xdac1, { 0xbe });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x355, gbc.sp());
        EXPECT(0xdac2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xdac1));
        // BE 03AC
        gbc.setState(0xd26e, 0x2a47, 0x1470, 0xf4d1, 0xb3ef, 0x4c92, 0x0, 0x0);
        gbc.writeMem(0x4c92, { 0xfc });
        gbc.writeMem(0xd26e, { 0xbe });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x2a47, gbc.sp());
        EXPECT(0xd26f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd26e));
        // BE 03AD
        gbc.setState(0x83a0, 0xd5fb, 0x4f90, 0x8d2a, 0x4486, 0x4800, 0x1, 0x1);
        gbc.writeMem(0x4800, { 0x78 });
        gbc.writeMem(0x83a0, { 0xbe });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xd5fb, gbc.sp());
        EXPECT(0x83a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x83a0));
        // BE 03AF
        gbc.setState(0x3456, 0xe48d, 0x8ee0, 0x2dd5, 0xbde, 0x4153, 0x1, 0x0);
        gbc.writeMem(0x3456, { 0xbe });
        gbc.writeMem(0x4153, { 0xe8 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xe48d, gbc.sp());
        EXPECT(0x3457, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 03B0
        gbc.setState(0xe392, 0xc619, 0xc510, 0xaa9b, 0xb3f, 0xac5f, 0x0, 0x0);
        gbc.writeMem(0xac5f, { 0x5f });
        gbc.writeMem(0xe392, { 0xbe });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xc619, gbc.sp());
        EXPECT(0xe393, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5f, gbc.readMem(0xac5f));
        EXPECT(0xbe, gbc.readMem(0xe392));
        // BE 03B1
        gbc.setState(0xae53, 0x7b6a, 0xf30, 0x30dc, 0x4300, 0x6c7d, 0x1, 0x0);
        gbc.writeMem(0x6c7d, { 0x7e });
        gbc.writeMem(0xae53, { 0xbe });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x7b6a, gbc.sp());
        EXPECT(0xae54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xae53));
        // BE 03B2
        gbc.setState(0xea1c, 0xff1a, 0x1f90, 0x6f5b, 0xf527, 0x486e, 0x0, 0x1);
        gbc.writeMem(0x486e, { 0x69 });
        gbc.writeMem(0xea1c, { 0xbe });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xff1a, gbc.sp());
        EXPECT(0xea1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xea1c));
        // BE 03B3
        gbc.setState(0xd883, 0xb33f, 0x33f0, 0x233c, 0xb24e, 0x533c, 0x0, 0x0);
        gbc.writeMem(0x533c, { 0xa3 });
        gbc.writeMem(0xd883, { 0xbe });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb33f, gbc.sp());
        EXPECT(0xd884, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd883));
        // BE 03B4
        gbc.setState(0x6b05, 0x351a, 0x6d30, 0x28ab, 0x9ddc, 0xa685, 0x1, 0x0);
        gbc.writeMem(0x6b05, { 0xbe });
        gbc.writeMem(0xa685, { 0xe5 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x351a, gbc.sp());
        EXPECT(0x6b06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe5, gbc.readMem(0xa685));
        // BE 03B5
        gbc.setState(0xec55, 0x5b85, 0x2830, 0x950e, 0x3e7e, 0x9905, 0x1, 0x0);
        gbc.writeMem(0x9905, { 0x80 });
        gbc.writeMem(0xec55, { 0xbe });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x5b85, gbc.sp());
        EXPECT(0xec56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x80, gbc.readMem(0x9905));
        EXPECT(0xbe, gbc.readMem(0xec55));
        // BE 03B6
        gbc.setState(0x36eb, 0x92b9, 0xf540, 0x6220, 0xc555, 0x3ab3, 0x0, 0x0);
        gbc.writeMem(0x36eb, { 0xbe });
        gbc.writeMem(0x3ab3, { 0xd6 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x92b9, gbc.sp());
        EXPECT(0x36ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03B7
        gbc.setState(0xcfb3, 0xb155, 0x3410, 0x1864, 0x8f81, 0x6637, 0x0, 0x0);
        gbc.writeMem(0x6637, { 0x1a });
        gbc.writeMem(0xcfb3, { 0xbe });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb155, gbc.sp());
        EXPECT(0xcfb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xcfb3));
        // BE 03B8
        gbc.setState(0x6acd, 0x646, 0xc150, 0xfd86, 0xee05, 0x9024, 0x0, 0x0);
        gbc.writeMem(0x6acd, { 0xbe });
        gbc.writeMem(0x9024, { 0x1e });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x646, gbc.sp());
        EXPECT(0x6ace, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1e, gbc.readMem(0x9024));
        // BE 03B9
        gbc.setState(0x1f6e, 0x108e, 0xf60, 0x9724, 0xcf, 0x6272, 0x1, 0x0);
        gbc.writeMem(0x1f6e, { 0xbe });
        gbc.writeMem(0x6272, { 0x27 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x108e, gbc.sp());
        EXPECT(0x1f6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 03BA
        gbc.setState(0xc471, 0x2d37, 0xb850, 0xa015, 0x2590, 0x8c4e, 0x0, 0x0);
        gbc.writeMem(0x8c4e, { 0xb8 });
        gbc.writeMem(0xc471, { 0xbe });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x2d37, gbc.sp());
        EXPECT(0xc472, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb8, gbc.readMem(0x8c4e));
        EXPECT(0xbe, gbc.readMem(0xc471));
        // BE 03BB
        gbc.setState(0x8ca9, 0x18a3, 0x8040, 0xfa2e, 0x4bc8, 0xdcf8, 0x1, 0x1);
        gbc.writeMem(0x8ca9, { 0xbe });
        gbc.writeMem(0xdcf8, { 0x77 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x18a3, gbc.sp());
        EXPECT(0x8caa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8ca9));
        EXPECT(0x77, gbc.readMem(0xdcf8));
        // BE 03BC
        gbc.setState(0x8b25, 0x16b5, 0x3df0, 0x183e, 0x6478, 0x6853, 0x0, 0x0);
        gbc.writeMem(0x6853, { 0xdc });
        gbc.writeMem(0x8b25, { 0xbe });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x16b5, gbc.sp());
        EXPECT(0x8b26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8b25));
        // BE 03BD
        gbc.setState(0x9306, 0x1345, 0xe810, 0xd454, 0xeaef, 0x57c3, 0x1, 0x1);
        gbc.writeMem(0x57c3, { 0xc0 });
        gbc.writeMem(0x9306, { 0xbe });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x1345, gbc.sp());
        EXPECT(0x9307, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x9306));
        // BE 03BE
        gbc.setState(0x1e43, 0x8bd7, 0xad50, 0xded8, 0xecb5, 0x892d, 0x0, 0x1);
        gbc.writeMem(0x1e43, { 0xbe });
        gbc.writeMem(0x892d, { 0xe6 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x8bd7, gbc.sp());
        EXPECT(0x1e44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe6, gbc.readMem(0x892d));
        // BE 03BF
        gbc.setState(0xa223, 0x602e, 0x49a0, 0x3b0f, 0x38c5, 0x90b6, 0x0, 0x0);
        gbc.writeMem(0x90b6, { 0x40 });
        gbc.writeMem(0xa223, { 0xbe });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x602e, gbc.sp());
        EXPECT(0xa224, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x40, gbc.readMem(0x90b6));
        EXPECT(0xbe, gbc.readMem(0xa223));
        // BE 03C0
        gbc.setState(0x1916, 0x3f4e, 0xa2d0, 0xaff6, 0x8042, 0x5e17, 0x0, 0x1);
        gbc.writeMem(0x1916, { 0xbe });
        gbc.writeMem(0x5e17, { 0x2b });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x3f4e, gbc.sp());
        EXPECT(0x1917, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03C1
        gbc.setState(0xb850, 0xdc18, 0x2a10, 0x70ce, 0xa254, 0x90a7, 0x0, 0x0);
        gbc.writeMem(0x90a7, { 0x96 });
        gbc.writeMem(0xb850, { 0xbe });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xdc18, gbc.sp());
        EXPECT(0xb851, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x96, gbc.readMem(0x90a7));
        EXPECT(0xbe, gbc.readMem(0xb850));
        // BE 03C2
        gbc.setState(0x355, 0x5ed7, 0x13c0, 0xb8af, 0x5486, 0x3641, 0x1, 0x1);
        gbc.writeMem(0x355, { 0xbe });
        gbc.writeMem(0x3641, { 0xe6 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x5ed7, gbc.sp());
        EXPECT(0x356, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 03C3
        gbc.setState(0xadf8, 0x78e, 0x8880, 0xbe95, 0x1788, 0x6f8, 0x0, 0x1);
        gbc.writeMem(0x6f8, { 0x2c });
        gbc.writeMem(0xadf8, { 0xbe });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x78e, gbc.sp());
        EXPECT(0xadf9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xadf8));
        // BE 03C4
        gbc.setState(0x581d, 0xa886, 0x8810, 0xee63, 0xc845, 0x7056, 0x1, 0x0);
        gbc.writeMem(0x581d, { 0xbe });
        gbc.writeMem(0x7056, { 0x22 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xa886, gbc.sp());
        EXPECT(0x581e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03C5
        gbc.setState(0x31bc, 0xecb8, 0x3e0, 0xee7, 0x2c0, 0xba32, 0x1, 0x1);
        gbc.writeMem(0x31bc, { 0xbe });
        gbc.writeMem(0xba32, { 0x16 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xecb8, gbc.sp());
        EXPECT(0x31bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x16, gbc.readMem(0xba32));
        // BE 03C6
        gbc.setState(0x5ecf, 0x3d1e, 0xcb0, 0x84ce, 0xb3f7, 0x7bf9, 0x1, 0x1);
        gbc.writeMem(0x5ecf, { 0xbe });
        gbc.writeMem(0x7bf9, { 0x36 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x3d1e, gbc.sp());
        EXPECT(0x5ed0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 03C7
        gbc.setState(0x53e4, 0x49a4, 0xf930, 0x718f, 0x7814, 0x4681, 0x0, 0x0);
        gbc.writeMem(0x4681, { 0xe2 });
        gbc.writeMem(0x53e4, { 0xbe });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x49a4, gbc.sp());
        EXPECT(0x53e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03C8
        gbc.setState(0x60f5, 0x3513, 0x7040, 0x47be, 0x4038, 0xb24a, 0x0, 0x1);
        gbc.writeMem(0x60f5, { 0xbe });
        gbc.writeMem(0xb24a, { 0x80 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x3513, gbc.sp());
        EXPECT(0x60f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x80, gbc.readMem(0xb24a));
        // BE 03C9
        gbc.setState(0xc128, 0xe5d8, 0x6660, 0x2907, 0x1a94, 0xf7ce, 0x0, 0x0);
        gbc.writeMem(0xc128, { 0xbe });
        gbc.writeMem(0xf7ce, { 0x1 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xe5d8, gbc.sp());
        EXPECT(0xc129, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc128));
        EXPECT(0x1, gbc.readMem(0xf7ce));
        // BE 03CA
        gbc.setState(0x51ed, 0x43a2, 0xd0, 0xd45b, 0x2a7e, 0xb007, 0x0, 0x1);
        gbc.writeMem(0x51ed, { 0xbe });
        gbc.writeMem(0xb007, { 0x95 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x43a2, gbc.sp());
        EXPECT(0x51ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x95, gbc.readMem(0xb007));
        // BE 03CB
        gbc.setState(0x21f5, 0x3809, 0x1570, 0xdf28, 0x2651, 0xa92f, 0x0, 0x0);
        gbc.writeMem(0x21f5, { 0xbe });
        gbc.writeMem(0xa92f, { 0x99 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x3809, gbc.sp());
        EXPECT(0x21f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x99, gbc.readMem(0xa92f));
        // BE 03CC
        gbc.setState(0xde0, 0xf893, 0xe8a0, 0x2ccd, 0xc036, 0x881d, 0x0, 0x1);
        gbc.writeMem(0xde0, { 0xbe });
        gbc.writeMem(0x881d, { 0x88 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xf893, gbc.sp());
        EXPECT(0xde1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x88, gbc.readMem(0x881d));
        // BE 03CD
        gbc.setState(0xca07, 0xb11d, 0x3d10, 0x4159, 0x513b, 0x987c, 0x0, 0x0);
        gbc.writeMem(0x987c, { 0xc6 });
        gbc.writeMem(0xca07, { 0xbe });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xb11d, gbc.sp());
        EXPECT(0xca08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc6, gbc.readMem(0x987c));
        EXPECT(0xbe, gbc.readMem(0xca07));
        // BE 03CE
        gbc.setState(0xe9b2, 0x61d0, 0x9f20, 0x62c6, 0xb5d1, 0x16b5, 0x0, 0x1);
        gbc.writeMem(0x16b5, { 0x2 });
        gbc.writeMem(0xe9b2, { 0xbe });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x61d0, gbc.sp());
        EXPECT(0xe9b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe9b2));
        // BE 03CF
        gbc.setState(0x1daa, 0x8120, 0xe00, 0x517a, 0x4323, 0x5a12, 0x0, 0x0);
        gbc.writeMem(0x1daa, { 0xbe });
        gbc.writeMem(0x5a12, { 0x3f });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x8120, gbc.sp());
        EXPECT(0x1dab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // BE 03D0
        gbc.setState(0x96f1, 0xdfde, 0x3020, 0xd0aa, 0x5cd6, 0xc989, 0x1, 0x1);
        gbc.writeMem(0x96f1, { 0xbe });
        gbc.writeMem(0xc989, { 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xdfde, gbc.sp());
        EXPECT(0x96f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x96f1));
        EXPECT(0xa, gbc.readMem(0xc989));
        // BE 03D1
        gbc.setState(0xe177, 0xe87d, 0x3350, 0x155d, 0xc94, 0x2092, 0x0, 0x0);
        gbc.writeMem(0x2092, { 0x1e });
        gbc.writeMem(0xe177, { 0xbe });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xe87d, gbc.sp());
        EXPECT(0xe178, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xe177));
        // BE 03D2
        gbc.setState(0x21ba, 0xfa61, 0xf0f0, 0xe08a, 0xc928, 0x44d9, 0x0, 0x1);
        gbc.writeMem(0x21ba, { 0xbe });
        gbc.writeMem(0x44d9, { 0xce });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xfa61, gbc.sp());
        EXPECT(0x21bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // BE 03D3
        gbc.setState(0x67c0, 0xbacc, 0x990, 0x1ab8, 0xa5d, 0x8925, 0x1, 0x1);
        gbc.writeMem(0x67c0, { 0xbe });
        gbc.writeMem(0x8925, { 0xcb });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xbacc, gbc.sp());
        EXPECT(0x67c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8925));
        // BE 03D4
        gbc.setState(0xb0e3, 0x2699, 0x1d40, 0x2c15, 0x4eb1, 0x3ac4, 0x0, 0x1);
        gbc.writeMem(0x3ac4, { 0x6b });
        gbc.writeMem(0xb0e3, { 0xbe });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x2699, gbc.sp());
        EXPECT(0xb0e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb0e3));
        // BE 03D5
        gbc.setState(0xc40a, 0xdead, 0x4b40, 0xfc7b, 0x53f2, 0x832, 0x1, 0x1);
        gbc.writeMem(0x832, { 0x31 });
        gbc.writeMem(0xc40a, { 0xbe });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xdead, gbc.sp());
        EXPECT(0xc40b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc40a));
        // BE 03D6
        gbc.setState(0x4490, 0xa6f4, 0x7e0, 0x3ef, 0xc314, 0xed3b, 0x1, 0x0);
        gbc.writeMem(0x4490, { 0xbe });
        gbc.writeMem(0xed3b, { 0x33 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xa6f4, gbc.sp());
        EXPECT(0x4491, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xed3b));
        // BE 03D7
        gbc.setState(0x168, 0xdd69, 0x22f0, 0x93f3, 0xd7f8, 0xa4f4, 0x1, 0x0);
        gbc.writeMem(0x168, { 0xbe });
        gbc.writeMem(0xa4f4, { 0xaf });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xdd69, gbc.sp());
        EXPECT(0x169, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xaf, gbc.readMem(0xa4f4));
        // BE 03D8
        gbc.setState(0x767a, 0x5272, 0x25a0, 0xac1f, 0xf9ec, 0xab61, 0x0, 0x0);
        gbc.writeMem(0x767a, { 0xbe });
        gbc.writeMem(0xab61, { 0xb6 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x5272, gbc.sp());
        EXPECT(0x767b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb6, gbc.readMem(0xab61));
        // BE 03D9
        gbc.setState(0xc819, 0x7044, 0x2900, 0x95f0, 0x10d1, 0x1c00, 0x1, 0x0);
        gbc.writeMem(0x1c00, { 0xb7 });
        gbc.writeMem(0xc819, { 0xbe });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x7044, gbc.sp());
        EXPECT(0xc81a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xc819));
        // BE 03DA
        gbc.setState(0x846f, 0x37d2, 0xe0f0, 0x2c7b, 0xcfa0, 0xc992, 0x0, 0x1);
        gbc.writeMem(0x846f, { 0xbe });
        gbc.writeMem(0xc992, { 0x81 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x37d2, gbc.sp());
        EXPECT(0x8470, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x846f));
        EXPECT(0x81, gbc.readMem(0xc992));
        // BE 03DB
        gbc.setState(0xd632, 0x1c8a, 0xf160, 0x1750, 0x2695, 0x2731, 0x0, 0x0);
        gbc.writeMem(0x2731, { 0x1 });
        gbc.writeMem(0xd632, { 0xbe });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x1c8a, gbc.sp());
        EXPECT(0xd633, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xd632));
        // BE 03DC
        gbc.setState(0x898c, 0x915b, 0x27a0, 0x8ae8, 0xc40a, 0x8964, 0x1, 0x0);
        gbc.writeMem(0x8964, { 0x9a });
        gbc.writeMem(0x898c, { 0xbe });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x915b, gbc.sp());
        EXPECT(0x898d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9a, gbc.readMem(0x8964));
        EXPECT(0xbe, gbc.readMem(0x898c));
        // BE 03DD
        gbc.setState(0x8843, 0x21ac, 0xaa0, 0x98b2, 0x8a5a, 0x5e86, 0x1, 0x0);
        gbc.writeMem(0x5e86, { 0x36 });
        gbc.writeMem(0x8843, { 0xbe });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x21ac, gbc.sp());
        EXPECT(0x8844, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8843));
        // BE 03DE
        gbc.setState(0x76d6, 0xb8af, 0x7750, 0xad30, 0x8805, 0xcb56, 0x1, 0x1);
        gbc.writeMem(0x76d6, { 0xbe });
        gbc.writeMem(0xcb56, { 0x32 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xb8af, gbc.sp());
        EXPECT(0x76d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x32, gbc.readMem(0xcb56));
        // BE 03DF
        gbc.setState(0xb106, 0x4b84, 0xf840, 0xf9f4, 0x7293, 0xda72, 0x1, 0x1);
        gbc.writeMem(0xb106, { 0xbe });
        gbc.writeMem(0xda72, { 0x6 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x4b84, gbc.sp());
        EXPECT(0xb107, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb106));
        EXPECT(0x6, gbc.readMem(0xda72));
        // BE 03E0
        gbc.setState(0xb873, 0x7c64, 0x7260, 0x9783, 0x14d, 0xeb77, 0x1, 0x0);
        gbc.writeMem(0xb873, { 0xbe });
        gbc.writeMem(0xeb77, { 0x7f });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x7c64, gbc.sp());
        EXPECT(0xb874, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb873));
        EXPECT(0x7f, gbc.readMem(0xeb77));
        // BE 03E1
        gbc.setState(0x3191, 0x8fba, 0xa7f0, 0xcee3, 0x3e8e, 0xe90c, 0x0, 0x0);
        gbc.writeMem(0x3191, { 0xbe });
        gbc.writeMem(0xe90c, { 0x1 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x8fba, gbc.sp());
        EXPECT(0x3192, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1, gbc.readMem(0xe90c));
        // BE 03E2
        gbc.setState(0x5597, 0xe3a9, 0x7f60, 0xe7a5, 0xc282, 0xfec2, 0x1, 0x1);
        gbc.writeMem(0x5597, { 0xbe });
        gbc.writeMem(0xfec2, { 0xf2 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xe3a9, gbc.sp());
        EXPECT(0x5598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf2, gbc.readMem(0xfec2));
        // BE 03E3
        gbc.setState(0xb97f, 0xa9d, 0x7050, 0xcb4b, 0x6753, 0x60e8, 0x1, 0x1);
        gbc.writeMem(0x60e8, { 0xf4 });
        gbc.writeMem(0xb97f, { 0xbe });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xa9d, gbc.sp());
        EXPECT(0xb980, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xb97f));
        // BE 03E4
        gbc.setState(0xecba, 0xeb2f, 0x3de0, 0x126f, 0x33c7, 0xecd8, 0x0, 0x1);
        gbc.writeMem(0xecba, { 0xbe });
        gbc.writeMem(0xecd8, { 0x1a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xeb2f, gbc.sp());
        EXPECT(0xecbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xecba));
        EXPECT(0x1a, gbc.readMem(0xecd8));
        // BE 03E5
        gbc.setState(0x3a62, 0x1a43, 0x4f70, 0x7264, 0xb018, 0x814d, 0x1, 0x0);
        gbc.writeMem(0x3a62, { 0xbe });
        gbc.writeMem(0x814d, { 0x9d });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x1a43, gbc.sp());
        EXPECT(0x3a63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9d, gbc.readMem(0x814d));
        // BE 03E6
        gbc.setState(0x68a0, 0x461c, 0x7dc0, 0x1582, 0x387b, 0xf0ae, 0x0, 0x1);
        gbc.writeMem(0x68a0, { 0xbe });
        gbc.writeMem(0xf0ae, { 0x23 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x461c, gbc.sp());
        EXPECT(0x68a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x23, gbc.readMem(0xf0ae));
        // BE 03E7
        gbc.setState(0x8b21, 0x10a7, 0xba90, 0x9c5d, 0x3673, 0xda56, 0x0, 0x1);
        gbc.writeMem(0x8b21, { 0xbe });
        gbc.writeMem(0xda56, { 0xaa });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x10a7, gbc.sp());
        EXPECT(0x8b22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0x8b21));
        EXPECT(0xaa, gbc.readMem(0xda56));
    }
