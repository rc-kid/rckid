    TEST(gbcemu, opcode_ad) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // AD 0000
        gbc.setState(0xea5c, 0x7293, 0x1310, 0x72f3, 0xf006, 0xb7ba, 0x0, 0x0);
        gbc.writeMem(0xea5c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7293);
        EXPECT(gbc.pc(), 0xea5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea5c), 0xad);
        // AD 0001
        gbc.setState(0xe7b2, 0xc087, 0x6f80, 0xfdc8, 0xba0e, 0x1044, 0x0, 0x0);
        gbc.writeMem(0xe7b2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc087);
        EXPECT(gbc.pc(), 0xe7b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7b2), 0xad);
        // AD 0002
        gbc.setState(0x14f1, 0x310c, 0x5690, 0x92ef, 0xc7cf, 0xa18e, 0x0, 0x0);
        gbc.writeMem(0x14f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x310c);
        EXPECT(gbc.pc(), 0x14f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0003
        gbc.setState(0x2e22, 0xab82, 0x77c0, 0x5caa, 0x4dbc, 0x7cb4, 0x0, 0x0);
        gbc.writeMem(0x2e22, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xab82);
        EXPECT(gbc.pc(), 0x2e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0004
        gbc.setState(0x5d6b, 0x46d7, 0x8ce0, 0x6dcb, 0xe471, 0xcd56, 0x0, 0x1);
        gbc.writeMem(0x5d6b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x46d7);
        EXPECT(gbc.pc(), 0x5d6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0005
        gbc.setState(0x4011, 0xde3e, 0x1550, 0xacc, 0xcf74, 0x1dbe, 0x0, 0x1);
        gbc.writeMem(0x4011, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xde3e);
        EXPECT(gbc.pc(), 0x4012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0007
        gbc.setState(0x13, 0x83bd, 0xaec0, 0x7462, 0xa38e, 0xa75a, 0x0, 0x0);
        gbc.writeMem(0x13, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x83bd);
        EXPECT(gbc.pc(), 0x14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0008
        gbc.setState(0x568f, 0x5cdc, 0x2170, 0x34eb, 0xd17f, 0x827e, 0x1, 0x1);
        gbc.writeMem(0x568f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5cdc);
        EXPECT(gbc.pc(), 0x5690);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0009
        gbc.setState(0x59af, 0x3488, 0x59b0, 0xa663, 0xa524, 0x80cd, 0x0, 0x1);
        gbc.writeMem(0x59af, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x3488);
        EXPECT(gbc.pc(), 0x59b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 000A
        gbc.setState(0x32a7, 0x3b2d, 0x75c0, 0x1059, 0xe834, 0x8dfc, 0x1, 0x1);
        gbc.writeMem(0x32a7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3b2d);
        EXPECT(gbc.pc(), 0x32a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 000B
        gbc.setState(0xd3be, 0x6881, 0x5520, 0xb37e, 0xb7bd, 0xb0f5, 0x0, 0x0);
        gbc.writeMem(0xd3be, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6881);
        EXPECT(gbc.pc(), 0xd3bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3be), 0xad);
        // AD 000C
        gbc.setState(0x8cb0, 0xd13a, 0x4d40, 0x917, 0x4485, 0x5dd2, 0x1, 0x0);
        gbc.writeMem(0x8cb0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xd13a);
        EXPECT(gbc.pc(), 0x8cb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cb0), 0xad);
        // AD 000D
        gbc.setState(0x5c21, 0x53e0, 0x2cc0, 0x5316, 0xf255, 0x21b1, 0x0, 0x1);
        gbc.writeMem(0x5c21, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x53e0);
        EXPECT(gbc.pc(), 0x5c22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 000E
        gbc.setState(0xd89b, 0xe71c, 0xff70, 0xf9ec, 0x931, 0x79a1, 0x0, 0x0);
        gbc.writeMem(0xd89b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe71c);
        EXPECT(gbc.pc(), 0xd89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd89b), 0xad);
        // AD 000F
        gbc.setState(0xa624, 0x926a, 0x31f0, 0x3cd6, 0x7a87, 0xfa2d, 0x0, 0x0);
        gbc.writeMem(0xa624, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x926a);
        EXPECT(gbc.pc(), 0xa625);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa624), 0xad);
        // AD 0010
        gbc.setState(0x74f7, 0x975d, 0x8a00, 0xfa35, 0x7b4b, 0x9b95, 0x1, 0x0);
        gbc.writeMem(0x74f7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x975d);
        EXPECT(gbc.pc(), 0x74f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0011
        gbc.setState(0xe0fd, 0x3334, 0xa700, 0x76a1, 0x838, 0xb899, 0x1, 0x1);
        gbc.writeMem(0xe0fd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3334);
        EXPECT(gbc.pc(), 0xe0fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0fd), 0xad);
        // AD 0012
        gbc.setState(0xa12, 0xb687, 0x1ca0, 0x2a62, 0xf0c7, 0x1cca, 0x1, 0x1);
        gbc.writeMem(0xa12, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb687);
        EXPECT(gbc.pc(), 0xa13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0013
        gbc.setState(0x9cb6, 0x214, 0x7be0, 0x7977, 0xfe20, 0xd72d, 0x0, 0x1);
        gbc.writeMem(0x9cb6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x214);
        EXPECT(gbc.pc(), 0x9cb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cb6), 0xad);
        // AD 0014
        gbc.setState(0xdc0f, 0xb08, 0x6160, 0x286c, 0xcdf0, 0x938a, 0x0, 0x0);
        gbc.writeMem(0xdc0f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xb08);
        EXPECT(gbc.pc(), 0xdc10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc0f), 0xad);
        // AD 0015
        gbc.setState(0x4dbb, 0x2577, 0x76f0, 0x7458, 0xbd8, 0xaddb, 0x0, 0x0);
        gbc.writeMem(0x4dbb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x2577);
        EXPECT(gbc.pc(), 0x4dbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0017
        gbc.setState(0xdfb0, 0xee6b, 0xce10, 0x2117, 0x3530, 0xa22b, 0x0, 0x0);
        gbc.writeMem(0xdfb0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xee6b);
        EXPECT(gbc.pc(), 0xdfb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfb0), 0xad);
        // AD 0018
        gbc.setState(0xbc4, 0x50f8, 0xae90, 0xb108, 0x96eb, 0xc3f1, 0x1, 0x0);
        gbc.writeMem(0xbc4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x50f8);
        EXPECT(gbc.pc(), 0xbc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0019
        gbc.setState(0xc78d, 0xa710, 0x2c30, 0xe061, 0x2b97, 0x967d, 0x1, 0x1);
        gbc.writeMem(0xc78d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa710);
        EXPECT(gbc.pc(), 0xc78e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc78d), 0xad);
        // AD 001A
        gbc.setState(0x62e7, 0x6da3, 0x89a0, 0x1228, 0xfb1f, 0x23ff, 0x1, 0x1);
        gbc.writeMem(0x62e7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x6da3);
        EXPECT(gbc.pc(), 0x62e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 001B
        gbc.setState(0xc3c7, 0x8037, 0x9da0, 0x2f30, 0x726, 0xa9df, 0x1, 0x1);
        gbc.writeMem(0xc3c7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8037);
        EXPECT(gbc.pc(), 0xc3c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3c7), 0xad);
        // AD 001C
        gbc.setState(0xbe39, 0x3e1e, 0xcce0, 0x56a0, 0xc16a, 0x3976, 0x0, 0x0);
        gbc.writeMem(0xbe39, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3e1e);
        EXPECT(gbc.pc(), 0xbe3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe39), 0xad);
        // AD 001D
        gbc.setState(0x717d, 0xa7e9, 0xf110, 0x1f4d, 0x6943, 0xb2ae, 0x0, 0x0);
        gbc.writeMem(0x717d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa7e9);
        EXPECT(gbc.pc(), 0x717e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 001E
        gbc.setState(0x66aa, 0xf2e8, 0xef40, 0x574b, 0x1105, 0xb2dc, 0x0, 0x1);
        gbc.writeMem(0x66aa, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf2e8);
        EXPECT(gbc.pc(), 0x66ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0020
        gbc.setState(0xec7c, 0xc576, 0x3360, 0x7a80, 0x5f3b, 0x2b0b, 0x1, 0x0);
        gbc.writeMem(0xec7c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc576);
        EXPECT(gbc.pc(), 0xec7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec7c), 0xad);
        // AD 0021
        gbc.setState(0x12be, 0xb336, 0x43c0, 0xc345, 0xa495, 0xb35c, 0x0, 0x0);
        gbc.writeMem(0x12be, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb336);
        EXPECT(gbc.pc(), 0x12bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0022
        gbc.setState(0x8822, 0x39fc, 0xa4b0, 0xd9, 0x3b36, 0x6d1e, 0x0, 0x1);
        gbc.writeMem(0x8822, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x39fc);
        EXPECT(gbc.pc(), 0x8823);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8822), 0xad);
        // AD 0023
        gbc.setState(0x2441, 0xa7b5, 0x3e30, 0x43a0, 0xa1b4, 0xa112, 0x1, 0x1);
        gbc.writeMem(0x2441, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa7b5);
        EXPECT(gbc.pc(), 0x2442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0024
        gbc.setState(0x2697, 0xd071, 0x5430, 0x1989, 0x9ebe, 0x6fa, 0x0, 0x0);
        gbc.writeMem(0x2697, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd071);
        EXPECT(gbc.pc(), 0x2698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0025
        gbc.setState(0x199f, 0xa81f, 0x9810, 0xfe12, 0xbda4, 0x54e6, 0x1, 0x1);
        gbc.writeMem(0x199f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xa81f);
        EXPECT(gbc.pc(), 0x19a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0026
        gbc.setState(0x4846, 0x95e5, 0x470, 0x4c15, 0x6254, 0x4ee2, 0x0, 0x0);
        gbc.writeMem(0x4846, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x95e5);
        EXPECT(gbc.pc(), 0x4847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0027
        gbc.setState(0xde09, 0xe69d, 0x1590, 0xd56c, 0x1c4a, 0x9856, 0x0, 0x0);
        gbc.writeMem(0xde09, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe69d);
        EXPECT(gbc.pc(), 0xde0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde09), 0xad);
        // AD 0028
        gbc.setState(0xbcb6, 0xff80, 0x58c0, 0x611d, 0x6ee7, 0x5fd3, 0x0, 0x1);
        gbc.writeMem(0xbcb6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xff80);
        EXPECT(gbc.pc(), 0xbcb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcb6), 0xad);
        // AD 0029
        gbc.setState(0x5390, 0x5a6b, 0x3110, 0xc27c, 0x3b60, 0xf558, 0x0, 0x0);
        gbc.writeMem(0x5390, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x5a6b);
        EXPECT(gbc.pc(), 0x5391);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 002A
        gbc.setState(0xe499, 0xefdd, 0x390, 0xa614, 0x3226, 0x5df6, 0x0, 0x1);
        gbc.writeMem(0xe499, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xefdd);
        EXPECT(gbc.pc(), 0xe49a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe499), 0xad);
        // AD 002B
        gbc.setState(0xae0a, 0x59e2, 0x7310, 0x4f0d, 0x9eba, 0x9af1, 0x0, 0x0);
        gbc.writeMem(0xae0a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x59e2);
        EXPECT(gbc.pc(), 0xae0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae0a), 0xad);
        // AD 002C
        gbc.setState(0x2317, 0x7a5d, 0x4d30, 0xe4b5, 0xba7b, 0x85dc, 0x1, 0x0);
        gbc.writeMem(0x2317, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7a5d);
        EXPECT(gbc.pc(), 0x2318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 002D
        gbc.setState(0x4af, 0x95f3, 0x80f0, 0x93e9, 0x24cb, 0x5120, 0x0, 0x1);
        gbc.writeMem(0x4af, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x95f3);
        EXPECT(gbc.pc(), 0x4b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 002E
        gbc.setState(0x7e34, 0x2ef1, 0x2c50, 0xeeed, 0xdc08, 0x7024, 0x0, 0x0);
        gbc.writeMem(0x7e34, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2ef1);
        EXPECT(gbc.pc(), 0x7e35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 002F
        gbc.setState(0x5948, 0x97e5, 0xbcf0, 0x38c8, 0x6a38, 0xf55e, 0x1, 0x1);
        gbc.writeMem(0x5948, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x97e5);
        EXPECT(gbc.pc(), 0x5949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0030
        gbc.setState(0x515b, 0x9b0e, 0xe9b0, 0xc9a8, 0x5a7b, 0x8f82, 0x0, 0x0);
        gbc.writeMem(0x515b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9b0e);
        EXPECT(gbc.pc(), 0x515c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0031
        gbc.setState(0x660a, 0xf934, 0x6b60, 0x1381, 0x9b21, 0x4d2, 0x1, 0x0);
        gbc.writeMem(0x660a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf934);
        EXPECT(gbc.pc(), 0x660b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0032
        gbc.setState(0x8417, 0x85b8, 0x57f0, 0x5aa9, 0x90d6, 0xc3ea, 0x0, 0x1);
        gbc.writeMem(0x8417, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x85b8);
        EXPECT(gbc.pc(), 0x8418);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8417), 0xad);
        // AD 0033
        gbc.setState(0x47f0, 0x99c6, 0xb050, 0x104c, 0xc54e, 0xbdca, 0x0, 0x0);
        gbc.writeMem(0x47f0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x99c6);
        EXPECT(gbc.pc(), 0x47f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0034
        gbc.setState(0xe02e, 0xa119, 0xbb40, 0xb438, 0x554e, 0xf411, 0x1, 0x1);
        gbc.writeMem(0xe02e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa119);
        EXPECT(gbc.pc(), 0xe02f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe02e), 0xad);
        // AD 0035
        gbc.setState(0x291a, 0x7010, 0x8be0, 0xbdf8, 0xad7, 0x7258, 0x0, 0x1);
        gbc.writeMem(0x291a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7010);
        EXPECT(gbc.pc(), 0x291b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0036
        gbc.setState(0x55ea, 0xafe3, 0x2ee0, 0x1d27, 0xa224, 0x8215, 0x0, 0x1);
        gbc.writeMem(0x55ea, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xafe3);
        EXPECT(gbc.pc(), 0x55eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0037
        gbc.setState(0x69d0, 0x1bff, 0x3b20, 0x69a, 0xab1a, 0x5529, 0x1, 0x1);
        gbc.writeMem(0x69d0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1bff);
        EXPECT(gbc.pc(), 0x69d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0038
        gbc.setState(0x5a51, 0xbe7e, 0xc690, 0x8cc5, 0xe726, 0xe3e8, 0x1, 0x0);
        gbc.writeMem(0x5a51, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xbe7e);
        EXPECT(gbc.pc(), 0x5a52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0039
        gbc.setState(0x1055, 0x9e28, 0xb0c0, 0xabf8, 0xd238, 0x1391, 0x1, 0x0);
        gbc.writeMem(0x1055, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x9e28);
        EXPECT(gbc.pc(), 0x1056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 003A
        gbc.setState(0x4229, 0x3f35, 0xd2f0, 0xd7ed, 0xf25e, 0x3ff6, 0x1, 0x0);
        gbc.writeMem(0x4229, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x3f35);
        EXPECT(gbc.pc(), 0x422a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 003B
        gbc.setState(0x5b4d, 0xddbc, 0xc160, 0x3704, 0x9b4, 0x882d, 0x0, 0x1);
        gbc.writeMem(0x5b4d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xddbc);
        EXPECT(gbc.pc(), 0x5b4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 003C
        gbc.setState(0x55d5, 0xdb91, 0x5bc0, 0x5c2e, 0xc2f7, 0x1cf4, 0x1, 0x1);
        gbc.writeMem(0x55d5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xdb91);
        EXPECT(gbc.pc(), 0x55d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 003D
        gbc.setState(0x1427, 0x4bcb, 0x3500, 0xd0b7, 0x7fc1, 0x87a1, 0x1, 0x0);
        gbc.writeMem(0x1427, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4bcb);
        EXPECT(gbc.pc(), 0x1428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 003E
        gbc.setState(0x5c88, 0x1c0f, 0x9fc0, 0x2972, 0xfb8e, 0xb094, 0x1, 0x1);
        gbc.writeMem(0x5c88, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1c0f);
        EXPECT(gbc.pc(), 0x5c89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 003F
        gbc.setState(0xd53f, 0x263f, 0xe6a0, 0x512c, 0x480b, 0xc420, 0x1, 0x1);
        gbc.writeMem(0xd53f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x263f);
        EXPECT(gbc.pc(), 0xd540);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd53f), 0xad);
        // AD 0040
        gbc.setState(0x5b18, 0x15ee, 0x18d0, 0x56e9, 0x781a, 0xfffa, 0x0, 0x0);
        gbc.writeMem(0x5b18, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x15ee);
        EXPECT(gbc.pc(), 0x5b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0041
        gbc.setState(0xbd8, 0xdaea, 0x2ac0, 0xde01, 0xae27, 0x7d88, 0x0, 0x1);
        gbc.writeMem(0xbd8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xdaea);
        EXPECT(gbc.pc(), 0xbd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0042
        gbc.setState(0x5a52, 0x7b43, 0x60b0, 0x7674, 0x9da5, 0x41ba, 0x1, 0x0);
        gbc.writeMem(0x5a52, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7b43);
        EXPECT(gbc.pc(), 0x5a53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0043
        gbc.setState(0x7091, 0xf845, 0x83b0, 0x9413, 0x6c73, 0x63d6, 0x0, 0x1);
        gbc.writeMem(0x7091, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf845);
        EXPECT(gbc.pc(), 0x7092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0044
        gbc.setState(0x6f6c, 0xae80, 0xa8e0, 0x6d75, 0xfd64, 0xc76, 0x0, 0x1);
        gbc.writeMem(0x6f6c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xae80);
        EXPECT(gbc.pc(), 0x6f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0045
        gbc.setState(0x5182, 0xe2e0, 0x910, 0x56a5, 0xbe97, 0xb5f9, 0x0, 0x1);
        gbc.writeMem(0x5182, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe2e0);
        EXPECT(gbc.pc(), 0x5183);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0046
        gbc.setState(0x4f3e, 0x1bb0, 0x1df0, 0x34b2, 0x56f7, 0xb8c2, 0x1, 0x1);
        gbc.writeMem(0x4f3e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1bb0);
        EXPECT(gbc.pc(), 0x4f3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0047
        gbc.setState(0x8c18, 0x56d6, 0xc7c0, 0xf122, 0xa46d, 0xf32a, 0x1, 0x1);
        gbc.writeMem(0x8c18, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x56d6);
        EXPECT(gbc.pc(), 0x8c19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c18), 0xad);
        // AD 0048
        gbc.setState(0xc260, 0xba6a, 0x8d90, 0x7177, 0x9617, 0x3ad3, 0x1, 0x1);
        gbc.writeMem(0xc260, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xba6a);
        EXPECT(gbc.pc(), 0xc261);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc260), 0xad);
        // AD 0049
        gbc.setState(0x3f9a, 0x414c, 0x9620, 0x7ebe, 0x4d36, 0x1eec, 0x1, 0x0);
        gbc.writeMem(0x3f9a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x414c);
        EXPECT(gbc.pc(), 0x3f9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 004A
        gbc.setState(0xbc5, 0x3fda, 0x6e00, 0xca86, 0xc8a7, 0x1bc8, 0x1, 0x0);
        gbc.writeMem(0xbc5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3fda);
        EXPECT(gbc.pc(), 0xbc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 004B
        gbc.setState(0x90d6, 0x3ee0, 0xd780, 0xd8f9, 0x194d, 0x573, 0x1, 0x0);
        gbc.writeMem(0x90d6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3ee0);
        EXPECT(gbc.pc(), 0x90d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d6), 0xad);
        // AD 004C
        gbc.setState(0x9d72, 0x1695, 0x9840, 0x882a, 0xb68b, 0x50d3, 0x1, 0x0);
        gbc.writeMem(0x9d72, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x1695);
        EXPECT(gbc.pc(), 0x9d73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d72), 0xad);
        // AD 004D
        gbc.setState(0x85e1, 0xe634, 0x8b10, 0x480b, 0x9e06, 0xf57e, 0x0, 0x1);
        gbc.writeMem(0x85e1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe634);
        EXPECT(gbc.pc(), 0x85e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85e1), 0xad);
        // AD 004E
        gbc.setState(0x5db7, 0x6c07, 0xd530, 0x8630, 0x90ae, 0x955f, 0x1, 0x0);
        gbc.writeMem(0x5db7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6c07);
        EXPECT(gbc.pc(), 0x5db8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 004F
        gbc.setState(0x4202, 0xb2d7, 0xfac0, 0x917e, 0x47c8, 0x7a9c, 0x0, 0x0);
        gbc.writeMem(0x4202, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb2d7);
        EXPECT(gbc.pc(), 0x4203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0050
        gbc.setState(0x42de, 0xe839, 0x2180, 0x2289, 0x9293, 0x5040, 0x0, 0x1);
        gbc.writeMem(0x42de, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe839);
        EXPECT(gbc.pc(), 0x42df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0051
        gbc.setState(0xd110, 0xa3f3, 0xb320, 0x3c8e, 0xdf08, 0x5fba, 0x0, 0x0);
        gbc.writeMem(0xd110, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa3f3);
        EXPECT(gbc.pc(), 0xd111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd110), 0xad);
        // AD 0052
        gbc.setState(0x600b, 0x14da, 0xfbc0, 0x9581, 0x1fb2, 0x5bc8, 0x1, 0x0);
        gbc.writeMem(0x600b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x14da);
        EXPECT(gbc.pc(), 0x600c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0053
        gbc.setState(0x140d, 0x8bd5, 0xc610, 0xe3e5, 0x9327, 0xac13, 0x1, 0x0);
        gbc.writeMem(0x140d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8bd5);
        EXPECT(gbc.pc(), 0x140e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0054
        gbc.setState(0x3e7b, 0xbeeb, 0xc840, 0x674b, 0x871b, 0xb3d6, 0x1, 0x0);
        gbc.writeMem(0x3e7b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xbeeb);
        EXPECT(gbc.pc(), 0x3e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0055
        gbc.setState(0x750f, 0xc016, 0xa4e0, 0xc360, 0xa514, 0x10f8, 0x0, 0x0);
        gbc.writeMem(0x750f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xc016);
        EXPECT(gbc.pc(), 0x7510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0056
        gbc.setState(0x862e, 0x8639, 0x9520, 0x5cf9, 0x52c1, 0x18c, 0x0, 0x0);
        gbc.writeMem(0x862e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8639);
        EXPECT(gbc.pc(), 0x862f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x862e), 0xad);
        // AD 0057
        gbc.setState(0x2248, 0x7947, 0x1450, 0x78c8, 0x3b29, 0x1ef2, 0x1, 0x0);
        gbc.writeMem(0x2248, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x7947);
        EXPECT(gbc.pc(), 0x2249);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0058
        gbc.setState(0x1a82, 0x9dac, 0xe010, 0x1d80, 0x4bb7, 0xeed9, 0x1, 0x1);
        gbc.writeMem(0x1a82, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x9dac);
        EXPECT(gbc.pc(), 0x1a83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0059
        gbc.setState(0x5f11, 0x4945, 0x6e50, 0x4298, 0xbdcb, 0x370c, 0x0, 0x1);
        gbc.writeMem(0x5f11, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4945);
        EXPECT(gbc.pc(), 0x5f12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 005A
        gbc.setState(0x22c4, 0xc91e, 0x4090, 0xc762, 0x5ebd, 0xbb4c, 0x0, 0x0);
        gbc.writeMem(0x22c4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc91e);
        EXPECT(gbc.pc(), 0x22c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 005B
        gbc.setState(0xe0c1, 0x6c35, 0x2ef0, 0x15f1, 0x9bfb, 0xbbb4, 0x0, 0x0);
        gbc.writeMem(0xe0c1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6c35);
        EXPECT(gbc.pc(), 0xe0c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0c1), 0xad);
        // AD 005C
        gbc.setState(0xdae7, 0x6051, 0x8b70, 0xe0e6, 0xceca, 0xddc6, 0x0, 0x1);
        gbc.writeMem(0xdae7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x6051);
        EXPECT(gbc.pc(), 0xdae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae7), 0xad);
        // AD 005D
        gbc.setState(0xa432, 0x831f, 0x31a0, 0x4280, 0xb435, 0xc96f, 0x0, 0x1);
        gbc.writeMem(0xa432, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x831f);
        EXPECT(gbc.pc(), 0xa433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa432), 0xad);
        // AD 005E
        gbc.setState(0x688c, 0x1b5b, 0xd3a0, 0xe11e, 0xa2a6, 0x4338, 0x0, 0x1);
        gbc.writeMem(0x688c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x1b5b);
        EXPECT(gbc.pc(), 0x688d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 005F
        gbc.setState(0xcaa5, 0x2114, 0xf6f0, 0x451, 0xfb60, 0x4973, 0x1, 0x0);
        gbc.writeMem(0xcaa5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2114);
        EXPECT(gbc.pc(), 0xcaa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaa5), 0xad);
        // AD 0060
        gbc.setState(0x176d, 0x2f18, 0xe700, 0x721c, 0xe1b9, 0xc5d2, 0x1, 0x1);
        gbc.writeMem(0x176d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2f18);
        EXPECT(gbc.pc(), 0x176e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0061
        gbc.setState(0x2720, 0x244b, 0x7f30, 0x9065, 0x4a35, 0x12f6, 0x1, 0x1);
        gbc.writeMem(0x2720, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x244b);
        EXPECT(gbc.pc(), 0x2721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0062
        gbc.setState(0x14fa, 0x7faf, 0xfb40, 0x8b74, 0xb053, 0xe17d, 0x1, 0x1);
        gbc.writeMem(0x14fa, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7faf);
        EXPECT(gbc.pc(), 0x14fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0063
        gbc.setState(0xa41e, 0xd748, 0x7b70, 0xb76d, 0x8bec, 0x1991, 0x1, 0x0);
        gbc.writeMem(0xa41e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd748);
        EXPECT(gbc.pc(), 0xa41f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa41e), 0xad);
        // AD 0065
        gbc.setState(0x9bf5, 0xf1d4, 0x5bd0, 0x596c, 0x6351, 0xe67, 0x0, 0x1);
        gbc.writeMem(0x9bf5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf1d4);
        EXPECT(gbc.pc(), 0x9bf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bf5), 0xad);
        // AD 0066
        gbc.setState(0x5e78, 0x45f4, 0xb320, 0x7b9, 0x5fc5, 0xdde2, 0x1, 0x0);
        gbc.writeMem(0x5e78, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x45f4);
        EXPECT(gbc.pc(), 0x5e79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0067
        gbc.setState(0x7ae0, 0xa79b, 0xb390, 0xd799, 0xb94f, 0x114f, 0x0, 0x0);
        gbc.writeMem(0x7ae0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa79b);
        EXPECT(gbc.pc(), 0x7ae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0068
        gbc.setState(0x113e, 0xda1a, 0x1b00, 0xcacd, 0x9439, 0xf61f, 0x0, 0x0);
        gbc.writeMem(0x113e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xda1a);
        EXPECT(gbc.pc(), 0x113f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0069
        gbc.setState(0xab22, 0xba13, 0xa070, 0xbf5d, 0xaa78, 0x23cf, 0x1, 0x0);
        gbc.writeMem(0xab22, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xba13);
        EXPECT(gbc.pc(), 0xab23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab22), 0xad);
        // AD 006A
        gbc.setState(0x3eca, 0x3629, 0x93c0, 0xeeb, 0x8153, 0xdc4, 0x0, 0x0);
        gbc.writeMem(0x3eca, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3629);
        EXPECT(gbc.pc(), 0x3ecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 006B
        gbc.setState(0x8408, 0x67a0, 0xe850, 0xd145, 0x2383, 0xdbbf, 0x1, 0x0);
        gbc.writeMem(0x8408, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x67a0);
        EXPECT(gbc.pc(), 0x8409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8408), 0xad);
        // AD 006C
        gbc.setState(0x9e25, 0xe658, 0xec40, 0x44e8, 0x58cb, 0x2bfd, 0x0, 0x1);
        gbc.writeMem(0x9e25, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe658);
        EXPECT(gbc.pc(), 0x9e26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e25), 0xad);
        // AD 006D
        gbc.setState(0x6a69, 0x299c, 0x39c0, 0xc5fb, 0x2145, 0xb099, 0x1, 0x0);
        gbc.writeMem(0x6a69, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x299c);
        EXPECT(gbc.pc(), 0x6a6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 006E
        gbc.setState(0x9999, 0x564e, 0xeb10, 0x470a, 0x78c5, 0x53d4, 0x1, 0x1);
        gbc.writeMem(0x9999, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x564e);
        EXPECT(gbc.pc(), 0x999a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9999), 0xad);
        // AD 006F
        gbc.setState(0xb132, 0x21c5, 0x520, 0xca95, 0x7832, 0xc230, 0x0, 0x1);
        gbc.writeMem(0xb132, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x21c5);
        EXPECT(gbc.pc(), 0xb133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb132), 0xad);
        // AD 0070
        gbc.setState(0xaba0, 0x6bc4, 0x2ea0, 0xdcc4, 0xbbc, 0x76b7, 0x0, 0x1);
        gbc.writeMem(0xaba0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6bc4);
        EXPECT(gbc.pc(), 0xaba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaba0), 0xad);
        // AD 0071
        gbc.setState(0x7d01, 0x3c3f, 0x6bb0, 0x95dd, 0x3c4d, 0x8b2b, 0x0, 0x1);
        gbc.writeMem(0x7d01, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3c3f);
        EXPECT(gbc.pc(), 0x7d02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0072
        gbc.setState(0x2fa1, 0xb00d, 0x9730, 0xba7a, 0x6fad, 0x4130, 0x1, 0x1);
        gbc.writeMem(0x2fa1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb00d);
        EXPECT(gbc.pc(), 0x2fa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0073
        gbc.setState(0x3382, 0x6cb1, 0xfdf0, 0xf303, 0xacc5, 0xbae4, 0x1, 0x0);
        gbc.writeMem(0x3382, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6cb1);
        EXPECT(gbc.pc(), 0x3383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0074
        gbc.setState(0xbbae, 0xcbc4, 0x25a0, 0x9f54, 0x4355, 0xdcf2, 0x0, 0x1);
        gbc.writeMem(0xbbae, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xcbc4);
        EXPECT(gbc.pc(), 0xbbaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbae), 0xad);
        // AD 0075
        gbc.setState(0x3453, 0xef46, 0x9b90, 0xe3e4, 0x7969, 0x4bd6, 0x0, 0x1);
        gbc.writeMem(0x3453, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xef46);
        EXPECT(gbc.pc(), 0x3454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0076
        gbc.setState(0xb81f, 0x9b90, 0xcf30, 0x5382, 0xe68e, 0x4c17, 0x0, 0x1);
        gbc.writeMem(0xb81f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9b90);
        EXPECT(gbc.pc(), 0xb820);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb81f), 0xad);
        // AD 0077
        gbc.setState(0x9a82, 0xed79, 0x4a60, 0xaeac, 0xb0c9, 0x95c7, 0x1, 0x1);
        gbc.writeMem(0x9a82, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xed79);
        EXPECT(gbc.pc(), 0x9a83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a82), 0xad);
        // AD 0078
        gbc.setState(0x754c, 0x7c68, 0xd9f0, 0x1c20, 0xe7df, 0xf689, 0x0, 0x0);
        gbc.writeMem(0x754c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x7c68);
        EXPECT(gbc.pc(), 0x754d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0079
        gbc.setState(0xa87b, 0x764a, 0xab00, 0x25c2, 0x625e, 0x1205, 0x0, 0x0);
        gbc.writeMem(0xa87b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x764a);
        EXPECT(gbc.pc(), 0xa87c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa87b), 0xad);
        // AD 007A
        gbc.setState(0xb8a2, 0xbc1, 0x7230, 0xbb09, 0xdca3, 0xc263, 0x1, 0x1);
        gbc.writeMem(0xb8a2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xbc1);
        EXPECT(gbc.pc(), 0xb8a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8a2), 0xad);
        // AD 007B
        gbc.setState(0x80f7, 0x4d67, 0xca20, 0xda9c, 0x633b, 0x6fd8, 0x0, 0x0);
        gbc.writeMem(0x80f7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4d67);
        EXPECT(gbc.pc(), 0x80f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80f7), 0xad);
        // AD 007C
        gbc.setState(0xbb00, 0x15a7, 0xbc10, 0xbbad, 0x47d3, 0xb35a, 0x1, 0x1);
        gbc.writeMem(0xbb00, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x15a7);
        EXPECT(gbc.pc(), 0xbb01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb00), 0xad);
        // AD 007D
        gbc.setState(0x3df2, 0xb4a9, 0x4af0, 0xeae7, 0x411b, 0xd451, 0x0, 0x1);
        gbc.writeMem(0x3df2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xb4a9);
        EXPECT(gbc.pc(), 0x3df3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 007E
        gbc.setState(0xad44, 0xf8ae, 0x7490, 0x6d8d, 0x90bb, 0x8651, 0x0, 0x1);
        gbc.writeMem(0xad44, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xf8ae);
        EXPECT(gbc.pc(), 0xad45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad44), 0xad);
        // AD 007F
        gbc.setState(0x96b2, 0x17e6, 0x7000, 0x79bd, 0x968b, 0xb4b2, 0x0, 0x1);
        gbc.writeMem(0x96b2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x17e6);
        EXPECT(gbc.pc(), 0x96b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96b2), 0xad);
        // AD 0080
        gbc.setState(0x7806, 0xb510, 0x83e0, 0x44b, 0x8c49, 0x943d, 0x0, 0x0);
        gbc.writeMem(0x7806, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb510);
        EXPECT(gbc.pc(), 0x7807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0081
        gbc.setState(0x2f3d, 0xaee3, 0x67a0, 0x7c6c, 0x37f3, 0x2048, 0x0, 0x0);
        gbc.writeMem(0x2f3d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xaee3);
        EXPECT(gbc.pc(), 0x2f3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0082
        gbc.setState(0xd79b, 0x5636, 0x3140, 0xf2ad, 0x8304, 0xdb42, 0x0, 0x1);
        gbc.writeMem(0xd79b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x5636);
        EXPECT(gbc.pc(), 0xd79c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd79b), 0xad);
        // AD 0083
        gbc.setState(0x72fc, 0xd4e5, 0xeea0, 0xe40e, 0x83e8, 0x1f34, 0x0, 0x0);
        gbc.writeMem(0x72fc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xd4e5);
        EXPECT(gbc.pc(), 0x72fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0084
        gbc.setState(0xfa8, 0xa636, 0x4b40, 0x4c13, 0xaa34, 0x1e12, 0x0, 0x0);
        gbc.writeMem(0xfa8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa636);
        EXPECT(gbc.pc(), 0xfa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0085
        gbc.setState(0xdd5f, 0x5f0e, 0x1cd0, 0xfec2, 0x2d27, 0xe6b3, 0x0, 0x1);
        gbc.writeMem(0xdd5f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5f0e);
        EXPECT(gbc.pc(), 0xdd60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd5f), 0xad);
        // AD 0087
        gbc.setState(0x59e6, 0xafc6, 0xc90, 0x8219, 0x4169, 0x5b3, 0x1, 0x1);
        gbc.writeMem(0x59e6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xafc6);
        EXPECT(gbc.pc(), 0x59e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0089
        gbc.setState(0x9427, 0xd592, 0xd960, 0x76d5, 0x6011, 0x883f, 0x1, 0x0);
        gbc.writeMem(0x9427, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd592);
        EXPECT(gbc.pc(), 0x9428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9427), 0xad);
        // AD 008A
        gbc.setState(0x9f9f, 0x4f05, 0x6d80, 0xf9c5, 0xda97, 0x5724, 0x0, 0x0);
        gbc.writeMem(0x9f9f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4f05);
        EXPECT(gbc.pc(), 0x9fa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f9f), 0xad);
        // AD 008C
        gbc.setState(0x1f1f, 0x1ab9, 0x2570, 0x17f6, 0x28ff, 0x3c02, 0x0, 0x1);
        gbc.writeMem(0x1f1f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1ab9);
        EXPECT(gbc.pc(), 0x1f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 008D
        gbc.setState(0x9648, 0x7b8b, 0xdc80, 0x8a92, 0x1895, 0x2214, 0x1, 0x0);
        gbc.writeMem(0x9648, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x7b8b);
        EXPECT(gbc.pc(), 0x9649);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9648), 0xad);
        // AD 008E
        gbc.setState(0xbffa, 0x4c5f, 0x1260, 0x8014, 0x2ea9, 0xd608, 0x0, 0x0);
        gbc.writeMem(0xbffa, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4c5f);
        EXPECT(gbc.pc(), 0xbffb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbffa), 0xad);
        // AD 008F
        gbc.setState(0x5cb0, 0xd915, 0x8280, 0xc4ba, 0xa548, 0x822a, 0x1, 0x0);
        gbc.writeMem(0x5cb0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd915);
        EXPECT(gbc.pc(), 0x5cb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0090
        gbc.setState(0x6e3b, 0x25ee, 0x2b0, 0x57f8, 0x2945, 0xca58, 0x1, 0x0);
        gbc.writeMem(0x6e3b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x25ee);
        EXPECT(gbc.pc(), 0x6e3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0091
        gbc.setState(0x4e35, 0xae1b, 0xeb70, 0x9919, 0x6288, 0x449f, 0x0, 0x1);
        gbc.writeMem(0x4e35, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xae1b);
        EXPECT(gbc.pc(), 0x4e36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0092
        gbc.setState(0x865a, 0x92ce, 0x7280, 0x6d2c, 0x1605, 0x7403, 0x1, 0x0);
        gbc.writeMem(0x865a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x92ce);
        EXPECT(gbc.pc(), 0x865b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x865a), 0xad);
        // AD 0093
        gbc.setState(0x3173, 0xca38, 0xe3c0, 0x6598, 0xe00e, 0x8fb, 0x1, 0x0);
        gbc.writeMem(0x3173, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xca38);
        EXPECT(gbc.pc(), 0x3174);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0094
        gbc.setState(0xe2f1, 0xb459, 0x2b70, 0x986d, 0x6494, 0xacc5, 0x1, 0x1);
        gbc.writeMem(0xe2f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb459);
        EXPECT(gbc.pc(), 0xe2f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2f1), 0xad);
        // AD 0095
        gbc.setState(0x5a12, 0xd160, 0x8a30, 0x7a6, 0xf732, 0xe97b, 0x0, 0x1);
        gbc.writeMem(0x5a12, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xd160);
        EXPECT(gbc.pc(), 0x5a13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0096
        gbc.setState(0x82ae, 0xa036, 0xc060, 0x335a, 0x96bf, 0xb6d9, 0x0, 0x1);
        gbc.writeMem(0x82ae, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xa036);
        EXPECT(gbc.pc(), 0x82af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ae), 0xad);
        // AD 0097
        gbc.setState(0xe598, 0xe22b, 0xb3e0, 0x9f7d, 0x4841, 0x7ee6, 0x1, 0x0);
        gbc.writeMem(0xe598, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xe22b);
        EXPECT(gbc.pc(), 0xe599);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe598), 0xad);
        // AD 0098
        gbc.setState(0x199d, 0xf6fb, 0x3e20, 0x33d3, 0xb054, 0x85c4, 0x0, 0x1);
        gbc.writeMem(0x199d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf6fb);
        EXPECT(gbc.pc(), 0x199e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0099
        gbc.setState(0xed54, 0xe6cf, 0xfdc0, 0x79a2, 0x5a5b, 0x8f8b, 0x1, 0x0);
        gbc.writeMem(0xed54, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe6cf);
        EXPECT(gbc.pc(), 0xed55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed54), 0xad);
        // AD 009A
        gbc.setState(0x187d, 0xb822, 0x4390, 0x9a3c, 0xb2, 0x23be, 0x0, 0x0);
        gbc.writeMem(0x187d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb822);
        EXPECT(gbc.pc(), 0x187e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 009B
        gbc.setState(0x2d27, 0x4742, 0xc2d0, 0x7b8a, 0x7759, 0xd171, 0x0, 0x0);
        gbc.writeMem(0x2d27, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4742);
        EXPECT(gbc.pc(), 0x2d28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 009E
        gbc.setState(0x9c6, 0x150c, 0xc170, 0xaa13, 0xdb57, 0xc547, 0x1, 0x1);
        gbc.writeMem(0x9c6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x150c);
        EXPECT(gbc.pc(), 0x9c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 009F
        gbc.setState(0x62c5, 0x1354, 0xf970, 0x2bb5, 0xda05, 0x7eb4, 0x1, 0x0);
        gbc.writeMem(0x62c5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1354);
        EXPECT(gbc.pc(), 0x62c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00A0
        gbc.setState(0x10dd, 0x6827, 0xfe00, 0xc049, 0x1661, 0xb5dd, 0x0, 0x0);
        gbc.writeMem(0x10dd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6827);
        EXPECT(gbc.pc(), 0x10de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00A1
        gbc.setState(0x349e, 0x7a6c, 0x33a0, 0xa135, 0x76d, 0xac0e, 0x0, 0x0);
        gbc.writeMem(0x349e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7a6c);
        EXPECT(gbc.pc(), 0x349f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00A2
        gbc.setState(0x5f3a, 0x52c0, 0xb830, 0x2939, 0x59a5, 0x4300, 0x1, 0x1);
        gbc.writeMem(0x5f3a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x52c0);
        EXPECT(gbc.pc(), 0x5f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00A4
        gbc.setState(0x1e90, 0x1bb, 0xeab0, 0xd3dc, 0x71b7, 0xbc1d, 0x0, 0x0);
        gbc.writeMem(0x1e90, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1bb);
        EXPECT(gbc.pc(), 0x1e91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00A5
        gbc.setState(0xb444, 0x7d67, 0x6e00, 0xa11a, 0xe1b9, 0x22c5, 0x0, 0x1);
        gbc.writeMem(0xb444, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7d67);
        EXPECT(gbc.pc(), 0xb445);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb444), 0xad);
        // AD 00A6
        gbc.setState(0x41c8, 0xb438, 0x2fa0, 0x8c9b, 0xcba6, 0xa021, 0x0, 0x1);
        gbc.writeMem(0x41c8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb438);
        EXPECT(gbc.pc(), 0x41c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00A8
        gbc.setState(0xca6f, 0x3b76, 0x6bb0, 0x8c52, 0xb85, 0xc2fa, 0x1, 0x1);
        gbc.writeMem(0xca6f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3b76);
        EXPECT(gbc.pc(), 0xca70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca6f), 0xad);
        // AD 00A9
        gbc.setState(0xca01, 0x7940, 0x9e0, 0xea99, 0x8a6, 0x7b2d, 0x1, 0x1);
        gbc.writeMem(0xca01, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7940);
        EXPECT(gbc.pc(), 0xca02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca01), 0xad);
        // AD 00AA
        gbc.setState(0x8478, 0x61b6, 0x88c0, 0xabc1, 0xb3ac, 0xdcf2, 0x0, 0x0);
        gbc.writeMem(0x8478, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x61b6);
        EXPECT(gbc.pc(), 0x8479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8478), 0xad);
        // AD 00AB
        gbc.setState(0xb789, 0xdce7, 0x8ca0, 0x826d, 0x1e49, 0xc765, 0x1, 0x0);
        gbc.writeMem(0xb789, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xdce7);
        EXPECT(gbc.pc(), 0xb78a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb789), 0xad);
        // AD 00AC
        gbc.setState(0xe929, 0x4261, 0x5be0, 0x6d98, 0x1a4b, 0x1cc2, 0x1, 0x0);
        gbc.writeMem(0xe929, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4261);
        EXPECT(gbc.pc(), 0xe92a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe929), 0xad);
        // AD 00AD
        gbc.setState(0xcbe7, 0xe451, 0xc090, 0xa573, 0xee3b, 0x647c, 0x1, 0x1);
        gbc.writeMem(0xcbe7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe451);
        EXPECT(gbc.pc(), 0xcbe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe7), 0xad);
        // AD 00AE
        gbc.setState(0x218, 0x3c44, 0x3b90, 0xd5d2, 0xf09c, 0xa75f, 0x1, 0x0);
        gbc.writeMem(0x218, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x3c44);
        EXPECT(gbc.pc(), 0x219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00AF
        gbc.setState(0x199b, 0xd68, 0x50, 0xd840, 0x877a, 0xb56e, 0x1, 0x0);
        gbc.writeMem(0x199b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd68);
        EXPECT(gbc.pc(), 0x199c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00B0
        gbc.setState(0x43fe, 0xcaee, 0xeff0, 0xe3e3, 0x4a11, 0xd226, 0x1, 0x0);
        gbc.writeMem(0x43fe, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcaee);
        EXPECT(gbc.pc(), 0x43ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00B1
        gbc.setState(0x9f1f, 0x53c8, 0xba30, 0x804a, 0x3d71, 0x4a56, 0x1, 0x1);
        gbc.writeMem(0x9f1f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x53c8);
        EXPECT(gbc.pc(), 0x9f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f1f), 0xad);
        // AD 00B2
        gbc.setState(0x7c62, 0xab8d, 0x4690, 0x7630, 0xfb82, 0x217f, 0x1, 0x0);
        gbc.writeMem(0x7c62, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xab8d);
        EXPECT(gbc.pc(), 0x7c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00B3
        gbc.setState(0xc968, 0x20d5, 0x9210, 0x514c, 0xbd8d, 0xac84, 0x1, 0x0);
        gbc.writeMem(0xc968, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x20d5);
        EXPECT(gbc.pc(), 0xc969);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc968), 0xad);
        // AD 00B4
        gbc.setState(0x77a, 0xd6d9, 0xfeb0, 0xd691, 0xbc09, 0xf9cd, 0x1, 0x0);
        gbc.writeMem(0x77a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd6d9);
        EXPECT(gbc.pc(), 0x77b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00B5
        gbc.setState(0x3fb4, 0xc4ae, 0x9340, 0xc94a, 0x4e25, 0x1f7f, 0x0, 0x0);
        gbc.writeMem(0x3fb4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc4ae);
        EXPECT(gbc.pc(), 0x3fb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00B6
        gbc.setState(0x7b09, 0xd1ce, 0x4d30, 0x149e, 0xffef, 0x7151, 0x1, 0x0);
        gbc.writeMem(0x7b09, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd1ce);
        EXPECT(gbc.pc(), 0x7b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00B7
        gbc.setState(0x93c8, 0xb69f, 0xc440, 0x5218, 0xa58f, 0x5e73, 0x1, 0x1);
        gbc.writeMem(0x93c8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xb69f);
        EXPECT(gbc.pc(), 0x93c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93c8), 0xad);
        // AD 00B8
        gbc.setState(0xaf7a, 0xb2d7, 0x3f20, 0xbfb6, 0x302c, 0xb15, 0x1, 0x0);
        gbc.writeMem(0xaf7a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb2d7);
        EXPECT(gbc.pc(), 0xaf7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf7a), 0xad);
        // AD 00B9
        gbc.setState(0xa0f7, 0x6532, 0x2060, 0xdc72, 0x6e6f, 0x58dd, 0x0, 0x0);
        gbc.writeMem(0xa0f7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6532);
        EXPECT(gbc.pc(), 0xa0f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0f7), 0xad);
        // AD 00BB
        gbc.setState(0x6f6b, 0x569e, 0x72f0, 0x89b5, 0x9c2e, 0xaedd, 0x0, 0x0);
        gbc.writeMem(0x6f6b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x569e);
        EXPECT(gbc.pc(), 0x6f6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00BC
        gbc.setState(0xa79a, 0x48e8, 0x6080, 0x9b35, 0x6f0a, 0x3d70, 0x0, 0x1);
        gbc.writeMem(0xa79a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x48e8);
        EXPECT(gbc.pc(), 0xa79b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa79a), 0xad);
        // AD 00BD
        gbc.setState(0x47ba, 0x39ff, 0x5f50, 0xead4, 0xcd0d, 0x763b, 0x0, 0x1);
        gbc.writeMem(0x47ba, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x39ff);
        EXPECT(gbc.pc(), 0x47bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00BE
        gbc.setState(0x2e7e, 0xf965, 0xc90, 0x1dd6, 0x95df, 0xb51d, 0x1, 0x0);
        gbc.writeMem(0x2e7e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf965);
        EXPECT(gbc.pc(), 0x2e7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00BF
        gbc.setState(0x2518, 0xa03a, 0x70e0, 0x6f27, 0x8c5c, 0x1e64, 0x0, 0x0);
        gbc.writeMem(0x2518, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa03a);
        EXPECT(gbc.pc(), 0x2519);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00C0
        gbc.setState(0xdc92, 0x2e79, 0x4a30, 0xa51c, 0xfa5b, 0x85ec, 0x1, 0x1);
        gbc.writeMem(0xdc92, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x2e79);
        EXPECT(gbc.pc(), 0xdc93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc92), 0xad);
        // AD 00C1
        gbc.setState(0xa385, 0xf89a, 0x8c0, 0x64, 0x62ee, 0x56d0, 0x0, 0x1);
        gbc.writeMem(0xa385, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf89a);
        EXPECT(gbc.pc(), 0xa386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa385), 0xad);
        // AD 00C2
        gbc.setState(0x45c9, 0x6b8f, 0xb20, 0xf70c, 0xafc9, 0xdcfe, 0x0, 0x0);
        gbc.writeMem(0x45c9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x6b8f);
        EXPECT(gbc.pc(), 0x45ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00C3
        gbc.setState(0xca21, 0x4075, 0x1ba0, 0x658e, 0x17b9, 0x9293, 0x0, 0x0);
        gbc.writeMem(0xca21, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4075);
        EXPECT(gbc.pc(), 0xca22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca21), 0xad);
        // AD 00C4
        gbc.setState(0xdc9e, 0x4972, 0x6fa0, 0x7565, 0xcb34, 0x1d, 0x1, 0x1);
        gbc.writeMem(0xdc9e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4972);
        EXPECT(gbc.pc(), 0xdc9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc9e), 0xad);
        // AD 00C5
        gbc.setState(0xb79f, 0x5476, 0x6fe0, 0x21db, 0x1d41, 0xfce8, 0x0, 0x0);
        gbc.writeMem(0xb79f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x5476);
        EXPECT(gbc.pc(), 0xb7a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79f), 0xad);
        // AD 00C6
        gbc.setState(0x9a6c, 0xd6b1, 0xc220, 0x383c, 0x5f02, 0xb769, 0x1, 0x0);
        gbc.writeMem(0x9a6c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd6b1);
        EXPECT(gbc.pc(), 0x9a6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a6c), 0xad);
        // AD 00C7
        gbc.setState(0x9965, 0x7d4f, 0x88b0, 0x3bc, 0xe4d1, 0x279e, 0x1, 0x1);
        gbc.writeMem(0x9965, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x7d4f);
        EXPECT(gbc.pc(), 0x9966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9965), 0xad);
        // AD 00C8
        gbc.setState(0x9655, 0x90ed, 0x5680, 0xc10e, 0xbad7, 0x14aa, 0x1, 0x1);
        gbc.writeMem(0x9655, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x90ed);
        EXPECT(gbc.pc(), 0x9656);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9655), 0xad);
        // AD 00C9
        gbc.setState(0x4589, 0xb333, 0x8980, 0x1f4e, 0x6f5, 0x6f67, 0x1, 0x1);
        gbc.writeMem(0x4589, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb333);
        EXPECT(gbc.pc(), 0x458a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00CA
        gbc.setState(0x4ccc, 0x7f92, 0x3680, 0xfe08, 0xac0b, 0xfe9b, 0x0, 0x0);
        gbc.writeMem(0x4ccc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7f92);
        EXPECT(gbc.pc(), 0x4ccd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00CB
        gbc.setState(0x2c38, 0xa445, 0xc3a0, 0xc71e, 0x2704, 0xb0c3, 0x0, 0x1);
        gbc.writeMem(0x2c38, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa445);
        EXPECT(gbc.pc(), 0x2c39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00CC
        gbc.setState(0x39e9, 0xd31, 0x4a00, 0x5945, 0x1ddc, 0x1d4c, 0x1, 0x1);
        gbc.writeMem(0x39e9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xd31);
        EXPECT(gbc.pc(), 0x39ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00CD
        gbc.setState(0x7568, 0xb023, 0x7250, 0xbdaf, 0x89e4, 0x771b, 0x0, 0x0);
        gbc.writeMem(0x7568, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xb023);
        EXPECT(gbc.pc(), 0x7569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00CE
        gbc.setState(0xcf2c, 0xe30e, 0x2a00, 0xbee2, 0xf85a, 0x49cd, 0x0, 0x1);
        gbc.writeMem(0xcf2c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe30e);
        EXPECT(gbc.pc(), 0xcf2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf2c), 0xad);
        // AD 00CF
        gbc.setState(0xe144, 0x43d7, 0x3e0, 0x5cda, 0x4b54, 0xd551, 0x0, 0x0);
        gbc.writeMem(0xe144, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x43d7);
        EXPECT(gbc.pc(), 0xe145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe144), 0xad);
        // AD 00D0
        gbc.setState(0x29fd, 0x6406, 0xb8f0, 0xa6a3, 0x97b2, 0xe241, 0x1, 0x1);
        gbc.writeMem(0x29fd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x6406);
        EXPECT(gbc.pc(), 0x29fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00D1
        gbc.setState(0x2f66, 0x952, 0x4e90, 0xefb4, 0x37da, 0x8c07, 0x0, 0x1);
        gbc.writeMem(0x2f66, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x952);
        EXPECT(gbc.pc(), 0x2f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00D2
        gbc.setState(0x409, 0x3b21, 0xb250, 0xe66c, 0x2d11, 0xc56d, 0x1, 0x0);
        gbc.writeMem(0x409, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x3b21);
        EXPECT(gbc.pc(), 0x40a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00D3
        gbc.setState(0xd5d0, 0x9afa, 0xc1f0, 0xe7fb, 0x7800, 0x357d, 0x0, 0x1);
        gbc.writeMem(0xd5d0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9afa);
        EXPECT(gbc.pc(), 0xd5d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5d0), 0xad);
        // AD 00D4
        gbc.setState(0x93e5, 0xb9b1, 0xe0, 0x762, 0x3f57, 0x2893, 0x0, 0x1);
        gbc.writeMem(0x93e5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb9b1);
        EXPECT(gbc.pc(), 0x93e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93e5), 0xad);
        // AD 00D5
        gbc.setState(0x8d10, 0x5e07, 0x3d60, 0xfbad, 0xec2, 0x97d1, 0x0, 0x0);
        gbc.writeMem(0x8d10, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x5e07);
        EXPECT(gbc.pc(), 0x8d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d10), 0xad);
        // AD 00D6
        gbc.setState(0x81d1, 0x4478, 0x6180, 0x478d, 0x95ba, 0xa22a, 0x1, 0x0);
        gbc.writeMem(0x81d1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x4478);
        EXPECT(gbc.pc(), 0x81d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d1), 0xad);
        // AD 00D7
        gbc.setState(0x2de4, 0x6779, 0xb280, 0xdd8a, 0xe8de, 0x99c6, 0x0, 0x1);
        gbc.writeMem(0x2de4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x6779);
        EXPECT(gbc.pc(), 0x2de5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00D8
        gbc.setState(0xe966, 0x14d0, 0x7b70, 0xfa8d, 0xe268, 0x6d38, 0x1, 0x1);
        gbc.writeMem(0xe966, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x14d0);
        EXPECT(gbc.pc(), 0xe967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe966), 0xad);
        // AD 00D9
        gbc.setState(0x7c9a, 0x8eaa, 0xdfd0, 0x556a, 0xcd7b, 0x56da, 0x1, 0x1);
        gbc.writeMem(0x7c9a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8eaa);
        EXPECT(gbc.pc(), 0x7c9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00DA
        gbc.setState(0x192c, 0x86ba, 0x2f20, 0xebfe, 0xd471, 0x5a9, 0x0, 0x1);
        gbc.writeMem(0x192c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x86ba);
        EXPECT(gbc.pc(), 0x192d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00DB
        gbc.setState(0xe2ec, 0x27ae, 0xff60, 0xce1, 0x378d, 0x8483, 0x0, 0x1);
        gbc.writeMem(0xe2ec, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x27ae);
        EXPECT(gbc.pc(), 0xe2ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2ec), 0xad);
        // AD 00DC
        gbc.setState(0xe34e, 0x59c0, 0xb4e0, 0xbc21, 0x2016, 0x2470, 0x1, 0x1);
        gbc.writeMem(0xe34e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x59c0);
        EXPECT(gbc.pc(), 0xe34f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe34e), 0xad);
        // AD 00DD
        gbc.setState(0x51f, 0x4805, 0x3540, 0x5886, 0x2d4f, 0x5c50, 0x0, 0x1);
        gbc.writeMem(0x51f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4805);
        EXPECT(gbc.pc(), 0x520);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00DE
        gbc.setState(0x637b, 0x84f0, 0xa7d0, 0xa676, 0xe01e, 0x2cea, 0x1, 0x0);
        gbc.writeMem(0x637b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x84f0);
        EXPECT(gbc.pc(), 0x637c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00DF
        gbc.setState(0xa619, 0x5cca, 0x60d0, 0x330c, 0xbc20, 0x13be, 0x1, 0x0);
        gbc.writeMem(0xa619, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x5cca);
        EXPECT(gbc.pc(), 0xa61a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa619), 0xad);
        // AD 00E0
        gbc.setState(0xab3f, 0x9621, 0x8d80, 0x246f, 0x7f46, 0x9aac, 0x1, 0x1);
        gbc.writeMem(0xab3f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9621);
        EXPECT(gbc.pc(), 0xab40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab3f), 0xad);
        // AD 00E1
        gbc.setState(0xa1d2, 0xcfe3, 0xc5f0, 0x8275, 0xa62b, 0x9973, 0x0, 0x1);
        gbc.writeMem(0xa1d2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xcfe3);
        EXPECT(gbc.pc(), 0xa1d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d2), 0xad);
        // AD 00E2
        gbc.setState(0x302a, 0x265e, 0xa620, 0x82f9, 0x13ee, 0x92f9, 0x1, 0x0);
        gbc.writeMem(0x302a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x265e);
        EXPECT(gbc.pc(), 0x302b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00E3
        gbc.setState(0xb013, 0x78ca, 0xfe70, 0x96bf, 0xf93e, 0x68ad, 0x1, 0x0);
        gbc.writeMem(0xb013, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x78ca);
        EXPECT(gbc.pc(), 0xb014);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb013), 0xad);
        // AD 00E4
        gbc.setState(0xe8b1, 0xb29, 0x57d0, 0x4c1e, 0xa406, 0xcfb5, 0x0, 0x0);
        gbc.writeMem(0xe8b1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb29);
        EXPECT(gbc.pc(), 0xe8b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8b1), 0xad);
        // AD 00E5
        gbc.setState(0x3af7, 0x6d73, 0xbcb0, 0xaaa5, 0x6f8a, 0xafa1, 0x1, 0x1);
        gbc.writeMem(0x3af7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6d73);
        EXPECT(gbc.pc(), 0x3af8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00E6
        gbc.setState(0xa326, 0x53c9, 0x9b20, 0xc0bb, 0x9261, 0x30ab, 0x1, 0x1);
        gbc.writeMem(0xa326, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x53c9);
        EXPECT(gbc.pc(), 0xa327);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa326), 0xad);
        // AD 00E7
        gbc.setState(0x2594, 0xcd, 0x5400, 0x27d0, 0xc397, 0x62fe, 0x1, 0x1);
        gbc.writeMem(0x2594, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xcd);
        EXPECT(gbc.pc(), 0x2595);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00E8
        gbc.setState(0xe328, 0xc0f4, 0xf860, 0x952a, 0x8a84, 0xca7a, 0x0, 0x1);
        gbc.writeMem(0xe328, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc0f4);
        EXPECT(gbc.pc(), 0xe329);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe328), 0xad);
        // AD 00E9
        gbc.setState(0x1ffc, 0x8afa, 0x5450, 0x41f1, 0x42a4, 0x938b, 0x0, 0x1);
        gbc.writeMem(0x1ffc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8afa);
        EXPECT(gbc.pc(), 0x1ffd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00EA
        gbc.setState(0x15a8, 0xd7e8, 0x9c60, 0x804c, 0x5751, 0x42a6, 0x0, 0x0);
        gbc.writeMem(0x15a8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xd7e8);
        EXPECT(gbc.pc(), 0x15a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00EB
        gbc.setState(0x36ee, 0xb82c, 0xe140, 0xdf93, 0x4773, 0xa501, 0x0, 0x0);
        gbc.writeMem(0x36ee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb82c);
        EXPECT(gbc.pc(), 0x36ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00ED
        gbc.setState(0xbbfb, 0x806, 0x1a60, 0xaa54, 0x28f9, 0x2359, 0x1, 0x1);
        gbc.writeMem(0xbbfb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x806);
        EXPECT(gbc.pc(), 0xbbfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbfb), 0xad);
        // AD 00EE
        gbc.setState(0xdfa4, 0x5b5d, 0x2500, 0xdd05, 0xc89e, 0x1feb, 0x0, 0x1);
        gbc.writeMem(0xdfa4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x5b5d);
        EXPECT(gbc.pc(), 0xdfa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfa4), 0xad);
        // AD 00EF
        gbc.setState(0x2dc0, 0x614c, 0x99e0, 0xc90b, 0xe77c, 0xed6c, 0x1, 0x1);
        gbc.writeMem(0x2dc0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x614c);
        EXPECT(gbc.pc(), 0x2dc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00F0
        gbc.setState(0x90bb, 0xb39b, 0x5e70, 0x3ad1, 0x22f5, 0x494c, 0x0, 0x1);
        gbc.writeMem(0x90bb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb39b);
        EXPECT(gbc.pc(), 0x90bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90bb), 0xad);
        // AD 00F1
        gbc.setState(0xd283, 0x1128, 0xce20, 0x17be, 0xecb5, 0x636, 0x1, 0x0);
        gbc.writeMem(0xd283, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1128);
        EXPECT(gbc.pc(), 0xd284);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd283), 0xad);
        // AD 00F3
        gbc.setState(0x52ba, 0xba88, 0xd840, 0xb1e4, 0x25e0, 0x7700, 0x0, 0x1);
        gbc.writeMem(0x52ba, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xba88);
        EXPECT(gbc.pc(), 0x52bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00F4
        gbc.setState(0xbc56, 0xa807, 0xe30, 0xc051, 0xfc79, 0x464, 0x1, 0x1);
        gbc.writeMem(0xbc56, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa807);
        EXPECT(gbc.pc(), 0xbc57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc56), 0xad);
        // AD 00F5
        gbc.setState(0xc8ec, 0x5c04, 0x8360, 0x3b7, 0xb433, 0xa02d, 0x1, 0x0);
        gbc.writeMem(0xc8ec, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5c04);
        EXPECT(gbc.pc(), 0xc8ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8ec), 0xad);
        // AD 00F6
        gbc.setState(0x1560, 0xecfa, 0x9640, 0x6999, 0x5cb9, 0x20c, 0x1, 0x1);
        gbc.writeMem(0x1560, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xecfa);
        EXPECT(gbc.pc(), 0x1561);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00F8
        gbc.setState(0xe38e, 0xeeb4, 0xddc0, 0x82a7, 0x4bb, 0xa709, 0x1, 0x0);
        gbc.writeMem(0xe38e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xeeb4);
        EXPECT(gbc.pc(), 0xe38f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe38e), 0xad);
        // AD 00F9
        gbc.setState(0xde9b, 0x52f9, 0x5cb0, 0xfa0c, 0xe05f, 0xce6c, 0x1, 0x1);
        gbc.writeMem(0xde9b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x52f9);
        EXPECT(gbc.pc(), 0xde9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde9b), 0xad);
        // AD 00FA
        gbc.setState(0xa95f, 0x27de, 0xc8c0, 0x8a88, 0x52b, 0x1224, 0x0, 0x1);
        gbc.writeMem(0xa95f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x27de);
        EXPECT(gbc.pc(), 0xa960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa95f), 0xad);
        // AD 00FB
        gbc.setState(0x4949, 0xc240, 0x4a40, 0x496b, 0xeb33, 0x7617, 0x1, 0x0);
        gbc.writeMem(0x4949, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc240);
        EXPECT(gbc.pc(), 0x494a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00FC
        gbc.setState(0x77e4, 0x456f, 0xcd20, 0x24b9, 0x1098, 0xaa3b, 0x1, 0x1);
        gbc.writeMem(0x77e4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x456f);
        EXPECT(gbc.pc(), 0x77e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 00FD
        gbc.setState(0xddda, 0x4c6c, 0xe800, 0xee43, 0xecd7, 0x60fe, 0x1, 0x0);
        gbc.writeMem(0xddda, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4c6c);
        EXPECT(gbc.pc(), 0xdddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddda), 0xad);
        // AD 00FE
        gbc.setState(0xa893, 0x563a, 0xc580, 0x394a, 0x781b, 0xf909, 0x0, 0x0);
        gbc.writeMem(0xa893, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x563a);
        EXPECT(gbc.pc(), 0xa894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa893), 0xad);
        // AD 00FF
        gbc.setState(0x543b, 0xc8b2, 0xd6b0, 0xb12e, 0x4023, 0xe64, 0x1, 0x1);
        gbc.writeMem(0x543b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc8b2);
        EXPECT(gbc.pc(), 0x543c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0100
        gbc.setState(0xa9f2, 0x1e98, 0x7510, 0x48ce, 0xa678, 0x5b3, 0x1, 0x0);
        gbc.writeMem(0xa9f2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1e98);
        EXPECT(gbc.pc(), 0xa9f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9f2), 0xad);
        // AD 0101
        gbc.setState(0x5010, 0x2d0e, 0x6ec0, 0x2fc5, 0xada8, 0x95d1, 0x0, 0x0);
        gbc.writeMem(0x5010, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2d0e);
        EXPECT(gbc.pc(), 0x5011);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0102
        gbc.setState(0x9bf6, 0x5925, 0x7060, 0xc2d0, 0x9bb6, 0xc278, 0x0, 0x0);
        gbc.writeMem(0x9bf6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5925);
        EXPECT(gbc.pc(), 0x9bf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bf6), 0xad);
        // AD 0103
        gbc.setState(0xc650, 0xe333, 0x9d00, 0x8dc7, 0xf2d8, 0xb5ea, 0x0, 0x0);
        gbc.writeMem(0xc650, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xe333);
        EXPECT(gbc.pc(), 0xc651);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc650), 0xad);
        // AD 0104
        gbc.setState(0x82e4, 0x1f22, 0x8570, 0xdb1d, 0x691c, 0x2d35, 0x0, 0x1);
        gbc.writeMem(0x82e4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1f22);
        EXPECT(gbc.pc(), 0x82e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82e4), 0xad);
        // AD 0105
        gbc.setState(0xa527, 0xd073, 0x8f60, 0x8d0f, 0x3fa8, 0x915f, 0x0, 0x0);
        gbc.writeMem(0xa527, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd073);
        EXPECT(gbc.pc(), 0xa528);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa527), 0xad);
        // AD 0107
        gbc.setState(0x4cf9, 0xabb, 0x9570, 0xcfe8, 0xc5b8, 0x5261, 0x0, 0x0);
        gbc.writeMem(0x4cf9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xabb);
        EXPECT(gbc.pc(), 0x4cfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0108
        gbc.setState(0xe04f, 0x18b7, 0x33b0, 0x54d9, 0x442b, 0x94e7, 0x1, 0x1);
        gbc.writeMem(0xe04f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x18b7);
        EXPECT(gbc.pc(), 0xe050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe04f), 0xad);
        // AD 0109
        gbc.setState(0x35e2, 0x59d8, 0x7c60, 0xed9b, 0x6497, 0xd749, 0x0, 0x0);
        gbc.writeMem(0x35e2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x59d8);
        EXPECT(gbc.pc(), 0x35e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 010A
        gbc.setState(0xc6bd, 0xd6e4, 0x89d0, 0x5a3c, 0x8a59, 0xec4b, 0x0, 0x1);
        gbc.writeMem(0xc6bd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd6e4);
        EXPECT(gbc.pc(), 0xc6be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6bd), 0xad);
        // AD 010B
        gbc.setState(0x2e8f, 0xf6c5, 0x7140, 0xdae1, 0x55d4, 0x4ae2, 0x1, 0x1);
        gbc.writeMem(0x2e8f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xf6c5);
        EXPECT(gbc.pc(), 0x2e90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 010C
        gbc.setState(0x9a5a, 0x2b8c, 0x8470, 0x3da2, 0x1b24, 0x174c, 0x1, 0x1);
        gbc.writeMem(0x9a5a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2b8c);
        EXPECT(gbc.pc(), 0x9a5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a5a), 0xad);
        // AD 010D
        gbc.setState(0x3b72, 0x20fb, 0x9d30, 0x18c6, 0xd478, 0x38c6, 0x1, 0x0);
        gbc.writeMem(0x3b72, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x20fb);
        EXPECT(gbc.pc(), 0x3b73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 010E
        gbc.setState(0x96c4, 0xb508, 0xea60, 0xe364, 0x7ecc, 0x13bc, 0x0, 0x0);
        gbc.writeMem(0x96c4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb508);
        EXPECT(gbc.pc(), 0x96c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96c4), 0xad);
        // AD 010F
        gbc.setState(0xd1e, 0xebf1, 0x2430, 0x3eed, 0x3934, 0xcea8, 0x1, 0x0);
        gbc.writeMem(0xd1e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xebf1);
        EXPECT(gbc.pc(), 0xd1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0110
        gbc.setState(0xe589, 0x8f5d, 0x77f0, 0x4098, 0x72ff, 0xcb40, 0x0, 0x1);
        gbc.writeMem(0xe589, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8f5d);
        EXPECT(gbc.pc(), 0xe58a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe589), 0xad);
        // AD 0111
        gbc.setState(0x3ee, 0xa4ad, 0x9ae0, 0xa28a, 0x269f, 0xe83f, 0x0, 0x1);
        gbc.writeMem(0x3ee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa4ad);
        EXPECT(gbc.pc(), 0x3ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0112
        gbc.setState(0x5342, 0xda9b, 0x5da0, 0xe566, 0xab97, 0x674d, 0x0, 0x0);
        gbc.writeMem(0x5342, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xda9b);
        EXPECT(gbc.pc(), 0x5343);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0113
        gbc.setState(0x865c, 0x1c5e, 0x36a0, 0x91a6, 0xb18c, 0x8a1c, 0x1, 0x1);
        gbc.writeMem(0x865c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1c5e);
        EXPECT(gbc.pc(), 0x865d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x865c), 0xad);
        // AD 0114
        gbc.setState(0x1a27, 0x4374, 0x3ee0, 0x9b30, 0x61a3, 0x1657, 0x0, 0x0);
        gbc.writeMem(0x1a27, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4374);
        EXPECT(gbc.pc(), 0x1a28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0115
        gbc.setState(0xd63, 0x853, 0x1360, 0x2486, 0x7980, 0xf495, 0x1, 0x1);
        gbc.writeMem(0xd63, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x853);
        EXPECT(gbc.pc(), 0xd64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0116
        gbc.setState(0x6172, 0xef6a, 0xb3d0, 0x2a5e, 0x7da1, 0xbd02, 0x0, 0x0);
        gbc.writeMem(0x6172, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xef6a);
        EXPECT(gbc.pc(), 0x6173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0117
        gbc.setState(0x765f, 0x3854, 0xf2d0, 0x3237, 0xcfdd, 0x498b, 0x0, 0x1);
        gbc.writeMem(0x765f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3854);
        EXPECT(gbc.pc(), 0x7660);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0118
        gbc.setState(0x5199, 0x24fc, 0x6cb0, 0xba9, 0x1cce, 0xe06f, 0x0, 0x0);
        gbc.writeMem(0x5199, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x24fc);
        EXPECT(gbc.pc(), 0x519a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0119
        gbc.setState(0x68e0, 0x2ab7, 0xb7b0, 0xcb56, 0x9bb2, 0xe150, 0x0, 0x1);
        gbc.writeMem(0x68e0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2ab7);
        EXPECT(gbc.pc(), 0x68e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 011A
        gbc.setState(0xd00a, 0xf2ce, 0x1160, 0x9c1a, 0xebc1, 0x8d65, 0x1, 0x1);
        gbc.writeMem(0xd00a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf2ce);
        EXPECT(gbc.pc(), 0xd00b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd00a), 0xad);
        // AD 011B
        gbc.setState(0x1d3e, 0xf6cf, 0x3fc0, 0xb014, 0xfd82, 0xda52, 0x0, 0x0);
        gbc.writeMem(0x1d3e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf6cf);
        EXPECT(gbc.pc(), 0x1d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 011C
        gbc.setState(0xde1a, 0x8fac, 0xf2b0, 0x39b9, 0x6caa, 0x6f14, 0x0, 0x1);
        gbc.writeMem(0xde1a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8fac);
        EXPECT(gbc.pc(), 0xde1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde1a), 0xad);
        // AD 011D
        gbc.setState(0x14a0, 0x6b56, 0x6080, 0xffb6, 0x91ad, 0x93b4, 0x1, 0x1);
        gbc.writeMem(0x14a0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6b56);
        EXPECT(gbc.pc(), 0x14a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 011F
        gbc.setState(0xc491, 0xf803, 0x1e50, 0x97a3, 0xb77c, 0x51bb, 0x0, 0x0);
        gbc.writeMem(0xc491, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf803);
        EXPECT(gbc.pc(), 0xc492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc491), 0xad);
        // AD 0121
        gbc.setState(0x25dc, 0xa771, 0x9680, 0x745f, 0x3d41, 0x6f4, 0x1, 0x0);
        gbc.writeMem(0x25dc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa771);
        EXPECT(gbc.pc(), 0x25dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0122
        gbc.setState(0x42ac, 0xd1cd, 0x3e00, 0x16bf, 0xbdd3, 0x4f18, 0x0, 0x0);
        gbc.writeMem(0x42ac, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd1cd);
        EXPECT(gbc.pc(), 0x42ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0124
        gbc.setState(0xbda7, 0xb605, 0xb000, 0x5634, 0x43d7, 0x6304, 0x0, 0x0);
        gbc.writeMem(0xbda7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xb605);
        EXPECT(gbc.pc(), 0xbda8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda7), 0xad);
        // AD 0125
        gbc.setState(0x81c7, 0x4988, 0x7b60, 0xad98, 0x9a6e, 0x1593, 0x1, 0x1);
        gbc.writeMem(0x81c7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4988);
        EXPECT(gbc.pc(), 0x81c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c7), 0xad);
        // AD 0126
        gbc.setState(0xac0a, 0x2e96, 0xf6f0, 0xfdf7, 0x3c09, 0x87f2, 0x0, 0x1);
        gbc.writeMem(0xac0a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2e96);
        EXPECT(gbc.pc(), 0xac0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac0a), 0xad);
        // AD 0127
        gbc.setState(0x27a9, 0xa75a, 0xdef0, 0x5478, 0x2768, 0xb4af, 0x1, 0x1);
        gbc.writeMem(0x27a9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa75a);
        EXPECT(gbc.pc(), 0x27aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0128
        gbc.setState(0xa89, 0xf8dd, 0xa110, 0xd927, 0x62fd, 0x4a94, 0x1, 0x1);
        gbc.writeMem(0xa89, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf8dd);
        EXPECT(gbc.pc(), 0xa8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0129
        gbc.setState(0xabe7, 0xbc1f, 0x4c10, 0xfb13, 0x315a, 0x8c8, 0x0, 0x1);
        gbc.writeMem(0xabe7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xbc1f);
        EXPECT(gbc.pc(), 0xabe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabe7), 0xad);
        // AD 012A
        gbc.setState(0xe442, 0x3126, 0x21f0, 0xbed9, 0x5dc4, 0xb06b, 0x1, 0x0);
        gbc.writeMem(0xe442, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3126);
        EXPECT(gbc.pc(), 0xe443);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe442), 0xad);
        // AD 012B
        gbc.setState(0x10a6, 0x5577, 0x8320, 0xd07c, 0x2e83, 0x5fea, 0x1, 0x0);
        gbc.writeMem(0x10a6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5577);
        EXPECT(gbc.pc(), 0x10a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 012C
        gbc.setState(0xd88f, 0x682f, 0xb5b0, 0x59ce, 0x86fc, 0x6c7d, 0x0, 0x1);
        gbc.writeMem(0xd88f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x682f);
        EXPECT(gbc.pc(), 0xd890);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd88f), 0xad);
        // AD 012D
        gbc.setState(0xedb6, 0x6ed3, 0x3cf0, 0xd925, 0x2044, 0x2771, 0x1, 0x1);
        gbc.writeMem(0xedb6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6ed3);
        EXPECT(gbc.pc(), 0xedb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedb6), 0xad);
        // AD 012E
        gbc.setState(0x4e7d, 0xdbd5, 0xec90, 0x8c0d, 0xd27d, 0xcfe9, 0x0, 0x0);
        gbc.writeMem(0x4e7d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xdbd5);
        EXPECT(gbc.pc(), 0x4e7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 012F
        gbc.setState(0x7eb6, 0x3d6d, 0x8400, 0x4d14, 0x4565, 0x1162, 0x1, 0x0);
        gbc.writeMem(0x7eb6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x3d6d);
        EXPECT(gbc.pc(), 0x7eb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0130
        gbc.setState(0xa23b, 0xf188, 0xf780, 0x2cb0, 0x59b1, 0xa19, 0x0, 0x1);
        gbc.writeMem(0xa23b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf188);
        EXPECT(gbc.pc(), 0xa23c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa23b), 0xad);
        // AD 0131
        gbc.setState(0x8a67, 0x4506, 0x4c60, 0x9b52, 0xb83e, 0xf69d, 0x1, 0x1);
        gbc.writeMem(0x8a67, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x4506);
        EXPECT(gbc.pc(), 0x8a68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a67), 0xad);
        // AD 0132
        gbc.setState(0xc6ec, 0x81c4, 0xe1c0, 0xc1aa, 0x116e, 0x47e1, 0x0, 0x1);
        gbc.writeMem(0xc6ec, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x81c4);
        EXPECT(gbc.pc(), 0xc6ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ec), 0xad);
        // AD 0133
        gbc.setState(0xc50f, 0x8d01, 0x4470, 0xc60, 0x8918, 0xb72d, 0x0, 0x1);
        gbc.writeMem(0xc50f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x8d01);
        EXPECT(gbc.pc(), 0xc510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc50f), 0xad);
        // AD 0134
        gbc.setState(0x8418, 0x37c5, 0x32a0, 0xb3cc, 0xa2a, 0x8d27, 0x1, 0x1);
        gbc.writeMem(0x8418, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x37c5);
        EXPECT(gbc.pc(), 0x8419);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8418), 0xad);
        // AD 0135
        gbc.setState(0xa2d4, 0x6160, 0xdee0, 0xd585, 0xa367, 0x1cb7, 0x1, 0x0);
        gbc.writeMem(0xa2d4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6160);
        EXPECT(gbc.pc(), 0xa2d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2d4), 0xad);
        // AD 0136
        gbc.setState(0x3c6a, 0xb9ca, 0x3a30, 0xc303, 0xd7a1, 0x4ad7, 0x0, 0x0);
        gbc.writeMem(0x3c6a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb9ca);
        EXPECT(gbc.pc(), 0x3c6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0137
        gbc.setState(0x4b1e, 0x3972, 0xd2b0, 0xaf8e, 0xf37d, 0xc0a8, 0x0, 0x0);
        gbc.writeMem(0x4b1e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3972);
        EXPECT(gbc.pc(), 0x4b1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0138
        gbc.setState(0x8f0f, 0x86ef, 0x2bf0, 0x4fe, 0xd16d, 0xa4d1, 0x1, 0x0);
        gbc.writeMem(0x8f0f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x86ef);
        EXPECT(gbc.pc(), 0x8f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f0f), 0xad);
        // AD 0139
        gbc.setState(0xa403, 0x46a3, 0x1680, 0x5866, 0xd206, 0xffed, 0x0, 0x1);
        gbc.writeMem(0xa403, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x46a3);
        EXPECT(gbc.pc(), 0xa404);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa403), 0xad);
        // AD 013A
        gbc.setState(0xeb45, 0xa6ce, 0xfb70, 0xf5a5, 0x5df0, 0x46c9, 0x0, 0x1);
        gbc.writeMem(0xeb45, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa6ce);
        EXPECT(gbc.pc(), 0xeb46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb45), 0xad);
        // AD 013B
        gbc.setState(0x7d52, 0x572e, 0x2820, 0x448f, 0xd525, 0x5141, 0x1, 0x1);
        gbc.writeMem(0x7d52, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x572e);
        EXPECT(gbc.pc(), 0x7d53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 013C
        gbc.setState(0xaf6e, 0x5ab3, 0x2e0, 0x8377, 0x4b1d, 0x4546, 0x1, 0x0);
        gbc.writeMem(0xaf6e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x5ab3);
        EXPECT(gbc.pc(), 0xaf6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf6e), 0xad);
        // AD 013D
        gbc.setState(0x2b0f, 0x4de3, 0x93a0, 0xb81c, 0x3d3c, 0x29c5, 0x1, 0x0);
        gbc.writeMem(0x2b0f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4de3);
        EXPECT(gbc.pc(), 0x2b10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 013E
        gbc.setState(0x2bcc, 0x5243, 0xbac0, 0xbcd9, 0xdb30, 0xed04, 0x1, 0x1);
        gbc.writeMem(0x2bcc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x5243);
        EXPECT(gbc.pc(), 0x2bcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 013F
        gbc.setState(0x8b53, 0xf196, 0x2b80, 0xdcce, 0x138a, 0xf61d, 0x1, 0x0);
        gbc.writeMem(0x8b53, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf196);
        EXPECT(gbc.pc(), 0x8b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b53), 0xad);
        // AD 0140
        gbc.setState(0xa2a6, 0x7f00, 0x43c0, 0xe630, 0xdbaf, 0xee08, 0x1, 0x0);
        gbc.writeMem(0xa2a6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7f00);
        EXPECT(gbc.pc(), 0xa2a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2a6), 0xad);
        // AD 0141
        gbc.setState(0x98f6, 0x3ccb, 0x2c30, 0x33dc, 0xae61, 0xd522, 0x0, 0x1);
        gbc.writeMem(0x98f6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3ccb);
        EXPECT(gbc.pc(), 0x98f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98f6), 0xad);
        // AD 0142
        gbc.setState(0x278, 0xa1b5, 0xcce0, 0xe7fc, 0xcc5f, 0xda4d, 0x0, 0x1);
        gbc.writeMem(0x278, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xa1b5);
        EXPECT(gbc.pc(), 0x279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0143
        gbc.setState(0x6563, 0xfd1e, 0x2990, 0x7946, 0xdc14, 0x2d1c, 0x0, 0x0);
        gbc.writeMem(0x6563, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xfd1e);
        EXPECT(gbc.pc(), 0x6564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0145
        gbc.setState(0xb0a4, 0xc6ae, 0x4830, 0xbdba, 0x9249, 0x5acb, 0x0, 0x1);
        gbc.writeMem(0xb0a4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xc6ae);
        EXPECT(gbc.pc(), 0xb0a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0a4), 0xad);
        // AD 0147
        gbc.setState(0x5db5, 0x137a, 0x8d30, 0xb2c9, 0xeb81, 0xc864, 0x1, 0x0);
        gbc.writeMem(0x5db5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x137a);
        EXPECT(gbc.pc(), 0x5db6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0148
        gbc.setState(0xad05, 0x1bd3, 0xf270, 0x8c93, 0xa619, 0x4f45, 0x0, 0x0);
        gbc.writeMem(0xad05, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1bd3);
        EXPECT(gbc.pc(), 0xad06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad05), 0xad);
        // AD 0149
        gbc.setState(0xa123, 0x4941, 0x94e0, 0x6406, 0x94d7, 0xb7fa, 0x1, 0x0);
        gbc.writeMem(0xa123, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4941);
        EXPECT(gbc.pc(), 0xa124);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa123), 0xad);
        // AD 014A
        gbc.setState(0x70a3, 0xf515, 0x1780, 0x1dbe, 0xdd61, 0xa5c7, 0x0, 0x1);
        gbc.writeMem(0x70a3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf515);
        EXPECT(gbc.pc(), 0x70a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 014B
        gbc.setState(0x6d28, 0x2638, 0x9d00, 0x231a, 0x79ce, 0x2ac6, 0x1, 0x1);
        gbc.writeMem(0x6d28, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2638);
        EXPECT(gbc.pc(), 0x6d29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 014C
        gbc.setState(0x82ee, 0x3f23, 0x1760, 0xa04c, 0x87ca, 0xc5ff, 0x0, 0x0);
        gbc.writeMem(0x82ee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3f23);
        EXPECT(gbc.pc(), 0x82ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ee), 0xad);
        // AD 014D
        gbc.setState(0xd431, 0xb9a4, 0xd50, 0x2578, 0xe1aa, 0xd36, 0x1, 0x0);
        gbc.writeMem(0xd431, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb9a4);
        EXPECT(gbc.pc(), 0xd432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd431), 0xad);
        // AD 014E
        gbc.setState(0x77f8, 0x9ae2, 0xc7a0, 0xd93c, 0x983e, 0x813f, 0x1, 0x1);
        gbc.writeMem(0x77f8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9ae2);
        EXPECT(gbc.pc(), 0x77f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 014F
        gbc.setState(0x7903, 0xe89, 0xdf60, 0x9b47, 0x84db, 0xbc50, 0x1, 0x1);
        gbc.writeMem(0x7903, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe89);
        EXPECT(gbc.pc(), 0x7904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0150
        gbc.setState(0xacec, 0x3658, 0xfcb0, 0x9b83, 0x6960, 0x1edb, 0x0, 0x1);
        gbc.writeMem(0xacec, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x3658);
        EXPECT(gbc.pc(), 0xaced);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacec), 0xad);
        // AD 0151
        gbc.setState(0x1860, 0xaf7a, 0x2a30, 0x2d6e, 0xd4f2, 0xa081, 0x1, 0x1);
        gbc.writeMem(0x1860, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xaf7a);
        EXPECT(gbc.pc(), 0x1861);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0153
        gbc.setState(0x1352, 0x4c9d, 0xc8c0, 0xb0b0, 0xe7f0, 0x65b, 0x0, 0x0);
        gbc.writeMem(0x1352, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4c9d);
        EXPECT(gbc.pc(), 0x1353);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0154
        gbc.setState(0x40a4, 0xf795, 0x3b50, 0x6bc4, 0xdba5, 0x46c3, 0x0, 0x0);
        gbc.writeMem(0x40a4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf795);
        EXPECT(gbc.pc(), 0x40a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0155
        gbc.setState(0x8610, 0x601c, 0xdb0, 0x1bfc, 0x46df, 0xdc7f, 0x1, 0x1);
        gbc.writeMem(0x8610, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x601c);
        EXPECT(gbc.pc(), 0x8611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8610), 0xad);
        // AD 0156
        gbc.setState(0xe13b, 0xb1fd, 0x52e0, 0xee23, 0x4f9, 0x7b8c, 0x1, 0x0);
        gbc.writeMem(0xe13b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb1fd);
        EXPECT(gbc.pc(), 0xe13c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe13b), 0xad);
        // AD 0157
        gbc.setState(0x53bc, 0xb7a0, 0x7320, 0x84cf, 0x187, 0x55bc, 0x0, 0x1);
        gbc.writeMem(0x53bc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb7a0);
        EXPECT(gbc.pc(), 0x53bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0158
        gbc.setState(0xb7b2, 0x4439, 0x4fe0, 0x1703, 0x2546, 0x73db, 0x1, 0x1);
        gbc.writeMem(0xb7b2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x4439);
        EXPECT(gbc.pc(), 0xb7b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b2), 0xad);
        // AD 0159
        gbc.setState(0xa25d, 0xa7b8, 0xba10, 0xbd3a, 0xc52a, 0x63c8, 0x0, 0x1);
        gbc.writeMem(0xa25d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa7b8);
        EXPECT(gbc.pc(), 0xa25e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa25d), 0xad);
        // AD 015A
        gbc.setState(0x2fee, 0x1513, 0x3be0, 0xee9, 0x3764, 0x98ad, 0x0, 0x1);
        gbc.writeMem(0x2fee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1513);
        EXPECT(gbc.pc(), 0x2fef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 015B
        gbc.setState(0xbce0, 0xe1d, 0x3b70, 0xc6f2, 0x602a, 0x128b, 0x1, 0x0);
        gbc.writeMem(0xbce0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe1d);
        EXPECT(gbc.pc(), 0xbce1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbce0), 0xad);
        // AD 015C
        gbc.setState(0x9133, 0x382, 0xfcf0, 0x6222, 0xe818, 0x7935, 0x0, 0x0);
        gbc.writeMem(0x9133, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x382);
        EXPECT(gbc.pc(), 0x9134);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9133), 0xad);
        // AD 015D
        gbc.setState(0x3281, 0xa7d4, 0xd630, 0xd499, 0xb1a4, 0x3529, 0x1, 0x0);
        gbc.writeMem(0x3281, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xa7d4);
        EXPECT(gbc.pc(), 0x3282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 015E
        gbc.setState(0x977, 0x7940, 0x40e0, 0x2cab, 0x4a51, 0xafad, 0x0, 0x1);
        gbc.writeMem(0x977, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x7940);
        EXPECT(gbc.pc(), 0x978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 015F
        gbc.setState(0xab0, 0x549e, 0x7da0, 0x4fe, 0xfab6, 0xcee, 0x0, 0x1);
        gbc.writeMem(0xab0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x549e);
        EXPECT(gbc.pc(), 0xab1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0160
        gbc.setState(0xc94c, 0x6b00, 0x7160, 0xa98b, 0x6f0e, 0x21ed, 0x1, 0x0);
        gbc.writeMem(0xc94c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x6b00);
        EXPECT(gbc.pc(), 0xc94d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc94c), 0xad);
        // AD 0161
        gbc.setState(0xeb8a, 0x41e9, 0x6a90, 0xc4c1, 0x8ce, 0x80bc, 0x0, 0x1);
        gbc.writeMem(0xeb8a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x41e9);
        EXPECT(gbc.pc(), 0xeb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8a), 0xad);
        // AD 0162
        gbc.setState(0xb872, 0xf1b7, 0xd1e0, 0x64e7, 0x92d9, 0x8616, 0x0, 0x0);
        gbc.writeMem(0xb872, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf1b7);
        EXPECT(gbc.pc(), 0xb873);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb872), 0xad);
        // AD 0163
        gbc.setState(0xc4aa, 0xecf3, 0xf880, 0x9c15, 0x46a7, 0x5147, 0x1, 0x1);
        gbc.writeMem(0xc4aa, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xecf3);
        EXPECT(gbc.pc(), 0xc4ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4aa), 0xad);
        // AD 0164
        gbc.setState(0x62f3, 0x8c0e, 0xb990, 0xba, 0x6b74, 0xa7b5, 0x0, 0x1);
        gbc.writeMem(0x62f3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8c0e);
        EXPECT(gbc.pc(), 0x62f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0165
        gbc.setState(0x9be, 0x51c6, 0x3200, 0xb0fe, 0xc475, 0xf2a0, 0x1, 0x1);
        gbc.writeMem(0x9be, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x51c6);
        EXPECT(gbc.pc(), 0x9bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0166
        gbc.setState(0xa88e, 0x92ce, 0xdd40, 0x2247, 0xbc13, 0xa945, 0x0, 0x0);
        gbc.writeMem(0xa88e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x92ce);
        EXPECT(gbc.pc(), 0xa88f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa88e), 0xad);
        // AD 0167
        gbc.setState(0xc408, 0x8eba, 0xc5f0, 0x2af, 0x2651, 0x7cfd, 0x0, 0x0);
        gbc.writeMem(0xc408, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8eba);
        EXPECT(gbc.pc(), 0xc409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc408), 0xad);
        // AD 0168
        gbc.setState(0x4531, 0x8bc7, 0x4e40, 0x8398, 0xc6b3, 0x5fbc, 0x1, 0x1);
        gbc.writeMem(0x4531, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8bc7);
        EXPECT(gbc.pc(), 0x4532);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0169
        gbc.setState(0x535d, 0x92ee, 0xe90, 0xf005, 0x9876, 0x772, 0x1, 0x0);
        gbc.writeMem(0x535d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x92ee);
        EXPECT(gbc.pc(), 0x535e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 016A
        gbc.setState(0x6096, 0x7ff1, 0x3cc0, 0x3235, 0x6b99, 0x2660, 0x0, 0x0);
        gbc.writeMem(0x6096, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x7ff1);
        EXPECT(gbc.pc(), 0x6097);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 016C
        gbc.setState(0x61c1, 0x574f, 0xe6d0, 0xa9b9, 0x6b35, 0x8c06, 0x0, 0x1);
        gbc.writeMem(0x61c1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x574f);
        EXPECT(gbc.pc(), 0x61c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 016D
        gbc.setState(0x3fa9, 0xa6fa, 0xc490, 0x6f8e, 0xa713, 0xf679, 0x1, 0x1);
        gbc.writeMem(0x3fa9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa6fa);
        EXPECT(gbc.pc(), 0x3faa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 016E
        gbc.setState(0xc226, 0x7305, 0x7c50, 0x5764, 0xa630, 0xfc96, 0x1, 0x0);
        gbc.writeMem(0xc226, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7305);
        EXPECT(gbc.pc(), 0xc227);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc226), 0xad);
        // AD 016F
        gbc.setState(0xd284, 0x7a25, 0x8260, 0xf6ff, 0x2433, 0x3f26, 0x1, 0x0);
        gbc.writeMem(0xd284, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7a25);
        EXPECT(gbc.pc(), 0xd285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd284), 0xad);
        // AD 0170
        gbc.setState(0xec46, 0xbba0, 0xa10, 0x1bf, 0x1e0e, 0xf471, 0x0, 0x0);
        gbc.writeMem(0xec46, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbba0);
        EXPECT(gbc.pc(), 0xec47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec46), 0xad);
        // AD 0171
        gbc.setState(0xb5b9, 0x243f, 0x63b0, 0x2277, 0x2f02, 0xcf19, 0x0, 0x1);
        gbc.writeMem(0xb5b9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x243f);
        EXPECT(gbc.pc(), 0xb5ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5b9), 0xad);
        // AD 0172
        gbc.setState(0x83ee, 0xfeba, 0xf9a0, 0x446a, 0x143d, 0xd370, 0x0, 0x1);
        gbc.writeMem(0x83ee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xfeba);
        EXPECT(gbc.pc(), 0x83ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ee), 0xad);
        // AD 0173
        gbc.setState(0x6d94, 0x1e31, 0x4710, 0x712, 0xd3dd, 0xafcf, 0x1, 0x1);
        gbc.writeMem(0x6d94, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1e31);
        EXPECT(gbc.pc(), 0x6d95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0174
        gbc.setState(0x30b7, 0x611a, 0x2a20, 0x5d68, 0xb859, 0xd692, 0x0, 0x1);
        gbc.writeMem(0x30b7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x611a);
        EXPECT(gbc.pc(), 0x30b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0175
        gbc.setState(0x3ea6, 0xaef3, 0x80, 0x87f, 0xffb2, 0xd9ce, 0x0, 0x1);
        gbc.writeMem(0x3ea6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xaef3);
        EXPECT(gbc.pc(), 0x3ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0176
        gbc.setState(0x487e, 0x6384, 0xe4e0, 0xad1d, 0x79f8, 0x8e8b, 0x0, 0x0);
        gbc.writeMem(0x487e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6384);
        EXPECT(gbc.pc(), 0x487f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0177
        gbc.setState(0xb6e5, 0xfc43, 0x9a30, 0x7c8a, 0x7243, 0x4bce, 0x1, 0x0);
        gbc.writeMem(0xb6e5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xfc43);
        EXPECT(gbc.pc(), 0xb6e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6e5), 0xad);
        // AD 0179
        gbc.setState(0x3522, 0x1b84, 0xe190, 0x910b, 0xdcf0, 0x7591, 0x1, 0x1);
        gbc.writeMem(0x3522, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1b84);
        EXPECT(gbc.pc(), 0x3523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 017A
        gbc.setState(0xc63a, 0x6356, 0xc000, 0x7165, 0x375b, 0x38c8, 0x1, 0x1);
        gbc.writeMem(0xc63a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6356);
        EXPECT(gbc.pc(), 0xc63b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc63a), 0xad);
        // AD 017B
        gbc.setState(0x104, 0xa1ca, 0x4af0, 0xeb3c, 0x2100, 0xf097, 0x1, 0x1);
        gbc.writeMem(0x104, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa1ca);
        EXPECT(gbc.pc(), 0x105);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 017C
        gbc.setState(0x509, 0xf493, 0xa040, 0x743e, 0x48ba, 0x3368, 0x1, 0x0);
        gbc.writeMem(0x509, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf493);
        EXPECT(gbc.pc(), 0x50a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 017E
        gbc.setState(0x60b7, 0xbed2, 0x4fa0, 0x12e, 0x38c7, 0xbd32, 0x1, 0x0);
        gbc.writeMem(0x60b7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbed2);
        EXPECT(gbc.pc(), 0x60b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 017F
        gbc.setState(0x4cc1, 0xe416, 0xa600, 0xb103, 0xf4d5, 0xeba9, 0x0, 0x0);
        gbc.writeMem(0x4cc1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe416);
        EXPECT(gbc.pc(), 0x4cc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0180
        gbc.setState(0x7acd, 0xdd26, 0x4cf0, 0x8db2, 0xc384, 0xb50, 0x0, 0x1);
        gbc.writeMem(0x7acd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xdd26);
        EXPECT(gbc.pc(), 0x7ace);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0181
        gbc.setState(0xb37a, 0x253e, 0x2930, 0x917a, 0x6e42, 0x89c3, 0x0, 0x0);
        gbc.writeMem(0xb37a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x253e);
        EXPECT(gbc.pc(), 0xb37b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb37a), 0xad);
        // AD 0182
        gbc.setState(0xd2f0, 0xcd84, 0x1a90, 0x4d89, 0xdf34, 0x71f0, 0x1, 0x1);
        gbc.writeMem(0xd2f0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xcd84);
        EXPECT(gbc.pc(), 0xd2f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f0), 0xad);
        // AD 0183
        gbc.setState(0xc05f, 0x747, 0x5b90, 0xe653, 0xf801, 0x42e7, 0x1, 0x1);
        gbc.writeMem(0xc05f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x747);
        EXPECT(gbc.pc(), 0xc060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc05f), 0xad);
        // AD 0184
        gbc.setState(0x13fd, 0xccdb, 0x8260, 0x2896, 0xd538, 0xe8c3, 0x1, 0x1);
        gbc.writeMem(0x13fd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xccdb);
        EXPECT(gbc.pc(), 0x13fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0185
        gbc.setState(0x309, 0xcfbc, 0xa690, 0x2c74, 0xfd91, 0x6a64, 0x0, 0x1);
        gbc.writeMem(0x309, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xcfbc);
        EXPECT(gbc.pc(), 0x30a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0186
        gbc.setState(0x4b73, 0x40ca, 0x7050, 0xe1ed, 0xcd1b, 0xc23, 0x0, 0x0);
        gbc.writeMem(0x4b73, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x40ca);
        EXPECT(gbc.pc(), 0x4b74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0187
        gbc.setState(0x9cb6, 0x1f9d, 0x60d0, 0x479c, 0xd9a6, 0x9b39, 0x0, 0x1);
        gbc.writeMem(0x9cb6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x1f9d);
        EXPECT(gbc.pc(), 0x9cb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cb6), 0xad);
        // AD 0188
        gbc.setState(0xc135, 0x828a, 0x6920, 0x897d, 0x5928, 0xd59e, 0x1, 0x0);
        gbc.writeMem(0xc135, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x828a);
        EXPECT(gbc.pc(), 0xc136);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc135), 0xad);
        // AD 018A
        gbc.setState(0xace5, 0x1f63, 0xb5f0, 0xce1c, 0xe49c, 0x2268, 0x1, 0x0);
        gbc.writeMem(0xace5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x1f63);
        EXPECT(gbc.pc(), 0xace6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace5), 0xad);
        // AD 018B
        gbc.setState(0xaab5, 0x5a80, 0x12a0, 0xa4de, 0x3965, 0xeb75, 0x1, 0x1);
        gbc.writeMem(0xaab5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5a80);
        EXPECT(gbc.pc(), 0xaab6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaab5), 0xad);
        // AD 018C
        gbc.setState(0x4a08, 0xd49e, 0x6080, 0xb074, 0xa223, 0xa546, 0x1, 0x1);
        gbc.writeMem(0x4a08, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd49e);
        EXPECT(gbc.pc(), 0x4a09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 018D
        gbc.setState(0xbb01, 0x3bf5, 0xec10, 0xb387, 0xbc32, 0xd893, 0x1, 0x1);
        gbc.writeMem(0xbb01, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3bf5);
        EXPECT(gbc.pc(), 0xbb02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb01), 0xad);
        // AD 018E
        gbc.setState(0xa1f1, 0xda97, 0xa5b0, 0xee77, 0xe4dc, 0x3e38, 0x1, 0x1);
        gbc.writeMem(0xa1f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xda97);
        EXPECT(gbc.pc(), 0xa1f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1f1), 0xad);
        // AD 018F
        gbc.setState(0xcb70, 0xa983, 0xbe30, 0xd2de, 0x4b82, 0x8d1b, 0x0, 0x0);
        gbc.writeMem(0xcb70, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa983);
        EXPECT(gbc.pc(), 0xcb71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb70), 0xad);
        // AD 0190
        gbc.setState(0x5df0, 0xf2cc, 0x5d90, 0x5db3, 0xd48c, 0xca0c, 0x0, 0x1);
        gbc.writeMem(0x5df0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf2cc);
        EXPECT(gbc.pc(), 0x5df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0192
        gbc.setState(0x6e0c, 0x48a0, 0x2c80, 0xb7d8, 0x324f, 0x5b26, 0x1, 0x1);
        gbc.writeMem(0x6e0c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x48a0);
        EXPECT(gbc.pc(), 0x6e0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0193
        gbc.setState(0x71bd, 0xd523, 0xaa10, 0x4789, 0x74bf, 0x9d21, 0x1, 0x1);
        gbc.writeMem(0x71bd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd523);
        EXPECT(gbc.pc(), 0x71be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0194
        gbc.setState(0x6bb0, 0xd6f6, 0x25e0, 0x1125, 0x4d02, 0x4f79, 0x1, 0x1);
        gbc.writeMem(0x6bb0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd6f6);
        EXPECT(gbc.pc(), 0x6bb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0195
        gbc.setState(0x7ab1, 0xe2f0, 0xa140, 0xc853, 0x7ccd, 0x3f50, 0x1, 0x1);
        gbc.writeMem(0x7ab1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe2f0);
        EXPECT(gbc.pc(), 0x7ab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0196
        gbc.setState(0xee7f, 0x36eb, 0x9f30, 0x76bc, 0x1d43, 0x8a65, 0x0, 0x1);
        gbc.writeMem(0xee7f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x36eb);
        EXPECT(gbc.pc(), 0xee80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee7f), 0xad);
        // AD 0197
        gbc.setState(0x4c6e, 0x31c3, 0x2b40, 0xa8c7, 0x821, 0x18ec, 0x0, 0x0);
        gbc.writeMem(0x4c6e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x31c3);
        EXPECT(gbc.pc(), 0x4c6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0198
        gbc.setState(0x6540, 0x8274, 0xe390, 0x365b, 0xe89a, 0xedda, 0x1, 0x1);
        gbc.writeMem(0x6540, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8274);
        EXPECT(gbc.pc(), 0x6541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0199
        gbc.setState(0xbcb5, 0xffd2, 0x8880, 0x399c, 0xd8da, 0x2d04, 0x0, 0x1);
        gbc.writeMem(0xbcb5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xffd2);
        EXPECT(gbc.pc(), 0xbcb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcb5), 0xad);
        // AD 019A
        gbc.setState(0x2932, 0xdcb6, 0xbab0, 0x3a3a, 0x77d4, 0x7f11, 0x1, 0x1);
        gbc.writeMem(0x2932, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xdcb6);
        EXPECT(gbc.pc(), 0x2933);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 019B
        gbc.setState(0x319f, 0x92d1, 0xbae0, 0x3521, 0x6fa1, 0xb3c6, 0x1, 0x1);
        gbc.writeMem(0x319f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x92d1);
        EXPECT(gbc.pc(), 0x31a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 019C
        gbc.setState(0x2e19, 0x9968, 0x9a50, 0x2348, 0x2b81, 0x4a5, 0x0, 0x1);
        gbc.writeMem(0x2e19, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x9968);
        EXPECT(gbc.pc(), 0x2e1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 019D
        gbc.setState(0xd2db, 0x504c, 0xf1c0, 0x9fe7, 0x8ed2, 0xf97b, 0x0, 0x1);
        gbc.writeMem(0xd2db, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x504c);
        EXPECT(gbc.pc(), 0xd2dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2db), 0xad);
        // AD 019E
        gbc.setState(0x3b9f, 0x8209, 0x47d0, 0x7184, 0xbc11, 0xa5a9, 0x0, 0x1);
        gbc.writeMem(0x3b9f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8209);
        EXPECT(gbc.pc(), 0x3ba0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 019F
        gbc.setState(0x9245, 0xed8d, 0x8b70, 0xe019, 0x185b, 0x1709, 0x0, 0x0);
        gbc.writeMem(0x9245, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xed8d);
        EXPECT(gbc.pc(), 0x9246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9245), 0xad);
        // AD 01A1
        gbc.setState(0x74f0, 0xc68e, 0xa230, 0xb2ba, 0xa13a, 0xb5bd, 0x0, 0x1);
        gbc.writeMem(0x74f0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc68e);
        EXPECT(gbc.pc(), 0x74f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01A2
        gbc.setState(0x3b31, 0x40b0, 0x9fb0, 0x33f4, 0x9a49, 0xfc6b, 0x1, 0x1);
        gbc.writeMem(0x3b31, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x40b0);
        EXPECT(gbc.pc(), 0x3b32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01A3
        gbc.setState(0x36f, 0xefd9, 0x9bd0, 0xe6be, 0x2bd4, 0x1cff, 0x1, 0x1);
        gbc.writeMem(0x36f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xefd9);
        EXPECT(gbc.pc(), 0x370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01A4
        gbc.setState(0x8598, 0x95a2, 0xcbf0, 0x3251, 0x16, 0xd02b, 0x0, 0x0);
        gbc.writeMem(0x8598, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x95a2);
        EXPECT(gbc.pc(), 0x8599);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8598), 0xad);
        // AD 01A5
        gbc.setState(0xb8a9, 0x681f, 0x4ba0, 0x1970, 0xc33a, 0xf3c, 0x1, 0x0);
        gbc.writeMem(0xb8a9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x681f);
        EXPECT(gbc.pc(), 0xb8aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8a9), 0xad);
        // AD 01A6
        gbc.setState(0xa7b3, 0x2dce, 0x1430, 0x4d1f, 0x8c23, 0x1c20, 0x0, 0x0);
        gbc.writeMem(0xa7b3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2dce);
        EXPECT(gbc.pc(), 0xa7b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7b3), 0xad);
        // AD 01A7
        gbc.setState(0x1723, 0x8934, 0xbe90, 0xbc0c, 0xb14c, 0x32df, 0x0, 0x0);
        gbc.writeMem(0x1723, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8934);
        EXPECT(gbc.pc(), 0x1724);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01A8
        gbc.setState(0xed7a, 0xdc29, 0xdb70, 0x91b0, 0xd5d8, 0xc900, 0x0, 0x1);
        gbc.writeMem(0xed7a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdc29);
        EXPECT(gbc.pc(), 0xed7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7a), 0xad);
        // AD 01A9
        gbc.setState(0x5129, 0x2be9, 0xee00, 0x7e03, 0x5bc7, 0x2fcd, 0x1, 0x1);
        gbc.writeMem(0x5129, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2be9);
        EXPECT(gbc.pc(), 0x512a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01AA
        gbc.setState(0xcc71, 0x7390, 0x7760, 0x6f6c, 0x6de2, 0xf364, 0x0, 0x1);
        gbc.writeMem(0xcc71, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7390);
        EXPECT(gbc.pc(), 0xcc72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc71), 0xad);
        // AD 01AB
        gbc.setState(0xcc10, 0x81b0, 0x3000, 0x2fa8, 0x3683, 0x5c72, 0x1, 0x1);
        gbc.writeMem(0xcc10, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x81b0);
        EXPECT(gbc.pc(), 0xcc11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc10), 0xad);
        // AD 01AC
        gbc.setState(0x1cff, 0xe46a, 0x7340, 0x710f, 0x2f1a, 0xf9, 0x0, 0x1);
        gbc.writeMem(0x1cff, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe46a);
        EXPECT(gbc.pc(), 0x1d00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01AD
        gbc.setState(0x3404, 0x6483, 0xbcf0, 0x1ce9, 0x53e1, 0x9678, 0x0, 0x0);
        gbc.writeMem(0x3404, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x6483);
        EXPECT(gbc.pc(), 0x3405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01AE
        gbc.setState(0x3ad6, 0x9b98, 0xa20, 0xecae, 0x1d2, 0x37da, 0x0, 0x1);
        gbc.writeMem(0x3ad6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9b98);
        EXPECT(gbc.pc(), 0x3ad7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01AF
        gbc.setState(0xe4d2, 0xc9e8, 0xfd40, 0xa768, 0x3352, 0xf3db, 0x1, 0x1);
        gbc.writeMem(0xe4d2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xc9e8);
        EXPECT(gbc.pc(), 0xe4d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d2), 0xad);
        // AD 01B0
        gbc.setState(0xeed5, 0x4a4a, 0x54a0, 0xd4c8, 0x9805, 0x60e0, 0x0, 0x0);
        gbc.writeMem(0xeed5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4a4a);
        EXPECT(gbc.pc(), 0xeed6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeed5), 0xad);
        // AD 01B1
        gbc.setState(0xa9d2, 0xfe37, 0xc600, 0x59d5, 0x7ee8, 0x6189, 0x1, 0x1);
        gbc.writeMem(0xa9d2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xfe37);
        EXPECT(gbc.pc(), 0xa9d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9d2), 0xad);
        // AD 01B3
        gbc.setState(0xd843, 0xa63b, 0xdf60, 0x2943, 0x2195, 0xaac5, 0x0, 0x1);
        gbc.writeMem(0xd843, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa63b);
        EXPECT(gbc.pc(), 0xd844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd843), 0xad);
        // AD 01B4
        gbc.setState(0xb086, 0x5d79, 0xb500, 0xe5a4, 0x536e, 0xc3e, 0x0, 0x1);
        gbc.writeMem(0xb086, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5d79);
        EXPECT(gbc.pc(), 0xb087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb086), 0xad);
        // AD 01B5
        gbc.setState(0x8123, 0x39d9, 0x12d0, 0xdef5, 0xb2e9, 0x3a37, 0x1, 0x1);
        gbc.writeMem(0x8123, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x39d9);
        EXPECT(gbc.pc(), 0x8124);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8123), 0xad);
        // AD 01B6
        gbc.setState(0xe91, 0xdebc, 0xaa00, 0x5702, 0x9639, 0x6180, 0x1, 0x0);
        gbc.writeMem(0xe91, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xdebc);
        EXPECT(gbc.pc(), 0xe92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01B7
        gbc.setState(0x617b, 0x926f, 0x1310, 0xca9d, 0xee2e, 0x1106, 0x1, 0x0);
        gbc.writeMem(0x617b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x926f);
        EXPECT(gbc.pc(), 0x617c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01B8
        gbc.setState(0x2212, 0xc39f, 0xb2c0, 0x4b1e, 0xdac8, 0x209e, 0x0, 0x0);
        gbc.writeMem(0x2212, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc39f);
        EXPECT(gbc.pc(), 0x2213);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01B9
        gbc.setState(0xb4b6, 0xce8e, 0x3ca0, 0xdc51, 0xe673, 0x397a, 0x1, 0x0);
        gbc.writeMem(0xb4b6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xce8e);
        EXPECT(gbc.pc(), 0xb4b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4b6), 0xad);
        // AD 01BA
        gbc.setState(0xac75, 0x4541, 0xd070, 0x1ec0, 0xcc1e, 0x6b75, 0x1, 0x0);
        gbc.writeMem(0xac75, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4541);
        EXPECT(gbc.pc(), 0xac76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac75), 0xad);
        // AD 01BB
        gbc.setState(0xae63, 0x1542, 0x1830, 0xc6af, 0x544e, 0x9112, 0x1, 0x1);
        gbc.writeMem(0xae63, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x1542);
        EXPECT(gbc.pc(), 0xae64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae63), 0xad);
        // AD 01BC
        gbc.setState(0x112b, 0xc17b, 0x2530, 0x7263, 0x6c52, 0xc40f, 0x0, 0x0);
        gbc.writeMem(0x112b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc17b);
        EXPECT(gbc.pc(), 0x112c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01BD
        gbc.setState(0x99d3, 0x2dc5, 0xa2f0, 0x89a9, 0x2ea, 0xba31, 0x0, 0x0);
        gbc.writeMem(0x99d3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2dc5);
        EXPECT(gbc.pc(), 0x99d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d3), 0xad);
        // AD 01BE
        gbc.setState(0x82a7, 0x88d4, 0xf8c0, 0x624d, 0xbb43, 0xa2d1, 0x0, 0x0);
        gbc.writeMem(0x82a7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x88d4);
        EXPECT(gbc.pc(), 0x82a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a7), 0xad);
        // AD 01BF
        gbc.setState(0xa0eb, 0xf179, 0x7ac0, 0x38a0, 0x6f93, 0x3621, 0x1, 0x0);
        gbc.writeMem(0xa0eb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf179);
        EXPECT(gbc.pc(), 0xa0ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0eb), 0xad);
        // AD 01C0
        gbc.setState(0x684b, 0xe625, 0x2150, 0xb6dd, 0x7792, 0xbfc6, 0x1, 0x1);
        gbc.writeMem(0x684b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe625);
        EXPECT(gbc.pc(), 0x684c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C1
        gbc.setState(0x1a53, 0x4c47, 0xee00, 0x2238, 0x679a, 0xaa82, 0x1, 0x0);
        gbc.writeMem(0x1a53, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4c47);
        EXPECT(gbc.pc(), 0x1a54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C2
        gbc.setState(0x3e7e, 0xf72e, 0x4340, 0xae7b, 0xb7ea, 0x5450, 0x1, 0x0);
        gbc.writeMem(0x3e7e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf72e);
        EXPECT(gbc.pc(), 0x3e7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C3
        gbc.setState(0x1583, 0xcf8b, 0x6600, 0xc977, 0x81e6, 0x3c8c, 0x0, 0x1);
        gbc.writeMem(0x1583, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xcf8b);
        EXPECT(gbc.pc(), 0x1584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C4
        gbc.setState(0x3908, 0x8c2d, 0x4940, 0xf91b, 0x2420, 0x277, 0x0, 0x1);
        gbc.writeMem(0x3908, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8c2d);
        EXPECT(gbc.pc(), 0x3909);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C5
        gbc.setState(0x6b68, 0x81ff, 0x2fc0, 0x6a5c, 0x284f, 0x431b, 0x1, 0x0);
        gbc.writeMem(0x6b68, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x81ff);
        EXPECT(gbc.pc(), 0x6b69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C6
        gbc.setState(0x7c05, 0x61cd, 0x4cb0, 0xedf7, 0xc403, 0x13cc, 0x0, 0x1);
        gbc.writeMem(0x7c05, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x61cd);
        EXPECT(gbc.pc(), 0x7c06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C7
        gbc.setState(0x7398, 0xad09, 0xcc60, 0x7b5e, 0xe2f2, 0xfb0e, 0x1, 0x0);
        gbc.writeMem(0x7398, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xad09);
        EXPECT(gbc.pc(), 0x7399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01C8
        gbc.setState(0xeb91, 0xbaeb, 0x4c0, 0xa032, 0x81ac, 0xabf3, 0x1, 0x0);
        gbc.writeMem(0xeb91, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xbaeb);
        EXPECT(gbc.pc(), 0xeb92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb91), 0xad);
        // AD 01C9
        gbc.setState(0xe48e, 0x4128, 0x2570, 0x3284, 0x2db7, 0x6695, 0x0, 0x0);
        gbc.writeMem(0xe48e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4128);
        EXPECT(gbc.pc(), 0xe48f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe48e), 0xad);
        // AD 01CA
        gbc.setState(0xc8df, 0xe523, 0xfeb0, 0x8250, 0xe019, 0x1e8a, 0x1, 0x1);
        gbc.writeMem(0xc8df, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xe523);
        EXPECT(gbc.pc(), 0xc8e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8df), 0xad);
        // AD 01CB
        gbc.setState(0x90fc, 0xb8cf, 0x64d0, 0x27ed, 0xb844, 0xb331, 0x1, 0x0);
        gbc.writeMem(0x90fc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xb8cf);
        EXPECT(gbc.pc(), 0x90fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90fc), 0xad);
        // AD 01CC
        gbc.setState(0x7825, 0x4dd5, 0x7a10, 0xc71d, 0x21a0, 0xe0e1, 0x0, 0x0);
        gbc.writeMem(0x7825, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x4dd5);
        EXPECT(gbc.pc(), 0x7826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01CD
        gbc.setState(0xa8d0, 0x174d, 0x180, 0x32f7, 0x1e2d, 0x73cd, 0x0, 0x0);
        gbc.writeMem(0xa8d0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x174d);
        EXPECT(gbc.pc(), 0xa8d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8d0), 0xad);
        // AD 01CE
        gbc.setState(0x6920, 0xac9, 0x2a70, 0xd5eb, 0xccbf, 0xe1c7, 0x0, 0x0);
        gbc.writeMem(0x6920, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xac9);
        EXPECT(gbc.pc(), 0x6921);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01CF
        gbc.setState(0x48e5, 0x32dd, 0xe550, 0x83b6, 0xb1d, 0x58a7, 0x0, 0x1);
        gbc.writeMem(0x48e5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x32dd);
        EXPECT(gbc.pc(), 0x48e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01D0
        gbc.setState(0x802e, 0xa6d3, 0xf210, 0x953a, 0x6978, 0xd274, 0x1, 0x1);
        gbc.writeMem(0x802e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa6d3);
        EXPECT(gbc.pc(), 0x802f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x802e), 0xad);
        // AD 01D1
        gbc.setState(0xb627, 0x3a3c, 0xcab0, 0x6ece, 0x943f, 0x3935, 0x1, 0x1);
        gbc.writeMem(0xb627, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x3a3c);
        EXPECT(gbc.pc(), 0xb628);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb627), 0xad);
        // AD 01D2
        gbc.setState(0x3411, 0x8fee, 0x7dc0, 0xc82b, 0xb6ff, 0xa574, 0x0, 0x1);
        gbc.writeMem(0x3411, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8fee);
        EXPECT(gbc.pc(), 0x3412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01D3
        gbc.setState(0x42f4, 0xf984, 0x15f0, 0x4beb, 0xa448, 0x1aec, 0x0, 0x1);
        gbc.writeMem(0x42f4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xf984);
        EXPECT(gbc.pc(), 0x42f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01D4
        gbc.setState(0x2335, 0x7067, 0xece0, 0x9756, 0x6e0d, 0xe017, 0x0, 0x0);
        gbc.writeMem(0x2335, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7067);
        EXPECT(gbc.pc(), 0x2336);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01D5
        gbc.setState(0xaffd, 0xae6b, 0x3340, 0x3e98, 0x628b, 0x5ff, 0x1, 0x1);
        gbc.writeMem(0xaffd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xae6b);
        EXPECT(gbc.pc(), 0xaffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaffd), 0xad);
        // AD 01D6
        gbc.setState(0x2b91, 0xe2d5, 0x79d0, 0xb819, 0xb2b3, 0x8553, 0x0, 0x0);
        gbc.writeMem(0x2b91, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe2d5);
        EXPECT(gbc.pc(), 0x2b92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01D8
        gbc.setState(0xbc25, 0xc84e, 0xf1e0, 0xe11, 0x3c28, 0x36a8, 0x0, 0x1);
        gbc.writeMem(0xbc25, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc84e);
        EXPECT(gbc.pc(), 0xbc26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc25), 0xad);
        // AD 01D9
        gbc.setState(0xcbde, 0xa998, 0xafc0, 0x36f9, 0xf4ec, 0xcdd9, 0x1, 0x0);
        gbc.writeMem(0xcbde, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xa998);
        EXPECT(gbc.pc(), 0xcbdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbde), 0xad);
        // AD 01DA
        gbc.setState(0xb07a, 0x8667, 0x3560, 0x21de, 0xa657, 0x6d1a, 0x1, 0x1);
        gbc.writeMem(0xb07a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x8667);
        EXPECT(gbc.pc(), 0xb07b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07a), 0xad);
        // AD 01DB
        gbc.setState(0x1b28, 0x2d8a, 0x5dd0, 0xd0bd, 0xc22d, 0xae7f, 0x1, 0x1);
        gbc.writeMem(0x1b28, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2d8a);
        EXPECT(gbc.pc(), 0x1b29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01DC
        gbc.setState(0xb06c, 0xb010, 0x8dc0, 0x23dd, 0x4f79, 0xad71, 0x1, 0x0);
        gbc.writeMem(0xb06c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb010);
        EXPECT(gbc.pc(), 0xb06d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb06c), 0xad);
        // AD 01DD
        gbc.setState(0x3a67, 0x583, 0x5b50, 0x4150, 0x863d, 0x16e7, 0x0, 0x1);
        gbc.writeMem(0x3a67, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x583);
        EXPECT(gbc.pc(), 0x3a68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01DE
        gbc.setState(0x3aef, 0xa499, 0x1ed0, 0x3437, 0x103f, 0x1481, 0x1, 0x0);
        gbc.writeMem(0x3aef, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa499);
        EXPECT(gbc.pc(), 0x3af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01DF
        gbc.setState(0x5bfe, 0xd9b1, 0xbd70, 0xeb7e, 0xadc5, 0xead3, 0x0, 0x1);
        gbc.writeMem(0x5bfe, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd9b1);
        EXPECT(gbc.pc(), 0x5bff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E0
        gbc.setState(0x3a69, 0xfadd, 0x6ab0, 0x8603, 0x77b0, 0x147f, 0x1, 0x0);
        gbc.writeMem(0x3a69, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xfadd);
        EXPECT(gbc.pc(), 0x3a6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E1
        gbc.setState(0xaa57, 0xdbcc, 0xc670, 0xd59, 0x92df, 0x964b, 0x1, 0x0);
        gbc.writeMem(0xaa57, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdbcc);
        EXPECT(gbc.pc(), 0xaa58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa57), 0xad);
        // AD 01E2
        gbc.setState(0xc46e, 0xc676, 0x4d90, 0xfd75, 0x9551, 0xe5a9, 0x0, 0x0);
        gbc.writeMem(0xc46e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xc676);
        EXPECT(gbc.pc(), 0xc46f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc46e), 0xad);
        // AD 01E3
        gbc.setState(0x653, 0x514f, 0x33c0, 0x48c3, 0x905f, 0x8c34, 0x1, 0x0);
        gbc.writeMem(0x653, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x514f);
        EXPECT(gbc.pc(), 0x654);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E4
        gbc.setState(0x41ad, 0xeebd, 0x97d0, 0xbb4f, 0x675, 0x1f74, 0x1, 0x1);
        gbc.writeMem(0x41ad, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xeebd);
        EXPECT(gbc.pc(), 0x41ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E5
        gbc.setState(0x52f1, 0x4b02, 0x1fd0, 0xdc45, 0x1db, 0xdbd9, 0x1, 0x0);
        gbc.writeMem(0x52f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4b02);
        EXPECT(gbc.pc(), 0x52f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E6
        gbc.setState(0xe5d9, 0x6e8, 0x1d40, 0x6150, 0x7a2, 0xe36c, 0x0, 0x1);
        gbc.writeMem(0xe5d9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6e8);
        EXPECT(gbc.pc(), 0xe5da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d9), 0xad);
        // AD 01E7
        gbc.setState(0x2839, 0xcc17, 0xfec0, 0x31d0, 0x8fc4, 0x1627, 0x0, 0x1);
        gbc.writeMem(0x2839, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xcc17);
        EXPECT(gbc.pc(), 0x283a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E8
        gbc.setState(0x3c35, 0x7403, 0x1650, 0x8dd0, 0x99be, 0xb712, 0x1, 0x0);
        gbc.writeMem(0x3c35, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7403);
        EXPECT(gbc.pc(), 0x3c36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01E9
        gbc.setState(0x7503, 0xd33e, 0x5ae0, 0x741a, 0x2aff, 0xa8e7, 0x0, 0x1);
        gbc.writeMem(0x7503, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd33e);
        EXPECT(gbc.pc(), 0x7504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01EA
        gbc.setState(0x7bdd, 0xce86, 0x5530, 0x761e, 0x3483, 0xe26e, 0x0, 0x0);
        gbc.writeMem(0x7bdd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xce86);
        EXPECT(gbc.pc(), 0x7bde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01EB
        gbc.setState(0xd0e4, 0xd6a8, 0x46a0, 0xad67, 0xb0ed, 0x2655, 0x1, 0x1);
        gbc.writeMem(0xd0e4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd6a8);
        EXPECT(gbc.pc(), 0xd0e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0e4), 0xad);
        // AD 01EC
        gbc.setState(0x2eca, 0x9392, 0x8c30, 0xa4aa, 0x8825, 0x8d48, 0x0, 0x0);
        gbc.writeMem(0x2eca, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x9392);
        EXPECT(gbc.pc(), 0x2ecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01ED
        gbc.setState(0x8a7a, 0xade7, 0x5320, 0xafff, 0xe30a, 0x70a9, 0x1, 0x1);
        gbc.writeMem(0x8a7a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xade7);
        EXPECT(gbc.pc(), 0x8a7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a7a), 0xad);
        // AD 01EE
        gbc.setState(0x261, 0x7f8d, 0x1dc0, 0x7892, 0x3c1d, 0x21ce, 0x0, 0x0);
        gbc.writeMem(0x261, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x7f8d);
        EXPECT(gbc.pc(), 0x262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01EF
        gbc.setState(0xef5c, 0x242d, 0xcb20, 0xcadb, 0x5ff5, 0xf70a, 0x0, 0x1);
        gbc.writeMem(0xef5c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x242d);
        EXPECT(gbc.pc(), 0xef5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef5c), 0xad);
        // AD 01F0
        gbc.setState(0x22e6, 0xbc7d, 0x3f50, 0x5530, 0x2518, 0xf2f6, 0x0, 0x1);
        gbc.writeMem(0x22e6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xbc7d);
        EXPECT(gbc.pc(), 0x22e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01F1
        gbc.setState(0xb99b, 0x4227, 0x93a0, 0x5d69, 0x25cc, 0x8327, 0x1, 0x0);
        gbc.writeMem(0xb99b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4227);
        EXPECT(gbc.pc(), 0xb99c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb99b), 0xad);
        // AD 01F2
        gbc.setState(0xbeed, 0xd505, 0xfb90, 0x589f, 0x7dad, 0x5ba7, 0x0, 0x1);
        gbc.writeMem(0xbeed, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd505);
        EXPECT(gbc.pc(), 0xbeee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeed), 0xad);
        // AD 01F3
        gbc.setState(0x3a26, 0xd00b, 0x30c0, 0xca5a, 0x7907, 0xb905, 0x1, 0x1);
        gbc.writeMem(0x3a26, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd00b);
        EXPECT(gbc.pc(), 0x3a27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01F4
        gbc.setState(0x7ee9, 0x2a2d, 0xae00, 0x9cbf, 0x9eff, 0x393d, 0x0, 0x1);
        gbc.writeMem(0x7ee9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2a2d);
        EXPECT(gbc.pc(), 0x7eea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01F5
        gbc.setState(0x21be, 0xd728, 0xfff0, 0xadf1, 0x2ae, 0x48c1, 0x1, 0x1);
        gbc.writeMem(0x21be, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd728);
        EXPECT(gbc.pc(), 0x21bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01F6
        gbc.setState(0x23c, 0x3b3b, 0xf490, 0xd336, 0xf915, 0x9b39, 0x0, 0x0);
        gbc.writeMem(0x23c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3b3b);
        EXPECT(gbc.pc(), 0x23d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01F7
        gbc.setState(0xae2f, 0xca71, 0x66a0, 0x8323, 0xfd88, 0xb56, 0x0, 0x0);
        gbc.writeMem(0xae2f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xca71);
        EXPECT(gbc.pc(), 0xae30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae2f), 0xad);
        // AD 01F8
        gbc.setState(0x483a, 0xff72, 0x3520, 0xd55a, 0x6968, 0xb2e0, 0x0, 0x0);
        gbc.writeMem(0x483a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xff72);
        EXPECT(gbc.pc(), 0x483b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01F9
        gbc.setState(0x877e, 0x2d58, 0xb250, 0x6859, 0xbadb, 0x4f79, 0x0, 0x0);
        gbc.writeMem(0x877e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2d58);
        EXPECT(gbc.pc(), 0x877f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x877e), 0xad);
        // AD 01FA
        gbc.setState(0x1c4e, 0x255a, 0xffc0, 0xbb4e, 0xfdfc, 0x21ee, 0x1, 0x1);
        gbc.writeMem(0x1c4e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x255a);
        EXPECT(gbc.pc(), 0x1c4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01FB
        gbc.setState(0x2dc3, 0x5fbb, 0xf940, 0xc605, 0xebfc, 0x90e9, 0x0, 0x0);
        gbc.writeMem(0x2dc3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5fbb);
        EXPECT(gbc.pc(), 0x2dc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01FC
        gbc.setState(0xe20d, 0xc66a, 0xd090, 0x914c, 0x728c, 0x5df, 0x0, 0x1);
        gbc.writeMem(0xe20d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc66a);
        EXPECT(gbc.pc(), 0xe20e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe20d), 0xad);
        // AD 01FD
        gbc.setState(0xd375, 0x59a7, 0xcca0, 0x86f1, 0xe57f, 0xbd3d, 0x1, 0x0);
        gbc.writeMem(0xd375, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x59a7);
        EXPECT(gbc.pc(), 0xd376);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd375), 0xad);
        // AD 01FE
        gbc.setState(0x106, 0xd60a, 0x91d0, 0x981, 0x38ec, 0x3a4b, 0x1, 0x0);
        gbc.writeMem(0x106, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd60a);
        EXPECT(gbc.pc(), 0x107);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 01FF
        gbc.setState(0x7b7, 0x9d15, 0xc120, 0x2fe, 0xdad4, 0x2f5d, 0x0, 0x1);
        gbc.writeMem(0x7b7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9d15);
        EXPECT(gbc.pc(), 0x7b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0200
        gbc.setState(0x40d, 0x32e8, 0xa8c0, 0xf1df, 0xef1b, 0xc761, 0x0, 0x1);
        gbc.writeMem(0x40d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x32e8);
        EXPECT(gbc.pc(), 0x40e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0201
        gbc.setState(0x7937, 0xfcb8, 0x8010, 0x401f, 0xf9ea, 0x80e3, 0x0, 0x0);
        gbc.writeMem(0x7937, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfcb8);
        EXPECT(gbc.pc(), 0x7938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0203
        gbc.setState(0x53, 0xbb08, 0xebe0, 0xc681, 0x79c3, 0x119f, 0x0, 0x0);
        gbc.writeMem(0x53, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xbb08);
        EXPECT(gbc.pc(), 0x54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0204
        gbc.setState(0x8272, 0x148b, 0x4b70, 0xe24d, 0x6ec3, 0xa99b, 0x0, 0x1);
        gbc.writeMem(0x8272, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x148b);
        EXPECT(gbc.pc(), 0x8273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8272), 0xad);
        // AD 0205
        gbc.setState(0x57bf, 0xf253, 0xb6a0, 0x301d, 0xec25, 0xe785, 0x0, 0x1);
        gbc.writeMem(0x57bf, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf253);
        EXPECT(gbc.pc(), 0x57c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0206
        gbc.setState(0x588e, 0xb8c8, 0xb070, 0x4b01, 0x2368, 0x3244, 0x0, 0x1);
        gbc.writeMem(0x588e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb8c8);
        EXPECT(gbc.pc(), 0x588f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0207
        gbc.setState(0xc644, 0x1693, 0xfa10, 0x6f4f, 0x71a1, 0x1e4e, 0x0, 0x0);
        gbc.writeMem(0xc644, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1693);
        EXPECT(gbc.pc(), 0xc645);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc644), 0xad);
        // AD 0208
        gbc.setState(0xa451, 0xd6ff, 0xd4a0, 0xd877, 0x4d21, 0xe979, 0x1, 0x1);
        gbc.writeMem(0xa451, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd6ff);
        EXPECT(gbc.pc(), 0xa452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa451), 0xad);
        // AD 0209
        gbc.setState(0x21b4, 0x9159, 0x7de0, 0x48a2, 0x3f05, 0xf33a, 0x1, 0x0);
        gbc.writeMem(0x21b4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9159);
        EXPECT(gbc.pc(), 0x21b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 020A
        gbc.setState(0xa046, 0x7298, 0x18c0, 0x65da, 0xf43, 0x16f8, 0x1, 0x1);
        gbc.writeMem(0xa046, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x7298);
        EXPECT(gbc.pc(), 0xa047);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa046), 0xad);
        // AD 020B
        gbc.setState(0xb471, 0x78a5, 0x540, 0x97cb, 0x1c9d, 0x668a, 0x1, 0x1);
        gbc.writeMem(0xb471, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x78a5);
        EXPECT(gbc.pc(), 0xb472);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb471), 0xad);
        // AD 020C
        gbc.setState(0xec8f, 0x71f1, 0x7280, 0x23f3, 0xcb47, 0xbaf, 0x0, 0x0);
        gbc.writeMem(0xec8f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x71f1);
        EXPECT(gbc.pc(), 0xec90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec8f), 0xad);
        // AD 020D
        gbc.setState(0x38cb, 0x742a, 0xeac0, 0x791c, 0x8fd0, 0x990b, 0x0, 0x0);
        gbc.writeMem(0x38cb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x742a);
        EXPECT(gbc.pc(), 0x38cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 020E
        gbc.setState(0x9961, 0xc27d, 0xd340, 0x6853, 0xabfe, 0xde4c, 0x1, 0x0);
        gbc.writeMem(0x9961, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc27d);
        EXPECT(gbc.pc(), 0x9962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9961), 0xad);
        // AD 020F
        gbc.setState(0x15d5, 0x96d, 0x7340, 0xb902, 0xbc39, 0x525b, 0x0, 0x0);
        gbc.writeMem(0x15d5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x96d);
        EXPECT(gbc.pc(), 0x15d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0210
        gbc.setState(0xab02, 0x4505, 0x2870, 0x12a4, 0x8be5, 0x4aab, 0x0, 0x0);
        gbc.writeMem(0xab02, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4505);
        EXPECT(gbc.pc(), 0xab03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab02), 0xad);
        // AD 0212
        gbc.setState(0x3185, 0x36b9, 0x99b0, 0x47ae, 0x8165, 0xe71b, 0x1, 0x1);
        gbc.writeMem(0x3185, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x36b9);
        EXPECT(gbc.pc(), 0x3186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0213
        gbc.setState(0xed2b, 0x56f1, 0xab90, 0xe1b, 0xeed3, 0x5ce4, 0x1, 0x1);
        gbc.writeMem(0xed2b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x56f1);
        EXPECT(gbc.pc(), 0xed2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed2b), 0xad);
        // AD 0214
        gbc.setState(0x2622, 0xdb70, 0x9460, 0x5071, 0x51d9, 0x5b08, 0x0, 0x1);
        gbc.writeMem(0x2622, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xdb70);
        EXPECT(gbc.pc(), 0x2623);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0215
        gbc.setState(0x535b, 0x85a, 0x28b0, 0x6fb8, 0x28f8, 0x1bb3, 0x0, 0x1);
        gbc.writeMem(0x535b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x85a);
        EXPECT(gbc.pc(), 0x535c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0216
        gbc.setState(0x3f70, 0x8a8b, 0xbcf0, 0x7818, 0x2632, 0x32c9, 0x0, 0x0);
        gbc.writeMem(0x3f70, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8a8b);
        EXPECT(gbc.pc(), 0x3f71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0217
        gbc.setState(0xb86c, 0x1021, 0x2020, 0x681a, 0xdaf6, 0x58a0, 0x1, 0x1);
        gbc.writeMem(0xb86c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1021);
        EXPECT(gbc.pc(), 0xb86d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb86c), 0xad);
        // AD 0218
        gbc.setState(0x8611, 0xb36a, 0x3f90, 0x6316, 0x7f6, 0x5253, 0x0, 0x0);
        gbc.writeMem(0x8611, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb36a);
        EXPECT(gbc.pc(), 0x8612);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8611), 0xad);
        // AD 0219
        gbc.setState(0x4660, 0xf8e5, 0x2750, 0x633a, 0xd191, 0x6ce2, 0x1, 0x1);
        gbc.writeMem(0x4660, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xf8e5);
        EXPECT(gbc.pc(), 0x4661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 021A
        gbc.setState(0x5e9e, 0x3667, 0xe370, 0xfef2, 0x7816, 0x2479, 0x1, 0x0);
        gbc.writeMem(0x5e9e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3667);
        EXPECT(gbc.pc(), 0x5e9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 021B
        gbc.setState(0x1d67, 0xc273, 0xbe70, 0x7999, 0x4957, 0xefaa, 0x1, 0x0);
        gbc.writeMem(0x1d67, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc273);
        EXPECT(gbc.pc(), 0x1d68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 021C
        gbc.setState(0x6627, 0x52ad, 0x520, 0x123e, 0x7c97, 0x9040, 0x0, 0x0);
        gbc.writeMem(0x6627, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x52ad);
        EXPECT(gbc.pc(), 0x6628);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 021D
        gbc.setState(0x2ce3, 0x11b, 0x5fd0, 0x5397, 0x5d87, 0xa5a8, 0x0, 0x1);
        gbc.writeMem(0x2ce3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x11b);
        EXPECT(gbc.pc(), 0x2ce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 021E
        gbc.setState(0x3637, 0x88f6, 0x7af0, 0xc4e, 0xbe36, 0x8c0f, 0x1, 0x1);
        gbc.writeMem(0x3637, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x88f6);
        EXPECT(gbc.pc(), 0x3638);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 021F
        gbc.setState(0x4b6c, 0x654b, 0x5640, 0x44ee, 0xa227, 0xe0e0, 0x0, 0x1);
        gbc.writeMem(0x4b6c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x654b);
        EXPECT(gbc.pc(), 0x4b6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0220
        gbc.setState(0x27b3, 0x768c, 0x5770, 0x1af, 0xab57, 0x2706, 0x0, 0x1);
        gbc.writeMem(0x27b3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x768c);
        EXPECT(gbc.pc(), 0x27b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0221
        gbc.setState(0xd0ec, 0xd30f, 0x83c0, 0x1d0f, 0x67a2, 0x533a, 0x1, 0x0);
        gbc.writeMem(0xd0ec, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xd30f);
        EXPECT(gbc.pc(), 0xd0ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ec), 0xad);
        // AD 0222
        gbc.setState(0x8dbc, 0xb6b7, 0x7910, 0x8793, 0x1cd, 0x6e9c, 0x1, 0x1);
        gbc.writeMem(0x8dbc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb6b7);
        EXPECT(gbc.pc(), 0x8dbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dbc), 0xad);
        // AD 0223
        gbc.setState(0x2211, 0xba81, 0x43b0, 0x6792, 0xdcb3, 0xac83, 0x1, 0x0);
        gbc.writeMem(0x2211, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xba81);
        EXPECT(gbc.pc(), 0x2212);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0224
        gbc.setState(0x567b, 0x6edc, 0xab10, 0xec41, 0xea2e, 0x638b, 0x1, 0x0);
        gbc.writeMem(0x567b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6edc);
        EXPECT(gbc.pc(), 0x567c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0225
        gbc.setState(0x88fb, 0x42ff, 0x7370, 0x63da, 0x6f8b, 0xdc33, 0x0, 0x0);
        gbc.writeMem(0x88fb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x42ff);
        EXPECT(gbc.pc(), 0x88fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88fb), 0xad);
        // AD 0226
        gbc.setState(0x5734, 0x869, 0xbb70, 0x110d, 0x43e, 0x302d, 0x0, 0x1);
        gbc.writeMem(0x5734, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x869);
        EXPECT(gbc.pc(), 0x5735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0227
        gbc.setState(0xd96f, 0x6a36, 0x2c10, 0xac06, 0x88dd, 0x798a, 0x0, 0x1);
        gbc.writeMem(0xd96f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6a36);
        EXPECT(gbc.pc(), 0xd970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd96f), 0xad);
        // AD 0228
        gbc.setState(0x63b1, 0xc913, 0xc300, 0x9d2c, 0xabb7, 0x7063, 0x1, 0x1);
        gbc.writeMem(0x63b1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc913);
        EXPECT(gbc.pc(), 0x63b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0229
        gbc.setState(0x5fd0, 0x6d54, 0x72c0, 0xb00f, 0xd33d, 0xb84f, 0x0, 0x1);
        gbc.writeMem(0x5fd0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6d54);
        EXPECT(gbc.pc(), 0x5fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 022A
        gbc.setState(0xdc89, 0x994d, 0x9910, 0xf92f, 0xedd4, 0xcb9a, 0x1, 0x0);
        gbc.writeMem(0xdc89, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x994d);
        EXPECT(gbc.pc(), 0xdc8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc89), 0xad);
        // AD 022B
        gbc.setState(0xc79e, 0x89ee, 0x7170, 0x87ca, 0x6a1, 0x1e5b, 0x0, 0x0);
        gbc.writeMem(0xc79e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x89ee);
        EXPECT(gbc.pc(), 0xc79f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc79e), 0xad);
        // AD 022C
        gbc.setState(0xc7c1, 0x13e1, 0x63f0, 0x7166, 0x50a4, 0xa4e4, 0x1, 0x1);
        gbc.writeMem(0xc7c1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x13e1);
        EXPECT(gbc.pc(), 0xc7c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c1), 0xad);
        // AD 022D
        gbc.setState(0x8773, 0xeee9, 0xa7e0, 0xcbb, 0x4758, 0x84ac, 0x0, 0x0);
        gbc.writeMem(0x8773, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xeee9);
        EXPECT(gbc.pc(), 0x8774);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8773), 0xad);
        // AD 022E
        gbc.setState(0x2726, 0xfba, 0x9e70, 0xa54a, 0x4461, 0x41a9, 0x0, 0x0);
        gbc.writeMem(0x2726, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xfba);
        EXPECT(gbc.pc(), 0x2727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 022F
        gbc.setState(0x6041, 0x9f29, 0xac40, 0xbbf0, 0x1ca1, 0x29c3, 0x0, 0x1);
        gbc.writeMem(0x6041, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9f29);
        EXPECT(gbc.pc(), 0x6042);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0230
        gbc.setState(0x840d, 0x7d7c, 0x6cd0, 0xa107, 0xf4ce, 0xc3a4, 0x1, 0x1);
        gbc.writeMem(0x840d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7d7c);
        EXPECT(gbc.pc(), 0x840e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x840d), 0xad);
        // AD 0231
        gbc.setState(0xc16d, 0xad03, 0x9070, 0x42aa, 0xbabe, 0xb2ec, 0x1, 0x0);
        gbc.writeMem(0xc16d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xad03);
        EXPECT(gbc.pc(), 0xc16e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc16d), 0xad);
        // AD 0232
        gbc.setState(0x7c58, 0xa7e, 0x4c30, 0x2989, 0x9432, 0x2247, 0x0, 0x1);
        gbc.writeMem(0x7c58, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa7e);
        EXPECT(gbc.pc(), 0x7c59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0233
        gbc.setState(0xd97d, 0xe172, 0x2680, 0x2851, 0x89e, 0x839c, 0x0, 0x0);
        gbc.writeMem(0xd97d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe172);
        EXPECT(gbc.pc(), 0xd97e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd97d), 0xad);
        // AD 0234
        gbc.setState(0x642, 0x9dfa, 0xf60, 0xdc94, 0xa725, 0xb2df, 0x1, 0x1);
        gbc.writeMem(0x642, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9dfa);
        EXPECT(gbc.pc(), 0x643);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0235
        gbc.setState(0xb84, 0x417, 0x5090, 0x31d1, 0x24d1, 0xf9e3, 0x1, 0x1);
        gbc.writeMem(0xb84, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x417);
        EXPECT(gbc.pc(), 0xb85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0236
        gbc.setState(0x4890, 0x4bd0, 0xb2c0, 0xb171, 0x7a2a, 0x43c5, 0x0, 0x0);
        gbc.writeMem(0x4890, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4bd0);
        EXPECT(gbc.pc(), 0x4891);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0237
        gbc.setState(0x2f1f, 0x18ec, 0xbb70, 0x2275, 0xf7a8, 0x832, 0x1, 0x1);
        gbc.writeMem(0x2f1f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x18ec);
        EXPECT(gbc.pc(), 0x2f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0238
        gbc.setState(0xd957, 0x7ef3, 0xefd0, 0x9bf2, 0x4f7d, 0xb654, 0x1, 0x0);
        gbc.writeMem(0xd957, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7ef3);
        EXPECT(gbc.pc(), 0xd958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd957), 0xad);
        // AD 0239
        gbc.setState(0xb1b1, 0xe4fc, 0x9d60, 0x99bf, 0x20f4, 0x8208, 0x0, 0x1);
        gbc.writeMem(0xb1b1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe4fc);
        EXPECT(gbc.pc(), 0xb1b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b1), 0xad);
        // AD 023A
        gbc.setState(0xc439, 0x25cf, 0xd60, 0x56ec, 0xb09f, 0xd7db, 0x1, 0x1);
        gbc.writeMem(0xc439, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x25cf);
        EXPECT(gbc.pc(), 0xc43a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc439), 0xad);
        // AD 023B
        gbc.setState(0x1755, 0xe8a, 0x9e10, 0xdee4, 0x466d, 0xcfd2, 0x0, 0x1);
        gbc.writeMem(0x1755, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe8a);
        EXPECT(gbc.pc(), 0x1756);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 023C
        gbc.setState(0xe16b, 0xc2a6, 0x8a90, 0xf574, 0xcfc1, 0x67bd, 0x1, 0x1);
        gbc.writeMem(0xe16b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc2a6);
        EXPECT(gbc.pc(), 0xe16c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16b), 0xad);
        // AD 023D
        gbc.setState(0x6e9, 0xd48, 0xed80, 0x26e2, 0x617b, 0x7c3c, 0x1, 0x1);
        gbc.writeMem(0x6e9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd48);
        EXPECT(gbc.pc(), 0x6ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 023E
        gbc.setState(0x62db, 0xcc62, 0xeba0, 0x7010, 0x62fb, 0x784c, 0x1, 0x1);
        gbc.writeMem(0x62db, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcc62);
        EXPECT(gbc.pc(), 0x62dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 023F
        gbc.setState(0x6ec8, 0x17c2, 0x2c00, 0x5293, 0x389e, 0x33b0, 0x1, 0x1);
        gbc.writeMem(0x6ec8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x17c2);
        EXPECT(gbc.pc(), 0x6ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0240
        gbc.setState(0x3a, 0x63a0, 0xc630, 0xbd54, 0xe915, 0xfb04, 0x1, 0x0);
        gbc.writeMem(0x3a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x63a0);
        EXPECT(gbc.pc(), 0x3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0241
        gbc.setState(0xa2b2, 0xd19e, 0x6670, 0xef8f, 0x7343, 0xaabe, 0x1, 0x1);
        gbc.writeMem(0xa2b2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xd19e);
        EXPECT(gbc.pc(), 0xa2b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2b2), 0xad);
        // AD 0242
        gbc.setState(0x7e1c, 0x9ae9, 0x5ec0, 0x529f, 0x884a, 0x1c39, 0x0, 0x0);
        gbc.writeMem(0x7e1c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9ae9);
        EXPECT(gbc.pc(), 0x7e1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0243
        gbc.setState(0xfec, 0x639b, 0x1370, 0xfa5d, 0x3a4d, 0x2153, 0x0, 0x0);
        gbc.writeMem(0xfec, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x639b);
        EXPECT(gbc.pc(), 0xfed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0244
        gbc.setState(0xcae7, 0x8629, 0x4950, 0xea3f, 0x875f, 0x7fc3, 0x0, 0x0);
        gbc.writeMem(0xcae7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8629);
        EXPECT(gbc.pc(), 0xcae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcae7), 0xad);
        // AD 0245
        gbc.setState(0x332d, 0x5a5c, 0x9b40, 0xf36c, 0x63a0, 0x32b9, 0x0, 0x1);
        gbc.writeMem(0x332d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5a5c);
        EXPECT(gbc.pc(), 0x332e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0246
        gbc.setState(0xa44e, 0xd4d9, 0xf610, 0xd39, 0x8aba, 0x4c45, 0x1, 0x0);
        gbc.writeMem(0xa44e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xd4d9);
        EXPECT(gbc.pc(), 0xa44f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa44e), 0xad);
        // AD 0247
        gbc.setState(0x71f1, 0x88ed, 0xf020, 0x1f58, 0x76e9, 0x272e, 0x0, 0x1);
        gbc.writeMem(0x71f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x88ed);
        EXPECT(gbc.pc(), 0x71f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0248
        gbc.setState(0xa601, 0xa6cc, 0x1650, 0xb1b4, 0x64ac, 0xd695, 0x0, 0x0);
        gbc.writeMem(0xa601, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa6cc);
        EXPECT(gbc.pc(), 0xa602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa601), 0xad);
        // AD 0249
        gbc.setState(0x1b4b, 0x4159, 0x4c90, 0xb063, 0x7729, 0x8b00, 0x0, 0x1);
        gbc.writeMem(0x1b4b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4159);
        EXPECT(gbc.pc(), 0x1b4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 024A
        gbc.setState(0x9819, 0x9a0d, 0x1760, 0xe085, 0xb422, 0xd18a, 0x0, 0x0);
        gbc.writeMem(0x9819, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x9a0d);
        EXPECT(gbc.pc(), 0x981a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9819), 0xad);
        // AD 024B
        gbc.setState(0x1d32, 0xae9f, 0xcca0, 0xfb37, 0x92b7, 0x335b, 0x0, 0x1);
        gbc.writeMem(0x1d32, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xae9f);
        EXPECT(gbc.pc(), 0x1d33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 024C
        gbc.setState(0x3c67, 0xf230, 0x9020, 0xba23, 0x87c0, 0x6d66, 0x0, 0x0);
        gbc.writeMem(0x3c67, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xf230);
        EXPECT(gbc.pc(), 0x3c68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 024D
        gbc.setState(0xcb5f, 0xc3de, 0x67a0, 0xdb3c, 0xcc91, 0x4578, 0x1, 0x0);
        gbc.writeMem(0xcb5f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc3de);
        EXPECT(gbc.pc(), 0xcb60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb5f), 0xad);
        // AD 024E
        gbc.setState(0xac21, 0x2075, 0xebb0, 0xa046, 0xfc22, 0x9d39, 0x0, 0x1);
        gbc.writeMem(0xac21, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2075);
        EXPECT(gbc.pc(), 0xac22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac21), 0xad);
        // AD 024F
        gbc.setState(0xee52, 0x96e7, 0xc80, 0xf15b, 0x7451, 0xb903, 0x1, 0x1);
        gbc.writeMem(0xee52, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x96e7);
        EXPECT(gbc.pc(), 0xee53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee52), 0xad);
        // AD 0250
        gbc.setState(0x7194, 0xa6a9, 0xde60, 0x60b2, 0xf9d3, 0xb57d, 0x0, 0x1);
        gbc.writeMem(0x7194, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa6a9);
        EXPECT(gbc.pc(), 0x7195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0251
        gbc.setState(0x807c, 0x97a4, 0xc4d0, 0x7159, 0xda2d, 0xa92a, 0x1, 0x1);
        gbc.writeMem(0x807c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x97a4);
        EXPECT(gbc.pc(), 0x807d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x807c), 0xad);
        // AD 0252
        gbc.setState(0xe571, 0x2f4a, 0x1740, 0x7e5b, 0x3887, 0x173d, 0x1, 0x0);
        gbc.writeMem(0xe571, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2f4a);
        EXPECT(gbc.pc(), 0xe572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe571), 0xad);
        // AD 0253
        gbc.setState(0x6184, 0xa65c, 0x840, 0xf2d, 0xa0a2, 0x4841, 0x0, 0x1);
        gbc.writeMem(0x6184, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa65c);
        EXPECT(gbc.pc(), 0x6185);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0254
        gbc.setState(0x3c4f, 0x275d, 0x16a0, 0x93d5, 0x304b, 0x7d0b, 0x1, 0x0);
        gbc.writeMem(0x3c4f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x275d);
        EXPECT(gbc.pc(), 0x3c50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0255
        gbc.setState(0xcd44, 0xc0b9, 0x3fd0, 0x2fbf, 0xf3a9, 0x92c6, 0x0, 0x0);
        gbc.writeMem(0xcd44, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc0b9);
        EXPECT(gbc.pc(), 0xcd45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd44), 0xad);
        // AD 0256
        gbc.setState(0xc851, 0xd4b6, 0x56e0, 0xae77, 0xa2ef, 0xa716, 0x1, 0x1);
        gbc.writeMem(0xc851, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd4b6);
        EXPECT(gbc.pc(), 0xc852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc851), 0xad);
        // AD 0258
        gbc.setState(0xb04e, 0x77df, 0x8f70, 0x792c, 0xcd0f, 0x6543, 0x0, 0x0);
        gbc.writeMem(0xb04e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x77df);
        EXPECT(gbc.pc(), 0xb04f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb04e), 0xad);
        // AD 0259
        gbc.setState(0x707b, 0x4d62, 0x9cf0, 0x1b74, 0x2bd, 0xb6be, 0x0, 0x1);
        gbc.writeMem(0x707b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4d62);
        EXPECT(gbc.pc(), 0x707c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 025A
        gbc.setState(0x4e3e, 0xbc2f, 0xe9b0, 0x1b67, 0x93f8, 0x4a63, 0x1, 0x0);
        gbc.writeMem(0x4e3e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xbc2f);
        EXPECT(gbc.pc(), 0x4e3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 025B
        gbc.setState(0x8dfb, 0xfb58, 0xb5c0, 0x5014, 0x245e, 0x4f4b, 0x0, 0x0);
        gbc.writeMem(0x8dfb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xfb58);
        EXPECT(gbc.pc(), 0x8dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dfb), 0xad);
        // AD 025C
        gbc.setState(0xc19a, 0xa2e5, 0x82e0, 0xc43b, 0xddce, 0xc5c6, 0x1, 0x1);
        gbc.writeMem(0xc19a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa2e5);
        EXPECT(gbc.pc(), 0xc19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc19a), 0xad);
        // AD 025D
        gbc.setState(0x8de5, 0xda86, 0x8a50, 0xc340, 0xe5bb, 0x8fff, 0x0, 0x0);
        gbc.writeMem(0x8de5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xda86);
        EXPECT(gbc.pc(), 0x8de6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de5), 0xad);
        // AD 025F
        gbc.setState(0xeb79, 0xb06c, 0xed30, 0xeab6, 0x292a, 0x5be1, 0x0, 0x1);
        gbc.writeMem(0xeb79, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb06c);
        EXPECT(gbc.pc(), 0xeb7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb79), 0xad);
        // AD 0260
        gbc.setState(0x23d9, 0x7afa, 0x7cc0, 0x3db1, 0x72a7, 0x32e8, 0x1, 0x1);
        gbc.writeMem(0x23d9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7afa);
        EXPECT(gbc.pc(), 0x23da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0261
        gbc.setState(0x3905, 0xad60, 0xd6d0, 0xeeac, 0x4e37, 0x3d53, 0x0, 0x1);
        gbc.writeMem(0x3905, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xad60);
        EXPECT(gbc.pc(), 0x3906);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0262
        gbc.setState(0x7679, 0xf0bd, 0xc5c0, 0xe7f5, 0x9a3, 0x3bd2, 0x0, 0x1);
        gbc.writeMem(0x7679, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf0bd);
        EXPECT(gbc.pc(), 0x767a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0263
        gbc.setState(0xbf12, 0x4213, 0x9f10, 0x9809, 0x4dc1, 0xd60d, 0x1, 0x0);
        gbc.writeMem(0xbf12, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4213);
        EXPECT(gbc.pc(), 0xbf13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf12), 0xad);
        // AD 0264
        gbc.setState(0x5c63, 0x136c, 0x70e0, 0x3e80, 0x89df, 0xf8df, 0x1, 0x1);
        gbc.writeMem(0x5c63, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x136c);
        EXPECT(gbc.pc(), 0x5c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0265
        gbc.setState(0x9c9c, 0x1504, 0xe8b0, 0xfccb, 0xae23, 0x666, 0x1, 0x0);
        gbc.writeMem(0x9c9c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1504);
        EXPECT(gbc.pc(), 0x9c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c9c), 0xad);
        // AD 0266
        gbc.setState(0x4159, 0x63ad, 0x1230, 0xca94, 0xf38a, 0x625, 0x0, 0x1);
        gbc.writeMem(0x4159, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x63ad);
        EXPECT(gbc.pc(), 0x415a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0267
        gbc.setState(0x54a4, 0x8ee2, 0x1110, 0xd9ce, 0x226f, 0x1de7, 0x0, 0x1);
        gbc.writeMem(0x54a4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x8ee2);
        EXPECT(gbc.pc(), 0x54a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0268
        gbc.setState(0xe137, 0x5897, 0x81f0, 0x1e63, 0x38d8, 0xb273, 0x1, 0x1);
        gbc.writeMem(0xe137, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5897);
        EXPECT(gbc.pc(), 0xe138);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe137), 0xad);
        // AD 0269
        gbc.setState(0x626f, 0x9f29, 0xbe20, 0x525f, 0x27f7, 0x263a, 0x1, 0x1);
        gbc.writeMem(0x626f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9f29);
        EXPECT(gbc.pc(), 0x6270);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 026A
        gbc.setState(0x1287, 0x6283, 0x1ae0, 0x899e, 0x9710, 0x34e7, 0x0, 0x1);
        gbc.writeMem(0x1287, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6283);
        EXPECT(gbc.pc(), 0x1288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 026C
        gbc.setState(0x2870, 0x756e, 0x5530, 0x4839, 0x9fd, 0x5721, 0x1, 0x0);
        gbc.writeMem(0x2870, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x756e);
        EXPECT(gbc.pc(), 0x2871);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 026D
        gbc.setState(0x6759, 0xfeb3, 0x74c0, 0x3f4, 0x6c88, 0x816f, 0x0, 0x0);
        gbc.writeMem(0x6759, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfeb3);
        EXPECT(gbc.pc(), 0x675a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 026E
        gbc.setState(0x1337, 0x217a, 0xd320, 0x1fa0, 0x8c87, 0x2724, 0x1, 0x1);
        gbc.writeMem(0x1337, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x217a);
        EXPECT(gbc.pc(), 0x1338);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 026F
        gbc.setState(0x46ef, 0xa84e, 0x4b80, 0x404a, 0x47d5, 0x154, 0x1, 0x1);
        gbc.writeMem(0x46ef, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa84e);
        EXPECT(gbc.pc(), 0x46f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0270
        gbc.setState(0xab, 0x9881, 0x6340, 0x2e1a, 0x5418, 0x751b, 0x1, 0x1);
        gbc.writeMem(0xab, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9881);
        EXPECT(gbc.pc(), 0xac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0271
        gbc.setState(0x8cd5, 0x889e, 0x1140, 0xffac, 0xedc5, 0x2e4, 0x1, 0x0);
        gbc.writeMem(0x8cd5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x889e);
        EXPECT(gbc.pc(), 0x8cd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cd5), 0xad);
        // AD 0272
        gbc.setState(0x9665, 0xb8a4, 0x9210, 0x47cd, 0x470c, 0xdcbe, 0x0, 0x0);
        gbc.writeMem(0x9665, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb8a4);
        EXPECT(gbc.pc(), 0x9666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9665), 0xad);
        // AD 0273
        gbc.setState(0x6f52, 0xab78, 0xd840, 0xc933, 0xb2c4, 0x278a, 0x0, 0x0);
        gbc.writeMem(0x6f52, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xab78);
        EXPECT(gbc.pc(), 0x6f53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0274
        gbc.setState(0xaff9, 0x21f1, 0x12b0, 0xdb29, 0x8404, 0xaaa9, 0x1, 0x0);
        gbc.writeMem(0xaff9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x21f1);
        EXPECT(gbc.pc(), 0xaffa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaff9), 0xad);
        // AD 0275
        gbc.setState(0xa158, 0xa415, 0x5110, 0x85d, 0x629c, 0x8fcd, 0x0, 0x1);
        gbc.writeMem(0xa158, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa415);
        EXPECT(gbc.pc(), 0xa159);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa158), 0xad);
        // AD 0276
        gbc.setState(0x15f1, 0xb85d, 0xa7a0, 0x6e11, 0x1c17, 0x7995, 0x1, 0x1);
        gbc.writeMem(0x15f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb85d);
        EXPECT(gbc.pc(), 0x15f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0277
        gbc.setState(0x5f0c, 0x38ab, 0x2540, 0xdb23, 0xc09c, 0x23e5, 0x0, 0x0);
        gbc.writeMem(0x5f0c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x38ab);
        EXPECT(gbc.pc(), 0x5f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0279
        gbc.setState(0x54f3, 0x1404, 0x6760, 0x27e5, 0xe964, 0xf99a, 0x0, 0x1);
        gbc.writeMem(0x54f3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x1404);
        EXPECT(gbc.pc(), 0x54f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 027A
        gbc.setState(0x90ac, 0x7e01, 0xebd0, 0x6ef2, 0xaf18, 0x4682, 0x0, 0x1);
        gbc.writeMem(0x90ac, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7e01);
        EXPECT(gbc.pc(), 0x90ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ac), 0xad);
        // AD 027B
        gbc.setState(0xb3f0, 0xccf7, 0x3a00, 0x617, 0x6ccf, 0xae73, 0x1, 0x0);
        gbc.writeMem(0xb3f0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xccf7);
        EXPECT(gbc.pc(), 0xb3f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3f0), 0xad);
        // AD 027C
        gbc.setState(0xcee1, 0x2949, 0x9ed0, 0xbb15, 0x1fd, 0xee57, 0x1, 0x1);
        gbc.writeMem(0xcee1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2949);
        EXPECT(gbc.pc(), 0xcee2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcee1), 0xad);
        // AD 027D
        gbc.setState(0x9ac0, 0x1df0, 0xa820, 0xdbad, 0x1a9d, 0x7488, 0x1, 0x0);
        gbc.writeMem(0x9ac0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1df0);
        EXPECT(gbc.pc(), 0x9ac1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ac0), 0xad);
        // AD 027E
        gbc.setState(0x2c6a, 0xbcba, 0xb2c0, 0x7bbb, 0xf5a4, 0xfbed, 0x0, 0x1);
        gbc.writeMem(0x2c6a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xbcba);
        EXPECT(gbc.pc(), 0x2c6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 027F
        gbc.setState(0x747b, 0xe128, 0xdbf0, 0xa449, 0x339d, 0x8312, 0x0, 0x0);
        gbc.writeMem(0x747b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe128);
        EXPECT(gbc.pc(), 0x747c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0280
        gbc.setState(0x7f45, 0x5c22, 0x3810, 0x5a43, 0x8cf1, 0xcfd7, 0x0, 0x1);
        gbc.writeMem(0x7f45, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x5c22);
        EXPECT(gbc.pc(), 0x7f46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0281
        gbc.setState(0x7774, 0x6256, 0x45f0, 0x3083, 0x3b71, 0x786, 0x1, 0x0);
        gbc.writeMem(0x7774, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x6256);
        EXPECT(gbc.pc(), 0x7775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0282
        gbc.setState(0xc523, 0x17af, 0xb030, 0xd9cb, 0xee1f, 0x447d, 0x1, 0x1);
        gbc.writeMem(0xc523, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x17af);
        EXPECT(gbc.pc(), 0xc524);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc523), 0xad);
        // AD 0283
        gbc.setState(0x30dd, 0x1e78, 0x5b90, 0xdb30, 0x8826, 0xafda, 0x1, 0x0);
        gbc.writeMem(0x30dd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1e78);
        EXPECT(gbc.pc(), 0x30de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0284
        gbc.setState(0xb62c, 0xa98b, 0xb560, 0xe913, 0x7c81, 0xe1aa, 0x0, 0x0);
        gbc.writeMem(0xb62c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa98b);
        EXPECT(gbc.pc(), 0xb62d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb62c), 0xad);
        // AD 0285
        gbc.setState(0xa8ef, 0xa860, 0xd7f0, 0xa2a8, 0x1043, 0x422e, 0x0, 0x1);
        gbc.writeMem(0xa8ef, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa860);
        EXPECT(gbc.pc(), 0xa8f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ef), 0xad);
        // AD 0286
        gbc.setState(0xe273, 0x890e, 0xd660, 0xb1d2, 0x4876, 0xa065, 0x0, 0x1);
        gbc.writeMem(0xe273, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x890e);
        EXPECT(gbc.pc(), 0xe274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe273), 0xad);
        // AD 0287
        gbc.setState(0xd210, 0x344f, 0x4250, 0x44f2, 0xc162, 0x1ad4, 0x1, 0x1);
        gbc.writeMem(0xd210, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x344f);
        EXPECT(gbc.pc(), 0xd211);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd210), 0xad);
        // AD 0288
        gbc.setState(0x5129, 0x29b4, 0x7d60, 0x9ee7, 0xec40, 0x3933, 0x1, 0x0);
        gbc.writeMem(0x5129, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x29b4);
        EXPECT(gbc.pc(), 0x512a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0289
        gbc.setState(0x351d, 0x5b8f, 0x2b00, 0x424a, 0xf9f3, 0x827e, 0x1, 0x0);
        gbc.writeMem(0x351d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5b8f);
        EXPECT(gbc.pc(), 0x351e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 028A
        gbc.setState(0x3ff2, 0xb8a9, 0xbec0, 0xeb97, 0xcfbc, 0x8f, 0x0, 0x1);
        gbc.writeMem(0x3ff2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb8a9);
        EXPECT(gbc.pc(), 0x3ff3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 028B
        gbc.setState(0x3c1f, 0xa6fa, 0xa0f0, 0xdd15, 0xc92e, 0x8747, 0x0, 0x0);
        gbc.writeMem(0x3c1f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa6fa);
        EXPECT(gbc.pc(), 0x3c20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 028C
        gbc.setState(0x8d65, 0x36a4, 0xe240, 0x2aa5, 0x97fd, 0xa4be, 0x1, 0x0);
        gbc.writeMem(0x8d65, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x36a4);
        EXPECT(gbc.pc(), 0x8d66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d65), 0xad);
        // AD 028D
        gbc.setState(0xdf92, 0x6520, 0xae20, 0xf17, 0xac59, 0x949b, 0x0, 0x1);
        gbc.writeMem(0xdf92, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6520);
        EXPECT(gbc.pc(), 0xdf93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf92), 0xad);
        // AD 028E
        gbc.setState(0xc64b, 0xce16, 0x3740, 0xe04a, 0xd9c7, 0xcc, 0x1, 0x1);
        gbc.writeMem(0xc64b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xce16);
        EXPECT(gbc.pc(), 0xc64c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc64b), 0xad);
        // AD 028F
        gbc.setState(0x196f, 0xcefa, 0xebd0, 0xa7ac, 0xf35, 0x9b95, 0x0, 0x1);
        gbc.writeMem(0x196f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xcefa);
        EXPECT(gbc.pc(), 0x1970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0290
        gbc.setState(0x12e0, 0xbb6f, 0x8fd0, 0xeebd, 0x6144, 0xe5fd, 0x1, 0x0);
        gbc.writeMem(0x12e0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xbb6f);
        EXPECT(gbc.pc(), 0x12e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0292
        gbc.setState(0x6e69, 0xd40b, 0x7ae0, 0xe14b, 0xdfe0, 0x1c1, 0x1, 0x0);
        gbc.writeMem(0x6e69, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd40b);
        EXPECT(gbc.pc(), 0x6e6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0293
        gbc.setState(0xec27, 0x686, 0xdf60, 0x3dbf, 0x3657, 0xed9, 0x0, 0x1);
        gbc.writeMem(0xec27, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x686);
        EXPECT(gbc.pc(), 0xec28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec27), 0xad);
        // AD 0294
        gbc.setState(0xc4dc, 0xbeea, 0xb140, 0xda7f, 0x291b, 0x5462, 0x0, 0x1);
        gbc.writeMem(0xc4dc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xbeea);
        EXPECT(gbc.pc(), 0xc4dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4dc), 0xad);
        // AD 0295
        gbc.setState(0xf1c, 0xdb77, 0x4a60, 0xb254, 0xfb49, 0x552, 0x0, 0x0);
        gbc.writeMem(0xf1c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xdb77);
        EXPECT(gbc.pc(), 0xf1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0296
        gbc.setState(0x7e60, 0x8ee9, 0x1c60, 0x8848, 0xf8d6, 0x6e20, 0x1, 0x1);
        gbc.writeMem(0x7e60, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8ee9);
        EXPECT(gbc.pc(), 0x7e61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0297
        gbc.setState(0xc463, 0x780, 0xe690, 0x7a0c, 0xd59d, 0x198e, 0x0, 0x0);
        gbc.writeMem(0xc463, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x780);
        EXPECT(gbc.pc(), 0xc464);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc463), 0xad);
        // AD 0298
        gbc.setState(0x61ae, 0xd5bc, 0xd4a0, 0xc0d5, 0xbb00, 0x2810, 0x1, 0x1);
        gbc.writeMem(0x61ae, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd5bc);
        EXPECT(gbc.pc(), 0x61af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0299
        gbc.setState(0x61a0, 0x58d2, 0x40a0, 0x6b4d, 0x9ea9, 0x9f4d, 0x0, 0x1);
        gbc.writeMem(0x61a0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x58d2);
        EXPECT(gbc.pc(), 0x61a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 029A
        gbc.setState(0xbab7, 0xea3e, 0xc6f0, 0xc11f, 0xd269, 0x483f, 0x0, 0x0);
        gbc.writeMem(0xbab7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xea3e);
        EXPECT(gbc.pc(), 0xbab8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbab7), 0xad);
        // AD 029B
        gbc.setState(0x4825, 0x5711, 0x6910, 0xe27f, 0x5765, 0x84a6, 0x1, 0x1);
        gbc.writeMem(0x4825, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5711);
        EXPECT(gbc.pc(), 0x4826);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 029C
        gbc.setState(0x9259, 0xfe7e, 0x7b10, 0x4bf8, 0x35e3, 0x3c26, 0x1, 0x0);
        gbc.writeMem(0x9259, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xfe7e);
        EXPECT(gbc.pc(), 0x925a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9259), 0xad);
        // AD 029D
        gbc.setState(0x6000, 0x1adf, 0xe10, 0x9e53, 0x1b1a, 0xd825, 0x1, 0x0);
        gbc.writeMem(0x6000, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1adf);
        EXPECT(gbc.pc(), 0x6001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 029E
        gbc.setState(0xeb5f, 0x47d1, 0x380, 0xeed6, 0xda1d, 0x462f, 0x1, 0x0);
        gbc.writeMem(0xeb5f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x47d1);
        EXPECT(gbc.pc(), 0xeb60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb5f), 0xad);
        // AD 029F
        gbc.setState(0x5e66, 0xaed6, 0x31b0, 0x19d1, 0x35f9, 0x135d, 0x1, 0x0);
        gbc.writeMem(0x5e66, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xaed6);
        EXPECT(gbc.pc(), 0x5e67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A0
        gbc.setState(0xe8cd, 0xd99b, 0xd490, 0xff4e, 0x95c6, 0xe307, 0x1, 0x1);
        gbc.writeMem(0xe8cd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xd99b);
        EXPECT(gbc.pc(), 0xe8ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8cd), 0xad);
        // AD 02A1
        gbc.setState(0x5999, 0xea48, 0xac20, 0x721c, 0x6baf, 0x587a, 0x0, 0x0);
        gbc.writeMem(0x5999, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xea48);
        EXPECT(gbc.pc(), 0x599a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A2
        gbc.setState(0xd33c, 0xd5b4, 0xe0d0, 0x15b9, 0x4d50, 0x98c8, 0x0, 0x1);
        gbc.writeMem(0xd33c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd5b4);
        EXPECT(gbc.pc(), 0xd33d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd33c), 0xad);
        // AD 02A3
        gbc.setState(0x3a34, 0x6109, 0x5e70, 0x8c11, 0x9c17, 0x3f8c, 0x1, 0x1);
        gbc.writeMem(0x3a34, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6109);
        EXPECT(gbc.pc(), 0x3a35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A4
        gbc.setState(0xf6b, 0x57ab, 0xeb20, 0x72c3, 0xf33, 0x2404, 0x1, 0x0);
        gbc.writeMem(0xf6b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x57ab);
        EXPECT(gbc.pc(), 0xf6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A5
        gbc.setState(0x60af, 0x490e, 0x37d0, 0xa01e, 0xa9c8, 0x2c6a, 0x1, 0x0);
        gbc.writeMem(0x60af, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x490e);
        EXPECT(gbc.pc(), 0x60b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A6
        gbc.setState(0x6c9c, 0x4fba, 0x32a0, 0xa6e5, 0x5bcf, 0x12a2, 0x0, 0x0);
        gbc.writeMem(0x6c9c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4fba);
        EXPECT(gbc.pc(), 0x6c9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A7
        gbc.setState(0x4ef, 0xf208, 0x34d0, 0xdcd6, 0x25f0, 0x1a89, 0x0, 0x0);
        gbc.writeMem(0x4ef, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf208);
        EXPECT(gbc.pc(), 0x4f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02A8
        gbc.setState(0x9c31, 0x50d4, 0xbfa0, 0x691b, 0x75ae, 0x726b, 0x1, 0x1);
        gbc.writeMem(0x9c31, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x50d4);
        EXPECT(gbc.pc(), 0x9c32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c31), 0xad);
        // AD 02A9
        gbc.setState(0x1269, 0x12cd, 0x7f50, 0xbebb, 0xbae3, 0xf7a0, 0x1, 0x1);
        gbc.writeMem(0x1269, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x12cd);
        EXPECT(gbc.pc(), 0x126a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02AA
        gbc.setState(0xdd2d, 0x135f, 0x2750, 0x10d2, 0xd11b, 0x921c, 0x0, 0x0);
        gbc.writeMem(0xdd2d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x135f);
        EXPECT(gbc.pc(), 0xdd2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd2d), 0xad);
        // AD 02AB
        gbc.setState(0x78d6, 0x5ccb, 0x3700, 0x3937, 0xa420, 0x8d7e, 0x0, 0x0);
        gbc.writeMem(0x78d6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5ccb);
        EXPECT(gbc.pc(), 0x78d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02AC
        gbc.setState(0x1099, 0x2235, 0x5dd0, 0xe2e6, 0x6032, 0x91ef, 0x1, 0x1);
        gbc.writeMem(0x1099, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2235);
        EXPECT(gbc.pc(), 0x109a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02AD
        gbc.setState(0xa93f, 0x1a08, 0x64b0, 0x23c2, 0x9c86, 0x9408, 0x1, 0x1);
        gbc.writeMem(0xa93f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1a08);
        EXPECT(gbc.pc(), 0xa940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa93f), 0xad);
        // AD 02AE
        gbc.setState(0x8e84, 0xe62c, 0xa380, 0xb2a4, 0x1e4f, 0xa4af, 0x0, 0x1);
        gbc.writeMem(0x8e84, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe62c);
        EXPECT(gbc.pc(), 0x8e85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e84), 0xad);
        // AD 02AF
        gbc.setState(0xbb47, 0x921f, 0x4980, 0xaf61, 0x4015, 0x9e25, 0x0, 0x1);
        gbc.writeMem(0xbb47, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x921f);
        EXPECT(gbc.pc(), 0xbb48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb47), 0xad);
        // AD 02B0
        gbc.setState(0x76dd, 0xb556, 0xaa80, 0x9e94, 0x388, 0xa4ed, 0x0, 0x0);
        gbc.writeMem(0x76dd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb556);
        EXPECT(gbc.pc(), 0x76de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02B1
        gbc.setState(0xb3e0, 0x1388, 0xff50, 0xbc68, 0xbc36, 0x2d41, 0x1, 0x1);
        gbc.writeMem(0xb3e0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1388);
        EXPECT(gbc.pc(), 0xb3e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3e0), 0xad);
        // AD 02B2
        gbc.setState(0xea5d, 0xc739, 0x31a0, 0xbdd1, 0x45f2, 0x7a59, 0x1, 0x1);
        gbc.writeMem(0xea5d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc739);
        EXPECT(gbc.pc(), 0xea5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea5d), 0xad);
        // AD 02B3
        gbc.setState(0xad9e, 0xfbb2, 0x8c80, 0x8fc8, 0xe3a9, 0x99b, 0x1, 0x1);
        gbc.writeMem(0xad9e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xfbb2);
        EXPECT(gbc.pc(), 0xad9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad9e), 0xad);
        // AD 02B4
        gbc.setState(0x2652, 0x3c49, 0xff20, 0x96ab, 0x7342, 0x8af2, 0x0, 0x0);
        gbc.writeMem(0x2652, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3c49);
        EXPECT(gbc.pc(), 0x2653);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02B5
        gbc.setState(0x4603, 0x5c72, 0x5e10, 0x3013, 0x371f, 0x37e8, 0x0, 0x1);
        gbc.writeMem(0x4603, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x5c72);
        EXPECT(gbc.pc(), 0x4604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02B6
        gbc.setState(0x6ada, 0xfc21, 0x9dc0, 0x52bb, 0x6148, 0x9995, 0x0, 0x0);
        gbc.writeMem(0x6ada, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xfc21);
        EXPECT(gbc.pc(), 0x6adb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02B7
        gbc.setState(0x8ead, 0x4954, 0x4c80, 0x7e05, 0xca74, 0xd48f, 0x1, 0x1);
        gbc.writeMem(0x8ead, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4954);
        EXPECT(gbc.pc(), 0x8eae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ead), 0xad);
        // AD 02B8
        gbc.setState(0x15ab, 0x3802, 0x22b0, 0xa59, 0x886, 0x8641, 0x0, 0x0);
        gbc.writeMem(0x15ab, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3802);
        EXPECT(gbc.pc(), 0x15ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02B9
        gbc.setState(0xd0ed, 0x9320, 0x4ff0, 0xd7b4, 0x1e8b, 0x6a08, 0x1, 0x0);
        gbc.writeMem(0xd0ed, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x9320);
        EXPECT(gbc.pc(), 0xd0ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ed), 0xad);
        // AD 02BA
        gbc.setState(0x9728, 0x7fa0, 0x3dc0, 0xadf0, 0x66ee, 0xdfa8, 0x0, 0x1);
        gbc.writeMem(0x9728, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7fa0);
        EXPECT(gbc.pc(), 0x9729);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9728), 0xad);
        // AD 02BB
        gbc.setState(0x1c0e, 0xd798, 0xb460, 0xf866, 0x33f7, 0x89c4, 0x0, 0x1);
        gbc.writeMem(0x1c0e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd798);
        EXPECT(gbc.pc(), 0x1c0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02BC
        gbc.setState(0xcd5, 0x4940, 0xe160, 0x3c9b, 0x888e, 0x6c28, 0x0, 0x1);
        gbc.writeMem(0xcd5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4940);
        EXPECT(gbc.pc(), 0xcd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02BD
        gbc.setState(0xbebc, 0x433a, 0x83f0, 0x7894, 0x92f8, 0x59fe, 0x0, 0x1);
        gbc.writeMem(0xbebc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x433a);
        EXPECT(gbc.pc(), 0xbebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbebc), 0xad);
        // AD 02BE
        gbc.setState(0x450, 0x6d65, 0xac30, 0x423f, 0x8972, 0xc748, 0x0, 0x1);
        gbc.writeMem(0x450, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6d65);
        EXPECT(gbc.pc(), 0x451);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02BF
        gbc.setState(0x1319, 0xa70d, 0x9bd0, 0x78e2, 0x2d49, 0xbdda, 0x0, 0x0);
        gbc.writeMem(0x1319, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa70d);
        EXPECT(gbc.pc(), 0x131a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C0
        gbc.setState(0xea7d, 0x498, 0xf7a0, 0x69c4, 0xbcc1, 0x4ec9, 0x1, 0x1);
        gbc.writeMem(0xea7d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x498);
        EXPECT(gbc.pc(), 0xea7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea7d), 0xad);
        // AD 02C1
        gbc.setState(0x141c, 0x5e27, 0x60b0, 0x14b5, 0x4367, 0xe70a, 0x1, 0x0);
        gbc.writeMem(0x141c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5e27);
        EXPECT(gbc.pc(), 0x141d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C2
        gbc.setState(0x83fb, 0x1a1b, 0x6180, 0x7599, 0x63a8, 0x49cd, 0x1, 0x1);
        gbc.writeMem(0x83fb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1a1b);
        EXPECT(gbc.pc(), 0x83fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83fb), 0xad);
        // AD 02C3
        gbc.setState(0xda2, 0x713c, 0x2ae0, 0x3f92, 0xe3c6, 0x11a5, 0x0, 0x0);
        gbc.writeMem(0xda2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x713c);
        EXPECT(gbc.pc(), 0xda3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C4
        gbc.setState(0x5f18, 0x2547, 0x6f30, 0x66f6, 0x58d4, 0x143e, 0x0, 0x1);
        gbc.writeMem(0x5f18, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2547);
        EXPECT(gbc.pc(), 0x5f19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C5
        gbc.setState(0x3309, 0x1077, 0x7ce0, 0x8f1, 0x8bbc, 0x807c, 0x1, 0x1);
        gbc.writeMem(0x3309, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x1077);
        EXPECT(gbc.pc(), 0x330a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C6
        gbc.setState(0x9848, 0x920e, 0x6210, 0x4b79, 0x49d5, 0x6d41, 0x1, 0x0);
        gbc.writeMem(0x9848, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x920e);
        EXPECT(gbc.pc(), 0x9849);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9848), 0xad);
        // AD 02C7
        gbc.setState(0x3a96, 0xfa63, 0xe770, 0x3ffc, 0xccd, 0xebeb, 0x1, 0x1);
        gbc.writeMem(0x3a96, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xfa63);
        EXPECT(gbc.pc(), 0x3a97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C8
        gbc.setState(0x2c5c, 0xbdc8, 0x1e30, 0x8bdc, 0xed16, 0x42cb, 0x1, 0x1);
        gbc.writeMem(0x2c5c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xbdc8);
        EXPECT(gbc.pc(), 0x2c5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02C9
        gbc.setState(0x676e, 0xd77f, 0x3fb0, 0xe, 0x5dcc, 0x85f0, 0x0, 0x0);
        gbc.writeMem(0x676e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd77f);
        EXPECT(gbc.pc(), 0x676f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02CA
        gbc.setState(0xb9f1, 0xac77, 0x8990, 0x9ee3, 0x2f81, 0x6231, 0x1, 0x1);
        gbc.writeMem(0xb9f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xac77);
        EXPECT(gbc.pc(), 0xb9f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9f1), 0xad);
        // AD 02CB
        gbc.setState(0x83ba, 0x804c, 0xa380, 0xdbd1, 0xded, 0xce4b, 0x1, 0x1);
        gbc.writeMem(0x83ba, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x804c);
        EXPECT(gbc.pc(), 0x83bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ba), 0xad);
        // AD 02CC
        gbc.setState(0x2e49, 0xcdc2, 0xcdc0, 0xff26, 0xc229, 0xd9d, 0x1, 0x1);
        gbc.writeMem(0x2e49, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xcdc2);
        EXPECT(gbc.pc(), 0x2e4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02CD
        gbc.setState(0x583d, 0x25db, 0xa240, 0x2e54, 0xe1d0, 0x680b, 0x0, 0x0);
        gbc.writeMem(0x583d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x25db);
        EXPECT(gbc.pc(), 0x583e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02CE
        gbc.setState(0x8da8, 0x72a2, 0x8670, 0x954, 0x3c9f, 0x272a, 0x1, 0x0);
        gbc.writeMem(0x8da8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x72a2);
        EXPECT(gbc.pc(), 0x8da9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8da8), 0xad);
        // AD 02CF
        gbc.setState(0x85f5, 0x6f09, 0xa990, 0xeff6, 0x5f03, 0x1e40, 0x0, 0x0);
        gbc.writeMem(0x85f5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6f09);
        EXPECT(gbc.pc(), 0x85f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85f5), 0xad);
        // AD 02D0
        gbc.setState(0xb036, 0xeb26, 0xfa70, 0xf718, 0xae4d, 0xc076, 0x0, 0x1);
        gbc.writeMem(0xb036, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xeb26);
        EXPECT(gbc.pc(), 0xb037);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb036), 0xad);
        // AD 02D1
        gbc.setState(0xee01, 0xe2a4, 0x5dd0, 0xea85, 0x5a59, 0x67cd, 0x1, 0x1);
        gbc.writeMem(0xee01, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe2a4);
        EXPECT(gbc.pc(), 0xee02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee01), 0xad);
        // AD 02D2
        gbc.setState(0x237c, 0x527, 0xe680, 0x9c99, 0x7d87, 0x6604, 0x1, 0x0);
        gbc.writeMem(0x237c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x527);
        EXPECT(gbc.pc(), 0x237d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02D3
        gbc.setState(0x7882, 0x6a35, 0xd770, 0xec15, 0xc892, 0x26f, 0x1, 0x0);
        gbc.writeMem(0x7882, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6a35);
        EXPECT(gbc.pc(), 0x7883);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02D4
        gbc.setState(0x3f43, 0xc49f, 0xcde0, 0x4747, 0xad89, 0xaf65, 0x0, 0x1);
        gbc.writeMem(0x3f43, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc49f);
        EXPECT(gbc.pc(), 0x3f44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02D5
        gbc.setState(0x9c7d, 0x8ce9, 0x7ab0, 0x3376, 0xc36d, 0x1172, 0x0, 0x0);
        gbc.writeMem(0x9c7d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8ce9);
        EXPECT(gbc.pc(), 0x9c7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c7d), 0xad);
        // AD 02D6
        gbc.setState(0xb513, 0x391b, 0x79c0, 0x7d6b, 0x89ea, 0xc85e, 0x0, 0x1);
        gbc.writeMem(0xb513, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x391b);
        EXPECT(gbc.pc(), 0xb514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb513), 0xad);
        // AD 02D7
        gbc.setState(0xcb3e, 0xf4aa, 0x17a0, 0x7ba5, 0x3529, 0x8ffb, 0x1, 0x0);
        gbc.writeMem(0xcb3e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xf4aa);
        EXPECT(gbc.pc(), 0xcb3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb3e), 0xad);
        // AD 02D8
        gbc.setState(0x7035, 0xd2ab, 0xf80, 0x4974, 0x600a, 0x5c7a, 0x0, 0x1);
        gbc.writeMem(0x7035, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xd2ab);
        EXPECT(gbc.pc(), 0x7036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02D9
        gbc.setState(0x8eb5, 0xe379, 0xb760, 0xf822, 0xbbe1, 0x4a33, 0x1, 0x1);
        gbc.writeMem(0x8eb5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe379);
        EXPECT(gbc.pc(), 0x8eb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eb5), 0xad);
        // AD 02DA
        gbc.setState(0x3d30, 0xc9b4, 0x3df0, 0x34b3, 0x6e05, 0xe5d8, 0x1, 0x0);
        gbc.writeMem(0x3d30, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc9b4);
        EXPECT(gbc.pc(), 0x3d31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02DB
        gbc.setState(0x8f6a, 0xd38f, 0x7210, 0x9654, 0xa6ce, 0xc6db, 0x1, 0x1);
        gbc.writeMem(0x8f6a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd38f);
        EXPECT(gbc.pc(), 0x8f6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f6a), 0xad);
        // AD 02DC
        gbc.setState(0xd843, 0x7a49, 0xd3a0, 0x2eef, 0xa18c, 0xb2c4, 0x0, 0x1);
        gbc.writeMem(0xd843, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7a49);
        EXPECT(gbc.pc(), 0xd844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd843), 0xad);
        // AD 02DE
        gbc.setState(0xea43, 0x31b9, 0x25a0, 0xdc59, 0x4764, 0xf382, 0x0, 0x0);
        gbc.writeMem(0xea43, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x31b9);
        EXPECT(gbc.pc(), 0xea44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea43), 0xad);
        // AD 02DF
        gbc.setState(0x3eff, 0x6873, 0x8900, 0x42ac, 0xbf40, 0x2418, 0x0, 0x0);
        gbc.writeMem(0x3eff, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6873);
        EXPECT(gbc.pc(), 0x3f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02E1
        gbc.setState(0x4a6b, 0xbb2, 0x4b10, 0xb603, 0x4761, 0xc429, 0x1, 0x0);
        gbc.writeMem(0x4a6b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xbb2);
        EXPECT(gbc.pc(), 0x4a6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02E2
        gbc.setState(0x8fd6, 0x372d, 0x1f00, 0xe9de, 0xe15a, 0xe09b, 0x1, 0x0);
        gbc.writeMem(0x8fd6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x372d);
        EXPECT(gbc.pc(), 0x8fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd6), 0xad);
        // AD 02E3
        gbc.setState(0xbf38, 0xe55, 0x9f70, 0xbc47, 0x772, 0xa4f, 0x1, 0x1);
        gbc.writeMem(0xbf38, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe55);
        EXPECT(gbc.pc(), 0xbf39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf38), 0xad);
        // AD 02E4
        gbc.setState(0x6ee0, 0xbc79, 0xf6c0, 0x4d3f, 0x339a, 0xf31b, 0x1, 0x0);
        gbc.writeMem(0x6ee0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbc79);
        EXPECT(gbc.pc(), 0x6ee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02E5
        gbc.setState(0x85b7, 0x1875, 0xe340, 0x1c4e, 0xdb97, 0x501b, 0x1, 0x0);
        gbc.writeMem(0x85b7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1875);
        EXPECT(gbc.pc(), 0x85b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85b7), 0xad);
        // AD 02E6
        gbc.setState(0x2506, 0x49ff, 0xfe10, 0xefc6, 0x987e, 0xbac6, 0x1, 0x0);
        gbc.writeMem(0x2506, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x49ff);
        EXPECT(gbc.pc(), 0x2507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02E7
        gbc.setState(0x56a6, 0xe37b, 0xced0, 0xc8b, 0x61cc, 0xf129, 0x0, 0x1);
        gbc.writeMem(0x56a6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe37b);
        EXPECT(gbc.pc(), 0x56a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02E8
        gbc.setState(0xa309, 0x9e2c, 0x9820, 0xf0d0, 0xf4ae, 0x745f, 0x1, 0x1);
        gbc.writeMem(0xa309, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9e2c);
        EXPECT(gbc.pc(), 0xa30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa309), 0xad);
        // AD 02E9
        gbc.setState(0x9bba, 0xfb32, 0x5b50, 0x7310, 0x5892, 0xb0a9, 0x1, 0x0);
        gbc.writeMem(0x9bba, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xfb32);
        EXPECT(gbc.pc(), 0x9bbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bba), 0xad);
        // AD 02EA
        gbc.setState(0x4ae0, 0x4416, 0xd00, 0xba58, 0xff71, 0xb4eb, 0x0, 0x1);
        gbc.writeMem(0x4ae0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4416);
        EXPECT(gbc.pc(), 0x4ae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02EB
        gbc.setState(0xa725, 0x7276, 0x5820, 0xa392, 0x7709, 0xa401, 0x0, 0x1);
        gbc.writeMem(0xa725, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7276);
        EXPECT(gbc.pc(), 0xa726);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa725), 0xad);
        // AD 02ED
        gbc.setState(0x192d, 0xa3c6, 0xe5b0, 0x7cb1, 0xd3b5, 0xccb7, 0x0, 0x0);
        gbc.writeMem(0x192d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa3c6);
        EXPECT(gbc.pc(), 0x192e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02EE
        gbc.setState(0x175, 0xc4d9, 0x5af0, 0xbd49, 0xf0f1, 0xb50, 0x0, 0x0);
        gbc.writeMem(0x175, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc4d9);
        EXPECT(gbc.pc(), 0x176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F0
        gbc.setState(0x6b5, 0xb23d, 0x3ed0, 0x1280, 0x31b7, 0x8394, 0x1, 0x0);
        gbc.writeMem(0x6b5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xb23d);
        EXPECT(gbc.pc(), 0x6b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F1
        gbc.setState(0xcbc2, 0xdaef, 0xe870, 0xc5cf, 0xebdf, 0x321c, 0x0, 0x1);
        gbc.writeMem(0xcbc2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xdaef);
        EXPECT(gbc.pc(), 0xcbc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc2), 0xad);
        // AD 02F2
        gbc.setState(0x9d73, 0xeb4f, 0xa1b0, 0xd696, 0x4ebc, 0xb75d, 0x0, 0x0);
        gbc.writeMem(0x9d73, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xeb4f);
        EXPECT(gbc.pc(), 0x9d74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d73), 0xad);
        // AD 02F3
        gbc.setState(0x450c, 0x8bbc, 0x3160, 0x4acb, 0x8e97, 0xe2a9, 0x1, 0x1);
        gbc.writeMem(0x450c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8bbc);
        EXPECT(gbc.pc(), 0x450d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F4
        gbc.setState(0x6b77, 0x6eef, 0x8880, 0x76c7, 0x8e1d, 0x4c06, 0x0, 0x1);
        gbc.writeMem(0x6b77, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6eef);
        EXPECT(gbc.pc(), 0x6b78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F5
        gbc.setState(0xb6e, 0xf2ba, 0x1400, 0x997, 0xc741, 0x55d6, 0x1, 0x0);
        gbc.writeMem(0xb6e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf2ba);
        EXPECT(gbc.pc(), 0xb6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F6
        gbc.setState(0x501d, 0xd68, 0xc180, 0x3b8d, 0x51f6, 0xc105, 0x1, 0x1);
        gbc.writeMem(0x501d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd68);
        EXPECT(gbc.pc(), 0x501e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F7
        gbc.setState(0x7e80, 0xede2, 0x4b60, 0xef59, 0xd7fc, 0x8e91, 0x0, 0x0);
        gbc.writeMem(0x7e80, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xede2);
        EXPECT(gbc.pc(), 0x7e81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F8
        gbc.setState(0x518f, 0x37e4, 0x9b90, 0x3ed1, 0xff7e, 0x4b45, 0x1, 0x0);
        gbc.writeMem(0x518f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x37e4);
        EXPECT(gbc.pc(), 0x5190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02F9
        gbc.setState(0x313b, 0x7306, 0x2f60, 0xbd56, 0xcd56, 0x6b4a, 0x1, 0x0);
        gbc.writeMem(0x313b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7306);
        EXPECT(gbc.pc(), 0x313c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02FA
        gbc.setState(0xaf4d, 0xd8f4, 0x5ed0, 0x5d28, 0xd6ea, 0x875e, 0x1, 0x1);
        gbc.writeMem(0xaf4d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd8f4);
        EXPECT(gbc.pc(), 0xaf4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf4d), 0xad);
        // AD 02FB
        gbc.setState(0x1ed0, 0xa57, 0x9500, 0xfcbe, 0x4d57, 0x8e2c, 0x0, 0x1);
        gbc.writeMem(0x1ed0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xa57);
        EXPECT(gbc.pc(), 0x1ed1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 02FC
        gbc.setState(0xb89e, 0x7c1d, 0xfd60, 0xb553, 0xbf9a, 0xb20a, 0x1, 0x0);
        gbc.writeMem(0xb89e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x7c1d);
        EXPECT(gbc.pc(), 0xb89f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89e), 0xad);
        // AD 02FD
        gbc.setState(0xc30a, 0xa6d5, 0x1620, 0x798d, 0x10d1, 0x28f5, 0x1, 0x0);
        gbc.writeMem(0xc30a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa6d5);
        EXPECT(gbc.pc(), 0xc30b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc30a), 0xad);
        // AD 02FE
        gbc.setState(0xc54f, 0x68ea, 0xa450, 0xeb71, 0x8514, 0x934a, 0x0, 0x1);
        gbc.writeMem(0xc54f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x68ea);
        EXPECT(gbc.pc(), 0xc550);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc54f), 0xad);
        // AD 02FF
        gbc.setState(0x9ae, 0xfd17, 0x3050, 0x1118, 0xe1f9, 0xe3dc, 0x1, 0x1);
        gbc.writeMem(0x9ae, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfd17);
        EXPECT(gbc.pc(), 0x9af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0300
        gbc.setState(0x2137, 0x9be1, 0x1ed0, 0xd0be, 0xca1d, 0x23e9, 0x1, 0x1);
        gbc.writeMem(0x2137, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9be1);
        EXPECT(gbc.pc(), 0x2138);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0301
        gbc.setState(0x3ff1, 0x6459, 0xab60, 0x218a, 0xf922, 0x7b92, 0x1, 0x1);
        gbc.writeMem(0x3ff1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6459);
        EXPECT(gbc.pc(), 0x3ff2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0302
        gbc.setState(0x6a48, 0x26ce, 0x9410, 0xbbfe, 0x2cfc, 0x1e2, 0x0, 0x1);
        gbc.writeMem(0x6a48, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x26ce);
        EXPECT(gbc.pc(), 0x6a49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0303
        gbc.setState(0xd831, 0x79bb, 0x9bb0, 0xd648, 0x3684, 0x48c6, 0x1, 0x1);
        gbc.writeMem(0xd831, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x79bb);
        EXPECT(gbc.pc(), 0xd832);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd831), 0xad);
        // AD 0304
        gbc.setState(0x8cd3, 0x8e2f, 0x2b0, 0x89bc, 0x79fb, 0xd114, 0x1, 0x1);
        gbc.writeMem(0x8cd3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8e2f);
        EXPECT(gbc.pc(), 0x8cd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cd3), 0xad);
        // AD 0305
        gbc.setState(0x89be, 0x5251, 0x3b30, 0xfbae, 0x2cc6, 0x2847, 0x0, 0x0);
        gbc.writeMem(0x89be, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x5251);
        EXPECT(gbc.pc(), 0x89bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89be), 0xad);
        // AD 0306
        gbc.setState(0xdf76, 0xb4f2, 0x5500, 0xd5a6, 0x31b, 0xe65b, 0x0, 0x0);
        gbc.writeMem(0xdf76, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb4f2);
        EXPECT(gbc.pc(), 0xdf77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf76), 0xad);
        // AD 0307
        gbc.setState(0xd16a, 0x6f2b, 0x3040, 0x43d7, 0xb0c6, 0x3edc, 0x1, 0x0);
        gbc.writeMem(0xd16a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6f2b);
        EXPECT(gbc.pc(), 0xd16b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd16a), 0xad);
        // AD 0308
        gbc.setState(0x89f1, 0x8109, 0xda90, 0x380c, 0x5470, 0x49a2, 0x1, 0x1);
        gbc.writeMem(0x89f1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8109);
        EXPECT(gbc.pc(), 0x89f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89f1), 0xad);
        // AD 0309
        gbc.setState(0x657e, 0xfe3c, 0x3cb0, 0x52d0, 0x9072, 0x3d40, 0x0, 0x0);
        gbc.writeMem(0x657e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xfe3c);
        EXPECT(gbc.pc(), 0x657f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 030A
        gbc.setState(0xe81a, 0xccb3, 0xe640, 0x4fa6, 0x5254, 0xb785, 0x1, 0x1);
        gbc.writeMem(0xe81a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xccb3);
        EXPECT(gbc.pc(), 0xe81b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe81a), 0xad);
        // AD 030B
        gbc.setState(0xc659, 0x43f6, 0xdc30, 0x9da4, 0x7ab, 0xb365, 0x1, 0x0);
        gbc.writeMem(0xc659, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x43f6);
        EXPECT(gbc.pc(), 0xc65a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc659), 0xad);
        // AD 030C
        gbc.setState(0x54b8, 0x46fd, 0x1cb0, 0x38d6, 0xfce5, 0x3b87, 0x0, 0x0);
        gbc.writeMem(0x54b8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x46fd);
        EXPECT(gbc.pc(), 0x54b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 030D
        gbc.setState(0xc820, 0xe84a, 0x6910, 0x468d, 0x5f59, 0x2e5a, 0x1, 0x0);
        gbc.writeMem(0xc820, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe84a);
        EXPECT(gbc.pc(), 0xc821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc820), 0xad);
        // AD 030E
        gbc.setState(0x2ef7, 0xe3ca, 0x2230, 0xd0c, 0xa0c3, 0x8b56, 0x1, 0x0);
        gbc.writeMem(0x2ef7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe3ca);
        EXPECT(gbc.pc(), 0x2ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 030F
        gbc.setState(0xa3d, 0x2790, 0x81d0, 0x5e74, 0xd17a, 0xee7a, 0x1, 0x0);
        gbc.writeMem(0xa3d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x2790);
        EXPECT(gbc.pc(), 0xa3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0310
        gbc.setState(0x5344, 0x74fb, 0x7570, 0x955, 0x6f66, 0x47b6, 0x1, 0x1);
        gbc.writeMem(0x5344, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x74fb);
        EXPECT(gbc.pc(), 0x5345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0311
        gbc.setState(0x1d25, 0xf194, 0x9b70, 0xb072, 0x1b1e, 0xdce4, 0x0, 0x0);
        gbc.writeMem(0x1d25, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf194);
        EXPECT(gbc.pc(), 0x1d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0312
        gbc.setState(0xa9fe, 0x5bb2, 0xf750, 0xbc8b, 0x46af, 0x4ba9, 0x1, 0x0);
        gbc.writeMem(0xa9fe, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x5bb2);
        EXPECT(gbc.pc(), 0xa9ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fe), 0xad);
        // AD 0313
        gbc.setState(0xa3eb, 0xdd6, 0xb330, 0x6988, 0x8a8a, 0x99f8, 0x1, 0x1);
        gbc.writeMem(0xa3eb, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xdd6);
        EXPECT(gbc.pc(), 0xa3ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3eb), 0xad);
        // AD 0314
        gbc.setState(0x5478, 0xbf62, 0xe5e0, 0x7965, 0x68e3, 0x70fd, 0x0, 0x0);
        gbc.writeMem(0x5478, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xbf62);
        EXPECT(gbc.pc(), 0x5479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0315
        gbc.setState(0x7afe, 0x6e4e, 0x5500, 0x326a, 0x3dde, 0x3471, 0x1, 0x1);
        gbc.writeMem(0x7afe, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6e4e);
        EXPECT(gbc.pc(), 0x7aff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0318
        gbc.setState(0x632c, 0x9088, 0x4d00, 0xd9b3, 0x1cc, 0xdbb9, 0x1, 0x1);
        gbc.writeMem(0x632c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9088);
        EXPECT(gbc.pc(), 0x632d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0319
        gbc.setState(0x4ddf, 0xced1, 0x34d0, 0x7bd1, 0x172b, 0x446c, 0x0, 0x1);
        gbc.writeMem(0x4ddf, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xced1);
        EXPECT(gbc.pc(), 0x4de0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 031A
        gbc.setState(0x9f8, 0x576c, 0xf880, 0xf94f, 0xe581, 0xfbca, 0x0, 0x0);
        gbc.writeMem(0x9f8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x576c);
        EXPECT(gbc.pc(), 0x9f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 031B
        gbc.setState(0x8060, 0x6dcb, 0x1d40, 0x739f, 0xe959, 0xf917, 0x0, 0x0);
        gbc.writeMem(0x8060, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x6dcb);
        EXPECT(gbc.pc(), 0x8061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8060), 0xad);
        // AD 031C
        gbc.setState(0x2e9f, 0xcbce, 0xcc30, 0x1a1a, 0xca21, 0xd0cc, 0x1, 0x0);
        gbc.writeMem(0x2e9f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xcbce);
        EXPECT(gbc.pc(), 0x2ea0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 031D
        gbc.setState(0x1c2b, 0xea9d, 0x9a20, 0xf185, 0x49f5, 0x7257, 0x1, 0x1);
        gbc.writeMem(0x1c2b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xea9d);
        EXPECT(gbc.pc(), 0x1c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 031E
        gbc.setState(0xb91b, 0x7528, 0x9ce0, 0x67ee, 0x3d2f, 0x8d8f, 0x0, 0x1);
        gbc.writeMem(0xb91b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7528);
        EXPECT(gbc.pc(), 0xb91c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb91b), 0xad);
        // AD 031F
        gbc.setState(0x5d81, 0x1c2a, 0xd040, 0x3ca6, 0x5f18, 0xfbf8, 0x0, 0x0);
        gbc.writeMem(0x5d81, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1c2a);
        EXPECT(gbc.pc(), 0x5d82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0320
        gbc.setState(0x2c61, 0xc2a2, 0x7cf0, 0x56ff, 0xd74b, 0xb7a6, 0x0, 0x0);
        gbc.writeMem(0x2c61, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xc2a2);
        EXPECT(gbc.pc(), 0x2c62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0321
        gbc.setState(0xa76c, 0x755, 0x20f0, 0x89cc, 0x8d3a, 0x99a6, 0x0, 0x0);
        gbc.writeMem(0xa76c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x755);
        EXPECT(gbc.pc(), 0xa76d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa76c), 0xad);
        // AD 0322
        gbc.setState(0xe02f, 0xe34f, 0x2fc0, 0xa8df, 0xcf75, 0x18e8, 0x1, 0x0);
        gbc.writeMem(0xe02f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe34f);
        EXPECT(gbc.pc(), 0xe030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe02f), 0xad);
        // AD 0323
        gbc.setState(0xe2b5, 0x1606, 0x2960, 0x8648, 0xd6d8, 0xe8c, 0x1, 0x0);
        gbc.writeMem(0xe2b5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1606);
        EXPECT(gbc.pc(), 0xe2b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b5), 0xad);
        // AD 0324
        gbc.setState(0xa925, 0x3a79, 0xb550, 0x1c2c, 0x3fea, 0xfedf, 0x1, 0x0);
        gbc.writeMem(0xa925, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3a79);
        EXPECT(gbc.pc(), 0xa926);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa925), 0xad);
        // AD 0325
        gbc.setState(0xb930, 0x1c06, 0x8520, 0x71fc, 0x8820, 0x1c12, 0x0, 0x0);
        gbc.writeMem(0xb930, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x1c06);
        EXPECT(gbc.pc(), 0xb931);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb930), 0xad);
        // AD 0326
        gbc.setState(0xbeb1, 0x8955, 0x32d0, 0x9242, 0x2fe7, 0xecea, 0x1, 0x1);
        gbc.writeMem(0xbeb1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8955);
        EXPECT(gbc.pc(), 0xbeb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeb1), 0xad);
        // AD 0327
        gbc.setState(0x73d8, 0x77c, 0xe470, 0x496e, 0xf53c, 0x8cae, 0x0, 0x0);
        gbc.writeMem(0x73d8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x77c);
        EXPECT(gbc.pc(), 0x73d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0328
        gbc.setState(0xe439, 0xc550, 0x83c0, 0x1e97, 0x4395, 0x7229, 0x0, 0x1);
        gbc.writeMem(0xe439, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc550);
        EXPECT(gbc.pc(), 0xe43a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe439), 0xad);
        // AD 0329
        gbc.setState(0x3527, 0x3199, 0xaf60, 0x1672, 0x1e85, 0xcd68, 0x1, 0x1);
        gbc.writeMem(0x3527, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3199);
        EXPECT(gbc.pc(), 0x3528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 032A
        gbc.setState(0xc6aa, 0xaccd, 0xcf40, 0x3b6, 0x3a22, 0x3bea, 0x1, 0x0);
        gbc.writeMem(0xc6aa, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xaccd);
        EXPECT(gbc.pc(), 0xc6ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6aa), 0xad);
        // AD 032B
        gbc.setState(0xda7c, 0x5389, 0xca10, 0x9f8a, 0x5123, 0xbe91, 0x1, 0x0);
        gbc.writeMem(0xda7c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x5389);
        EXPECT(gbc.pc(), 0xda7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda7c), 0xad);
        // AD 032C
        gbc.setState(0x6e08, 0xaf57, 0xe6c0, 0x76e8, 0xd73e, 0x9ce5, 0x1, 0x1);
        gbc.writeMem(0x6e08, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xaf57);
        EXPECT(gbc.pc(), 0x6e09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 032D
        gbc.setState(0xa30f, 0x763b, 0xc330, 0xae55, 0xd27, 0x2ed5, 0x0, 0x0);
        gbc.writeMem(0xa30f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x763b);
        EXPECT(gbc.pc(), 0xa310);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30f), 0xad);
        // AD 032E
        gbc.setState(0x5eba, 0xe86c, 0xde30, 0x8648, 0x83c7, 0x8e45, 0x1, 0x1);
        gbc.writeMem(0x5eba, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe86c);
        EXPECT(gbc.pc(), 0x5ebb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 032F
        gbc.setState(0x316d, 0x4b38, 0x27e0, 0x9ccc, 0xb2d2, 0xc85e, 0x1, 0x0);
        gbc.writeMem(0x316d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4b38);
        EXPECT(gbc.pc(), 0x316e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0330
        gbc.setState(0xcac7, 0xc9e2, 0x9670, 0x206e, 0x51aa, 0xdde3, 0x0, 0x0);
        gbc.writeMem(0xcac7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc9e2);
        EXPECT(gbc.pc(), 0xcac8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcac7), 0xad);
        // AD 0331
        gbc.setState(0xc9a6, 0x554, 0x2f00, 0xfd4f, 0x4be3, 0xb824, 0x1, 0x1);
        gbc.writeMem(0xc9a6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x554);
        EXPECT(gbc.pc(), 0xc9a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a6), 0xad);
        // AD 0332
        gbc.setState(0xc4cc, 0xc26a, 0xc10, 0x129c, 0x2610, 0xbf71, 0x1, 0x0);
        gbc.writeMem(0xc4cc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc26a);
        EXPECT(gbc.pc(), 0xc4cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4cc), 0xad);
        // AD 0333
        gbc.setState(0x879e, 0x653c, 0xce0, 0xf50, 0x315b, 0xc586, 0x0, 0x1);
        gbc.writeMem(0x879e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x653c);
        EXPECT(gbc.pc(), 0x879f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x879e), 0xad);
        // AD 0334
        gbc.setState(0x974a, 0xd7c8, 0x54a0, 0x3513, 0x29d8, 0xdb47, 0x0, 0x0);
        gbc.writeMem(0x974a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd7c8);
        EXPECT(gbc.pc(), 0x974b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x974a), 0xad);
        // AD 0335
        gbc.setState(0x9484, 0x61b7, 0x5970, 0x21bd, 0x1172, 0x2043, 0x1, 0x0);
        gbc.writeMem(0x9484, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x61b7);
        EXPECT(gbc.pc(), 0x9485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9484), 0xad);
        // AD 0336
        gbc.setState(0x2437, 0xac82, 0x3f0, 0xaa88, 0xb75d, 0x6160, 0x0, 0x0);
        gbc.writeMem(0x2437, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xac82);
        EXPECT(gbc.pc(), 0x2438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0337
        gbc.setState(0x782f, 0x560e, 0xb140, 0x204f, 0xb63e, 0x518b, 0x1, 0x0);
        gbc.writeMem(0x782f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x560e);
        EXPECT(gbc.pc(), 0x7830);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0338
        gbc.setState(0x2944, 0x9096, 0xc560, 0x6615, 0x9805, 0xac3e, 0x1, 0x0);
        gbc.writeMem(0x2944, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9096);
        EXPECT(gbc.pc(), 0x2945);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0339
        gbc.setState(0x97ff, 0x292a, 0x4640, 0x5e4c, 0x28fb, 0xdfc8, 0x1, 0x0);
        gbc.writeMem(0x97ff, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x292a);
        EXPECT(gbc.pc(), 0x9800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97ff), 0xad);
        // AD 033A
        gbc.setState(0xafbc, 0x1e70, 0x85d0, 0x3525, 0x3ba8, 0x5142, 0x1, 0x0);
        gbc.writeMem(0xafbc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1e70);
        EXPECT(gbc.pc(), 0xafbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafbc), 0xad);
        // AD 033B
        gbc.setState(0xd0ee, 0xa93, 0xbdd0, 0x8b6e, 0xb051, 0xac07, 0x0, 0x0);
        gbc.writeMem(0xd0ee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa93);
        EXPECT(gbc.pc(), 0xd0ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ee), 0xad);
        // AD 033C
        gbc.setState(0xa7b1, 0x4f5a, 0x9010, 0x165a, 0xc343, 0x8c27, 0x1, 0x1);
        gbc.writeMem(0xa7b1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4f5a);
        EXPECT(gbc.pc(), 0xa7b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7b1), 0xad);
        // AD 033D
        gbc.setState(0x2f96, 0xa47d, 0x55b0, 0x90bf, 0x9d1e, 0xd8b8, 0x1, 0x1);
        gbc.writeMem(0x2f96, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa47d);
        EXPECT(gbc.pc(), 0x2f97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 033E
        gbc.setState(0x90f8, 0xefe, 0x5380, 0xe0c1, 0x1af5, 0xc2f9, 0x1, 0x0);
        gbc.writeMem(0x90f8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xefe);
        EXPECT(gbc.pc(), 0x90f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90f8), 0xad);
        // AD 033F
        gbc.setState(0x6b20, 0xa850, 0xec00, 0x875d, 0x29c9, 0xf1b3, 0x1, 0x1);
        gbc.writeMem(0x6b20, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa850);
        EXPECT(gbc.pc(), 0x6b21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0340
        gbc.setState(0x9183, 0x9c35, 0x100, 0x7c28, 0xac86, 0x57ea, 0x1, 0x1);
        gbc.writeMem(0x9183, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9c35);
        EXPECT(gbc.pc(), 0x9184);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9183), 0xad);
        // AD 0341
        gbc.setState(0x558e, 0x8c2f, 0x9df0, 0xe387, 0x711, 0x29a7, 0x1, 0x0);
        gbc.writeMem(0x558e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8c2f);
        EXPECT(gbc.pc(), 0x558f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0342
        gbc.setState(0xd4b5, 0xde60, 0xa550, 0x60d0, 0x34c3, 0x6e62, 0x1, 0x1);
        gbc.writeMem(0xd4b5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xde60);
        EXPECT(gbc.pc(), 0xd4b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4b5), 0xad);
        // AD 0343
        gbc.setState(0xbbf1, 0xa864, 0x64b0, 0xf027, 0x120b, 0xa22d, 0x0, 0x0);
        gbc.writeMem(0xbbf1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa864);
        EXPECT(gbc.pc(), 0xbbf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbf1), 0xad);
        // AD 0344
        gbc.setState(0x3b60, 0x3268, 0xaba0, 0xfdf0, 0xaa90, 0x8543, 0x1, 0x0);
        gbc.writeMem(0x3b60, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3268);
        EXPECT(gbc.pc(), 0x3b61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0345
        gbc.setState(0xa612, 0x66a9, 0xd720, 0xa428, 0xda28, 0x8a3a, 0x0, 0x0);
        gbc.writeMem(0xa612, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x66a9);
        EXPECT(gbc.pc(), 0xa613);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa612), 0xad);
        // AD 0346
        gbc.setState(0x4307, 0x34a3, 0xfb20, 0x2d9, 0x731b, 0xd988, 0x0, 0x0);
        gbc.writeMem(0x4307, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x34a3);
        EXPECT(gbc.pc(), 0x4308);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0347
        gbc.setState(0xa26c, 0xfddb, 0xec90, 0x6732, 0x9b17, 0xd93c, 0x0, 0x0);
        gbc.writeMem(0xa26c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xfddb);
        EXPECT(gbc.pc(), 0xa26d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa26c), 0xad);
        // AD 0348
        gbc.setState(0xd8b5, 0xdcfa, 0x49c0, 0xb032, 0xa6f5, 0xce1f, 0x0, 0x0);
        gbc.writeMem(0xd8b5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdcfa);
        EXPECT(gbc.pc(), 0xd8b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8b5), 0xad);
        // AD 0349
        gbc.setState(0x9a34, 0x13f0, 0xb90, 0x16f3, 0x5756, 0xcafa, 0x0, 0x1);
        gbc.writeMem(0x9a34, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x13f0);
        EXPECT(gbc.pc(), 0x9a35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a34), 0xad);
        // AD 034A
        gbc.setState(0x7424, 0x2087, 0x8cf0, 0x8e46, 0x589, 0xd7fb, 0x1, 0x0);
        gbc.writeMem(0x7424, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2087);
        EXPECT(gbc.pc(), 0x7425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 034B
        gbc.setState(0xe500, 0x95ed, 0xecb0, 0x1c65, 0xeef4, 0xdfb2, 0x0, 0x0);
        gbc.writeMem(0xe500, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x95ed);
        EXPECT(gbc.pc(), 0xe501);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe500), 0xad);
        // AD 034C
        gbc.setState(0xb842, 0xad64, 0x1640, 0x753c, 0x2b5e, 0x484f, 0x1, 0x0);
        gbc.writeMem(0xb842, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xad64);
        EXPECT(gbc.pc(), 0xb843);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb842), 0xad);
        // AD 034D
        gbc.setState(0x352a, 0x7d54, 0x1550, 0x94ca, 0xe2fc, 0xb381, 0x1, 0x0);
        gbc.writeMem(0x352a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7d54);
        EXPECT(gbc.pc(), 0x352b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 034E
        gbc.setState(0x85ac, 0xc703, 0xe80, 0x7815, 0xa322, 0x81a8, 0x1, 0x1);
        gbc.writeMem(0x85ac, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc703);
        EXPECT(gbc.pc(), 0x85ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ac), 0xad);
        // AD 034F
        gbc.setState(0x8d7d, 0xe995, 0x1d00, 0x6e8a, 0x606c, 0x9d39, 0x0, 0x0);
        gbc.writeMem(0x8d7d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xe995);
        EXPECT(gbc.pc(), 0x8d7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d7d), 0xad);
        // AD 0350
        gbc.setState(0x890d, 0x91fd, 0x4cf0, 0x2c10, 0x956c, 0xa4e2, 0x1, 0x1);
        gbc.writeMem(0x890d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x91fd);
        EXPECT(gbc.pc(), 0x890e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x890d), 0xad);
        // AD 0352
        gbc.setState(0x8823, 0x7bc9, 0x8b20, 0x9deb, 0x1c35, 0x5ba9, 0x0, 0x1);
        gbc.writeMem(0x8823, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7bc9);
        EXPECT(gbc.pc(), 0x8824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8823), 0xad);
        // AD 0353
        gbc.setState(0x1d19, 0x628c, 0x4550, 0x60bf, 0x6030, 0x2ead, 0x1, 0x1);
        gbc.writeMem(0x1d19, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x628c);
        EXPECT(gbc.pc(), 0x1d1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0354
        gbc.setState(0x876b, 0x2286, 0xd910, 0x19a5, 0x242f, 0xf14, 0x0, 0x1);
        gbc.writeMem(0x876b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2286);
        EXPECT(gbc.pc(), 0x876c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x876b), 0xad);
        // AD 0355
        gbc.setState(0x7387, 0xc00d, 0x2560, 0x269f, 0xc369, 0x280e, 0x1, 0x1);
        gbc.writeMem(0x7387, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xc00d);
        EXPECT(gbc.pc(), 0x7388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0356
        gbc.setState(0xe40b, 0x554c, 0xff90, 0x48c0, 0x4665, 0x1345, 0x0, 0x1);
        gbc.writeMem(0xe40b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x554c);
        EXPECT(gbc.pc(), 0xe40c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe40b), 0xad);
        // AD 0357
        gbc.setState(0xc134, 0xe6d1, 0xbf40, 0x1042, 0x2017, 0xd7cf, 0x1, 0x0);
        gbc.writeMem(0xc134, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe6d1);
        EXPECT(gbc.pc(), 0xc135);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc134), 0xad);
        // AD 0358
        gbc.setState(0x5570, 0xd7d6, 0xd890, 0xa1f4, 0x4147, 0x2fda, 0x0, 0x1);
        gbc.writeMem(0x5570, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd7d6);
        EXPECT(gbc.pc(), 0x5571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0359
        gbc.setState(0x5f63, 0xec48, 0xc0a0, 0x1a32, 0xedb2, 0xca6f, 0x1, 0x0);
        gbc.writeMem(0x5f63, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xec48);
        EXPECT(gbc.pc(), 0x5f64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 035A
        gbc.setState(0xe863, 0x7605, 0xbd70, 0x6ccd, 0x5611, 0x7772, 0x0, 0x1);
        gbc.writeMem(0xe863, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7605);
        EXPECT(gbc.pc(), 0xe864);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe863), 0xad);
        // AD 035B
        gbc.setState(0xd7ff, 0x316d, 0xeb30, 0x4550, 0xbb48, 0x131f, 0x0, 0x0);
        gbc.writeMem(0xd7ff, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x316d);
        EXPECT(gbc.pc(), 0xd800);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ff), 0xad);
        // AD 035C
        gbc.setState(0xaadc, 0x178d, 0xc080, 0x464a, 0x4342, 0xd46b, 0x0, 0x1);
        gbc.writeMem(0xaadc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x178d);
        EXPECT(gbc.pc(), 0xaadd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaadc), 0xad);
        // AD 035D
        gbc.setState(0x5780, 0x6d6b, 0x7e30, 0x8e03, 0x1835, 0xed02, 0x1, 0x1);
        gbc.writeMem(0x5780, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x6d6b);
        EXPECT(gbc.pc(), 0x5781);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 035E
        gbc.setState(0x807d, 0xa8cb, 0x8c80, 0x1df0, 0xa51b, 0x46e3, 0x1, 0x1);
        gbc.writeMem(0x807d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa8cb);
        EXPECT(gbc.pc(), 0x807e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x807d), 0xad);
        // AD 035F
        gbc.setState(0xba38, 0xa736, 0xa090, 0xc15d, 0x711b, 0x6250, 0x0, 0x0);
        gbc.writeMem(0xba38, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa736);
        EXPECT(gbc.pc(), 0xba39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba38), 0xad);
        // AD 0360
        gbc.setState(0x3c2c, 0x7e6, 0xc440, 0xa723, 0xbe17, 0x50fd, 0x1, 0x0);
        gbc.writeMem(0x3c2c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7e6);
        EXPECT(gbc.pc(), 0x3c2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0361
        gbc.setState(0xaee, 0xf2b8, 0x4290, 0xa4ce, 0xd05f, 0xce7d, 0x0, 0x0);
        gbc.writeMem(0xaee, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf2b8);
        EXPECT(gbc.pc(), 0xaef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0363
        gbc.setState(0x1e69, 0x4ff2, 0x1270, 0xf2ee, 0xc3f9, 0x732b, 0x1, 0x1);
        gbc.writeMem(0x1e69, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4ff2);
        EXPECT(gbc.pc(), 0x1e6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0364
        gbc.setState(0x7afc, 0x6205, 0xdf30, 0x449f, 0x3569, 0x1fc1, 0x0, 0x1);
        gbc.writeMem(0x7afc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6205);
        EXPECT(gbc.pc(), 0x7afd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0365
        gbc.setState(0xc2f8, 0x34fe, 0xcf10, 0x7ac8, 0x8060, 0x1a09, 0x0, 0x0);
        gbc.writeMem(0xc2f8, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x34fe);
        EXPECT(gbc.pc(), 0xc2f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2f8), 0xad);
        // AD 0367
        gbc.setState(0xc50, 0xcd10, 0xaa0, 0x469a, 0xcd8c, 0x569f, 0x1, 0x1);
        gbc.writeMem(0xc50, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcd10);
        EXPECT(gbc.pc(), 0xc51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0368
        gbc.setState(0xa659, 0xa19f, 0x63e0, 0x18fb, 0xd505, 0x1615, 0x0, 0x0);
        gbc.writeMem(0xa659, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa19f);
        EXPECT(gbc.pc(), 0xa65a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa659), 0xad);
        // AD 0369
        gbc.setState(0x9a76, 0x4c4c, 0xfab0, 0xad8c, 0xdc2e, 0xd3d4, 0x1, 0x0);
        gbc.writeMem(0x9a76, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4c4c);
        EXPECT(gbc.pc(), 0x9a77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a76), 0xad);
        // AD 036A
        gbc.setState(0xd330, 0xd7b3, 0xa310, 0xabc8, 0x2e3f, 0xc142, 0x1, 0x0);
        gbc.writeMem(0xd330, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd7b3);
        EXPECT(gbc.pc(), 0xd331);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd330), 0xad);
        // AD 036B
        gbc.setState(0x981f, 0x646f, 0xb280, 0x7a96, 0x4971, 0x9731, 0x1, 0x1);
        gbc.writeMem(0x981f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x646f);
        EXPECT(gbc.pc(), 0x9820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x981f), 0xad);
        // AD 036C
        gbc.setState(0x6f09, 0x21b6, 0x37a0, 0xcbb4, 0xe996, 0xbdd6, 0x1, 0x1);
        gbc.writeMem(0x6f09, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x21b6);
        EXPECT(gbc.pc(), 0x6f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 036D
        gbc.setState(0x5a92, 0x321a, 0xf50, 0x2b19, 0xf608, 0x9fe5, 0x0, 0x0);
        gbc.writeMem(0x5a92, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x321a);
        EXPECT(gbc.pc(), 0x5a93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 036E
        gbc.setState(0x7dac, 0x841a, 0x56f0, 0x8ea3, 0x62e7, 0x9740, 0x1, 0x1);
        gbc.writeMem(0x7dac, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x841a);
        EXPECT(gbc.pc(), 0x7dad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 036F
        gbc.setState(0xc043, 0x8242, 0x3db0, 0x4f07, 0x5a59, 0xbfe, 0x0, 0x0);
        gbc.writeMem(0xc043, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8242);
        EXPECT(gbc.pc(), 0xc044);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc043), 0xad);
        // AD 0370
        gbc.setState(0x44a, 0x60d1, 0xef70, 0x5f83, 0x877d, 0xad53, 0x0, 0x0);
        gbc.writeMem(0x44a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x60d1);
        EXPECT(gbc.pc(), 0x44b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0371
        gbc.setState(0xd55f, 0xd7d3, 0xf710, 0xfcd5, 0xd31f, 0xde80, 0x0, 0x0);
        gbc.writeMem(0xd55f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xd7d3);
        EXPECT(gbc.pc(), 0xd560);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd55f), 0xad);
        // AD 0372
        gbc.setState(0xefbf, 0x37ff, 0xbb00, 0xd6e6, 0x6919, 0x4cb9, 0x0, 0x0);
        gbc.writeMem(0xefbf, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x37ff);
        EXPECT(gbc.pc(), 0xefc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefbf), 0xad);
        // AD 0373
        gbc.setState(0x18c7, 0x654f, 0x620, 0x6d27, 0x90bd, 0x316b, 0x1, 0x1);
        gbc.writeMem(0x18c7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x654f);
        EXPECT(gbc.pc(), 0x18c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0374
        gbc.setState(0x7756, 0xf005, 0x5fa0, 0xc18c, 0x58e9, 0x50db, 0x1, 0x1);
        gbc.writeMem(0x7756, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf005);
        EXPECT(gbc.pc(), 0x7757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0375
        gbc.setState(0x969e, 0x3ae, 0xa850, 0x309a, 0xb194, 0x10c, 0x1, 0x0);
        gbc.writeMem(0x969e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3ae);
        EXPECT(gbc.pc(), 0x969f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x969e), 0xad);
        // AD 0376
        gbc.setState(0x4bf4, 0x9730, 0x8470, 0x477c, 0xd202, 0xd83, 0x1, 0x1);
        gbc.writeMem(0x4bf4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9730);
        EXPECT(gbc.pc(), 0x4bf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0377
        gbc.setState(0x4cad, 0x2658, 0x37c0, 0x656c, 0x7331, 0x3bfb, 0x1, 0x1);
        gbc.writeMem(0x4cad, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2658);
        EXPECT(gbc.pc(), 0x4cae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0378
        gbc.setState(0x7ca6, 0xad4d, 0x8a50, 0xbe4f, 0xfab1, 0x9690, 0x0, 0x0);
        gbc.writeMem(0x7ca6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xad4d);
        EXPECT(gbc.pc(), 0x7ca7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0379
        gbc.setState(0x94ac, 0x3f7d, 0xdca0, 0xb8e1, 0x2a70, 0x5434, 0x0, 0x0);
        gbc.writeMem(0x94ac, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3f7d);
        EXPECT(gbc.pc(), 0x94ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ac), 0xad);
        // AD 037B
        gbc.setState(0x63ca, 0xbbf4, 0xe8e0, 0xbc17, 0x805b, 0x3396, 0x1, 0x1);
        gbc.writeMem(0x63ca, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xbbf4);
        EXPECT(gbc.pc(), 0x63cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 037C
        gbc.setState(0x692d, 0x4dad, 0x2b90, 0x3589, 0xd7f, 0xf903, 0x1, 0x1);
        gbc.writeMem(0x692d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x4dad);
        EXPECT(gbc.pc(), 0x692e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 037D
        gbc.setState(0x6431, 0xb819, 0x1720, 0x76a1, 0x9137, 0x8f9e, 0x1, 0x1);
        gbc.writeMem(0x6431, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb819);
        EXPECT(gbc.pc(), 0x6432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 037E
        gbc.setState(0x38f2, 0xb6bc, 0xb000, 0xf7dc, 0x375a, 0x5124, 0x0, 0x1);
        gbc.writeMem(0x38f2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb6bc);
        EXPECT(gbc.pc(), 0x38f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 037F
        gbc.setState(0x1812, 0x5eb2, 0xfaf0, 0xbd3d, 0xa7e3, 0xf525, 0x0, 0x1);
        gbc.writeMem(0x1812, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5eb2);
        EXPECT(gbc.pc(), 0x1813);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0380
        gbc.setState(0xb8b, 0xf87a, 0xe310, 0x84ed, 0x8291, 0x4705, 0x1, 0x1);
        gbc.writeMem(0xb8b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf87a);
        EXPECT(gbc.pc(), 0xb8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0381
        gbc.setState(0xec4, 0x24cf, 0x31a0, 0x8648, 0xa3ce, 0x399a, 0x1, 0x0);
        gbc.writeMem(0xec4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x24cf);
        EXPECT(gbc.pc(), 0xec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0382
        gbc.setState(0x22f2, 0xa8e0, 0x7f70, 0x9ee0, 0xf4e3, 0x8795, 0x0, 0x0);
        gbc.writeMem(0x22f2, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa8e0);
        EXPECT(gbc.pc(), 0x22f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0383
        gbc.setState(0x5b35, 0x25e0, 0x710, 0x15c3, 0x6ace, 0x100, 0x0, 0x1);
        gbc.writeMem(0x5b35, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x25e0);
        EXPECT(gbc.pc(), 0x5b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0384
        gbc.setState(0xe80a, 0x9aa4, 0xa010, 0xd0df, 0x3e4c, 0xbe3e, 0x1, 0x0);
        gbc.writeMem(0xe80a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9aa4);
        EXPECT(gbc.pc(), 0xe80b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe80a), 0xad);
        // AD 0385
        gbc.setState(0x2742, 0x60a9, 0xe050, 0x31a3, 0x2472, 0x5097, 0x0, 0x1);
        gbc.writeMem(0x2742, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x60a9);
        EXPECT(gbc.pc(), 0x2743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0386
        gbc.setState(0x646d, 0xac12, 0xaec0, 0x7de8, 0x8168, 0xec42, 0x1, 0x1);
        gbc.writeMem(0x646d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xac12);
        EXPECT(gbc.pc(), 0x646e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0387
        gbc.setState(0x647, 0xc2db, 0x1e70, 0x2cec, 0x7195, 0x31fd, 0x1, 0x1);
        gbc.writeMem(0x647, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc2db);
        EXPECT(gbc.pc(), 0x648);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0388
        gbc.setState(0xcf6f, 0x4f6, 0x660, 0x8425, 0x1553, 0xdda3, 0x1, 0x0);
        gbc.writeMem(0xcf6f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4f6);
        EXPECT(gbc.pc(), 0xcf70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf6f), 0xad);
        // AD 0389
        gbc.setState(0x992f, 0x38b2, 0xa460, 0xca7f, 0xf138, 0x4afe, 0x1, 0x0);
        gbc.writeMem(0x992f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x38b2);
        EXPECT(gbc.pc(), 0x9930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992f), 0xad);
        // AD 038A
        gbc.setState(0xc6ad, 0x5897, 0xbff0, 0xfcea, 0x9a4d, 0xf195, 0x1, 0x0);
        gbc.writeMem(0xc6ad, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5897);
        EXPECT(gbc.pc(), 0xc6ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ad), 0xad);
        // AD 038B
        gbc.setState(0x417f, 0x4a5, 0xe180, 0xdb5b, 0x7c8e, 0xb2be, 0x1, 0x0);
        gbc.writeMem(0x417f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4a5);
        EXPECT(gbc.pc(), 0x4180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 038C
        gbc.setState(0x81b5, 0xb571, 0xcf0, 0x2d04, 0x40ee, 0xa5b, 0x0, 0x0);
        gbc.writeMem(0x81b5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb571);
        EXPECT(gbc.pc(), 0x81b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b5), 0xad);
        // AD 038D
        gbc.setState(0x7620, 0xf0f7, 0xaf00, 0x7c68, 0x623b, 0x625c, 0x1, 0x1);
        gbc.writeMem(0x7620, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf0f7);
        EXPECT(gbc.pc(), 0x7621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 038E
        gbc.setState(0xc2c0, 0x6251, 0x3360, 0x323, 0xcfc0, 0x6519, 0x0, 0x0);
        gbc.writeMem(0xc2c0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6251);
        EXPECT(gbc.pc(), 0xc2c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c0), 0xad);
        // AD 038F
        gbc.setState(0x1a99, 0x2d6c, 0x2850, 0xaebe, 0xaf18, 0x636, 0x1, 0x0);
        gbc.writeMem(0x1a99, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2d6c);
        EXPECT(gbc.pc(), 0x1a9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0390
        gbc.setState(0x4a6d, 0xc3bd, 0x62d0, 0x63b3, 0xf3f2, 0xad92, 0x1, 0x1);
        gbc.writeMem(0x4a6d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc3bd);
        EXPECT(gbc.pc(), 0x4a6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0391
        gbc.setState(0x7225, 0x38d8, 0xc1c0, 0xb60d, 0x5e32, 0x80b5, 0x1, 0x0);
        gbc.writeMem(0x7225, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x38d8);
        EXPECT(gbc.pc(), 0x7226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0392
        gbc.setState(0xac83, 0x1317, 0xb3e0, 0x4da, 0xef10, 0x449c, 0x1, 0x0);
        gbc.writeMem(0xac83, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x1317);
        EXPECT(gbc.pc(), 0xac84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac83), 0xad);
        // AD 0393
        gbc.setState(0x3245, 0x6a18, 0xfc00, 0xd0d7, 0xac9c, 0x43a, 0x1, 0x0);
        gbc.writeMem(0x3245, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6a18);
        EXPECT(gbc.pc(), 0x3246);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0394
        gbc.setState(0xd584, 0xc17b, 0x8f00, 0x193d, 0x8979, 0xff46, 0x1, 0x1);
        gbc.writeMem(0xd584, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xc17b);
        EXPECT(gbc.pc(), 0xd585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd584), 0xad);
        // AD 0395
        gbc.setState(0xd684, 0xaffe, 0x1930, 0x30a2, 0x7b, 0xbfcb, 0x1, 0x0);
        gbc.writeMem(0xd684, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xaffe);
        EXPECT(gbc.pc(), 0xd685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd684), 0xad);
        // AD 0396
        gbc.setState(0x7a70, 0xc547, 0x2b0, 0xa3ba, 0xada5, 0x82b1, 0x0, 0x0);
        gbc.writeMem(0x7a70, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc547);
        EXPECT(gbc.pc(), 0x7a71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0397
        gbc.setState(0x9c68, 0x23e6, 0xb3d0, 0x58e1, 0x575f, 0x8b44, 0x0, 0x1);
        gbc.writeMem(0x9c68, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x23e6);
        EXPECT(gbc.pc(), 0x9c69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c68), 0xad);
        // AD 0398
        gbc.setState(0x7e29, 0xfe1f, 0xdc10, 0xf55b, 0xb029, 0x783b, 0x0, 0x0);
        gbc.writeMem(0x7e29, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xfe1f);
        EXPECT(gbc.pc(), 0x7e2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 0399
        gbc.setState(0x7c9f, 0x129, 0x48b0, 0xf3ac, 0x5a6a, 0xc253, 0x0, 0x1);
        gbc.writeMem(0x7c9f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x129);
        EXPECT(gbc.pc(), 0x7ca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 039A
        gbc.setState(0xcc04, 0xbbb4, 0xe3c0, 0x8a14, 0x2cba, 0xdfef, 0x0, 0x1);
        gbc.writeMem(0xcc04, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xbbb4);
        EXPECT(gbc.pc(), 0xcc05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc04), 0xad);
        // AD 039B
        gbc.setState(0x1b00, 0x45e, 0x1440, 0x1a84, 0xbcc0, 0xa30b, 0x0, 0x1);
        gbc.writeMem(0x1b00, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x45e);
        EXPECT(gbc.pc(), 0x1b01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 039C
        gbc.setState(0xcd89, 0xb7f2, 0xe240, 0xec08, 0x95b5, 0x526f, 0x1, 0x1);
        gbc.writeMem(0xcd89, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb7f2);
        EXPECT(gbc.pc(), 0xcd8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd89), 0xad);
        // AD 039D
        gbc.setState(0x5eff, 0xf74, 0xff20, 0x70d4, 0x6176, 0x715c, 0x0, 0x0);
        gbc.writeMem(0x5eff, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf74);
        EXPECT(gbc.pc(), 0x5f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 039E
        gbc.setState(0x8167, 0xe604, 0x790, 0x2040, 0xd787, 0x3143, 0x0, 0x1);
        gbc.writeMem(0x8167, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe604);
        EXPECT(gbc.pc(), 0x8168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8167), 0xad);
        // AD 03A0
        gbc.setState(0x2675, 0x3737, 0xd900, 0x3eb5, 0xea67, 0xddc8, 0x1, 0x1);
        gbc.writeMem(0x2675, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3737);
        EXPECT(gbc.pc(), 0x2676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03A1
        gbc.setState(0x5240, 0x3999, 0xa220, 0x6326, 0x8995, 0xe9c6, 0x0, 0x0);
        gbc.writeMem(0x5240, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3999);
        EXPECT(gbc.pc(), 0x5241);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03A2
        gbc.setState(0xad4b, 0x8477, 0x5880, 0xc927, 0x625, 0x82f, 0x1, 0x0);
        gbc.writeMem(0xad4b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8477);
        EXPECT(gbc.pc(), 0xad4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad4b), 0xad);
        // AD 03A3
        gbc.setState(0x2ced, 0x7c4, 0x8b60, 0x783c, 0x1bc9, 0x4a2, 0x1, 0x0);
        gbc.writeMem(0x2ced, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7c4);
        EXPECT(gbc.pc(), 0x2cee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03A4
        gbc.setState(0x5545, 0xcaad, 0x5630, 0x41ad, 0x293, 0xd320, 0x0, 0x0);
        gbc.writeMem(0x5545, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xcaad);
        EXPECT(gbc.pc(), 0x5546);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03A5
        gbc.setState(0x5aef, 0x265f, 0x9250, 0xe86, 0x1d92, 0x34e7, 0x1, 0x1);
        gbc.writeMem(0x5aef, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x265f);
        EXPECT(gbc.pc(), 0x5af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03A7
        gbc.setState(0xdfb0, 0xd4c4, 0xd6a0, 0x58e9, 0x88f8, 0x7cea, 0x0, 0x1);
        gbc.writeMem(0xdfb0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd4c4);
        EXPECT(gbc.pc(), 0xdfb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfb0), 0xad);
        // AD 03A8
        gbc.setState(0x3140, 0x18dd, 0xecb0, 0xc700, 0xafa1, 0x82c1, 0x1, 0x1);
        gbc.writeMem(0x3140, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x18dd);
        EXPECT(gbc.pc(), 0x3141);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03A9
        gbc.setState(0xc1cd, 0x744c, 0x4530, 0x1f2, 0xca5b, 0xfa25, 0x0, 0x1);
        gbc.writeMem(0xc1cd, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x744c);
        EXPECT(gbc.pc(), 0xc1ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1cd), 0xad);
        // AD 03AA
        gbc.setState(0x47f5, 0x3285, 0x6100, 0xf9c3, 0x3171, 0x9c75, 0x0, 0x0);
        gbc.writeMem(0x47f5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3285);
        EXPECT(gbc.pc(), 0x47f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03AB
        gbc.setState(0x1b5a, 0xbb69, 0xe790, 0x8093, 0x5cdb, 0xb770, 0x1, 0x1);
        gbc.writeMem(0x1b5a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xbb69);
        EXPECT(gbc.pc(), 0x1b5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03AD
        gbc.setState(0x51ce, 0x1a7, 0xa590, 0x2701, 0x3505, 0x741c, 0x0, 0x1);
        gbc.writeMem(0x51ce, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1a7);
        EXPECT(gbc.pc(), 0x51cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03AE
        gbc.setState(0x6cfc, 0x320b, 0xb90, 0x2e52, 0xde51, 0xa51, 0x0, 0x1);
        gbc.writeMem(0x6cfc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x320b);
        EXPECT(gbc.pc(), 0x6cfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03AF
        gbc.setState(0x93d6, 0xe2f5, 0xa4a0, 0x4657, 0x4f01, 0x6389, 0x1, 0x1);
        gbc.writeMem(0x93d6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe2f5);
        EXPECT(gbc.pc(), 0x93d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93d6), 0xad);
        // AD 03B0
        gbc.setState(0x1d93, 0xb2c9, 0x6b00, 0x377a, 0xe9a0, 0x4272, 0x1, 0x1);
        gbc.writeMem(0x1d93, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xb2c9);
        EXPECT(gbc.pc(), 0x1d94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03B1
        gbc.setState(0xde90, 0x3a3, 0x1380, 0x45a9, 0xefd4, 0xd91a, 0x0, 0x1);
        gbc.writeMem(0xde90, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3a3);
        EXPECT(gbc.pc(), 0xde91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde90), 0xad);
        // AD 03B2
        gbc.setState(0x7a49, 0x413b, 0x7af0, 0x5287, 0xb0ac, 0x23dd, 0x1, 0x0);
        gbc.writeMem(0x7a49, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x413b);
        EXPECT(gbc.pc(), 0x7a4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03B3
        gbc.setState(0xd951, 0xdb98, 0xf20, 0xac76, 0xad59, 0x361f, 0x0, 0x0);
        gbc.writeMem(0xd951, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdb98);
        EXPECT(gbc.pc(), 0xd952);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd951), 0xad);
        // AD 03B4
        gbc.setState(0xedff, 0x4755, 0x1710, 0x4d50, 0x179b, 0xcbc9, 0x1, 0x0);
        gbc.writeMem(0xedff, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4755);
        EXPECT(gbc.pc(), 0xee00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedff), 0xad);
        // AD 03B5
        gbc.setState(0xd146, 0x3623, 0x1550, 0xbd59, 0xc0d, 0x4321, 0x0, 0x0);
        gbc.writeMem(0xd146, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x3623);
        EXPECT(gbc.pc(), 0xd147);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd146), 0xad);
        // AD 03B6
        gbc.setState(0x3ac5, 0x2c8c, 0x7030, 0xff4c, 0x3f16, 0x3572, 0x1, 0x0);
        gbc.writeMem(0x3ac5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2c8c);
        EXPECT(gbc.pc(), 0x3ac6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03B7
        gbc.setState(0x152e, 0x58ce, 0x72a0, 0xa54c, 0x25fe, 0xd90b, 0x1, 0x1);
        gbc.writeMem(0x152e, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x58ce);
        EXPECT(gbc.pc(), 0x152f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03B8
        gbc.setState(0xafc0, 0xf7fe, 0x8360, 0x462, 0x1c9f, 0x8808, 0x0, 0x0);
        gbc.writeMem(0xafc0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf7fe);
        EXPECT(gbc.pc(), 0xafc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafc0), 0xad);
        // AD 03B9
        gbc.setState(0x6767, 0x525a, 0x20d0, 0xeca4, 0x5b08, 0x7cb, 0x1, 0x1);
        gbc.writeMem(0x6767, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x525a);
        EXPECT(gbc.pc(), 0x6768);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03BA
        gbc.setState(0x431b, 0x2680, 0x5ba0, 0x9a3b, 0x7ceb, 0x7e53, 0x1, 0x1);
        gbc.writeMem(0x431b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2680);
        EXPECT(gbc.pc(), 0x431c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03BB
        gbc.setState(0x69c3, 0x377c, 0x1630, 0xe902, 0x41e2, 0x1cc7, 0x1, 0x0);
        gbc.writeMem(0x69c3, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x377c);
        EXPECT(gbc.pc(), 0x69c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03BC
        gbc.setState(0x6208, 0x6a2a, 0xc440, 0x5b62, 0x39d7, 0xcab3, 0x0, 0x1);
        gbc.writeMem(0x6208, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6a2a);
        EXPECT(gbc.pc(), 0x6209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03BD
        gbc.setState(0xa82f, 0xb552, 0xdef0, 0x12b, 0x139e, 0xd35a, 0x0, 0x0);
        gbc.writeMem(0xa82f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb552);
        EXPECT(gbc.pc(), 0xa830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa82f), 0xad);
        // AD 03BF
        gbc.setState(0x5a41, 0xd5fa, 0x1160, 0x7024, 0xa21b, 0x572a, 0x1, 0x1);
        gbc.writeMem(0x5a41, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd5fa);
        EXPECT(gbc.pc(), 0x5a42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C0
        gbc.setState(0x4d90, 0x4ec3, 0x18f0, 0xa8f9, 0xa7fc, 0x811, 0x1, 0x0);
        gbc.writeMem(0x4d90, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4ec3);
        EXPECT(gbc.pc(), 0x4d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C1
        gbc.setState(0x677b, 0x1815, 0x2960, 0x6f37, 0x3aae, 0xf5a0, 0x0, 0x1);
        gbc.writeMem(0x677b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1815);
        EXPECT(gbc.pc(), 0x677c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C2
        gbc.setState(0xc99d, 0x5b5, 0x2570, 0xa2fd, 0x7eeb, 0xf929, 0x1, 0x0);
        gbc.writeMem(0xc99d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x5b5);
        EXPECT(gbc.pc(), 0xc99e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc99d), 0xad);
        // AD 03C3
        gbc.setState(0xd47c, 0xb505, 0x6c70, 0x24f4, 0xb623, 0x4880, 0x1, 0x0);
        gbc.writeMem(0xd47c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb505);
        EXPECT(gbc.pc(), 0xd47d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd47c), 0xad);
        // AD 03C4
        gbc.setState(0x49fc, 0x9b3b, 0xfcd0, 0x891c, 0x5cdd, 0x518c, 0x0, 0x0);
        gbc.writeMem(0x49fc, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x9b3b);
        EXPECT(gbc.pc(), 0x49fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C5
        gbc.setState(0x5d1a, 0xe0cb, 0xd0d0, 0x5247, 0xaf90, 0xcdfe, 0x1, 0x0);
        gbc.writeMem(0x5d1a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe0cb);
        EXPECT(gbc.pc(), 0x5d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C6
        gbc.setState(0xadfa, 0x43bd, 0x4380, 0x9508, 0x303, 0x6de2, 0x1, 0x0);
        gbc.writeMem(0xadfa, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x43bd);
        EXPECT(gbc.pc(), 0xadfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadfa), 0xad);
        // AD 03C7
        gbc.setState(0x5c8d, 0xfd93, 0xcb0, 0xd, 0xc109, 0x650d, 0x1, 0x1);
        gbc.writeMem(0x5c8d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xfd93);
        EXPECT(gbc.pc(), 0x5c8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C8
        gbc.setState(0x799f, 0x4bcf, 0x3960, 0x6f4, 0xbaaa, 0x4b10, 0x1, 0x0);
        gbc.writeMem(0x799f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x4bcf);
        EXPECT(gbc.pc(), 0x79a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03C9
        gbc.setState(0xbc23, 0x9521, 0xe400, 0x6902, 0xcff7, 0x1cf6, 0x0, 0x1);
        gbc.writeMem(0xbc23, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9521);
        EXPECT(gbc.pc(), 0xbc24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc23), 0xad);
        // AD 03CA
        gbc.setState(0xa1d1, 0x41ec, 0x5780, 0x6307, 0xb7a7, 0x592e, 0x1, 0x0);
        gbc.writeMem(0xa1d1, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x41ec);
        EXPECT(gbc.pc(), 0xa1d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d1), 0xad);
        // AD 03CB
        gbc.setState(0xab4b, 0x696d, 0xf830, 0xee9a, 0xb4f2, 0x1706, 0x1, 0x0);
        gbc.writeMem(0xab4b, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x696d);
        EXPECT(gbc.pc(), 0xab4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab4b), 0xad);
        // AD 03CC
        gbc.setState(0xd55a, 0x31d6, 0x3280, 0x8843, 0x4794, 0x2632, 0x1, 0x0);
        gbc.writeMem(0xd55a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x31d6);
        EXPECT(gbc.pc(), 0xd55b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd55a), 0xad);
        // AD 03CD
        gbc.setState(0x6cf6, 0x1ec4, 0xf9c0, 0x39ce, 0xee88, 0x1cda, 0x1, 0x0);
        gbc.writeMem(0x6cf6, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1ec4);
        EXPECT(gbc.pc(), 0x6cf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03CE
        gbc.setState(0x172f, 0xde3b, 0x19d0, 0x102, 0xc3e, 0x3efa, 0x1, 0x0);
        gbc.writeMem(0x172f, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xde3b);
        EXPECT(gbc.pc(), 0x1730);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03D0
        gbc.setState(0xb53c, 0x42a6, 0x5150, 0x353b, 0x44a7, 0x6bb6, 0x1, 0x1);
        gbc.writeMem(0xb53c, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x42a6);
        EXPECT(gbc.pc(), 0xb53d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb53c), 0xad);
        // AD 03D1
        gbc.setState(0x1c6d, 0x379e, 0x67c0, 0xf332, 0x2eb0, 0x13c5, 0x1, 0x1);
        gbc.writeMem(0x1c6d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x379e);
        EXPECT(gbc.pc(), 0x1c6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03D2
        gbc.setState(0x3887, 0x3bb1, 0x6c60, 0x96b2, 0xb30c, 0x2448, 0x1, 0x1);
        gbc.writeMem(0x3887, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x3bb1);
        EXPECT(gbc.pc(), 0x3888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03D3
        gbc.setState(0x83a9, 0x6fcb, 0x9830, 0x15c, 0x6369, 0xd3e4, 0x0, 0x0);
        gbc.writeMem(0x83a9, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6fcb);
        EXPECT(gbc.pc(), 0x83aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83a9), 0xad);
        // AD 03D4
        gbc.setState(0x471, 0x9845, 0x5cf0, 0x1876, 0x2ce1, 0xb2f8, 0x0, 0x1);
        gbc.writeMem(0x471, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9845);
        EXPECT(gbc.pc(), 0x472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03D5
        gbc.setState(0xc621, 0x4c98, 0x60f0, 0xc0fd, 0x6309, 0x748c, 0x0, 0x1);
        gbc.writeMem(0xc621, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4c98);
        EXPECT(gbc.pc(), 0xc622);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc621), 0xad);
        // AD 03D6
        gbc.setState(0x63ba, 0x51a2, 0x27a0, 0xd0af, 0xce1e, 0x1dab, 0x1, 0x0);
        gbc.writeMem(0x63ba, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x51a2);
        EXPECT(gbc.pc(), 0x63bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03D7
        gbc.setState(0x2af0, 0xfaac, 0xb110, 0x7d3b, 0x33, 0x5441, 0x1, 0x1);
        gbc.writeMem(0x2af0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xfaac);
        EXPECT(gbc.pc(), 0x2af1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03D8
        gbc.setState(0xdf68, 0xe509, 0xfc80, 0x4c1, 0x4311, 0xa869, 0x0, 0x0);
        gbc.writeMem(0xdf68, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe509);
        EXPECT(gbc.pc(), 0xdf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf68), 0xad);
        // AD 03D9
        gbc.setState(0x97d0, 0x7a5c, 0xbb0, 0xe5d3, 0x3bbe, 0xca60, 0x1, 0x1);
        gbc.writeMem(0x97d0, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x7a5c);
        EXPECT(gbc.pc(), 0x97d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d0), 0xad);
        // AD 03DA
        gbc.setState(0xe2c7, 0x10f9, 0x83c0, 0x2cb2, 0x14f8, 0xcee9, 0x1, 0x1);
        gbc.writeMem(0xe2c7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x10f9);
        EXPECT(gbc.pc(), 0xe2c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c7), 0xad);
        // AD 03DB
        gbc.setState(0x5aa5, 0x7b63, 0x4d30, 0xc6d6, 0x4746, 0x35c2, 0x1, 0x1);
        gbc.writeMem(0x5aa5, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7b63);
        EXPECT(gbc.pc(), 0x5aa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03DC
        gbc.setState(0xe609, 0xfa13, 0xb120, 0xb895, 0xcc85, 0xbe10, 0x0, 0x1);
        gbc.writeMem(0xe609, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xfa13);
        EXPECT(gbc.pc(), 0xe60a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe609), 0xad);
        // AD 03DD
        gbc.setState(0xd922, 0x20fd, 0x98e0, 0x784b, 0x3e47, 0xfc32, 0x1, 0x1);
        gbc.writeMem(0xd922, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x20fd);
        EXPECT(gbc.pc(), 0xd923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd922), 0xad);
        // AD 03DE
        gbc.setState(0x3194, 0x23c9, 0xba60, 0x3786, 0x92d7, 0x1cbc, 0x0, 0x0);
        gbc.writeMem(0x3194, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x23c9);
        EXPECT(gbc.pc(), 0x3195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03DF
        gbc.setState(0x9739, 0x437b, 0x670, 0xb968, 0x208b, 0xc171, 0x1, 0x1);
        gbc.writeMem(0x9739, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x437b);
        EXPECT(gbc.pc(), 0x973a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9739), 0xad);
        // AD 03E0
        gbc.setState(0x75af, 0xf5ab, 0x7010, 0x156f, 0x95c5, 0x2c93, 0x0, 0x0);
        gbc.writeMem(0x75af, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf5ab);
        EXPECT(gbc.pc(), 0x75b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03E1
        gbc.setState(0x29e7, 0x53e2, 0xb960, 0x1bab, 0x783a, 0xc765, 0x1, 0x1);
        gbc.writeMem(0x29e7, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x53e2);
        EXPECT(gbc.pc(), 0x29e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03E2
        gbc.setState(0x35c4, 0xee6a, 0xecc0, 0xe90b, 0xa39b, 0x5b86, 0x1, 0x1);
        gbc.writeMem(0x35c4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xee6a);
        EXPECT(gbc.pc(), 0x35c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03E3
        gbc.setState(0x4c38, 0xa01b, 0x6d40, 0xe8a8, 0xc5cb, 0xc979, 0x1, 0x1);
        gbc.writeMem(0x4c38, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa01b);
        EXPECT(gbc.pc(), 0x4c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03E4
        gbc.setState(0x33e4, 0x2fb0, 0x30c0, 0x800d, 0xf9c1, 0xff40, 0x1, 0x0);
        gbc.writeMem(0x33e4, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2fb0);
        EXPECT(gbc.pc(), 0x33e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03E5
        gbc.setState(0x1004, 0xba63, 0x35e0, 0x1442, 0x8994, 0xbb8, 0x1, 0x0);
        gbc.writeMem(0x1004, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xba63);
        EXPECT(gbc.pc(), 0x1005);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AD 03E6
        gbc.setState(0x860a, 0xcc3b, 0x3bc0, 0x43b8, 0x3f8c, 0xec2, 0x0, 0x1);
        gbc.writeMem(0x860a, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xcc3b);
        EXPECT(gbc.pc(), 0x860b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x860a), 0xad);
        // AD 03E7
        gbc.setState(0xd306, 0x7309, 0xa040, 0xccdc, 0xd53d, 0xbd66, 0x0, 0x0);
        gbc.writeMem(0xd306, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7309);
        EXPECT(gbc.pc(), 0xd307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd306), 0xad);
    }
