    TEST(gbcemu, opcode_cb_5a) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 5A 0000
        gbc.setState(0x9f88, 0x3f38, 0x910, 0x4315, 0xcd74, 0x3aa7, 0x1, 0x0);
        gbc.writeMem(0x9f88, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x3f38, gbc.sp());
        EXPECT(0x9f8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f88));
        EXPECT(0x5a, gbc.readMem(0x9f89));
        // CB 5A 0001
        gbc.setState(0x3918, 0x895e, 0x1fc0, 0x71e2, 0xc1e5, 0xc654, 0x1, 0x0);
        gbc.writeMem(0x3918, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x895e, gbc.sp());
        EXPECT(0x391a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0002
        gbc.setState(0xeec0, 0xd3f, 0xacd0, 0x5e0e, 0x386c, 0xb06d, 0x1, 0x1);
        gbc.writeMem(0xeec0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xd3f, gbc.sp());
        EXPECT(0xeec2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeec0));
        EXPECT(0x5a, gbc.readMem(0xeec1));
        // CB 5A 0003
        gbc.setState(0xb67f, 0xd6ba, 0xdf40, 0xacd1, 0xf296, 0xc1db, 0x0, 0x0);
        gbc.writeMem(0xb67f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xd6ba, gbc.sp());
        EXPECT(0xb681, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb67f));
        EXPECT(0x5a, gbc.readMem(0xb680));
        // CB 5A 0004
        gbc.setState(0x5bd4, 0xa07d, 0x6880, 0x4d99, 0xa3d7, 0xd96c, 0x1, 0x0);
        gbc.writeMem(0x5bd4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xa07d, gbc.sp());
        EXPECT(0x5bd6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0005
        gbc.setState(0x3351, 0xdeca, 0x790, 0x86c1, 0x2c6f, 0xf056, 0x1, 0x0);
        gbc.writeMem(0x3351, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xdeca, gbc.sp());
        EXPECT(0x3353, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0007
        gbc.setState(0xa25f, 0x8dca, 0x82e0, 0xde60, 0x9dbb, 0xe0f8, 0x1, 0x1);
        gbc.writeMem(0xa25f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8dca, gbc.sp());
        EXPECT(0xa261, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa25f));
        EXPECT(0x5a, gbc.readMem(0xa260));
        // CB 5A 0008
        gbc.setState(0x8d99, 0x34f4, 0x4170, 0x38dc, 0x7bf2, 0x6e02, 0x0, 0x1);
        gbc.writeMem(0x8d99, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x34f4, gbc.sp());
        EXPECT(0x8d9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d99));
        EXPECT(0x5a, gbc.readMem(0x8d9a));
        // CB 5A 0009
        gbc.setState(0xcdb8, 0xe8aa, 0x92f0, 0x9691, 0x1282, 0x1639, 0x0, 0x0);
        gbc.writeMem(0xcdb8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xe8aa, gbc.sp());
        EXPECT(0xcdba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdb8));
        EXPECT(0x5a, gbc.readMem(0xcdb9));
        // CB 5A 000A
        gbc.setState(0x2c4e, 0xc8cb, 0xc7f0, 0x5ffd, 0xd7a2, 0x2d4d, 0x1, 0x0);
        gbc.writeMem(0x2c4e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xc8cb, gbc.sp());
        EXPECT(0x2c50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 000B
        gbc.setState(0xab36, 0xc649, 0x8350, 0xcae4, 0x715c, 0x1d50, 0x1, 0x0);
        gbc.writeMem(0xab36, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xc649, gbc.sp());
        EXPECT(0xab38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab36));
        EXPECT(0x5a, gbc.readMem(0xab37));
        // CB 5A 000C
        gbc.setState(0x4323, 0x3a7c, 0x8b00, 0x1605, 0xd181, 0x8a99, 0x0, 0x0);
        gbc.writeMem(0x4323, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x3a7c, gbc.sp());
        EXPECT(0x4325, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 000D
        gbc.setState(0xa1a7, 0xf20f, 0x4400, 0x8cf5, 0xd1fe, 0xe4e2, 0x1, 0x0);
        gbc.writeMem(0xa1a7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xf20f, gbc.sp());
        EXPECT(0xa1a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1a7));
        EXPECT(0x5a, gbc.readMem(0xa1a8));
        // CB 5A 000E
        gbc.setState(0x169d, 0x22, 0xaa10, 0xb246, 0xa028, 0xd51a, 0x0, 0x1);
        gbc.writeMem(0x169d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x22, gbc.sp());
        EXPECT(0x169f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 000F
        gbc.setState(0x1c25, 0x5389, 0xade0, 0x155d, 0x8615, 0xdf7e, 0x1, 0x0);
        gbc.writeMem(0x1c25, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x5389, gbc.sp());
        EXPECT(0x1c27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0010
        gbc.setState(0x62a7, 0xb453, 0x5d0, 0xbbe2, 0x2f06, 0xcbb3, 0x0, 0x1);
        gbc.writeMem(0x62a7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb453, gbc.sp());
        EXPECT(0x62a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0011
        gbc.setState(0xd312, 0x7e85, 0xd7d0, 0xcd08, 0x777b, 0x399c, 0x0, 0x0);
        gbc.writeMem(0xd312, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x7e85, gbc.sp());
        EXPECT(0xd314, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd312));
        EXPECT(0x5a, gbc.readMem(0xd313));
        // CB 5A 0012
        gbc.setState(0xac9d, 0x60da, 0x30e0, 0x4769, 0x9979, 0x5b91, 0x1, 0x0);
        gbc.writeMem(0xac9d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x60da, gbc.sp());
        EXPECT(0xac9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac9d));
        EXPECT(0x5a, gbc.readMem(0xac9e));
        // CB 5A 0013
        gbc.setState(0x860d, 0x282a, 0x3390, 0x249a, 0xfc3, 0x3de3, 0x0, 0x0);
        gbc.writeMem(0x860d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x282a, gbc.sp());
        EXPECT(0x860f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x860d));
        EXPECT(0x5a, gbc.readMem(0x860e));
        // CB 5A 0014
        gbc.setState(0xabbc, 0x11ec, 0x8c80, 0x4f97, 0xd63a, 0x75c2, 0x1, 0x0);
        gbc.writeMem(0xabbc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x11ec, gbc.sp());
        EXPECT(0xabbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabbc));
        EXPECT(0x5a, gbc.readMem(0xabbd));
        // CB 5A 0015
        gbc.setState(0x465c, 0xa045, 0xc810, 0x2fcb, 0x95b7, 0xaac4, 0x0, 0x1);
        gbc.writeMem(0x465c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xa045, gbc.sp());
        EXPECT(0x465e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0016
        gbc.setState(0x93bc, 0x2627, 0xea50, 0x6943, 0x4a4a, 0xdd41, 0x0, 0x0);
        gbc.writeMem(0x93bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x2627, gbc.sp());
        EXPECT(0x93be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93bc));
        EXPECT(0x5a, gbc.readMem(0x93bd));
        // CB 5A 0017
        gbc.setState(0x2d80, 0xeab8, 0xc540, 0xc6a3, 0x9f9f, 0x44b1, 0x0, 0x0);
        gbc.writeMem(0x2d80, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xeab8, gbc.sp());
        EXPECT(0x2d82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0018
        gbc.setState(0x79ef, 0xa73d, 0x2f00, 0x2290, 0xc882, 0x13d9, 0x0, 0x1);
        gbc.writeMem(0x79ef, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xa73d, gbc.sp());
        EXPECT(0x79f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0019
        gbc.setState(0xab0a, 0xd76a, 0x8e0, 0x831d, 0xd4ca, 0xbbfb, 0x1, 0x1);
        gbc.writeMem(0xab0a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xd76a, gbc.sp());
        EXPECT(0xab0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab0a));
        EXPECT(0x5a, gbc.readMem(0xab0b));
        // CB 5A 001A
        gbc.setState(0x43ed, 0x62ee, 0xaab0, 0x2248, 0xfc81, 0x4603, 0x1, 0x0);
        gbc.writeMem(0x43ed, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x62ee, gbc.sp());
        EXPECT(0x43ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 001B
        gbc.setState(0xe7db, 0x4f2, 0xba90, 0xbcfa, 0xea9f, 0x8cf, 0x0, 0x1);
        gbc.writeMem(0xe7db, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x4f2, gbc.sp());
        EXPECT(0xe7dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7db));
        EXPECT(0x5a, gbc.readMem(0xe7dc));
        // CB 5A 001C
        gbc.setState(0x63d5, 0x302f, 0x760, 0x28f, 0x2e0f, 0xf184, 0x0, 0x1);
        gbc.writeMem(0x63d5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x302f, gbc.sp());
        EXPECT(0x63d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 001D
        gbc.setState(0xad8e, 0xcfb7, 0x3520, 0x5b37, 0xa5b4, 0x46c6, 0x0, 0x1);
        gbc.writeMem(0xad8e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xcfb7, gbc.sp());
        EXPECT(0xad90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad8e));
        EXPECT(0x5a, gbc.readMem(0xad8f));
        // CB 5A 001E
        gbc.setState(0x3cf8, 0x1f5e, 0xbc70, 0x57d5, 0x2b23, 0x19b0, 0x0, 0x1);
        gbc.writeMem(0x3cf8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x1f5e, gbc.sp());
        EXPECT(0x3cfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 001F
        gbc.setState(0xab1c, 0x902d, 0x7a20, 0x9a23, 0x93, 0xbd00, 0x1, 0x0);
        gbc.writeMem(0xab1c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x902d, gbc.sp());
        EXPECT(0xab1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab1c));
        EXPECT(0x5a, gbc.readMem(0xab1d));
        // CB 5A 0020
        gbc.setState(0xa867, 0x8aa7, 0x6ec0, 0xa1ab, 0xd7e6, 0x320c, 0x0, 0x1);
        gbc.writeMem(0xa867, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x8aa7, gbc.sp());
        EXPECT(0xa869, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa867));
        EXPECT(0x5a, gbc.readMem(0xa868));
        // CB 5A 0021
        gbc.setState(0xe176, 0xf1c9, 0x62d0, 0x1349, 0xac22, 0x4f0, 0x1, 0x1);
        gbc.writeMem(0xe176, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xf1c9, gbc.sp());
        EXPECT(0xe178, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe176));
        EXPECT(0x5a, gbc.readMem(0xe177));
        // CB 5A 0022
        gbc.setState(0xff2, 0x8ce7, 0x7a00, 0xa1cd, 0x533e, 0xba76, 0x0, 0x1);
        gbc.writeMem(0xff2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x8ce7, gbc.sp());
        EXPECT(0xff4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0023
        gbc.setState(0xef0d, 0xc82f, 0xee80, 0x5b6f, 0x7800, 0x3a64, 0x0, 0x1);
        gbc.writeMem(0xef0d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xc82f, gbc.sp());
        EXPECT(0xef0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef0d));
        EXPECT(0x5a, gbc.readMem(0xef0e));
        // CB 5A 0024
        gbc.setState(0x19e8, 0xa2db, 0xa390, 0xf809, 0x1b79, 0xaf2c, 0x1, 0x0);
        gbc.writeMem(0x19e8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xa2db, gbc.sp());
        EXPECT(0x19ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0026
        gbc.setState(0xc0b3, 0xdd27, 0xe090, 0x2f74, 0x2bd2, 0x2646, 0x0, 0x1);
        gbc.writeMem(0xc0b3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xdd27, gbc.sp());
        EXPECT(0xc0b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0b3));
        EXPECT(0x5a, gbc.readMem(0xc0b4));
        // CB 5A 0027
        gbc.setState(0x65c7, 0x2009, 0x63a0, 0x23d2, 0xb072, 0x34c4, 0x0, 0x0);
        gbc.writeMem(0x65c7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x2009, gbc.sp());
        EXPECT(0x65c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0028
        gbc.setState(0x9c6f, 0x121d, 0xa3a0, 0xb98e, 0x77e8, 0x6116, 0x0, 0x0);
        gbc.writeMem(0x9c6f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x121d, gbc.sp());
        EXPECT(0x9c71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c6f));
        EXPECT(0x5a, gbc.readMem(0x9c70));
        // CB 5A 0029
        gbc.setState(0x5a00, 0x63a0, 0x2a10, 0x3284, 0xdd2a, 0xeab7, 0x1, 0x1);
        gbc.writeMem(0x5a00, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x63a0, gbc.sp());
        EXPECT(0x5a02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 002A
        gbc.setState(0x735f, 0xbcf5, 0x590, 0xdd60, 0x7ce0, 0x52dd, 0x0, 0x0);
        gbc.writeMem(0x735f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xbcf5, gbc.sp());
        EXPECT(0x7361, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 002B
        gbc.setState(0x8a4f, 0x4e3d, 0xac70, 0x915f, 0x6fdb, 0x6bdc, 0x0, 0x0);
        gbc.writeMem(0x8a4f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x4e3d, gbc.sp());
        EXPECT(0x8a51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a4f));
        EXPECT(0x5a, gbc.readMem(0x8a50));
        // CB 5A 002C
        gbc.setState(0x7c60, 0xdeea, 0x55c0, 0x365f, 0x9dee, 0xfe0b, 0x1, 0x1);
        gbc.writeMem(0x7c60, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xdeea, gbc.sp());
        EXPECT(0x7c62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 002D
        gbc.setState(0x5db2, 0x21b0, 0x5220, 0xa12a, 0xd151, 0x1d21, 0x1, 0x0);
        gbc.writeMem(0x5db2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x21b0, gbc.sp());
        EXPECT(0x5db4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 002E
        gbc.setState(0xe6, 0x592e, 0x6b00, 0x1ba5, 0x62bb, 0x2d38, 0x0, 0x1);
        gbc.writeMem(0xe6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x592e, gbc.sp());
        EXPECT(0xe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 002F
        gbc.setState(0x1b70, 0xef2d, 0xd9a0, 0xea22, 0xd908, 0xebfc, 0x1, 0x1);
        gbc.writeMem(0x1b70, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xef2d, gbc.sp());
        EXPECT(0x1b72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0030
        gbc.setState(0xc3cc, 0x87b9, 0x970, 0x5fc4, 0xc6cc, 0x9e43, 0x0, 0x1);
        gbc.writeMem(0xc3cc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x87b9, gbc.sp());
        EXPECT(0xc3ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3cc));
        EXPECT(0x5a, gbc.readMem(0xc3cd));
        // CB 5A 0031
        gbc.setState(0x93a5, 0xa2e5, 0x2f30, 0x5449, 0x1fa0, 0x27f5, 0x0, 0x1);
        gbc.writeMem(0x93a5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa2e5, gbc.sp());
        EXPECT(0x93a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93a5));
        EXPECT(0x5a, gbc.readMem(0x93a6));
        // CB 5A 0032
        gbc.setState(0xe629, 0xd8f1, 0x5740, 0x4136, 0xb21d, 0x15b0, 0x0, 0x0);
        gbc.writeMem(0xe629, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xd8f1, gbc.sp());
        EXPECT(0xe62b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe629));
        EXPECT(0x5a, gbc.readMem(0xe62a));
        // CB 5A 0033
        gbc.setState(0xcc, 0x68b3, 0xf550, 0xe947, 0x7d9a, 0x7787, 0x1, 0x0);
        gbc.writeMem(0xcc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x68b3, gbc.sp());
        EXPECT(0xce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0034
        gbc.setState(0x6895, 0x2141, 0x6c60, 0x5e10, 0xdc80, 0x2385, 0x1, 0x0);
        gbc.writeMem(0x6895, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x2141, gbc.sp());
        EXPECT(0x6897, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0035
        gbc.setState(0xcbf9, 0xe38e, 0x110, 0xb9bf, 0xe145, 0x2235, 0x0, 0x1);
        gbc.writeMem(0xcbf9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xe38e, gbc.sp());
        EXPECT(0xcbfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbf9));
        EXPECT(0x5a, gbc.readMem(0xcbfa));
        // CB 5A 0036
        gbc.setState(0x3bc7, 0x33c6, 0xfcd0, 0x5b49, 0x4d32, 0xcf1e, 0x1, 0x1);
        gbc.writeMem(0x3bc7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x33c6, gbc.sp());
        EXPECT(0x3bc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0037
        gbc.setState(0x2473, 0x73fa, 0xd140, 0x1d26, 0xaf4a, 0xea38, 0x0, 0x0);
        gbc.writeMem(0x2473, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x73fa, gbc.sp());
        EXPECT(0x2475, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0038
        gbc.setState(0x44aa, 0x69bf, 0xaab0, 0xafdb, 0x8a14, 0x3b77, 0x1, 0x1);
        gbc.writeMem(0x44aa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x69bf, gbc.sp());
        EXPECT(0x44ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0039
        gbc.setState(0x74ae, 0x65e8, 0xe110, 0x43e7, 0x3582, 0xa2db, 0x0, 0x0);
        gbc.writeMem(0x74ae, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x65e8, gbc.sp());
        EXPECT(0x74b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 003A
        gbc.setState(0x2e09, 0x79f6, 0xfe60, 0x1b83, 0x1374, 0x5222, 0x0, 0x0);
        gbc.writeMem(0x2e09, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x79f6, gbc.sp());
        EXPECT(0x2e0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 003B
        gbc.setState(0x8f32, 0xdc73, 0x7d60, 0x1b40, 0xddda, 0x87c1, 0x1, 0x1);
        gbc.writeMem(0x8f32, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xdc73, gbc.sp());
        EXPECT(0x8f34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f32));
        EXPECT(0x5a, gbc.readMem(0x8f33));
        // CB 5A 003C
        gbc.setState(0x991a, 0x2360, 0x4ae0, 0xeba1, 0x52a7, 0x893e, 0x1, 0x0);
        gbc.writeMem(0x991a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x2360, gbc.sp());
        EXPECT(0x991c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x991a));
        EXPECT(0x5a, gbc.readMem(0x991b));
        // CB 5A 003D
        gbc.setState(0xa3d5, 0xe1e4, 0x7810, 0x14ad, 0x38c3, 0x6bf, 0x1, 0x1);
        gbc.writeMem(0xa3d5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xe1e4, gbc.sp());
        EXPECT(0xa3d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3d5));
        EXPECT(0x5a, gbc.readMem(0xa3d6));
        // CB 5A 003E
        gbc.setState(0x64df, 0x3db9, 0x1090, 0xf70d, 0xe513, 0xb35f, 0x0, 0x1);
        gbc.writeMem(0x64df, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x3db9, gbc.sp());
        EXPECT(0x64e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 003F
        gbc.setState(0x9161, 0x88a6, 0xf370, 0xb2ca, 0xf2c0, 0xa4e6, 0x1, 0x1);
        gbc.writeMem(0x9161, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x88a6, gbc.sp());
        EXPECT(0x9163, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9161));
        EXPECT(0x5a, gbc.readMem(0x9162));
        // CB 5A 0040
        gbc.setState(0xcffb, 0xec3e, 0x85a0, 0xa5a5, 0x5b00, 0xce04, 0x1, 0x0);
        gbc.writeMem(0xcffb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xec3e, gbc.sp());
        EXPECT(0xcffd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcffb));
        EXPECT(0x5a, gbc.readMem(0xcffc));
        // CB 5A 0041
        gbc.setState(0xbacd, 0xea41, 0x7bc0, 0xd4a, 0x46e9, 0xcba7, 0x1, 0x1);
        gbc.writeMem(0xbacd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xea41, gbc.sp());
        EXPECT(0xbacf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbacd));
        EXPECT(0x5a, gbc.readMem(0xbace));
        // CB 5A 0042
        gbc.setState(0x87e0, 0xc878, 0xf370, 0xaa1d, 0x4749, 0x4a88, 0x0, 0x0);
        gbc.writeMem(0x87e0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xc878, gbc.sp());
        EXPECT(0x87e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87e0));
        EXPECT(0x5a, gbc.readMem(0x87e1));
        // CB 5A 0043
        gbc.setState(0xdcab, 0x975, 0x9710, 0x711e, 0xd2f3, 0x6c6a, 0x1, 0x1);
        gbc.writeMem(0xdcab, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x975, gbc.sp());
        EXPECT(0xdcad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcab));
        EXPECT(0x5a, gbc.readMem(0xdcac));
        // CB 5A 0044
        gbc.setState(0x7b3, 0xabb1, 0x6b80, 0xbc8b, 0x2f1a, 0xc5ba, 0x0, 0x1);
        gbc.writeMem(0x7b3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xabb1, gbc.sp());
        EXPECT(0x7b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0045
        gbc.setState(0x5bf2, 0xc6d0, 0x2b20, 0x888d, 0x21a9, 0x3d41, 0x0, 0x0);
        gbc.writeMem(0x5bf2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xc6d0, gbc.sp());
        EXPECT(0x5bf4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0046
        gbc.setState(0x99bc, 0x4bb6, 0xaa90, 0xb309, 0x15df, 0xc316, 0x1, 0x1);
        gbc.writeMem(0x99bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x4bb6, gbc.sp());
        EXPECT(0x99be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99bc));
        EXPECT(0x5a, gbc.readMem(0x99bd));
        // CB 5A 0047
        gbc.setState(0x5ea8, 0x7e84, 0xacd0, 0x45a8, 0xb55f, 0x5577, 0x0, 0x0);
        gbc.writeMem(0x5ea8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x7e84, gbc.sp());
        EXPECT(0x5eaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0048
        gbc.setState(0xd6e7, 0x2f1b, 0xc000, 0x7641, 0xca19, 0x72f7, 0x1, 0x0);
        gbc.writeMem(0xd6e7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x2f1b, gbc.sp());
        EXPECT(0xd6e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6e7));
        EXPECT(0x5a, gbc.readMem(0xd6e8));
        // CB 5A 0049
        gbc.setState(0x7d75, 0x8252, 0x2f00, 0x4f44, 0xc023, 0x276d, 0x0, 0x0);
        gbc.writeMem(0x7d75, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x8252, gbc.sp());
        EXPECT(0x7d77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 004A
        gbc.setState(0x282d, 0x1b22, 0x8b0, 0x965d, 0x198f, 0x6391, 0x1, 0x1);
        gbc.writeMem(0x282d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1b22, gbc.sp());
        EXPECT(0x282f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 004B
        gbc.setState(0xef07, 0x7496, 0x3c80, 0xbef9, 0x72ae, 0xde2d, 0x0, 0x1);
        gbc.writeMem(0xef07, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x7496, gbc.sp());
        EXPECT(0xef09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef07));
        EXPECT(0x5a, gbc.readMem(0xef08));
        // CB 5A 004C
        gbc.setState(0xd2e, 0x1dd9, 0xa600, 0xf980, 0xd685, 0x846a, 0x1, 0x0);
        gbc.writeMem(0xd2e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x1dd9, gbc.sp());
        EXPECT(0xd30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 004E
        gbc.setState(0x98e4, 0xd853, 0x77f0, 0x83d7, 0x320b, 0x7d0e, 0x1, 0x0);
        gbc.writeMem(0x98e4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xd853, gbc.sp());
        EXPECT(0x98e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98e4));
        EXPECT(0x5a, gbc.readMem(0x98e5));
        // CB 5A 004F
        gbc.setState(0xf19, 0x6852, 0x6ee0, 0xf8e1, 0x79e4, 0x50a7, 0x0, 0x1);
        gbc.writeMem(0xf19, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x6852, gbc.sp());
        EXPECT(0xf1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0050
        gbc.setState(0x9c0, 0x7df3, 0x9550, 0x9608, 0x3e75, 0x3e4f, 0x1, 0x1);
        gbc.writeMem(0x9c0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x7df3, gbc.sp());
        EXPECT(0x9c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0051
        gbc.setState(0xdb6e, 0x58c6, 0xe4d0, 0xd2e3, 0xae65, 0x6beb, 0x0, 0x1);
        gbc.writeMem(0xdb6e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x58c6, gbc.sp());
        EXPECT(0xdb70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb6e));
        EXPECT(0x5a, gbc.readMem(0xdb6f));
        // CB 5A 0052
        gbc.setState(0x650f, 0xb01, 0x1b50, 0x288f, 0x822c, 0x3fbc, 0x0, 0x0);
        gbc.writeMem(0x650f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb01, gbc.sp());
        EXPECT(0x6511, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0053
        gbc.setState(0x7333, 0xd71b, 0x4210, 0xbb5c, 0xe8b1, 0x2c2c, 0x1, 0x1);
        gbc.writeMem(0x7333, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xd71b, gbc.sp());
        EXPECT(0x7335, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0054
        gbc.setState(0x7c46, 0x4a6c, 0xc9e0, 0xb096, 0x9844, 0xf2cf, 0x0, 0x1);
        gbc.writeMem(0x7c46, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x4a6c, gbc.sp());
        EXPECT(0x7c48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0055
        gbc.setState(0xc69b, 0x19c, 0xe340, 0x6d96, 0x3fb, 0x4de0, 0x0, 0x1);
        gbc.writeMem(0xc69b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x19c, gbc.sp());
        EXPECT(0xc69d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc69b));
        EXPECT(0x5a, gbc.readMem(0xc69c));
        // CB 5A 0056
        gbc.setState(0x14bc, 0x4dec, 0xac90, 0xb70d, 0x937a, 0xe126, 0x1, 0x1);
        gbc.writeMem(0x14bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x4dec, gbc.sp());
        EXPECT(0x14be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0057
        gbc.setState(0x5b82, 0x3c9b, 0xabf0, 0x53fa, 0x4011, 0x7761, 0x0, 0x0);
        gbc.writeMem(0x5b82, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x3c9b, gbc.sp());
        EXPECT(0x5b84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0058
        gbc.setState(0x935, 0x6986, 0x44f0, 0xb7ba, 0x24b1, 0xd244, 0x1, 0x1);
        gbc.writeMem(0x935, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6986, gbc.sp());
        EXPECT(0x937, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0059
        gbc.setState(0x756e, 0x71be, 0x2ac0, 0xef1d, 0x8628, 0xe6fb, 0x1, 0x1);
        gbc.writeMem(0x756e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x71be, gbc.sp());
        EXPECT(0x7570, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 005A
        gbc.setState(0x227a, 0xede3, 0x42f0, 0x9088, 0x9591, 0x58de, 0x0, 0x1);
        gbc.writeMem(0x227a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xede3, gbc.sp());
        EXPECT(0x227c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 005B
        gbc.setState(0x5e9e, 0x925f, 0xd320, 0x91e, 0x28c4, 0xb2c4, 0x0, 0x1);
        gbc.writeMem(0x5e9e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x925f, gbc.sp());
        EXPECT(0x5ea0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 005C
        gbc.setState(0x56c5, 0x617, 0x41b0, 0xaeae, 0x2d9b, 0x6719, 0x0, 0x0);
        gbc.writeMem(0x56c5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x617, gbc.sp());
        EXPECT(0x56c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 005D
        gbc.setState(0x3327, 0x7a7d, 0x3250, 0x898f, 0x482e, 0x1971, 0x0, 0x0);
        gbc.writeMem(0x3327, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x7a7d, gbc.sp());
        EXPECT(0x3329, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 005E
        gbc.setState(0xc9da, 0x9986, 0x6c30, 0x2d08, 0x998e, 0x8c85, 0x1, 0x1);
        gbc.writeMem(0xc9da, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x9986, gbc.sp());
        EXPECT(0xc9dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9da));
        EXPECT(0x5a, gbc.readMem(0xc9db));
        // CB 5A 005F
        gbc.setState(0x815a, 0x8a0e, 0xd340, 0xb859, 0xb787, 0x2ae6, 0x1, 0x0);
        gbc.writeMem(0x815a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x8a0e, gbc.sp());
        EXPECT(0x815c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x815a));
        EXPECT(0x5a, gbc.readMem(0x815b));
        // CB 5A 0060
        gbc.setState(0xd85d, 0xcf49, 0x7680, 0xbe1b, 0xe899, 0x2741, 0x0, 0x1);
        gbc.writeMem(0xd85d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xcf49, gbc.sp());
        EXPECT(0xd85f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd85d));
        EXPECT(0x5a, gbc.readMem(0xd85e));
        // CB 5A 0061
        gbc.setState(0x5ece, 0xf79a, 0x43d0, 0x7d35, 0x97, 0x7baf, 0x0, 0x0);
        gbc.writeMem(0x5ece, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xf79a, gbc.sp());
        EXPECT(0x5ed0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0062
        gbc.setState(0x35ac, 0x6f8c, 0xa000, 0x8353, 0x95bf, 0x67ba, 0x0, 0x0);
        gbc.writeMem(0x35ac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x6f8c, gbc.sp());
        EXPECT(0x35ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0063
        gbc.setState(0x917f, 0x6020, 0x2100, 0x75f8, 0x59ad, 0x305, 0x1, 0x0);
        gbc.writeMem(0x917f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x6020, gbc.sp());
        EXPECT(0x9181, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x917f));
        EXPECT(0x5a, gbc.readMem(0x9180));
        // CB 5A 0066
        gbc.setState(0xbd21, 0xa474, 0xa820, 0xcb33, 0xc1bf, 0x2538, 0x0, 0x1);
        gbc.writeMem(0xbd21, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xa474, gbc.sp());
        EXPECT(0xbd23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd21));
        EXPECT(0x5a, gbc.readMem(0xbd22));
        // CB 5A 0067
        gbc.setState(0x1d89, 0x1d27, 0xd6a0, 0xc489, 0x59d6, 0xd92a, 0x1, 0x1);
        gbc.writeMem(0x1d89, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x1d27, gbc.sp());
        EXPECT(0x1d8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0068
        gbc.setState(0x350d, 0x3311, 0x7580, 0x48fe, 0xf481, 0x79e6, 0x0, 0x1);
        gbc.writeMem(0x350d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x3311, gbc.sp());
        EXPECT(0x350f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0069
        gbc.setState(0x6ddd, 0xb930, 0xf920, 0xef99, 0x110f, 0x5ce1, 0x0, 0x1);
        gbc.writeMem(0x6ddd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xb930, gbc.sp());
        EXPECT(0x6ddf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 006A
        gbc.setState(0x7a2d, 0x63fe, 0x3730, 0x6c67, 0x3b4d, 0x50d2, 0x0, 0x0);
        gbc.writeMem(0x7a2d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x63fe, gbc.sp());
        EXPECT(0x7a2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 006B
        gbc.setState(0xba84, 0xfb36, 0x76c0, 0x7d09, 0x2cf1, 0xf76d, 0x1, 0x0);
        gbc.writeMem(0xba84, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xfb36, gbc.sp());
        EXPECT(0xba86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba84));
        EXPECT(0x5a, gbc.readMem(0xba85));
        // CB 5A 006C
        gbc.setState(0x84bb, 0xc603, 0x4020, 0x1e47, 0xf5df, 0x9b8, 0x1, 0x0);
        gbc.writeMem(0x84bb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xc603, gbc.sp());
        EXPECT(0x84bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84bb));
        EXPECT(0x5a, gbc.readMem(0x84bc));
        // CB 5A 006D
        gbc.setState(0x16ca, 0xd840, 0xda20, 0x6960, 0x86c4, 0x7c75, 0x1, 0x0);
        gbc.writeMem(0x16ca, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xd840, gbc.sp());
        EXPECT(0x16cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 006E
        gbc.setState(0xb4b0, 0xa69a, 0x4110, 0x60b6, 0x6a39, 0x11ae, 0x1, 0x0);
        gbc.writeMem(0xb4b0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xa69a, gbc.sp());
        EXPECT(0xb4b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4b0));
        EXPECT(0x5a, gbc.readMem(0xb4b1));
        // CB 5A 006F
        gbc.setState(0x8ca3, 0xdc6a, 0xddd0, 0x1931, 0x1f66, 0xad3d, 0x0, 0x1);
        gbc.writeMem(0x8ca3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xdc6a, gbc.sp());
        EXPECT(0x8ca5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ca3));
        EXPECT(0x5a, gbc.readMem(0x8ca4));
        // CB 5A 0071
        gbc.setState(0xa577, 0xf1c4, 0x4970, 0x3f4a, 0xd986, 0xabe5, 0x1, 0x1);
        gbc.writeMem(0xa577, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xf1c4, gbc.sp());
        EXPECT(0xa579, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa577));
        EXPECT(0x5a, gbc.readMem(0xa578));
        // CB 5A 0072
        gbc.setState(0x8d8a, 0x7676, 0x92a0, 0x7299, 0x9b97, 0xb598, 0x1, 0x1);
        gbc.writeMem(0x8d8a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x7676, gbc.sp());
        EXPECT(0x8d8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d8a));
        EXPECT(0x5a, gbc.readMem(0x8d8b));
        // CB 5A 0073
        gbc.setState(0xd820, 0xecca, 0x3ea0, 0xd35, 0x14e2, 0xd0c5, 0x1, 0x0);
        gbc.writeMem(0xd820, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xecca, gbc.sp());
        EXPECT(0xd822, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd820));
        EXPECT(0x5a, gbc.readMem(0xd821));
        // CB 5A 0074
        gbc.setState(0x3b08, 0x7c83, 0x1760, 0x8c59, 0x7df, 0xf3e5, 0x0, 0x0);
        gbc.writeMem(0x3b08, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x7c83, gbc.sp());
        EXPECT(0x3b0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0075
        gbc.setState(0x26f6, 0xcafe, 0x79a0, 0x5955, 0x6d04, 0x5ded, 0x1, 0x0);
        gbc.writeMem(0x26f6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xcafe, gbc.sp());
        EXPECT(0x26f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0076
        gbc.setState(0xd34, 0x1650, 0xdd00, 0xa286, 0x817e, 0xebfc, 0x0, 0x0);
        gbc.writeMem(0xd34, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x1650, gbc.sp());
        EXPECT(0xd36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0077
        gbc.setState(0x8cbf, 0xc3ab, 0x5950, 0x8abb, 0x7c90, 0x9f89, 0x0, 0x1);
        gbc.writeMem(0x8cbf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xc3ab, gbc.sp());
        EXPECT(0x8cc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cbf));
        EXPECT(0x5a, gbc.readMem(0x8cc0));
        // CB 5A 0078
        gbc.setState(0xb737, 0xb6f4, 0x580, 0x84e4, 0xe1f8, 0x264b, 0x1, 0x1);
        gbc.writeMem(0xb737, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xb6f4, gbc.sp());
        EXPECT(0xb739, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb737));
        EXPECT(0x5a, gbc.readMem(0xb738));
        // CB 5A 0079
        gbc.setState(0x84b9, 0x5186, 0x8db0, 0x309c, 0x3c78, 0xd6c3, 0x0, 0x1);
        gbc.writeMem(0x84b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x5186, gbc.sp());
        EXPECT(0x84bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84b9));
        EXPECT(0x5a, gbc.readMem(0x84ba));
        // CB 5A 007A
        gbc.setState(0xe4, 0x1d65, 0x6dd0, 0x9a8, 0xb63b, 0xb7f7, 0x1, 0x1);
        gbc.writeMem(0xe4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x1d65, gbc.sp());
        EXPECT(0xe6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 007B
        gbc.setState(0x93c0, 0xfa29, 0xe7f0, 0xf3f0, 0xf5ed, 0x35f0, 0x1, 0x1);
        gbc.writeMem(0x93c0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xfa29, gbc.sp());
        EXPECT(0x93c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93c0));
        EXPECT(0x5a, gbc.readMem(0x93c1));
        // CB 5A 007C
        gbc.setState(0x3252, 0x6502, 0xe5a0, 0x2064, 0xd8e1, 0xccfb, 0x0, 0x0);
        gbc.writeMem(0x3252, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x6502, gbc.sp());
        EXPECT(0x3254, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 007D
        gbc.setState(0x5468, 0x2e35, 0x80f0, 0x37f0, 0x80f3, 0x2715, 0x1, 0x1);
        gbc.writeMem(0x5468, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x2e35, gbc.sp());
        EXPECT(0x546a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 007F
        gbc.setState(0xc083, 0xea70, 0x8140, 0x3964, 0xd9cf, 0x68cf, 0x0, 0x0);
        gbc.writeMem(0xc083, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xea70, gbc.sp());
        EXPECT(0xc085, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc083));
        EXPECT(0x5a, gbc.readMem(0xc084));
        // CB 5A 0080
        gbc.setState(0xc96c, 0xbaf2, 0x33f0, 0xcfee, 0xaac, 0xadbe, 0x1, 0x0);
        gbc.writeMem(0xc96c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xbaf2, gbc.sp());
        EXPECT(0xc96e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc96c));
        EXPECT(0x5a, gbc.readMem(0xc96d));
        // CB 5A 0081
        gbc.setState(0xa3ac, 0xe6cb, 0x3730, 0x3aa8, 0xabbd, 0xb840, 0x0, 0x0);
        gbc.writeMem(0xa3ac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xe6cb, gbc.sp());
        EXPECT(0xa3ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3ac));
        EXPECT(0x5a, gbc.readMem(0xa3ad));
        // CB 5A 0083
        gbc.setState(0xa0c8, 0x3eef, 0x8410, 0xda09, 0x78b5, 0xd33b, 0x1, 0x0);
        gbc.writeMem(0xa0c8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x3eef, gbc.sp());
        EXPECT(0xa0ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0c8));
        EXPECT(0x5a, gbc.readMem(0xa0c9));
        // CB 5A 0084
        gbc.setState(0x8b52, 0x6c26, 0x1a20, 0x3272, 0xd460, 0x7ec0, 0x1, 0x0);
        gbc.writeMem(0x8b52, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x6c26, gbc.sp());
        EXPECT(0x8b54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b52));
        EXPECT(0x5a, gbc.readMem(0x8b53));
        // CB 5A 0085
        gbc.setState(0x548d, 0x8c1b, 0xb790, 0x6405, 0x2ace, 0x914, 0x1, 0x0);
        gbc.writeMem(0x548d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x8c1b, gbc.sp());
        EXPECT(0x548f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0086
        gbc.setState(0x9faf, 0xb084, 0x48e0, 0x4b67, 0x4d41, 0x4a9, 0x0, 0x0);
        gbc.writeMem(0x9faf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xb084, gbc.sp());
        EXPECT(0x9fb1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9faf));
        EXPECT(0x5a, gbc.readMem(0x9fb0));
        // CB 5A 0087
        gbc.setState(0xb880, 0xb28e, 0xb4c0, 0x96b, 0x85e3, 0xbd9e, 0x0, 0x1);
        gbc.writeMem(0xb880, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb28e, gbc.sp());
        EXPECT(0xb882, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb880));
        EXPECT(0x5a, gbc.readMem(0xb881));
        // CB 5A 0088
        gbc.setState(0x3300, 0xa570, 0xbdb0, 0x5e8b, 0x6a0f, 0xd92, 0x1, 0x0);
        gbc.writeMem(0x3300, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xa570, gbc.sp());
        EXPECT(0x3302, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0089
        gbc.setState(0x41c4, 0x7d41, 0xa0a0, 0x4d6c, 0xd85a, 0x194f, 0x1, 0x0);
        gbc.writeMem(0x41c4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x7d41, gbc.sp());
        EXPECT(0x41c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 008A
        gbc.setState(0x140b, 0xaa60, 0x71c0, 0xc9a4, 0x108b, 0x255d, 0x0, 0x0);
        gbc.writeMem(0x140b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xaa60, gbc.sp());
        EXPECT(0x140d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 008B
        gbc.setState(0xc88, 0xb86f, 0x3980, 0xeb3b, 0xc21d, 0x517b, 0x1, 0x1);
        gbc.writeMem(0xc88, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb86f, gbc.sp());
        EXPECT(0xc8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 008C
        gbc.setState(0x5894, 0x73a9, 0x4530, 0xee5a, 0xa9b8, 0x439b, 0x0, 0x0);
        gbc.writeMem(0x5894, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x73a9, gbc.sp());
        EXPECT(0x5896, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 008D
        gbc.setState(0x7c99, 0xf736, 0x9bc0, 0x133c, 0xb78e, 0x8edb, 0x1, 0x1);
        gbc.writeMem(0x7c99, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xf736, gbc.sp());
        EXPECT(0x7c9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 008E
        gbc.setState(0x723d, 0x3185, 0x31e0, 0xe3e8, 0x3181, 0x1238, 0x0, 0x1);
        gbc.writeMem(0x723d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x3185, gbc.sp());
        EXPECT(0x723f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 008F
        gbc.setState(0x78e, 0xd2c3, 0xc790, 0xe2e0, 0xfac2, 0x8135, 0x1, 0x0);
        gbc.writeMem(0x78e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xd2c3, gbc.sp());
        EXPECT(0x790, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0090
        gbc.setState(0xa911, 0x1fce, 0x4d20, 0x5ea3, 0x6923, 0x85b8, 0x0, 0x0);
        gbc.writeMem(0xa911, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x1fce, gbc.sp());
        EXPECT(0xa913, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa911));
        EXPECT(0x5a, gbc.readMem(0xa912));
        // CB 5A 0091
        gbc.setState(0x10a1, 0xe266, 0x8150, 0x20a8, 0x3fa1, 0xe0af, 0x0, 0x0);
        gbc.writeMem(0x10a1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xe266, gbc.sp());
        EXPECT(0x10a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0092
        gbc.setState(0xaa07, 0x7422, 0x9260, 0xbff4, 0x76a3, 0x9f59, 0x1, 0x0);
        gbc.writeMem(0xaa07, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x7422, gbc.sp());
        EXPECT(0xaa09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa07));
        EXPECT(0x5a, gbc.readMem(0xaa08));
        // CB 5A 0093
        gbc.setState(0xcd58, 0xb3a4, 0xd1d0, 0xa8d7, 0xb66e, 0x9e3f, 0x1, 0x1);
        gbc.writeMem(0xcd58, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xb3a4, gbc.sp());
        EXPECT(0xcd5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd58));
        EXPECT(0x5a, gbc.readMem(0xcd59));
        // CB 5A 0094
        gbc.setState(0xb95f, 0x4b95, 0x3a30, 0xe83b, 0x4e20, 0xcaba, 0x0, 0x0);
        gbc.writeMem(0xb95f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x4b95, gbc.sp());
        EXPECT(0xb961, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb95f));
        EXPECT(0x5a, gbc.readMem(0xb960));
        // CB 5A 0095
        gbc.setState(0xb837, 0xbb5, 0x9d50, 0x1d8b, 0x85be, 0x8036, 0x0, 0x1);
        gbc.writeMem(0xb837, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xbb5, gbc.sp());
        EXPECT(0xb839, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb837));
        EXPECT(0x5a, gbc.readMem(0xb838));
        // CB 5A 0096
        gbc.setState(0x390f, 0x31e7, 0xa210, 0x7c7f, 0xec74, 0x7507, 0x1, 0x0);
        gbc.writeMem(0x390f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x31e7, gbc.sp());
        EXPECT(0x3911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0097
        gbc.setState(0x9ca9, 0x22a, 0x96a0, 0x752c, 0x5314, 0xdade, 0x0, 0x1);
        gbc.writeMem(0x9ca9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x22a, gbc.sp());
        EXPECT(0x9cab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ca9));
        EXPECT(0x5a, gbc.readMem(0x9caa));
        // CB 5A 0098
        gbc.setState(0x7905, 0x1419, 0x6840, 0x78a9, 0x1cfe, 0x78a9, 0x0, 0x1);
        gbc.writeMem(0x7905, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x1419, gbc.sp());
        EXPECT(0x7907, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0099
        gbc.setState(0x7808, 0x700b, 0x8590, 0x53d7, 0x5d47, 0x7499, 0x1, 0x1);
        gbc.writeMem(0x7808, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x700b, gbc.sp());
        EXPECT(0x780a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 009A
        gbc.setState(0x553, 0x3e0b, 0x1260, 0xa05b, 0xd3f5, 0x5e06, 0x1, 0x1);
        gbc.writeMem(0x553, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x3e0b, gbc.sp());
        EXPECT(0x555, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 009B
        gbc.setState(0x8644, 0x96a5, 0x4550, 0x17ff, 0x8b56, 0xd6c2, 0x0, 0x0);
        gbc.writeMem(0x8644, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x96a5, gbc.sp());
        EXPECT(0x8646, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8644));
        EXPECT(0x5a, gbc.readMem(0x8645));
        // CB 5A 009C
        gbc.setState(0x244f, 0x2c7f, 0x1f40, 0x9c47, 0xc7df, 0xbce6, 0x0, 0x0);
        gbc.writeMem(0x244f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x2c7f, gbc.sp());
        EXPECT(0x2451, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 009D
        gbc.setState(0x3f10, 0x821, 0x9650, 0xddb0, 0xe847, 0xb797, 0x0, 0x0);
        gbc.writeMem(0x3f10, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x821, gbc.sp());
        EXPECT(0x3f12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 009E
        gbc.setState(0xaa83, 0x5670, 0x63a0, 0x4249, 0xe56a, 0xcf50, 0x1, 0x0);
        gbc.writeMem(0xaa83, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x5670, gbc.sp());
        EXPECT(0xaa85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa83));
        EXPECT(0x5a, gbc.readMem(0xaa84));
        // CB 5A 009F
        gbc.setState(0xa919, 0x1fcc, 0xb430, 0x3746, 0x602d, 0xb45a, 0x1, 0x1);
        gbc.writeMem(0xa919, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x1fcc, gbc.sp());
        EXPECT(0xa91b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa919));
        EXPECT(0x5a, gbc.readMem(0xa91a));
        // CB 5A 00A0
        gbc.setState(0x37f3, 0xcfea, 0xc8b0, 0x2a8e, 0x60a0, 0x9994, 0x1, 0x1);
        gbc.writeMem(0x37f3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xcfea, gbc.sp());
        EXPECT(0x37f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00A1
        gbc.setState(0x307, 0x87c, 0x5990, 0x879a, 0x6b02, 0x43b7, 0x1, 0x0);
        gbc.writeMem(0x307, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x87c, gbc.sp());
        EXPECT(0x309, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00A2
        gbc.setState(0x7f79, 0xf51, 0xc7c0, 0xbd5b, 0x3b67, 0xa4f8, 0x0, 0x0);
        gbc.writeMem(0x7f79, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf51, gbc.sp());
        EXPECT(0x7f7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00A3
        gbc.setState(0x2e14, 0xe112, 0x6e40, 0x39ad, 0x3c0, 0xef23, 0x0, 0x1);
        gbc.writeMem(0x2e14, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xe112, gbc.sp());
        EXPECT(0x2e16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00A4
        gbc.setState(0x36bd, 0x1105, 0x9130, 0xb678, 0x66f2, 0x66b5, 0x0, 0x0);
        gbc.writeMem(0x36bd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x1105, gbc.sp());
        EXPECT(0x36bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00A5
        gbc.setState(0x92bf, 0x8ee1, 0x4bc0, 0xcd49, 0xbed7, 0xc4a4, 0x0, 0x1);
        gbc.writeMem(0x92bf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x8ee1, gbc.sp());
        EXPECT(0x92c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92bf));
        EXPECT(0x5a, gbc.readMem(0x92c0));
        // CB 5A 00A7
        gbc.setState(0xb875, 0xd4c5, 0x9410, 0x7ca, 0x5af1, 0x96e4, 0x1, 0x0);
        gbc.writeMem(0xb875, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xd4c5, gbc.sp());
        EXPECT(0xb877, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb875));
        EXPECT(0x5a, gbc.readMem(0xb876));
        // CB 5A 00A8
        gbc.setState(0x33d, 0x7073, 0xbee0, 0xa11, 0xccf1, 0xf446, 0x0, 0x1);
        gbc.writeMem(0x33d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x7073, gbc.sp());
        EXPECT(0x33f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00A9
        gbc.setState(0x26a4, 0x4033, 0xd00, 0xe1e2, 0x9450, 0x564d, 0x0, 0x1);
        gbc.writeMem(0x26a4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x4033, gbc.sp());
        EXPECT(0x26a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00AA
        gbc.setState(0xe42d, 0xd056, 0xae0, 0xdfb8, 0x7275, 0x2cf4, 0x1, 0x1);
        gbc.writeMem(0xe42d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xd056, gbc.sp());
        EXPECT(0xe42f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe42d));
        EXPECT(0x5a, gbc.readMem(0xe42e));
        // CB 5A 00AB
        gbc.setState(0xd599, 0x857d, 0x6b00, 0xad67, 0x6047, 0x30db, 0x1, 0x1);
        gbc.writeMem(0xd599, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x857d, gbc.sp());
        EXPECT(0xd59b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd599));
        EXPECT(0x5a, gbc.readMem(0xd59a));
        // CB 5A 00AC
        gbc.setState(0xe90c, 0x9b80, 0xc160, 0xb778, 0x200c, 0xccd0, 0x1, 0x0);
        gbc.writeMem(0xe90c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x9b80, gbc.sp());
        EXPECT(0xe90e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe90c));
        EXPECT(0x5a, gbc.readMem(0xe90d));
        // CB 5A 00AD
        gbc.setState(0xd346, 0x73d2, 0xc530, 0x7dee, 0xa43a, 0xaa77, 0x1, 0x0);
        gbc.writeMem(0xd346, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x73d2, gbc.sp());
        EXPECT(0xd348, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd346));
        EXPECT(0x5a, gbc.readMem(0xd347));
        // CB 5A 00AE
        gbc.setState(0xc42c, 0x925a, 0x1be0, 0xba4f, 0xa6fd, 0x5e57, 0x1, 0x1);
        gbc.writeMem(0xc42c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x925a, gbc.sp());
        EXPECT(0xc42e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc42c));
        EXPECT(0x5a, gbc.readMem(0xc42d));
        // CB 5A 00AF
        gbc.setState(0x7bdc, 0xe576, 0x38a0, 0xc9d, 0xfa07, 0x79b2, 0x0, 0x0);
        gbc.writeMem(0x7bdc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xe576, gbc.sp());
        EXPECT(0x7bde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00B0
        gbc.setState(0x7de, 0x95e9, 0x11b0, 0xfcbc, 0x875d, 0xe11a, 0x0, 0x1);
        gbc.writeMem(0x7de, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x95e9, gbc.sp());
        EXPECT(0x7e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00B1
        gbc.setState(0x688b, 0x9186, 0x77e0, 0xe171, 0x19ef, 0x8fc9, 0x1, 0x1);
        gbc.writeMem(0x688b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x9186, gbc.sp());
        EXPECT(0x688d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00B2
        gbc.setState(0xbe85, 0x7be2, 0xa270, 0x43fc, 0xe5b6, 0xfcf5, 0x1, 0x0);
        gbc.writeMem(0xbe85, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x7be2, gbc.sp());
        EXPECT(0xbe87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe85));
        EXPECT(0x5a, gbc.readMem(0xbe86));
        // CB 5A 00B3
        gbc.setState(0xbb18, 0xa264, 0xa480, 0xa265, 0x9d66, 0xa0ec, 0x1, 0x1);
        gbc.writeMem(0xbb18, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xa264, gbc.sp());
        EXPECT(0xbb1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb18));
        EXPECT(0x5a, gbc.readMem(0xbb19));
        // CB 5A 00B4
        gbc.setState(0x130e, 0xa081, 0xc2a0, 0x4104, 0xa51d, 0x52dd, 0x1, 0x1);
        gbc.writeMem(0x130e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xa081, gbc.sp());
        EXPECT(0x1310, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00B5
        gbc.setState(0xcfec, 0xcc28, 0x4cb0, 0xc831, 0xa982, 0x3232, 0x1, 0x0);
        gbc.writeMem(0xcfec, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xcc28, gbc.sp());
        EXPECT(0xcfee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfec));
        EXPECT(0x5a, gbc.readMem(0xcfed));
        // CB 5A 00B6
        gbc.setState(0x520d, 0x45e5, 0x2500, 0xbc73, 0xfe89, 0x5969, 0x1, 0x1);
        gbc.writeMem(0x520d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x45e5, gbc.sp());
        EXPECT(0x520f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00B7
        gbc.setState(0x774a, 0xa4fc, 0xa2d0, 0xbb20, 0x1c0e, 0x2e0b, 0x0, 0x0);
        gbc.writeMem(0x774a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xa4fc, gbc.sp());
        EXPECT(0x774c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00B8
        gbc.setState(0x82b6, 0x4768, 0xe260, 0x195e, 0x870d, 0x92e8, 0x1, 0x1);
        gbc.writeMem(0x82b6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x4768, gbc.sp());
        EXPECT(0x82b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82b6));
        EXPECT(0x5a, gbc.readMem(0x82b7));
        // CB 5A 00B9
        gbc.setState(0xe0b1, 0xd0c1, 0x5350, 0x7c88, 0x616, 0xffb9, 0x1, 0x0);
        gbc.writeMem(0xe0b1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xd0c1, gbc.sp());
        EXPECT(0xe0b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0b1));
        EXPECT(0x5a, gbc.readMem(0xe0b2));
        // CB 5A 00BA
        gbc.setState(0xe1c1, 0x2527, 0x1bd0, 0xc80a, 0x1d26, 0x8fab, 0x0, 0x0);
        gbc.writeMem(0xe1c1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x2527, gbc.sp());
        EXPECT(0xe1c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1c1));
        EXPECT(0x5a, gbc.readMem(0xe1c2));
        // CB 5A 00BB
        gbc.setState(0x9b6a, 0xf44a, 0x9a00, 0x8152, 0x442d, 0xdae1, 0x1, 0x0);
        gbc.writeMem(0x9b6a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xf44a, gbc.sp());
        EXPECT(0x9b6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b6a));
        EXPECT(0x5a, gbc.readMem(0x9b6b));
        // CB 5A 00BC
        gbc.setState(0xca8f, 0x5bb8, 0x42e0, 0xaa36, 0xe983, 0x2aa9, 0x1, 0x1);
        gbc.writeMem(0xca8f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x5bb8, gbc.sp());
        EXPECT(0xca91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca8f));
        EXPECT(0x5a, gbc.readMem(0xca90));
        // CB 5A 00BD
        gbc.setState(0x1c8a, 0x363c, 0x1a40, 0x9456, 0x5ec1, 0x9b89, 0x1, 0x1);
        gbc.writeMem(0x1c8a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x363c, gbc.sp());
        EXPECT(0x1c8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00BE
        gbc.setState(0xbd25, 0x38ea, 0xe2f0, 0xe397, 0x3459, 0x82ce, 0x1, 0x1);
        gbc.writeMem(0xbd25, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x38ea, gbc.sp());
        EXPECT(0xbd27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd25));
        EXPECT(0x5a, gbc.readMem(0xbd26));
        // CB 5A 00BF
        gbc.setState(0x4290, 0xe49e, 0xf230, 0xcd2a, 0xbd15, 0x6441, 0x1, 0x0);
        gbc.writeMem(0x4290, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xe49e, gbc.sp());
        EXPECT(0x4292, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00C0
        gbc.setState(0xb031, 0x665d, 0x82d0, 0x2f02, 0xddc5, 0x917b, 0x0, 0x0);
        gbc.writeMem(0xb031, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x665d, gbc.sp());
        EXPECT(0xb033, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb031));
        EXPECT(0x5a, gbc.readMem(0xb032));
        // CB 5A 00C1
        gbc.setState(0xbdb5, 0x612b, 0x2bd0, 0xfea0, 0xc322, 0x64cd, 0x1, 0x0);
        gbc.writeMem(0xbdb5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x612b, gbc.sp());
        EXPECT(0xbdb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdb5));
        EXPECT(0x5a, gbc.readMem(0xbdb6));
        // CB 5A 00C2
        gbc.setState(0x8281, 0x499d, 0xfa60, 0x8715, 0xba0d, 0x8c1b, 0x1, 0x1);
        gbc.writeMem(0x8281, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x499d, gbc.sp());
        EXPECT(0x8283, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8281));
        EXPECT(0x5a, gbc.readMem(0x8282));
        // CB 5A 00C3
        gbc.setState(0x1328, 0x2cc0, 0x8a80, 0xec35, 0xab60, 0xfbc0, 0x0, 0x0);
        gbc.writeMem(0x1328, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x2cc0, gbc.sp());
        EXPECT(0x132a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00C4
        gbc.setState(0x3081, 0x2d77, 0xcbd0, 0x77bd, 0x52e5, 0xe27a, 0x1, 0x0);
        gbc.writeMem(0x3081, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x2d77, gbc.sp());
        EXPECT(0x3083, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00C5
        gbc.setState(0x6f27, 0x42f5, 0xc380, 0xdbf, 0xaf67, 0x346f, 0x1, 0x0);
        gbc.writeMem(0x6f27, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x42f5, gbc.sp());
        EXPECT(0x6f29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00C6
        gbc.setState(0xb4b3, 0x2217, 0x9640, 0x1eae, 0x8291, 0x842f, 0x0, 0x1);
        gbc.writeMem(0xb4b3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x2217, gbc.sp());
        EXPECT(0xb4b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4b3));
        EXPECT(0x5a, gbc.readMem(0xb4b4));
        // CB 5A 00C7
        gbc.setState(0x5944, 0xf0be, 0x9900, 0x6481, 0xdccc, 0x262a, 0x1, 0x0);
        gbc.writeMem(0x5944, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xf0be, gbc.sp());
        EXPECT(0x5946, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00C8
        gbc.setState(0x7808, 0x4f6e, 0xfdd0, 0xfea, 0xf4e3, 0x9666, 0x1, 0x0);
        gbc.writeMem(0x7808, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x4f6e, gbc.sp());
        EXPECT(0x780a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00C9
        gbc.setState(0x371b, 0x3554, 0x3cc0, 0xa1cb, 0x2e03, 0x8bed, 0x1, 0x1);
        gbc.writeMem(0x371b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x3554, gbc.sp());
        EXPECT(0x371d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00CA
        gbc.setState(0xa03f, 0xeb3c, 0x4b40, 0x9cf8, 0x1416, 0xab32, 0x0, 0x0);
        gbc.writeMem(0xa03f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xeb3c, gbc.sp());
        EXPECT(0xa041, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa03f));
        EXPECT(0x5a, gbc.readMem(0xa040));
        // CB 5A 00CB
        gbc.setState(0x7db4, 0x4e04, 0x3b70, 0x9b2c, 0xd185, 0xa717, 0x1, 0x1);
        gbc.writeMem(0x7db4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x4e04, gbc.sp());
        EXPECT(0x7db6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00CC
        gbc.setState(0xb8dc, 0x77de, 0x2700, 0xa21c, 0xcb3a, 0x33f3, 0x1, 0x1);
        gbc.writeMem(0xb8dc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x77de, gbc.sp());
        EXPECT(0xb8de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8dc));
        EXPECT(0x5a, gbc.readMem(0xb8dd));
        // CB 5A 00CD
        gbc.setState(0x1163, 0x3466, 0xef50, 0x28c8, 0x92c6, 0x193, 0x1, 0x1);
        gbc.writeMem(0x1163, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x3466, gbc.sp());
        EXPECT(0x1165, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00CE
        gbc.setState(0xbd79, 0xa19d, 0xd630, 0x6b9c, 0x38f6, 0x6f62, 0x1, 0x0);
        gbc.writeMem(0xbd79, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xa19d, gbc.sp());
        EXPECT(0xbd7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd79));
        EXPECT(0x5a, gbc.readMem(0xbd7a));
        // CB 5A 00CF
        gbc.setState(0x57c3, 0xc4ab, 0xb9f0, 0x500b, 0xfc44, 0x50a2, 0x1, 0x0);
        gbc.writeMem(0x57c3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xc4ab, gbc.sp());
        EXPECT(0x57c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D0
        gbc.setState(0x6d37, 0xfa40, 0xaa50, 0x27ae, 0xa86b, 0xeb73, 0x0, 0x0);
        gbc.writeMem(0x6d37, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xfa40, gbc.sp());
        EXPECT(0x6d39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D1
        gbc.setState(0xe97d, 0xd860, 0x5970, 0xccba, 0xf95d, 0xa8b2, 0x1, 0x0);
        gbc.writeMem(0xe97d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xd860, gbc.sp());
        EXPECT(0xe97f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe97d));
        EXPECT(0x5a, gbc.readMem(0xe97e));
        // CB 5A 00D2
        gbc.setState(0x156d, 0x1264, 0xff50, 0x1fe9, 0xf62, 0xa643, 0x1, 0x0);
        gbc.writeMem(0x156d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x1264, gbc.sp());
        EXPECT(0x156f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D3
        gbc.setState(0x4eb6, 0x5b1a, 0x870, 0x4451, 0x60c4, 0x46b6, 0x0, 0x1);
        gbc.writeMem(0x4eb6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x5b1a, gbc.sp());
        EXPECT(0x4eb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D4
        gbc.setState(0x4d9b, 0x62d1, 0x7690, 0xeb1b, 0x18f5, 0xe5fc, 0x1, 0x0);
        gbc.writeMem(0x4d9b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x62d1, gbc.sp());
        EXPECT(0x4d9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D6
        gbc.setState(0xaaf0, 0x510, 0x7750, 0xec19, 0xca, 0x2dbd, 0x0, 0x1);
        gbc.writeMem(0xaaf0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x510, gbc.sp());
        EXPECT(0xaaf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaf0));
        EXPECT(0x5a, gbc.readMem(0xaaf1));
        // CB 5A 00D7
        gbc.setState(0x65f6, 0xffa2, 0x37f0, 0xd040, 0xec16, 0xefc7, 0x0, 0x0);
        gbc.writeMem(0x65f6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xffa2, gbc.sp());
        EXPECT(0x65f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D8
        gbc.setState(0x3c25, 0x396a, 0x42d0, 0x6cb2, 0xe271, 0xd1d5, 0x1, 0x1);
        gbc.writeMem(0x3c25, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x396a, gbc.sp());
        EXPECT(0x3c27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00D9
        gbc.setState(0x1b28, 0x535, 0x1110, 0x7d00, 0x3ff2, 0x3ee8, 0x0, 0x0);
        gbc.writeMem(0x1b28, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x535, gbc.sp());
        EXPECT(0x1b2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00DA
        gbc.setState(0x4f1b, 0x150b, 0xa9c0, 0xe798, 0x76a8, 0xe5d0, 0x0, 0x1);
        gbc.writeMem(0x4f1b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x150b, gbc.sp());
        EXPECT(0x4f1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00DB
        gbc.setState(0xac4e, 0x373e, 0xdd20, 0x8544, 0x85bc, 0x552a, 0x1, 0x0);
        gbc.writeMem(0xac4e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x373e, gbc.sp());
        EXPECT(0xac50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac4e));
        EXPECT(0x5a, gbc.readMem(0xac4f));
        // CB 5A 00DC
        gbc.setState(0x4419, 0xb858, 0x490, 0xd2d6, 0xeb70, 0x85a7, 0x0, 0x1);
        gbc.writeMem(0x4419, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xb858, gbc.sp());
        EXPECT(0x441b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00DD
        gbc.setState(0x2dda, 0xfc90, 0x1660, 0x7bef, 0x55f7, 0x31d0, 0x1, 0x0);
        gbc.writeMem(0x2dda, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xfc90, gbc.sp());
        EXPECT(0x2ddc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00DE
        gbc.setState(0xa1f3, 0x7ebc, 0xb370, 0xc3, 0x4dc1, 0xad25, 0x1, 0x0);
        gbc.writeMem(0xa1f3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x7ebc, gbc.sp());
        EXPECT(0xa1f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1f3));
        EXPECT(0x5a, gbc.readMem(0xa1f4));
        // CB 5A 00DF
        gbc.setState(0xa0a0, 0xc57d, 0xfc40, 0xf740, 0xdfe9, 0xa546, 0x0, 0x0);
        gbc.writeMem(0xa0a0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc57d, gbc.sp());
        EXPECT(0xa0a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0a0));
        EXPECT(0x5a, gbc.readMem(0xa0a1));
        // CB 5A 00E0
        gbc.setState(0xcd1d, 0xe899, 0xb930, 0x4810, 0xfae0, 0xa625, 0x0, 0x1);
        gbc.writeMem(0xcd1d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xe899, gbc.sp());
        EXPECT(0xcd1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd1d));
        EXPECT(0x5a, gbc.readMem(0xcd1e));
        // CB 5A 00E1
        gbc.setState(0x7586, 0x6e6e, 0x6d80, 0xcb76, 0x52e8, 0x5f03, 0x1, 0x0);
        gbc.writeMem(0x7586, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x6e6e, gbc.sp());
        EXPECT(0x7588, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00E2
        gbc.setState(0x3310, 0x25cf, 0xca90, 0xfa89, 0xe63, 0x3ab1, 0x0, 0x1);
        gbc.writeMem(0x3310, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x25cf, gbc.sp());
        EXPECT(0x3312, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00E3
        gbc.setState(0x8824, 0xd3c1, 0xe250, 0x5fa6, 0x6c4, 0x8e32, 0x1, 0x0);
        gbc.writeMem(0x8824, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd3c1, gbc.sp());
        EXPECT(0x8826, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8824));
        EXPECT(0x5a, gbc.readMem(0x8825));
        // CB 5A 00E4
        gbc.setState(0x9623, 0x9026, 0x39c0, 0x83f9, 0x6b01, 0x93be, 0x1, 0x1);
        gbc.writeMem(0x9623, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x9026, gbc.sp());
        EXPECT(0x9625, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9623));
        EXPECT(0x5a, gbc.readMem(0x9624));
        // CB 5A 00E5
        gbc.setState(0x687a, 0x8861, 0x3400, 0x4d6a, 0x34f8, 0x4bcd, 0x1, 0x0);
        gbc.writeMem(0x687a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x8861, gbc.sp());
        EXPECT(0x687c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00E6
        gbc.setState(0x2cb6, 0x203f, 0x26b0, 0x2c96, 0x4c07, 0xb399, 0x0, 0x0);
        gbc.writeMem(0x2cb6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x203f, gbc.sp());
        EXPECT(0x2cb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00E7
        gbc.setState(0x9b79, 0x94ae, 0x8ab0, 0xd59d, 0x53ce, 0xc67f, 0x1, 0x0);
        gbc.writeMem(0x9b79, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x94ae, gbc.sp());
        EXPECT(0x9b7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b79));
        EXPECT(0x5a, gbc.readMem(0x9b7a));
        // CB 5A 00E8
        gbc.setState(0xb5be, 0xed1, 0x9dd0, 0xf8f3, 0xde0e, 0x2414, 0x0, 0x0);
        gbc.writeMem(0xb5be, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xed1, gbc.sp());
        EXPECT(0xb5c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5be));
        EXPECT(0x5a, gbc.readMem(0xb5bf));
        // CB 5A 00E9
        gbc.setState(0x3321, 0x1303, 0xba30, 0xde61, 0x26f8, 0x2285, 0x1, 0x0);
        gbc.writeMem(0x3321, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x1303, gbc.sp());
        EXPECT(0x3323, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00EA
        gbc.setState(0xda00, 0x5937, 0x1df0, 0xa422, 0xa785, 0xbdeb, 0x1, 0x1);
        gbc.writeMem(0xda00, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x5937, gbc.sp());
        EXPECT(0xda02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda00));
        EXPECT(0x5a, gbc.readMem(0xda01));
        // CB 5A 00EB
        gbc.setState(0xc522, 0xb70e, 0xd620, 0x6da9, 0x9349, 0x489b, 0x1, 0x1);
        gbc.writeMem(0xc522, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb70e, gbc.sp());
        EXPECT(0xc524, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc522));
        EXPECT(0x5a, gbc.readMem(0xc523));
        // CB 5A 00EC
        gbc.setState(0x80d3, 0xf89e, 0x8990, 0x3208, 0x3b32, 0x3d44, 0x1, 0x0);
        gbc.writeMem(0x80d3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf89e, gbc.sp());
        EXPECT(0x80d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80d3));
        EXPECT(0x5a, gbc.readMem(0x80d4));
        // CB 5A 00ED
        gbc.setState(0xbaa9, 0xce3c, 0x8040, 0x8f76, 0x299b, 0x1f7a, 0x1, 0x0);
        gbc.writeMem(0xbaa9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xce3c, gbc.sp());
        EXPECT(0xbaab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbaa9));
        EXPECT(0x5a, gbc.readMem(0xbaaa));
        // CB 5A 00EE
        gbc.setState(0xdb68, 0x9099, 0xce20, 0x7eaa, 0xf115, 0xc6cb, 0x1, 0x1);
        gbc.writeMem(0xdb68, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x9099, gbc.sp());
        EXPECT(0xdb6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb68));
        EXPECT(0x5a, gbc.readMem(0xdb69));
        // CB 5A 00EF
        gbc.setState(0x36b6, 0x33a7, 0x5440, 0x832f, 0x11cc, 0x9b54, 0x1, 0x1);
        gbc.writeMem(0x36b6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x33a7, gbc.sp());
        EXPECT(0x36b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00F0
        gbc.setState(0xbb77, 0xbd9a, 0xe260, 0x164, 0x1190, 0x4e58, 0x0, 0x1);
        gbc.writeMem(0xbb77, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xbd9a, gbc.sp());
        EXPECT(0xbb79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb77));
        EXPECT(0x5a, gbc.readMem(0xbb78));
        // CB 5A 00F1
        gbc.setState(0x6903, 0xd413, 0xfa10, 0xf092, 0xdddc, 0x22d5, 0x1, 0x0);
        gbc.writeMem(0x6903, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xd413, gbc.sp());
        EXPECT(0x6905, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00F2
        gbc.setState(0xd18b, 0x8675, 0x2a00, 0x2e90, 0x8452, 0x15eb, 0x0, 0x0);
        gbc.writeMem(0xd18b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x8675, gbc.sp());
        EXPECT(0xd18d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd18b));
        EXPECT(0x5a, gbc.readMem(0xd18c));
        // CB 5A 00F3
        gbc.setState(0x5750, 0x4311, 0x10, 0xe2ad, 0x48a1, 0x3cab, 0x1, 0x0);
        gbc.writeMem(0x5750, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x4311, gbc.sp());
        EXPECT(0x5752, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00F4
        gbc.setState(0xcf97, 0x42, 0x7940, 0xfec5, 0xa363, 0x293a, 0x0, 0x1);
        gbc.writeMem(0xcf97, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x42, gbc.sp());
        EXPECT(0xcf99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf97));
        EXPECT(0x5a, gbc.readMem(0xcf98));
        // CB 5A 00F5
        gbc.setState(0xd4b9, 0x415f, 0x9820, 0xda08, 0xb0ad, 0x552b, 0x0, 0x0);
        gbc.writeMem(0xd4b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x415f, gbc.sp());
        EXPECT(0xd4bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4b9));
        EXPECT(0x5a, gbc.readMem(0xd4ba));
        // CB 5A 00F6
        gbc.setState(0x49b4, 0x3e8, 0x4a70, 0x9dfe, 0x1f15, 0xcdd5, 0x0, 0x0);
        gbc.writeMem(0x49b4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x3e8, gbc.sp());
        EXPECT(0x49b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00F7
        gbc.setState(0x4228, 0xcb2a, 0x74c0, 0xc868, 0x474d, 0xfe14, 0x0, 0x1);
        gbc.writeMem(0x4228, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xcb2a, gbc.sp());
        EXPECT(0x422a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 00F8
        gbc.setState(0x223e, 0xe012, 0xcf50, 0x37e5, 0x70a2, 0x31cb, 0x1, 0x0);
        gbc.writeMem(0x223e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xe012, gbc.sp());
        EXPECT(0x2240, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00F9
        gbc.setState(0x4a3d, 0xe850, 0x16f0, 0xa36e, 0xe1cd, 0x141, 0x0, 0x0);
        gbc.writeMem(0x4a3d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xe850, gbc.sp());
        EXPECT(0x4a3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00FA
        gbc.setState(0xbe60, 0xf60c, 0xab70, 0xbb27, 0x4508, 0x7f59, 0x1, 0x0);
        gbc.writeMem(0xbe60, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xf60c, gbc.sp());
        EXPECT(0xbe62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe60));
        EXPECT(0x5a, gbc.readMem(0xbe61));
        // CB 5A 00FC
        gbc.setState(0xbba7, 0xbecb, 0x6e50, 0x5050, 0x8cca, 0x7fe2, 0x0, 0x0);
        gbc.writeMem(0xbba7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xbecb, gbc.sp());
        EXPECT(0xbba9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbba7));
        EXPECT(0x5a, gbc.readMem(0xbba8));
        // CB 5A 00FD
        gbc.setState(0x6751, 0xa266, 0x93f0, 0x3816, 0xd745, 0x5f49, 0x0, 0x1);
        gbc.writeMem(0x6751, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xa266, gbc.sp());
        EXPECT(0x6753, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00FE
        gbc.setState(0x4e03, 0x2598, 0xb3d0, 0x2d52, 0x37f6, 0x2767, 0x1, 0x0);
        gbc.writeMem(0x4e03, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x2598, gbc.sp());
        EXPECT(0x4e05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 00FF
        gbc.setState(0x2654, 0x363e, 0x8040, 0x8ecf, 0xe38, 0x245, 0x1, 0x0);
        gbc.writeMem(0x2654, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x363e, gbc.sp());
        EXPECT(0x2656, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0100
        gbc.setState(0x9544, 0x2d6b, 0x45d0, 0x7e2a, 0xc519, 0x76a2, 0x1, 0x1);
        gbc.writeMem(0x9544, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x2d6b, gbc.sp());
        EXPECT(0x9546, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9544));
        EXPECT(0x5a, gbc.readMem(0x9545));
        // CB 5A 0101
        gbc.setState(0xb955, 0x157f, 0x9730, 0x124, 0x9274, 0xa439, 0x1, 0x0);
        gbc.writeMem(0xb955, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x157f, gbc.sp());
        EXPECT(0xb957, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb955));
        EXPECT(0x5a, gbc.readMem(0xb956));
        // CB 5A 0102
        gbc.setState(0x9b80, 0x1701, 0x6f70, 0xb118, 0xfcc3, 0xb30, 0x1, 0x1);
        gbc.writeMem(0x9b80, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x1701, gbc.sp());
        EXPECT(0x9b82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b80));
        EXPECT(0x5a, gbc.readMem(0x9b81));
        // CB 5A 0103
        gbc.setState(0x4488, 0x51fe, 0xe0, 0xf7a4, 0x4d16, 0x6743, 0x0, 0x0);
        gbc.writeMem(0x4488, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x51fe, gbc.sp());
        EXPECT(0x448a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0104
        gbc.setState(0x69b9, 0x267b, 0x4060, 0xe862, 0x15fe, 0x2ce, 0x1, 0x1);
        gbc.writeMem(0x69b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x267b, gbc.sp());
        EXPECT(0x69bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0105
        gbc.setState(0xba41, 0xe6eb, 0x9460, 0x629c, 0xc363, 0xdc48, 0x1, 0x0);
        gbc.writeMem(0xba41, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xe6eb, gbc.sp());
        EXPECT(0xba43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba41));
        EXPECT(0x5a, gbc.readMem(0xba42));
        // CB 5A 0106
        gbc.setState(0x7ef9, 0xa28, 0x6370, 0xb1d8, 0x916a, 0xc146, 0x0, 0x0);
        gbc.writeMem(0x7ef9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa28, gbc.sp());
        EXPECT(0x7efb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0107
        gbc.setState(0x3f08, 0xc585, 0x1390, 0x4dd4, 0x266b, 0x4ede, 0x1, 0x0);
        gbc.writeMem(0x3f08, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xc585, gbc.sp());
        EXPECT(0x3f0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0108
        gbc.setState(0xbc71, 0xbb53, 0x5870, 0x4915, 0xa86b, 0xe064, 0x0, 0x0);
        gbc.writeMem(0xbc71, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbb53, gbc.sp());
        EXPECT(0xbc73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc71));
        EXPECT(0x5a, gbc.readMem(0xbc72));
        // CB 5A 0109
        gbc.setState(0x7123, 0x120, 0xa30, 0x3305, 0xd06d, 0x5353, 0x0, 0x1);
        gbc.writeMem(0x7123, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x120, gbc.sp());
        EXPECT(0x7125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 010A
        gbc.setState(0x9c4f, 0x5861, 0xb910, 0xbc27, 0xef96, 0x510f, 0x1, 0x1);
        gbc.writeMem(0x9c4f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x5861, gbc.sp());
        EXPECT(0x9c51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c4f));
        EXPECT(0x5a, gbc.readMem(0x9c50));
        // CB 5A 010B
        gbc.setState(0x8cac, 0xfbd7, 0x9410, 0xb5a5, 0xbb91, 0xdd4c, 0x1, 0x0);
        gbc.writeMem(0x8cac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xfbd7, gbc.sp());
        EXPECT(0x8cae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cac));
        EXPECT(0x5a, gbc.readMem(0x8cad));
        // CB 5A 010C
        gbc.setState(0x2a29, 0x8335, 0x7eb0, 0xef42, 0x23ee, 0xb008, 0x0, 0x1);
        gbc.writeMem(0x2a29, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x8335, gbc.sp());
        EXPECT(0x2a2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 010D
        gbc.setState(0x5bc4, 0xeda6, 0xffd0, 0x558, 0xa153, 0x87a9, 0x0, 0x1);
        gbc.writeMem(0x5bc4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xeda6, gbc.sp());
        EXPECT(0x5bc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 010E
        gbc.setState(0xb9a1, 0xcdae, 0x1d70, 0x29f1, 0x145b, 0xbeca, 0x0, 0x0);
        gbc.writeMem(0xb9a1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xcdae, gbc.sp());
        EXPECT(0xb9a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9a1));
        EXPECT(0x5a, gbc.readMem(0xb9a2));
        // CB 5A 010F
        gbc.setState(0xce24, 0x3a71, 0x3650, 0x6096, 0x5f0e, 0x7d93, 0x1, 0x0);
        gbc.writeMem(0xce24, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x3a71, gbc.sp());
        EXPECT(0xce26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce24));
        EXPECT(0x5a, gbc.readMem(0xce25));
        // CB 5A 0110
        gbc.setState(0xb984, 0xec5f, 0xc0f0, 0x38cd, 0x960e, 0x1f21, 0x0, 0x1);
        gbc.writeMem(0xb984, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xec5f, gbc.sp());
        EXPECT(0xb986, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb984));
        EXPECT(0x5a, gbc.readMem(0xb985));
        // CB 5A 0111
        gbc.setState(0xc5d5, 0x6cd7, 0xfe10, 0x775c, 0xb0be, 0x5654, 0x1, 0x1);
        gbc.writeMem(0xc5d5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x6cd7, gbc.sp());
        EXPECT(0xc5d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5d5));
        EXPECT(0x5a, gbc.readMem(0xc5d6));
        // CB 5A 0112
        gbc.setState(0xc28, 0xf011, 0x23f0, 0x346e, 0x4ed9, 0x3796, 0x1, 0x0);
        gbc.writeMem(0xc28, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xf011, gbc.sp());
        EXPECT(0xc2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0113
        gbc.setState(0xd2c3, 0x9305, 0xe890, 0x1eea, 0xa9e6, 0xe402, 0x1, 0x1);
        gbc.writeMem(0xd2c3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x9305, gbc.sp());
        EXPECT(0xd2c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2c3));
        EXPECT(0x5a, gbc.readMem(0xd2c4));
        // CB 5A 0114
        gbc.setState(0xc25d, 0x937d, 0xf840, 0x63c2, 0x4b3, 0xf6cd, 0x1, 0x0);
        gbc.writeMem(0xc25d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x937d, gbc.sp());
        EXPECT(0xc25f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc25d));
        EXPECT(0x5a, gbc.readMem(0xc25e));
        // CB 5A 0115
        gbc.setState(0x92c7, 0x70cc, 0x6670, 0x5c8a, 0xa0c5, 0xed93, 0x0, 0x1);
        gbc.writeMem(0x92c7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x70cc, gbc.sp());
        EXPECT(0x92c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92c7));
        EXPECT(0x5a, gbc.readMem(0x92c8));
        // CB 5A 0116
        gbc.setState(0x16cf, 0x4163, 0x27a0, 0x68b6, 0x4dc3, 0x6a06, 0x0, 0x0);
        gbc.writeMem(0x16cf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x4163, gbc.sp());
        EXPECT(0x16d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0117
        gbc.setState(0x2f9d, 0x6a3, 0x7c0, 0x2b86, 0xb417, 0x5cde, 0x0, 0x1);
        gbc.writeMem(0x2f9d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x6a3, gbc.sp());
        EXPECT(0x2f9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0118
        gbc.setState(0x4f00, 0x8a1a, 0x1e80, 0x57c, 0x9c44, 0x259b, 0x1, 0x1);
        gbc.writeMem(0x4f00, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x8a1a, gbc.sp());
        EXPECT(0x4f02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0119
        gbc.setState(0xe6e7, 0xc2d8, 0x9000, 0x8087, 0x805d, 0x2865, 0x0, 0x0);
        gbc.writeMem(0xe6e7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xc2d8, gbc.sp());
        EXPECT(0xe6e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6e7));
        EXPECT(0x5a, gbc.readMem(0xe6e8));
        // CB 5A 011B
        gbc.setState(0x706a, 0xac36, 0x46f0, 0xc783, 0xbbaf, 0x26b9, 0x1, 0x0);
        gbc.writeMem(0x706a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xac36, gbc.sp());
        EXPECT(0x706c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 011C
        gbc.setState(0x8bb8, 0x8879, 0x84f0, 0x47fa, 0xf418, 0x376a, 0x1, 0x1);
        gbc.writeMem(0x8bb8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x8879, gbc.sp());
        EXPECT(0x8bba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bb8));
        EXPECT(0x5a, gbc.readMem(0x8bb9));
        // CB 5A 011D
        gbc.setState(0xc15f, 0x7036, 0xc40, 0xfa61, 0x60b2, 0x3ca8, 0x1, 0x1);
        gbc.writeMem(0xc15f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x7036, gbc.sp());
        EXPECT(0xc161, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc15f));
        EXPECT(0x5a, gbc.readMem(0xc160));
        // CB 5A 011E
        gbc.setState(0x453f, 0x65fe, 0x25f0, 0x4de7, 0x1073, 0xa149, 0x0, 0x1);
        gbc.writeMem(0x453f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x65fe, gbc.sp());
        EXPECT(0x4541, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 011F
        gbc.setState(0x288d, 0x5310, 0x2b0, 0xfbd6, 0x447a, 0xbcb1, 0x0, 0x0);
        gbc.writeMem(0x288d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x5310, gbc.sp());
        EXPECT(0x288f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0120
        gbc.setState(0xbdbf, 0x14fe, 0x1d0, 0x83bc, 0xc900, 0x56, 0x0, 0x1);
        gbc.writeMem(0xbdbf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x14fe, gbc.sp());
        EXPECT(0xbdc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdbf));
        EXPECT(0x5a, gbc.readMem(0xbdc0));
        // CB 5A 0121
        gbc.setState(0xa8c0, 0x3c44, 0xb1f0, 0x1d4a, 0x9155, 0x9a83, 0x0, 0x1);
        gbc.writeMem(0xa8c0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x3c44, gbc.sp());
        EXPECT(0xa8c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8c0));
        EXPECT(0x5a, gbc.readMem(0xa8c1));
        // CB 5A 0122
        gbc.setState(0xc8e9, 0xa56d, 0xf0d0, 0x3c7b, 0xaed9, 0xc244, 0x0, 0x0);
        gbc.writeMem(0xc8e9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xa56d, gbc.sp());
        EXPECT(0xc8eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8e9));
        EXPECT(0x5a, gbc.readMem(0xc8ea));
        // CB 5A 0123
        gbc.setState(0xf12, 0x32b, 0x7060, 0x8e2a, 0x7b49, 0xf3cd, 0x1, 0x1);
        gbc.writeMem(0xf12, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x32b, gbc.sp());
        EXPECT(0xf14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0124
        gbc.setState(0x1378, 0xba65, 0x93e0, 0x44e6, 0xec37, 0xf8bf, 0x0, 0x1);
        gbc.writeMem(0x1378, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xba65, gbc.sp());
        EXPECT(0x137a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0125
        gbc.setState(0xea10, 0xb85b, 0x99d0, 0x48a, 0xdb95, 0xc0ea, 0x1, 0x1);
        gbc.writeMem(0xea10, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xb85b, gbc.sp());
        EXPECT(0xea12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea10));
        EXPECT(0x5a, gbc.readMem(0xea11));
        // CB 5A 0126
        gbc.setState(0xb443, 0x9035, 0x1c60, 0xaffe, 0x9847, 0xfce2, 0x1, 0x0);
        gbc.writeMem(0xb443, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x9035, gbc.sp());
        EXPECT(0xb445, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb443));
        EXPECT(0x5a, gbc.readMem(0xb444));
        // CB 5A 0127
        gbc.setState(0x9f77, 0x6bcb, 0x5e40, 0x8568, 0x3214, 0x70b7, 0x1, 0x1);
        gbc.writeMem(0x9f77, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x6bcb, gbc.sp());
        EXPECT(0x9f79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f77));
        EXPECT(0x5a, gbc.readMem(0x9f78));
        // CB 5A 0128
        gbc.setState(0xedf8, 0x632e, 0xde70, 0x13db, 0x4491, 0x75ba, 0x1, 0x0);
        gbc.writeMem(0xedf8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x632e, gbc.sp());
        EXPECT(0xedfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedf8));
        EXPECT(0x5a, gbc.readMem(0xedf9));
        // CB 5A 0129
        gbc.setState(0xb7f3, 0xb60f, 0x8f30, 0xc1fe, 0x81e6, 0xdc4d, 0x1, 0x1);
        gbc.writeMem(0xb7f3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xb60f, gbc.sp());
        EXPECT(0xb7f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7f3));
        EXPECT(0x5a, gbc.readMem(0xb7f4));
        // CB 5A 012A
        gbc.setState(0x85d, 0x5aa0, 0xcdf0, 0xb7e2, 0x92ff, 0x51f4, 0x1, 0x1);
        gbc.writeMem(0x85d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x5aa0, gbc.sp());
        EXPECT(0x85f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 012B
        gbc.setState(0xd636, 0x65e7, 0x9d60, 0x9806, 0xe6d7, 0x2f3d, 0x1, 0x0);
        gbc.writeMem(0xd636, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x65e7, gbc.sp());
        EXPECT(0xd638, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd636));
        EXPECT(0x5a, gbc.readMem(0xd637));
        // CB 5A 012C
        gbc.setState(0xd216, 0x5d04, 0x8670, 0xd46b, 0xea1, 0x6b2e, 0x1, 0x1);
        gbc.writeMem(0xd216, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x5d04, gbc.sp());
        EXPECT(0xd218, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd216));
        EXPECT(0x5a, gbc.readMem(0xd217));
        // CB 5A 012D
        gbc.setState(0xb557, 0xd834, 0xbf70, 0x4b81, 0xd144, 0x6cca, 0x1, 0x1);
        gbc.writeMem(0xb557, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xd834, gbc.sp());
        EXPECT(0xb559, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb557));
        EXPECT(0x5a, gbc.readMem(0xb558));
        // CB 5A 012E
        gbc.setState(0x7b7, 0xc9d2, 0x8a60, 0x82e9, 0x43e2, 0x2cf1, 0x0, 0x0);
        gbc.writeMem(0x7b7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc9d2, gbc.sp());
        EXPECT(0x7b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 012F
        gbc.setState(0xe418, 0x6831, 0x5fe0, 0x7fd5, 0xab11, 0x9b18, 0x0, 0x1);
        gbc.writeMem(0xe418, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x6831, gbc.sp());
        EXPECT(0xe41a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe418));
        EXPECT(0x5a, gbc.readMem(0xe419));
        // CB 5A 0130
        gbc.setState(0xd5a3, 0xa6c8, 0xfa90, 0xb375, 0xa92f, 0x8b82, 0x1, 0x1);
        gbc.writeMem(0xd5a3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xa6c8, gbc.sp());
        EXPECT(0xd5a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5a3));
        EXPECT(0x5a, gbc.readMem(0xd5a4));
        // CB 5A 0131
        gbc.setState(0x92fc, 0x3469, 0x490, 0x3380, 0x6842, 0x482b, 0x0, 0x1);
        gbc.writeMem(0x92fc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x3469, gbc.sp());
        EXPECT(0x92fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92fc));
        EXPECT(0x5a, gbc.readMem(0x92fd));
        // CB 5A 0132
        gbc.setState(0xb861, 0x6fc6, 0x67a0, 0xcf46, 0x3ff2, 0xb12c, 0x1, 0x0);
        gbc.writeMem(0xb861, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x6fc6, gbc.sp());
        EXPECT(0xb863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb861));
        EXPECT(0x5a, gbc.readMem(0xb862));
        // CB 5A 0133
        gbc.setState(0x28d2, 0xf9d0, 0xf240, 0x560d, 0x9281, 0x7330, 0x0, 0x1);
        gbc.writeMem(0x28d2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xf9d0, gbc.sp());
        EXPECT(0x28d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0134
        gbc.setState(0xbe2b, 0x513c, 0xc3c0, 0xfca4, 0x1176, 0x9f1b, 0x0, 0x0);
        gbc.writeMem(0xbe2b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x513c, gbc.sp());
        EXPECT(0xbe2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe2b));
        EXPECT(0x5a, gbc.readMem(0xbe2c));
        // CB 5A 0135
        gbc.setState(0x8f51, 0x8133, 0xd510, 0xedd4, 0x2193, 0x873d, 0x0, 0x0);
        gbc.writeMem(0x8f51, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x8133, gbc.sp());
        EXPECT(0x8f53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f51));
        EXPECT(0x5a, gbc.readMem(0x8f52));
        // CB 5A 0136
        gbc.setState(0x1bd4, 0x808b, 0x5590, 0x610, 0x2fd, 0x9c75, 0x0, 0x0);
        gbc.writeMem(0x1bd4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x808b, gbc.sp());
        EXPECT(0x1bd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0137
        gbc.setState(0x14f4, 0x2cb6, 0xca50, 0x531c, 0xf1a3, 0xe332, 0x0, 0x0);
        gbc.writeMem(0x14f4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x2cb6, gbc.sp());
        EXPECT(0x14f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0138
        gbc.setState(0x9c5c, 0xb2c0, 0x1330, 0x281b, 0x8bcf, 0x690b, 0x1, 0x1);
        gbc.writeMem(0x9c5c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xb2c0, gbc.sp());
        EXPECT(0x9c5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c5c));
        EXPECT(0x5a, gbc.readMem(0x9c5d));
        // CB 5A 0139
        gbc.setState(0x2a0f, 0xd818, 0xa2a0, 0x363f, 0x97d0, 0xc46e, 0x0, 0x1);
        gbc.writeMem(0x2a0f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd818, gbc.sp());
        EXPECT(0x2a11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 013A
        gbc.setState(0x5712, 0xd213, 0x2f20, 0x2954, 0x8998, 0x32c2, 0x1, 0x1);
        gbc.writeMem(0x5712, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xd213, gbc.sp());
        EXPECT(0x5714, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 013B
        gbc.setState(0x7e19, 0xb5ab, 0xc920, 0x664d, 0x86a3, 0xddc6, 0x0, 0x1);
        gbc.writeMem(0x7e19, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xb5ab, gbc.sp());
        EXPECT(0x7e1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 013C
        gbc.setState(0xac00, 0xf271, 0xac70, 0x9e77, 0x579d, 0x7fe8, 0x1, 0x0);
        gbc.writeMem(0xac00, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xf271, gbc.sp());
        EXPECT(0xac02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac00));
        EXPECT(0x5a, gbc.readMem(0xac01));
        // CB 5A 013D
        gbc.setState(0x7bf1, 0xb505, 0x11d0, 0x29bd, 0xa51d, 0xdcac, 0x1, 0x0);
        gbc.writeMem(0x7bf1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xb505, gbc.sp());
        EXPECT(0x7bf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 013E
        gbc.setState(0xb5bf, 0xfac9, 0xcfd0, 0x43e0, 0x4f70, 0xe234, 0x0, 0x0);
        gbc.writeMem(0xb5bf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xfac9, gbc.sp());
        EXPECT(0xb5c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5bf));
        EXPECT(0x5a, gbc.readMem(0xb5c0));
        // CB 5A 013F
        gbc.setState(0xc70a, 0x48b2, 0x3870, 0x76d2, 0x8970, 0x1b6d, 0x0, 0x1);
        gbc.writeMem(0xc70a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x48b2, gbc.sp());
        EXPECT(0xc70c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc70a));
        EXPECT(0x5a, gbc.readMem(0xc70b));
        // CB 5A 0140
        gbc.setState(0xb045, 0xb410, 0xb2c0, 0xaa33, 0x9cef, 0x5f91, 0x1, 0x1);
        gbc.writeMem(0xb045, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xb410, gbc.sp());
        EXPECT(0xb047, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb045));
        EXPECT(0x5a, gbc.readMem(0xb046));
        // CB 5A 0142
        gbc.setState(0xdac, 0xf659, 0x3480, 0xbadf, 0xb79d, 0x8bf, 0x1, 0x0);
        gbc.writeMem(0xdac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xf659, gbc.sp());
        EXPECT(0xdae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0143
        gbc.setState(0x4156, 0x9ea5, 0xaa90, 0x143, 0xb91f, 0xa518, 0x1, 0x0);
        gbc.writeMem(0x4156, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x9ea5, gbc.sp());
        EXPECT(0x4158, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0144
        gbc.setState(0x1cf3, 0x13ba, 0x4130, 0x6b71, 0xe4b7, 0x9a3d, 0x1, 0x1);
        gbc.writeMem(0x1cf3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x13ba, gbc.sp());
        EXPECT(0x1cf5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0145
        gbc.setState(0x2238, 0x8c71, 0x9a70, 0x542a, 0xb943, 0x4bfe, 0x0, 0x0);
        gbc.writeMem(0x2238, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x8c71, gbc.sp());
        EXPECT(0x223a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0146
        gbc.setState(0xa9b1, 0x6cf9, 0xbfb0, 0xaf0d, 0xa483, 0xa111, 0x0, 0x1);
        gbc.writeMem(0xa9b1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x6cf9, gbc.sp());
        EXPECT(0xa9b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9b1));
        EXPECT(0x5a, gbc.readMem(0xa9b2));
        // CB 5A 0147
        gbc.setState(0x263a, 0x37e4, 0x7380, 0x10d, 0x32de, 0xf3d4, 0x1, 0x1);
        gbc.writeMem(0x263a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x37e4, gbc.sp());
        EXPECT(0x263c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0148
        gbc.setState(0x2d06, 0x7070, 0xfee0, 0xb352, 0x1d0e, 0xac97, 0x1, 0x0);
        gbc.writeMem(0x2d06, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x7070, gbc.sp());
        EXPECT(0x2d08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0149
        gbc.setState(0xad4b, 0x69bf, 0x7830, 0xdf20, 0xc88c, 0xc99e, 0x1, 0x1);
        gbc.writeMem(0xad4b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x69bf, gbc.sp());
        EXPECT(0xad4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad4b));
        EXPECT(0x5a, gbc.readMem(0xad4c));
        // CB 5A 014A
        gbc.setState(0x8a77, 0xb74d, 0xbd40, 0xf978, 0xeb2f, 0xd173, 0x1, 0x0);
        gbc.writeMem(0x8a77, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xb74d, gbc.sp());
        EXPECT(0x8a79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a77));
        EXPECT(0x5a, gbc.readMem(0x8a78));
        // CB 5A 014B
        gbc.setState(0x50fe, 0x7645, 0x4e70, 0x14e2, 0xd7f6, 0x86dc, 0x1, 0x1);
        gbc.writeMem(0x50fe, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x7645, gbc.sp());
        EXPECT(0x5100, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 014C
        gbc.setState(0x4b7e, 0x901f, 0xaa30, 0x31e4, 0x3ec7, 0x4ef, 0x0, 0x1);
        gbc.writeMem(0x4b7e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x901f, gbc.sp());
        EXPECT(0x4b80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 014D
        gbc.setState(0x76e4, 0x4871, 0xd040, 0xc118, 0xa814, 0x4e08, 0x0, 0x1);
        gbc.writeMem(0x76e4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x4871, gbc.sp());
        EXPECT(0x76e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 014E
        gbc.setState(0x7f47, 0xfab6, 0x2df0, 0xe89f, 0xa736, 0x9b32, 0x0, 0x1);
        gbc.writeMem(0x7f47, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xfab6, gbc.sp());
        EXPECT(0x7f49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0150
        gbc.setState(0xb2d4, 0xd514, 0xcb80, 0x4dda, 0xf7fe, 0x345e, 0x1, 0x1);
        gbc.writeMem(0xb2d4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xd514, gbc.sp());
        EXPECT(0xb2d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2d4));
        EXPECT(0x5a, gbc.readMem(0xb2d5));
        // CB 5A 0151
        gbc.setState(0x7fb2, 0x6dac, 0x3410, 0x4874, 0xd441, 0x2d31, 0x1, 0x0);
        gbc.writeMem(0x7fb2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x6dac, gbc.sp());
        EXPECT(0x7fb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0152
        gbc.setState(0x2276, 0x9662, 0x7c80, 0x8403, 0x6a35, 0xae81, 0x1, 0x1);
        gbc.writeMem(0x2276, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x9662, gbc.sp());
        EXPECT(0x2278, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0153
        gbc.setState(0x32e4, 0xeeaa, 0x4d50, 0x89de, 0x659, 0x388f, 0x0, 0x1);
        gbc.writeMem(0x32e4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xeeaa, gbc.sp());
        EXPECT(0x32e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0154
        gbc.setState(0x8c02, 0x62b9, 0xfed0, 0x690d, 0xf4ea, 0xcbda, 0x0, 0x1);
        gbc.writeMem(0x8c02, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x62b9, gbc.sp());
        EXPECT(0x8c04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c02));
        EXPECT(0x5a, gbc.readMem(0x8c03));
        // CB 5A 0155
        gbc.setState(0xcd12, 0x5618, 0x69c0, 0x123, 0x3b9e, 0x1ae, 0x1, 0x0);
        gbc.writeMem(0xcd12, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x5618, gbc.sp());
        EXPECT(0xcd14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd12));
        EXPECT(0x5a, gbc.readMem(0xcd13));
        // CB 5A 0156
        gbc.setState(0x6e1f, 0x5098, 0xdc20, 0x958c, 0x3e98, 0x25f6, 0x0, 0x0);
        gbc.writeMem(0x6e1f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x5098, gbc.sp());
        EXPECT(0x6e21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0157
        gbc.setState(0xf25, 0x46bd, 0x2f70, 0x827c, 0x33d4, 0x8d4a, 0x1, 0x0);
        gbc.writeMem(0xf25, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x46bd, gbc.sp());
        EXPECT(0xf27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0158
        gbc.setState(0x5751, 0x5cc8, 0xe5e0, 0xdf86, 0xa1c0, 0xaddd, 0x0, 0x0);
        gbc.writeMem(0x5751, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x5cc8, gbc.sp());
        EXPECT(0x5753, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0159
        gbc.setState(0x3fec, 0xa279, 0x7590, 0xee12, 0xe3fa, 0xf628, 0x1, 0x0);
        gbc.writeMem(0x3fec, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xa279, gbc.sp());
        EXPECT(0x3fee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 015A
        gbc.setState(0xbc31, 0xf23e, 0xc340, 0xf4e9, 0x81f1, 0xef4d, 0x1, 0x1);
        gbc.writeMem(0xbc31, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf23e, gbc.sp());
        EXPECT(0xbc33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc31));
        EXPECT(0x5a, gbc.readMem(0xbc32));
        // CB 5A 015B
        gbc.setState(0x1bcb, 0x85b5, 0xb300, 0x888a, 0xdfd, 0xb340, 0x1, 0x0);
        gbc.writeMem(0x1bcb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x85b5, gbc.sp());
        EXPECT(0x1bcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 015C
        gbc.setState(0xb517, 0x5ce1, 0x2490, 0xe999, 0x1ab7, 0xab1f, 0x1, 0x0);
        gbc.writeMem(0xb517, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x5ce1, gbc.sp());
        EXPECT(0xb519, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb517));
        EXPECT(0x5a, gbc.readMem(0xb518));
        // CB 5A 015D
        gbc.setState(0xc09c, 0x55be, 0xadc0, 0xc95e, 0x45cd, 0x8ee5, 0x0, 0x1);
        gbc.writeMem(0xc09c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x55be, gbc.sp());
        EXPECT(0xc09e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc09c));
        EXPECT(0x5a, gbc.readMem(0xc09d));
        // CB 5A 015E
        gbc.setState(0x42c1, 0x139b, 0x4820, 0x8bb2, 0x58c4, 0xbdd3, 0x1, 0x1);
        gbc.writeMem(0x42c1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x139b, gbc.sp());
        EXPECT(0x42c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 015F
        gbc.setState(0x8c50, 0xb595, 0xa910, 0x75e7, 0x2535, 0x97, 0x1, 0x0);
        gbc.writeMem(0x8c50, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xb595, gbc.sp());
        EXPECT(0x8c52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c50));
        EXPECT(0x5a, gbc.readMem(0x8c51));
        // CB 5A 0160
        gbc.setState(0xa995, 0x60ec, 0x64c0, 0x362d, 0x27b8, 0xa62c, 0x1, 0x0);
        gbc.writeMem(0xa995, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x60ec, gbc.sp());
        EXPECT(0xa997, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa995));
        EXPECT(0x5a, gbc.readMem(0xa996));
        // CB 5A 0161
        gbc.setState(0x7949, 0xe369, 0x78c0, 0xb4ed, 0x94ff, 0xdc89, 0x1, 0x1);
        gbc.writeMem(0x7949, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xe369, gbc.sp());
        EXPECT(0x794b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0162
        gbc.setState(0x441b, 0xffc5, 0xad80, 0x8eae, 0x73c5, 0x930d, 0x1, 0x1);
        gbc.writeMem(0x441b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xffc5, gbc.sp());
        EXPECT(0x441d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0163
        gbc.setState(0x6810, 0xf53e, 0x1950, 0xf5cc, 0x97c7, 0x75a1, 0x1, 0x0);
        gbc.writeMem(0x6810, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xf53e, gbc.sp());
        EXPECT(0x6812, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0164
        gbc.setState(0x48ce, 0x2ab9, 0x1d80, 0xba5a, 0x1c8c, 0x9d2e, 0x0, 0x1);
        gbc.writeMem(0x48ce, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x2ab9, gbc.sp());
        EXPECT(0x48d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0165
        gbc.setState(0x9f4e, 0x7918, 0x6f80, 0xad61, 0x5238, 0x432b, 0x1, 0x1);
        gbc.writeMem(0x9f4e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x7918, gbc.sp());
        EXPECT(0x9f50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f4e));
        EXPECT(0x5a, gbc.readMem(0x9f4f));
        // CB 5A 0166
        gbc.setState(0x28ac, 0x9901, 0x2b10, 0x7f91, 0x5bbc, 0xd980, 0x1, 0x1);
        gbc.writeMem(0x28ac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x9901, gbc.sp());
        EXPECT(0x28ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0167
        gbc.setState(0x99e6, 0xe41a, 0xa560, 0xd7a6, 0xe488, 0xc62a, 0x1, 0x0);
        gbc.writeMem(0x99e6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xe41a, gbc.sp());
        EXPECT(0x99e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99e6));
        EXPECT(0x5a, gbc.readMem(0x99e7));
        // CB 5A 0168
        gbc.setState(0xd982, 0x2a9e, 0x9c00, 0xaf51, 0x4b1a, 0xa834, 0x0, 0x0);
        gbc.writeMem(0xd982, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x2a9e, gbc.sp());
        EXPECT(0xd984, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd982));
        EXPECT(0x5a, gbc.readMem(0xd983));
        // CB 5A 0169
        gbc.setState(0x585, 0xc367, 0xc530, 0xc394, 0x3e1e, 0x4262, 0x1, 0x1);
        gbc.writeMem(0x585, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xc367, gbc.sp());
        EXPECT(0x587, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 016A
        gbc.setState(0xd250, 0xea8e, 0x9040, 0x7088, 0x22b7, 0x971, 0x1, 0x0);
        gbc.writeMem(0xd250, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xea8e, gbc.sp());
        EXPECT(0xd252, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd250));
        EXPECT(0x5a, gbc.readMem(0xd251));
        // CB 5A 016B
        gbc.setState(0x3cf5, 0x73e2, 0x9cf0, 0x6aa2, 0x46c5, 0x90ff, 0x1, 0x0);
        gbc.writeMem(0x3cf5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x73e2, gbc.sp());
        EXPECT(0x3cf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 016C
        gbc.setState(0xc8a6, 0xef95, 0x22b0, 0x5f5a, 0x87cb, 0xdc61, 0x0, 0x0);
        gbc.writeMem(0xc8a6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xef95, gbc.sp());
        EXPECT(0xc8a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8a6));
        EXPECT(0x5a, gbc.readMem(0xc8a7));
        // CB 5A 016D
        gbc.setState(0xc62c, 0x15d6, 0xa8c0, 0x1b60, 0xd624, 0xbfe6, 0x1, 0x1);
        gbc.writeMem(0xc62c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x15d6, gbc.sp());
        EXPECT(0xc62e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc62c));
        EXPECT(0x5a, gbc.readMem(0xc62d));
        // CB 5A 016E
        gbc.setState(0x6637, 0xab25, 0xa40, 0xa8f, 0x6328, 0x4989, 0x0, 0x0);
        gbc.writeMem(0x6637, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xab25, gbc.sp());
        EXPECT(0x6639, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 016F
        gbc.setState(0x7276, 0xe014, 0xc230, 0xa9ce, 0x4a5d, 0x576c, 0x0, 0x1);
        gbc.writeMem(0x7276, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xe014, gbc.sp());
        EXPECT(0x7278, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0171
        gbc.setState(0x5dc1, 0xf9a8, 0x6ac0, 0xdc02, 0xd1af, 0xde00, 0x0, 0x0);
        gbc.writeMem(0x5dc1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xf9a8, gbc.sp());
        EXPECT(0x5dc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0172
        gbc.setState(0x3df, 0xae3f, 0xa800, 0x6521, 0x4a8c, 0x9bc, 0x0, 0x0);
        gbc.writeMem(0x3df, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xae3f, gbc.sp());
        EXPECT(0x3e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0173
        gbc.setState(0x63bc, 0xca4d, 0x65a0, 0xcd71, 0x9faf, 0x80fb, 0x1, 0x0);
        gbc.writeMem(0x63bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xca4d, gbc.sp());
        EXPECT(0x63be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0174
        gbc.setState(0xdcf3, 0xcaed, 0xf40, 0xcc77, 0x6664, 0x31ec, 0x0, 0x1);
        gbc.writeMem(0xdcf3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xcaed, gbc.sp());
        EXPECT(0xdcf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcf3));
        EXPECT(0x5a, gbc.readMem(0xdcf4));
        // CB 5A 0175
        gbc.setState(0x9e49, 0x31fc, 0x5450, 0x733b, 0xdf53, 0x7b5e, 0x0, 0x1);
        gbc.writeMem(0x9e49, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x31fc, gbc.sp());
        EXPECT(0x9e4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e49));
        EXPECT(0x5a, gbc.readMem(0x9e4a));
        // CB 5A 0176
        gbc.setState(0x27f6, 0xec58, 0xfd00, 0x8ee, 0xe6ac, 0xaf17, 0x0, 0x0);
        gbc.writeMem(0x27f6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xec58, gbc.sp());
        EXPECT(0x27f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0177
        gbc.setState(0x9308, 0xe572, 0xc8c0, 0x3f35, 0x59c2, 0x821e, 0x0, 0x1);
        gbc.writeMem(0x9308, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xe572, gbc.sp());
        EXPECT(0x930a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9308));
        EXPECT(0x5a, gbc.readMem(0x9309));
        // CB 5A 0178
        gbc.setState(0xb60e, 0xc13b, 0x9340, 0x834, 0x8285, 0x57ae, 0x0, 0x1);
        gbc.writeMem(0xb60e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xc13b, gbc.sp());
        EXPECT(0xb610, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb60e));
        EXPECT(0x5a, gbc.readMem(0xb60f));
        // CB 5A 0179
        gbc.setState(0x247f, 0x943a, 0xb9a0, 0xfa01, 0x28a1, 0xd579, 0x0, 0x1);
        gbc.writeMem(0x247f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x943a, gbc.sp());
        EXPECT(0x2481, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 017A
        gbc.setState(0x679e, 0xd051, 0xe480, 0xb6b0, 0x9819, 0xcd2f, 0x0, 0x0);
        gbc.writeMem(0x679e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xd051, gbc.sp());
        EXPECT(0x67a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 017B
        gbc.setState(0xce11, 0x50dd, 0x8900, 0x718a, 0xf265, 0x1976, 0x0, 0x0);
        gbc.writeMem(0xce11, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x50dd, gbc.sp());
        EXPECT(0xce13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce11));
        EXPECT(0x5a, gbc.readMem(0xce12));
        // CB 5A 017C
        gbc.setState(0xa08b, 0xf08b, 0x73e0, 0xd5b7, 0x7a76, 0xfff, 0x1, 0x0);
        gbc.writeMem(0xa08b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xf08b, gbc.sp());
        EXPECT(0xa08d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa08b));
        EXPECT(0x5a, gbc.readMem(0xa08c));
        // CB 5A 017D
        gbc.setState(0x258f, 0x8a56, 0xcc10, 0x4bf1, 0x39af, 0x3bfa, 0x1, 0x0);
        gbc.writeMem(0x258f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x8a56, gbc.sp());
        EXPECT(0x2591, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 017E
        gbc.setState(0x5925, 0x5021, 0xa4d0, 0x19f1, 0xb872, 0x314d, 0x0, 0x0);
        gbc.writeMem(0x5925, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x5021, gbc.sp());
        EXPECT(0x5927, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 017F
        gbc.setState(0x4605, 0x7d73, 0x79b0, 0xd4fe, 0x44b7, 0x408b, 0x1, 0x1);
        gbc.writeMem(0x4605, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x7d73, gbc.sp());
        EXPECT(0x4607, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0180
        gbc.setState(0x75bc, 0xde46, 0xaf30, 0x5a0e, 0xd663, 0x941e, 0x0, 0x1);
        gbc.writeMem(0x75bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xde46, gbc.sp());
        EXPECT(0x75be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0181
        gbc.setState(0x81c, 0x1e56, 0x6290, 0xfc84, 0xd591, 0xddf2, 0x0, 0x1);
        gbc.writeMem(0x81c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x1e56, gbc.sp());
        EXPECT(0x81e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0183
        gbc.setState(0x63df, 0x5fb8, 0x9280, 0x2a9b, 0xe4b7, 0x2feb, 0x1, 0x0);
        gbc.writeMem(0x63df, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x5fb8, gbc.sp());
        EXPECT(0x63e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0184
        gbc.setState(0x3bfe, 0x46af, 0x68f0, 0x3218, 0x987d, 0x9b61, 0x1, 0x1);
        gbc.writeMem(0x3bfe, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x46af, gbc.sp());
        EXPECT(0x3c00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0185
        gbc.setState(0x5b41, 0xce7e, 0x8ca0, 0x6e8d, 0xd1fb, 0x52c9, 0x0, 0x0);
        gbc.writeMem(0x5b41, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xce7e, gbc.sp());
        EXPECT(0x5b43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0186
        gbc.setState(0xdf16, 0x2985, 0xb340, 0x7d63, 0xd97f, 0xc5d2, 0x1, 0x1);
        gbc.writeMem(0xdf16, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x2985, gbc.sp());
        EXPECT(0xdf18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf16));
        EXPECT(0x5a, gbc.readMem(0xdf17));
        // CB 5A 0187
        gbc.setState(0x5519, 0xe479, 0x1300, 0x3385, 0xac75, 0xc530, 0x1, 0x1);
        gbc.writeMem(0x5519, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe479, gbc.sp());
        EXPECT(0x551b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0188
        gbc.setState(0x977a, 0xf9f, 0x6a10, 0x4121, 0xb8a6, 0x6076, 0x1, 0x1);
        gbc.writeMem(0x977a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xf9f, gbc.sp());
        EXPECT(0x977c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x977a));
        EXPECT(0x5a, gbc.readMem(0x977b));
        // CB 5A 0189
        gbc.setState(0x8a00, 0x7536, 0x1980, 0x64fd, 0x88e2, 0x44e6, 0x1, 0x0);
        gbc.writeMem(0x8a00, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x7536, gbc.sp());
        EXPECT(0x8a02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a00));
        EXPECT(0x5a, gbc.readMem(0x8a01));
        // CB 5A 018A
        gbc.setState(0x8a3, 0x7626, 0x9b80, 0xa879, 0xa816, 0x6f47, 0x0, 0x1);
        gbc.writeMem(0x8a3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x7626, gbc.sp());
        EXPECT(0x8a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 018B
        gbc.setState(0x97bd, 0x7042, 0x81b0, 0x9497, 0x7368, 0x5cc9, 0x0, 0x1);
        gbc.writeMem(0x97bd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x7042, gbc.sp());
        EXPECT(0x97bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97bd));
        EXPECT(0x5a, gbc.readMem(0x97be));
        // CB 5A 018D
        gbc.setState(0x4ca2, 0xb2c4, 0x100, 0x180d, 0x6ef3, 0x95d6, 0x0, 0x1);
        gbc.writeMem(0x4ca2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xb2c4, gbc.sp());
        EXPECT(0x4ca4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 018E
        gbc.setState(0x37e6, 0x1ad5, 0x5550, 0x1e5, 0x9a67, 0xebec, 0x1, 0x1);
        gbc.writeMem(0x37e6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x1ad5, gbc.sp());
        EXPECT(0x37e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 018F
        gbc.setState(0xcb64, 0xf45a, 0x9ba0, 0x6527, 0xa11f, 0x4aad, 0x0, 0x0);
        gbc.writeMem(0xcb64, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xf45a, gbc.sp());
        EXPECT(0xcb66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb64));
        EXPECT(0x5a, gbc.readMem(0xcb65));
        // CB 5A 0190
        gbc.setState(0xd60b, 0x81c, 0x8d80, 0xaa46, 0x319c, 0x9df6, 0x1, 0x1);
        gbc.writeMem(0xd60b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x81c, gbc.sp());
        EXPECT(0xd60d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd60b));
        EXPECT(0x5a, gbc.readMem(0xd60c));
        // CB 5A 0191
        gbc.setState(0x19cd, 0xb48e, 0xa6c0, 0x8a4c, 0x668, 0x2215, 0x0, 0x0);
        gbc.writeMem(0x19cd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xb48e, gbc.sp());
        EXPECT(0x19cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0192
        gbc.setState(0x551b, 0xb645, 0x4ab0, 0x3199, 0x8bf9, 0xfbe7, 0x1, 0x1);
        gbc.writeMem(0x551b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xb645, gbc.sp());
        EXPECT(0x551d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0193
        gbc.setState(0x89c, 0x1447, 0x82f0, 0x3cf1, 0xd310, 0xce3a, 0x0, 0x1);
        gbc.writeMem(0x89c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x1447, gbc.sp());
        EXPECT(0x89e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0194
        gbc.setState(0xa4cc, 0x4274, 0x6d60, 0xb492, 0xa3cd, 0xb4a5, 0x1, 0x1);
        gbc.writeMem(0xa4cc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x4274, gbc.sp());
        EXPECT(0xa4ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4cc));
        EXPECT(0x5a, gbc.readMem(0xa4cd));
        // CB 5A 0195
        gbc.setState(0xaa23, 0x26dc, 0x7d30, 0x314f, 0x1b5f, 0x7e4, 0x0, 0x1);
        gbc.writeMem(0xaa23, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x26dc, gbc.sp());
        EXPECT(0xaa25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa23));
        EXPECT(0x5a, gbc.readMem(0xaa24));
        // CB 5A 0196
        gbc.setState(0x6a23, 0x6a9e, 0xa9d0, 0xb65e, 0x17e0, 0xd04f, 0x1, 0x0);
        gbc.writeMem(0x6a23, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x6a9e, gbc.sp());
        EXPECT(0x6a25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0197
        gbc.setState(0xe4ae, 0x90b8, 0x1db0, 0x8516, 0xeaa8, 0x74d2, 0x0, 0x1);
        gbc.writeMem(0xe4ae, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x90b8, gbc.sp());
        EXPECT(0xe4b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4ae));
        EXPECT(0x5a, gbc.readMem(0xe4af));
        // CB 5A 0198
        gbc.setState(0xd3c4, 0x12bd, 0xb6b0, 0x791b, 0xab3e, 0x76c9, 0x0, 0x0);
        gbc.writeMem(0xd3c4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x12bd, gbc.sp());
        EXPECT(0xd3c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3c4));
        EXPECT(0x5a, gbc.readMem(0xd3c5));
        // CB 5A 019A
        gbc.setState(0x4f7a, 0x8ee0, 0x2d50, 0xfc1f, 0x1339, 0x40d2, 0x0, 0x1);
        gbc.writeMem(0x4f7a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x8ee0, gbc.sp());
        EXPECT(0x4f7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 019C
        gbc.setState(0xe88, 0xffc2, 0x3450, 0xc3d4, 0x46a6, 0x95b0, 0x0, 0x1);
        gbc.writeMem(0xe88, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xffc2, gbc.sp());
        EXPECT(0xe8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 019D
        gbc.setState(0xaee, 0x41bc, 0x62e0, 0xa651, 0x1b96, 0xea22, 0x1, 0x1);
        gbc.writeMem(0xaee, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x41bc, gbc.sp());
        EXPECT(0xaf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 019E
        gbc.setState(0xae78, 0xc239, 0xdb0, 0x57ee, 0xe624, 0xb35d, 0x0, 0x1);
        gbc.writeMem(0xae78, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xc239, gbc.sp());
        EXPECT(0xae7a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae78));
        EXPECT(0x5a, gbc.readMem(0xae79));
        // CB 5A 019F
        gbc.setState(0xa9db, 0x132, 0x4240, 0xb4ab, 0x4708, 0x966a, 0x1, 0x1);
        gbc.writeMem(0xa9db, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x132, gbc.sp());
        EXPECT(0xa9dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9db));
        EXPECT(0x5a, gbc.readMem(0xa9dc));
        // CB 5A 01A0
        gbc.setState(0xbee6, 0xe574, 0xb9d0, 0x1ed1, 0x5660, 0x415, 0x1, 0x1);
        gbc.writeMem(0xbee6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xe574, gbc.sp());
        EXPECT(0xbee8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbee6));
        EXPECT(0x5a, gbc.readMem(0xbee7));
        // CB 5A 01A1
        gbc.setState(0x82db, 0x60c8, 0xa0a0, 0x5f63, 0x1697, 0x6994, 0x0, 0x1);
        gbc.writeMem(0x82db, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x60c8, gbc.sp());
        EXPECT(0x82dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82db));
        EXPECT(0x5a, gbc.readMem(0x82dc));
        // CB 5A 01A2
        gbc.setState(0xe680, 0xe843, 0x29e0, 0xb34e, 0xe754, 0x678, 0x1, 0x1);
        gbc.writeMem(0xe680, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xe843, gbc.sp());
        EXPECT(0xe682, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe680));
        EXPECT(0x5a, gbc.readMem(0xe681));
        // CB 5A 01A3
        gbc.setState(0x3e22, 0x91a5, 0xa9a0, 0xc546, 0xafd2, 0x422, 0x1, 0x0);
        gbc.writeMem(0x3e22, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x91a5, gbc.sp());
        EXPECT(0x3e24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01A4
        gbc.setState(0x5216, 0x80ad, 0x7380, 0x5f3b, 0xb2d0, 0x93f7, 0x0, 0x1);
        gbc.writeMem(0x5216, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x80ad, gbc.sp());
        EXPECT(0x5218, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01A5
        gbc.setState(0x9ae9, 0x6543, 0x69e0, 0xb280, 0x26e0, 0xd65e, 0x1, 0x1);
        gbc.writeMem(0x9ae9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x6543, gbc.sp());
        EXPECT(0x9aeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ae9));
        EXPECT(0x5a, gbc.readMem(0x9aea));
        // CB 5A 01A6
        gbc.setState(0x91ef, 0xd7d9, 0x7ba0, 0x4cc9, 0x7b68, 0x7121, 0x0, 0x0);
        gbc.writeMem(0x91ef, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xd7d9, gbc.sp());
        EXPECT(0x91f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91ef));
        EXPECT(0x5a, gbc.readMem(0x91f0));
        // CB 5A 01A8
        gbc.setState(0x3186, 0xccec, 0x3240, 0xdc45, 0xa4b4, 0xcb76, 0x0, 0x0);
        gbc.writeMem(0x3186, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xccec, gbc.sp());
        EXPECT(0x3188, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01A9
        gbc.setState(0x4747, 0xc2d, 0xab40, 0x87d3, 0x594b, 0x245, 0x1, 0x0);
        gbc.writeMem(0x4747, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xc2d, gbc.sp());
        EXPECT(0x4749, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01AA
        gbc.setState(0x363e, 0xa6b7, 0x9d80, 0x2680, 0x215a, 0x35c9, 0x0, 0x0);
        gbc.writeMem(0x363e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa6b7, gbc.sp());
        EXPECT(0x3640, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01AB
        gbc.setState(0xbd9b, 0x3a72, 0xb750, 0xa93e, 0x7731, 0x8ba7, 0x0, 0x0);
        gbc.writeMem(0xbd9b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x3a72, gbc.sp());
        EXPECT(0xbd9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd9b));
        EXPECT(0x5a, gbc.readMem(0xbd9c));
        // CB 5A 01AC
        gbc.setState(0x78d9, 0xeaed, 0xd620, 0xe12d, 0xdc30, 0x38a3, 0x0, 0x1);
        gbc.writeMem(0x78d9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xeaed, gbc.sp());
        EXPECT(0x78db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01AD
        gbc.setState(0xa411, 0x9804, 0x1b00, 0x86bd, 0xee5c, 0x2262, 0x1, 0x0);
        gbc.writeMem(0xa411, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9804, gbc.sp());
        EXPECT(0xa413, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa411));
        EXPECT(0x5a, gbc.readMem(0xa412));
        // CB 5A 01AE
        gbc.setState(0x37a4, 0x61bf, 0xd080, 0xf4f4, 0x4878, 0x1382, 0x1, 0x0);
        gbc.writeMem(0x37a4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x61bf, gbc.sp());
        EXPECT(0x37a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01AF
        gbc.setState(0x432f, 0xc5a1, 0xa90, 0x17d6, 0x2f0d, 0xe315, 0x1, 0x0);
        gbc.writeMem(0x432f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xc5a1, gbc.sp());
        EXPECT(0x4331, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01B0
        gbc.setState(0x5eea, 0x9300, 0x3e80, 0xa199, 0xd98a, 0xaf75, 0x1, 0x0);
        gbc.writeMem(0x5eea, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x9300, gbc.sp());
        EXPECT(0x5eec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01B1
        gbc.setState(0xdbe9, 0xe81e, 0x1230, 0xf378, 0x1886, 0xf1e7, 0x1, 0x0);
        gbc.writeMem(0xdbe9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xe81e, gbc.sp());
        EXPECT(0xdbeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbe9));
        EXPECT(0x5a, gbc.readMem(0xdbea));
        // CB 5A 01B2
        gbc.setState(0xcb8d, 0xdcd3, 0x5d10, 0x933d, 0xf4fc, 0xc2bc, 0x0, 0x0);
        gbc.writeMem(0xcb8d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xdcd3, gbc.sp());
        EXPECT(0xcb8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb8d));
        EXPECT(0x5a, gbc.readMem(0xcb8e));
        // CB 5A 01B3
        gbc.setState(0x7da2, 0xf553, 0x7970, 0x4a59, 0x236c, 0x75f, 0x0, 0x0);
        gbc.writeMem(0x7da2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xf553, gbc.sp());
        EXPECT(0x7da4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01B4
        gbc.setState(0x7cdc, 0xb95b, 0x3810, 0x25d5, 0x1667, 0x91d0, 0x0, 0x0);
        gbc.writeMem(0x7cdc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xb95b, gbc.sp());
        EXPECT(0x7cde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01B5
        gbc.setState(0xab8e, 0xaf70, 0x4a90, 0x5a5c, 0x1b10, 0x4a6, 0x0, 0x0);
        gbc.writeMem(0xab8e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xaf70, gbc.sp());
        EXPECT(0xab90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab8e));
        EXPECT(0x5a, gbc.readMem(0xab8f));
        // CB 5A 01B7
        gbc.setState(0x92d8, 0xf7b1, 0xae50, 0x4576, 0xca43, 0x3496, 0x0, 0x1);
        gbc.writeMem(0x92d8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xf7b1, gbc.sp());
        EXPECT(0x92da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92d8));
        EXPECT(0x5a, gbc.readMem(0x92d9));
        // CB 5A 01B9
        gbc.setState(0xc747, 0xfa60, 0xde00, 0xb28f, 0x2bc3, 0x6657, 0x0, 0x0);
        gbc.writeMem(0xc747, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xfa60, gbc.sp());
        EXPECT(0xc749, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc747));
        EXPECT(0x5a, gbc.readMem(0xc748));
        // CB 5A 01BA
        gbc.setState(0x23a4, 0x5ff1, 0xe440, 0xee99, 0xb6af, 0xf6fd, 0x0, 0x0);
        gbc.writeMem(0x23a4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x5ff1, gbc.sp());
        EXPECT(0x23a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01BC
        gbc.setState(0xe1ef, 0x7f64, 0xdac0, 0xcc90, 0x6cd, 0xf4e6, 0x1, 0x0);
        gbc.writeMem(0xe1ef, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x7f64, gbc.sp());
        EXPECT(0xe1f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1ef));
        EXPECT(0x5a, gbc.readMem(0xe1f0));
        // CB 5A 01BD
        gbc.setState(0x577e, 0x68f5, 0x5f40, 0x1f2b, 0x6875, 0x66da, 0x0, 0x0);
        gbc.writeMem(0x577e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x68f5, gbc.sp());
        EXPECT(0x5780, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01BF
        gbc.setState(0x4de4, 0x83c8, 0x1c20, 0x56b7, 0x6786, 0x9203, 0x1, 0x0);
        gbc.writeMem(0x4de4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x83c8, gbc.sp());
        EXPECT(0x4de6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01C0
        gbc.setState(0x1418, 0x8f4e, 0x44c0, 0x3fc1, 0xbd64, 0xb9fe, 0x0, 0x1);
        gbc.writeMem(0x1418, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x8f4e, gbc.sp());
        EXPECT(0x141a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01C1
        gbc.setState(0xaf1e, 0x75dc, 0x4e10, 0x209b, 0x5fc9, 0x108b, 0x1, 0x0);
        gbc.writeMem(0xaf1e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x75dc, gbc.sp());
        EXPECT(0xaf20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf1e));
        EXPECT(0x5a, gbc.readMem(0xaf1f));
        // CB 5A 01C3
        gbc.setState(0x601f, 0x875c, 0xda20, 0x608c, 0x579c, 0x494f, 0x0, 0x0);
        gbc.writeMem(0x601f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x875c, gbc.sp());
        EXPECT(0x6021, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01C4
        gbc.setState(0xf8e, 0xfda0, 0xa0c0, 0x89f4, 0x1613, 0x416e, 0x0, 0x0);
        gbc.writeMem(0xf8e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xfda0, gbc.sp());
        EXPECT(0xf90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01C5
        gbc.setState(0x1901, 0x8730, 0xded0, 0xa74, 0x5fff, 0x3b66, 0x1, 0x0);
        gbc.writeMem(0x1901, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x8730, gbc.sp());
        EXPECT(0x1903, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01C6
        gbc.setState(0x8381, 0x4626, 0xf190, 0xd3bb, 0xdd1, 0x1fd8, 0x1, 0x0);
        gbc.writeMem(0x8381, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x4626, gbc.sp());
        EXPECT(0x8383, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8381));
        EXPECT(0x5a, gbc.readMem(0x8382));
        // CB 5A 01C7
        gbc.setState(0xba10, 0xf464, 0x68d0, 0x3ec3, 0xc88d, 0x5f2b, 0x1, 0x1);
        gbc.writeMem(0xba10, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xf464, gbc.sp());
        EXPECT(0xba12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba10));
        EXPECT(0x5a, gbc.readMem(0xba11));
        // CB 5A 01C9
        gbc.setState(0x3603, 0xadd3, 0xc5f0, 0xb40, 0x465f, 0xc053, 0x0, 0x0);
        gbc.writeMem(0x3603, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xadd3, gbc.sp());
        EXPECT(0x3605, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01CA
        gbc.setState(0x54b6, 0xc0a6, 0x1670, 0x4877, 0xa40c, 0x167f, 0x0, 0x1);
        gbc.writeMem(0x54b6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc0a6, gbc.sp());
        EXPECT(0x54b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01CB
        gbc.setState(0xd60, 0xad78, 0x3410, 0xb1ea, 0x137c, 0x5edf, 0x0, 0x1);
        gbc.writeMem(0xd60, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xad78, gbc.sp());
        EXPECT(0xd62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01CC
        gbc.setState(0x59a0, 0x68ad, 0xfc60, 0x9fc7, 0x284f, 0x82fa, 0x1, 0x0);
        gbc.writeMem(0x59a0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x68ad, gbc.sp());
        EXPECT(0x59a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01CD
        gbc.setState(0x68a2, 0x6856, 0xf340, 0xe80b, 0xba8c, 0xf05, 0x1, 0x1);
        gbc.writeMem(0x68a2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x6856, gbc.sp());
        EXPECT(0x68a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01CE
        gbc.setState(0xb370, 0x8546, 0xd120, 0x8db3, 0xfec5, 0xb64b, 0x0, 0x1);
        gbc.writeMem(0xb370, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x8546, gbc.sp());
        EXPECT(0xb372, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb370));
        EXPECT(0x5a, gbc.readMem(0xb371));
        // CB 5A 01CF
        gbc.setState(0x6977, 0x5ddd, 0x590, 0x3010, 0x382, 0xb46c, 0x0, 0x1);
        gbc.writeMem(0x6977, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x5ddd, gbc.sp());
        EXPECT(0x6979, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01D0
        gbc.setState(0xa849, 0x981d, 0x5ac0, 0xfb42, 0xa8fe, 0xe4fa, 0x0, 0x0);
        gbc.writeMem(0xa849, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x981d, gbc.sp());
        EXPECT(0xa84b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa849));
        EXPECT(0x5a, gbc.readMem(0xa84a));
        // CB 5A 01D1
        gbc.setState(0x2b32, 0x286d, 0xa120, 0xdbe0, 0x5f45, 0x1000, 0x0, 0x0);
        gbc.writeMem(0x2b32, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x286d, gbc.sp());
        EXPECT(0x2b34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01D2
        gbc.setState(0xcb61, 0x3148, 0xa80, 0x4982, 0x6b5a, 0x40eb, 0x0, 0x1);
        gbc.writeMem(0xcb61, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x3148, gbc.sp());
        EXPECT(0xcb63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb61));
        EXPECT(0x5a, gbc.readMem(0xcb62));
        // CB 5A 01D3
        gbc.setState(0x63d4, 0xea73, 0xf7c0, 0xff14, 0xd1b6, 0x326e, 0x0, 0x0);
        gbc.writeMem(0x63d4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xea73, gbc.sp());
        EXPECT(0x63d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01D4
        gbc.setState(0xd4ca, 0x910a, 0x9800, 0x585d, 0x3580, 0x433a, 0x0, 0x0);
        gbc.writeMem(0xd4ca, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x910a, gbc.sp());
        EXPECT(0xd4cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4ca));
        EXPECT(0x5a, gbc.readMem(0xd4cb));
        // CB 5A 01D5
        gbc.setState(0xc931, 0x9583, 0xa980, 0x5927, 0x5b8, 0x58d7, 0x1, 0x1);
        gbc.writeMem(0xc931, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x9583, gbc.sp());
        EXPECT(0xc933, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc931));
        EXPECT(0x5a, gbc.readMem(0xc932));
        // CB 5A 01D6
        gbc.setState(0x28c3, 0x84b5, 0xef30, 0x475e, 0x571f, 0xd5d2, 0x0, 0x1);
        gbc.writeMem(0x28c3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x84b5, gbc.sp());
        EXPECT(0x28c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01D7
        gbc.setState(0x274c, 0xd126, 0xaae0, 0x46d4, 0xfd08, 0x8e4c, 0x1, 0x0);
        gbc.writeMem(0x274c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xd126, gbc.sp());
        EXPECT(0x274e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01D8
        gbc.setState(0x6262, 0xd265, 0xe7a0, 0x12cb, 0xaea3, 0xde90, 0x1, 0x0);
        gbc.writeMem(0x6262, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xd265, gbc.sp());
        EXPECT(0x6264, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01D9
        gbc.setState(0x2ff7, 0x5aed, 0x3d90, 0x3885, 0x4909, 0xef3d, 0x1, 0x0);
        gbc.writeMem(0x2ff7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x5aed, gbc.sp());
        EXPECT(0x2ff9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01DA
        gbc.setState(0x4250, 0x25d2, 0xa370, 0x5af9, 0x8a9, 0xee81, 0x1, 0x1);
        gbc.writeMem(0x4250, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x25d2, gbc.sp());
        EXPECT(0x4252, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01DB
        gbc.setState(0x64ca, 0xf65, 0xb220, 0xb800, 0x9cc7, 0xb9ee, 0x1, 0x1);
        gbc.writeMem(0x64ca, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xf65, gbc.sp());
        EXPECT(0x64cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01DC
        gbc.setState(0x638c, 0x5dbd, 0xf970, 0xba34, 0x23f6, 0x768f, 0x1, 0x1);
        gbc.writeMem(0x638c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x5dbd, gbc.sp());
        EXPECT(0x638e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01DD
        gbc.setState(0x7c30, 0x2682, 0x5840, 0x7c87, 0xfa83, 0xa518, 0x0, 0x0);
        gbc.writeMem(0x7c30, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x2682, gbc.sp());
        EXPECT(0x7c32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01DE
        gbc.setState(0x82aa, 0x2161, 0xfad0, 0x376, 0x2bdc, 0x1698, 0x1, 0x0);
        gbc.writeMem(0x82aa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x2161, gbc.sp());
        EXPECT(0x82ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82aa));
        EXPECT(0x5a, gbc.readMem(0x82ab));
        // CB 5A 01DF
        gbc.setState(0xddb, 0x8dff, 0x55e0, 0x6730, 0xa56c, 0xd215, 0x0, 0x0);
        gbc.writeMem(0xddb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x8dff, gbc.sp());
        EXPECT(0xddd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01E0
        gbc.setState(0x63ec, 0x1253, 0xfbd0, 0x968d, 0x96be, 0xf8f8, 0x0, 0x0);
        gbc.writeMem(0x63ec, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x1253, gbc.sp());
        EXPECT(0x63ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01E1
        gbc.setState(0xa3fa, 0xc436, 0x7c00, 0xb57b, 0x2b3e, 0x42a, 0x0, 0x1);
        gbc.writeMem(0xa3fa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xc436, gbc.sp());
        EXPECT(0xa3fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3fa));
        EXPECT(0x5a, gbc.readMem(0xa3fb));
        // CB 5A 01E2
        gbc.setState(0x3a98, 0x810a, 0x3910, 0x8c7f, 0xce17, 0x6aef, 0x1, 0x1);
        gbc.writeMem(0x3a98, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x810a, gbc.sp());
        EXPECT(0x3a9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01E3
        gbc.setState(0x9ba, 0x9002, 0x6d20, 0x83e5, 0x937b, 0xcc25, 0x0, 0x0);
        gbc.writeMem(0x9ba, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x9002, gbc.sp());
        EXPECT(0x9bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01E4
        gbc.setState(0x5550, 0x4ab, 0xf3e0, 0xd1e5, 0xed2d, 0xa5e2, 0x1, 0x0);
        gbc.writeMem(0x5550, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x4ab, gbc.sp());
        EXPECT(0x5552, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01E5
        gbc.setState(0x8835, 0x12e0, 0xc2a0, 0x6c54, 0x60e8, 0xed5a, 0x0, 0x0);
        gbc.writeMem(0x8835, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x12e0, gbc.sp());
        EXPECT(0x8837, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8835));
        EXPECT(0x5a, gbc.readMem(0x8836));
        // CB 5A 01E6
        gbc.setState(0x59dc, 0xe201, 0x7130, 0xed42, 0x5f8f, 0x3539, 0x0, 0x1);
        gbc.writeMem(0x59dc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xe201, gbc.sp());
        EXPECT(0x59de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01E7
        gbc.setState(0x3fd7, 0x3ef9, 0x340, 0x506a, 0x2391, 0x995c, 0x1, 0x1);
        gbc.writeMem(0x3fd7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x3ef9, gbc.sp());
        EXPECT(0x3fd9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01E8
        gbc.setState(0x9c14, 0xacff, 0xedd0, 0xfc67, 0x7f38, 0x1e86, 0x1, 0x1);
        gbc.writeMem(0x9c14, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xacff, gbc.sp());
        EXPECT(0x9c16, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c14));
        EXPECT(0x5a, gbc.readMem(0x9c15));
        // CB 5A 01E9
        gbc.setState(0x2be7, 0x1913, 0xb80, 0x670f, 0xd7b8, 0x9084, 0x1, 0x1);
        gbc.writeMem(0x2be7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x1913, gbc.sp());
        EXPECT(0x2be9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01EA
        gbc.setState(0x7d49, 0x7ca5, 0x5f20, 0xb3c3, 0xd7ff, 0x23e9, 0x0, 0x0);
        gbc.writeMem(0x7d49, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x7ca5, gbc.sp());
        EXPECT(0x7d4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01EB
        gbc.setState(0xb976, 0x9560, 0xbd20, 0xf3f5, 0x9ba4, 0xca10, 0x0, 0x0);
        gbc.writeMem(0xb976, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x9560, gbc.sp());
        EXPECT(0xb978, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb976));
        EXPECT(0x5a, gbc.readMem(0xb977));
        // CB 5A 01EC
        gbc.setState(0xbb17, 0xb8aa, 0x1680, 0x14f8, 0x8df2, 0xaef8, 0x1, 0x0);
        gbc.writeMem(0xbb17, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xb8aa, gbc.sp());
        EXPECT(0xbb19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb17));
        EXPECT(0x5a, gbc.readMem(0xbb18));
        // CB 5A 01ED
        gbc.setState(0xc0cf, 0xfe2e, 0x33f0, 0xa269, 0x638a, 0xfaee, 0x1, 0x0);
        gbc.writeMem(0xc0cf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xfe2e, gbc.sp());
        EXPECT(0xc0d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0cf));
        EXPECT(0x5a, gbc.readMem(0xc0d0));
        // CB 5A 01EE
        gbc.setState(0x3809, 0x2aa2, 0x6a80, 0x3f75, 0x1535, 0x35bc, 0x0, 0x0);
        gbc.writeMem(0x3809, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x2aa2, gbc.sp());
        EXPECT(0x380b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01EF
        gbc.setState(0xd7bc, 0x1092, 0xaf50, 0x9352, 0x4cb0, 0x6c28, 0x1, 0x0);
        gbc.writeMem(0xd7bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x1092, gbc.sp());
        EXPECT(0xd7be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7bc));
        EXPECT(0x5a, gbc.readMem(0xd7bd));
        // CB 5A 01F0
        gbc.setState(0xc338, 0xa0b, 0xec90, 0xb8f9, 0x1e6e, 0x9448, 0x1, 0x1);
        gbc.writeMem(0xc338, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xa0b, gbc.sp());
        EXPECT(0xc33a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc338));
        EXPECT(0x5a, gbc.readMem(0xc339));
        // CB 5A 01F2
        gbc.setState(0xb659, 0x5537, 0xa520, 0x2997, 0x81cd, 0x6efb, 0x0, 0x1);
        gbc.writeMem(0xb659, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x5537, gbc.sp());
        EXPECT(0xb65b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb659));
        EXPECT(0x5a, gbc.readMem(0xb65a));
        // CB 5A 01F3
        gbc.setState(0xeb08, 0x2d1b, 0x56c0, 0x71e9, 0x91cc, 0xee8d, 0x0, 0x0);
        gbc.writeMem(0xeb08, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x2d1b, gbc.sp());
        EXPECT(0xeb0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb08));
        EXPECT(0x5a, gbc.readMem(0xeb09));
        // CB 5A 01F4
        gbc.setState(0x67c2, 0xa2f7, 0x7a0, 0x335c, 0xfa96, 0x61c8, 0x1, 0x0);
        gbc.writeMem(0x67c2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xa2f7, gbc.sp());
        EXPECT(0x67c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 01F5
        gbc.setState(0xba36, 0x5dc9, 0xa430, 0xf42a, 0xff6f, 0x3493, 0x0, 0x0);
        gbc.writeMem(0xba36, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x5dc9, gbc.sp());
        EXPECT(0xba38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba36));
        EXPECT(0x5a, gbc.readMem(0xba37));
        // CB 5A 01F6
        gbc.setState(0xa05b, 0xe411, 0xa860, 0x92cd, 0x8fdd, 0x94e0, 0x0, 0x0);
        gbc.writeMem(0xa05b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xe411, gbc.sp());
        EXPECT(0xa05d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa05b));
        EXPECT(0x5a, gbc.readMem(0xa05c));
        // CB 5A 01F7
        gbc.setState(0xd107, 0xe88e, 0xf530, 0xb116, 0x6cfe, 0xe082, 0x1, 0x0);
        gbc.writeMem(0xd107, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xe88e, gbc.sp());
        EXPECT(0xd109, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd107));
        EXPECT(0x5a, gbc.readMem(0xd108));
        // CB 5A 01F8
        gbc.setState(0x899d, 0x9706, 0x5160, 0xb16, 0x6fe6, 0xc2ef, 0x1, 0x0);
        gbc.writeMem(0x899d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x9706, gbc.sp());
        EXPECT(0x899f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x899d));
        EXPECT(0x5a, gbc.readMem(0x899e));
        // CB 5A 01F9
        gbc.setState(0x748a, 0x386, 0x9070, 0xe758, 0x8dd8, 0x4b7f, 0x1, 0x0);
        gbc.writeMem(0x748a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x386, gbc.sp());
        EXPECT(0x748c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01FB
        gbc.setState(0x3ecc, 0xacae, 0x11f0, 0xc5c6, 0xbe95, 0x73, 0x1, 0x1);
        gbc.writeMem(0x3ecc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xacae, gbc.sp());
        EXPECT(0x3ece, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01FC
        gbc.setState(0xbe5c, 0x3b1f, 0x8240, 0x6297, 0x21, 0x2fa8, 0x1, 0x1);
        gbc.writeMem(0xbe5c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x3b1f, gbc.sp());
        EXPECT(0xbe5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe5c));
        EXPECT(0x5a, gbc.readMem(0xbe5d));
        // CB 5A 01FE
        gbc.setState(0x6b77, 0xa3ef, 0xa9f0, 0x8ef4, 0xf6f5, 0x7e96, 0x0, 0x1);
        gbc.writeMem(0x6b77, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xa3ef, gbc.sp());
        EXPECT(0x6b79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 01FF
        gbc.setState(0x72fd, 0xa614, 0x8540, 0x52f7, 0x8ee5, 0x80d1, 0x0, 0x1);
        gbc.writeMem(0x72fd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa614, gbc.sp());
        EXPECT(0x72ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0200
        gbc.setState(0x35cb, 0xe04d, 0xc230, 0x2b1, 0x557a, 0xdf23, 0x0, 0x1);
        gbc.writeMem(0x35cb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xe04d, gbc.sp());
        EXPECT(0x35cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0201
        gbc.setState(0x5ea3, 0xe775, 0x4930, 0xf035, 0x18a, 0x47e2, 0x0, 0x1);
        gbc.writeMem(0x5ea3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xe775, gbc.sp());
        EXPECT(0x5ea5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0202
        gbc.setState(0xa499, 0xfac7, 0x4ac0, 0x9ad5, 0xe2a8, 0xbce2, 0x1, 0x0);
        gbc.writeMem(0xa499, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xfac7, gbc.sp());
        EXPECT(0xa49b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa499));
        EXPECT(0x5a, gbc.readMem(0xa49a));
        // CB 5A 0203
        gbc.setState(0xe54a, 0xcf08, 0xe600, 0x5982, 0xd5ad, 0x1896, 0x1, 0x1);
        gbc.writeMem(0xe54a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xcf08, gbc.sp());
        EXPECT(0xe54c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe54a));
        EXPECT(0x5a, gbc.readMem(0xe54b));
        // CB 5A 0204
        gbc.setState(0x71af, 0x463f, 0x3220, 0xcb95, 0xc945, 0x2915, 0x1, 0x0);
        gbc.writeMem(0x71af, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x463f, gbc.sp());
        EXPECT(0x71b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0205
        gbc.setState(0xd861, 0x61f, 0x7530, 0x7ba5, 0x3fb0, 0xb018, 0x0, 0x0);
        gbc.writeMem(0xd861, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x61f, gbc.sp());
        EXPECT(0xd863, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd861));
        EXPECT(0x5a, gbc.readMem(0xd862));
        // CB 5A 0206
        gbc.setState(0x9f4d, 0xf5c6, 0x7220, 0xd08, 0x5b40, 0x3e04, 0x0, 0x1);
        gbc.writeMem(0x9f4d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xf5c6, gbc.sp());
        EXPECT(0x9f4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f4d));
        EXPECT(0x5a, gbc.readMem(0x9f4e));
        // CB 5A 0207
        gbc.setState(0x8437, 0xc15a, 0xa3f0, 0x3e02, 0xb0f6, 0x70b2, 0x1, 0x0);
        gbc.writeMem(0x8437, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xc15a, gbc.sp());
        EXPECT(0x8439, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8437));
        EXPECT(0x5a, gbc.readMem(0x8438));
        // CB 5A 0208
        gbc.setState(0x2bf9, 0xaf4f, 0x96c0, 0x6569, 0x224d, 0xf80f, 0x0, 0x1);
        gbc.writeMem(0x2bf9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xaf4f, gbc.sp());
        EXPECT(0x2bfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0209
        gbc.setState(0xbf07, 0x6813, 0xc120, 0x9ec, 0x627d, 0x815e, 0x0, 0x0);
        gbc.writeMem(0xbf07, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x6813, gbc.sp());
        EXPECT(0xbf09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf07));
        EXPECT(0x5a, gbc.readMem(0xbf08));
        // CB 5A 020A
        gbc.setState(0x5c30, 0xe7a8, 0xcf0, 0x1ab4, 0x6818, 0x83ee, 0x0, 0x1);
        gbc.writeMem(0x5c30, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xe7a8, gbc.sp());
        EXPECT(0x5c32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 020B
        gbc.setState(0xe7e5, 0x3c25, 0xcbd0, 0x99b7, 0x3f1e, 0x99ef, 0x1, 0x1);
        gbc.writeMem(0xe7e5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x3c25, gbc.sp());
        EXPECT(0xe7e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7e5));
        EXPECT(0x5a, gbc.readMem(0xe7e6));
        // CB 5A 020C
        gbc.setState(0xcbac, 0x3c66, 0xa310, 0x8905, 0x7f75, 0x9785, 0x0, 0x1);
        gbc.writeMem(0xcbac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x3c66, gbc.sp());
        EXPECT(0xcbae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbac));
        EXPECT(0x5a, gbc.readMem(0xcbad));
        // CB 5A 020D
        gbc.setState(0xd3b9, 0x99e9, 0xf20, 0xb43b, 0xa479, 0x1bb5, 0x0, 0x1);
        gbc.writeMem(0xd3b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x99e9, gbc.sp());
        EXPECT(0xd3bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3b9));
        EXPECT(0x5a, gbc.readMem(0xd3ba));
        // CB 5A 020E
        gbc.setState(0x34e0, 0xbb8a, 0x8310, 0x9848, 0x66c6, 0x58e9, 0x0, 0x1);
        gbc.writeMem(0x34e0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xbb8a, gbc.sp());
        EXPECT(0x34e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 020F
        gbc.setState(0xd91, 0x64ae, 0xc010, 0xc4e8, 0xcbb2, 0x142b, 0x1, 0x0);
        gbc.writeMem(0xd91, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x64ae, gbc.sp());
        EXPECT(0xd93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0210
        gbc.setState(0xa668, 0x29c4, 0x7580, 0x22dd, 0x8f65, 0xdb0b, 0x1, 0x0);
        gbc.writeMem(0xa668, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x29c4, gbc.sp());
        EXPECT(0xa66a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa668));
        EXPECT(0x5a, gbc.readMem(0xa669));
        // CB 5A 0211
        gbc.setState(0x7a97, 0x18b0, 0x1e10, 0xf0ce, 0x12d9, 0xaf5a, 0x1, 0x0);
        gbc.writeMem(0x7a97, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x18b0, gbc.sp());
        EXPECT(0x7a99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0212
        gbc.setState(0x7936, 0xab, 0xaec0, 0xd90a, 0xfb30, 0x878e, 0x0, 0x1);
        gbc.writeMem(0x7936, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xab, gbc.sp());
        EXPECT(0x7938, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0213
        gbc.setState(0x7580, 0xc7f9, 0xa070, 0xdc9f, 0xaf19, 0x135a, 0x0, 0x1);
        gbc.writeMem(0x7580, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xc7f9, gbc.sp());
        EXPECT(0x7582, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0215
        gbc.setState(0x80d1, 0x9914, 0x2020, 0x3f32, 0x75d2, 0x3581, 0x0, 0x0);
        gbc.writeMem(0x80d1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x9914, gbc.sp());
        EXPECT(0x80d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80d1));
        EXPECT(0x5a, gbc.readMem(0x80d2));
        // CB 5A 0216
        gbc.setState(0xe38a, 0xbe63, 0x9d10, 0xec4d, 0xca97, 0x7a5b, 0x0, 0x1);
        gbc.writeMem(0xe38a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xbe63, gbc.sp());
        EXPECT(0xe38c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe38a));
        EXPECT(0x5a, gbc.readMem(0xe38b));
        // CB 5A 0217
        gbc.setState(0xa28d, 0xde6c, 0x7390, 0x3f6c, 0xdc60, 0x3001, 0x1, 0x0);
        gbc.writeMem(0xa28d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xde6c, gbc.sp());
        EXPECT(0xa28f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa28d));
        EXPECT(0x5a, gbc.readMem(0xa28e));
        // CB 5A 0218
        gbc.setState(0xb559, 0x6aff, 0xf730, 0x6c17, 0x7c41, 0x14c9, 0x0, 0x0);
        gbc.writeMem(0xb559, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x6aff, gbc.sp());
        EXPECT(0xb55b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb559));
        EXPECT(0x5a, gbc.readMem(0xb55a));
        // CB 5A 0219
        gbc.setState(0xd885, 0xfdd2, 0x4ac0, 0x28cd, 0xb7d6, 0x10d6, 0x0, 0x0);
        gbc.writeMem(0xd885, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xfdd2, gbc.sp());
        EXPECT(0xd887, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd885));
        EXPECT(0x5a, gbc.readMem(0xd886));
        // CB 5A 021A
        gbc.setState(0x2f86, 0x7f02, 0xa6a0, 0x30de, 0x739b, 0x5eb3, 0x1, 0x1);
        gbc.writeMem(0x2f86, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x7f02, gbc.sp());
        EXPECT(0x2f88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 021B
        gbc.setState(0x764, 0x7f4d, 0x5160, 0x975a, 0x9af3, 0x2cfa, 0x1, 0x0);
        gbc.writeMem(0x764, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x7f4d, gbc.sp());
        EXPECT(0x766, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 021C
        gbc.setState(0xcb9e, 0xcd00, 0x9e00, 0x26f0, 0x4531, 0xb256, 0x1, 0x1);
        gbc.writeMem(0xcb9e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xcd00, gbc.sp());
        EXPECT(0xcba0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb9e));
        EXPECT(0x5a, gbc.readMem(0xcb9f));
        // CB 5A 021D
        gbc.setState(0x7393, 0x4f5d, 0x13b0, 0xab88, 0x580, 0xb146, 0x0, 0x1);
        gbc.writeMem(0x7393, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x4f5d, gbc.sp());
        EXPECT(0x7395, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 021E
        gbc.setState(0x70df, 0xda4, 0xe680, 0x8e88, 0x1086, 0x3d73, 0x0, 0x1);
        gbc.writeMem(0x70df, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xda4, gbc.sp());
        EXPECT(0x70e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 021F
        gbc.setState(0x420c, 0xe74a, 0x4520, 0xdfe3, 0x372a, 0x5a51, 0x0, 0x1);
        gbc.writeMem(0x420c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xe74a, gbc.sp());
        EXPECT(0x420e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0220
        gbc.setState(0xcabd, 0x5b1c, 0x8bb0, 0x934e, 0xf24e, 0x7efe, 0x1, 0x0);
        gbc.writeMem(0xcabd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x5b1c, gbc.sp());
        EXPECT(0xcabf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcabd));
        EXPECT(0x5a, gbc.readMem(0xcabe));
        // CB 5A 0221
        gbc.setState(0x258f, 0xbd8e, 0x5a50, 0xfe9a, 0x9086, 0xcf42, 0x1, 0x1);
        gbc.writeMem(0x258f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xbd8e, gbc.sp());
        EXPECT(0x2591, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0222
        gbc.setState(0xd40e, 0x53ab, 0x4a50, 0xfb60, 0x6fdc, 0x302c, 0x1, 0x0);
        gbc.writeMem(0xd40e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x53ab, gbc.sp());
        EXPECT(0xd410, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd40e));
        EXPECT(0x5a, gbc.readMem(0xd40f));
        // CB 5A 0223
        gbc.setState(0x448b, 0x7009, 0xbd30, 0x77a6, 0x9f67, 0xfd7d, 0x1, 0x1);
        gbc.writeMem(0x448b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x7009, gbc.sp());
        EXPECT(0x448d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0224
        gbc.setState(0x1eef, 0xd3d0, 0x55f0, 0xa03c, 0x9c2, 0x26ed, 0x1, 0x1);
        gbc.writeMem(0x1eef, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xd3d0, gbc.sp());
        EXPECT(0x1ef1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0225
        gbc.setState(0xd590, 0x1d89, 0xdcb0, 0xbd7f, 0x3494, 0xc36, 0x1, 0x0);
        gbc.writeMem(0xd590, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x1d89, gbc.sp());
        EXPECT(0xd592, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd590));
        EXPECT(0x5a, gbc.readMem(0xd591));
        // CB 5A 0226
        gbc.setState(0x412c, 0xf949, 0xe7e0, 0xa73, 0x87d5, 0x6771, 0x1, 0x0);
        gbc.writeMem(0x412c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xf949, gbc.sp());
        EXPECT(0x412e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0227
        gbc.setState(0x524, 0x19c5, 0xf820, 0xcb68, 0xc7ef, 0x9440, 0x1, 0x0);
        gbc.writeMem(0x524, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x19c5, gbc.sp());
        EXPECT(0x526, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0228
        gbc.setState(0x62ff, 0x60ae, 0xe1d0, 0xc5c7, 0x3527, 0xa3dc, 0x1, 0x1);
        gbc.writeMem(0x62ff, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x60ae, gbc.sp());
        EXPECT(0x6301, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0229
        gbc.setState(0x5ec, 0x3ddd, 0xb7f0, 0x47b3, 0x70dc, 0xe090, 0x1, 0x1);
        gbc.writeMem(0x5ec, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x3ddd, gbc.sp());
        EXPECT(0x5ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 022A
        gbc.setState(0x40f7, 0x8f28, 0x5b40, 0x6b48, 0x9943, 0xe041, 0x0, 0x1);
        gbc.writeMem(0x40f7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x8f28, gbc.sp());
        EXPECT(0x40f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 022B
        gbc.setState(0x7e32, 0x6366, 0x9150, 0xb6a4, 0xf249, 0xed6d, 0x1, 0x1);
        gbc.writeMem(0x7e32, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x6366, gbc.sp());
        EXPECT(0x7e34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 022C
        gbc.setState(0x8690, 0xb93e, 0x31d0, 0x1136, 0xd66a, 0x88b4, 0x1, 0x1);
        gbc.writeMem(0x8690, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xb93e, gbc.sp());
        EXPECT(0x8692, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8690));
        EXPECT(0x5a, gbc.readMem(0x8691));
        // CB 5A 022E
        gbc.setState(0x41b9, 0x9ff2, 0x3d20, 0x51ec, 0x94b, 0xabcb, 0x1, 0x1);
        gbc.writeMem(0x41b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x9ff2, gbc.sp());
        EXPECT(0x41bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 022F
        gbc.setState(0x7ba3, 0x188e, 0xbb00, 0x5030, 0x6ed6, 0x594f, 0x1, 0x0);
        gbc.writeMem(0x7ba3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x188e, gbc.sp());
        EXPECT(0x7ba5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0230
        gbc.setState(0x28dd, 0xc4e8, 0xcaa0, 0x805d, 0xa310, 0x59c9, 0x0, 0x0);
        gbc.writeMem(0x28dd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xc4e8, gbc.sp());
        EXPECT(0x28df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0231
        gbc.setState(0x9014, 0x43f1, 0x1780, 0x6ed2, 0x4495, 0xb281, 0x0, 0x1);
        gbc.writeMem(0x9014, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x43f1, gbc.sp());
        EXPECT(0x9016, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9014));
        EXPECT(0x5a, gbc.readMem(0x9015));
        // CB 5A 0232
        gbc.setState(0x5a9d, 0xce6c, 0xf140, 0x7110, 0x8521, 0x8d0b, 0x1, 0x1);
        gbc.writeMem(0x5a9d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xce6c, gbc.sp());
        EXPECT(0x5a9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0233
        gbc.setState(0xd3b7, 0x9ba0, 0x5120, 0xbbd8, 0xb23c, 0xb671, 0x1, 0x1);
        gbc.writeMem(0xd3b7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x9ba0, gbc.sp());
        EXPECT(0xd3b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3b7));
        EXPECT(0x5a, gbc.readMem(0xd3b8));
        // CB 5A 0234
        gbc.setState(0x12bd, 0xb3, 0xae10, 0xf45c, 0xa0e6, 0x6c3c, 0x1, 0x0);
        gbc.writeMem(0x12bd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb3, gbc.sp());
        EXPECT(0x12bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0235
        gbc.setState(0x87fe, 0xd99c, 0xd830, 0xc594, 0x58ed, 0x1dea, 0x1, 0x0);
        gbc.writeMem(0x87fe, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xd99c, gbc.sp());
        EXPECT(0x8800, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87fe));
        EXPECT(0x5a, gbc.readMem(0x87ff));
        // CB 5A 0236
        gbc.setState(0xce28, 0xe330, 0x89a0, 0x5c1f, 0xfae0, 0x7ef1, 0x1, 0x0);
        gbc.writeMem(0xce28, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xe330, gbc.sp());
        EXPECT(0xce2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce28));
        EXPECT(0x5a, gbc.readMem(0xce29));
        // CB 5A 0237
        gbc.setState(0x5f9f, 0x77c5, 0xe260, 0x4766, 0x66e9, 0x283a, 0x0, 0x0);
        gbc.writeMem(0x5f9f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x77c5, gbc.sp());
        EXPECT(0x5fa1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0238
        gbc.setState(0x6827, 0xae79, 0xc3a0, 0x2706, 0x521e, 0xa31f, 0x0, 0x1);
        gbc.writeMem(0x6827, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xae79, gbc.sp());
        EXPECT(0x6829, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0239
        gbc.setState(0x7dd1, 0xb9d8, 0x31d0, 0x7f33, 0x5cb1, 0xfb9e, 0x1, 0x1);
        gbc.writeMem(0x7dd1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb9d8, gbc.sp());
        EXPECT(0x7dd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 023A
        gbc.setState(0x836, 0x7817, 0xdbb0, 0xf2cc, 0x7ecd, 0xdce2, 0x0, 0x0);
        gbc.writeMem(0x836, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x7817, gbc.sp());
        EXPECT(0x838, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 023B
        gbc.setState(0x6813, 0x69e9, 0xede0, 0x4b70, 0x995e, 0x9eba, 0x0, 0x0);
        gbc.writeMem(0x6813, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x69e9, gbc.sp());
        EXPECT(0x6815, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 023C
        gbc.setState(0x2b6, 0x15bf, 0x1210, 0x7b89, 0xc649, 0x743c, 0x0, 0x0);
        gbc.writeMem(0x2b6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x15bf, gbc.sp());
        EXPECT(0x2b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 023D
        gbc.setState(0x8903, 0xc341, 0x4290, 0x8f0, 0xff2, 0xa039, 0x0, 0x0);
        gbc.writeMem(0x8903, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xc341, gbc.sp());
        EXPECT(0x8905, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8903));
        EXPECT(0x5a, gbc.readMem(0x8904));
        // CB 5A 023E
        gbc.setState(0x4d54, 0x2e22, 0xaa00, 0x3f32, 0xb855, 0x1b02, 0x1, 0x1);
        gbc.writeMem(0x4d54, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x2e22, gbc.sp());
        EXPECT(0x4d56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0240
        gbc.setState(0xa7e4, 0xd23d, 0x3d20, 0xdf6c, 0x6d6c, 0xe075, 0x1, 0x1);
        gbc.writeMem(0xa7e4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xd23d, gbc.sp());
        EXPECT(0xa7e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7e4));
        EXPECT(0x5a, gbc.readMem(0xa7e5));
        // CB 5A 0241
        gbc.setState(0x57a5, 0x366b, 0xe8b0, 0x1252, 0x6f9c, 0xffba, 0x1, 0x1);
        gbc.writeMem(0x57a5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x366b, gbc.sp());
        EXPECT(0x57a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0242
        gbc.setState(0xd4eb, 0x519c, 0x7370, 0xdf3a, 0xa00e, 0xc365, 0x1, 0x0);
        gbc.writeMem(0xd4eb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x519c, gbc.sp());
        EXPECT(0xd4ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4eb));
        EXPECT(0x5a, gbc.readMem(0xd4ec));
        // CB 5A 0243
        gbc.setState(0xd373, 0xe06c, 0x9e20, 0x8a4, 0xeb8e, 0xf7e9, 0x1, 0x0);
        gbc.writeMem(0xd373, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xe06c, gbc.sp());
        EXPECT(0xd375, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd373));
        EXPECT(0x5a, gbc.readMem(0xd374));
        // CB 5A 0244
        gbc.setState(0xa7e5, 0xa6d6, 0xd820, 0x54ae, 0x973d, 0x5c61, 0x0, 0x1);
        gbc.writeMem(0xa7e5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xa6d6, gbc.sp());
        EXPECT(0xa7e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7e5));
        EXPECT(0x5a, gbc.readMem(0xa7e6));
        // CB 5A 0245
        gbc.setState(0x3507, 0x470e, 0xa3d0, 0x9f25, 0x8f96, 0x9647, 0x1, 0x1);
        gbc.writeMem(0x3507, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x470e, gbc.sp());
        EXPECT(0x3509, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0246
        gbc.setState(0xa5da, 0x6a7d, 0x1a40, 0xa7c7, 0x91ef, 0xe740, 0x1, 0x1);
        gbc.writeMem(0xa5da, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x6a7d, gbc.sp());
        EXPECT(0xa5dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5da));
        EXPECT(0x5a, gbc.readMem(0xa5db));
        // CB 5A 0248
        gbc.setState(0x240b, 0x3728, 0x4af0, 0x9bd2, 0x6908, 0x3eb4, 0x1, 0x1);
        gbc.writeMem(0x240b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x3728, gbc.sp());
        EXPECT(0x240d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0249
        gbc.setState(0xa4cb, 0x9f24, 0x2ca0, 0x1bfa, 0x7f78, 0x7913, 0x0, 0x0);
        gbc.writeMem(0xa4cb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x9f24, gbc.sp());
        EXPECT(0xa4cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4cb));
        EXPECT(0x5a, gbc.readMem(0xa4cc));
        // CB 5A 024A
        gbc.setState(0x3ee1, 0xdc8, 0x7ee0, 0x38fb, 0x5596, 0xa3a0, 0x0, 0x0);
        gbc.writeMem(0x3ee1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xdc8, gbc.sp());
        EXPECT(0x3ee3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 024B
        gbc.setState(0x61a6, 0x4ee1, 0x2f20, 0x6ddf, 0x6fe3, 0x2db9, 0x0, 0x0);
        gbc.writeMem(0x61a6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x4ee1, gbc.sp());
        EXPECT(0x61a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 024C
        gbc.setState(0x466e, 0x23c5, 0xca20, 0x3845, 0x541d, 0x4fd9, 0x0, 0x1);
        gbc.writeMem(0x466e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x23c5, gbc.sp());
        EXPECT(0x4670, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 024E
        gbc.setState(0x8a18, 0x215e, 0x9cd0, 0x950b, 0x7ead, 0x70d0, 0x0, 0x1);
        gbc.writeMem(0x8a18, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x215e, gbc.sp());
        EXPECT(0x8a1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a18));
        EXPECT(0x5a, gbc.readMem(0x8a19));
        // CB 5A 024F
        gbc.setState(0x25e4, 0x7362, 0xbb90, 0x36bf, 0x1b6e, 0x27d6, 0x1, 0x1);
        gbc.writeMem(0x25e4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x7362, gbc.sp());
        EXPECT(0x25e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0250
        gbc.setState(0x4fde, 0xdb2a, 0x8cf0, 0xf7e9, 0x93f9, 0xf0dd, 0x1, 0x0);
        gbc.writeMem(0x4fde, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xdb2a, gbc.sp());
        EXPECT(0x4fe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0251
        gbc.setState(0x7c15, 0x6f16, 0x7130, 0x3524, 0x8802, 0x60e7, 0x0, 0x1);
        gbc.writeMem(0x7c15, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x6f16, gbc.sp());
        EXPECT(0x7c17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0252
        gbc.setState(0x4082, 0xe2c6, 0x7290, 0x4fb5, 0x3613, 0xb25e, 0x0, 0x1);
        gbc.writeMem(0x4082, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xe2c6, gbc.sp());
        EXPECT(0x4084, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0253
        gbc.setState(0x4098, 0xd736, 0xc090, 0x1c8e, 0x12b5, 0x4bf5, 0x1, 0x1);
        gbc.writeMem(0x4098, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xd736, gbc.sp());
        EXPECT(0x409a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0254
        gbc.setState(0x2b9f, 0xdb7f, 0xf0b0, 0x7659, 0xc597, 0xffc1, 0x1, 0x0);
        gbc.writeMem(0x2b9f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xdb7f, gbc.sp());
        EXPECT(0x2ba1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0255
        gbc.setState(0x59dc, 0x6b02, 0x1820, 0x2f0e, 0xa81d, 0x7b26, 0x1, 0x1);
        gbc.writeMem(0x59dc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x6b02, gbc.sp());
        EXPECT(0x59de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0256
        gbc.setState(0x1b96, 0x2c83, 0x9ff0, 0xfdd1, 0x42d5, 0x8a4a, 0x0, 0x1);
        gbc.writeMem(0x1b96, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x2c83, gbc.sp());
        EXPECT(0x1b98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0258
        gbc.setState(0xaf81, 0x3ec4, 0x6220, 0x4dab, 0xe255, 0x8dbf, 0x0, 0x0);
        gbc.writeMem(0xaf81, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x3ec4, gbc.sp());
        EXPECT(0xaf83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf81));
        EXPECT(0x5a, gbc.readMem(0xaf82));
        // CB 5A 025A
        gbc.setState(0x2e3e, 0x1393, 0x450, 0xfd79, 0xb9c3, 0x8d82, 0x0, 0x1);
        gbc.writeMem(0x2e3e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x1393, gbc.sp());
        EXPECT(0x2e40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 025B
        gbc.setState(0xc009, 0xfde0, 0x9fe0, 0xfad6, 0xa9ef, 0xf2e4, 0x1, 0x1);
        gbc.writeMem(0xc009, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xfde0, gbc.sp());
        EXPECT(0xc00b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc009));
        EXPECT(0x5a, gbc.readMem(0xc00a));
        // CB 5A 025C
        gbc.setState(0x8f2e, 0x86f, 0x6670, 0xcad9, 0x4003, 0x45ac, 0x0, 0x1);
        gbc.writeMem(0x8f2e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x86f, gbc.sp());
        EXPECT(0x8f30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f2e));
        EXPECT(0x5a, gbc.readMem(0x8f2f));
        // CB 5A 025D
        gbc.setState(0x5240, 0x5c25, 0xe1a0, 0xa197, 0x3b26, 0x7142, 0x1, 0x1);
        gbc.writeMem(0x5240, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x5c25, gbc.sp());
        EXPECT(0x5242, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 025E
        gbc.setState(0x4bfb, 0xb751, 0x42c0, 0x8ac7, 0x14c5, 0xdaf0, 0x0, 0x0);
        gbc.writeMem(0x4bfb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xb751, gbc.sp());
        EXPECT(0x4bfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 025F
        gbc.setState(0x64b7, 0xb98a, 0x95f0, 0x1bbc, 0x8e7e, 0x2478, 0x0, 0x1);
        gbc.writeMem(0x64b7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xb98a, gbc.sp());
        EXPECT(0x64b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0260
        gbc.setState(0x525b, 0x56f3, 0x95a0, 0xf142, 0xdcd3, 0xc3c7, 0x0, 0x0);
        gbc.writeMem(0x525b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x56f3, gbc.sp());
        EXPECT(0x525d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0261
        gbc.setState(0x5a32, 0x1cbb, 0x2790, 0x8cbc, 0x33e3, 0xd4e2, 0x1, 0x0);
        gbc.writeMem(0x5a32, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x1cbb, gbc.sp());
        EXPECT(0x5a34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0262
        gbc.setState(0x93cf, 0xdeb, 0x1040, 0x2a2c, 0x7742, 0xb6d5, 0x1, 0x0);
        gbc.writeMem(0x93cf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xdeb, gbc.sp());
        EXPECT(0x93d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93cf));
        EXPECT(0x5a, gbc.readMem(0x93d0));
        // CB 5A 0263
        gbc.setState(0x6cad, 0xfa82, 0xe980, 0x87ff, 0xd015, 0x1513, 0x1, 0x0);
        gbc.writeMem(0x6cad, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xfa82, gbc.sp());
        EXPECT(0x6caf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0264
        gbc.setState(0xd57d, 0x7bc9, 0x7fe0, 0xbac7, 0x8556, 0xd491, 0x1, 0x1);
        gbc.writeMem(0xd57d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x7bc9, gbc.sp());
        EXPECT(0xd57f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd57d));
        EXPECT(0x5a, gbc.readMem(0xd57e));
        // CB 5A 0265
        gbc.setState(0x68ad, 0x8e5e, 0xcd50, 0x9984, 0xac4f, 0x7185, 0x1, 0x0);
        gbc.writeMem(0x68ad, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x8e5e, gbc.sp());
        EXPECT(0x68af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0266
        gbc.setState(0x83de, 0xb38a, 0xb120, 0x8ce0, 0x5d4e, 0xba18, 0x0, 0x0);
        gbc.writeMem(0x83de, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xb38a, gbc.sp());
        EXPECT(0x83e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83de));
        EXPECT(0x5a, gbc.readMem(0x83df));
        // CB 5A 0267
        gbc.setState(0x419, 0xc67d, 0x62a0, 0x2c09, 0xe61c, 0x2993, 0x1, 0x1);
        gbc.writeMem(0x419, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xc67d, gbc.sp());
        EXPECT(0x41b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0268
        gbc.setState(0x88b6, 0xf57, 0x4f70, 0x4455, 0x98d4, 0x2c1f, 0x1, 0x0);
        gbc.writeMem(0x88b6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xf57, gbc.sp());
        EXPECT(0x88b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88b6));
        EXPECT(0x5a, gbc.readMem(0x88b7));
        // CB 5A 0269
        gbc.setState(0xa726, 0x3c94, 0x8f70, 0xfd9e, 0xbc66, 0xa75a, 0x0, 0x1);
        gbc.writeMem(0xa726, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x3c94, gbc.sp());
        EXPECT(0xa728, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa726));
        EXPECT(0x5a, gbc.readMem(0xa727));
        // CB 5A 026A
        gbc.setState(0x89d6, 0xa47f, 0x93e0, 0xf7c5, 0xb2ca, 0x9875, 0x1, 0x1);
        gbc.writeMem(0x89d6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xa47f, gbc.sp());
        EXPECT(0x89d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89d6));
        EXPECT(0x5a, gbc.readMem(0x89d7));
        // CB 5A 026B
        gbc.setState(0x234c, 0xd260, 0x2100, 0x2e42, 0xb95a, 0xe5b6, 0x0, 0x0);
        gbc.writeMem(0x234c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd260, gbc.sp());
        EXPECT(0x234e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 026C
        gbc.setState(0x546f, 0xddb4, 0xf9f0, 0x19a7, 0x1c07, 0x9ddf, 0x0, 0x0);
        gbc.writeMem(0x546f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xddb4, gbc.sp());
        EXPECT(0x5471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 026D
        gbc.setState(0xb661, 0x7915, 0xe5b0, 0x8e31, 0x83b9, 0xdcd1, 0x0, 0x1);
        gbc.writeMem(0xb661, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x7915, gbc.sp());
        EXPECT(0xb663, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb661));
        EXPECT(0x5a, gbc.readMem(0xb662));
        // CB 5A 026E
        gbc.setState(0xab61, 0x191d, 0x1870, 0x58ba, 0x9aee, 0xd259, 0x1, 0x0);
        gbc.writeMem(0xab61, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x191d, gbc.sp());
        EXPECT(0xab63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab61));
        EXPECT(0x5a, gbc.readMem(0xab62));
        // CB 5A 026F
        gbc.setState(0x9b43, 0xf3c1, 0xb6a0, 0x55bc, 0x32cc, 0x2f10, 0x1, 0x1);
        gbc.writeMem(0x9b43, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xf3c1, gbc.sp());
        EXPECT(0x9b45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b43));
        EXPECT(0x5a, gbc.readMem(0x9b44));
        // CB 5A 0270
        gbc.setState(0xe898, 0x9580, 0x9570, 0x4bae, 0x9f81, 0x7902, 0x1, 0x0);
        gbc.writeMem(0xe898, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x9580, gbc.sp());
        EXPECT(0xe89a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe898));
        EXPECT(0x5a, gbc.readMem(0xe899));
        // CB 5A 0271
        gbc.setState(0x32bd, 0x75ab, 0xf170, 0xabb5, 0xb39a, 0x26b4, 0x1, 0x1);
        gbc.writeMem(0x32bd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x75ab, gbc.sp());
        EXPECT(0x32bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0273
        gbc.setState(0x3140, 0xb77c, 0xea00, 0x3be0, 0x45a9, 0x4b15, 0x1, 0x1);
        gbc.writeMem(0x3140, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xb77c, gbc.sp());
        EXPECT(0x3142, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0274
        gbc.setState(0x79a3, 0x9edc, 0x5890, 0x9f87, 0x759a, 0xb0dc, 0x1, 0x0);
        gbc.writeMem(0x79a3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x9edc, gbc.sp());
        EXPECT(0x79a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0276
        gbc.setState(0x1a97, 0x374b, 0xb1c0, 0x5a7b, 0xa50f, 0xe738, 0x1, 0x1);
        gbc.writeMem(0x1a97, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x374b, gbc.sp());
        EXPECT(0x1a99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0277
        gbc.setState(0x24d1, 0xe357, 0x270, 0xc47b, 0xad0b, 0x4e67, 0x0, 0x0);
        gbc.writeMem(0x24d1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xe357, gbc.sp());
        EXPECT(0x24d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0278
        gbc.setState(0x8bbb, 0x6d64, 0x20f0, 0xf5b8, 0xe24b, 0x76b8, 0x0, 0x1);
        gbc.writeMem(0x8bbb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x6d64, gbc.sp());
        EXPECT(0x8bbd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bbb));
        EXPECT(0x5a, gbc.readMem(0x8bbc));
        // CB 5A 0279
        gbc.setState(0x39d3, 0x7c2b, 0x9af0, 0x59df, 0x2dfd, 0xd0fe, 0x1, 0x1);
        gbc.writeMem(0x39d3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x7c2b, gbc.sp());
        EXPECT(0x39d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 027A
        gbc.setState(0xb052, 0x22ca, 0x6b70, 0xeebf, 0xdf8, 0x6fe3, 0x0, 0x1);
        gbc.writeMem(0xb052, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x22ca, gbc.sp());
        EXPECT(0xb054, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb052));
        EXPECT(0x5a, gbc.readMem(0xb053));
        // CB 5A 027B
        gbc.setState(0x456, 0x168, 0x7950, 0x5c8a, 0xf737, 0x9165, 0x1, 0x1);
        gbc.writeMem(0x456, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x168, gbc.sp());
        EXPECT(0x458, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 027C
        gbc.setState(0xf4e, 0x2bf, 0xf7f0, 0x76da, 0x5d75, 0x5d65, 0x1, 0x0);
        gbc.writeMem(0xf4e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x2bf, gbc.sp());
        EXPECT(0xf50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 027D
        gbc.setState(0xdaa3, 0xd751, 0x2de0, 0xe1f5, 0xb0e5, 0x292d, 0x1, 0x0);
        gbc.writeMem(0xdaa3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xd751, gbc.sp());
        EXPECT(0xdaa5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdaa3));
        EXPECT(0x5a, gbc.readMem(0xdaa4));
        // CB 5A 027E
        gbc.setState(0xcb27, 0x3de3, 0xc8f0, 0xcefd, 0xb490, 0xc438, 0x1, 0x1);
        gbc.writeMem(0xcb27, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x3de3, gbc.sp());
        EXPECT(0xcb29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb27));
        EXPECT(0x5a, gbc.readMem(0xcb28));
        // CB 5A 027F
        gbc.setState(0x489d, 0xf0ca, 0x3890, 0x1649, 0x3684, 0xf9df, 0x0, 0x0);
        gbc.writeMem(0x489d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xf0ca, gbc.sp());
        EXPECT(0x489f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0280
        gbc.setState(0xe51, 0xef04, 0x3690, 0x65f2, 0xf03, 0xba28, 0x0, 0x1);
        gbc.writeMem(0xe51, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xef04, gbc.sp());
        EXPECT(0xe53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0281
        gbc.setState(0xedea, 0xc4e8, 0xa210, 0xf39, 0xe531, 0xb7cf, 0x1, 0x0);
        gbc.writeMem(0xedea, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xc4e8, gbc.sp());
        EXPECT(0xedec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedea));
        EXPECT(0x5a, gbc.readMem(0xedeb));
        // CB 5A 0282
        gbc.setState(0x3df1, 0xc88b, 0x2800, 0x2e6e, 0x3e63, 0x51cd, 0x1, 0x1);
        gbc.writeMem(0x3df1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xc88b, gbc.sp());
        EXPECT(0x3df3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0284
        gbc.setState(0x3299, 0xbf0e, 0x6b20, 0x3f35, 0xe094, 0x827e, 0x0, 0x1);
        gbc.writeMem(0x3299, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xbf0e, gbc.sp());
        EXPECT(0x329b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0285
        gbc.setState(0x5074, 0x453a, 0xd7d0, 0xc6b1, 0x2a70, 0x56f5, 0x1, 0x0);
        gbc.writeMem(0x5074, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x453a, gbc.sp());
        EXPECT(0x5076, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0286
        gbc.setState(0x432d, 0x66b7, 0xce50, 0x7ec0, 0xfdca, 0x837e, 0x1, 0x1);
        gbc.writeMem(0x432d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x66b7, gbc.sp());
        EXPECT(0x432f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0287
        gbc.setState(0x7228, 0xe433, 0xd9e0, 0x1411, 0x401e, 0x9158, 0x0, 0x0);
        gbc.writeMem(0x7228, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xe433, gbc.sp());
        EXPECT(0x722a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0288
        gbc.setState(0x5f0f, 0x8963, 0x7900, 0xaaed, 0x7985, 0xf3ec, 0x1, 0x1);
        gbc.writeMem(0x5f0f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x8963, gbc.sp());
        EXPECT(0x5f11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0289
        gbc.setState(0xbb7a, 0xfa8, 0x60f0, 0xfdaf, 0xe492, 0x54db, 0x1, 0x1);
        gbc.writeMem(0xbb7a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xfa8, gbc.sp());
        EXPECT(0xbb7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb7a));
        EXPECT(0x5a, gbc.readMem(0xbb7b));
        // CB 5A 028A
        gbc.setState(0xe8c7, 0x1f8b, 0xd0d0, 0xa9f2, 0x88b2, 0xd6ca, 0x1, 0x1);
        gbc.writeMem(0xe8c7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x1f8b, gbc.sp());
        EXPECT(0xe8c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8c7));
        EXPECT(0x5a, gbc.readMem(0xe8c8));
        // CB 5A 028B
        gbc.setState(0x3279, 0xa2d1, 0x54a0, 0x1955, 0xaf7c, 0xe7dc, 0x0, 0x1);
        gbc.writeMem(0x3279, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xa2d1, gbc.sp());
        EXPECT(0x327b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 028C
        gbc.setState(0x43c8, 0x70b7, 0xf630, 0xc4af, 0x7eb5, 0x15a4, 0x0, 0x0);
        gbc.writeMem(0x43c8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x70b7, gbc.sp());
        EXPECT(0x43ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 028D
        gbc.setState(0x6a5d, 0x40be, 0x6360, 0xb869, 0xfdda, 0xc159, 0x0, 0x0);
        gbc.writeMem(0x6a5d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x40be, gbc.sp());
        EXPECT(0x6a5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 028E
        gbc.setState(0x1233, 0x7f9, 0x7f80, 0x6ef5, 0xa647, 0x4ce7, 0x0, 0x0);
        gbc.writeMem(0x1233, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x7f9, gbc.sp());
        EXPECT(0x1235, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 028F
        gbc.setState(0xa39, 0x17a4, 0xa510, 0x5ea8, 0xd7ce, 0xefaa, 0x1, 0x0);
        gbc.writeMem(0xa39, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x17a4, gbc.sp());
        EXPECT(0xa3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0290
        gbc.setState(0x6f75, 0x4c26, 0x15c0, 0x5b08, 0x1de6, 0xc82b, 0x0, 0x1);
        gbc.writeMem(0x6f75, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x4c26, gbc.sp());
        EXPECT(0x6f77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0292
        gbc.setState(0x2377, 0x9863, 0xff10, 0xd95d, 0x5fb7, 0xbf9c, 0x1, 0x1);
        gbc.writeMem(0x2377, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x9863, gbc.sp());
        EXPECT(0x2379, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0293
        gbc.setState(0x576f, 0xd6e6, 0x1670, 0x2c7f, 0xd26d, 0x7f56, 0x0, 0x1);
        gbc.writeMem(0x576f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xd6e6, gbc.sp());
        EXPECT(0x5771, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0294
        gbc.setState(0xa2d4, 0x97d4, 0x9700, 0x65c5, 0x8eb4, 0x435f, 0x1, 0x0);
        gbc.writeMem(0xa2d4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x97d4, gbc.sp());
        EXPECT(0xa2d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2d4));
        EXPECT(0x5a, gbc.readMem(0xa2d5));
        // CB 5A 0295
        gbc.setState(0x2b30, 0x6c22, 0x3ab0, 0x831f, 0x7e8, 0xc2c7, 0x0, 0x1);
        gbc.writeMem(0x2b30, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x6c22, gbc.sp());
        EXPECT(0x2b32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0296
        gbc.setState(0x3e38, 0xaf2, 0x2b10, 0x43f4, 0xbb83, 0xe2e3, 0x0, 0x0);
        gbc.writeMem(0x3e38, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xaf2, gbc.sp());
        EXPECT(0x3e3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0297
        gbc.setState(0x135b, 0x5905, 0x6290, 0x5100, 0x3c38, 0xe460, 0x1, 0x0);
        gbc.writeMem(0x135b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x5905, gbc.sp());
        EXPECT(0x135d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0298
        gbc.setState(0xaf2c, 0x5dae, 0x5a00, 0xdccc, 0xf280, 0x3e3a, 0x1, 0x1);
        gbc.writeMem(0xaf2c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x5dae, gbc.sp());
        EXPECT(0xaf2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf2c));
        EXPECT(0x5a, gbc.readMem(0xaf2d));
        // CB 5A 0299
        gbc.setState(0xa8b6, 0x364e, 0x28f0, 0xf4df, 0x3c0a, 0x46a0, 0x1, 0x1);
        gbc.writeMem(0xa8b6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x364e, gbc.sp());
        EXPECT(0xa8b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8b6));
        EXPECT(0x5a, gbc.readMem(0xa8b7));
        // CB 5A 029A
        gbc.setState(0x229b, 0x580d, 0xe5a0, 0x252b, 0x6a29, 0xdffe, 0x0, 0x1);
        gbc.writeMem(0x229b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x580d, gbc.sp());
        EXPECT(0x229d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 029B
        gbc.setState(0x40a6, 0xcfa5, 0x1950, 0xafd4, 0x4a21, 0x50cf, 0x0, 0x1);
        gbc.writeMem(0x40a6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xcfa5, gbc.sp());
        EXPECT(0x40a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 029C
        gbc.setState(0x489f, 0x601, 0x40f0, 0xaca2, 0x2213, 0xc4e8, 0x1, 0x0);
        gbc.writeMem(0x489f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x601, gbc.sp());
        EXPECT(0x48a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 029D
        gbc.setState(0x1e34, 0xc35d, 0x7f30, 0x6df2, 0x1951, 0x6a1a, 0x0, 0x0);
        gbc.writeMem(0x1e34, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xc35d, gbc.sp());
        EXPECT(0x1e36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 029E
        gbc.setState(0x6c6b, 0x2e3c, 0xe7d0, 0xda58, 0x941f, 0x46d1, 0x0, 0x1);
        gbc.writeMem(0x6c6b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x2e3c, gbc.sp());
        EXPECT(0x6c6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 029F
        gbc.setState(0x414, 0xe613, 0xb5b0, 0xbf6d, 0x1965, 0x33bb, 0x0, 0x0);
        gbc.writeMem(0x414, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xe613, gbc.sp());
        EXPECT(0x416, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02A0
        gbc.setState(0xc214, 0x5cce, 0x6c90, 0xc4af, 0x2817, 0xf5fb, 0x1, 0x0);
        gbc.writeMem(0xc214, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x5cce, gbc.sp());
        EXPECT(0xc216, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc214));
        EXPECT(0x5a, gbc.readMem(0xc215));
        // CB 5A 02A1
        gbc.setState(0x318a, 0x6658, 0x5820, 0x30c5, 0xe29, 0x2444, 0x1, 0x0);
        gbc.writeMem(0x318a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6658, gbc.sp());
        EXPECT(0x318c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02A2
        gbc.setState(0x6703, 0xf6d2, 0xac20, 0xcd1f, 0x6a9e, 0x15e7, 0x1, 0x0);
        gbc.writeMem(0x6703, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xf6d2, gbc.sp());
        EXPECT(0x6705, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02A3
        gbc.setState(0x2953, 0x7d4a, 0x4d10, 0x51b, 0x787b, 0x9e18, 0x0, 0x1);
        gbc.writeMem(0x2953, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x7d4a, gbc.sp());
        EXPECT(0x2955, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02A4
        gbc.setState(0x408f, 0x29a5, 0x1710, 0xd7fd, 0x55f2, 0xb05b, 0x1, 0x0);
        gbc.writeMem(0x408f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x29a5, gbc.sp());
        EXPECT(0x4091, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02A5
        gbc.setState(0x9649, 0xe6e8, 0x4420, 0x6a03, 0x27c2, 0xc2cc, 0x0, 0x0);
        gbc.writeMem(0x9649, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xe6e8, gbc.sp());
        EXPECT(0x964b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9649));
        EXPECT(0x5a, gbc.readMem(0x964a));
        // CB 5A 02A6
        gbc.setState(0x7f4c, 0x811, 0x1ac0, 0x3bed, 0x150f, 0x3b1a, 0x0, 0x1);
        gbc.writeMem(0x7f4c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x811, gbc.sp());
        EXPECT(0x7f4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02A7
        gbc.setState(0x9913, 0x4d91, 0xe760, 0xe350, 0xa1fa, 0x8e26, 0x0, 0x1);
        gbc.writeMem(0x9913, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x4d91, gbc.sp());
        EXPECT(0x9915, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9913));
        EXPECT(0x5a, gbc.readMem(0x9914));
        // CB 5A 02A8
        gbc.setState(0xda2d, 0x6555, 0xb020, 0x3a97, 0x1407, 0x3b23, 0x1, 0x0);
        gbc.writeMem(0xda2d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x6555, gbc.sp());
        EXPECT(0xda2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda2d));
        EXPECT(0x5a, gbc.readMem(0xda2e));
        // CB 5A 02A9
        gbc.setState(0x713b, 0x514f, 0x6c20, 0xb69d, 0xcf14, 0xeb5b, 0x1, 0x0);
        gbc.writeMem(0x713b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x514f, gbc.sp());
        EXPECT(0x713d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02AA
        gbc.setState(0x2a5, 0x9518, 0x6db0, 0xc698, 0xa831, 0x3c43, 0x0, 0x0);
        gbc.writeMem(0x2a5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x9518, gbc.sp());
        EXPECT(0x2a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02AB
        gbc.setState(0x4384, 0xd94a, 0x38a0, 0xbd47, 0x2980, 0x819f, 0x1, 0x1);
        gbc.writeMem(0x4384, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xd94a, gbc.sp());
        EXPECT(0x4386, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02AC
        gbc.setState(0xcd8, 0x591f, 0x6e50, 0x8f2c, 0x1027, 0xa069, 0x1, 0x1);
        gbc.writeMem(0xcd8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x591f, gbc.sp());
        EXPECT(0xcda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02AD
        gbc.setState(0x7aa, 0x86b2, 0xf1a0, 0xb45a, 0x23cf, 0x632, 0x1, 0x0);
        gbc.writeMem(0x7aa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x86b2, gbc.sp());
        EXPECT(0x7ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02AE
        gbc.setState(0x6e8d, 0x8ea9, 0x9af0, 0xd82b, 0x7a22, 0x18d, 0x0, 0x1);
        gbc.writeMem(0x6e8d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x8ea9, gbc.sp());
        EXPECT(0x6e8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02AF
        gbc.setState(0xc910, 0xd461, 0x9f50, 0x7aed, 0xacb7, 0x3464, 0x0, 0x1);
        gbc.writeMem(0xc910, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xd461, gbc.sp());
        EXPECT(0xc912, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc910));
        EXPECT(0x5a, gbc.readMem(0xc911));
        // CB 5A 02B0
        gbc.setState(0x2b1b, 0x3190, 0xcbd0, 0x1156, 0x9db9, 0x7253, 0x1, 0x1);
        gbc.writeMem(0x2b1b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x3190, gbc.sp());
        EXPECT(0x2b1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02B1
        gbc.setState(0x3c6d, 0x1d3, 0xff00, 0x9417, 0xd57c, 0x8d5a, 0x0, 0x1);
        gbc.writeMem(0x3c6d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x1d3, gbc.sp());
        EXPECT(0x3c6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02B2
        gbc.setState(0x9909, 0x8014, 0xe790, 0x7b02, 0xe39b, 0x2ac0, 0x1, 0x1);
        gbc.writeMem(0x9909, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x8014, gbc.sp());
        EXPECT(0x990b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9909));
        EXPECT(0x5a, gbc.readMem(0x990a));
        // CB 5A 02B3
        gbc.setState(0x8250, 0x2326, 0x1d60, 0xc756, 0xd071, 0xae6a, 0x0, 0x0);
        gbc.writeMem(0x8250, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x2326, gbc.sp());
        EXPECT(0x8252, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8250));
        EXPECT(0x5a, gbc.readMem(0x8251));
        // CB 5A 02B4
        gbc.setState(0x9778, 0x1fcb, 0xf50, 0x1f9c, 0x1f73, 0x1ef3, 0x0, 0x0);
        gbc.writeMem(0x9778, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x1fcb, gbc.sp());
        EXPECT(0x977a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9778));
        EXPECT(0x5a, gbc.readMem(0x9779));
        // CB 5A 02B5
        gbc.setState(0xc7d6, 0x3ea2, 0x5610, 0xa247, 0xf209, 0x2c9d, 0x0, 0x0);
        gbc.writeMem(0xc7d6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x3ea2, gbc.sp());
        EXPECT(0xc7d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7d6));
        EXPECT(0x5a, gbc.readMem(0xc7d7));
        // CB 5A 02B6
        gbc.setState(0x16ee, 0xb960, 0xef0, 0x14e0, 0x91f1, 0xaf4, 0x0, 0x0);
        gbc.writeMem(0x16ee, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xb960, gbc.sp());
        EXPECT(0x16f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02B7
        gbc.setState(0xac1e, 0x793d, 0x9020, 0xba8, 0x250a, 0x2b8d, 0x1, 0x0);
        gbc.writeMem(0xac1e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x793d, gbc.sp());
        EXPECT(0xac20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac1e));
        EXPECT(0x5a, gbc.readMem(0xac1f));
        // CB 5A 02B8
        gbc.setState(0x8c64, 0xbe6, 0x2ae0, 0x267, 0xc154, 0xbcd2, 0x0, 0x1);
        gbc.writeMem(0x8c64, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xbe6, gbc.sp());
        EXPECT(0x8c66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c64));
        EXPECT(0x5a, gbc.readMem(0x8c65));
        // CB 5A 02B9
        gbc.setState(0xe1aa, 0x764f, 0x60a0, 0x3f29, 0xc212, 0x4428, 0x0, 0x1);
        gbc.writeMem(0xe1aa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x764f, gbc.sp());
        EXPECT(0xe1ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1aa));
        EXPECT(0x5a, gbc.readMem(0xe1ab));
        // CB 5A 02BA
        gbc.setState(0xde05, 0xf19d, 0xcad0, 0xe342, 0xa033, 0x8549, 0x0, 0x0);
        gbc.writeMem(0xde05, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf19d, gbc.sp());
        EXPECT(0xde07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde05));
        EXPECT(0x5a, gbc.readMem(0xde06));
        // CB 5A 02BB
        gbc.setState(0x6201, 0xa88b, 0x3ce0, 0x59ed, 0xb117, 0xbbe5, 0x0, 0x0);
        gbc.writeMem(0x6201, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xa88b, gbc.sp());
        EXPECT(0x6203, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02BC
        gbc.setState(0x980e, 0x9b19, 0xbec0, 0x52d6, 0x2f4d, 0xdc8b, 0x1, 0x0);
        gbc.writeMem(0x980e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x9b19, gbc.sp());
        EXPECT(0x9810, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x980e));
        EXPECT(0x5a, gbc.readMem(0x980f));
        // CB 5A 02BD
        gbc.setState(0x6856, 0xed3d, 0xbfe0, 0xf86c, 0xae4d, 0x9cbf, 0x0, 0x1);
        gbc.writeMem(0x6856, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xed3d, gbc.sp());
        EXPECT(0x6858, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02BE
        gbc.setState(0x8a8b, 0x35ac, 0x3bd0, 0x3cbb, 0x41aa, 0xf62, 0x0, 0x1);
        gbc.writeMem(0x8a8b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x35ac, gbc.sp());
        EXPECT(0x8a8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a8b));
        EXPECT(0x5a, gbc.readMem(0x8a8c));
        // CB 5A 02BF
        gbc.setState(0xd9b9, 0xfebb, 0x8890, 0x2c16, 0x3d2, 0xef35, 0x1, 0x1);
        gbc.writeMem(0xd9b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xfebb, gbc.sp());
        EXPECT(0xd9bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9b9));
        EXPECT(0x5a, gbc.readMem(0xd9ba));
        // CB 5A 02C0
        gbc.setState(0xc692, 0x1246, 0x91d0, 0xbf1f, 0xb868, 0x59df, 0x0, 0x0);
        gbc.writeMem(0xc692, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x1246, gbc.sp());
        EXPECT(0xc694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc692));
        EXPECT(0x5a, gbc.readMem(0xc693));
        // CB 5A 02C2
        gbc.setState(0x4b17, 0xca22, 0x3a40, 0xd258, 0x82b4, 0xdf96, 0x0, 0x1);
        gbc.writeMem(0x4b17, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xca22, gbc.sp());
        EXPECT(0x4b19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02C3
        gbc.setState(0x2728, 0x2f8b, 0x9f50, 0xd07a, 0xa30a, 0x8190, 0x0, 0x1);
        gbc.writeMem(0x2728, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x2f8b, gbc.sp());
        EXPECT(0x272a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02C4
        gbc.setState(0xebc6, 0xf5a2, 0xc820, 0x72ac, 0xec78, 0x6599, 0x1, 0x1);
        gbc.writeMem(0xebc6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xf5a2, gbc.sp());
        EXPECT(0xebc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebc6));
        EXPECT(0x5a, gbc.readMem(0xebc7));
        // CB 5A 02C5
        gbc.setState(0x39c0, 0xe110, 0xc30, 0x6359, 0x71ae, 0x2a14, 0x1, 0x0);
        gbc.writeMem(0x39c0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xe110, gbc.sp());
        EXPECT(0x39c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02C6
        gbc.setState(0xc75b, 0xc783, 0xc030, 0x7ba5, 0x777d, 0x4337, 0x1, 0x1);
        gbc.writeMem(0xc75b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xc783, gbc.sp());
        EXPECT(0xc75d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc75b));
        EXPECT(0x5a, gbc.readMem(0xc75c));
        // CB 5A 02C8
        gbc.setState(0x96bc, 0xcf24, 0xdb20, 0x900, 0x5d56, 0xe2d8, 0x1, 0x0);
        gbc.writeMem(0x96bc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xcf24, gbc.sp());
        EXPECT(0x96be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96bc));
        EXPECT(0x5a, gbc.readMem(0x96bd));
        // CB 5A 02C9
        gbc.setState(0x79e7, 0x362a, 0xa3a0, 0x171e, 0xca0c, 0x87a3, 0x0, 0x1);
        gbc.writeMem(0x79e7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x362a, gbc.sp());
        EXPECT(0x79e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02CA
        gbc.setState(0xb61, 0xb9c4, 0x4f80, 0x14ac, 0xe987, 0xaf7b, 0x1, 0x0);
        gbc.writeMem(0xb61, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb9c4, gbc.sp());
        EXPECT(0xb63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02CB
        gbc.setState(0xcbb4, 0x2bc6, 0xf2e0, 0x53ff, 0x3ec1, 0x70d6, 0x0, 0x0);
        gbc.writeMem(0xcbb4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x2bc6, gbc.sp());
        EXPECT(0xcbb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbb4));
        EXPECT(0x5a, gbc.readMem(0xcbb5));
        // CB 5A 02CC
        gbc.setState(0xd060, 0x48e, 0x1d20, 0x880b, 0xf9af, 0xec87, 0x1, 0x0);
        gbc.writeMem(0xd060, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x48e, gbc.sp());
        EXPECT(0xd062, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd060));
        EXPECT(0x5a, gbc.readMem(0xd061));
        // CB 5A 02CD
        gbc.setState(0x7a2c, 0x9dcf, 0x77b0, 0x9f24, 0xd116, 0xccdd, 0x1, 0x0);
        gbc.writeMem(0x7a2c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x9dcf, gbc.sp());
        EXPECT(0x7a2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02CE
        gbc.setState(0xc371, 0x45ad, 0xd70, 0x911c, 0x8157, 0x529a, 0x1, 0x1);
        gbc.writeMem(0xc371, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x45ad, gbc.sp());
        EXPECT(0xc373, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc371));
        EXPECT(0x5a, gbc.readMem(0xc372));
        // CB 5A 02CF
        gbc.setState(0x5971, 0xeadc, 0xb1f0, 0x51e3, 0x9, 0x8baa, 0x0, 0x1);
        gbc.writeMem(0x5971, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xeadc, gbc.sp());
        EXPECT(0x5973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02D0
        gbc.setState(0x59d7, 0xfb89, 0x9ba0, 0x7fe5, 0xaa9b, 0x27b9, 0x1, 0x0);
        gbc.writeMem(0x59d7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xfb89, gbc.sp());
        EXPECT(0x59d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02D1
        gbc.setState(0x93ac, 0x15b8, 0x8780, 0x9752, 0x55ce, 0x5bae, 0x0, 0x0);
        gbc.writeMem(0x93ac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x15b8, gbc.sp());
        EXPECT(0x93ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93ac));
        EXPECT(0x5a, gbc.readMem(0x93ad));
        // CB 5A 02D2
        gbc.setState(0xaa87, 0xf926, 0x6580, 0xbb65, 0x7580, 0x1f25, 0x1, 0x0);
        gbc.writeMem(0xaa87, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xf926, gbc.sp());
        EXPECT(0xaa89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa87));
        EXPECT(0x5a, gbc.readMem(0xaa88));
        // CB 5A 02D3
        gbc.setState(0x7d85, 0x62a8, 0x8ec0, 0x238, 0x404e, 0x5591, 0x1, 0x1);
        gbc.writeMem(0x7d85, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x62a8, gbc.sp());
        EXPECT(0x7d87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02D4
        gbc.setState(0xb7ea, 0xf8d, 0x9ba0, 0x3c62, 0xc256, 0xb043, 0x0, 0x0);
        gbc.writeMem(0xb7ea, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf8d, gbc.sp());
        EXPECT(0xb7ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7ea));
        EXPECT(0x5a, gbc.readMem(0xb7eb));
        // CB 5A 02D5
        gbc.setState(0xb489, 0xa739, 0xa660, 0x456d, 0x8ea2, 0x954d, 0x1, 0x1);
        gbc.writeMem(0xb489, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xa739, gbc.sp());
        EXPECT(0xb48b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb489));
        EXPECT(0x5a, gbc.readMem(0xb48a));
        // CB 5A 02D6
        gbc.setState(0x6814, 0x2374, 0xab80, 0xe2e, 0xc28c, 0x8e9, 0x1, 0x0);
        gbc.writeMem(0x6814, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x2374, gbc.sp());
        EXPECT(0x6816, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02D7
        gbc.setState(0x5dee, 0xaabc, 0xfa60, 0xa127, 0x5cc7, 0xa046, 0x1, 0x0);
        gbc.writeMem(0x5dee, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xaabc, gbc.sp());
        EXPECT(0x5df0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02D8
        gbc.setState(0x198d, 0x6d6, 0xf8b0, 0x7c19, 0x481c, 0xfd04, 0x0, 0x1);
        gbc.writeMem(0x198d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6d6, gbc.sp());
        EXPECT(0x198f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02D9
        gbc.setState(0x8490, 0x6b39, 0xaac0, 0x9e7f, 0x2414, 0xc824, 0x1, 0x0);
        gbc.writeMem(0x8490, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x6b39, gbc.sp());
        EXPECT(0x8492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8490));
        EXPECT(0x5a, gbc.readMem(0x8491));
        // CB 5A 02DA
        gbc.setState(0xede0, 0x21f3, 0x2c30, 0xdbd9, 0xd861, 0xbfc0, 0x1, 0x0);
        gbc.writeMem(0xede0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x21f3, gbc.sp());
        EXPECT(0xede2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xede0));
        EXPECT(0x5a, gbc.readMem(0xede1));
        // CB 5A 02DB
        gbc.setState(0x77c9, 0x3066, 0x6480, 0xcf61, 0x866, 0x3076, 0x1, 0x1);
        gbc.writeMem(0x77c9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x3066, gbc.sp());
        EXPECT(0x77cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02DC
        gbc.setState(0xab10, 0x1ba7, 0xd900, 0xcc42, 0x2718, 0x2a1b, 0x1, 0x1);
        gbc.writeMem(0xab10, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x1ba7, gbc.sp());
        EXPECT(0xab12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab10));
        EXPECT(0x5a, gbc.readMem(0xab11));
        // CB 5A 02DD
        gbc.setState(0x138, 0x2e00, 0x4630, 0xce80, 0x9810, 0x632f, 0x0, 0x0);
        gbc.writeMem(0x138, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x2e00, gbc.sp());
        EXPECT(0x13a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02DE
        gbc.setState(0x4847, 0xecd3, 0xeb40, 0x136c, 0xd551, 0x9d59, 0x0, 0x1);
        gbc.writeMem(0x4847, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xecd3, gbc.sp());
        EXPECT(0x4849, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02DF
        gbc.setState(0x2074, 0x30f7, 0x4660, 0x1525, 0x9951, 0xfe60, 0x1, 0x1);
        gbc.writeMem(0x2074, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x30f7, gbc.sp());
        EXPECT(0x2076, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02E0
        gbc.setState(0x6240, 0xc5f8, 0x36d0, 0x86ee, 0xf1c3, 0xbc64, 0x1, 0x1);
        gbc.writeMem(0x6240, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xc5f8, gbc.sp());
        EXPECT(0x6242, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02E1
        gbc.setState(0xca9a, 0x13e1, 0xd50, 0xc013, 0xe1f7, 0x6ec9, 0x0, 0x1);
        gbc.writeMem(0xca9a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x13e1, gbc.sp());
        EXPECT(0xca9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca9a));
        EXPECT(0x5a, gbc.readMem(0xca9b));
        // CB 5A 02E2
        gbc.setState(0xb61b, 0xf160, 0x1750, 0x767d, 0x1d2f, 0xac0d, 0x1, 0x0);
        gbc.writeMem(0xb61b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xf160, gbc.sp());
        EXPECT(0xb61d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb61b));
        EXPECT(0x5a, gbc.readMem(0xb61c));
        // CB 5A 02E3
        gbc.setState(0x5c84, 0x5fca, 0xa10, 0x1e68, 0xc67c, 0xe04a, 0x1, 0x0);
        gbc.writeMem(0x5c84, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x5fca, gbc.sp());
        EXPECT(0x5c86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02E4
        gbc.setState(0xe2b, 0x5790, 0xd7a0, 0x90c6, 0xab00, 0x8088, 0x0, 0x0);
        gbc.writeMem(0xe2b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x5790, gbc.sp());
        EXPECT(0xe2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02E5
        gbc.setState(0x80ef, 0x2fd8, 0xdcc0, 0xccf3, 0x49a9, 0x8a4b, 0x0, 0x0);
        gbc.writeMem(0x80ef, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x2fd8, gbc.sp());
        EXPECT(0x80f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80ef));
        EXPECT(0x5a, gbc.readMem(0x80f0));
        // CB 5A 02E6
        gbc.setState(0xcc38, 0xb9f1, 0xf410, 0x7d1a, 0x6cf1, 0x51a9, 0x0, 0x1);
        gbc.writeMem(0xcc38, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xb9f1, gbc.sp());
        EXPECT(0xcc3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc38));
        EXPECT(0x5a, gbc.readMem(0xcc39));
        // CB 5A 02E7
        gbc.setState(0x9a64, 0x2ca6, 0x19f0, 0x6cf7, 0x81b, 0x7ec8, 0x1, 0x0);
        gbc.writeMem(0x9a64, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x2ca6, gbc.sp());
        EXPECT(0x9a66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a64));
        EXPECT(0x5a, gbc.readMem(0x9a65));
        // CB 5A 02E8
        gbc.setState(0x924e, 0xa746, 0x3470, 0x71b0, 0xdf0c, 0xbba8, 0x1, 0x0);
        gbc.writeMem(0x924e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xa746, gbc.sp());
        EXPECT(0x9250, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x924e));
        EXPECT(0x5a, gbc.readMem(0x924f));
        // CB 5A 02E9
        gbc.setState(0x7f62, 0x1ba8, 0x6960, 0x3563, 0xa290, 0x4f14, 0x0, 0x0);
        gbc.writeMem(0x7f62, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x1ba8, gbc.sp());
        EXPECT(0x7f64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02EA
        gbc.setState(0x340b, 0x8c7f, 0x1de0, 0x4c45, 0x2d41, 0xb3b2, 0x0, 0x1);
        gbc.writeMem(0x340b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x8c7f, gbc.sp());
        EXPECT(0x340d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02EB
        gbc.setState(0xc577, 0xa655, 0xee90, 0x7e87, 0x47ec, 0xb06d, 0x1, 0x1);
        gbc.writeMem(0xc577, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xa655, gbc.sp());
        EXPECT(0xc579, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc577));
        EXPECT(0x5a, gbc.readMem(0xc578));
        // CB 5A 02EC
        gbc.setState(0x5640, 0x58dc, 0x8b20, 0xe4dc, 0xdcda, 0x942f, 0x1, 0x1);
        gbc.writeMem(0x5640, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x58dc, gbc.sp());
        EXPECT(0x5642, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02ED
        gbc.setState(0x6f46, 0xa999, 0xed70, 0xc691, 0xf265, 0xb620, 0x1, 0x0);
        gbc.writeMem(0x6f46, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xa999, gbc.sp());
        EXPECT(0x6f48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02EE
        gbc.setState(0x6c01, 0xa372, 0xdd70, 0x359, 0x86f2, 0xa73e, 0x1, 0x1);
        gbc.writeMem(0x6c01, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa372, gbc.sp());
        EXPECT(0x6c03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02EF
        gbc.setState(0xb91f, 0xb7cf, 0x67a0, 0x828a, 0xd6a, 0x1a6a, 0x0, 0x0);
        gbc.writeMem(0xb91f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xb7cf, gbc.sp());
        EXPECT(0xb921, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb91f));
        EXPECT(0x5a, gbc.readMem(0xb920));
        // CB 5A 02F0
        gbc.setState(0x1229, 0x68c1, 0xa50, 0x10d1, 0x238d, 0xe0d8, 0x1, 0x0);
        gbc.writeMem(0x1229, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x68c1, gbc.sp());
        EXPECT(0x122b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02F1
        gbc.setState(0x93c9, 0x10c1, 0x4ae0, 0x9757, 0xa9dd, 0xd6cd, 0x1, 0x1);
        gbc.writeMem(0x93c9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x10c1, gbc.sp());
        EXPECT(0x93cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93c9));
        EXPECT(0x5a, gbc.readMem(0x93ca));
        // CB 5A 02F2
        gbc.setState(0xb818, 0xc67, 0xfc0, 0x813d, 0xbd75, 0xa8c4, 0x1, 0x1);
        gbc.writeMem(0xb818, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xc67, gbc.sp());
        EXPECT(0xb81a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb818));
        EXPECT(0x5a, gbc.readMem(0xb819));
        // CB 5A 02F3
        gbc.setState(0x34e3, 0xab1a, 0xe130, 0x9258, 0x6f3, 0xef5b, 0x0, 0x1);
        gbc.writeMem(0x34e3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xab1a, gbc.sp());
        EXPECT(0x34e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02F4
        gbc.setState(0x9aee, 0xe3fe, 0x92b0, 0x3bf6, 0x5279, 0x1693, 0x0, 0x1);
        gbc.writeMem(0x9aee, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xe3fe, gbc.sp());
        EXPECT(0x9af0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9aee));
        EXPECT(0x5a, gbc.readMem(0x9aef));
        // CB 5A 02F5
        gbc.setState(0x4d36, 0xc9c3, 0xfba0, 0xa3ec, 0xa6c4, 0xeebb, 0x1, 0x1);
        gbc.writeMem(0x4d36, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xc9c3, gbc.sp());
        EXPECT(0x4d38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02F6
        gbc.setState(0xbfe3, 0x85d4, 0x1960, 0xdb32, 0x9a02, 0x74ff, 0x0, 0x1);
        gbc.writeMem(0xbfe3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x85d4, gbc.sp());
        EXPECT(0xbfe5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfe3));
        EXPECT(0x5a, gbc.readMem(0xbfe4));
        // CB 5A 02F7
        gbc.setState(0x7412, 0x92b7, 0xb500, 0xdb2c, 0x52a, 0x5815, 0x0, 0x1);
        gbc.writeMem(0x7412, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x92b7, gbc.sp());
        EXPECT(0x7414, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 02F8
        gbc.setState(0xec18, 0x5d63, 0x8250, 0xe791, 0xb5ad, 0xcf6e, 0x0, 0x0);
        gbc.writeMem(0xec18, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x5d63, gbc.sp());
        EXPECT(0xec1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec18));
        EXPECT(0x5a, gbc.readMem(0xec19));
        // CB 5A 02F9
        gbc.setState(0x9093, 0x7032, 0x25f0, 0x5834, 0x7672, 0xbd27, 0x0, 0x0);
        gbc.writeMem(0x9093, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x7032, gbc.sp());
        EXPECT(0x9095, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9093));
        EXPECT(0x5a, gbc.readMem(0x9094));
        // CB 5A 02FA
        gbc.setState(0xf1c, 0x6ab, 0x5650, 0x420f, 0xee00, 0x9bed, 0x1, 0x0);
        gbc.writeMem(0xf1c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x6ab, gbc.sp());
        EXPECT(0xf1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02FB
        gbc.setState(0xe733, 0x3722, 0x35d0, 0xacb0, 0xcc2b, 0x9e2, 0x0, 0x1);
        gbc.writeMem(0xe733, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x3722, gbc.sp());
        EXPECT(0xe735, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe733));
        EXPECT(0x5a, gbc.readMem(0xe734));
        // CB 5A 02FC
        gbc.setState(0xd2d9, 0x845a, 0x1ca0, 0x99c9, 0xb801, 0xea87, 0x0, 0x1);
        gbc.writeMem(0xd2d9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x845a, gbc.sp());
        EXPECT(0xd2db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2d9));
        EXPECT(0x5a, gbc.readMem(0xd2da));
        // CB 5A 02FD
        gbc.setState(0x8d56, 0x5bd8, 0x25a0, 0xc86a, 0x89cd, 0xf2af, 0x1, 0x0);
        gbc.writeMem(0x8d56, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x5bd8, gbc.sp());
        EXPECT(0x8d58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d56));
        EXPECT(0x5a, gbc.readMem(0x8d57));
        // CB 5A 02FE
        gbc.setState(0x22f5, 0xc03f, 0xd830, 0xe60c, 0xd6af, 0xe907, 0x0, 0x1);
        gbc.writeMem(0x22f5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xc03f, gbc.sp());
        EXPECT(0x22f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 02FF
        gbc.setState(0x5795, 0x7c92, 0x2930, 0x5337, 0xbdbf, 0xd320, 0x1, 0x1);
        gbc.writeMem(0x5795, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x7c92, gbc.sp());
        EXPECT(0x5797, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0300
        gbc.setState(0x9070, 0xec50, 0x7c40, 0x3828, 0x91d6, 0x7c8f, 0x0, 0x0);
        gbc.writeMem(0x9070, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xec50, gbc.sp());
        EXPECT(0x9072, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9070));
        EXPECT(0x5a, gbc.readMem(0x9071));
        // CB 5A 0301
        gbc.setState(0x31dc, 0xe54b, 0xe830, 0xe586, 0xfa62, 0x1f4, 0x0, 0x0);
        gbc.writeMem(0x31dc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe54b, gbc.sp());
        EXPECT(0x31de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0302
        gbc.setState(0x5ba1, 0xa441, 0xef30, 0x3d8, 0x6826, 0xd45a, 0x1, 0x1);
        gbc.writeMem(0x5ba1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa441, gbc.sp());
        EXPECT(0x5ba3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0303
        gbc.setState(0x2792, 0x6e9f, 0x42c0, 0x3893, 0x511e, 0xcd6f, 0x0, 0x1);
        gbc.writeMem(0x2792, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x6e9f, gbc.sp());
        EXPECT(0x2794, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0304
        gbc.setState(0x7e45, 0x62af, 0x39f0, 0x85f6, 0xdf5d, 0x8bb2, 0x0, 0x0);
        gbc.writeMem(0x7e45, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x62af, gbc.sp());
        EXPECT(0x7e47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0307
        gbc.setState(0xe551, 0xe86c, 0x500, 0xc821, 0x6b5f, 0xb5e5, 0x1, 0x0);
        gbc.writeMem(0xe551, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xe86c, gbc.sp());
        EXPECT(0xe553, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe551));
        EXPECT(0x5a, gbc.readMem(0xe552));
        // CB 5A 0308
        gbc.setState(0x7f44, 0xe8ae, 0xb7c0, 0x27a0, 0x3ac4, 0x3319, 0x0, 0x0);
        gbc.writeMem(0x7f44, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xe8ae, gbc.sp());
        EXPECT(0x7f46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0309
        gbc.setState(0xed76, 0xca7f, 0x5be0, 0xb773, 0xee87, 0xde6c, 0x0, 0x0);
        gbc.writeMem(0xed76, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xca7f, gbc.sp());
        EXPECT(0xed78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed76));
        EXPECT(0x5a, gbc.readMem(0xed77));
        // CB 5A 030A
        gbc.setState(0x2add, 0x16a5, 0x4e90, 0x207b, 0x94bb, 0xdd81, 0x1, 0x0);
        gbc.writeMem(0x2add, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x16a5, gbc.sp());
        EXPECT(0x2adf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 030B
        gbc.setState(0x7a35, 0x303f, 0x75e0, 0xfcf3, 0x4bd8, 0xc6d3, 0x0, 0x1);
        gbc.writeMem(0x7a35, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x303f, gbc.sp());
        EXPECT(0x7a37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 030C
        gbc.setState(0xe082, 0x6e65, 0xd280, 0x3944, 0x55f8, 0xf870, 0x0, 0x1);
        gbc.writeMem(0xe082, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x6e65, gbc.sp());
        EXPECT(0xe084, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe082));
        EXPECT(0x5a, gbc.readMem(0xe083));
        // CB 5A 030D
        gbc.setState(0xc68b, 0x4ca2, 0x50d0, 0xa178, 0x692f, 0x74b1, 0x0, 0x1);
        gbc.writeMem(0xc68b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x4ca2, gbc.sp());
        EXPECT(0xc68d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc68b));
        EXPECT(0x5a, gbc.readMem(0xc68c));
        // CB 5A 030E
        gbc.setState(0x6dc3, 0x8767, 0x7b60, 0x638b, 0x3f3d, 0xb28d, 0x0, 0x0);
        gbc.writeMem(0x6dc3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x8767, gbc.sp());
        EXPECT(0x6dc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 030F
        gbc.setState(0xc279, 0xfd2, 0x3fd0, 0xfff2, 0x9ba2, 0xecf3, 0x0, 0x1);
        gbc.writeMem(0xc279, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xfd2, gbc.sp());
        EXPECT(0xc27b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc279));
        EXPECT(0x5a, gbc.readMem(0xc27a));
        // CB 5A 0310
        gbc.setState(0x58d9, 0xf0f8, 0x4a90, 0x682d, 0x287e, 0x1ea4, 0x1, 0x0);
        gbc.writeMem(0x58d9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xf0f8, gbc.sp());
        EXPECT(0x58db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0311
        gbc.setState(0x38cd, 0xed22, 0xaff0, 0x2cdc, 0xeb01, 0xda63, 0x0, 0x0);
        gbc.writeMem(0x38cd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xed22, gbc.sp());
        EXPECT(0x38cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0312
        gbc.setState(0xa7de, 0x7426, 0xa760, 0x2489, 0xd604, 0xa82a, 0x0, 0x1);
        gbc.writeMem(0xa7de, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x7426, gbc.sp());
        EXPECT(0xa7e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7de));
        EXPECT(0x5a, gbc.readMem(0xa7df));
        // CB 5A 0313
        gbc.setState(0x6415, 0x4fb8, 0xace0, 0xec05, 0xdcea, 0x9075, 0x1, 0x1);
        gbc.writeMem(0x6415, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x4fb8, gbc.sp());
        EXPECT(0x6417, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0314
        gbc.setState(0x656, 0x5a32, 0xa80, 0x6036, 0xaa8b, 0x3585, 0x0, 0x1);
        gbc.writeMem(0x656, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x5a32, gbc.sp());
        EXPECT(0x658, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0315
        gbc.setState(0xa992, 0xcb96, 0x5a40, 0x9437, 0x1a1, 0xd51, 0x0, 0x1);
        gbc.writeMem(0xa992, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xcb96, gbc.sp());
        EXPECT(0xa994, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa992));
        EXPECT(0x5a, gbc.readMem(0xa993));
        // CB 5A 0316
        gbc.setState(0x8827, 0xfe3d, 0x91b0, 0x2883, 0xf62c, 0x5a4c, 0x0, 0x0);
        gbc.writeMem(0x8827, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xfe3d, gbc.sp());
        EXPECT(0x8829, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8827));
        EXPECT(0x5a, gbc.readMem(0x8828));
        // CB 5A 0317
        gbc.setState(0xc17d, 0x8952, 0x3c40, 0xa0d6, 0x9b85, 0xdf3a, 0x0, 0x1);
        gbc.writeMem(0xc17d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x8952, gbc.sp());
        EXPECT(0xc17f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc17d));
        EXPECT(0x5a, gbc.readMem(0xc17e));
        // CB 5A 0318
        gbc.setState(0xbdd5, 0xbdad, 0x6670, 0x99be, 0x8adf, 0x179, 0x0, 0x1);
        gbc.writeMem(0xbdd5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xbdad, gbc.sp());
        EXPECT(0xbdd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdd5));
        EXPECT(0x5a, gbc.readMem(0xbdd6));
        // CB 5A 0319
        gbc.setState(0x33b1, 0x5157, 0x17e0, 0x4cde, 0x8f, 0xe882, 0x1, 0x1);
        gbc.writeMem(0x33b1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x5157, gbc.sp());
        EXPECT(0x33b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 031A
        gbc.setState(0xcc97, 0xb66c, 0x6870, 0x392e, 0x811d, 0x65d3, 0x1, 0x0);
        gbc.writeMem(0xcc97, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xb66c, gbc.sp());
        EXPECT(0xcc99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc97));
        EXPECT(0x5a, gbc.readMem(0xcc98));
        // CB 5A 031B
        gbc.setState(0x4703, 0x46f4, 0x3eb0, 0x63e9, 0x2946, 0x1c8, 0x0, 0x0);
        gbc.writeMem(0x4703, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x46f4, gbc.sp());
        EXPECT(0x4705, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 031C
        gbc.setState(0xe758, 0xb1e6, 0x780, 0xb88, 0xea09, 0xf102, 0x0, 0x1);
        gbc.writeMem(0xe758, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xb1e6, gbc.sp());
        EXPECT(0xe75a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe758));
        EXPECT(0x5a, gbc.readMem(0xe759));
        // CB 5A 031D
        gbc.setState(0x5d00, 0xd845, 0x5980, 0x21da, 0x2a10, 0x53cd, 0x0, 0x1);
        gbc.writeMem(0x5d00, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xd845, gbc.sp());
        EXPECT(0x5d02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 031E
        gbc.setState(0x33b, 0xbdb8, 0x80f0, 0xce4a, 0x75f2, 0x7c48, 0x1, 0x0);
        gbc.writeMem(0x33b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xbdb8, gbc.sp());
        EXPECT(0x33d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 031F
        gbc.setState(0x3d84, 0xb33b, 0x6650, 0xb6b2, 0x6f3b, 0x1a2d, 0x0, 0x1);
        gbc.writeMem(0x3d84, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xb33b, gbc.sp());
        EXPECT(0x3d86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0320
        gbc.setState(0x90f6, 0xf943, 0xa960, 0xd2b1, 0x2ff1, 0xa330, 0x1, 0x1);
        gbc.writeMem(0x90f6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xf943, gbc.sp());
        EXPECT(0x90f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90f6));
        EXPECT(0x5a, gbc.readMem(0x90f7));
        // CB 5A 0321
        gbc.setState(0xa5e5, 0xdccd, 0x6950, 0x2f79, 0x9e20, 0x83, 0x1, 0x0);
        gbc.writeMem(0xa5e5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xdccd, gbc.sp());
        EXPECT(0xa5e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5e5));
        EXPECT(0x5a, gbc.readMem(0xa5e6));
        // CB 5A 0322
        gbc.setState(0x8656, 0x801b, 0xe890, 0x74f9, 0xa06e, 0x47e4, 0x0, 0x1);
        gbc.writeMem(0x8656, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x801b, gbc.sp());
        EXPECT(0x8658, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8656));
        EXPECT(0x5a, gbc.readMem(0x8657));
        // CB 5A 0323
        gbc.setState(0x3554, 0xdb87, 0x3750, 0xcca5, 0xed43, 0xe814, 0x0, 0x1);
        gbc.writeMem(0x3554, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xdb87, gbc.sp());
        EXPECT(0x3556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0324
        gbc.setState(0x9cc7, 0x523e, 0x26c0, 0x16c7, 0xe4fb, 0x19c0, 0x1, 0x1);
        gbc.writeMem(0x9cc7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x523e, gbc.sp());
        EXPECT(0x9cc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cc7));
        EXPECT(0x5a, gbc.readMem(0x9cc8));
        // CB 5A 0325
        gbc.setState(0x4882, 0x5f1a, 0xba50, 0x1e15, 0x75f1, 0x211d, 0x0, 0x0);
        gbc.writeMem(0x4882, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x5f1a, gbc.sp());
        EXPECT(0x4884, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0326
        gbc.setState(0x552a, 0xb42c, 0x9470, 0x7846, 0xadb0, 0xf1d3, 0x1, 0x0);
        gbc.writeMem(0x552a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xb42c, gbc.sp());
        EXPECT(0x552c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0327
        gbc.setState(0x5e33, 0xd4f2, 0x11c0, 0xdf6d, 0x8c60, 0xc458, 0x1, 0x0);
        gbc.writeMem(0x5e33, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xd4f2, gbc.sp());
        EXPECT(0x5e35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0328
        gbc.setState(0x38a4, 0x3e4, 0x8b50, 0x7ef5, 0x991c, 0xc195, 0x1, 0x0);
        gbc.writeMem(0x38a4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x3e4, gbc.sp());
        EXPECT(0x38a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 032A
        gbc.setState(0x5db, 0x1abe, 0xf960, 0x93, 0x33b8, 0x72fc, 0x1, 0x1);
        gbc.writeMem(0x5db, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x1abe, gbc.sp());
        EXPECT(0x5dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 032B
        gbc.setState(0x4869, 0xa91f, 0x3e40, 0x63ca, 0x87e1, 0x1307, 0x0, 0x0);
        gbc.writeMem(0x4869, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xa91f, gbc.sp());
        EXPECT(0x486b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 032C
        gbc.setState(0x1110, 0x3165, 0x19b0, 0xa1f4, 0x12e6, 0xa35e, 0x0, 0x0);
        gbc.writeMem(0x1110, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x3165, gbc.sp());
        EXPECT(0x1112, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 032D
        gbc.setState(0x2738, 0xb108, 0x5f0, 0x64aa, 0x11ea, 0xffdd, 0x1, 0x1);
        gbc.writeMem(0x2738, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xb108, gbc.sp());
        EXPECT(0x273a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 032E
        gbc.setState(0xaf21, 0x30c9, 0x93c0, 0xbb32, 0x8eb8, 0x4e17, 0x1, 0x0);
        gbc.writeMem(0xaf21, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x30c9, gbc.sp());
        EXPECT(0xaf23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf21));
        EXPECT(0x5a, gbc.readMem(0xaf22));
        // CB 5A 032F
        gbc.setState(0x7be8, 0x3dd, 0x4190, 0xce4c, 0xca0, 0x6ec0, 0x0, 0x0);
        gbc.writeMem(0x7be8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x3dd, gbc.sp());
        EXPECT(0x7bea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0330
        gbc.setState(0xaee2, 0x23f2, 0x18c0, 0x7948, 0xe7e1, 0x4f45, 0x1, 0x1);
        gbc.writeMem(0xaee2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x23f2, gbc.sp());
        EXPECT(0xaee4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaee2));
        EXPECT(0x5a, gbc.readMem(0xaee3));
        // CB 5A 0331
        gbc.setState(0x6a7a, 0x8c2f, 0xe390, 0x353d, 0xb755, 0x857a, 0x0, 0x0);
        gbc.writeMem(0x6a7a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x8c2f, gbc.sp());
        EXPECT(0x6a7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0332
        gbc.setState(0x5972, 0x6be0, 0x40d0, 0x6970, 0x35dd, 0x6955, 0x0, 0x0);
        gbc.writeMem(0x5972, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x6be0, gbc.sp());
        EXPECT(0x5974, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0333
        gbc.setState(0x3f89, 0x54ca, 0x2a30, 0xdf86, 0x20ee, 0xf9c, 0x0, 0x1);
        gbc.writeMem(0x3f89, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x54ca, gbc.sp());
        EXPECT(0x3f8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0334
        gbc.setState(0x6b4d, 0x3112, 0xe170, 0xbbf7, 0x3be2, 0x8593, 0x1, 0x1);
        gbc.writeMem(0x6b4d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x3112, gbc.sp());
        EXPECT(0x6b4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0335
        gbc.setState(0xe4f0, 0x83c2, 0x9ea0, 0x35cd, 0xf9e7, 0x86ee, 0x0, 0x1);
        gbc.writeMem(0xe4f0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x83c2, gbc.sp());
        EXPECT(0xe4f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4f0));
        EXPECT(0x5a, gbc.readMem(0xe4f1));
        // CB 5A 0336
        gbc.setState(0x4369, 0xa0ce, 0x8a10, 0x9eb4, 0xd731, 0x10b9, 0x0, 0x0);
        gbc.writeMem(0x4369, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xa0ce, gbc.sp());
        EXPECT(0x436b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0337
        gbc.setState(0xd2dd, 0xce6c, 0xc9d0, 0xf4ae, 0x9350, 0x10c4, 0x0, 0x0);
        gbc.writeMem(0xd2dd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xce6c, gbc.sp());
        EXPECT(0xd2df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2dd));
        EXPECT(0x5a, gbc.readMem(0xd2de));
        // CB 5A 0338
        gbc.setState(0xae9f, 0xbc43, 0x6160, 0x9749, 0x27f1, 0x73e5, 0x0, 0x1);
        gbc.writeMem(0xae9f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xbc43, gbc.sp());
        EXPECT(0xaea1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae9f));
        EXPECT(0x5a, gbc.readMem(0xaea0));
        // CB 5A 0339
        gbc.setState(0x1513, 0x8aa3, 0xec20, 0x969a, 0xf0ba, 0xe7b0, 0x0, 0x0);
        gbc.writeMem(0x1513, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x8aa3, gbc.sp());
        EXPECT(0x1515, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 033A
        gbc.setState(0x1421, 0x9c13, 0x6ac0, 0x243d, 0xd867, 0x3e2c, 0x0, 0x1);
        gbc.writeMem(0x1421, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x9c13, gbc.sp());
        EXPECT(0x1423, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 033B
        gbc.setState(0x1d7a, 0xe2ba, 0x54a0, 0xd3d8, 0x312b, 0xd8d5, 0x1, 0x1);
        gbc.writeMem(0x1d7a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xe2ba, gbc.sp());
        EXPECT(0x1d7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 033D
        gbc.setState(0x8871, 0xc94f, 0xfc60, 0xfd0, 0xc0fa, 0x1ef6, 0x1, 0x1);
        gbc.writeMem(0x8871, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc94f, gbc.sp());
        EXPECT(0x8873, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8871));
        EXPECT(0x5a, gbc.readMem(0x8872));
        // CB 5A 033E
        gbc.setState(0x1eb9, 0xee84, 0x1a50, 0xc565, 0x20cb, 0x7ef3, 0x1, 0x1);
        gbc.writeMem(0x1eb9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xee84, gbc.sp());
        EXPECT(0x1ebb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 033F
        gbc.setState(0x5dfa, 0x8b2e, 0x40d0, 0x2bb9, 0x2a5a, 0xa227, 0x1, 0x0);
        gbc.writeMem(0x5dfa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x8b2e, gbc.sp());
        EXPECT(0x5dfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0340
        gbc.setState(0x2df1, 0xbc5b, 0x650, 0xd293, 0x7d52, 0xb311, 0x1, 0x0);
        gbc.writeMem(0x2df1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xbc5b, gbc.sp());
        EXPECT(0x2df3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0341
        gbc.setState(0x3406, 0x218, 0xffb0, 0xbbb6, 0x8ed5, 0x8601, 0x0, 0x1);
        gbc.writeMem(0x3406, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x218, gbc.sp());
        EXPECT(0x3408, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0342
        gbc.setState(0x6e50, 0x808d, 0x3a20, 0x416c, 0x2518, 0xc466, 0x0, 0x0);
        gbc.writeMem(0x6e50, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x808d, gbc.sp());
        EXPECT(0x6e52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0343
        gbc.setState(0xd14f, 0x9e4d, 0xafa0, 0xf9c1, 0xc0c, 0x2663, 0x0, 0x0);
        gbc.writeMem(0xd14f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x9e4d, gbc.sp());
        EXPECT(0xd151, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd14f));
        EXPECT(0x5a, gbc.readMem(0xd150));
        // CB 5A 0344
        gbc.setState(0xd8b8, 0x3818, 0x2650, 0x5028, 0x5e2d, 0x29c3, 0x0, 0x1);
        gbc.writeMem(0xd8b8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3818, gbc.sp());
        EXPECT(0xd8ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8b8));
        EXPECT(0x5a, gbc.readMem(0xd8b9));
        // CB 5A 0345
        gbc.setState(0x2246, 0xd39e, 0xfb00, 0x3fc, 0xbbc1, 0x843f, 0x0, 0x0);
        gbc.writeMem(0x2246, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xd39e, gbc.sp());
        EXPECT(0x2248, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0346
        gbc.setState(0xbd76, 0x4ee2, 0xb5a0, 0xa0ac, 0x4634, 0xa927, 0x0, 0x1);
        gbc.writeMem(0xbd76, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x4ee2, gbc.sp());
        EXPECT(0xbd78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd76));
        EXPECT(0x5a, gbc.readMem(0xbd77));
        // CB 5A 0348
        gbc.setState(0xa54b, 0x7d97, 0x7fa0, 0x32e1, 0x71d8, 0x5124, 0x1, 0x0);
        gbc.writeMem(0xa54b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x7d97, gbc.sp());
        EXPECT(0xa54d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa54b));
        EXPECT(0x5a, gbc.readMem(0xa54c));
        // CB 5A 0349
        gbc.setState(0x7bea, 0xe140, 0xc860, 0xd3ad, 0xc22a, 0x1b15, 0x0, 0x1);
        gbc.writeMem(0x7bea, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xe140, gbc.sp());
        EXPECT(0x7bec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 034A
        gbc.setState(0x2a7c, 0x973f, 0x4e50, 0x2fc9, 0xf692, 0xf6a1, 0x1, 0x0);
        gbc.writeMem(0x2a7c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x973f, gbc.sp());
        EXPECT(0x2a7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 034C
        gbc.setState(0x1570, 0xffa5, 0x1350, 0xb0bb, 0xb602, 0x3eed, 0x1, 0x1);
        gbc.writeMem(0x1570, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xffa5, gbc.sp());
        EXPECT(0x1572, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 034D
        gbc.setState(0x5c9e, 0x4cf8, 0x6cc0, 0x29b5, 0x2295, 0xa1d, 0x1, 0x0);
        gbc.writeMem(0x5c9e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x4cf8, gbc.sp());
        EXPECT(0x5ca0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 034E
        gbc.setState(0xa97a, 0xef86, 0xc630, 0xfdfc, 0x7c92, 0xdab, 0x1, 0x0);
        gbc.writeMem(0xa97a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xef86, gbc.sp());
        EXPECT(0xa97c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa97a));
        EXPECT(0x5a, gbc.readMem(0xa97b));
        // CB 5A 0351
        gbc.setState(0x8cda, 0x3994, 0x1010, 0xb757, 0x1818, 0x2415, 0x0, 0x0);
        gbc.writeMem(0x8cda, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3994, gbc.sp());
        EXPECT(0x8cdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cda));
        EXPECT(0x5a, gbc.readMem(0x8cdb));
        // CB 5A 0352
        gbc.setState(0xcb78, 0x7504, 0xf70, 0x3d2f, 0x7738, 0xcd7b, 0x1, 0x1);
        gbc.writeMem(0xcb78, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x7504, gbc.sp());
        EXPECT(0xcb7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb78));
        EXPECT(0x5a, gbc.readMem(0xcb79));
        // CB 5A 0353
        gbc.setState(0x7cc3, 0xc1b0, 0xd140, 0x6abb, 0x46c2, 0xb534, 0x0, 0x0);
        gbc.writeMem(0x7cc3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xc1b0, gbc.sp());
        EXPECT(0x7cc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0354
        gbc.setState(0x7fad, 0xf8fb, 0xaad0, 0xe444, 0x5fde, 0x758b, 0x0, 0x0);
        gbc.writeMem(0x7fad, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xf8fb, gbc.sp());
        EXPECT(0x7faf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0355
        gbc.setState(0xe7cd, 0xaa19, 0xde70, 0x9422, 0xc81b, 0x935b, 0x1, 0x0);
        gbc.writeMem(0xe7cd, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xaa19, gbc.sp());
        EXPECT(0xe7cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7cd));
        EXPECT(0x5a, gbc.readMem(0xe7ce));
        // CB 5A 0356
        gbc.setState(0xb0e9, 0xb5cf, 0x70f0, 0xa860, 0x6d2c, 0xccb8, 0x1, 0x1);
        gbc.writeMem(0xb0e9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xb5cf, gbc.sp());
        EXPECT(0xb0eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0e9));
        EXPECT(0x5a, gbc.readMem(0xb0ea));
        // CB 5A 0357
        gbc.setState(0x36ab, 0xc4e5, 0x3df0, 0xfb56, 0x5bf7, 0x94a2, 0x1, 0x1);
        gbc.writeMem(0x36ab, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xc4e5, gbc.sp());
        EXPECT(0x36ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0358
        gbc.setState(0x957c, 0xb1a1, 0xadf0, 0xee32, 0xfcde, 0x356f, 0x1, 0x0);
        gbc.writeMem(0x957c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xb1a1, gbc.sp());
        EXPECT(0x957e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x957c));
        EXPECT(0x5a, gbc.readMem(0x957d));
        // CB 5A 0359
        gbc.setState(0x34f5, 0x8d7b, 0xde70, 0xab32, 0x4f04, 0x9f36, 0x0, 0x0);
        gbc.writeMem(0x34f5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x8d7b, gbc.sp());
        EXPECT(0x34f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 035A
        gbc.setState(0xa94a, 0xb792, 0x1320, 0x18f2, 0xcb97, 0x9335, 0x1, 0x0);
        gbc.writeMem(0xa94a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xb792, gbc.sp());
        EXPECT(0xa94c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa94a));
        EXPECT(0x5a, gbc.readMem(0xa94b));
        // CB 5A 035B
        gbc.setState(0x33cc, 0x366f, 0x3880, 0x86d5, 0xeb2d, 0xb96, 0x1, 0x1);
        gbc.writeMem(0x33cc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x366f, gbc.sp());
        EXPECT(0x33ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 035C
        gbc.setState(0x110, 0xed90, 0xc490, 0x5d5f, 0x1996, 0x67e4, 0x1, 0x0);
        gbc.writeMem(0x110, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xed90, gbc.sp());
        EXPECT(0x112, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 035E
        gbc.setState(0xaa49, 0x4556, 0x5f70, 0xdd82, 0xc456, 0x3c1a, 0x0, 0x0);
        gbc.writeMem(0xaa49, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x4556, gbc.sp());
        EXPECT(0xaa4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa49));
        EXPECT(0x5a, gbc.readMem(0xaa4a));
        // CB 5A 035F
        gbc.setState(0x9fc9, 0xfd4, 0x8cc0, 0x94a4, 0xb980, 0x2ee, 0x1, 0x0);
        gbc.writeMem(0x9fc9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xfd4, gbc.sp());
        EXPECT(0x9fcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fc9));
        EXPECT(0x5a, gbc.readMem(0x9fca));
        // CB 5A 0360
        gbc.setState(0x1d69, 0xf822, 0x6980, 0x88fe, 0x7821, 0x5343, 0x0, 0x0);
        gbc.writeMem(0x1d69, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf822, gbc.sp());
        EXPECT(0x1d6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0361
        gbc.setState(0xd425, 0xda8, 0x9840, 0xb5b8, 0x69bd, 0x89e8, 0x0, 0x0);
        gbc.writeMem(0xd425, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xda8, gbc.sp());
        EXPECT(0xd427, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd425));
        EXPECT(0x5a, gbc.readMem(0xd426));
        // CB 5A 0362
        gbc.setState(0x56a7, 0x149d, 0xab70, 0x87c, 0xd141, 0x2248, 0x0, 0x0);
        gbc.writeMem(0x56a7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x149d, gbc.sp());
        EXPECT(0x56a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0363
        gbc.setState(0x699f, 0xa56a, 0xee60, 0x577f, 0x5b11, 0x2171, 0x0, 0x1);
        gbc.writeMem(0x699f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xa56a, gbc.sp());
        EXPECT(0x69a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0364
        gbc.setState(0x485a, 0xceb0, 0xf0b0, 0xb17b, 0x3959, 0x3f34, 0x1, 0x1);
        gbc.writeMem(0x485a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xceb0, gbc.sp());
        EXPECT(0x485c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0365
        gbc.setState(0x1afa, 0xff1d, 0xef70, 0xcde0, 0x7955, 0xd24b, 0x0, 0x1);
        gbc.writeMem(0x1afa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xff1d, gbc.sp());
        EXPECT(0x1afc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0366
        gbc.setState(0x4673, 0x3578, 0x8020, 0xf304, 0x74df, 0x3514, 0x0, 0x0);
        gbc.writeMem(0x4673, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x3578, gbc.sp());
        EXPECT(0x4675, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0367
        gbc.setState(0x63f2, 0x7e9a, 0x690, 0x5eb6, 0xceae, 0x425a, 0x1, 0x1);
        gbc.writeMem(0x63f2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x7e9a, gbc.sp());
        EXPECT(0x63f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0368
        gbc.setState(0x3777, 0x7ce3, 0xf790, 0x6f63, 0x4216, 0x71bc, 0x1, 0x0);
        gbc.writeMem(0x3777, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x7ce3, gbc.sp());
        EXPECT(0x3779, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0369
        gbc.setState(0x1e0c, 0x9612, 0x30f0, 0x76e7, 0x4ada, 0xef3f, 0x0, 0x1);
        gbc.writeMem(0x1e0c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x9612, gbc.sp());
        EXPECT(0x1e0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 036A
        gbc.setState(0x1c40, 0x3cc0, 0x8b60, 0xc2c5, 0xa9e7, 0xf29e, 0x1, 0x0);
        gbc.writeMem(0x1c40, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x3cc0, gbc.sp());
        EXPECT(0x1c42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 036B
        gbc.setState(0xa870, 0x7281, 0x6ba0, 0x4ddc, 0x199f, 0x541a, 0x1, 0x1);
        gbc.writeMem(0xa870, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x7281, gbc.sp());
        EXPECT(0xa872, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa870));
        EXPECT(0x5a, gbc.readMem(0xa871));
        // CB 5A 036D
        gbc.setState(0xa0e0, 0x758d, 0x4d40, 0xc10b, 0x47c9, 0x497b, 0x1, 0x0);
        gbc.writeMem(0xa0e0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x758d, gbc.sp());
        EXPECT(0xa0e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0e0));
        EXPECT(0x5a, gbc.readMem(0xa0e1));
        // CB 5A 036E
        gbc.setState(0x1676, 0x302b, 0x50e0, 0x8c3a, 0x83e0, 0xbaf1, 0x1, 0x1);
        gbc.writeMem(0x1676, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x302b, gbc.sp());
        EXPECT(0x1678, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 036F
        gbc.setState(0x97da, 0x1c5c, 0xebf0, 0x9ee1, 0x3f4f, 0xeeed, 0x0, 0x1);
        gbc.writeMem(0x97da, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x1c5c, gbc.sp());
        EXPECT(0x97dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97da));
        EXPECT(0x5a, gbc.readMem(0x97db));
        // CB 5A 0370
        gbc.setState(0x8c69, 0x3ebe, 0x7d90, 0x39d4, 0x39ca, 0xfafd, 0x0, 0x1);
        gbc.writeMem(0x8c69, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x3ebe, gbc.sp());
        EXPECT(0x8c6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c69));
        EXPECT(0x5a, gbc.readMem(0x8c6a));
        // CB 5A 0371
        gbc.setState(0xcaf1, 0x88e3, 0xd750, 0x9d79, 0x67a8, 0xe1b2, 0x1, 0x0);
        gbc.writeMem(0xcaf1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x88e3, gbc.sp());
        EXPECT(0xcaf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcaf1));
        EXPECT(0x5a, gbc.readMem(0xcaf2));
        // CB 5A 0372
        gbc.setState(0x3c60, 0xca90, 0x9540, 0x5e72, 0x59a6, 0x44db, 0x0, 0x0);
        gbc.writeMem(0x3c60, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xca90, gbc.sp());
        EXPECT(0x3c62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0373
        gbc.setState(0x223, 0x3da0, 0x43b0, 0x7b8e, 0xc277, 0xd531, 0x1, 0x1);
        gbc.writeMem(0x223, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x3da0, gbc.sp());
        EXPECT(0x225, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0374
        gbc.setState(0x8f79, 0xb969, 0x9e60, 0x1884, 0x5bcf, 0xf869, 0x0, 0x0);
        gbc.writeMem(0x8f79, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb969, gbc.sp());
        EXPECT(0x8f7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f79));
        EXPECT(0x5a, gbc.readMem(0x8f7a));
        // CB 5A 0375
        gbc.setState(0xee01, 0xd9cb, 0x2e20, 0x99a8, 0x26f8, 0x6966, 0x0, 0x0);
        gbc.writeMem(0xee01, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xd9cb, gbc.sp());
        EXPECT(0xee03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee01));
        EXPECT(0x5a, gbc.readMem(0xee02));
        // CB 5A 0376
        gbc.setState(0x8297, 0x186f, 0x1650, 0xd105, 0xfcb9, 0xafab, 0x1, 0x0);
        gbc.writeMem(0x8297, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x186f, gbc.sp());
        EXPECT(0x8299, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8297));
        EXPECT(0x5a, gbc.readMem(0x8298));
        // CB 5A 0377
        gbc.setState(0x8042, 0x344c, 0xf970, 0x73c9, 0xb60e, 0xa532, 0x0, 0x1);
        gbc.writeMem(0x8042, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x344c, gbc.sp());
        EXPECT(0x8044, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8042));
        EXPECT(0x5a, gbc.readMem(0x8043));
        // CB 5A 0378
        gbc.setState(0x5287, 0x78c4, 0xb030, 0x3d7, 0xc49c, 0x3ed5, 0x0, 0x0);
        gbc.writeMem(0x5287, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x78c4, gbc.sp());
        EXPECT(0x5289, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0379
        gbc.setState(0xe79d, 0x51f3, 0xdf00, 0x53c3, 0x8c38, 0xcbd7, 0x1, 0x1);
        gbc.writeMem(0xe79d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x51f3, gbc.sp());
        EXPECT(0xe79f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe79d));
        EXPECT(0x5a, gbc.readMem(0xe79e));
        // CB 5A 037A
        gbc.setState(0x3ae0, 0xb30a, 0xe650, 0xe9e7, 0x8e41, 0xc25e, 0x0, 0x1);
        gbc.writeMem(0x3ae0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xb30a, gbc.sp());
        EXPECT(0x3ae2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 037B
        gbc.setState(0xe3eb, 0xc7f1, 0x28a0, 0xeecf, 0x4665, 0x7141, 0x0, 0x0);
        gbc.writeMem(0xe3eb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xc7f1, gbc.sp());
        EXPECT(0xe3ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3eb));
        EXPECT(0x5a, gbc.readMem(0xe3ec));
        // CB 5A 037D
        gbc.setState(0x46d2, 0x6d4d, 0x94d0, 0x838b, 0xaeff, 0x46bc, 0x1, 0x1);
        gbc.writeMem(0x46d2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x6d4d, gbc.sp());
        EXPECT(0x46d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 037E
        gbc.setState(0x5238, 0x470e, 0x17a0, 0x891c, 0xdc93, 0x3b19, 0x0, 0x1);
        gbc.writeMem(0x5238, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x470e, gbc.sp());
        EXPECT(0x523a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 037F
        gbc.setState(0x9197, 0x7e2f, 0x5bb0, 0xd013, 0x1a55, 0x1eda, 0x1, 0x1);
        gbc.writeMem(0x9197, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x7e2f, gbc.sp());
        EXPECT(0x9199, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9197));
        EXPECT(0x5a, gbc.readMem(0x9198));
        // CB 5A 0380
        gbc.setState(0x60da, 0x9bef, 0x67f0, 0x5e81, 0xc5c7, 0x22f3, 0x0, 0x1);
        gbc.writeMem(0x60da, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x9bef, gbc.sp());
        EXPECT(0x60dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0381
        gbc.setState(0x22e2, 0x948b, 0x92a0, 0xda37, 0x5510, 0xe37d, 0x0, 0x1);
        gbc.writeMem(0x22e2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x948b, gbc.sp());
        EXPECT(0x22e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0382
        gbc.setState(0x16a0, 0xad2, 0x3090, 0x308b, 0x6d76, 0x8dab, 0x0, 0x1);
        gbc.writeMem(0x16a0, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xad2, gbc.sp());
        EXPECT(0x16a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0384
        gbc.setState(0x48cf, 0x9d74, 0x50e0, 0x9bdd, 0x6d05, 0x6629, 0x0, 0x0);
        gbc.writeMem(0x48cf, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x9d74, gbc.sp());
        EXPECT(0x48d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0385
        gbc.setState(0xabde, 0x5ef2, 0x94f0, 0x9d8, 0xced5, 0x86cd, 0x1, 0x0);
        gbc.writeMem(0xabde, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x5ef2, gbc.sp());
        EXPECT(0xabe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabde));
        EXPECT(0x5a, gbc.readMem(0xabdf));
        // CB 5A 0386
        gbc.setState(0xb41d, 0xc51e, 0x9620, 0xb511, 0xee17, 0xd7bf, 0x1, 0x0);
        gbc.writeMem(0xb41d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xc51e, gbc.sp());
        EXPECT(0xb41f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb41d));
        EXPECT(0x5a, gbc.readMem(0xb41e));
        // CB 5A 0387
        gbc.setState(0x691d, 0x4b10, 0x8940, 0xc9b3, 0x6043, 0x241, 0x1, 0x1);
        gbc.writeMem(0x691d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x4b10, gbc.sp());
        EXPECT(0x691f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0388
        gbc.setState(0xa7d5, 0x4831, 0xea40, 0x5c02, 0x2fed, 0x9982, 0x1, 0x1);
        gbc.writeMem(0xa7d5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x4831, gbc.sp());
        EXPECT(0xa7d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7d5));
        EXPECT(0x5a, gbc.readMem(0xa7d6));
        // CB 5A 0389
        gbc.setState(0x258b, 0x2778, 0xcd70, 0x2e14, 0xcd89, 0xf7a2, 0x1, 0x0);
        gbc.writeMem(0x258b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x2778, gbc.sp());
        EXPECT(0x258d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 038A
        gbc.setState(0x8e9f, 0xab70, 0xd930, 0x576c, 0xa57f, 0x178e, 0x0, 0x0);
        gbc.writeMem(0x8e9f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xab70, gbc.sp());
        EXPECT(0x8ea1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e9f));
        EXPECT(0x5a, gbc.readMem(0x8ea0));
        // CB 5A 038B
        gbc.setState(0x136b, 0x3650, 0x2430, 0x64a2, 0xd9e7, 0x708f, 0x0, 0x0);
        gbc.writeMem(0x136b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x3650, gbc.sp());
        EXPECT(0x136d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 038C
        gbc.setState(0xe92f, 0xc1d, 0x2c10, 0xd50, 0x672e, 0xf87b, 0x1, 0x0);
        gbc.writeMem(0xe92f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xc1d, gbc.sp());
        EXPECT(0xe931, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe92f));
        EXPECT(0x5a, gbc.readMem(0xe930));
        // CB 5A 038D
        gbc.setState(0xb478, 0x275d, 0x94a0, 0xa7de, 0xbfbe, 0x7271, 0x0, 0x0);
        gbc.writeMem(0xb478, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x275d, gbc.sp());
        EXPECT(0xb47a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb478));
        EXPECT(0x5a, gbc.readMem(0xb479));
        // CB 5A 038E
        gbc.setState(0x225a, 0xd1e, 0x75a0, 0x65f0, 0x96ae, 0xa148, 0x1, 0x0);
        gbc.writeMem(0x225a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xd1e, gbc.sp());
        EXPECT(0x225c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 038F
        gbc.setState(0x5702, 0x79bf, 0x4a40, 0x2eab, 0xd388, 0x3bdc, 0x0, 0x0);
        gbc.writeMem(0x5702, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x79bf, gbc.sp());
        EXPECT(0x5704, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0390
        gbc.setState(0xac9d, 0x8a67, 0xc2d0, 0x55f5, 0x3328, 0xacf8, 0x0, 0x1);
        gbc.writeMem(0xac9d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8a67, gbc.sp());
        EXPECT(0xac9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac9d));
        EXPECT(0x5a, gbc.readMem(0xac9e));
        // CB 5A 0391
        gbc.setState(0x3ff7, 0xcee, 0x7e40, 0x6ed4, 0x7617, 0xc62c, 0x0, 0x0);
        gbc.writeMem(0x3ff7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xcee, gbc.sp());
        EXPECT(0x3ff9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0392
        gbc.setState(0x50e1, 0xcedb, 0xc1f0, 0xdc0, 0xcec8, 0x7023, 0x0, 0x1);
        gbc.writeMem(0x50e1, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xcedb, gbc.sp());
        EXPECT(0x50e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0393
        gbc.setState(0xefa3, 0x9379, 0xbee0, 0x350f, 0x4bae, 0x6478, 0x1, 0x0);
        gbc.writeMem(0xefa3, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x9379, gbc.sp());
        EXPECT(0xefa5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefa3));
        EXPECT(0x5a, gbc.readMem(0xefa4));
        // CB 5A 0394
        gbc.setState(0x24ab, 0xd3de, 0xa6d0, 0xcda2, 0x7e04, 0xd0b1, 0x1, 0x1);
        gbc.writeMem(0x24ab, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xd3de, gbc.sp());
        EXPECT(0x24ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0395
        gbc.setState(0xd0c2, 0xee0f, 0x4bd0, 0x4b0b, 0xe79f, 0xe844, 0x1, 0x1);
        gbc.writeMem(0xd0c2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xee0f, gbc.sp());
        EXPECT(0xd0c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0c2));
        EXPECT(0x5a, gbc.readMem(0xd0c3));
        // CB 5A 0396
        gbc.setState(0x8181, 0x966b, 0x8040, 0xcfdf, 0x3ef4, 0x603b, 0x0, 0x1);
        gbc.writeMem(0x8181, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x966b, gbc.sp());
        EXPECT(0x8183, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8181));
        EXPECT(0x5a, gbc.readMem(0x8182));
        // CB 5A 0397
        gbc.setState(0x592c, 0xc3b7, 0x57d0, 0x906e, 0xcd42, 0xc95e, 0x1, 0x1);
        gbc.writeMem(0x592c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xc3b7, gbc.sp());
        EXPECT(0x592e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 0398
        gbc.setState(0x2324, 0x6775, 0x1f80, 0x34f3, 0xee8, 0x64ef, 0x1, 0x1);
        gbc.writeMem(0x2324, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x6775, gbc.sp());
        EXPECT(0x2326, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 0399
        gbc.setState(0xd345, 0x65b, 0x7340, 0xabd6, 0xd281, 0xeae3, 0x0, 0x0);
        gbc.writeMem(0xd345, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x65b, gbc.sp());
        EXPECT(0xd347, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd345));
        EXPECT(0x5a, gbc.readMem(0xd346));
        // CB 5A 039A
        gbc.setState(0xb861, 0x935e, 0xf710, 0x43bf, 0x346f, 0x25bc, 0x0, 0x1);
        gbc.writeMem(0xb861, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x935e, gbc.sp());
        EXPECT(0xb863, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb861));
        EXPECT(0x5a, gbc.readMem(0xb862));
        // CB 5A 039B
        gbc.setState(0xd426, 0x9bf8, 0xb330, 0x63ce, 0x3f3f, 0x8d7d, 0x0, 0x1);
        gbc.writeMem(0xd426, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x9bf8, gbc.sp());
        EXPECT(0xd428, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd426));
        EXPECT(0x5a, gbc.readMem(0xd427));
        // CB 5A 039C
        gbc.setState(0x699, 0x58ad, 0x9900, 0x4ad, 0xa5d2, 0xccdf, 0x0, 0x1);
        gbc.writeMem(0x699, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x58ad, gbc.sp());
        EXPECT(0x69b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 039D
        gbc.setState(0xa149, 0xe44c, 0x6b90, 0xddfd, 0x7c03, 0x5b5b, 0x0, 0x0);
        gbc.writeMem(0xa149, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xe44c, gbc.sp());
        EXPECT(0xa14b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa149));
        EXPECT(0x5a, gbc.readMem(0xa14a));
        // CB 5A 039E
        gbc.setState(0x753, 0x2845, 0x9160, 0x4ecf, 0xfb76, 0x45b5, 0x0, 0x1);
        gbc.writeMem(0x753, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x2845, gbc.sp());
        EXPECT(0x755, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 039F
        gbc.setState(0xb954, 0x6f3a, 0x830, 0x9be9, 0x72a3, 0x894, 0x0, 0x1);
        gbc.writeMem(0xb954, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x6f3a, gbc.sp());
        EXPECT(0xb956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb954));
        EXPECT(0x5a, gbc.readMem(0xb955));
        // CB 5A 03A0
        gbc.setState(0xba08, 0xf2e, 0xdb60, 0xcf66, 0xc86c, 0xc69d, 0x0, 0x0);
        gbc.writeMem(0xba08, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xf2e, gbc.sp());
        EXPECT(0xba0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba08));
        EXPECT(0x5a, gbc.readMem(0xba09));
        // CB 5A 03A1
        gbc.setState(0xbe18, 0x5851, 0x2b30, 0x69e7, 0xca97, 0x466c, 0x0, 0x1);
        gbc.writeMem(0xbe18, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x5851, gbc.sp());
        EXPECT(0xbe1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe18));
        EXPECT(0x5a, gbc.readMem(0xbe19));
        // CB 5A 03A2
        gbc.setState(0x737e, 0x9743, 0x7440, 0x456e, 0x1224, 0x4cf5, 0x0, 0x0);
        gbc.writeMem(0x737e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x9743, gbc.sp());
        EXPECT(0x7380, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03A3
        gbc.setState(0x5c10, 0xb36f, 0xe370, 0xc186, 0x9bd4, 0x171f, 0x0, 0x1);
        gbc.writeMem(0x5c10, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xb36f, gbc.sp());
        EXPECT(0x5c12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03A4
        gbc.setState(0x505e, 0x87fa, 0x6a70, 0x7c92, 0x8c03, 0xf17e, 0x0, 0x0);
        gbc.writeMem(0x505e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x87fa, gbc.sp());
        EXPECT(0x5060, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03A5
        gbc.setState(0xea5a, 0x52cf, 0xe260, 0x5499, 0xd7bb, 0xaf2f, 0x1, 0x0);
        gbc.writeMem(0xea5a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x52cf, gbc.sp());
        EXPECT(0xea5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea5a));
        EXPECT(0x5a, gbc.readMem(0xea5b));
        // CB 5A 03A6
        gbc.setState(0x56c7, 0xee65, 0x6520, 0x7d8f, 0x765e, 0x10f4, 0x0, 0x1);
        gbc.writeMem(0x56c7, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xee65, gbc.sp());
        EXPECT(0x56c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03A7
        gbc.setState(0xaba2, 0x7b39, 0x4fd0, 0x2376, 0x438f, 0x4dc8, 0x1, 0x0);
        gbc.writeMem(0xaba2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x7b39, gbc.sp());
        EXPECT(0xaba4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaba2));
        EXPECT(0x5a, gbc.readMem(0xaba3));
        // CB 5A 03A8
        gbc.setState(0x6d12, 0x7fa4, 0x8ce0, 0x2b83, 0x6f90, 0x3a75, 0x0, 0x1);
        gbc.writeMem(0x6d12, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x7fa4, gbc.sp());
        EXPECT(0x6d14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03A9
        gbc.setState(0x8dd5, 0x26a2, 0xade0, 0x2ef5, 0x2d86, 0xbc7a, 0x0, 0x0);
        gbc.writeMem(0x8dd5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x26a2, gbc.sp());
        EXPECT(0x8dd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8dd5));
        EXPECT(0x5a, gbc.readMem(0x8dd6));
        // CB 5A 03AA
        gbc.setState(0xb51e, 0x29e4, 0x1bc0, 0x38f3, 0x7185, 0xe470, 0x1, 0x0);
        gbc.writeMem(0xb51e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x29e4, gbc.sp());
        EXPECT(0xb520, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb51e));
        EXPECT(0x5a, gbc.readMem(0xb51f));
        // CB 5A 03AB
        gbc.setState(0x7602, 0x2b85, 0xf0, 0x80bf, 0x3cb4, 0x5f18, 0x0, 0x0);
        gbc.writeMem(0x7602, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x2b85, gbc.sp());
        EXPECT(0x7604, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03AC
        gbc.setState(0x8fa8, 0xb7b4, 0x58c0, 0xeee6, 0x8621, 0x2ae, 0x0, 0x1);
        gbc.writeMem(0x8fa8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xb7b4, gbc.sp());
        EXPECT(0x8faa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fa8));
        EXPECT(0x5a, gbc.readMem(0x8fa9));
        // CB 5A 03AD
        gbc.setState(0x1f8c, 0x91cb, 0xd900, 0x3dfb, 0xc91f, 0x90d6, 0x1, 0x0);
        gbc.writeMem(0x1f8c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x91cb, gbc.sp());
        EXPECT(0x1f8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03AE
        gbc.setState(0xab91, 0xc09f, 0xe780, 0x2c4e, 0x7aab, 0x7f15, 0x0, 0x1);
        gbc.writeMem(0xab91, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xc09f, gbc.sp());
        EXPECT(0xab93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab91));
        EXPECT(0x5a, gbc.readMem(0xab92));
        // CB 5A 03AF
        gbc.setState(0x952d, 0x2b8, 0xfb40, 0x66b4, 0x7d02, 0x76e3, 0x1, 0x0);
        gbc.writeMem(0x952d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x2b8, gbc.sp());
        EXPECT(0x952f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x952d));
        EXPECT(0x5a, gbc.readMem(0x952e));
        // CB 5A 03B0
        gbc.setState(0x7612, 0x89d4, 0x4910, 0x1e97, 0x125b, 0x5e1b, 0x1, 0x1);
        gbc.writeMem(0x7612, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x89d4, gbc.sp());
        EXPECT(0x7614, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03B1
        gbc.setState(0x2a2f, 0x4259, 0x4520, 0x5d3c, 0x4c89, 0x7bd5, 0x1, 0x0);
        gbc.writeMem(0x2a2f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x4259, gbc.sp());
        EXPECT(0x2a31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03B2
        gbc.setState(0x135, 0x2d3f, 0xd880, 0xc87e, 0xc051, 0x4fe7, 0x1, 0x0);
        gbc.writeMem(0x135, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x2d3f, gbc.sp());
        EXPECT(0x137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03B3
        gbc.setState(0xa864, 0x634f, 0x59b0, 0xd98c, 0x854f, 0x9628, 0x0, 0x1);
        gbc.writeMem(0xa864, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x634f, gbc.sp());
        EXPECT(0xa866, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa864));
        EXPECT(0x5a, gbc.readMem(0xa865));
        // CB 5A 03B4
        gbc.setState(0x58c9, 0xe327, 0xd990, 0x3957, 0xb9f, 0x69de, 0x1, 0x1);
        gbc.writeMem(0x58c9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xe327, gbc.sp());
        EXPECT(0x58cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03B5
        gbc.setState(0xeab6, 0x52fa, 0x1520, 0x2f3c, 0x4a11, 0x92da, 0x1, 0x0);
        gbc.writeMem(0xeab6, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x52fa, gbc.sp());
        EXPECT(0xeab8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeab6));
        EXPECT(0x5a, gbc.readMem(0xeab7));
        // CB 5A 03B6
        gbc.setState(0xc586, 0x2e8d, 0x38e0, 0x7f8b, 0x5497, 0x5faf, 0x1, 0x0);
        gbc.writeMem(0xc586, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x2e8d, gbc.sp());
        EXPECT(0xc588, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc586));
        EXPECT(0x5a, gbc.readMem(0xc587));
        // CB 5A 03B7
        gbc.setState(0x6efa, 0x89da, 0xeb50, 0xd66a, 0xbc86, 0x38a, 0x0, 0x0);
        gbc.writeMem(0x6efa, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x89da, gbc.sp());
        EXPECT(0x6efc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03B8
        gbc.setState(0xeaf4, 0xd1b6, 0xcd10, 0xf5f6, 0x32a0, 0x25f7, 0x0, 0x1);
        gbc.writeMem(0xeaf4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xd1b6, gbc.sp());
        EXPECT(0xeaf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeaf4));
        EXPECT(0x5a, gbc.readMem(0xeaf5));
        // CB 5A 03B9
        gbc.setState(0xd258, 0xfe36, 0x600, 0xe246, 0x2e9, 0xf32f, 0x0, 0x1);
        gbc.writeMem(0xd258, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xfe36, gbc.sp());
        EXPECT(0xd25a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd258));
        EXPECT(0x5a, gbc.readMem(0xd259));
        // CB 5A 03BA
        gbc.setState(0xa77, 0x80bb, 0x900, 0xb366, 0xc393, 0xfeb1, 0x0, 0x1);
        gbc.writeMem(0xa77, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x80bb, gbc.sp());
        EXPECT(0xa79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03BB
        gbc.setState(0x7da, 0x6619, 0xf0e0, 0x51b9, 0x7703, 0xc8b7, 0x0, 0x0);
        gbc.writeMem(0x7da, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x6619, gbc.sp());
        EXPECT(0x7dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03BC
        gbc.setState(0x97ac, 0x5cc7, 0x65d0, 0xfbae, 0x1ec0, 0x3228, 0x1, 0x0);
        gbc.writeMem(0x97ac, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x5cc7, gbc.sp());
        EXPECT(0x97ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97ac));
        EXPECT(0x5a, gbc.readMem(0x97ad));
        // CB 5A 03BD
        gbc.setState(0x399b, 0x9ba8, 0xf920, 0x7aa1, 0xe97f, 0xb339, 0x0, 0x1);
        gbc.writeMem(0x399b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x9ba8, gbc.sp());
        EXPECT(0x399d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03BE
        gbc.setState(0x82f4, 0x52d, 0x43d0, 0x3088, 0x1ea5, 0xed0c, 0x0, 0x1);
        gbc.writeMem(0x82f4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x52d, gbc.sp());
        EXPECT(0x82f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82f4));
        EXPECT(0x5a, gbc.readMem(0x82f5));
        // CB 5A 03BF
        gbc.setState(0xe6fe, 0x4d5d, 0xbd60, 0xd9f4, 0xbb6, 0x1370, 0x1, 0x1);
        gbc.writeMem(0xe6fe, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x4d5d, gbc.sp());
        EXPECT(0xe700, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6fe));
        EXPECT(0x5a, gbc.readMem(0xe6ff));
        // CB 5A 03C0
        gbc.setState(0xec2a, 0x1965, 0x9e0, 0x2334, 0xf5d4, 0x50e6, 0x0, 0x0);
        gbc.writeMem(0xec2a, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x1965, gbc.sp());
        EXPECT(0xec2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec2a));
        EXPECT(0x5a, gbc.readMem(0xec2b));
        // CB 5A 03C1
        gbc.setState(0xa01c, 0x3166, 0xcd90, 0xb57d, 0xb43a, 0x357c, 0x1, 0x1);
        gbc.writeMem(0xa01c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x3166, gbc.sp());
        EXPECT(0xa01e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa01c));
        EXPECT(0x5a, gbc.readMem(0xa01d));
        // CB 5A 03C2
        gbc.setState(0x9df5, 0x70e8, 0x5ae0, 0xefbb, 0xf08a, 0x91f9, 0x0, 0x0);
        gbc.writeMem(0x9df5, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x70e8, gbc.sp());
        EXPECT(0x9df7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9df5));
        EXPECT(0x5a, gbc.readMem(0x9df6));
        // CB 5A 03C3
        gbc.setState(0xbb93, 0x4b00, 0xf0e0, 0xcec9, 0xd72a, 0x1804, 0x1, 0x1);
        gbc.writeMem(0xbb93, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x4b00, gbc.sp());
        EXPECT(0xbb95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb93));
        EXPECT(0x5a, gbc.readMem(0xbb94));
        // CB 5A 03C4
        gbc.setState(0x1cba, 0xb66d, 0x8140, 0x5c5a, 0xb4ad, 0x19c6, 0x1, 0x1);
        gbc.writeMem(0x1cba, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xb66d, gbc.sp());
        EXPECT(0x1cbc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03C5
        gbc.setState(0x142c, 0xfaa, 0x8620, 0x8315, 0x2d84, 0x5025, 0x0, 0x1);
        gbc.writeMem(0x142c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xfaa, gbc.sp());
        EXPECT(0x142e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03C6
        gbc.setState(0x2cf4, 0xdae3, 0xfab0, 0x4489, 0x3db0, 0xd868, 0x0, 0x1);
        gbc.writeMem(0x2cf4, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xdae3, gbc.sp());
        EXPECT(0x2cf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03C7
        gbc.setState(0xe0bb, 0x6c9c, 0x6640, 0x7463, 0xcdf8, 0x3473, 0x0, 0x0);
        gbc.writeMem(0xe0bb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x6c9c, gbc.sp());
        EXPECT(0xe0bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0bb));
        EXPECT(0x5a, gbc.readMem(0xe0bc));
        // CB 5A 03C8
        gbc.setState(0x17e, 0xeb81, 0x3260, 0x69f8, 0xd776, 0xf05c, 0x0, 0x0);
        gbc.writeMem(0x17e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xeb81, gbc.sp());
        EXPECT(0x180, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03C9
        gbc.setState(0x877c, 0xd6ea, 0xd990, 0x322, 0xf696, 0x3db9, 0x0, 0x0);
        gbc.writeMem(0x877c, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xd6ea, gbc.sp());
        EXPECT(0x877e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x877c));
        EXPECT(0x5a, gbc.readMem(0x877d));
        // CB 5A 03CA
        gbc.setState(0x3c1f, 0xb19e, 0xc420, 0x39b8, 0xcefb, 0x5687, 0x1, 0x1);
        gbc.writeMem(0x3c1f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xb19e, gbc.sp());
        EXPECT(0x3c21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03CB
        gbc.setState(0x1830, 0x895f, 0x3740, 0x9b97, 0x67d7, 0x1ec0, 0x0, 0x1);
        gbc.writeMem(0x1830, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x895f, gbc.sp());
        EXPECT(0x1832, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03CD
        gbc.setState(0x99ab, 0xd7e0, 0x17a0, 0x79be, 0x4f5f, 0x1fdf, 0x1, 0x0);
        gbc.writeMem(0x99ab, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xd7e0, gbc.sp());
        EXPECT(0x99ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99ab));
        EXPECT(0x5a, gbc.readMem(0x99ac));
        // CB 5A 03CE
        gbc.setState(0x9b8, 0xfc4, 0x2650, 0x5014, 0xcd74, 0x6740, 0x1, 0x1);
        gbc.writeMem(0x9b8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xfc4, gbc.sp());
        EXPECT(0x9ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03CF
        gbc.setState(0x43f8, 0x38cd, 0xf550, 0xd4fc, 0xeddf, 0x4feb, 0x1, 0x0);
        gbc.writeMem(0x43f8, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x38cd, gbc.sp());
        EXPECT(0x43fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03D0
        gbc.setState(0x254f, 0xe8d3, 0x7200, 0x6b9, 0x97fe, 0xe538, 0x1, 0x0);
        gbc.writeMem(0x254f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xe8d3, gbc.sp());
        EXPECT(0x2551, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03D1
        gbc.setState(0xabca, 0x21e7, 0x9c0, 0x914e, 0x6a0e, 0x288f, 0x1, 0x0);
        gbc.writeMem(0xabca, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x21e7, gbc.sp());
        EXPECT(0xabcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabca));
        EXPECT(0x5a, gbc.readMem(0xabcb));
        // CB 5A 03D3
        gbc.setState(0x1e33, 0x16ad, 0xafd0, 0xd5f9, 0x8cb8, 0x7b14, 0x1, 0x0);
        gbc.writeMem(0x1e33, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x16ad, gbc.sp());
        EXPECT(0x1e35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03D4
        gbc.setState(0xdd20, 0xe6be, 0x39b0, 0xd1a7, 0xd2fe, 0x22f0, 0x0, 0x1);
        gbc.writeMem(0xdd20, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xe6be, gbc.sp());
        EXPECT(0xdd22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd20));
        EXPECT(0x5a, gbc.readMem(0xdd21));
        // CB 5A 03D5
        gbc.setState(0x63db, 0x11ba, 0x5840, 0x8f8, 0x8015, 0x248, 0x1, 0x1);
        gbc.writeMem(0x63db, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x11ba, gbc.sp());
        EXPECT(0x63dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03D6
        gbc.setState(0x31c2, 0x349d, 0xaf10, 0x82e6, 0xa9f3, 0x35a3, 0x0, 0x1);
        gbc.writeMem(0x31c2, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x349d, gbc.sp());
        EXPECT(0x31c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03D7
        gbc.setState(0x5a1f, 0x179f, 0xca70, 0xc5b9, 0xb9c3, 0xc74b, 0x1, 0x0);
        gbc.writeMem(0x5a1f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x179f, gbc.sp());
        EXPECT(0x5a21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03D8
        gbc.setState(0x42fc, 0xb757, 0x6d60, 0x4b16, 0x4631, 0xf704, 0x0, 0x1);
        gbc.writeMem(0x42fc, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xb757, gbc.sp());
        EXPECT(0x42fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03D9
        gbc.setState(0x195, 0xd6b5, 0x6a00, 0x6dad, 0x4aea, 0xa6e0, 0x1, 0x0);
        gbc.writeMem(0x195, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xd6b5, gbc.sp());
        EXPECT(0x197, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03DA
        gbc.setState(0x92ab, 0x5a74, 0x6700, 0xb503, 0xd5c2, 0xd45b, 0x1, 0x0);
        gbc.writeMem(0x92ab, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x5a74, gbc.sp());
        EXPECT(0x92ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92ab));
        EXPECT(0x5a, gbc.readMem(0x92ac));
        // CB 5A 03DB
        gbc.setState(0x18af, 0x3888, 0x7b90, 0x5344, 0x288c, 0x9576, 0x0, 0x0);
        gbc.writeMem(0x18af, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x3888, gbc.sp());
        EXPECT(0x18b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03DC
        gbc.setState(0xb011, 0x74ed, 0xe8c0, 0x5cc2, 0x3e9c, 0x26ec, 0x1, 0x1);
        gbc.writeMem(0xb011, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x74ed, gbc.sp());
        EXPECT(0xb013, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb011));
        EXPECT(0x5a, gbc.readMem(0xb012));
        // CB 5A 03DD
        gbc.setState(0x2a54, 0x10be, 0xca70, 0x18bb, 0x5ef5, 0x7fa5, 0x1, 0x1);
        gbc.writeMem(0x2a54, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x10be, gbc.sp());
        EXPECT(0x2a56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03DE
        gbc.setState(0xbe39, 0x5dc6, 0xe330, 0x8fc7, 0x844c, 0x669a, 0x0, 0x1);
        gbc.writeMem(0xbe39, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x5dc6, gbc.sp());
        EXPECT(0xbe3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe39));
        EXPECT(0x5a, gbc.readMem(0xbe3a));
        // CB 5A 03DF
        gbc.setState(0x42ca, 0x9cd5, 0x3b0, 0xb35f, 0x4762, 0x53fc, 0x1, 0x1);
        gbc.writeMem(0x42ca, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x9cd5, gbc.sp());
        EXPECT(0x42cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03E0
        gbc.setState(0x267b, 0xdc18, 0xb4f0, 0x6008, 0x2978, 0x6258, 0x1, 0x0);
        gbc.writeMem(0x267b, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xdc18, gbc.sp());
        EXPECT(0x267d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03E2
        gbc.setState(0x968e, 0xc6f0, 0x7000, 0xa587, 0xb75e, 0xf399, 0x0, 0x1);
        gbc.writeMem(0x968e, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xc6f0, gbc.sp());
        EXPECT(0x9690, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x968e));
        EXPECT(0x5a, gbc.readMem(0x968f));
        // CB 5A 03E3
        gbc.setState(0x7f8f, 0x338a, 0xdff0, 0x6b99, 0x4863, 0xabe0, 0x0, 0x0);
        gbc.writeMem(0x7f8f, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x338a, gbc.sp());
        EXPECT(0x7f91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 5A 03E4
        gbc.setState(0x928d, 0xac39, 0x1e20, 0x24ce, 0x1a7, 0x9946, 0x0, 0x1);
        gbc.writeMem(0x928d, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xac39, gbc.sp());
        EXPECT(0x928f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x928d));
        EXPECT(0x5a, gbc.readMem(0x928e));
        // CB 5A 03E5
        gbc.setState(0x1cb, 0xd13b, 0x9680, 0xbef, 0xb132, 0x6e6c, 0x1, 0x1);
        gbc.writeMem(0x1cb, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xd13b, gbc.sp());
        EXPECT(0x1cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 5A 03E6
        gbc.setState(0xbf84, 0x5a94, 0xa990, 0x8fc, 0x1a55, 0x4a9e, 0x1, 0x0);
        gbc.writeMem(0xbf84, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x5a94, gbc.sp());
        EXPECT(0xbf86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf84));
        EXPECT(0x5a, gbc.readMem(0xbf85));
        // CB 5A 03E7
        gbc.setState(0x4b9, 0x9021, 0x36a0, 0xd10f, 0x4929, 0xb0d, 0x1, 0x1);
        gbc.writeMem(0x4b9, { 0xcb, 0x5a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x9021, gbc.sp());
        EXPECT(0x4bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
