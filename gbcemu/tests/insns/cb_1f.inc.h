    TEST(gbcemu, opcode_cb_1f) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 1F 0000
        gbc.setState(0xc26e, 0x76bd, 0x450, 0xb7c2, 0xedb5, 0xee19, 0x0, 0x1);
        gbc.writeMem(0xc26e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x76bd);
        EXPECT(gbc.pc(), 0xc270);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc26e), 0xcb);
        EXPECT(gbc.readMem(0xc26f), 0x1f);
        // CB 1F 0002
        gbc.setState(0x67b5, 0xe696, 0x66e0, 0x8adb, 0x910b, 0x7eca, 0x1, 0x1);
        gbc.writeMem(0x67b5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xe696);
        EXPECT(gbc.pc(), 0x67b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0003
        gbc.setState(0xe6c0, 0x32d6, 0xab40, 0xe516, 0xf012, 0xdee8, 0x1, 0x0);
        gbc.writeMem(0xe6c0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x32d6);
        EXPECT(gbc.pc(), 0xe6c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c0), 0xcb);
        EXPECT(gbc.readMem(0xe6c1), 0x1f);
        // CB 1F 0004
        gbc.setState(0x96a7, 0xebaa, 0xe570, 0xed9e, 0xc16b, 0xa5b3, 0x0, 0x1);
        gbc.writeMem(0x96a7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xebaa);
        EXPECT(gbc.pc(), 0x96a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96a7), 0xcb);
        EXPECT(gbc.readMem(0x96a8), 0x1f);
        // CB 1F 0005
        gbc.setState(0xa05a, 0xc998, 0x6050, 0x1bef, 0xf1fb, 0x33ab, 0x0, 0x1);
        gbc.writeMem(0xa05a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc998);
        EXPECT(gbc.pc(), 0xa05c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa05a), 0xcb);
        EXPECT(gbc.readMem(0xa05b), 0x1f);
        // CB 1F 0006
        gbc.setState(0xe883, 0xc804, 0x4db0, 0x730, 0x41ca, 0x81cc, 0x0, 0x0);
        gbc.writeMem(0xe883, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc804);
        EXPECT(gbc.pc(), 0xe885);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe883), 0xcb);
        EXPECT(gbc.readMem(0xe884), 0x1f);
        // CB 1F 0007
        gbc.setState(0xe068, 0x65f9, 0x2110, 0xac33, 0x7a9a, 0x9a6c, 0x1, 0x0);
        gbc.writeMem(0xe068, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x65f9);
        EXPECT(gbc.pc(), 0xe06a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe068), 0xcb);
        EXPECT(gbc.readMem(0xe069), 0x1f);
        // CB 1F 0008
        gbc.setState(0x5e01, 0x8edf, 0x90a0, 0xc7d5, 0xe4e3, 0xf236, 0x0, 0x0);
        gbc.writeMem(0x5e01, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8edf);
        EXPECT(gbc.pc(), 0x5e03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0009
        gbc.setState(0x250b, 0x9696, 0x78b0, 0x34ce, 0x5676, 0x514b, 0x0, 0x1);
        gbc.writeMem(0x250b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9696);
        EXPECT(gbc.pc(), 0x250d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 000A
        gbc.setState(0x388c, 0xc11f, 0xde50, 0x48c7, 0x675b, 0xa167, 0x1, 0x0);
        gbc.writeMem(0x388c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc11f);
        EXPECT(gbc.pc(), 0x388e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 000B
        gbc.setState(0xe957, 0x39b4, 0xef20, 0xfd52, 0xaea1, 0xa6c0, 0x1, 0x1);
        gbc.writeMem(0xe957, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x39b4);
        EXPECT(gbc.pc(), 0xe959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe957), 0xcb);
        EXPECT(gbc.readMem(0xe958), 0x1f);
        // CB 1F 000C
        gbc.setState(0xdc7f, 0x73f0, 0xb480, 0xe653, 0xda0f, 0x6191, 0x0, 0x0);
        gbc.writeMem(0xdc7f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x73f0);
        EXPECT(gbc.pc(), 0xdc81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc7f), 0xcb);
        EXPECT(gbc.readMem(0xdc80), 0x1f);
        // CB 1F 000E
        gbc.setState(0xb905, 0x82df, 0xcbb0, 0x96b7, 0x66f3, 0x6066, 0x1, 0x0);
        gbc.writeMem(0xb905, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x82df);
        EXPECT(gbc.pc(), 0xb907);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb905), 0xcb);
        EXPECT(gbc.readMem(0xb906), 0x1f);
        // CB 1F 000F
        gbc.setState(0xa71a, 0x5ef3, 0x6a90, 0xdf39, 0xe014, 0xcde0, 0x0, 0x1);
        gbc.writeMem(0xa71a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5ef3);
        EXPECT(gbc.pc(), 0xa71c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa71a), 0xcb);
        EXPECT(gbc.readMem(0xa71b), 0x1f);
        // CB 1F 0010
        gbc.setState(0xb400, 0xedc6, 0x79c0, 0x4574, 0xd82a, 0x9c2a, 0x0, 0x0);
        gbc.writeMem(0xb400, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xedc6);
        EXPECT(gbc.pc(), 0xb402);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb400), 0xcb);
        EXPECT(gbc.readMem(0xb401), 0x1f);
        // CB 1F 0011
        gbc.setState(0xb156, 0xbb16, 0xc370, 0x639f, 0xaa8b, 0x79e9, 0x0, 0x1);
        gbc.writeMem(0xb156, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbb16);
        EXPECT(gbc.pc(), 0xb158);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb156), 0xcb);
        EXPECT(gbc.readMem(0xb157), 0x1f);
        // CB 1F 0012
        gbc.setState(0x4b19, 0x87ab, 0x4680, 0x4c58, 0xc9b5, 0x488e, 0x1, 0x1);
        gbc.writeMem(0x4b19, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x87ab);
        EXPECT(gbc.pc(), 0x4b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0013
        gbc.setState(0xe5be, 0xec8f, 0xa6b0, 0xa4ad, 0x53ba, 0xe461, 0x0, 0x1);
        gbc.writeMem(0xe5be, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xec8f);
        EXPECT(gbc.pc(), 0xe5c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5be), 0xcb);
        EXPECT(gbc.readMem(0xe5bf), 0x1f);
        // CB 1F 0014
        gbc.setState(0x92a5, 0xb4d9, 0x6ad0, 0x9c56, 0xd474, 0xe766, 0x0, 0x1);
        gbc.writeMem(0x92a5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb4d9);
        EXPECT(gbc.pc(), 0x92a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92a5), 0xcb);
        EXPECT(gbc.readMem(0x92a6), 0x1f);
        // CB 1F 0015
        gbc.setState(0xf01, 0xa134, 0x7b0, 0x952b, 0xf542, 0x6867, 0x1, 0x0);
        gbc.writeMem(0xf01, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa134);
        EXPECT(gbc.pc(), 0xf03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0016
        gbc.setState(0xc2c0, 0x66c7, 0x5db0, 0x62c3, 0x22e6, 0x68c5, 0x0, 0x1);
        gbc.writeMem(0xc2c0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x66c7);
        EXPECT(gbc.pc(), 0xc2c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2c0), 0xcb);
        EXPECT(gbc.readMem(0xc2c1), 0x1f);
        // CB 1F 0017
        gbc.setState(0x3352, 0x3ae, 0xa8b0, 0xcc69, 0xb851, 0x978b, 0x0, 0x0);
        gbc.writeMem(0x3352, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3ae);
        EXPECT(gbc.pc(), 0x3354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0018
        gbc.setState(0x89f5, 0x3cf9, 0x82a0, 0x1672, 0xe384, 0x9681, 0x1, 0x1);
        gbc.writeMem(0x89f5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3cf9);
        EXPECT(gbc.pc(), 0x89f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89f5), 0xcb);
        EXPECT(gbc.readMem(0x89f6), 0x1f);
        // CB 1F 001A
        gbc.setState(0x57e0, 0xf107, 0x4850, 0xfc1, 0xb8a7, 0x4c95, 0x0, 0x0);
        gbc.writeMem(0x57e0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf107);
        EXPECT(gbc.pc(), 0x57e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 001B
        gbc.setState(0xe043, 0x96a2, 0xe0c0, 0x66a, 0xb30a, 0x494d, 0x0, 0x1);
        gbc.writeMem(0xe043, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x96a2);
        EXPECT(gbc.pc(), 0xe045);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe043), 0xcb);
        EXPECT(gbc.readMem(0xe044), 0x1f);
        // CB 1F 001C
        gbc.setState(0x500f, 0x5dbc, 0x6630, 0x3102, 0xd8a2, 0x2a10, 0x1, 0x0);
        gbc.writeMem(0x500f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5dbc);
        EXPECT(gbc.pc(), 0x5011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 001D
        gbc.setState(0xc977, 0x88a1, 0x6910, 0x7a68, 0x5d4c, 0x473f, 0x0, 0x0);
        gbc.writeMem(0xc977, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x88a1);
        EXPECT(gbc.pc(), 0xc979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc977), 0xcb);
        EXPECT(gbc.readMem(0xc978), 0x1f);
        // CB 1F 001E
        gbc.setState(0x1d7f, 0xc270, 0x1f90, 0xb199, 0x4055, 0xb6fe, 0x0, 0x0);
        gbc.writeMem(0x1d7f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc270);
        EXPECT(gbc.pc(), 0x1d81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 001F
        gbc.setState(0xcb73, 0x3724, 0xf9d0, 0xc37d, 0xc56a, 0xa508, 0x1, 0x1);
        gbc.writeMem(0xcb73, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3724);
        EXPECT(gbc.pc(), 0xcb75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb73), 0xcb);
        EXPECT(gbc.readMem(0xcb74), 0x1f);
        // CB 1F 0020
        gbc.setState(0x1eb5, 0x61bf, 0xb090, 0x3812, 0x208a, 0xc08d, 0x1, 0x0);
        gbc.writeMem(0x1eb5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x61bf);
        EXPECT(gbc.pc(), 0x1eb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0021
        gbc.setState(0x8543, 0x64a2, 0xb770, 0xbeb6, 0x2747, 0xb420, 0x1, 0x1);
        gbc.writeMem(0x8543, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x64a2);
        EXPECT(gbc.pc(), 0x8545);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8543), 0xcb);
        EXPECT(gbc.readMem(0x8544), 0x1f);
        // CB 1F 0022
        gbc.setState(0xac0e, 0x9443, 0xe310, 0x6310, 0x64a3, 0x1cbf, 0x1, 0x1);
        gbc.writeMem(0xac0e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x9443);
        EXPECT(gbc.pc(), 0xac10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac0e), 0xcb);
        EXPECT(gbc.readMem(0xac0f), 0x1f);
        // CB 1F 0023
        gbc.setState(0xc0aa, 0xe7e1, 0xa010, 0x711b, 0xb195, 0xdc9c, 0x0, 0x1);
        gbc.writeMem(0xc0aa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe7e1);
        EXPECT(gbc.pc(), 0xc0ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0aa), 0xcb);
        EXPECT(gbc.readMem(0xc0ab), 0x1f);
        // CB 1F 0024
        gbc.setState(0x1f78, 0x5d78, 0xf040, 0x4341, 0x77d9, 0x3e6, 0x0, 0x1);
        gbc.writeMem(0x1f78, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5d78);
        EXPECT(gbc.pc(), 0x1f7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0025
        gbc.setState(0x3343, 0x5227, 0x1c20, 0xa135, 0xaef7, 0x630c, 0x0, 0x1);
        gbc.writeMem(0x3343, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5227);
        EXPECT(gbc.pc(), 0x3345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0026
        gbc.setState(0xd328, 0x71cb, 0x280, 0xa75d, 0x8880, 0xeaea, 0x0, 0x1);
        gbc.writeMem(0xd328, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x71cb);
        EXPECT(gbc.pc(), 0xd32a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd328), 0xcb);
        EXPECT(gbc.readMem(0xd329), 0x1f);
        // CB 1F 0027
        gbc.setState(0x3fe4, 0x94a, 0x4fc0, 0x52f, 0x5da1, 0x8d38, 0x1, 0x0);
        gbc.writeMem(0x3fe4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x94a);
        EXPECT(gbc.pc(), 0x3fe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0028
        gbc.setState(0x725, 0x3f91, 0x5110, 0x79ca, 0x8b33, 0xe241, 0x1, 0x1);
        gbc.writeMem(0x725, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3f91);
        EXPECT(gbc.pc(), 0x727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0029
        gbc.setState(0xcea1, 0x2f9d, 0xae70, 0xe8fc, 0xb675, 0x70d0, 0x1, 0x1);
        gbc.writeMem(0xcea1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x2f9d);
        EXPECT(gbc.pc(), 0xcea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcea1), 0xcb);
        EXPECT(gbc.readMem(0xcea2), 0x1f);
        // CB 1F 002A
        gbc.setState(0x4813, 0x5a0, 0xa420, 0x6ccc, 0xa8cc, 0xb61f, 0x1, 0x0);
        gbc.writeMem(0x4813, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5a0);
        EXPECT(gbc.pc(), 0x4815);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 002B
        gbc.setState(0xe0d8, 0x59e4, 0xffa0, 0x8bc5, 0x37b6, 0x2762, 0x1, 0x0);
        gbc.writeMem(0xe0d8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x59e4);
        EXPECT(gbc.pc(), 0xe0da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0d8), 0xcb);
        EXPECT(gbc.readMem(0xe0d9), 0x1f);
        // CB 1F 002C
        gbc.setState(0x3985, 0x38ad, 0x8940, 0x5174, 0x78d, 0x2ab0, 0x1, 0x1);
        gbc.writeMem(0x3985, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x38ad);
        EXPECT(gbc.pc(), 0x3987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 002D
        gbc.setState(0xd2a2, 0x9bfa, 0x5770, 0xdaec, 0x7c7, 0x25a1, 0x1, 0x1);
        gbc.writeMem(0xd2a2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9bfa);
        EXPECT(gbc.pc(), 0xd2a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2a2), 0xcb);
        EXPECT(gbc.readMem(0xd2a3), 0x1f);
        // CB 1F 002E
        gbc.setState(0x7d56, 0x190d, 0x7100, 0x3a76, 0x19c2, 0xea42, 0x0, 0x1);
        gbc.writeMem(0x7d56, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x190d);
        EXPECT(gbc.pc(), 0x7d58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 002F
        gbc.setState(0x15fc, 0xb825, 0xd640, 0xed9d, 0xfb63, 0x7162, 0x0, 0x0);
        gbc.writeMem(0x15fc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xb825);
        EXPECT(gbc.pc(), 0x15fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0030
        gbc.setState(0x7817, 0x4a48, 0xb130, 0xcfe1, 0x47b4, 0xb99c, 0x1, 0x1);
        gbc.writeMem(0x7817, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4a48);
        EXPECT(gbc.pc(), 0x7819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0031
        gbc.setState(0x8108, 0xe0fe, 0xf7e0, 0x26ff, 0xa2ec, 0x807f, 0x0, 0x1);
        gbc.writeMem(0x8108, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe0fe);
        EXPECT(gbc.pc(), 0x810a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8108), 0xcb);
        EXPECT(gbc.readMem(0x8109), 0x1f);
        // CB 1F 0032
        gbc.setState(0x1c6e, 0x8c02, 0x21b0, 0xe30b, 0xda46, 0xc5e4, 0x0, 0x0);
        gbc.writeMem(0x1c6e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8c02);
        EXPECT(gbc.pc(), 0x1c70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0033
        gbc.setState(0x1484, 0x20fe, 0x290, 0x5d6c, 0x4bac, 0x376c, 0x0, 0x0);
        gbc.writeMem(0x1484, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x20fe);
        EXPECT(gbc.pc(), 0x1486);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0034
        gbc.setState(0x8da4, 0x8652, 0xcb90, 0x7603, 0xdd39, 0x6dd6, 0x0, 0x1);
        gbc.writeMem(0x8da4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8652);
        EXPECT(gbc.pc(), 0x8da6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8da4), 0xcb);
        EXPECT(gbc.readMem(0x8da5), 0x1f);
        // CB 1F 0035
        gbc.setState(0x2cb5, 0xef87, 0xac90, 0xe928, 0xfaa6, 0x864c, 0x1, 0x1);
        gbc.writeMem(0x2cb5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xef87);
        EXPECT(gbc.pc(), 0x2cb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0036
        gbc.setState(0xb503, 0x4b47, 0xcd30, 0x909d, 0x3b87, 0xdaee, 0x0, 0x1);
        gbc.writeMem(0xb503, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4b47);
        EXPECT(gbc.pc(), 0xb505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb503), 0xcb);
        EXPECT(gbc.readMem(0xb504), 0x1f);
        // CB 1F 0037
        gbc.setState(0xcfbc, 0x473f, 0x8e50, 0x6bc, 0x4068, 0x37ee, 0x1, 0x0);
        gbc.writeMem(0xcfbc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x473f);
        EXPECT(gbc.pc(), 0xcfbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfbc), 0xcb);
        EXPECT(gbc.readMem(0xcfbd), 0x1f);
        // CB 1F 0038
        gbc.setState(0xee1a, 0xf27f, 0x3680, 0x6fd1, 0xdbd9, 0x9376, 0x0, 0x0);
        gbc.writeMem(0xee1a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf27f);
        EXPECT(gbc.pc(), 0xee1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee1a), 0xcb);
        EXPECT(gbc.readMem(0xee1b), 0x1f);
        // CB 1F 0039
        gbc.setState(0x6d73, 0xd08c, 0x6b70, 0xb701, 0xb3ce, 0x7dbe, 0x0, 0x0);
        gbc.writeMem(0x6d73, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xd08c);
        EXPECT(gbc.pc(), 0x6d75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 003A
        gbc.setState(0x2f61, 0x5464, 0x4370, 0xfce2, 0x3896, 0x583b, 0x0, 0x1);
        gbc.writeMem(0x2f61, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x5464);
        EXPECT(gbc.pc(), 0x2f63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 003B
        gbc.setState(0xccc7, 0x25cb, 0x5d50, 0xc600, 0x6526, 0xb4d8, 0x1, 0x0);
        gbc.writeMem(0xccc7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x25cb);
        EXPECT(gbc.pc(), 0xccc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccc7), 0xcb);
        EXPECT(gbc.readMem(0xccc8), 0x1f);
        // CB 1F 003C
        gbc.setState(0x18f, 0x44c3, 0xd400, 0xaea2, 0xd092, 0x34c7, 0x1, 0x0);
        gbc.writeMem(0x18f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x44c3);
        EXPECT(gbc.pc(), 0x191);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 003D
        gbc.setState(0xc859, 0x4ee3, 0x7990, 0xfe3e, 0x563d, 0x647e, 0x0, 0x0);
        gbc.writeMem(0xc859, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x4ee3);
        EXPECT(gbc.pc(), 0xc85b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc859), 0xcb);
        EXPECT(gbc.readMem(0xc85a), 0x1f);
        // CB 1F 003E
        gbc.setState(0x21a3, 0xde86, 0xd510, 0xd9f5, 0xe24, 0xda4e, 0x0, 0x0);
        gbc.writeMem(0x21a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xde86);
        EXPECT(gbc.pc(), 0x21a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 003F
        gbc.setState(0xac5, 0x7e70, 0x8f80, 0x2a06, 0x88db, 0x493, 0x0, 0x0);
        gbc.writeMem(0xac5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x7e70);
        EXPECT(gbc.pc(), 0xac7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0040
        gbc.setState(0xb2db, 0xe67d, 0x4480, 0x833d, 0x267b, 0xbc5f, 0x0, 0x1);
        gbc.writeMem(0xb2db, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe67d);
        EXPECT(gbc.pc(), 0xb2dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2db), 0xcb);
        EXPECT(gbc.readMem(0xb2dc), 0x1f);
        // CB 1F 0041
        gbc.setState(0xcc8c, 0x2ec9, 0x3a30, 0x3cc2, 0x368f, 0xcaa6, 0x0, 0x0);
        gbc.writeMem(0xcc8c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2ec9);
        EXPECT(gbc.pc(), 0xcc8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8c), 0xcb);
        EXPECT(gbc.readMem(0xcc8d), 0x1f);
        // CB 1F 0042
        gbc.setState(0x39f8, 0xb466, 0xd770, 0x4955, 0x54a5, 0x36cc, 0x0, 0x0);
        gbc.writeMem(0x39f8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb466);
        EXPECT(gbc.pc(), 0x39fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0043
        gbc.setState(0x1a6c, 0x4527, 0x7e50, 0xfaf6, 0x564, 0xcf99, 0x0, 0x1);
        gbc.writeMem(0x1a6c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4527);
        EXPECT(gbc.pc(), 0x1a6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0044
        gbc.setState(0x9860, 0x9aa8, 0xc1c0, 0x8d86, 0xc974, 0xcee, 0x0, 0x1);
        gbc.writeMem(0x9860, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x9aa8);
        EXPECT(gbc.pc(), 0x9862);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9860), 0xcb);
        EXPECT(gbc.readMem(0x9861), 0x1f);
        // CB 1F 0045
        gbc.setState(0x3d8c, 0x161d, 0x5b10, 0x8047, 0x1e34, 0xf31c, 0x1, 0x1);
        gbc.writeMem(0x3d8c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x161d);
        EXPECT(gbc.pc(), 0x3d8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0046
        gbc.setState(0x8f2f, 0xd5e8, 0x79d0, 0x629a, 0x87c1, 0xbce2, 0x1, 0x0);
        gbc.writeMem(0x8f2f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd5e8);
        EXPECT(gbc.pc(), 0x8f31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f2f), 0xcb);
        EXPECT(gbc.readMem(0x8f30), 0x1f);
        // CB 1F 0047
        gbc.setState(0x3830, 0xdfd0, 0x89b0, 0xf879, 0x6eb6, 0xb472, 0x1, 0x0);
        gbc.writeMem(0x3830, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdfd0);
        EXPECT(gbc.pc(), 0x3832);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0048
        gbc.setState(0x5d41, 0x61d6, 0x2050, 0x82d3, 0x1399, 0x95fa, 0x1, 0x0);
        gbc.writeMem(0x5d41, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x61d6);
        EXPECT(gbc.pc(), 0x5d43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0049
        gbc.setState(0xc66a, 0x2eef, 0xc790, 0x6677, 0x7777, 0x28c6, 0x1, 0x0);
        gbc.writeMem(0xc66a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2eef);
        EXPECT(gbc.pc(), 0xc66c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc66a), 0xcb);
        EXPECT(gbc.readMem(0xc66b), 0x1f);
        // CB 1F 004A
        gbc.setState(0xb574, 0x452c, 0xc250, 0x6a59, 0xa022, 0x4ae3, 0x1, 0x1);
        gbc.writeMem(0xb574, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x452c);
        EXPECT(gbc.pc(), 0xb576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb574), 0xcb);
        EXPECT(gbc.readMem(0xb575), 0x1f);
        // CB 1F 004B
        gbc.setState(0x9a09, 0xb747, 0xbc90, 0x8dec, 0x5b4c, 0x3a1d, 0x1, 0x0);
        gbc.writeMem(0x9a09, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb747);
        EXPECT(gbc.pc(), 0x9a0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a09), 0xcb);
        EXPECT(gbc.readMem(0x9a0a), 0x1f);
        // CB 1F 004C
        gbc.setState(0x65ce, 0x8f33, 0xaf30, 0xfa2a, 0x68e8, 0xbec4, 0x0, 0x1);
        gbc.writeMem(0x65ce, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x8f33);
        EXPECT(gbc.pc(), 0x65d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 004D
        gbc.setState(0x65ea, 0xde91, 0x3ba0, 0x3cc2, 0x6fc9, 0x24b9, 0x0, 0x0);
        gbc.writeMem(0x65ea, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xde91);
        EXPECT(gbc.pc(), 0x65ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 004E
        gbc.setState(0x23b4, 0x948d, 0xfe20, 0x7ffc, 0x187b, 0x6a88, 0x1, 0x1);
        gbc.writeMem(0x23b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x948d);
        EXPECT(gbc.pc(), 0x23b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 004F
        gbc.setState(0x12f5, 0x8a5b, 0x7aa0, 0x1ce2, 0xf2f5, 0xe6be, 0x1, 0x1);
        gbc.writeMem(0x12f5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8a5b);
        EXPECT(gbc.pc(), 0x12f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0050
        gbc.setState(0xe017, 0xf3a8, 0xd9a0, 0xd57d, 0xf7ca, 0xf527, 0x1, 0x1);
        gbc.writeMem(0xe017, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf3a8);
        EXPECT(gbc.pc(), 0xe019);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe017), 0xcb);
        EXPECT(gbc.readMem(0xe018), 0x1f);
        // CB 1F 0051
        gbc.setState(0x7c1b, 0xbefb, 0xf610, 0xa353, 0x7e6c, 0x7283, 0x1, 0x1);
        gbc.writeMem(0x7c1b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xbefb);
        EXPECT(gbc.pc(), 0x7c1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0052
        gbc.setState(0xc41f, 0x59a2, 0x20a0, 0x689c, 0x9568, 0x2fbb, 0x1, 0x1);
        gbc.writeMem(0xc41f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x59a2);
        EXPECT(gbc.pc(), 0xc421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc41f), 0xcb);
        EXPECT(gbc.readMem(0xc420), 0x1f);
        // CB 1F 0053
        gbc.setState(0xa6ec, 0x8ff9, 0x1f20, 0x5dd5, 0x6e64, 0x4b20, 0x1, 0x0);
        gbc.writeMem(0xa6ec, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8ff9);
        EXPECT(gbc.pc(), 0xa6ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6ec), 0xcb);
        EXPECT(gbc.readMem(0xa6ed), 0x1f);
        // CB 1F 0054
        gbc.setState(0x9d05, 0x9d4e, 0x8060, 0xea9e, 0x878a, 0x55e, 0x1, 0x1);
        gbc.writeMem(0x9d05, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x9d4e);
        EXPECT(gbc.pc(), 0x9d07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d05), 0xcb);
        EXPECT(gbc.readMem(0x9d06), 0x1f);
        // CB 1F 0055
        gbc.setState(0x12c1, 0xd4b6, 0xaa00, 0xb729, 0x618d, 0x8c8c, 0x1, 0x0);
        gbc.writeMem(0x12c1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xd4b6);
        EXPECT(gbc.pc(), 0x12c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0056
        gbc.setState(0x5864, 0xdc00, 0x2550, 0x42cf, 0xd586, 0x66e2, 0x0, 0x0);
        gbc.writeMem(0x5864, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xdc00);
        EXPECT(gbc.pc(), 0x5866);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0057
        gbc.setState(0xb894, 0xae22, 0xd8b0, 0x269e, 0xb128, 0x249d, 0x1, 0x1);
        gbc.writeMem(0xb894, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xae22);
        EXPECT(gbc.pc(), 0xb896);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb894), 0xcb);
        EXPECT(gbc.readMem(0xb895), 0x1f);
        // CB 1F 0058
        gbc.setState(0x36fa, 0x2f3a, 0x7fe0, 0x33b7, 0x26cd, 0xda9b, 0x1, 0x1);
        gbc.writeMem(0x36fa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x2f3a);
        EXPECT(gbc.pc(), 0x36fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0059
        gbc.setState(0x64b0, 0xcd77, 0xe980, 0xd202, 0xe4df, 0x70d2, 0x1, 0x1);
        gbc.writeMem(0x64b0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xcd77);
        EXPECT(gbc.pc(), 0x64b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 005A
        gbc.setState(0x3cce, 0x175b, 0x38d0, 0xeb78, 0x6cf4, 0x7017, 0x1, 0x0);
        gbc.writeMem(0x3cce, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x175b);
        EXPECT(gbc.pc(), 0x3cd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 005B
        gbc.setState(0x6f3d, 0xa167, 0x45b0, 0x6332, 0x772a, 0x6303, 0x1, 0x1);
        gbc.writeMem(0x6f3d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa167);
        EXPECT(gbc.pc(), 0x6f3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 005C
        gbc.setState(0x111e, 0x392, 0xf520, 0x6c10, 0x85d1, 0x664e, 0x0, 0x1);
        gbc.writeMem(0x111e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x392);
        EXPECT(gbc.pc(), 0x1120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 005D
        gbc.setState(0x818f, 0x928e, 0xea10, 0xf0d9, 0x26cc, 0xc39f, 0x1, 0x1);
        gbc.writeMem(0x818f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x928e);
        EXPECT(gbc.pc(), 0x8191);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x818f), 0xcb);
        EXPECT(gbc.readMem(0x8190), 0x1f);
        // CB 1F 005E
        gbc.setState(0x6979, 0x8b91, 0xe9c0, 0x7ed2, 0xcae6, 0xc57, 0x0, 0x0);
        gbc.writeMem(0x6979, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x8b91);
        EXPECT(gbc.pc(), 0x697b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 005F
        gbc.setState(0x6a40, 0x9170, 0xd2e0, 0x6d85, 0x47af, 0x5e9e, 0x1, 0x0);
        gbc.writeMem(0x6a40, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9170);
        EXPECT(gbc.pc(), 0x6a42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0060
        gbc.setState(0xb2b5, 0x1f10, 0x1cd0, 0x1173, 0x2c6e, 0x9859, 0x1, 0x0);
        gbc.writeMem(0xb2b5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x1f10);
        EXPECT(gbc.pc(), 0xb2b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2b5), 0xcb);
        EXPECT(gbc.readMem(0xb2b6), 0x1f);
        // CB 1F 0061
        gbc.setState(0xab8d, 0x2e8f, 0x9c40, 0xad2e, 0x3472, 0xeea5, 0x1, 0x0);
        gbc.writeMem(0xab8d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2e8f);
        EXPECT(gbc.pc(), 0xab8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab8d), 0xcb);
        EXPECT(gbc.readMem(0xab8e), 0x1f);
        // CB 1F 0062
        gbc.setState(0xdafb, 0xb726, 0xee0, 0xca73, 0x6c89, 0xd1c1, 0x0, 0x0);
        gbc.writeMem(0xdafb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb726);
        EXPECT(gbc.pc(), 0xdafd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafb), 0xcb);
        EXPECT(gbc.readMem(0xdafc), 0x1f);
        // CB 1F 0063
        gbc.setState(0xe2d4, 0xeec0, 0x670, 0xce1b, 0x9bc9, 0x3f0d, 0x0, 0x1);
        gbc.writeMem(0xe2d4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xeec0);
        EXPECT(gbc.pc(), 0xe2d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2d4), 0xcb);
        EXPECT(gbc.readMem(0xe2d5), 0x1f);
        // CB 1F 0064
        gbc.setState(0x3628, 0xf0d4, 0x3a70, 0xdb13, 0xf5e2, 0x4843, 0x0, 0x1);
        gbc.writeMem(0x3628, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf0d4);
        EXPECT(gbc.pc(), 0x362a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0065
        gbc.setState(0xb6a6, 0x7427, 0x62d0, 0x92ae, 0x911f, 0x4e00, 0x0, 0x1);
        gbc.writeMem(0xb6a6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7427);
        EXPECT(gbc.pc(), 0xb6a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a6), 0xcb);
        EXPECT(gbc.readMem(0xb6a7), 0x1f);
        // CB 1F 0066
        gbc.setState(0x8e3c, 0x27f4, 0xa830, 0xdfee, 0x48cb, 0x710b, 0x1, 0x1);
        gbc.writeMem(0x8e3c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x27f4);
        EXPECT(gbc.pc(), 0x8e3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e3c), 0xcb);
        EXPECT(gbc.readMem(0x8e3d), 0x1f);
        // CB 1F 0067
        gbc.setState(0xbedc, 0xb142, 0x8170, 0xca03, 0xa22f, 0x1ad0, 0x0, 0x1);
        gbc.writeMem(0xbedc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb142);
        EXPECT(gbc.pc(), 0xbede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbedc), 0xcb);
        EXPECT(gbc.readMem(0xbedd), 0x1f);
        // CB 1F 0068
        gbc.setState(0x30fe, 0xeb6a, 0x4e0, 0x4f97, 0xb91a, 0x9289, 0x0, 0x0);
        gbc.writeMem(0x30fe, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xeb6a);
        EXPECT(gbc.pc(), 0x3100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0069
        gbc.setState(0x372d, 0x7d4, 0x5000, 0xde7, 0x6f0a, 0x36b0, 0x1, 0x0);
        gbc.writeMem(0x372d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7d4);
        EXPECT(gbc.pc(), 0x372f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 006A
        gbc.setState(0x2779, 0x3d64, 0x2120, 0xdb14, 0x2234, 0xc83e, 0x0, 0x0);
        gbc.writeMem(0x2779, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3d64);
        EXPECT(gbc.pc(), 0x277b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 006B
        gbc.setState(0x988e, 0x23b, 0x8920, 0xc71b, 0xeea5, 0x52f4, 0x1, 0x1);
        gbc.writeMem(0x988e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x23b);
        EXPECT(gbc.pc(), 0x9890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x988e), 0xcb);
        EXPECT(gbc.readMem(0x988f), 0x1f);
        // CB 1F 006C
        gbc.setState(0xce2e, 0xece9, 0x6270, 0x995d, 0x790b, 0x2ec0, 0x1, 0x1);
        gbc.writeMem(0xce2e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xece9);
        EXPECT(gbc.pc(), 0xce30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce2e), 0xcb);
        EXPECT(gbc.readMem(0xce2f), 0x1f);
        // CB 1F 006D
        gbc.setState(0x6afb, 0x29b3, 0xa030, 0xbb7b, 0x24ab, 0x482d, 0x1, 0x1);
        gbc.writeMem(0x6afb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x29b3);
        EXPECT(gbc.pc(), 0x6afd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 006E
        gbc.setState(0x7a49, 0x1e58, 0xcc40, 0xa402, 0xf46d, 0x65d9, 0x1, 0x0);
        gbc.writeMem(0x7a49, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x1e58);
        EXPECT(gbc.pc(), 0x7a4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0070
        gbc.setState(0x55f3, 0xf1ef, 0x7be0, 0xb27, 0x9825, 0xe394, 0x1, 0x1);
        gbc.writeMem(0x55f3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf1ef);
        EXPECT(gbc.pc(), 0x55f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0071
        gbc.setState(0xbb45, 0xd5c4, 0xafc0, 0xcfbb, 0xf1ee, 0xc20d, 0x1, 0x1);
        gbc.writeMem(0xbb45, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd5c4);
        EXPECT(gbc.pc(), 0xbb47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb45), 0xcb);
        EXPECT(gbc.readMem(0xbb46), 0x1f);
        // CB 1F 0072
        gbc.setState(0x414c, 0xc82, 0xde20, 0x1162, 0xb732, 0x3b9f, 0x1, 0x0);
        gbc.writeMem(0x414c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc82);
        EXPECT(gbc.pc(), 0x414e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0073
        gbc.setState(0xb1, 0x4cd8, 0x3cc0, 0x5c4c, 0xcdd, 0x95d5, 0x0, 0x1);
        gbc.writeMem(0xb1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4cd8);
        EXPECT(gbc.pc(), 0xb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0074
        gbc.setState(0xc5a8, 0x1180, 0xbd50, 0xe33, 0xeb8e, 0xe338, 0x1, 0x0);
        gbc.writeMem(0xc5a8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x1180);
        EXPECT(gbc.pc(), 0xc5aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5a8), 0xcb);
        EXPECT(gbc.readMem(0xc5a9), 0x1f);
        // CB 1F 0075
        gbc.setState(0xef98, 0xfb40, 0x4280, 0xec9d, 0xd844, 0xb70f, 0x1, 0x0);
        gbc.writeMem(0xef98, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xfb40);
        EXPECT(gbc.pc(), 0xef9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef98), 0xcb);
        EXPECT(gbc.readMem(0xef99), 0x1f);
        // CB 1F 0076
        gbc.setState(0x434d, 0x3ede, 0x9de0, 0xc43e, 0xd1e6, 0x2b36, 0x1, 0x0);
        gbc.writeMem(0x434d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3ede);
        EXPECT(gbc.pc(), 0x434f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0077
        gbc.setState(0xe304, 0xab04, 0x1bc0, 0x95cf, 0x92a4, 0xfcbf, 0x0, 0x0);
        gbc.writeMem(0xe304, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xab04);
        EXPECT(gbc.pc(), 0xe306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe304), 0xcb);
        EXPECT(gbc.readMem(0xe305), 0x1f);
        // CB 1F 0078
        gbc.setState(0x1a71, 0x6c52, 0x9050, 0xf42c, 0x86e3, 0xb2f5, 0x0, 0x0);
        gbc.writeMem(0x1a71, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6c52);
        EXPECT(gbc.pc(), 0x1a73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0079
        gbc.setState(0x3f18, 0xf4ae, 0x4960, 0x8ff, 0xdcc1, 0x1247, 0x1, 0x1);
        gbc.writeMem(0x3f18, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf4ae);
        EXPECT(gbc.pc(), 0x3f1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 007A
        gbc.setState(0x1f81, 0x61d0, 0x52a0, 0x1eb4, 0xd251, 0x138b, 0x1, 0x1);
        gbc.writeMem(0x1f81, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x61d0);
        EXPECT(gbc.pc(), 0x1f83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 007B
        gbc.setState(0xac6, 0xb09, 0x75a0, 0xf5e, 0x4e90, 0x9e5a, 0x1, 0x0);
        gbc.writeMem(0xac6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb09);
        EXPECT(gbc.pc(), 0xac8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 007C
        gbc.setState(0x359e, 0x8afe, 0xd00, 0x578d, 0x4c20, 0x1015, 0x0, 0x0);
        gbc.writeMem(0x359e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8afe);
        EXPECT(gbc.pc(), 0x35a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 007D
        gbc.setState(0x4c98, 0x525c, 0x21b0, 0x59ab, 0x5526, 0xdd9e, 0x0, 0x0);
        gbc.writeMem(0x4c98, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x525c);
        EXPECT(gbc.pc(), 0x4c9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 007E
        gbc.setState(0x88ee, 0x1dc8, 0x9e00, 0xf7d0, 0xb2c6, 0x6a49, 0x1, 0x0);
        gbc.writeMem(0x88ee, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1dc8);
        EXPECT(gbc.pc(), 0x88f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88ee), 0xcb);
        EXPECT(gbc.readMem(0x88ef), 0x1f);
        // CB 1F 007F
        gbc.setState(0x7c59, 0xb35f, 0x22b0, 0xcf50, 0x5498, 0x3d5d, 0x1, 0x0);
        gbc.writeMem(0x7c59, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb35f);
        EXPECT(gbc.pc(), 0x7c5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0080
        gbc.setState(0x8927, 0x7c52, 0xdbb0, 0x41cd, 0x7f65, 0x417d, 0x1, 0x0);
        gbc.writeMem(0x8927, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7c52);
        EXPECT(gbc.pc(), 0x8929);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8927), 0xcb);
        EXPECT(gbc.readMem(0x8928), 0x1f);
        // CB 1F 0081
        gbc.setState(0x975a, 0xb4c5, 0x4a10, 0xfefc, 0xbc74, 0x1956, 0x1, 0x0);
        gbc.writeMem(0x975a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb4c5);
        EXPECT(gbc.pc(), 0x975c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x975a), 0xcb);
        EXPECT(gbc.readMem(0x975b), 0x1f);
        // CB 1F 0082
        gbc.setState(0x27a1, 0xac81, 0xa900, 0xcfce, 0x7c21, 0xf5b4, 0x0, 0x1);
        gbc.writeMem(0x27a1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xac81);
        EXPECT(gbc.pc(), 0x27a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0083
        gbc.setState(0x10f2, 0x81b4, 0x99f0, 0x89d7, 0x6ab1, 0x7b37, 0x0, 0x0);
        gbc.writeMem(0x10f2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x81b4);
        EXPECT(gbc.pc(), 0x10f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0084
        gbc.setState(0xebf, 0xfdd0, 0xa620, 0xfcf9, 0xfd44, 0xa28f, 0x0, 0x0);
        gbc.writeMem(0xebf, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfdd0);
        EXPECT(gbc.pc(), 0xec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0085
        gbc.setState(0x3934, 0xd7b5, 0xe030, 0xf207, 0xea82, 0xb7e3, 0x1, 0x0);
        gbc.writeMem(0x3934, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd7b5);
        EXPECT(gbc.pc(), 0x3936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0086
        gbc.setState(0xb909, 0x8e70, 0x7ad0, 0x59c9, 0xdb13, 0xd8d2, 0x1, 0x0);
        gbc.writeMem(0xb909, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8e70);
        EXPECT(gbc.pc(), 0xb90b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb909), 0xcb);
        EXPECT(gbc.readMem(0xb90a), 0x1f);
        // CB 1F 0087
        gbc.setState(0xaf6b, 0xde8f, 0x30b0, 0xfd33, 0x5002, 0x3974, 0x0, 0x1);
        gbc.writeMem(0xaf6b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xde8f);
        EXPECT(gbc.pc(), 0xaf6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf6b), 0xcb);
        EXPECT(gbc.readMem(0xaf6c), 0x1f);
        // CB 1F 0088
        gbc.setState(0x5ba, 0x8383, 0x7f40, 0x55d9, 0x17ce, 0xe8bf, 0x1, 0x0);
        gbc.writeMem(0x5ba, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8383);
        EXPECT(gbc.pc(), 0x5bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0089
        gbc.setState(0xa6c0, 0xd198, 0xff40, 0x354f, 0xba52, 0x5163, 0x1, 0x1);
        gbc.writeMem(0xa6c0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd198);
        EXPECT(gbc.pc(), 0xa6c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6c0), 0xcb);
        EXPECT(gbc.readMem(0xa6c1), 0x1f);
        // CB 1F 008A
        gbc.setState(0x6cba, 0xdd5a, 0x9650, 0x377a, 0x7211, 0x146d, 0x1, 0x1);
        gbc.writeMem(0x6cba, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xdd5a);
        EXPECT(gbc.pc(), 0x6cbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 008B
        gbc.setState(0x8d4e, 0x6b91, 0x18b0, 0x3789, 0x684e, 0x590c, 0x0, 0x0);
        gbc.writeMem(0x8d4e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6b91);
        EXPECT(gbc.pc(), 0x8d50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d4e), 0xcb);
        EXPECT(gbc.readMem(0x8d4f), 0x1f);
        // CB 1F 008C
        gbc.setState(0xbedd, 0x4a3b, 0x9910, 0xaa22, 0xab63, 0xeb21, 0x1, 0x1);
        gbc.writeMem(0xbedd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4a3b);
        EXPECT(gbc.pc(), 0xbedf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbedd), 0xcb);
        EXPECT(gbc.readMem(0xbede), 0x1f);
        // CB 1F 008D
        gbc.setState(0x2505, 0xad32, 0xcbd0, 0x4a7d, 0x7b30, 0x43f7, 0x0, 0x0);
        gbc.writeMem(0x2505, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xad32);
        EXPECT(gbc.pc(), 0x2507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 008F
        gbc.setState(0xe5b4, 0x1a26, 0xcb70, 0x80ea, 0x8d40, 0xf1a7, 0x0, 0x0);
        gbc.writeMem(0xe5b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1a26);
        EXPECT(gbc.pc(), 0xe5b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5b4), 0xcb);
        EXPECT(gbc.readMem(0xe5b5), 0x1f);
        // CB 1F 0090
        gbc.setState(0xcaf3, 0x88a1, 0x8980, 0xfc01, 0x6277, 0xc7b, 0x0, 0x1);
        gbc.writeMem(0xcaf3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x88a1);
        EXPECT(gbc.pc(), 0xcaf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaf3), 0xcb);
        EXPECT(gbc.readMem(0xcaf4), 0x1f);
        // CB 1F 0091
        gbc.setState(0x770d, 0xf230, 0xc9a0, 0xb206, 0x570c, 0x8cf7, 0x1, 0x0);
        gbc.writeMem(0x770d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf230);
        EXPECT(gbc.pc(), 0x770f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0092
        gbc.setState(0x5a8a, 0xa670, 0x4b50, 0xc994, 0x8d8c, 0xdd7a, 0x1, 0x1);
        gbc.writeMem(0x5a8a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa670);
        EXPECT(gbc.pc(), 0x5a8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0093
        gbc.setState(0x1c04, 0x2ebd, 0xfc70, 0x1649, 0xdb1d, 0xb684, 0x0, 0x0);
        gbc.writeMem(0x1c04, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x2ebd);
        EXPECT(gbc.pc(), 0x1c06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0094
        gbc.setState(0xd40e, 0xfe68, 0x3770, 0xcd3, 0x232f, 0x400a, 0x1, 0x0);
        gbc.writeMem(0xd40e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xfe68);
        EXPECT(gbc.pc(), 0xd410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd40e), 0xcb);
        EXPECT(gbc.readMem(0xd40f), 0x1f);
        // CB 1F 0095
        gbc.setState(0xeb9f, 0xa751, 0xd420, 0x1b72, 0x4318, 0xa4b5, 0x0, 0x0);
        gbc.writeMem(0xeb9f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa751);
        EXPECT(gbc.pc(), 0xeba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb9f), 0xcb);
        EXPECT(gbc.readMem(0xeba0), 0x1f);
        // CB 1F 0096
        gbc.setState(0x96c2, 0xd6a, 0xde70, 0x4a4e, 0x284d, 0x9f15, 0x0, 0x0);
        gbc.writeMem(0x96c2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd6a);
        EXPECT(gbc.pc(), 0x96c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96c2), 0xcb);
        EXPECT(gbc.readMem(0x96c3), 0x1f);
        // CB 1F 0097
        gbc.setState(0x354b, 0x76a8, 0x9430, 0x523, 0xe587, 0x8252, 0x1, 0x0);
        gbc.writeMem(0x354b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x76a8);
        EXPECT(gbc.pc(), 0x354d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0098
        gbc.setState(0x4c8b, 0x747, 0x6550, 0x11ab, 0x4161, 0xed4a, 0x0, 0x0);
        gbc.writeMem(0x4c8b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x747);
        EXPECT(gbc.pc(), 0x4c8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0099
        gbc.setState(0xa80f, 0x373c, 0x1320, 0xf1ca, 0xf472, 0x5c1, 0x0, 0x1);
        gbc.writeMem(0xa80f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x373c);
        EXPECT(gbc.pc(), 0xa811);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa80f), 0xcb);
        EXPECT(gbc.readMem(0xa810), 0x1f);
        // CB 1F 009A
        gbc.setState(0xddb4, 0x202b, 0xe3b0, 0xdb05, 0x6f76, 0xb44f, 0x1, 0x1);
        gbc.writeMem(0xddb4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x202b);
        EXPECT(gbc.pc(), 0xddb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb4), 0xcb);
        EXPECT(gbc.readMem(0xddb5), 0x1f);
        // CB 1F 009B
        gbc.setState(0x31aa, 0xf7fd, 0x92f0, 0x5e1f, 0xbb87, 0xab95, 0x0, 0x1);
        gbc.writeMem(0x31aa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf7fd);
        EXPECT(gbc.pc(), 0x31ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 009C
        gbc.setState(0xb6, 0x6a62, 0xca60, 0x2cb7, 0x2a5e, 0x5b4, 0x1, 0x0);
        gbc.writeMem(0xb6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6a62);
        EXPECT(gbc.pc(), 0xb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 009D
        gbc.setState(0xafca, 0xcc5b, 0x17e0, 0x4291, 0xacce, 0x8dbe, 0x0, 0x1);
        gbc.writeMem(0xafca, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcc5b);
        EXPECT(gbc.pc(), 0xafcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafca), 0xcb);
        EXPECT(gbc.readMem(0xafcb), 0x1f);
        // CB 1F 009E
        gbc.setState(0xaa6, 0x8da9, 0x7f30, 0x4c83, 0x4ce3, 0x65d6, 0x1, 0x1);
        gbc.writeMem(0xaa6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8da9);
        EXPECT(gbc.pc(), 0xaa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 009F
        gbc.setState(0x6c9f, 0xedaf, 0xcb20, 0xdf25, 0x42cf, 0x7fc, 0x0, 0x1);
        gbc.writeMem(0x6c9f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xedaf);
        EXPECT(gbc.pc(), 0x6ca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00A0
        gbc.setState(0xed82, 0xf3d4, 0xdfd0, 0x7448, 0x24eb, 0xd400, 0x1, 0x1);
        gbc.writeMem(0xed82, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xf3d4);
        EXPECT(gbc.pc(), 0xed84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed82), 0xcb);
        EXPECT(gbc.readMem(0xed83), 0x1f);
        // CB 1F 00A1
        gbc.setState(0x180b, 0xbb78, 0xd470, 0x1660, 0x496b, 0xcf0c, 0x0, 0x0);
        gbc.writeMem(0x180b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xbb78);
        EXPECT(gbc.pc(), 0x180d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00A2
        gbc.setState(0xaadb, 0x8dd8, 0x95d0, 0x232c, 0xe479, 0x5b7f, 0x0, 0x1);
        gbc.writeMem(0xaadb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x8dd8);
        EXPECT(gbc.pc(), 0xaadd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaadb), 0xcb);
        EXPECT(gbc.readMem(0xaadc), 0x1f);
        // CB 1F 00A3
        gbc.setState(0xdcc4, 0x180e, 0xff30, 0x16f3, 0x9df2, 0xb83f, 0x1, 0x0);
        gbc.writeMem(0xdcc4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x180e);
        EXPECT(gbc.pc(), 0xdcc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcc4), 0xcb);
        EXPECT(gbc.readMem(0xdcc5), 0x1f);
        // CB 1F 00A4
        gbc.setState(0x97fd, 0xde3, 0xc710, 0xcbf0, 0xe215, 0xab6c, 0x1, 0x1);
        gbc.writeMem(0x97fd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xde3);
        EXPECT(gbc.pc(), 0x97ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97fd), 0xcb);
        EXPECT(gbc.readMem(0x97fe), 0x1f);
        // CB 1F 00A5
        gbc.setState(0x83b0, 0x824a, 0x9d60, 0x7926, 0xcded, 0x1d1a, 0x1, 0x1);
        gbc.writeMem(0x83b0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x824a);
        EXPECT(gbc.pc(), 0x83b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83b0), 0xcb);
        EXPECT(gbc.readMem(0x83b1), 0x1f);
        // CB 1F 00A6
        gbc.setState(0x2971, 0xd57a, 0x5430, 0xe97a, 0xa558, 0xd6d0, 0x1, 0x1);
        gbc.writeMem(0x2971, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd57a);
        EXPECT(gbc.pc(), 0x2973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00A7
        gbc.setState(0xacbd, 0xed32, 0x48e0, 0xcdb1, 0xa281, 0x3ce, 0x0, 0x0);
        gbc.writeMem(0xacbd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xed32);
        EXPECT(gbc.pc(), 0xacbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacbd), 0xcb);
        EXPECT(gbc.readMem(0xacbe), 0x1f);
        // CB 1F 00A8
        gbc.setState(0x5f49, 0xca2d, 0x2070, 0xdb62, 0x2f2d, 0xa024, 0x0, 0x1);
        gbc.writeMem(0x5f49, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xca2d);
        EXPECT(gbc.pc(), 0x5f4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00A9
        gbc.setState(0x921e, 0x5781, 0xcf40, 0x62b6, 0xd4da, 0x5366, 0x0, 0x1);
        gbc.writeMem(0x921e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5781);
        EXPECT(gbc.pc(), 0x9220);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x921e), 0xcb);
        EXPECT(gbc.readMem(0x921f), 0x1f);
        // CB 1F 00AA
        gbc.setState(0x7f6d, 0x5c1f, 0xf6a0, 0xa71f, 0xf20b, 0xa108, 0x1, 0x1);
        gbc.writeMem(0x7f6d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5c1f);
        EXPECT(gbc.pc(), 0x7f6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00AB
        gbc.setState(0x43e2, 0xe3b3, 0xfe70, 0x8d4c, 0x8853, 0x3f84, 0x0, 0x0);
        gbc.writeMem(0x43e2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe3b3);
        EXPECT(gbc.pc(), 0x43e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00AC
        gbc.setState(0xc8a4, 0x98a, 0x670, 0xd5d6, 0xa4b6, 0x2e85, 0x1, 0x1);
        gbc.writeMem(0xc8a4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x98a);
        EXPECT(gbc.pc(), 0xc8a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a4), 0xcb);
        EXPECT(gbc.readMem(0xc8a5), 0x1f);
        // CB 1F 00AE
        gbc.setState(0x940d, 0x808f, 0xf5a0, 0xdc8d, 0xebb6, 0xf068, 0x0, 0x0);
        gbc.writeMem(0x940d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x808f);
        EXPECT(gbc.pc(), 0x940f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x940d), 0xcb);
        EXPECT(gbc.readMem(0x940e), 0x1f);
        // CB 1F 00AF
        gbc.setState(0x4398, 0x4542, 0x2ea0, 0xeaaa, 0x5d22, 0xe2af, 0x0, 0x0);
        gbc.writeMem(0x4398, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4542);
        EXPECT(gbc.pc(), 0x439a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00B0
        gbc.setState(0xad73, 0x314b, 0x900, 0x1cb0, 0xb90, 0x2468, 0x0, 0x0);
        gbc.writeMem(0xad73, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x314b);
        EXPECT(gbc.pc(), 0xad75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad73), 0xcb);
        EXPECT(gbc.readMem(0xad74), 0x1f);
        // CB 1F 00B1
        gbc.setState(0x212a, 0x5b39, 0x6f00, 0x881c, 0x3095, 0xb790, 0x1, 0x1);
        gbc.writeMem(0x212a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5b39);
        EXPECT(gbc.pc(), 0x212c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00B2
        gbc.setState(0xc1db, 0xb0ff, 0x9870, 0xa4f5, 0xeb6f, 0x64ae, 0x1, 0x0);
        gbc.writeMem(0xc1db, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xb0ff);
        EXPECT(gbc.pc(), 0xc1dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1db), 0xcb);
        EXPECT(gbc.readMem(0xc1dc), 0x1f);
        // CB 1F 00B4
        gbc.setState(0x2ee4, 0x9ea, 0xc470, 0xae10, 0x19f8, 0x7c7c, 0x1, 0x0);
        gbc.writeMem(0x2ee4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x9ea);
        EXPECT(gbc.pc(), 0x2ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00B5
        gbc.setState(0x8508, 0xf3d6, 0x9c10, 0xa5b, 0xab06, 0x1b48, 0x0, 0x0);
        gbc.writeMem(0x8508, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xf3d6);
        EXPECT(gbc.pc(), 0x850a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8508), 0xcb);
        EXPECT(gbc.readMem(0x8509), 0x1f);
        // CB 1F 00B6
        gbc.setState(0xc6f, 0x73f0, 0xb690, 0xeb0e, 0x938b, 0xd21d, 0x0, 0x1);
        gbc.writeMem(0xc6f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x73f0);
        EXPECT(gbc.pc(), 0xc71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00B7
        gbc.setState(0x663c, 0x8862, 0xdcd0, 0x94ce, 0x9dbc, 0x67eb, 0x0, 0x0);
        gbc.writeMem(0x663c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8862);
        EXPECT(gbc.pc(), 0x663e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00B8
        gbc.setState(0x2e6, 0x1493, 0x5060, 0xf1b, 0x7e39, 0x7c6f, 0x0, 0x0);
        gbc.writeMem(0x2e6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1493);
        EXPECT(gbc.pc(), 0x2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00B9
        gbc.setState(0xb3c3, 0x9773, 0x51b0, 0x6159, 0xfb5d, 0x9971, 0x0, 0x0);
        gbc.writeMem(0xb3c3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x9773);
        EXPECT(gbc.pc(), 0xb3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3c3), 0xcb);
        EXPECT(gbc.readMem(0xb3c4), 0x1f);
        // CB 1F 00BA
        gbc.setState(0xd78b, 0x87d3, 0x5c20, 0xaabc, 0x250a, 0x663d, 0x0, 0x1);
        gbc.writeMem(0xd78b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x87d3);
        EXPECT(gbc.pc(), 0xd78d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd78b), 0xcb);
        EXPECT(gbc.readMem(0xd78c), 0x1f);
        // CB 1F 00BB
        gbc.setState(0x136e, 0x3dd2, 0x5e30, 0x568b, 0xe263, 0xb3fb, 0x1, 0x1);
        gbc.writeMem(0x136e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x3dd2);
        EXPECT(gbc.pc(), 0x1370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00BC
        gbc.setState(0x36f3, 0x4866, 0x6d40, 0xdb4b, 0x6658, 0xd71b, 0x0, 0x1);
        gbc.writeMem(0x36f3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4866);
        EXPECT(gbc.pc(), 0x36f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00BD
        gbc.setState(0x1cc9, 0x66c0, 0x730, 0x97d3, 0xda88, 0xc22f, 0x0, 0x0);
        gbc.writeMem(0x1cc9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x66c0);
        EXPECT(gbc.pc(), 0x1ccb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00BE
        gbc.setState(0x95, 0xaae1, 0x1c80, 0xef54, 0xfc19, 0x871f, 0x0, 0x1);
        gbc.writeMem(0x95, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xaae1);
        EXPECT(gbc.pc(), 0x97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00BF
        gbc.setState(0x6af, 0x699b, 0x1400, 0xe35a, 0xc6ea, 0xe288, 0x0, 0x1);
        gbc.writeMem(0x6af, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x699b);
        EXPECT(gbc.pc(), 0x6b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00C0
        gbc.setState(0x2fd4, 0x3a0c, 0x8260, 0x7e16, 0xbe6e, 0xf4f4, 0x1, 0x0);
        gbc.writeMem(0x2fd4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3a0c);
        EXPECT(gbc.pc(), 0x2fd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00C1
        gbc.setState(0x766c, 0xf065, 0x4cf0, 0x8d, 0x7d6a, 0xfc97, 0x0, 0x1);
        gbc.writeMem(0x766c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf065);
        EXPECT(gbc.pc(), 0x766e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00C2
        gbc.setState(0x58d8, 0xadea, 0x1700, 0x41f, 0x2857, 0x1fd5, 0x1, 0x0);
        gbc.writeMem(0x58d8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xadea);
        EXPECT(gbc.pc(), 0x58da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00C3
        gbc.setState(0x4090, 0xddc3, 0x3770, 0xefb8, 0xed7d, 0xc8a0, 0x1, 0x0);
        gbc.writeMem(0x4090, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xddc3);
        EXPECT(gbc.pc(), 0x4092);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00C4
        gbc.setState(0x56a7, 0xb67, 0x8de0, 0xd122, 0xc162, 0x4eb2, 0x0, 0x0);
        gbc.writeMem(0x56a7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb67);
        EXPECT(gbc.pc(), 0x56a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00C5
        gbc.setState(0x1964, 0x73d6, 0x4c30, 0xa259, 0x4a3a, 0x767, 0x0, 0x0);
        gbc.writeMem(0x1964, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x73d6);
        EXPECT(gbc.pc(), 0x1966);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00C6
        gbc.setState(0x1c5c, 0xe9d1, 0xbd10, 0x7104, 0xb499, 0x401c, 0x1, 0x0);
        gbc.writeMem(0x1c5c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe9d1);
        EXPECT(gbc.pc(), 0x1c5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00C8
        gbc.setState(0x3ad7, 0x992e, 0xa0, 0x55ac, 0x7b8e, 0x377e, 0x0, 0x1);
        gbc.writeMem(0x3ad7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x992e);
        EXPECT(gbc.pc(), 0x3ad9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00C9
        gbc.setState(0x3d2, 0xd41e, 0xf70, 0xbee0, 0x227f, 0xca06, 0x0, 0x0);
        gbc.writeMem(0x3d2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd41e);
        EXPECT(gbc.pc(), 0x3d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00CA
        gbc.setState(0x8912, 0xe0e7, 0xba40, 0xc9f0, 0x2e20, 0xc71c, 0x1, 0x1);
        gbc.writeMem(0x8912, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe0e7);
        EXPECT(gbc.pc(), 0x8914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8912), 0xcb);
        EXPECT(gbc.readMem(0x8913), 0x1f);
        // CB 1F 00CB
        gbc.setState(0x723f, 0xa69f, 0xe7f0, 0x64a3, 0x514f, 0x3b6a, 0x1, 0x0);
        gbc.writeMem(0x723f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa69f);
        EXPECT(gbc.pc(), 0x7241);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00CC
        gbc.setState(0xce8b, 0x5758, 0xe7c0, 0x4626, 0x7349, 0x1c1f, 0x1, 0x0);
        gbc.writeMem(0xce8b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5758);
        EXPECT(gbc.pc(), 0xce8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce8b), 0xcb);
        EXPECT(gbc.readMem(0xce8c), 0x1f);
        // CB 1F 00CD
        gbc.setState(0x4b70, 0x5d0c, 0xd910, 0x999f, 0x1773, 0x92dd, 0x1, 0x1);
        gbc.writeMem(0x4b70, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x5d0c);
        EXPECT(gbc.pc(), 0x4b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00CE
        gbc.setState(0xea0d, 0x96d5, 0x90d0, 0xa53e, 0x84f, 0x3413, 0x0, 0x1);
        gbc.writeMem(0xea0d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x96d5);
        EXPECT(gbc.pc(), 0xea0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea0d), 0xcb);
        EXPECT(gbc.readMem(0xea0e), 0x1f);
        // CB 1F 00CF
        gbc.setState(0x4cad, 0x9ae7, 0x1bb0, 0x4a19, 0xefe, 0x13c8, 0x0, 0x0);
        gbc.writeMem(0x4cad, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9ae7);
        EXPECT(gbc.pc(), 0x4caf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00D0
        gbc.setState(0x5d4f, 0x36e4, 0xcbe0, 0xbde4, 0x621d, 0xa735, 0x1, 0x1);
        gbc.writeMem(0x5d4f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x36e4);
        EXPECT(gbc.pc(), 0x5d51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00D2
        gbc.setState(0x127b, 0x7df8, 0xca50, 0x243, 0xae3a, 0x1046, 0x0, 0x1);
        gbc.writeMem(0x127b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7df8);
        EXPECT(gbc.pc(), 0x127d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00D3
        gbc.setState(0x1cd6, 0xc737, 0x110, 0xc1b1, 0x2070, 0x5026, 0x1, 0x0);
        gbc.writeMem(0x1cd6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc737);
        EXPECT(gbc.pc(), 0x1cd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00D4
        gbc.setState(0xdf8b, 0xe99b, 0x3290, 0x766a, 0x7eaa, 0xff28, 0x1, 0x1);
        gbc.writeMem(0xdf8b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe99b);
        EXPECT(gbc.pc(), 0xdf8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf8b), 0xcb);
        EXPECT(gbc.readMem(0xdf8c), 0x1f);
        // CB 1F 00D5
        gbc.setState(0x473e, 0xec23, 0xe9a0, 0x4ada, 0xd7a9, 0x70f0, 0x0, 0x1);
        gbc.writeMem(0x473e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xec23);
        EXPECT(gbc.pc(), 0x4740);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00D6
        gbc.setState(0xe3bd, 0x306e, 0x6c50, 0x4190, 0x4a99, 0xb46b, 0x1, 0x0);
        gbc.writeMem(0xe3bd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x306e);
        EXPECT(gbc.pc(), 0xe3bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3bd), 0xcb);
        EXPECT(gbc.readMem(0xe3be), 0x1f);
        // CB 1F 00D7
        gbc.setState(0x115, 0x7ff7, 0xfca0, 0x398b, 0xc1f, 0xe6b2, 0x1, 0x0);
        gbc.writeMem(0x115, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7ff7);
        EXPECT(gbc.pc(), 0x117);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00D8
        gbc.setState(0x6c0e, 0x3b6f, 0x8100, 0x44a1, 0x249b, 0xd203, 0x1, 0x1);
        gbc.writeMem(0x6c0e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3b6f);
        EXPECT(gbc.pc(), 0x6c10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00D9
        gbc.setState(0x3617, 0xb33d, 0xb890, 0x7ee6, 0x53a5, 0xcbba, 0x0, 0x1);
        gbc.writeMem(0x3617, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb33d);
        EXPECT(gbc.pc(), 0x3619);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00DA
        gbc.setState(0x9f24, 0x2191, 0x4c10, 0xea73, 0xe17a, 0xd8ff, 0x1, 0x1);
        gbc.writeMem(0x9f24, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2191);
        EXPECT(gbc.pc(), 0x9f26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f24), 0xcb);
        EXPECT(gbc.readMem(0x9f25), 0x1f);
        // CB 1F 00DB
        gbc.setState(0x1581, 0x3c15, 0xa700, 0xace, 0x936a, 0xdbb1, 0x0, 0x0);
        gbc.writeMem(0x1581, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3c15);
        EXPECT(gbc.pc(), 0x1583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00DC
        gbc.setState(0x5270, 0xe067, 0x3020, 0xd110, 0x511e, 0x967c, 0x0, 0x0);
        gbc.writeMem(0x5270, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe067);
        EXPECT(gbc.pc(), 0x5272);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00DD
        gbc.setState(0xb07f, 0x5e72, 0x8580, 0xe553, 0xd7f9, 0x1dc8, 0x1, 0x0);
        gbc.writeMem(0xb07f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5e72);
        EXPECT(gbc.pc(), 0xb081);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb07f), 0xcb);
        EXPECT(gbc.readMem(0xb080), 0x1f);
        // CB 1F 00DE
        gbc.setState(0xb76b, 0xf5bd, 0x95d0, 0xf1a8, 0xf29d, 0x56fc, 0x0, 0x0);
        gbc.writeMem(0xb76b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xf5bd);
        EXPECT(gbc.pc(), 0xb76d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb76b), 0xcb);
        EXPECT(gbc.readMem(0xb76c), 0x1f);
        // CB 1F 00DF
        gbc.setState(0x93cb, 0x2858, 0x3f20, 0x64a3, 0x8e4f, 0x62a7, 0x1, 0x1);
        gbc.writeMem(0x93cb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2858);
        EXPECT(gbc.pc(), 0x93cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93cb), 0xcb);
        EXPECT(gbc.readMem(0x93cc), 0x1f);
        // CB 1F 00E0
        gbc.setState(0x3c0e, 0x64a4, 0xa930, 0x8d7e, 0xc8a8, 0xdb40, 0x1, 0x0);
        gbc.writeMem(0x3c0e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x64a4);
        EXPECT(gbc.pc(), 0x3c10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00E1
        gbc.setState(0x3c9b, 0x30a5, 0xcb50, 0x444d, 0xeaa7, 0xbd1d, 0x1, 0x1);
        gbc.writeMem(0x3c9b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x30a5);
        EXPECT(gbc.pc(), 0x3c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00E2
        gbc.setState(0x6fff, 0x429f, 0x5c90, 0x9f73, 0x7d86, 0xa118, 0x0, 0x0);
        gbc.writeMem(0x6fff, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x429f);
        EXPECT(gbc.pc(), 0x7001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00E3
        gbc.setState(0x9b36, 0x7c9b, 0xc090, 0x44e1, 0xf31f, 0xe456, 0x0, 0x0);
        gbc.writeMem(0x9b36, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x7c9b);
        EXPECT(gbc.pc(), 0x9b38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b36), 0xcb);
        EXPECT(gbc.readMem(0x9b37), 0x1f);
        // CB 1F 00E4
        gbc.setState(0xffd, 0xf72c, 0x1c70, 0x9889, 0xf4c8, 0xc3f9, 0x0, 0x0);
        gbc.writeMem(0xffd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf72c);
        EXPECT(gbc.pc(), 0xfff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00E5
        gbc.setState(0xddb1, 0x6a74, 0x1630, 0x81cc, 0x7641, 0xcdc6, 0x1, 0x0);
        gbc.writeMem(0xddb1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x6a74);
        EXPECT(gbc.pc(), 0xddb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddb1), 0xcb);
        EXPECT(gbc.readMem(0xddb2), 0x1f);
        // CB 1F 00E6
        gbc.setState(0x5280, 0x5a1b, 0xde50, 0x7332, 0xb3d4, 0xb14e, 0x1, 0x1);
        gbc.writeMem(0x5280, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x5a1b);
        EXPECT(gbc.pc(), 0x5282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00E7
        gbc.setState(0x9778, 0x2963, 0xa90, 0xe5c3, 0x5851, 0x3690, 0x1, 0x0);
        gbc.writeMem(0x9778, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2963);
        EXPECT(gbc.pc(), 0x977a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9778), 0xcb);
        EXPECT(gbc.readMem(0x9779), 0x1f);
        // CB 1F 00E8
        gbc.setState(0xc1e8, 0xc90, 0xc830, 0xccb0, 0x56dd, 0x78c4, 0x0, 0x0);
        gbc.writeMem(0xc1e8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc90);
        EXPECT(gbc.pc(), 0xc1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e8), 0xcb);
        EXPECT(gbc.readMem(0xc1e9), 0x1f);
        // CB 1F 00E9
        gbc.setState(0xbd6c, 0x5c54, 0x2a0, 0x6ba4, 0x127, 0x860b, 0x0, 0x1);
        gbc.writeMem(0xbd6c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5c54);
        EXPECT(gbc.pc(), 0xbd6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd6c), 0xcb);
        EXPECT(gbc.readMem(0xbd6d), 0x1f);
        // CB 1F 00EA
        gbc.setState(0x2c99, 0x4dc5, 0x9c00, 0x51bd, 0xc452, 0xef3a, 0x0, 0x1);
        gbc.writeMem(0x2c99, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4dc5);
        EXPECT(gbc.pc(), 0x2c9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00EB
        gbc.setState(0x959d, 0xd896, 0xa030, 0x99a4, 0x1dee, 0xec72, 0x0, 0x0);
        gbc.writeMem(0x959d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd896);
        EXPECT(gbc.pc(), 0x959f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x959d), 0xcb);
        EXPECT(gbc.readMem(0x959e), 0x1f);
        // CB 1F 00EC
        gbc.setState(0x805c, 0xcac6, 0xe9e0, 0x73f4, 0xde1e, 0x7426, 0x1, 0x1);
        gbc.writeMem(0x805c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcac6);
        EXPECT(gbc.pc(), 0x805e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x805c), 0xcb);
        EXPECT(gbc.readMem(0x805d), 0x1f);
        // CB 1F 00ED
        gbc.setState(0xb529, 0x3afc, 0x62e0, 0x4153, 0x7ae6, 0x11f7, 0x0, 0x0);
        gbc.writeMem(0xb529, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3afc);
        EXPECT(gbc.pc(), 0xb52b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb529), 0xcb);
        EXPECT(gbc.readMem(0xb52a), 0x1f);
        // CB 1F 00EE
        gbc.setState(0xd733, 0x3ea2, 0x1cd0, 0x8f09, 0xaee7, 0x6096, 0x1, 0x0);
        gbc.writeMem(0xd733, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3ea2);
        EXPECT(gbc.pc(), 0xd735);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd733), 0xcb);
        EXPECT(gbc.readMem(0xd734), 0x1f);
        // CB 1F 00EF
        gbc.setState(0x2571, 0x19, 0xa020, 0x8f4d, 0x3629, 0x9585, 0x1, 0x0);
        gbc.writeMem(0x2571, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x19);
        EXPECT(gbc.pc(), 0x2573);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00F0
        gbc.setState(0x7e9c, 0xcc9a, 0x6b60, 0x1e16, 0x988, 0xc159, 0x0, 0x0);
        gbc.writeMem(0x7e9c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xcc9a);
        EXPECT(gbc.pc(), 0x7e9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00F1
        gbc.setState(0x6071, 0xae4, 0x1800, 0x1a1, 0x731f, 0xbd65, 0x0, 0x0);
        gbc.writeMem(0x6071, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xae4);
        EXPECT(gbc.pc(), 0x6073);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00F2
        gbc.setState(0x71b3, 0x7b1b, 0x32e0, 0x5df2, 0x12c3, 0xbff4, 0x0, 0x0);
        gbc.writeMem(0x71b3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x7b1b);
        EXPECT(gbc.pc(), 0x71b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00F3
        gbc.setState(0xde6c, 0x818e, 0xae00, 0x8eff, 0xc71f, 0x5ca, 0x1, 0x0);
        gbc.writeMem(0xde6c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x818e);
        EXPECT(gbc.pc(), 0xde6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde6c), 0xcb);
        EXPECT(gbc.readMem(0xde6d), 0x1f);
        // CB 1F 00F4
        gbc.setState(0x4593, 0x3016, 0x4760, 0xa74c, 0x2ef2, 0xe12d, 0x0, 0x0);
        gbc.writeMem(0x4593, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3016);
        EXPECT(gbc.pc(), 0x4595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00F5
        gbc.setState(0xa83c, 0xd64f, 0xd020, 0xf351, 0x54b2, 0x4249, 0x1, 0x1);
        gbc.writeMem(0xa83c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd64f);
        EXPECT(gbc.pc(), 0xa83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa83c), 0xcb);
        EXPECT(gbc.readMem(0xa83d), 0x1f);
        // CB 1F 00F6
        gbc.setState(0x3e1a, 0x1394, 0x83f0, 0xdd4f, 0x8e22, 0xfad5, 0x1, 0x0);
        gbc.writeMem(0x3e1a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1394);
        EXPECT(gbc.pc(), 0x3e1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00F7
        gbc.setState(0x769c, 0x294d, 0x8150, 0x7b3d, 0x9a52, 0x93f7, 0x0, 0x1);
        gbc.writeMem(0x769c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x294d);
        EXPECT(gbc.pc(), 0x769e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00F8
        gbc.setState(0x7547, 0xdca0, 0xe340, 0x5714, 0x5bb9, 0x461d, 0x1, 0x0);
        gbc.writeMem(0x7547, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xdca0);
        EXPECT(gbc.pc(), 0x7549);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00F9
        gbc.setState(0x2293, 0xaf41, 0x2e10, 0x771, 0xdf8c, 0xefbd, 0x0, 0x0);
        gbc.writeMem(0x2293, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xaf41);
        EXPECT(gbc.pc(), 0x2295);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00FA
        gbc.setState(0x523e, 0x68db, 0x5130, 0x611d, 0x8c5f, 0xa86d, 0x1, 0x0);
        gbc.writeMem(0x523e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x68db);
        EXPECT(gbc.pc(), 0x5240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00FB
        gbc.setState(0x1338, 0xd35d, 0xf8d0, 0xb269, 0x6c8, 0xedc1, 0x1, 0x0);
        gbc.writeMem(0x1338, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd35d);
        EXPECT(gbc.pc(), 0x133a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 00FC
        gbc.setState(0xa88b, 0x8920, 0x24b0, 0xbba4, 0x63d, 0xac20, 0x1, 0x1);
        gbc.writeMem(0xa88b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8920);
        EXPECT(gbc.pc(), 0xa88d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa88b), 0xcb);
        EXPECT(gbc.readMem(0xa88c), 0x1f);
        // CB 1F 00FD
        gbc.setState(0x1ed6, 0x6689, 0x6350, 0x6d06, 0xc666, 0x165d, 0x1, 0x0);
        gbc.writeMem(0x1ed6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6689);
        EXPECT(gbc.pc(), 0x1ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00FE
        gbc.setState(0x706f, 0xce59, 0x99b0, 0x4470, 0x882, 0x548, 0x1, 0x0);
        gbc.writeMem(0x706f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xce59);
        EXPECT(gbc.pc(), 0x7071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 00FF
        gbc.setState(0x9463, 0xf489, 0xcf80, 0x912d, 0x16b8, 0xc2a8, 0x0, 0x1);
        gbc.writeMem(0x9463, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf489);
        EXPECT(gbc.pc(), 0x9465);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9463), 0xcb);
        EXPECT(gbc.readMem(0x9464), 0x1f);
        // CB 1F 0101
        gbc.setState(0x38b, 0xff2a, 0xdbe0, 0x3e2b, 0xbcb7, 0x3ae7, 0x0, 0x1);
        gbc.writeMem(0x38b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xff2a);
        EXPECT(gbc.pc(), 0x38d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0102
        gbc.setState(0x33e8, 0x7385, 0xf6e0, 0xa570, 0xa78b, 0xdfa0, 0x0, 0x1);
        gbc.writeMem(0x33e8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7385);
        EXPECT(gbc.pc(), 0x33ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0103
        gbc.setState(0xe267, 0x9fc2, 0x5af0, 0xca09, 0x2a6c, 0xb731, 0x0, 0x1);
        gbc.writeMem(0xe267, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9fc2);
        EXPECT(gbc.pc(), 0xe269);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe267), 0xcb);
        EXPECT(gbc.readMem(0xe268), 0x1f);
        // CB 1F 0104
        gbc.setState(0x2bd, 0xeab5, 0x6cb0, 0x4260, 0xa35c, 0x30e9, 0x1, 0x0);
        gbc.writeMem(0x2bd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xeab5);
        EXPECT(gbc.pc(), 0x2bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0105
        gbc.setState(0x24d0, 0x10ee, 0xb3c0, 0x5e52, 0xbe2, 0xfc7c, 0x1, 0x0);
        gbc.writeMem(0x24d0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x10ee);
        EXPECT(gbc.pc(), 0x24d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0106
        gbc.setState(0x2478, 0xbd6d, 0xb220, 0x38d9, 0x2b0b, 0xad86, 0x0, 0x1);
        gbc.writeMem(0x2478, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xbd6d);
        EXPECT(gbc.pc(), 0x247a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0107
        gbc.setState(0x681b, 0x39c8, 0xad00, 0xdd6e, 0x51a7, 0xa29b, 0x0, 0x0);
        gbc.writeMem(0x681b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x39c8);
        EXPECT(gbc.pc(), 0x681d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0108
        gbc.setState(0x24ea, 0x5f27, 0x64f0, 0x2bfd, 0x60f3, 0x73, 0x1, 0x1);
        gbc.writeMem(0x24ea, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5f27);
        EXPECT(gbc.pc(), 0x24ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0109
        gbc.setState(0x12cd, 0xc607, 0x6c80, 0x8120, 0x3469, 0xe21c, 0x1, 0x0);
        gbc.writeMem(0x12cd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc607);
        EXPECT(gbc.pc(), 0x12cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 010A
        gbc.setState(0x2c7a, 0xa53, 0xc020, 0xbf2, 0xa04e, 0x6dc1, 0x0, 0x1);
        gbc.writeMem(0x2c7a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa53);
        EXPECT(gbc.pc(), 0x2c7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 010B
        gbc.setState(0x592b, 0x6d9a, 0xcb10, 0xbab1, 0x8ec9, 0xb2a1, 0x1, 0x0);
        gbc.writeMem(0x592b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6d9a);
        EXPECT(gbc.pc(), 0x592d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 010C
        gbc.setState(0x9ad0, 0x477a, 0x4780, 0x48c3, 0xf58f, 0x60be, 0x1, 0x1);
        gbc.writeMem(0x9ad0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x477a);
        EXPECT(gbc.pc(), 0x9ad2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ad0), 0xcb);
        EXPECT(gbc.readMem(0x9ad1), 0x1f);
        // CB 1F 010D
        gbc.setState(0xb14f, 0xb8db, 0x4be0, 0x872d, 0x4a3b, 0x6588, 0x0, 0x0);
        gbc.writeMem(0xb14f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb8db);
        EXPECT(gbc.pc(), 0xb151);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb14f), 0xcb);
        EXPECT(gbc.readMem(0xb150), 0x1f);
        // CB 1F 010F
        gbc.setState(0x733a, 0x65f3, 0x3c0, 0xcbfc, 0xed59, 0x2a4c, 0x1, 0x1);
        gbc.writeMem(0x733a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x65f3);
        EXPECT(gbc.pc(), 0x733c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0110
        gbc.setState(0xab93, 0x5b8a, 0x7da0, 0x24de, 0x4443, 0xe37a, 0x0, 0x1);
        gbc.writeMem(0xab93, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5b8a);
        EXPECT(gbc.pc(), 0xab95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab93), 0xcb);
        EXPECT(gbc.readMem(0xab94), 0x1f);
        // CB 1F 0111
        gbc.setState(0xe3d3, 0x3a6b, 0x12c0, 0xddfe, 0x1921, 0x19b1, 0x0, 0x0);
        gbc.writeMem(0xe3d3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3a6b);
        EXPECT(gbc.pc(), 0xe3d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3d3), 0xcb);
        EXPECT(gbc.readMem(0xe3d4), 0x1f);
        // CB 1F 0112
        gbc.setState(0x3f8, 0x7ffa, 0x9490, 0x54d4, 0x9714, 0x2137, 0x0, 0x0);
        gbc.writeMem(0x3f8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7ffa);
        EXPECT(gbc.pc(), 0x3fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0113
        gbc.setState(0xe353, 0x9165, 0xaa0, 0xb02c, 0x85d6, 0xd61c, 0x1, 0x1);
        gbc.writeMem(0xe353, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9165);
        EXPECT(gbc.pc(), 0xe355);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe353), 0xcb);
        EXPECT(gbc.readMem(0xe354), 0x1f);
        // CB 1F 0114
        gbc.setState(0x2d54, 0x1357, 0x5ba0, 0xa657, 0xf74e, 0xedc4, 0x0, 0x1);
        gbc.writeMem(0x2d54, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1357);
        EXPECT(gbc.pc(), 0x2d56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0115
        gbc.setState(0x4451, 0xa05f, 0x2cd0, 0xaa09, 0xde8e, 0xe555, 0x1, 0x0);
        gbc.writeMem(0x4451, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa05f);
        EXPECT(gbc.pc(), 0x4453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0116
        gbc.setState(0x59d1, 0x60cb, 0x63b0, 0x24bc, 0x5a17, 0x87ef, 0x0, 0x0);
        gbc.writeMem(0x59d1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x60cb);
        EXPECT(gbc.pc(), 0x59d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0117
        gbc.setState(0x77fa, 0x8035, 0x2b80, 0xbcc2, 0x98b8, 0x859d, 0x1, 0x0);
        gbc.writeMem(0x77fa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x8035);
        EXPECT(gbc.pc(), 0x77fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0118
        gbc.setState(0x49bc, 0x5590, 0x9b60, 0x8f1b, 0x6ebe, 0xa68a, 0x0, 0x1);
        gbc.writeMem(0x49bc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5590);
        EXPECT(gbc.pc(), 0x49be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0119
        gbc.setState(0xb24a, 0xf1ac, 0x1790, 0x61c5, 0x6cd4, 0x7262, 0x0, 0x1);
        gbc.writeMem(0xb24a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf1ac);
        EXPECT(gbc.pc(), 0xb24c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb24a), 0xcb);
        EXPECT(gbc.readMem(0xb24b), 0x1f);
        // CB 1F 011A
        gbc.setState(0xb945, 0xde65, 0x2fb0, 0x668, 0x2046, 0xf85e, 0x1, 0x0);
        gbc.writeMem(0xb945, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xde65);
        EXPECT(gbc.pc(), 0xb947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb945), 0xcb);
        EXPECT(gbc.readMem(0xb946), 0x1f);
        // CB 1F 011B
        gbc.setState(0x1d6c, 0xe87, 0xdd10, 0xbd45, 0xa2f8, 0x75b1, 0x1, 0x0);
        gbc.writeMem(0x1d6c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe87);
        EXPECT(gbc.pc(), 0x1d6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 011C
        gbc.setState(0x1d92, 0xc9e4, 0x3df0, 0x3d39, 0xc14, 0x59c1, 0x0, 0x1);
        gbc.writeMem(0x1d92, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc9e4);
        EXPECT(gbc.pc(), 0x1d94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 011D
        gbc.setState(0xd5fb, 0xa0d8, 0xaea0, 0x2fe, 0x90cb, 0x972a, 0x1, 0x0);
        gbc.writeMem(0xd5fb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa0d8);
        EXPECT(gbc.pc(), 0xd5fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5fb), 0xcb);
        EXPECT(gbc.readMem(0xd5fc), 0x1f);
        // CB 1F 011E
        gbc.setState(0xb01c, 0xb1c0, 0x5e90, 0x3892, 0x2bb7, 0x76e2, 0x0, 0x1);
        gbc.writeMem(0xb01c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb1c0);
        EXPECT(gbc.pc(), 0xb01e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb01c), 0xcb);
        EXPECT(gbc.readMem(0xb01d), 0x1f);
        // CB 1F 011F
        gbc.setState(0xce3, 0x4034, 0x9c70, 0x815e, 0xf4e5, 0x2a75, 0x1, 0x0);
        gbc.writeMem(0xce3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4034);
        EXPECT(gbc.pc(), 0xce5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0121
        gbc.setState(0x1344, 0x7e8, 0xcc30, 0x7344, 0xa6f2, 0xafcf, 0x0, 0x1);
        gbc.writeMem(0x1344, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7e8);
        EXPECT(gbc.pc(), 0x1346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0122
        gbc.setState(0x95df, 0x6805, 0x4e0, 0xd06e, 0x5d49, 0xaf7c, 0x1, 0x0);
        gbc.writeMem(0x95df, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x6805);
        EXPECT(gbc.pc(), 0x95e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95df), 0xcb);
        EXPECT(gbc.readMem(0x95e0), 0x1f);
        // CB 1F 0123
        gbc.setState(0x1175, 0xb6c2, 0x4ab0, 0x27bf, 0x51d5, 0x1264, 0x0, 0x1);
        gbc.writeMem(0x1175, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb6c2);
        EXPECT(gbc.pc(), 0x1177);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0124
        gbc.setState(0x7c3c, 0xe0fe, 0x6610, 0xb5f8, 0x4350, 0x3a27, 0x0, 0x0);
        gbc.writeMem(0x7c3c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe0fe);
        EXPECT(gbc.pc(), 0x7c3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0125
        gbc.setState(0x3eb7, 0x55ca, 0xc70, 0xd9fa, 0x9bf9, 0xd057, 0x0, 0x0);
        gbc.writeMem(0x3eb7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x55ca);
        EXPECT(gbc.pc(), 0x3eb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0126
        gbc.setState(0x5841, 0x53d0, 0xc310, 0xadd, 0x7829, 0x4576, 0x0, 0x0);
        gbc.writeMem(0x5841, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x53d0);
        EXPECT(gbc.pc(), 0x5843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0127
        gbc.setState(0x3f64, 0x1d74, 0xe170, 0xc91, 0xbb84, 0xbe38, 0x1, 0x0);
        gbc.writeMem(0x3f64, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x1d74);
        EXPECT(gbc.pc(), 0x3f66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0128
        gbc.setState(0xd5be, 0xfe47, 0xd670, 0xc733, 0x2f81, 0xf80c, 0x0, 0x1);
        gbc.writeMem(0xd5be, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xfe47);
        EXPECT(gbc.pc(), 0xd5c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5be), 0xcb);
        EXPECT(gbc.readMem(0xd5bf), 0x1f);
        // CB 1F 0129
        gbc.setState(0xbbd8, 0x6bb9, 0x18f0, 0x7744, 0x5def, 0xa81c, 0x1, 0x1);
        gbc.writeMem(0xbbd8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6bb9);
        EXPECT(gbc.pc(), 0xbbda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbd8), 0xcb);
        EXPECT(gbc.readMem(0xbbd9), 0x1f);
        // CB 1F 012A
        gbc.setState(0x566e, 0x7d89, 0x1da0, 0xa5fe, 0x580b, 0x2cd2, 0x0, 0x0);
        gbc.writeMem(0x566e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7d89);
        EXPECT(gbc.pc(), 0x5670);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 012B
        gbc.setState(0x90da, 0x57ba, 0x72a0, 0x19b1, 0x1f82, 0x9be6, 0x0, 0x1);
        gbc.writeMem(0x90da, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x57ba);
        EXPECT(gbc.pc(), 0x90dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90da), 0xcb);
        EXPECT(gbc.readMem(0x90db), 0x1f);
        // CB 1F 012C
        gbc.setState(0x2118, 0x9932, 0x2660, 0x3949, 0x3cea, 0x1ddc, 0x0, 0x0);
        gbc.writeMem(0x2118, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9932);
        EXPECT(gbc.pc(), 0x211a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 012D
        gbc.setState(0x33df, 0x8e8d, 0xf950, 0xe82a, 0x3a17, 0x36f2, 0x1, 0x0);
        gbc.writeMem(0x33df, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8e8d);
        EXPECT(gbc.pc(), 0x33e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 012E
        gbc.setState(0xdf66, 0x51e6, 0x6cd0, 0x3e01, 0x6480, 0x464, 0x0, 0x1);
        gbc.writeMem(0xdf66, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x51e6);
        EXPECT(gbc.pc(), 0xdf68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf66), 0xcb);
        EXPECT(gbc.readMem(0xdf67), 0x1f);
        // CB 1F 012F
        gbc.setState(0x905e, 0xf002, 0x4f50, 0x6612, 0x6330, 0xc02b, 0x0, 0x1);
        gbc.writeMem(0x905e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf002);
        EXPECT(gbc.pc(), 0x9060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x905e), 0xcb);
        EXPECT(gbc.readMem(0x905f), 0x1f);
        // CB 1F 0130
        gbc.setState(0x8793, 0x5fea, 0x7e40, 0xec71, 0xc672, 0x302b, 0x1, 0x0);
        gbc.writeMem(0x8793, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5fea);
        EXPECT(gbc.pc(), 0x8795);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8793), 0xcb);
        EXPECT(gbc.readMem(0x8794), 0x1f);
        // CB 1F 0131
        gbc.setState(0x36ee, 0xa007, 0xc6b0, 0xea62, 0x4c68, 0xaafc, 0x1, 0x0);
        gbc.writeMem(0x36ee, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa007);
        EXPECT(gbc.pc(), 0x36f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0132
        gbc.setState(0xac90, 0x574e, 0xf030, 0xb753, 0x6a46, 0x9b59, 0x0, 0x1);
        gbc.writeMem(0xac90, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x574e);
        EXPECT(gbc.pc(), 0xac92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac90), 0xcb);
        EXPECT(gbc.readMem(0xac91), 0x1f);
        // CB 1F 0133
        gbc.setState(0xe447, 0xf6a2, 0xe600, 0xb144, 0xc666, 0x19e9, 0x1, 0x0);
        gbc.writeMem(0xe447, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf6a2);
        EXPECT(gbc.pc(), 0xe449);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe447), 0xcb);
        EXPECT(gbc.readMem(0xe448), 0x1f);
        // CB 1F 0134
        gbc.setState(0x6bc2, 0x5d60, 0x1cc0, 0x666, 0xaf8a, 0x2224, 0x0, 0x1);
        gbc.writeMem(0x6bc2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5d60);
        EXPECT(gbc.pc(), 0x6bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0136
        gbc.setState(0x6250, 0x8a03, 0x52e0, 0x5394, 0xb4a4, 0x4f8f, 0x0, 0x0);
        gbc.writeMem(0x6250, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8a03);
        EXPECT(gbc.pc(), 0x6252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0137
        gbc.setState(0x815d, 0x9308, 0x82f0, 0x867, 0x2811, 0xd582, 0x0, 0x1);
        gbc.writeMem(0x815d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9308);
        EXPECT(gbc.pc(), 0x815f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x815d), 0xcb);
        EXPECT(gbc.readMem(0x815e), 0x1f);
        // CB 1F 0138
        gbc.setState(0x1023, 0xfd3a, 0xf3d0, 0x5db5, 0x74d2, 0xf0b8, 0x0, 0x1);
        gbc.writeMem(0x1023, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xfd3a);
        EXPECT(gbc.pc(), 0x1025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0139
        gbc.setState(0x8ef7, 0xae7c, 0x3720, 0x9aaf, 0x6302, 0xcf32, 0x0, 0x1);
        gbc.writeMem(0x8ef7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xae7c);
        EXPECT(gbc.pc(), 0x8ef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ef7), 0xcb);
        EXPECT(gbc.readMem(0x8ef8), 0x1f);
        // CB 1F 013A
        gbc.setState(0x4111, 0xaf79, 0x4310, 0x6df8, 0xea9d, 0x7936, 0x0, 0x1);
        gbc.writeMem(0x4111, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xaf79);
        EXPECT(gbc.pc(), 0x4113);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 013B
        gbc.setState(0x20e7, 0x6352, 0xf000, 0x8925, 0x8a41, 0x9557, 0x1, 0x0);
        gbc.writeMem(0x20e7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6352);
        EXPECT(gbc.pc(), 0x20e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 013C
        gbc.setState(0xc17f, 0xaf54, 0x2910, 0x219f, 0x377d, 0xe5ff, 0x0, 0x1);
        gbc.writeMem(0xc17f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xaf54);
        EXPECT(gbc.pc(), 0xc181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc17f), 0xcb);
        EXPECT(gbc.readMem(0xc180), 0x1f);
        // CB 1F 013D
        gbc.setState(0x763, 0x197a, 0xeaf0, 0x71bb, 0x732b, 0x53a, 0x1, 0x1);
        gbc.writeMem(0x763, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x197a);
        EXPECT(gbc.pc(), 0x765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 013E
        gbc.setState(0xc374, 0xf822, 0x7530, 0x9f75, 0xbde8, 0xc649, 0x0, 0x0);
        gbc.writeMem(0xc374, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf822);
        EXPECT(gbc.pc(), 0xc376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc374), 0xcb);
        EXPECT(gbc.readMem(0xc375), 0x1f);
        // CB 1F 013F
        gbc.setState(0x6d1a, 0x35ff, 0xec80, 0x11b1, 0x5e0d, 0xa3bc, 0x1, 0x1);
        gbc.writeMem(0x6d1a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x35ff);
        EXPECT(gbc.pc(), 0x6d1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0140
        gbc.setState(0xdd6d, 0x8817, 0x5420, 0x54ae, 0x5263, 0x1d7, 0x0, 0x1);
        gbc.writeMem(0xdd6d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x8817);
        EXPECT(gbc.pc(), 0xdd6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd6d), 0xcb);
        EXPECT(gbc.readMem(0xdd6e), 0x1f);
        // CB 1F 0141
        gbc.setState(0xcc83, 0x52c3, 0x3bf0, 0x6b6e, 0x9c2d, 0xeb6b, 0x0, 0x1);
        gbc.writeMem(0xcc83, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x52c3);
        EXPECT(gbc.pc(), 0xcc85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc83), 0xcb);
        EXPECT(gbc.readMem(0xcc84), 0x1f);
        // CB 1F 0142
        gbc.setState(0x1dfd, 0x10ad, 0x3f80, 0x73d5, 0x8047, 0xa5dd, 0x0, 0x0);
        gbc.writeMem(0x1dfd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x10ad);
        EXPECT(gbc.pc(), 0x1dff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0143
        gbc.setState(0xd531, 0xaf79, 0x90e0, 0x438f, 0x9bc4, 0x7626, 0x1, 0x1);
        gbc.writeMem(0xd531, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xaf79);
        EXPECT(gbc.pc(), 0xd533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd531), 0xcb);
        EXPECT(gbc.readMem(0xd532), 0x1f);
        // CB 1F 0144
        gbc.setState(0xca4d, 0x7580, 0x49d0, 0xa210, 0xe861, 0xefbb, 0x1, 0x1);
        gbc.writeMem(0xca4d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7580);
        EXPECT(gbc.pc(), 0xca4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca4d), 0xcb);
        EXPECT(gbc.readMem(0xca4e), 0x1f);
        // CB 1F 0145
        gbc.setState(0x1c1c, 0x708a, 0xc970, 0x31c9, 0x50d, 0x8324, 0x0, 0x1);
        gbc.writeMem(0x1c1c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x708a);
        EXPECT(gbc.pc(), 0x1c1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0146
        gbc.setState(0xaf9c, 0x3d39, 0x280, 0x100c, 0x8ad4, 0x14a4, 0x1, 0x1);
        gbc.writeMem(0xaf9c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x3d39);
        EXPECT(gbc.pc(), 0xaf9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf9c), 0xcb);
        EXPECT(gbc.readMem(0xaf9d), 0x1f);
        // CB 1F 0147
        gbc.setState(0x9bda, 0xaa08, 0xc0f0, 0xcbd2, 0x5810, 0x5c6a, 0x0, 0x0);
        gbc.writeMem(0x9bda, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xaa08);
        EXPECT(gbc.pc(), 0x9bdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bda), 0xcb);
        EXPECT(gbc.readMem(0x9bdb), 0x1f);
        // CB 1F 0148
        gbc.setState(0x1775, 0x3839, 0x84b0, 0x6ce0, 0xf005, 0x9f96, 0x0, 0x0);
        gbc.writeMem(0x1775, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3839);
        EXPECT(gbc.pc(), 0x1777);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0149
        gbc.setState(0x524f, 0x4ddd, 0xecf0, 0x8880, 0x1955, 0x26b1, 0x1, 0x0);
        gbc.writeMem(0x524f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4ddd);
        EXPECT(gbc.pc(), 0x5251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 014A
        gbc.setState(0x8bfd, 0x90a9, 0x970, 0xc17b, 0xb047, 0x38d0, 0x0, 0x0);
        gbc.writeMem(0x8bfd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x90a9);
        EXPECT(gbc.pc(), 0x8bff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bfd), 0xcb);
        EXPECT(gbc.readMem(0x8bfe), 0x1f);
        // CB 1F 014B
        gbc.setState(0x95ab, 0xbfdd, 0xdec0, 0x2c6a, 0x97d6, 0x3c73, 0x1, 0x1);
        gbc.writeMem(0x95ab, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xbfdd);
        EXPECT(gbc.pc(), 0x95ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ab), 0xcb);
        EXPECT(gbc.readMem(0x95ac), 0x1f);
        // CB 1F 014C
        gbc.setState(0xc465, 0xa281, 0xbee0, 0x4499, 0x7117, 0x735c, 0x1, 0x0);
        gbc.writeMem(0xc465, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa281);
        EXPECT(gbc.pc(), 0xc467);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc465), 0xcb);
        EXPECT(gbc.readMem(0xc466), 0x1f);
        // CB 1F 014D
        gbc.setState(0xe96c, 0xb0c8, 0xe490, 0xcd54, 0x776c, 0x8281, 0x0, 0x1);
        gbc.writeMem(0xe96c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb0c8);
        EXPECT(gbc.pc(), 0xe96e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe96c), 0xcb);
        EXPECT(gbc.readMem(0xe96d), 0x1f);
        // CB 1F 014E
        gbc.setState(0x6a5a, 0x747, 0x1e50, 0xb97f, 0x72ce, 0x13fa, 0x0, 0x1);
        gbc.writeMem(0x6a5a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x747);
        EXPECT(gbc.pc(), 0x6a5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 014F
        gbc.setState(0x15d2, 0xa5d5, 0x4a20, 0x95b5, 0xab12, 0xa88e, 0x0, 0x0);
        gbc.writeMem(0x15d2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa5d5);
        EXPECT(gbc.pc(), 0x15d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0150
        gbc.setState(0xd6cd, 0xc256, 0xa420, 0x40d3, 0x213b, 0x3ef5, 0x1, 0x1);
        gbc.writeMem(0xd6cd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc256);
        EXPECT(gbc.pc(), 0xd6cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6cd), 0xcb);
        EXPECT(gbc.readMem(0xd6ce), 0x1f);
        // CB 1F 0151
        gbc.setState(0x2d19, 0xae2c, 0x9330, 0x4ded, 0xaab0, 0x83e1, 0x1, 0x1);
        gbc.writeMem(0x2d19, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xae2c);
        EXPECT(gbc.pc(), 0x2d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0152
        gbc.setState(0x93cc, 0x31db, 0x6bf0, 0x585b, 0x60c8, 0xbd48, 0x1, 0x0);
        gbc.writeMem(0x93cc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x31db);
        EXPECT(gbc.pc(), 0x93ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93cc), 0xcb);
        EXPECT(gbc.readMem(0x93cd), 0x1f);
        // CB 1F 0153
        gbc.setState(0xe22c, 0xc972, 0x8490, 0x5301, 0xb750, 0x9eaf, 0x1, 0x1);
        gbc.writeMem(0xe22c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc972);
        EXPECT(gbc.pc(), 0xe22e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe22c), 0xcb);
        EXPECT(gbc.readMem(0xe22d), 0x1f);
        // CB 1F 0154
        gbc.setState(0x2769, 0x1d6e, 0x7f80, 0x6fc0, 0xc1e3, 0xe12c, 0x1, 0x0);
        gbc.writeMem(0x2769, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x1d6e);
        EXPECT(gbc.pc(), 0x276b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0155
        gbc.setState(0x5706, 0xd954, 0xfd90, 0xd017, 0x82cc, 0xfd14, 0x1, 0x1);
        gbc.writeMem(0x5706, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd954);
        EXPECT(gbc.pc(), 0x5708);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0156
        gbc.setState(0xae0d, 0xd11d, 0x610, 0x57f0, 0x671e, 0x4130, 0x0, 0x0);
        gbc.writeMem(0xae0d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd11d);
        EXPECT(gbc.pc(), 0xae0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae0d), 0xcb);
        EXPECT(gbc.readMem(0xae0e), 0x1f);
        // CB 1F 0157
        gbc.setState(0x4aa4, 0x285f, 0x6e10, 0x617c, 0x2da4, 0xd49c, 0x1, 0x1);
        gbc.writeMem(0x4aa4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x285f);
        EXPECT(gbc.pc(), 0x4aa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0158
        gbc.setState(0x853d, 0x2b19, 0x8940, 0x7d77, 0xfbc0, 0x8268, 0x0, 0x1);
        gbc.writeMem(0x853d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2b19);
        EXPECT(gbc.pc(), 0x853f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x853d), 0xcb);
        EXPECT(gbc.readMem(0x853e), 0x1f);
        // CB 1F 0159
        gbc.setState(0x6439, 0x8153, 0xa860, 0x3ccc, 0x98a3, 0x5ccb, 0x0, 0x1);
        gbc.writeMem(0x6439, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8153);
        EXPECT(gbc.pc(), 0x643b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 015A
        gbc.setState(0x6562, 0xcd50, 0xb360, 0x541d, 0xdea3, 0x7cbd, 0x0, 0x0);
        gbc.writeMem(0x6562, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xcd50);
        EXPECT(gbc.pc(), 0x6564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 015B
        gbc.setState(0x7132, 0x2486, 0x3b00, 0xbe5e, 0xca52, 0xe452, 0x1, 0x1);
        gbc.writeMem(0x7132, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2486);
        EXPECT(gbc.pc(), 0x7134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 015C
        gbc.setState(0xcab0, 0xc045, 0x6690, 0xe3dd, 0x2fc0, 0xbe7c, 0x1, 0x1);
        gbc.writeMem(0xcab0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xc045);
        EXPECT(gbc.pc(), 0xcab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcab0), 0xcb);
        EXPECT(gbc.readMem(0xcab1), 0x1f);
        // CB 1F 015D
        gbc.setState(0xe198, 0x410f, 0xce90, 0x74c1, 0x9892, 0xae83, 0x0, 0x1);
        gbc.writeMem(0xe198, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x410f);
        EXPECT(gbc.pc(), 0xe19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe198), 0xcb);
        EXPECT(gbc.readMem(0xe199), 0x1f);
        // CB 1F 015E
        gbc.setState(0x5108, 0x99c, 0x2170, 0x2a8e, 0x2f0a, 0x85cf, 0x1, 0x0);
        gbc.writeMem(0x5108, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x99c);
        EXPECT(gbc.pc(), 0x510a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 015F
        gbc.setState(0xfe7, 0xf0dd, 0x14d0, 0xe70a, 0x9824, 0xe251, 0x0, 0x1);
        gbc.writeMem(0xfe7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xf0dd);
        EXPECT(gbc.pc(), 0xfe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0160
        gbc.setState(0x6113, 0xf00d, 0xadf0, 0xe356, 0xb69a, 0xcccb, 0x1, 0x1);
        gbc.writeMem(0x6113, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf00d);
        EXPECT(gbc.pc(), 0x6115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0162
        gbc.setState(0x8493, 0x23d7, 0xc930, 0xbcc4, 0xcd8d, 0x5de4, 0x1, 0x0);
        gbc.writeMem(0x8493, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x23d7);
        EXPECT(gbc.pc(), 0x8495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8493), 0xcb);
        EXPECT(gbc.readMem(0x8494), 0x1f);
        // CB 1F 0163
        gbc.setState(0x29d1, 0x225b, 0xe1e0, 0x1a7a, 0x4f79, 0x7714, 0x1, 0x1);
        gbc.writeMem(0x29d1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x225b);
        EXPECT(gbc.pc(), 0x29d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0164
        gbc.setState(0x19e5, 0x60b0, 0xbb20, 0x23be, 0xa6d2, 0xfb58, 0x1, 0x1);
        gbc.writeMem(0x19e5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x60b0);
        EXPECT(gbc.pc(), 0x19e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0165
        gbc.setState(0x58f8, 0x5e8c, 0x3d30, 0x76e8, 0x1c64, 0x34f2, 0x1, 0x1);
        gbc.writeMem(0x58f8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5e8c);
        EXPECT(gbc.pc(), 0x58fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0166
        gbc.setState(0x2f10, 0x6d84, 0x5710, 0xc81f, 0x4fb9, 0x20a3, 0x1, 0x0);
        gbc.writeMem(0x2f10, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6d84);
        EXPECT(gbc.pc(), 0x2f12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0167
        gbc.setState(0xaeba, 0x3334, 0x9a70, 0xe358, 0x9b7e, 0x1dd8, 0x0, 0x0);
        gbc.writeMem(0xaeba, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x3334);
        EXPECT(gbc.pc(), 0xaebc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeba), 0xcb);
        EXPECT(gbc.readMem(0xaebb), 0x1f);
        // CB 1F 0168
        gbc.setState(0x8501, 0xb9f2, 0xa690, 0xe3e5, 0xdaae, 0x5a74, 0x0, 0x1);
        gbc.writeMem(0x8501, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb9f2);
        EXPECT(gbc.pc(), 0x8503);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8501), 0xcb);
        EXPECT(gbc.readMem(0x8502), 0x1f);
        // CB 1F 0169
        gbc.setState(0xe062, 0x8042, 0x5a20, 0x3289, 0xf152, 0xdbbd, 0x1, 0x0);
        gbc.writeMem(0xe062, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x8042);
        EXPECT(gbc.pc(), 0xe064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe062), 0xcb);
        EXPECT(gbc.readMem(0xe063), 0x1f);
        // CB 1F 016A
        gbc.setState(0x4ac0, 0xccca, 0x1350, 0x387a, 0x56cc, 0xb1bb, 0x0, 0x1);
        gbc.writeMem(0x4ac0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xccca);
        EXPECT(gbc.pc(), 0x4ac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 016B
        gbc.setState(0xa81d, 0xaf74, 0x2cc0, 0x8717, 0xc854, 0x4dda, 0x0, 0x0);
        gbc.writeMem(0xa81d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xaf74);
        EXPECT(gbc.pc(), 0xa81f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa81d), 0xcb);
        EXPECT(gbc.readMem(0xa81e), 0x1f);
        // CB 1F 016C
        gbc.setState(0x53fe, 0x2a38, 0xb4a0, 0x4397, 0xa69c, 0x1824, 0x0, 0x1);
        gbc.writeMem(0x53fe, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2a38);
        EXPECT(gbc.pc(), 0x5400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 016E
        gbc.setState(0x86fc, 0x5daa, 0x270, 0xf580, 0x2aab, 0xb5a2, 0x1, 0x0);
        gbc.writeMem(0x86fc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5daa);
        EXPECT(gbc.pc(), 0x86fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86fc), 0xcb);
        EXPECT(gbc.readMem(0x86fd), 0x1f);
        // CB 1F 016F
        gbc.setState(0x2fb5, 0xeafd, 0x3d50, 0x8ff9, 0xb9a9, 0x8cfd, 0x1, 0x1);
        gbc.writeMem(0x2fb5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xeafd);
        EXPECT(gbc.pc(), 0x2fb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0170
        gbc.setState(0x9ab, 0xa675, 0x8cf0, 0xd57, 0x617c, 0xd52f, 0x1, 0x0);
        gbc.writeMem(0x9ab, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa675);
        EXPECT(gbc.pc(), 0x9ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0171
        gbc.setState(0x622, 0xd401, 0xdaf0, 0xade0, 0xe270, 0xddd6, 0x0, 0x0);
        gbc.writeMem(0x622, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd401);
        EXPECT(gbc.pc(), 0x624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0172
        gbc.setState(0xc6f7, 0x32b4, 0x4e00, 0x6ccf, 0xdfb, 0xbc7a, 0x0, 0x0);
        gbc.writeMem(0xc6f7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x32b4);
        EXPECT(gbc.pc(), 0xc6f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6f7), 0xcb);
        EXPECT(gbc.readMem(0xc6f8), 0x1f);
        // CB 1F 0173
        gbc.setState(0x96d1, 0x8ce9, 0x9910, 0x2eb8, 0xb2d, 0xe9f1, 0x0, 0x0);
        gbc.writeMem(0x96d1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8ce9);
        EXPECT(gbc.pc(), 0x96d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96d1), 0xcb);
        EXPECT(gbc.readMem(0x96d2), 0x1f);
        // CB 1F 0174
        gbc.setState(0xd2aa, 0xd4d8, 0x6c60, 0xe66, 0x2640, 0x5f7e, 0x1, 0x0);
        gbc.writeMem(0xd2aa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd4d8);
        EXPECT(gbc.pc(), 0xd2ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2aa), 0xcb);
        EXPECT(gbc.readMem(0xd2ab), 0x1f);
        // CB 1F 0175
        gbc.setState(0x3490, 0xdc6d, 0x1e0, 0x79ce, 0x3693, 0xdac8, 0x0, 0x0);
        gbc.writeMem(0x3490, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xdc6d);
        EXPECT(gbc.pc(), 0x3492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0176
        gbc.setState(0xd7b4, 0x1d20, 0xa100, 0xa04, 0x222c, 0x872c, 0x0, 0x0);
        gbc.writeMem(0xd7b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x1d20);
        EXPECT(gbc.pc(), 0xd7b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7b4), 0xcb);
        EXPECT(gbc.readMem(0xd7b5), 0x1f);
        // CB 1F 0177
        gbc.setState(0xbe85, 0x78c0, 0xc230, 0xecd4, 0xa7e9, 0xe08c, 0x0, 0x0);
        gbc.writeMem(0xbe85, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x78c0);
        EXPECT(gbc.pc(), 0xbe87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe85), 0xcb);
        EXPECT(gbc.readMem(0xbe86), 0x1f);
        // CB 1F 0178
        gbc.setState(0x1bba, 0xfdb2, 0x3080, 0x5e63, 0x9bf1, 0xe4ad, 0x1, 0x0);
        gbc.writeMem(0x1bba, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xfdb2);
        EXPECT(gbc.pc(), 0x1bbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0179
        gbc.setState(0x372d, 0xbed1, 0xf3e0, 0xd541, 0xff9d, 0xebe8, 0x0, 0x1);
        gbc.writeMem(0x372d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xbed1);
        EXPECT(gbc.pc(), 0x372f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 017A
        gbc.setState(0x7cca, 0x7d21, 0x640, 0x3119, 0xe15e, 0x3ccd, 0x1, 0x0);
        gbc.writeMem(0x7cca, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7d21);
        EXPECT(gbc.pc(), 0x7ccc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 017B
        gbc.setState(0x411c, 0x498a, 0xb1d0, 0xc64f, 0xec20, 0x5e00, 0x1, 0x1);
        gbc.writeMem(0x411c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x498a);
        EXPECT(gbc.pc(), 0x411e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 017C
        gbc.setState(0x605f, 0xa250, 0x7890, 0x1786, 0x88a6, 0x651, 0x1, 0x0);
        gbc.writeMem(0x605f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xa250);
        EXPECT(gbc.pc(), 0x6061);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 017D
        gbc.setState(0x8856, 0x50c7, 0x9aa0, 0x8ae0, 0x331f, 0x165f, 0x1, 0x0);
        gbc.writeMem(0x8856, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x50c7);
        EXPECT(gbc.pc(), 0x8858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8856), 0xcb);
        EXPECT(gbc.readMem(0x8857), 0x1f);
        // CB 1F 017E
        gbc.setState(0x2b2b, 0xcdfa, 0x6190, 0xcf3f, 0x3dd7, 0xd286, 0x0, 0x1);
        gbc.writeMem(0x2b2b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xcdfa);
        EXPECT(gbc.pc(), 0x2b2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 017F
        gbc.setState(0xe122, 0x2c0a, 0x19f0, 0x78fc, 0x36e4, 0x5632, 0x0, 0x0);
        gbc.writeMem(0xe122, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2c0a);
        EXPECT(gbc.pc(), 0xe124);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe122), 0xcb);
        EXPECT(gbc.readMem(0xe123), 0x1f);
        // CB 1F 0180
        gbc.setState(0x73bf, 0xbcf8, 0xfa30, 0x1c65, 0x993a, 0x96ce, 0x0, 0x0);
        gbc.writeMem(0x73bf, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xbcf8);
        EXPECT(gbc.pc(), 0x73c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0181
        gbc.setState(0xa0c3, 0x9688, 0x960, 0xc09d, 0x8f62, 0x64aa, 0x1, 0x0);
        gbc.writeMem(0xa0c3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9688);
        EXPECT(gbc.pc(), 0xa0c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0c3), 0xcb);
        EXPECT(gbc.readMem(0xa0c4), 0x1f);
        // CB 1F 0182
        gbc.setState(0xcf6c, 0x2b88, 0x8a60, 0x21b, 0x6741, 0xca20, 0x1, 0x1);
        gbc.writeMem(0xcf6c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2b88);
        EXPECT(gbc.pc(), 0xcf6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf6c), 0xcb);
        EXPECT(gbc.readMem(0xcf6d), 0x1f);
        // CB 1F 0183
        gbc.setState(0x8c1e, 0x7301, 0x7d70, 0x2fe4, 0xc1fa, 0xcf01, 0x1, 0x1);
        gbc.writeMem(0x8c1e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7301);
        EXPECT(gbc.pc(), 0x8c20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c1e), 0xcb);
        EXPECT(gbc.readMem(0x8c1f), 0x1f);
        // CB 1F 0184
        gbc.setState(0x5320, 0x304c, 0x8730, 0xee5b, 0x1866, 0xdd15, 0x1, 0x0);
        gbc.writeMem(0x5320, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x304c);
        EXPECT(gbc.pc(), 0x5322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0185
        gbc.setState(0x9362, 0xcae1, 0x5930, 0xea39, 0xdc35, 0x63fb, 0x0, 0x1);
        gbc.writeMem(0x9362, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcae1);
        EXPECT(gbc.pc(), 0x9364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9362), 0xcb);
        EXPECT(gbc.readMem(0x9363), 0x1f);
        // CB 1F 0186
        gbc.setState(0x89f, 0xedd7, 0x2240, 0x3d9, 0x20eb, 0xfff6, 0x1, 0x0);
        gbc.writeMem(0x89f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xedd7);
        EXPECT(gbc.pc(), 0x8a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0187
        gbc.setState(0x99a, 0xabcd, 0xb770, 0x6b25, 0x7179, 0x3b98, 0x1, 0x0);
        gbc.writeMem(0x99a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xabcd);
        EXPECT(gbc.pc(), 0x99c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0189
        gbc.setState(0x9ba0, 0x6472, 0x2f00, 0xe2c3, 0x25bc, 0xe75c, 0x0, 0x0);
        gbc.writeMem(0x9ba0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x6472);
        EXPECT(gbc.pc(), 0x9ba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ba0), 0xcb);
        EXPECT(gbc.readMem(0x9ba1), 0x1f);
        // CB 1F 018A
        gbc.setState(0xf8b, 0x5934, 0xad00, 0xaf5b, 0xf465, 0x538d, 0x1, 0x0);
        gbc.writeMem(0xf8b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5934);
        EXPECT(gbc.pc(), 0xf8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 018B
        gbc.setState(0x5d85, 0xa959, 0x4f50, 0xf7e3, 0x8e4f, 0x3275, 0x1, 0x0);
        gbc.writeMem(0x5d85, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa959);
        EXPECT(gbc.pc(), 0x5d87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 018C
        gbc.setState(0xfc5, 0x23ee, 0xfe60, 0xb8eb, 0x5929, 0x8274, 0x0, 0x0);
        gbc.writeMem(0xfc5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x23ee);
        EXPECT(gbc.pc(), 0xfc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 018D
        gbc.setState(0x3bda, 0x3941, 0x3cc0, 0x3448, 0xb983, 0x6c65, 0x1, 0x1);
        gbc.writeMem(0x3bda, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3941);
        EXPECT(gbc.pc(), 0x3bdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 018E
        gbc.setState(0x56a5, 0x3af5, 0x7ee0, 0x40ff, 0x7605, 0x4fb9, 0x0, 0x1);
        gbc.writeMem(0x56a5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3af5);
        EXPECT(gbc.pc(), 0x56a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 018F
        gbc.setState(0x8c53, 0x11e9, 0xc6f0, 0x56b4, 0x1110, 0x8c50, 0x0, 0x0);
        gbc.writeMem(0x8c53, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x11e9);
        EXPECT(gbc.pc(), 0x8c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c53), 0xcb);
        EXPECT(gbc.readMem(0x8c54), 0x1f);
        // CB 1F 0190
        gbc.setState(0x419, 0x2320, 0x9720, 0xa2c6, 0x5218, 0x768f, 0x1, 0x0);
        gbc.writeMem(0x419, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2320);
        EXPECT(gbc.pc(), 0x41b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0191
        gbc.setState(0x8672, 0x2dd, 0x2a10, 0xa6be, 0x1b4c, 0x9cf7, 0x0, 0x0);
        gbc.writeMem(0x8672, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2dd);
        EXPECT(gbc.pc(), 0x8674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8672), 0xcb);
        EXPECT(gbc.readMem(0x8673), 0x1f);
        // CB 1F 0192
        gbc.setState(0xec59, 0xcc23, 0x97c0, 0xc2fb, 0x83a5, 0xeb42, 0x0, 0x0);
        gbc.writeMem(0xec59, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xcc23);
        EXPECT(gbc.pc(), 0xec5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec59), 0xcb);
        EXPECT(gbc.readMem(0xec5a), 0x1f);
        // CB 1F 0193
        gbc.setState(0x8dd5, 0xa256, 0x720, 0xbf9f, 0x9685, 0x8f36, 0x1, 0x0);
        gbc.writeMem(0x8dd5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa256);
        EXPECT(gbc.pc(), 0x8dd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dd5), 0xcb);
        EXPECT(gbc.readMem(0x8dd6), 0x1f);
        // CB 1F 0194
        gbc.setState(0xd041, 0xb651, 0x7240, 0xf079, 0x198, 0x9bb2, 0x1, 0x1);
        gbc.writeMem(0xd041, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb651);
        EXPECT(gbc.pc(), 0xd043);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd041), 0xcb);
        EXPECT(gbc.readMem(0xd042), 0x1f);
        // CB 1F 0195
        gbc.setState(0x1d07, 0xe481, 0xb100, 0xd7a5, 0x76cf, 0xca2f, 0x0, 0x0);
        gbc.writeMem(0x1d07, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe481);
        EXPECT(gbc.pc(), 0x1d09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0196
        gbc.setState(0x3b1b, 0x2b83, 0x80a0, 0x9227, 0xb4f2, 0x8aff, 0x0, 0x0);
        gbc.writeMem(0x3b1b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2b83);
        EXPECT(gbc.pc(), 0x3b1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0197
        gbc.setState(0xcf09, 0x97b1, 0x10b0, 0x539f, 0x23d0, 0x4fb3, 0x0, 0x0);
        gbc.writeMem(0xcf09, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x97b1);
        EXPECT(gbc.pc(), 0xcf0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf09), 0xcb);
        EXPECT(gbc.readMem(0xcf0a), 0x1f);
        // CB 1F 0198
        gbc.setState(0x6632, 0x4b5e, 0x50f0, 0xbe6d, 0xb856, 0x5537, 0x1, 0x0);
        gbc.writeMem(0x6632, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4b5e);
        EXPECT(gbc.pc(), 0x6634);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0199
        gbc.setState(0x992f, 0xd8e5, 0x4890, 0x60ee, 0x3977, 0xd9a0, 0x0, 0x1);
        gbc.writeMem(0x992f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd8e5);
        EXPECT(gbc.pc(), 0x9931);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992f), 0xcb);
        EXPECT(gbc.readMem(0x9930), 0x1f);
        // CB 1F 019A
        gbc.setState(0xc373, 0x2141, 0xa3a0, 0x6d57, 0xee37, 0x4e4b, 0x0, 0x1);
        gbc.writeMem(0xc373, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2141);
        EXPECT(gbc.pc(), 0xc375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc373), 0xcb);
        EXPECT(gbc.readMem(0xc374), 0x1f);
        // CB 1F 019B
        gbc.setState(0xa013, 0xdb52, 0x6180, 0x69aa, 0x76d5, 0xc437, 0x1, 0x0);
        gbc.writeMem(0xa013, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xdb52);
        EXPECT(gbc.pc(), 0xa015);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa013), 0xcb);
        EXPECT(gbc.readMem(0xa014), 0x1f);
        // CB 1F 019C
        gbc.setState(0x6388, 0x7900, 0x6ac0, 0x3318, 0xd614, 0x7c12, 0x1, 0x1);
        gbc.writeMem(0x6388, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7900);
        EXPECT(gbc.pc(), 0x638a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 019D
        gbc.setState(0x6145, 0x6b3, 0x6760, 0xd05a, 0x4611, 0x409b, 0x1, 0x0);
        gbc.writeMem(0x6145, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6b3);
        EXPECT(gbc.pc(), 0x6147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 019E
        gbc.setState(0x1310, 0x8a6c, 0x2320, 0x6919, 0xfb2f, 0x448d, 0x0, 0x0);
        gbc.writeMem(0x1310, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8a6c);
        EXPECT(gbc.pc(), 0x1312);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 019F
        gbc.setState(0x9d65, 0xd11b, 0xb750, 0xf834, 0x9be9, 0x12e7, 0x0, 0x1);
        gbc.writeMem(0x9d65, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd11b);
        EXPECT(gbc.pc(), 0x9d67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d65), 0xcb);
        EXPECT(gbc.readMem(0x9d66), 0x1f);
        // CB 1F 01A0
        gbc.setState(0xcb22, 0x3853, 0x4b60, 0x6d93, 0xfc65, 0x6ad, 0x0, 0x0);
        gbc.writeMem(0xcb22, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3853);
        EXPECT(gbc.pc(), 0xcb24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb22), 0xcb);
        EXPECT(gbc.readMem(0xcb23), 0x1f);
        // CB 1F 01A1
        gbc.setState(0x874f, 0x1446, 0x22e0, 0x4425, 0x4e68, 0x2220, 0x1, 0x1);
        gbc.writeMem(0x874f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x1446);
        EXPECT(gbc.pc(), 0x8751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x874f), 0xcb);
        EXPECT(gbc.readMem(0x8750), 0x1f);
        // CB 1F 01A2
        gbc.setState(0xc81e, 0xeee9, 0xeae0, 0xd4d4, 0x4bd2, 0x9a10, 0x1, 0x1);
        gbc.writeMem(0xc81e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xeee9);
        EXPECT(gbc.pc(), 0xc820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc81e), 0xcb);
        EXPECT(gbc.readMem(0xc81f), 0x1f);
        // CB 1F 01A4
        gbc.setState(0x9ec8, 0x38ec, 0xfc0, 0xf63f, 0x38f3, 0x38a2, 0x1, 0x0);
        gbc.writeMem(0x9ec8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x38ec);
        EXPECT(gbc.pc(), 0x9eca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec8), 0xcb);
        EXPECT(gbc.readMem(0x9ec9), 0x1f);
        // CB 1F 01A5
        gbc.setState(0xae48, 0x298a, 0x5dd0, 0x2caa, 0xc5a, 0x1a50, 0x1, 0x1);
        gbc.writeMem(0xae48, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x298a);
        EXPECT(gbc.pc(), 0xae4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae48), 0xcb);
        EXPECT(gbc.readMem(0xae49), 0x1f);
        // CB 1F 01A6
        gbc.setState(0x38d5, 0xb9b4, 0x3010, 0xa4a0, 0x7cce, 0x2ba4, 0x0, 0x0);
        gbc.writeMem(0x38d5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb9b4);
        EXPECT(gbc.pc(), 0x38d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01A7
        gbc.setState(0x4fc5, 0x52eb, 0x45f0, 0xb1a9, 0xbcb6, 0xc73d, 0x1, 0x0);
        gbc.writeMem(0x4fc5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x52eb);
        EXPECT(gbc.pc(), 0x4fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01A8
        gbc.setState(0x9fd3, 0x8cfe, 0xf130, 0x5a0f, 0xede1, 0xb683, 0x0, 0x0);
        gbc.writeMem(0x9fd3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8cfe);
        EXPECT(gbc.pc(), 0x9fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd3), 0xcb);
        EXPECT(gbc.readMem(0x9fd4), 0x1f);
        // CB 1F 01A9
        gbc.setState(0x3724, 0xd9fd, 0x7280, 0x9915, 0x65ba, 0x9bd8, 0x0, 0x0);
        gbc.writeMem(0x3724, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd9fd);
        EXPECT(gbc.pc(), 0x3726);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01AA
        gbc.setState(0x9e76, 0x1e61, 0x28d0, 0x6921, 0x8000, 0xc47c, 0x0, 0x1);
        gbc.writeMem(0x9e76, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x1e61);
        EXPECT(gbc.pc(), 0x9e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e76), 0xcb);
        EXPECT(gbc.readMem(0x9e77), 0x1f);
        // CB 1F 01AB
        gbc.setState(0x7ac6, 0x6832, 0x95e0, 0x9062, 0xe255, 0x99cd, 0x0, 0x1);
        gbc.writeMem(0x7ac6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x6832);
        EXPECT(gbc.pc(), 0x7ac8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01AC
        gbc.setState(0xd526, 0x3889, 0xb7e0, 0x67a3, 0x7d6e, 0xfde5, 0x1, 0x0);
        gbc.writeMem(0xd526, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3889);
        EXPECT(gbc.pc(), 0xd528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd526), 0xcb);
        EXPECT(gbc.readMem(0xd527), 0x1f);
        // CB 1F 01AD
        gbc.setState(0xd290, 0x7a70, 0x53c0, 0xb118, 0x9b73, 0x99c, 0x0, 0x0);
        gbc.writeMem(0xd290, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x7a70);
        EXPECT(gbc.pc(), 0xd292);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd290), 0xcb);
        EXPECT(gbc.readMem(0xd291), 0x1f);
        // CB 1F 01AE
        gbc.setState(0x454f, 0xbdea, 0xd290, 0xab03, 0x816e, 0xb113, 0x1, 0x1);
        gbc.writeMem(0x454f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbdea);
        EXPECT(gbc.pc(), 0x4551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01B0
        gbc.setState(0x9e4d, 0x3aae, 0xa2a0, 0x3178, 0xc19b, 0xa91f, 0x1, 0x0);
        gbc.writeMem(0x9e4d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3aae);
        EXPECT(gbc.pc(), 0x9e4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e4d), 0xcb);
        EXPECT(gbc.readMem(0x9e4e), 0x1f);
        // CB 1F 01B2
        gbc.setState(0x2ba1, 0xd864, 0x5b00, 0xa8a2, 0x38f6, 0x22ba, 0x1, 0x1);
        gbc.writeMem(0x2ba1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd864);
        EXPECT(gbc.pc(), 0x2ba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01B3
        gbc.setState(0x7e49, 0x375, 0x5a60, 0xf09c, 0x547d, 0x8718, 0x1, 0x1);
        gbc.writeMem(0x7e49, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x375);
        EXPECT(gbc.pc(), 0x7e4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01B4
        gbc.setState(0x37b7, 0xca42, 0xdcf0, 0x57b0, 0xa24d, 0x972, 0x1, 0x1);
        gbc.writeMem(0x37b7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xca42);
        EXPECT(gbc.pc(), 0x37b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01B5
        gbc.setState(0x3edb, 0x25b4, 0xc5f0, 0xa5ac, 0xbb3a, 0xae9, 0x1, 0x0);
        gbc.writeMem(0x3edb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x25b4);
        EXPECT(gbc.pc(), 0x3edd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01B6
        gbc.setState(0x866f, 0xbcbd, 0x6790, 0xf5d5, 0x4b2a, 0xb276, 0x0, 0x0);
        gbc.writeMem(0x866f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xbcbd);
        EXPECT(gbc.pc(), 0x8671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x866f), 0xcb);
        EXPECT(gbc.readMem(0x8670), 0x1f);
        // CB 1F 01B7
        gbc.setState(0x18a9, 0x281e, 0x4e50, 0x7020, 0x92db, 0xd361, 0x1, 0x1);
        gbc.writeMem(0x18a9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x281e);
        EXPECT(gbc.pc(), 0x18ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01B9
        gbc.setState(0xb83c, 0x4245, 0xf280, 0x488, 0xb1f8, 0x8a92, 0x1, 0x0);
        gbc.writeMem(0xb83c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4245);
        EXPECT(gbc.pc(), 0xb83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb83c), 0xcb);
        EXPECT(gbc.readMem(0xb83d), 0x1f);
        // CB 1F 01BA
        gbc.setState(0xbf96, 0xa786, 0x7be0, 0xab74, 0xd6e9, 0xa388, 0x0, 0x0);
        gbc.writeMem(0xbf96, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa786);
        EXPECT(gbc.pc(), 0xbf98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf96), 0xcb);
        EXPECT(gbc.readMem(0xbf97), 0x1f);
        // CB 1F 01BB
        gbc.setState(0x7c53, 0x3fd7, 0xbb60, 0x3337, 0x848e, 0x7f53, 0x0, 0x1);
        gbc.writeMem(0x7c53, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3fd7);
        EXPECT(gbc.pc(), 0x7c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01BC
        gbc.setState(0x9d70, 0xfb60, 0xbaf0, 0xaf3e, 0x5dff, 0x2dac, 0x0, 0x1);
        gbc.writeMem(0x9d70, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xfb60);
        EXPECT(gbc.pc(), 0x9d72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d70), 0xcb);
        EXPECT(gbc.readMem(0x9d71), 0x1f);
        // CB 1F 01BD
        gbc.setState(0x1f9c, 0xb970, 0x520, 0x893d, 0xfbf4, 0x601f, 0x0, 0x1);
        gbc.writeMem(0x1f9c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb970);
        EXPECT(gbc.pc(), 0x1f9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01BE
        gbc.setState(0x4e85, 0xf5b, 0x9780, 0x88db, 0xc106, 0x7a71, 0x1, 0x1);
        gbc.writeMem(0x4e85, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf5b);
        EXPECT(gbc.pc(), 0x4e87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01BF
        gbc.setState(0x83d6, 0xefdb, 0xb990, 0xe2d9, 0xa48d, 0xff3d, 0x0, 0x1);
        gbc.writeMem(0x83d6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xefdb);
        EXPECT(gbc.pc(), 0x83d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83d6), 0xcb);
        EXPECT(gbc.readMem(0x83d7), 0x1f);
        // CB 1F 01C0
        gbc.setState(0xc165, 0xf296, 0x1a0, 0xa979, 0x9438, 0x2297, 0x0, 0x1);
        gbc.writeMem(0xc165, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf296);
        EXPECT(gbc.pc(), 0xc167);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc165), 0xcb);
        EXPECT(gbc.readMem(0xc166), 0x1f);
        // CB 1F 01C1
        gbc.setState(0x3039, 0x27bb, 0x4ae0, 0x8aa0, 0x429b, 0x40b6, 0x0, 0x0);
        gbc.writeMem(0x3039, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x27bb);
        EXPECT(gbc.pc(), 0x303b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01C2
        gbc.setState(0xced, 0x9065, 0xecc0, 0xf7ec, 0x4bb1, 0x174c, 0x1, 0x0);
        gbc.writeMem(0xced, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x9065);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01C3
        gbc.setState(0x7793, 0x8752, 0xe030, 0xf0e3, 0x743a, 0x6180, 0x1, 0x1);
        gbc.writeMem(0x7793, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8752);
        EXPECT(gbc.pc(), 0x7795);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01C4
        gbc.setState(0x2261, 0xd14d, 0x6ff0, 0x8b80, 0xd43, 0xa661, 0x1, 0x0);
        gbc.writeMem(0x2261, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd14d);
        EXPECT(gbc.pc(), 0x2263);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01C5
        gbc.setState(0x6dd1, 0x1a5f, 0xe770, 0x3f08, 0xd9dc, 0xd358, 0x0, 0x0);
        gbc.writeMem(0x6dd1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1a5f);
        EXPECT(gbc.pc(), 0x6dd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01C6
        gbc.setState(0x387b, 0x148c, 0x5120, 0xdab0, 0xee4f, 0x7900, 0x0, 0x0);
        gbc.writeMem(0x387b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x148c);
        EXPECT(gbc.pc(), 0x387d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01C7
        gbc.setState(0xd64f, 0xec7f, 0xf7e0, 0x3e79, 0xc27a, 0x828, 0x0, 0x1);
        gbc.writeMem(0xd64f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xec7f);
        EXPECT(gbc.pc(), 0xd651);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd64f), 0xcb);
        EXPECT(gbc.readMem(0xd650), 0x1f);
        // CB 1F 01C8
        gbc.setState(0x48b5, 0x70dc, 0x1d10, 0x5ec7, 0xc05d, 0x2177, 0x0, 0x0);
        gbc.writeMem(0x48b5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x70dc);
        EXPECT(gbc.pc(), 0x48b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01C9
        gbc.setState(0x83d7, 0xb8d0, 0x2290, 0x4449, 0xa6e3, 0xd42c, 0x0, 0x0);
        gbc.writeMem(0x83d7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb8d0);
        EXPECT(gbc.pc(), 0x83d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d7), 0xcb);
        EXPECT(gbc.readMem(0x83d8), 0x1f);
        // CB 1F 01CA
        gbc.setState(0x47bd, 0xd219, 0x6ea0, 0x8e7d, 0x26c6, 0xdf15, 0x1, 0x0);
        gbc.writeMem(0x47bd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd219);
        EXPECT(gbc.pc(), 0x47bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01CB
        gbc.setState(0x99b5, 0xba97, 0x8db0, 0xd201, 0x6522, 0xcb80, 0x0, 0x0);
        gbc.writeMem(0x99b5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xba97);
        EXPECT(gbc.pc(), 0x99b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99b5), 0xcb);
        EXPECT(gbc.readMem(0x99b6), 0x1f);
        // CB 1F 01CC
        gbc.setState(0x5201, 0x4b1, 0x6fd0, 0x9a36, 0xeff6, 0xde64, 0x0, 0x1);
        gbc.writeMem(0x5201, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4b1);
        EXPECT(gbc.pc(), 0x5203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01CE
        gbc.setState(0x9e14, 0x4ec8, 0x1920, 0x3cdd, 0x603, 0xab5c, 0x0, 0x0);
        gbc.writeMem(0x9e14, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x4ec8);
        EXPECT(gbc.pc(), 0x9e16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e14), 0xcb);
        EXPECT(gbc.readMem(0x9e15), 0x1f);
        // CB 1F 01CF
        gbc.setState(0xa4ba, 0x446b, 0x9540, 0x1c8d, 0x415b, 0x3f14, 0x1, 0x0);
        gbc.writeMem(0xa4ba, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x446b);
        EXPECT(gbc.pc(), 0xa4bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ba), 0xcb);
        EXPECT(gbc.readMem(0xa4bb), 0x1f);
        // CB 1F 01D0
        gbc.setState(0xc12f, 0xf83f, 0x99d0, 0xb4f6, 0xf35c, 0x62aa, 0x1, 0x0);
        gbc.writeMem(0xc12f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf83f);
        EXPECT(gbc.pc(), 0xc131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc12f), 0xcb);
        EXPECT(gbc.readMem(0xc130), 0x1f);
        // CB 1F 01D2
        gbc.setState(0x92f2, 0xf4ab, 0xab10, 0x5c9a, 0xd2f0, 0xe4a4, 0x1, 0x1);
        gbc.writeMem(0x92f2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf4ab);
        EXPECT(gbc.pc(), 0x92f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92f2), 0xcb);
        EXPECT(gbc.readMem(0x92f3), 0x1f);
        // CB 1F 01D3
        gbc.setState(0xd23c, 0xb8d0, 0x8180, 0xaf83, 0x6c0f, 0xc0da, 0x0, 0x0);
        gbc.writeMem(0xd23c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb8d0);
        EXPECT(gbc.pc(), 0xd23e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd23c), 0xcb);
        EXPECT(gbc.readMem(0xd23d), 0x1f);
        // CB 1F 01D4
        gbc.setState(0x741e, 0x7846, 0x7160, 0x4fe1, 0xf588, 0x4a9b, 0x0, 0x1);
        gbc.writeMem(0x741e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7846);
        EXPECT(gbc.pc(), 0x7420);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01D5
        gbc.setState(0x88fa, 0x99e4, 0x66a0, 0x302f, 0xe39a, 0xcb1a, 0x1, 0x0);
        gbc.writeMem(0x88fa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x99e4);
        EXPECT(gbc.pc(), 0x88fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88fa), 0xcb);
        EXPECT(gbc.readMem(0x88fb), 0x1f);
        // CB 1F 01D6
        gbc.setState(0x17fc, 0x6a44, 0x880, 0xfdef, 0x33db, 0xf49c, 0x1, 0x0);
        gbc.writeMem(0x17fc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6a44);
        EXPECT(gbc.pc(), 0x17fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01D7
        gbc.setState(0x1055, 0xf575, 0xdc10, 0x126a, 0x9286, 0x9e99, 0x0, 0x0);
        gbc.writeMem(0x1055, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf575);
        EXPECT(gbc.pc(), 0x1057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01D9
        gbc.setState(0xebbb, 0x9b5e, 0xc7d0, 0x4142, 0xb464, 0xba1f, 0x1, 0x1);
        gbc.writeMem(0xebbb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x9b5e);
        EXPECT(gbc.pc(), 0xebbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebbb), 0xcb);
        EXPECT(gbc.readMem(0xebbc), 0x1f);
        // CB 1F 01DA
        gbc.setState(0x9f12, 0xb8a5, 0xf730, 0x13a4, 0x6909, 0x87a7, 0x0, 0x0);
        gbc.writeMem(0x9f12, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb8a5);
        EXPECT(gbc.pc(), 0x9f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f12), 0xcb);
        EXPECT(gbc.readMem(0x9f13), 0x1f);
        // CB 1F 01DB
        gbc.setState(0x1e10, 0x54eb, 0xb60, 0x9c42, 0xee7d, 0xd382, 0x1, 0x1);
        gbc.writeMem(0x1e10, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x54eb);
        EXPECT(gbc.pc(), 0x1e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01DC
        gbc.setState(0x5a0a, 0x69ff, 0x1d70, 0x2bd5, 0x91b, 0x4c15, 0x0, 0x0);
        gbc.writeMem(0x5a0a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x69ff);
        EXPECT(gbc.pc(), 0x5a0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01DD
        gbc.setState(0x7b6b, 0x8eb9, 0xad50, 0x7e22, 0xcb7f, 0x41b5, 0x1, 0x0);
        gbc.writeMem(0x7b6b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8eb9);
        EXPECT(gbc.pc(), 0x7b6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01DE
        gbc.setState(0x67a3, 0x5571, 0x9dd0, 0xa6dc, 0x7b3f, 0x9356, 0x0, 0x0);
        gbc.writeMem(0x67a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5571);
        EXPECT(gbc.pc(), 0x67a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01DF
        gbc.setState(0xed48, 0xa572, 0x41b0, 0x9921, 0x1d1d, 0x2c4c, 0x0, 0x1);
        gbc.writeMem(0xed48, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa572);
        EXPECT(gbc.pc(), 0xed4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed48), 0xcb);
        EXPECT(gbc.readMem(0xed49), 0x1f);
        // CB 1F 01E1
        gbc.setState(0x1546, 0x7ab7, 0x85e0, 0x6127, 0xd31c, 0xa382, 0x1, 0x0);
        gbc.writeMem(0x1546, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7ab7);
        EXPECT(gbc.pc(), 0x1548);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01E2
        gbc.setState(0x2d18, 0xea61, 0x2550, 0x519a, 0xa79, 0x7624, 0x1, 0x0);
        gbc.writeMem(0x2d18, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xea61);
        EXPECT(gbc.pc(), 0x2d1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01E3
        gbc.setState(0x94bc, 0x2355, 0x4030, 0xad66, 0x98c6, 0x164c, 0x0, 0x1);
        gbc.writeMem(0x94bc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2355);
        EXPECT(gbc.pc(), 0x94be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94bc), 0xcb);
        EXPECT(gbc.readMem(0x94bd), 0x1f);
        // CB 1F 01E4
        gbc.setState(0xdc1a, 0xca7e, 0xe7b0, 0x3abb, 0x9690, 0xe170, 0x1, 0x1);
        gbc.writeMem(0xdc1a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xca7e);
        EXPECT(gbc.pc(), 0xdc1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc1a), 0xcb);
        EXPECT(gbc.readMem(0xdc1b), 0x1f);
        // CB 1F 01E5
        gbc.setState(0x1e22, 0x98bf, 0xa290, 0xce45, 0xe78d, 0xc4b7, 0x0, 0x1);
        gbc.writeMem(0x1e22, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x98bf);
        EXPECT(gbc.pc(), 0x1e24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01E6
        gbc.setState(0x5ed, 0x4697, 0xb700, 0x95c4, 0x3709, 0xa946, 0x1, 0x1);
        gbc.writeMem(0x5ed, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4697);
        EXPECT(gbc.pc(), 0x5ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01E7
        gbc.setState(0x1035, 0x7f08, 0xfac0, 0xe3e9, 0xd7fc, 0x80ff, 0x0, 0x1);
        gbc.writeMem(0x1035, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7f08);
        EXPECT(gbc.pc(), 0x1037);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01E8
        gbc.setState(0x2b00, 0x6479, 0xcfb0, 0x74da, 0x4ee0, 0x9463, 0x1, 0x0);
        gbc.writeMem(0x2b00, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6479);
        EXPECT(gbc.pc(), 0x2b02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01E9
        gbc.setState(0x60ea, 0x2361, 0x5660, 0xbd6a, 0x1e40, 0x7ade, 0x0, 0x1);
        gbc.writeMem(0x60ea, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x2361);
        EXPECT(gbc.pc(), 0x60ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01EA
        gbc.setState(0xaddd, 0x785b, 0x90b0, 0x58c8, 0xc1e8, 0x6f48, 0x0, 0x1);
        gbc.writeMem(0xaddd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x785b);
        EXPECT(gbc.pc(), 0xaddf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaddd), 0xcb);
        EXPECT(gbc.readMem(0xadde), 0x1f);
        // CB 1F 01EB
        gbc.setState(0xd5ee, 0x53b4, 0xfd20, 0x6f33, 0x3661, 0x8090, 0x1, 0x0);
        gbc.writeMem(0xd5ee, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x53b4);
        EXPECT(gbc.pc(), 0xd5f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5ee), 0xcb);
        EXPECT(gbc.readMem(0xd5ef), 0x1f);
        // CB 1F 01EC
        gbc.setState(0x2e83, 0x6d01, 0xd740, 0x48cd, 0x19f2, 0x9b9f, 0x0, 0x0);
        gbc.writeMem(0x2e83, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6d01);
        EXPECT(gbc.pc(), 0x2e85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01ED
        gbc.setState(0x383, 0xdda2, 0xc2c0, 0x1072, 0x406d, 0xf1af, 0x0, 0x0);
        gbc.writeMem(0x383, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xdda2);
        EXPECT(gbc.pc(), 0x385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01EE
        gbc.setState(0xb5b8, 0xbd5d, 0x4320, 0xd6c0, 0xac90, 0xef6d, 0x0, 0x0);
        gbc.writeMem(0xb5b8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xbd5d);
        EXPECT(gbc.pc(), 0xb5ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5b8), 0xcb);
        EXPECT(gbc.readMem(0xb5b9), 0x1f);
        // CB 1F 01EF
        gbc.setState(0x5ba4, 0xca3c, 0x1200, 0xef3, 0x67db, 0x582c, 0x0, 0x0);
        gbc.writeMem(0x5ba4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xca3c);
        EXPECT(gbc.pc(), 0x5ba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01F0
        gbc.setState(0xa487, 0xa5fc, 0x84b0, 0xff77, 0xc895, 0x521e, 0x0, 0x1);
        gbc.writeMem(0xa487, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa5fc);
        EXPECT(gbc.pc(), 0xa489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa487), 0xcb);
        EXPECT(gbc.readMem(0xa488), 0x1f);
        // CB 1F 01F1
        gbc.setState(0xb24a, 0x1c6d, 0xc00, 0x764d, 0xa0d0, 0xb8cf, 0x1, 0x1);
        gbc.writeMem(0xb24a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1c6d);
        EXPECT(gbc.pc(), 0xb24c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb24a), 0xcb);
        EXPECT(gbc.readMem(0xb24b), 0x1f);
        // CB 1F 01F2
        gbc.setState(0x997b, 0xfb93, 0x2c80, 0xe8d7, 0xe3fe, 0x20a1, 0x0, 0x1);
        gbc.writeMem(0x997b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfb93);
        EXPECT(gbc.pc(), 0x997d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x997b), 0xcb);
        EXPECT(gbc.readMem(0x997c), 0x1f);
        // CB 1F 01F3
        gbc.setState(0x4a0a, 0xc53b, 0x5410, 0x78c3, 0xa9b1, 0x2787, 0x1, 0x1);
        gbc.writeMem(0x4a0a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc53b);
        EXPECT(gbc.pc(), 0x4a0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01F4
        gbc.setState(0xd3ee, 0x683c, 0x14c0, 0xbdf3, 0x9394, 0x4082, 0x0, 0x0);
        gbc.writeMem(0xd3ee, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x683c);
        EXPECT(gbc.pc(), 0xd3f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ee), 0xcb);
        EXPECT(gbc.readMem(0xd3ef), 0x1f);
        // CB 1F 01F5
        gbc.setState(0x284b, 0xba4f, 0x8b80, 0x65eb, 0xf929, 0x399c, 0x0, 0x1);
        gbc.writeMem(0x284b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xba4f);
        EXPECT(gbc.pc(), 0x284d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01F6
        gbc.setState(0x8b17, 0xbbed, 0x11f0, 0x7244, 0x2fa, 0xc7d0, 0x0, 0x1);
        gbc.writeMem(0x8b17, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbbed);
        EXPECT(gbc.pc(), 0x8b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b17), 0xcb);
        EXPECT(gbc.readMem(0x8b18), 0x1f);
        // CB 1F 01F7
        gbc.setState(0x3c0a, 0x52fb, 0x1a90, 0x5048, 0xa5b, 0x2a65, 0x0, 0x0);
        gbc.writeMem(0x3c0a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x52fb);
        EXPECT(gbc.pc(), 0x3c0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01F8
        gbc.setState(0xb846, 0x2bf5, 0xd5d0, 0x379b, 0x4aae, 0xe4d6, 0x0, 0x1);
        gbc.writeMem(0xb846, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2bf5);
        EXPECT(gbc.pc(), 0xb848);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb846), 0xcb);
        EXPECT(gbc.readMem(0xb847), 0x1f);
        // CB 1F 01F9
        gbc.setState(0xe236, 0xf7a3, 0x4230, 0x87c3, 0x39c0, 0x4174, 0x1, 0x1);
        gbc.writeMem(0xe236, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf7a3);
        EXPECT(gbc.pc(), 0xe238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe236), 0xcb);
        EXPECT(gbc.readMem(0xe237), 0x1f);
        // CB 1F 01FA
        gbc.setState(0x437a, 0x3f2f, 0xbd30, 0x5246, 0x5898, 0xaa86, 0x0, 0x1);
        gbc.writeMem(0x437a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3f2f);
        EXPECT(gbc.pc(), 0x437c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 01FB
        gbc.setState(0x55b3, 0x3621, 0x4e90, 0xe6c6, 0x25cc, 0xc42b, 0x1, 0x1);
        gbc.writeMem(0x55b3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3621);
        EXPECT(gbc.pc(), 0x55b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01FD
        gbc.setState(0xe2dc, 0xfabe, 0xc860, 0xd65a, 0x6abb, 0x4394, 0x0, 0x0);
        gbc.writeMem(0xe2dc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfabe);
        EXPECT(gbc.pc(), 0xe2de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2dc), 0xcb);
        EXPECT(gbc.readMem(0xe2dd), 0x1f);
        // CB 1F 01FE
        gbc.setState(0x39a, 0x4152, 0x200, 0x8b40, 0xf48e, 0x885d, 0x0, 0x0);
        gbc.writeMem(0x39a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4152);
        EXPECT(gbc.pc(), 0x39c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 01FF
        gbc.setState(0x4d4d, 0x5d61, 0x9c50, 0x12e4, 0x340e, 0x508c, 0x0, 0x0);
        gbc.writeMem(0x4d4d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x5d61);
        EXPECT(gbc.pc(), 0x4d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0200
        gbc.setState(0xd3c7, 0x4c69, 0x7e10, 0x9c7, 0x8f80, 0x7d91, 0x0, 0x1);
        gbc.writeMem(0xd3c7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4c69);
        EXPECT(gbc.pc(), 0xd3c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c7), 0xcb);
        EXPECT(gbc.readMem(0xd3c8), 0x1f);
        // CB 1F 0201
        gbc.setState(0xab19, 0x49bf, 0xd4e0, 0xbe0e, 0xb471, 0x1d87, 0x1, 0x0);
        gbc.writeMem(0xab19, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x49bf);
        EXPECT(gbc.pc(), 0xab1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab19), 0xcb);
        EXPECT(gbc.readMem(0xab1a), 0x1f);
        // CB 1F 0202
        gbc.setState(0xa10f, 0xd610, 0x44f0, 0x5419, 0xa87c, 0xa9b1, 0x0, 0x1);
        gbc.writeMem(0xa10f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd610);
        EXPECT(gbc.pc(), 0xa111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa10f), 0xcb);
        EXPECT(gbc.readMem(0xa110), 0x1f);
        // CB 1F 0204
        gbc.setState(0xa4ed, 0x9479, 0xc150, 0x6d10, 0x51d3, 0xa6ab, 0x1, 0x0);
        gbc.writeMem(0xa4ed, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9479);
        EXPECT(gbc.pc(), 0xa4ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ed), 0xcb);
        EXPECT(gbc.readMem(0xa4ee), 0x1f);
        // CB 1F 0205
        gbc.setState(0x7bb, 0x8fbd, 0x5580, 0x60db, 0x62df, 0x2158, 0x0, 0x1);
        gbc.writeMem(0x7bb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8fbd);
        EXPECT(gbc.pc(), 0x7bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0206
        gbc.setState(0x8de7, 0xf081, 0x4e0, 0x71e3, 0xcd35, 0xfcde, 0x0, 0x0);
        gbc.writeMem(0x8de7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf081);
        EXPECT(gbc.pc(), 0x8de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de7), 0xcb);
        EXPECT(gbc.readMem(0x8de8), 0x1f);
        // CB 1F 0207
        gbc.setState(0x4572, 0x6b74, 0xc750, 0x338c, 0xe5e2, 0xd8a3, 0x0, 0x0);
        gbc.writeMem(0x4572, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6b74);
        EXPECT(gbc.pc(), 0x4574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0208
        gbc.setState(0xe75e, 0xcb89, 0xa890, 0x359f, 0x237b, 0x60be, 0x0, 0x0);
        gbc.writeMem(0xe75e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcb89);
        EXPECT(gbc.pc(), 0xe760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe75e), 0xcb);
        EXPECT(gbc.readMem(0xe75f), 0x1f);
        // CB 1F 020A
        gbc.setState(0x5b19, 0xcff4, 0x39f0, 0x973e, 0xe04, 0xc694, 0x0, 0x1);
        gbc.writeMem(0x5b19, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xcff4);
        EXPECT(gbc.pc(), 0x5b1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 020B
        gbc.setState(0x19d, 0x50f7, 0xb7b0, 0xfe08, 0x1e5c, 0x28db, 0x1, 0x1);
        gbc.writeMem(0x19d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x50f7);
        EXPECT(gbc.pc(), 0x19f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 020C
        gbc.setState(0xc46d, 0xbf67, 0xa8d0, 0x413d, 0x6480, 0x23dc, 0x1, 0x0);
        gbc.writeMem(0xc46d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xbf67);
        EXPECT(gbc.pc(), 0xc46f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc46d), 0xcb);
        EXPECT(gbc.readMem(0xc46e), 0x1f);
        // CB 1F 020E
        gbc.setState(0xdf8a, 0x5e6e, 0xed30, 0x50a7, 0x2308, 0x9311, 0x1, 0x1);
        gbc.writeMem(0xdf8a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5e6e);
        EXPECT(gbc.pc(), 0xdf8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf8a), 0xcb);
        EXPECT(gbc.readMem(0xdf8b), 0x1f);
        // CB 1F 020F
        gbc.setState(0x6983, 0xaec9, 0x3a40, 0x91ee, 0x64e4, 0x89d7, 0x1, 0x1);
        gbc.writeMem(0x6983, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xaec9);
        EXPECT(gbc.pc(), 0x6985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0211
        gbc.setState(0xcd51, 0xc214, 0x7e60, 0x46a7, 0xdd15, 0xde7d, 0x1, 0x0);
        gbc.writeMem(0xcd51, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc214);
        EXPECT(gbc.pc(), 0xcd53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd51), 0xcb);
        EXPECT(gbc.readMem(0xcd52), 0x1f);
        // CB 1F 0212
        gbc.setState(0x40c4, 0x35ca, 0x9080, 0x144f, 0x6a5, 0x7f56, 0x1, 0x1);
        gbc.writeMem(0x40c4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x35ca);
        EXPECT(gbc.pc(), 0x40c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0213
        gbc.setState(0x41ef, 0xbf34, 0x5970, 0x4b6b, 0xc2a9, 0xbaed, 0x0, 0x1);
        gbc.writeMem(0x41ef, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xbf34);
        EXPECT(gbc.pc(), 0x41f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0214
        gbc.setState(0xe79f, 0x295e, 0x8320, 0x27a6, 0xef3f, 0xdd44, 0x0, 0x1);
        gbc.writeMem(0xe79f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x295e);
        EXPECT(gbc.pc(), 0xe7a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe79f), 0xcb);
        EXPECT(gbc.readMem(0xe7a0), 0x1f);
        // CB 1F 0215
        gbc.setState(0xe17a, 0x926f, 0x1a90, 0x7ea0, 0x6ff5, 0x3f4c, 0x1, 0x1);
        gbc.writeMem(0xe17a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x926f);
        EXPECT(gbc.pc(), 0xe17c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe17a), 0xcb);
        EXPECT(gbc.readMem(0xe17b), 0x1f);
        // CB 1F 0216
        gbc.setState(0x74e8, 0xd6eb, 0x420, 0xc163, 0xced1, 0xeaa6, 0x0, 0x0);
        gbc.writeMem(0x74e8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xd6eb);
        EXPECT(gbc.pc(), 0x74ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0217
        gbc.setState(0x6ccd, 0xee24, 0xc6b0, 0x2e58, 0xd73, 0xfd25, 0x0, 0x0);
        gbc.writeMem(0x6ccd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xee24);
        EXPECT(gbc.pc(), 0x6ccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0218
        gbc.setState(0x1915, 0x14fa, 0x99e0, 0x1b03, 0x802d, 0xfa00, 0x0, 0x1);
        gbc.writeMem(0x1915, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x14fa);
        EXPECT(gbc.pc(), 0x1917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0219
        gbc.setState(0x345b, 0xd9f, 0x5ff0, 0x6e71, 0x804, 0x9948, 0x0, 0x0);
        gbc.writeMem(0x345b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xd9f);
        EXPECT(gbc.pc(), 0x345d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 021A
        gbc.setState(0x4815, 0x8b4b, 0xbe50, 0x334c, 0x4a00, 0xb0d, 0x0, 0x0);
        gbc.writeMem(0x4815, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8b4b);
        EXPECT(gbc.pc(), 0x4817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 021B
        gbc.setState(0x2e5d, 0x898f, 0xe360, 0x246e, 0x760, 0xbc31, 0x1, 0x1);
        gbc.writeMem(0x2e5d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x898f);
        EXPECT(gbc.pc(), 0x2e5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 021C
        gbc.setState(0xe114, 0xaefb, 0x5b70, 0x77ad, 0x7af0, 0xed4d, 0x0, 0x0);
        gbc.writeMem(0xe114, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xaefb);
        EXPECT(gbc.pc(), 0xe116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe114), 0xcb);
        EXPECT(gbc.readMem(0xe115), 0x1f);
        // CB 1F 021D
        gbc.setState(0x13ce, 0x15fc, 0xff70, 0xbeac, 0x4426, 0xd16b, 0x1, 0x0);
        gbc.writeMem(0x13ce, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x15fc);
        EXPECT(gbc.pc(), 0x13d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 021E
        gbc.setState(0x7367, 0x13e9, 0x1d00, 0x2e96, 0xdd62, 0x3f3, 0x1, 0x1);
        gbc.writeMem(0x7367, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x13e9);
        EXPECT(gbc.pc(), 0x7369);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 021F
        gbc.setState(0x1516, 0xb231, 0x43e0, 0xc508, 0x8212, 0xa0ce, 0x1, 0x0);
        gbc.writeMem(0x1516, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb231);
        EXPECT(gbc.pc(), 0x1518);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0220
        gbc.setState(0xbf47, 0x32eb, 0xa4c0, 0xe8fd, 0x22db, 0x9d53, 0x0, 0x0);
        gbc.writeMem(0xbf47, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x32eb);
        EXPECT(gbc.pc(), 0xbf49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf47), 0xcb);
        EXPECT(gbc.readMem(0xbf48), 0x1f);
        // CB 1F 0221
        gbc.setState(0x2c0f, 0xef8d, 0x25a0, 0xe5a9, 0xfc7f, 0x28d2, 0x0, 0x0);
        gbc.writeMem(0x2c0f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xef8d);
        EXPECT(gbc.pc(), 0x2c11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0222
        gbc.setState(0x22fe, 0x1c38, 0x5780, 0x1096, 0xc989, 0x1877, 0x0, 0x1);
        gbc.writeMem(0x22fe, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1c38);
        EXPECT(gbc.pc(), 0x2300);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0223
        gbc.setState(0xda40, 0x2df5, 0x74a0, 0xd041, 0x255b, 0xf6c4, 0x0, 0x0);
        gbc.writeMem(0xda40, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2df5);
        EXPECT(gbc.pc(), 0xda42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda40), 0xcb);
        EXPECT(gbc.readMem(0xda41), 0x1f);
        // CB 1F 0224
        gbc.setState(0xc473, 0xd305, 0x4da0, 0xdf9f, 0xf862, 0x2f7d, 0x0, 0x0);
        gbc.writeMem(0xc473, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd305);
        EXPECT(gbc.pc(), 0xc475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc473), 0xcb);
        EXPECT(gbc.readMem(0xc474), 0x1f);
        // CB 1F 0225
        gbc.setState(0x7c78, 0x9a91, 0xa680, 0x5b54, 0x6436, 0xf847, 0x0, 0x0);
        gbc.writeMem(0x7c78, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9a91);
        EXPECT(gbc.pc(), 0x7c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0226
        gbc.setState(0xb137, 0x5c2b, 0x9690, 0xb614, 0xb1a2, 0x9ce9, 0x0, 0x1);
        gbc.writeMem(0xb137, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5c2b);
        EXPECT(gbc.pc(), 0xb139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb137), 0xcb);
        EXPECT(gbc.readMem(0xb138), 0x1f);
        // CB 1F 0227
        gbc.setState(0x355, 0x4c37, 0x4030, 0x6888, 0x4ad1, 0xbe5f, 0x1, 0x1);
        gbc.writeMem(0x355, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4c37);
        EXPECT(gbc.pc(), 0x357);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0228
        gbc.setState(0x40e7, 0xd70e, 0x9290, 0xc20b, 0xe4d6, 0x9e5b, 0x1, 0x0);
        gbc.writeMem(0x40e7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xd70e);
        EXPECT(gbc.pc(), 0x40e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0229
        gbc.setState(0xed7b, 0xc658, 0x9b60, 0x75ca, 0xda44, 0x5b99, 0x0, 0x1);
        gbc.writeMem(0xed7b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xc658);
        EXPECT(gbc.pc(), 0xed7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed7b), 0xcb);
        EXPECT(gbc.readMem(0xed7c), 0x1f);
        // CB 1F 022A
        gbc.setState(0x8e21, 0xe922, 0xaf50, 0x2932, 0x3a7a, 0xcfa0, 0x0, 0x1);
        gbc.writeMem(0x8e21, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xe922);
        EXPECT(gbc.pc(), 0x8e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e21), 0xcb);
        EXPECT(gbc.readMem(0x8e22), 0x1f);
        // CB 1F 022B
        gbc.setState(0xedf1, 0x6b5e, 0x78e0, 0x11ea, 0x54e2, 0x886f, 0x1, 0x0);
        gbc.writeMem(0xedf1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6b5e);
        EXPECT(gbc.pc(), 0xedf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedf1), 0xcb);
        EXPECT(gbc.readMem(0xedf2), 0x1f);
        // CB 1F 022C
        gbc.setState(0x838e, 0x3e4d, 0xab00, 0x52da, 0xf326, 0x1e81, 0x0, 0x1);
        gbc.writeMem(0x838e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3e4d);
        EXPECT(gbc.pc(), 0x8390);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x838e), 0xcb);
        EXPECT(gbc.readMem(0x838f), 0x1f);
        // CB 1F 022D
        gbc.setState(0xb1b3, 0xdf0a, 0x48e0, 0xf7f9, 0x8067, 0xff5, 0x0, 0x0);
        gbc.writeMem(0xb1b3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xdf0a);
        EXPECT(gbc.pc(), 0xb1b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b3), 0xcb);
        EXPECT(gbc.readMem(0xb1b4), 0x1f);
        // CB 1F 022E
        gbc.setState(0xc858, 0x98fc, 0x8c30, 0x11e6, 0x901b, 0x296e, 0x1, 0x1);
        gbc.writeMem(0xc858, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x98fc);
        EXPECT(gbc.pc(), 0xc85a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc858), 0xcb);
        EXPECT(gbc.readMem(0xc859), 0x1f);
        // CB 1F 022F
        gbc.setState(0xc662, 0x9a34, 0xa160, 0xf444, 0xe29f, 0xb343, 0x1, 0x0);
        gbc.writeMem(0xc662, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9a34);
        EXPECT(gbc.pc(), 0xc664);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc662), 0xcb);
        EXPECT(gbc.readMem(0xc663), 0x1f);
        // CB 1F 0230
        gbc.setState(0xa688, 0x1b45, 0x78e0, 0x3c2e, 0xdcb9, 0x257d, 0x1, 0x1);
        gbc.writeMem(0xa688, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1b45);
        EXPECT(gbc.pc(), 0xa68a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa688), 0xcb);
        EXPECT(gbc.readMem(0xa689), 0x1f);
        // CB 1F 0231
        gbc.setState(0x9cf6, 0x7f1d, 0x76e0, 0xc1bf, 0xe8c9, 0x34c9, 0x0, 0x1);
        gbc.writeMem(0x9cf6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7f1d);
        EXPECT(gbc.pc(), 0x9cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cf6), 0xcb);
        EXPECT(gbc.readMem(0x9cf7), 0x1f);
        // CB 1F 0232
        gbc.setState(0x3737, 0xa1b5, 0x5d40, 0xe93b, 0xf651, 0xa90c, 0x0, 0x0);
        gbc.writeMem(0x3737, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa1b5);
        EXPECT(gbc.pc(), 0x3739);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0234
        gbc.setState(0xb580, 0x2088, 0xdc30, 0xd48, 0x4fca, 0xc86e, 0x0, 0x0);
        gbc.writeMem(0xb580, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2088);
        EXPECT(gbc.pc(), 0xb582);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb580), 0xcb);
        EXPECT(gbc.readMem(0xb581), 0x1f);
        // CB 1F 0235
        gbc.setState(0x88e2, 0x5f59, 0xbb40, 0x3555, 0x5885, 0xfa2a, 0x0, 0x1);
        gbc.writeMem(0x88e2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5f59);
        EXPECT(gbc.pc(), 0x88e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88e2), 0xcb);
        EXPECT(gbc.readMem(0x88e3), 0x1f);
        // CB 1F 0236
        gbc.setState(0xa638, 0x926e, 0xc7b0, 0xf6dc, 0x3d83, 0x2709, 0x1, 0x0);
        gbc.writeMem(0xa638, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x926e);
        EXPECT(gbc.pc(), 0xa63a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa638), 0xcb);
        EXPECT(gbc.readMem(0xa639), 0x1f);
        // CB 1F 0237
        gbc.setState(0xb475, 0xb18b, 0x7130, 0x6e17, 0x6991, 0xa852, 0x1, 0x0);
        gbc.writeMem(0xb475, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb18b);
        EXPECT(gbc.pc(), 0xb477);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb475), 0xcb);
        EXPECT(gbc.readMem(0xb476), 0x1f);
        // CB 1F 0238
        gbc.setState(0x6494, 0x1db0, 0x8f20, 0x412a, 0xdf14, 0xdbdf, 0x1, 0x0);
        gbc.writeMem(0x6494, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1db0);
        EXPECT(gbc.pc(), 0x6496);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0239
        gbc.setState(0x7a3e, 0x213a, 0x76b0, 0x7a8b, 0xae0d, 0xe92, 0x1, 0x1);
        gbc.writeMem(0x7a3e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x213a);
        EXPECT(gbc.pc(), 0x7a40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 023A
        gbc.setState(0xe41b, 0xb1ed, 0x40f0, 0xd7d3, 0xf3cb, 0x9cf6, 0x0, 0x1);
        gbc.writeMem(0xe41b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb1ed);
        EXPECT(gbc.pc(), 0xe41d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe41b), 0xcb);
        EXPECT(gbc.readMem(0xe41c), 0x1f);
        // CB 1F 023B
        gbc.setState(0xd800, 0x9773, 0x7d20, 0xe923, 0x9757, 0xc8d4, 0x0, 0x0);
        gbc.writeMem(0xd800, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x9773);
        EXPECT(gbc.pc(), 0xd802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd800), 0xcb);
        EXPECT(gbc.readMem(0xd801), 0x1f);
        // CB 1F 023C
        gbc.setState(0xa36c, 0x830, 0x9b00, 0x83a7, 0x2baf, 0x4fe8, 0x1, 0x0);
        gbc.writeMem(0xa36c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x830);
        EXPECT(gbc.pc(), 0xa36e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa36c), 0xcb);
        EXPECT(gbc.readMem(0xa36d), 0x1f);
        // CB 1F 023D
        gbc.setState(0xad3d, 0xd3ac, 0xfb40, 0xd8a, 0xd840, 0x7d1a, 0x0, 0x1);
        gbc.writeMem(0xad3d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd3ac);
        EXPECT(gbc.pc(), 0xad3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad3d), 0xcb);
        EXPECT(gbc.readMem(0xad3e), 0x1f);
        // CB 1F 023E
        gbc.setState(0x207a, 0x602f, 0xff80, 0x8645, 0x6566, 0xc43, 0x1, 0x0);
        gbc.writeMem(0x207a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x602f);
        EXPECT(gbc.pc(), 0x207c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 023F
        gbc.setState(0x7cdc, 0x2e66, 0xef90, 0xb84, 0xc8a8, 0x1e2e, 0x0, 0x1);
        gbc.writeMem(0x7cdc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x2e66);
        EXPECT(gbc.pc(), 0x7cde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0240
        gbc.setState(0x97ed, 0xf975, 0xec10, 0xdd23, 0x6c3e, 0xdc57, 0x1, 0x0);
        gbc.writeMem(0x97ed, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf975);
        EXPECT(gbc.pc(), 0x97ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97ed), 0xcb);
        EXPECT(gbc.readMem(0x97ee), 0x1f);
        // CB 1F 0241
        gbc.setState(0x7dee, 0x3633, 0x8ee0, 0x2ac2, 0x2f3c, 0x6ef6, 0x0, 0x0);
        gbc.writeMem(0x7dee, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x3633);
        EXPECT(gbc.pc(), 0x7df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0242
        gbc.setState(0x419e, 0x71d2, 0x1700, 0xb22d, 0xfb74, 0x1f5f, 0x1, 0x0);
        gbc.writeMem(0x419e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x71d2);
        EXPECT(gbc.pc(), 0x41a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0243
        gbc.setState(0x4969, 0x872d, 0x1e30, 0xa407, 0xee82, 0x3ba1, 0x0, 0x0);
        gbc.writeMem(0x4969, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x872d);
        EXPECT(gbc.pc(), 0x496b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0244
        gbc.setState(0x907, 0x75c1, 0x2a40, 0xd730, 0x3723, 0x39b6, 0x1, 0x0);
        gbc.writeMem(0x907, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x75c1);
        EXPECT(gbc.pc(), 0x909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0245
        gbc.setState(0x2b2d, 0xc5a6, 0x57f0, 0xd5d1, 0x1dc0, 0xca32, 0x0, 0x1);
        gbc.writeMem(0x2b2d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc5a6);
        EXPECT(gbc.pc(), 0x2b2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0246
        gbc.setState(0x81a, 0xe536, 0x3010, 0xcb28, 0x4c2d, 0xf15c, 0x1, 0x1);
        gbc.writeMem(0x81a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe536);
        EXPECT(gbc.pc(), 0x81c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0247
        gbc.setState(0x4c52, 0x2a45, 0x950, 0x6f40, 0xf62d, 0xce0e, 0x0, 0x1);
        gbc.writeMem(0x4c52, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2a45);
        EXPECT(gbc.pc(), 0x4c54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0248
        gbc.setState(0xe9a3, 0x9cfe, 0x8ad0, 0x78b1, 0xfff5, 0x3fac, 0x0, 0x1);
        gbc.writeMem(0xe9a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9cfe);
        EXPECT(gbc.pc(), 0xe9a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9a3), 0xcb);
        EXPECT(gbc.readMem(0xe9a4), 0x1f);
        // CB 1F 0249
        gbc.setState(0xbae5, 0x78b5, 0x8ef0, 0x5d89, 0x5414, 0x9b07, 0x1, 0x1);
        gbc.writeMem(0xbae5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x78b5);
        EXPECT(gbc.pc(), 0xbae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae5), 0xcb);
        EXPECT(gbc.readMem(0xbae6), 0x1f);
        // CB 1F 024A
        gbc.setState(0x232e, 0x4d52, 0xc9f0, 0x87b2, 0x7a45, 0x28a8, 0x0, 0x0);
        gbc.writeMem(0x232e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4d52);
        EXPECT(gbc.pc(), 0x2330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 024B
        gbc.setState(0xd4d5, 0x646, 0x1eb0, 0x6ded, 0x933b, 0xdc88, 0x1, 0x1);
        gbc.writeMem(0xd4d5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x646);
        EXPECT(gbc.pc(), 0xd4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4d5), 0xcb);
        EXPECT(gbc.readMem(0xd4d6), 0x1f);
        // CB 1F 024C
        gbc.setState(0x82ef, 0x6677, 0x2ab0, 0xb23d, 0xc22b, 0xd5db, 0x0, 0x1);
        gbc.writeMem(0x82ef, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6677);
        EXPECT(gbc.pc(), 0x82f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ef), 0xcb);
        EXPECT(gbc.readMem(0x82f0), 0x1f);
        // CB 1F 024E
        gbc.setState(0xc9fd, 0x77f1, 0xc350, 0x41b3, 0x1186, 0xfe43, 0x1, 0x0);
        gbc.writeMem(0xc9fd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x77f1);
        EXPECT(gbc.pc(), 0xc9ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9fd), 0xcb);
        EXPECT(gbc.readMem(0xc9fe), 0x1f);
        // CB 1F 024F
        gbc.setState(0x564f, 0x27b8, 0x84e0, 0x2150, 0xbb2b, 0xf146, 0x1, 0x0);
        gbc.writeMem(0x564f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x27b8);
        EXPECT(gbc.pc(), 0x5651);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0250
        gbc.setState(0xa1a0, 0xe081, 0xbc50, 0xdc09, 0x9d85, 0xe3ce, 0x0, 0x1);
        gbc.writeMem(0xa1a0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe081);
        EXPECT(gbc.pc(), 0xa1a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1a0), 0xcb);
        EXPECT(gbc.readMem(0xa1a1), 0x1f);
        // CB 1F 0251
        gbc.setState(0x40e1, 0x5247, 0x7630, 0xe97b, 0x4480, 0x5185, 0x0, 0x0);
        gbc.writeMem(0x40e1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5247);
        EXPECT(gbc.pc(), 0x40e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0252
        gbc.setState(0xcf70, 0x2499, 0x4090, 0x16f2, 0xce80, 0xda7f, 0x1, 0x1);
        gbc.writeMem(0xcf70, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2499);
        EXPECT(gbc.pc(), 0xcf72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf70), 0xcb);
        EXPECT(gbc.readMem(0xcf71), 0x1f);
        // CB 1F 0253
        gbc.setState(0xea05, 0xb2cf, 0xaa70, 0xd1f1, 0x80b5, 0xc5cc, 0x1, 0x1);
        gbc.writeMem(0xea05, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb2cf);
        EXPECT(gbc.pc(), 0xea07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea05), 0xcb);
        EXPECT(gbc.readMem(0xea06), 0x1f);
        // CB 1F 0254
        gbc.setState(0xc453, 0x9564, 0x3940, 0x41f1, 0xf871, 0xfd19, 0x0, 0x1);
        gbc.writeMem(0xc453, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9564);
        EXPECT(gbc.pc(), 0xc455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc453), 0xcb);
        EXPECT(gbc.readMem(0xc454), 0x1f);
        // CB 1F 0255
        gbc.setState(0x39e0, 0xc22b, 0x2f50, 0xca99, 0xb29, 0xec38, 0x1, 0x1);
        gbc.writeMem(0x39e0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc22b);
        EXPECT(gbc.pc(), 0x39e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0256
        gbc.setState(0x5ca0, 0xc8a4, 0x65b0, 0x126, 0xb45a, 0x71de, 0x1, 0x1);
        gbc.writeMem(0x5ca0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc8a4);
        EXPECT(gbc.pc(), 0x5ca2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0257
        gbc.setState(0xa452, 0xb841, 0xd540, 0x7758, 0xe317, 0x71f8, 0x0, 0x1);
        gbc.writeMem(0xa452, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb841);
        EXPECT(gbc.pc(), 0xa454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa452), 0xcb);
        EXPECT(gbc.readMem(0xa453), 0x1f);
        // CB 1F 0258
        gbc.setState(0x69c2, 0x3286, 0xed30, 0x9c8f, 0xd906, 0x2a0, 0x1, 0x1);
        gbc.writeMem(0x69c2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3286);
        EXPECT(gbc.pc(), 0x69c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0259
        gbc.setState(0x1f64, 0x8c4c, 0x78a0, 0xc317, 0xa5a4, 0xcac9, 0x0, 0x0);
        gbc.writeMem(0x1f64, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8c4c);
        EXPECT(gbc.pc(), 0x1f66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 025A
        gbc.setState(0x4132, 0xdd59, 0xd460, 0x2ad8, 0x34e, 0x4db1, 0x0, 0x1);
        gbc.writeMem(0x4132, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xdd59);
        EXPECT(gbc.pc(), 0x4134);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 025B
        gbc.setState(0x8aa8, 0x2379, 0xc770, 0xd63d, 0x687, 0xad97, 0x0, 0x0);
        gbc.writeMem(0x8aa8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2379);
        EXPECT(gbc.pc(), 0x8aaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aa8), 0xcb);
        EXPECT(gbc.readMem(0x8aa9), 0x1f);
        // CB 1F 025C
        gbc.setState(0x1e45, 0xaea7, 0x9820, 0x49b3, 0xa16d, 0x6cf3, 0x1, 0x0);
        gbc.writeMem(0x1e45, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xaea7);
        EXPECT(gbc.pc(), 0x1e47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 025D
        gbc.setState(0x334c, 0xf0df, 0xdee0, 0xf1fe, 0xdceb, 0x3f39, 0x0, 0x0);
        gbc.writeMem(0x334c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf0df);
        EXPECT(gbc.pc(), 0x334e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 025E
        gbc.setState(0x3c9a, 0xb5f, 0xeca0, 0x8f65, 0x1b70, 0x39a5, 0x0, 0x1);
        gbc.writeMem(0x3c9a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb5f);
        EXPECT(gbc.pc(), 0x3c9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 025F
        gbc.setState(0x5efe, 0x2a95, 0x3520, 0xedd2, 0xb844, 0x3b81, 0x1, 0x1);
        gbc.writeMem(0x5efe, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2a95);
        EXPECT(gbc.pc(), 0x5f00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0260
        gbc.setState(0x1e3, 0xe365, 0x27a0, 0x1ebf, 0x8c49, 0x7a57, 0x1, 0x1);
        gbc.writeMem(0x1e3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe365);
        EXPECT(gbc.pc(), 0x1e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0261
        gbc.setState(0x4484, 0xf7fb, 0x9310, 0x2925, 0xf3d, 0x74a6, 0x1, 0x1);
        gbc.writeMem(0x4484, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf7fb);
        EXPECT(gbc.pc(), 0x4486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0262
        gbc.setState(0x5349, 0x6522, 0xdae0, 0x3f7a, 0x37a8, 0xa9e1, 0x1, 0x1);
        gbc.writeMem(0x5349, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6522);
        EXPECT(gbc.pc(), 0x534b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0263
        gbc.setState(0xaa10, 0xb8ce, 0xc8a0, 0x526b, 0xef2c, 0x2cee, 0x0, 0x1);
        gbc.writeMem(0xaa10, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb8ce);
        EXPECT(gbc.pc(), 0xaa12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa10), 0xcb);
        EXPECT(gbc.readMem(0xaa11), 0x1f);
        // CB 1F 0264
        gbc.setState(0xb40a, 0x1a73, 0x2dd0, 0x7933, 0xb906, 0xe9a2, 0x1, 0x0);
        gbc.writeMem(0xb40a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1a73);
        EXPECT(gbc.pc(), 0xb40c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb40a), 0xcb);
        EXPECT(gbc.readMem(0xb40b), 0x1f);
        // CB 1F 0265
        gbc.setState(0x8f1b, 0x47d, 0x3df0, 0x27fc, 0x937e, 0x70fd, 0x0, 0x0);
        gbc.writeMem(0x8f1b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x47d);
        EXPECT(gbc.pc(), 0x8f1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f1b), 0xcb);
        EXPECT(gbc.readMem(0x8f1c), 0x1f);
        // CB 1F 0266
        gbc.setState(0x183e, 0x7bbd, 0x3300, 0x4720, 0xb56a, 0xb9b0, 0x0, 0x1);
        gbc.writeMem(0x183e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7bbd);
        EXPECT(gbc.pc(), 0x1840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0267
        gbc.setState(0x1fd3, 0x82d5, 0x3e80, 0xa8b8, 0x96d9, 0xae69, 0x1, 0x0);
        gbc.writeMem(0x1fd3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x82d5);
        EXPECT(gbc.pc(), 0x1fd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0268
        gbc.setState(0x4c54, 0x5ac0, 0x91d0, 0x40fc, 0x9de0, 0xd8d5, 0x1, 0x1);
        gbc.writeMem(0x4c54, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5ac0);
        EXPECT(gbc.pc(), 0x4c56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0269
        gbc.setState(0xb8b3, 0xd2ba, 0xc40, 0x83d6, 0xdbf2, 0x6fc1, 0x0, 0x1);
        gbc.writeMem(0xb8b3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd2ba);
        EXPECT(gbc.pc(), 0xb8b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8b3), 0xcb);
        EXPECT(gbc.readMem(0xb8b4), 0x1f);
        // CB 1F 026A
        gbc.setState(0xa3d9, 0xfad6, 0xb460, 0x894a, 0xadc5, 0x225c, 0x1, 0x0);
        gbc.writeMem(0xa3d9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfad6);
        EXPECT(gbc.pc(), 0xa3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3d9), 0xcb);
        EXPECT(gbc.readMem(0xa3da), 0x1f);
        // CB 1F 026B
        gbc.setState(0x33ef, 0x8e65, 0x69c0, 0x2e84, 0x1fa, 0x7700, 0x0, 0x1);
        gbc.writeMem(0x33ef, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8e65);
        EXPECT(gbc.pc(), 0x33f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 026D
        gbc.setState(0xa619, 0x92df, 0x2bf0, 0x140a, 0x4e31, 0x4b06, 0x1, 0x0);
        gbc.writeMem(0xa619, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x92df);
        EXPECT(gbc.pc(), 0xa61b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa619), 0xcb);
        EXPECT(gbc.readMem(0xa61a), 0x1f);
        // CB 1F 026E
        gbc.setState(0xd950, 0x1b72, 0x8190, 0xf4a9, 0xa75d, 0x97ae, 0x0, 0x0);
        gbc.writeMem(0xd950, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1b72);
        EXPECT(gbc.pc(), 0xd952);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd950), 0xcb);
        EXPECT(gbc.readMem(0xd951), 0x1f);
        // CB 1F 026F
        gbc.setState(0x9185, 0xc01, 0x5860, 0xadb3, 0x52f7, 0xa7f6, 0x0, 0x0);
        gbc.writeMem(0x9185, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc01);
        EXPECT(gbc.pc(), 0x9187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9185), 0xcb);
        EXPECT(gbc.readMem(0x9186), 0x1f);
        // CB 1F 0270
        gbc.setState(0x43d3, 0x6358, 0x54a0, 0xd38a, 0xa56e, 0xe174, 0x1, 0x1);
        gbc.writeMem(0x43d3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6358);
        EXPECT(gbc.pc(), 0x43d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0271
        gbc.setState(0x3c81, 0x4645, 0x5750, 0x15e3, 0xeeff, 0xac17, 0x0, 0x1);
        gbc.writeMem(0x3c81, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4645);
        EXPECT(gbc.pc(), 0x3c83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0272
        gbc.setState(0xc6c4, 0x301, 0x5e30, 0xeb16, 0x3330, 0x7152, 0x0, 0x1);
        gbc.writeMem(0xc6c4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x301);
        EXPECT(gbc.pc(), 0xc6c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6c4), 0xcb);
        EXPECT(gbc.readMem(0xc6c5), 0x1f);
        // CB 1F 0273
        gbc.setState(0x5d04, 0x997e, 0x3450, 0x17a3, 0xedaa, 0x6beb, 0x0, 0x0);
        gbc.writeMem(0x5d04, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x997e);
        EXPECT(gbc.pc(), 0x5d06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0274
        gbc.setState(0x311c, 0x10b9, 0x9720, 0x6b14, 0xc3bc, 0xf3ec, 0x0, 0x1);
        gbc.writeMem(0x311c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x10b9);
        EXPECT(gbc.pc(), 0x311e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0275
        gbc.setState(0x59f2, 0x1f87, 0x8070, 0xd1b0, 0xb58a, 0xac84, 0x1, 0x1);
        gbc.writeMem(0x59f2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1f87);
        EXPECT(gbc.pc(), 0x59f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0276
        gbc.setState(0x8a09, 0xecc9, 0xca60, 0xef6a, 0xcdf0, 0xfb37, 0x1, 0x1);
        gbc.writeMem(0x8a09, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xecc9);
        EXPECT(gbc.pc(), 0x8a0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a09), 0xcb);
        EXPECT(gbc.readMem(0x8a0a), 0x1f);
        // CB 1F 0277
        gbc.setState(0xc746, 0x91d9, 0xbdd0, 0x3a54, 0x33ec, 0x179f, 0x0, 0x1);
        gbc.writeMem(0xc746, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x91d9);
        EXPECT(gbc.pc(), 0xc748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc746), 0xcb);
        EXPECT(gbc.readMem(0xc747), 0x1f);
        // CB 1F 0278
        gbc.setState(0x5b18, 0x2bc1, 0xc270, 0xb54, 0x4404, 0x6c31, 0x0, 0x0);
        gbc.writeMem(0x5b18, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2bc1);
        EXPECT(gbc.pc(), 0x5b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0279
        gbc.setState(0xe8b4, 0xcbda, 0x5a40, 0x69c2, 0x8fb, 0x360f, 0x0, 0x1);
        gbc.writeMem(0xe8b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xcbda);
        EXPECT(gbc.pc(), 0xe8b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8b4), 0xcb);
        EXPECT(gbc.readMem(0xe8b5), 0x1f);
        // CB 1F 027A
        gbc.setState(0x1632, 0x4cc3, 0xe910, 0x9ca6, 0x91f8, 0x4aea, 0x0, 0x0);
        gbc.writeMem(0x1632, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4cc3);
        EXPECT(gbc.pc(), 0x1634);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 027B
        gbc.setState(0x62a3, 0xefff, 0x5c90, 0xa14c, 0x7c38, 0x5474, 0x0, 0x0);
        gbc.writeMem(0x62a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xefff);
        EXPECT(gbc.pc(), 0x62a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 027C
        gbc.setState(0xc567, 0xbe9f, 0xf030, 0xc716, 0x676d, 0x6da4, 0x1, 0x0);
        gbc.writeMem(0xc567, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbe9f);
        EXPECT(gbc.pc(), 0xc569);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc567), 0xcb);
        EXPECT(gbc.readMem(0xc568), 0x1f);
        // CB 1F 027D
        gbc.setState(0x6737, 0x3827, 0x6330, 0x86ef, 0xf4a4, 0xcd07, 0x0, 0x1);
        gbc.writeMem(0x6737, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3827);
        EXPECT(gbc.pc(), 0x6739);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 027E
        gbc.setState(0x2729, 0x8d9, 0x6a30, 0xf433, 0x94a6, 0xc28a, 0x0, 0x1);
        gbc.writeMem(0x2729, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8d9);
        EXPECT(gbc.pc(), 0x272b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 027F
        gbc.setState(0x709a, 0x7bc, 0x870, 0x83fa, 0x996f, 0x55f6, 0x1, 0x0);
        gbc.writeMem(0x709a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7bc);
        EXPECT(gbc.pc(), 0x709c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0280
        gbc.setState(0x97a7, 0xe4eb, 0xf180, 0xa92, 0x16f2, 0xa1e4, 0x0, 0x1);
        gbc.writeMem(0x97a7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xe4eb);
        EXPECT(gbc.pc(), 0x97a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97a7), 0xcb);
        EXPECT(gbc.readMem(0x97a8), 0x1f);
        // CB 1F 0281
        gbc.setState(0x3dae, 0xe68, 0x3ca0, 0xaf3f, 0xfdea, 0x26d9, 0x0, 0x1);
        gbc.writeMem(0x3dae, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe68);
        EXPECT(gbc.pc(), 0x3db0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0282
        gbc.setState(0x5434, 0xf7f0, 0xedc0, 0xed8, 0x2ed8, 0xc739, 0x1, 0x1);
        gbc.writeMem(0x5434, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf7f0);
        EXPECT(gbc.pc(), 0x5436);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0283
        gbc.setState(0x6d6f, 0xd296, 0x5e80, 0xb15b, 0xfda2, 0x2cf2, 0x1, 0x0);
        gbc.writeMem(0x6d6f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd296);
        EXPECT(gbc.pc(), 0x6d71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0284
        gbc.setState(0xdcd0, 0xbd7, 0xb00, 0xece0, 0xb013, 0xfc5f, 0x0, 0x0);
        gbc.writeMem(0xdcd0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbd7);
        EXPECT(gbc.pc(), 0xdcd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcd0), 0xcb);
        EXPECT(gbc.readMem(0xdcd1), 0x1f);
        // CB 1F 0285
        gbc.setState(0xa1c3, 0x36a5, 0x1950, 0xf5c0, 0x5e5e, 0xed4, 0x1, 0x1);
        gbc.writeMem(0xa1c3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x36a5);
        EXPECT(gbc.pc(), 0xa1c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1c3), 0xcb);
        EXPECT(gbc.readMem(0xa1c4), 0x1f);
        // CB 1F 0286
        gbc.setState(0x4686, 0x6cba, 0x4340, 0xe405, 0xfccf, 0x94f0, 0x1, 0x1);
        gbc.writeMem(0x4686, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6cba);
        EXPECT(gbc.pc(), 0x4688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0287
        gbc.setState(0x5168, 0xb403, 0xbed0, 0x68f2, 0xd582, 0x7ac1, 0x0, 0x1);
        gbc.writeMem(0x5168, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb403);
        EXPECT(gbc.pc(), 0x516a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0288
        gbc.setState(0xc3fc, 0x64d9, 0x6d50, 0xb434, 0xf403, 0xaccb, 0x1, 0x0);
        gbc.writeMem(0xc3fc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x64d9);
        EXPECT(gbc.pc(), 0xc3fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3fc), 0xcb);
        EXPECT(gbc.readMem(0xc3fd), 0x1f);
        // CB 1F 0289
        gbc.setState(0xd7a6, 0x2331, 0x54d0, 0x9995, 0x5dbf, 0xa08c, 0x0, 0x0);
        gbc.writeMem(0xd7a6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x2331);
        EXPECT(gbc.pc(), 0xd7a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7a6), 0xcb);
        EXPECT(gbc.readMem(0xd7a7), 0x1f);
        // CB 1F 028A
        gbc.setState(0xd81b, 0x6ca3, 0x7880, 0x847c, 0xd9ca, 0xef3e, 0x0, 0x0);
        gbc.writeMem(0xd81b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6ca3);
        EXPECT(gbc.pc(), 0xd81d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd81b), 0xcb);
        EXPECT(gbc.readMem(0xd81c), 0x1f);
        // CB 1F 028B
        gbc.setState(0xc722, 0x881f, 0x5cd0, 0x44cb, 0x2f44, 0x6e47, 0x0, 0x0);
        gbc.writeMem(0xc722, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x881f);
        EXPECT(gbc.pc(), 0xc724);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc722), 0xcb);
        EXPECT(gbc.readMem(0xc723), 0x1f);
        // CB 1F 028C
        gbc.setState(0x238e, 0x6b55, 0xe880, 0xa8a, 0x54d1, 0x929b, 0x1, 0x1);
        gbc.writeMem(0x238e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6b55);
        EXPECT(gbc.pc(), 0x2390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 028D
        gbc.setState(0x5913, 0x460d, 0x76e0, 0xde23, 0x938f, 0x4aba, 0x0, 0x0);
        gbc.writeMem(0x5913, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x460d);
        EXPECT(gbc.pc(), 0x5915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 028E
        gbc.setState(0xdc46, 0xd8fd, 0x3370, 0x2027, 0x202a, 0xa110, 0x1, 0x1);
        gbc.writeMem(0xdc46, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd8fd);
        EXPECT(gbc.pc(), 0xdc48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc46), 0xcb);
        EXPECT(gbc.readMem(0xdc47), 0x1f);
        // CB 1F 028F
        gbc.setState(0x7b2, 0x58ec, 0x5f70, 0x515c, 0x335d, 0x2d68, 0x1, 0x1);
        gbc.writeMem(0x7b2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x58ec);
        EXPECT(gbc.pc(), 0x7b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0290
        gbc.setState(0x3b46, 0xf4bd, 0x7130, 0xbd76, 0xb6b3, 0x4cd6, 0x0, 0x1);
        gbc.writeMem(0x3b46, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf4bd);
        EXPECT(gbc.pc(), 0x3b48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0291
        gbc.setState(0x9501, 0xd74b, 0x5910, 0xf397, 0xe3f6, 0xfae0, 0x1, 0x0);
        gbc.writeMem(0x9501, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd74b);
        EXPECT(gbc.pc(), 0x9503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9501), 0xcb);
        EXPECT(gbc.readMem(0x9502), 0x1f);
        // CB 1F 0292
        gbc.setState(0x6878, 0xdda9, 0xf4a0, 0x65ac, 0x852, 0xfa23, 0x0, 0x0);
        gbc.writeMem(0x6878, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xdda9);
        EXPECT(gbc.pc(), 0x687a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0293
        gbc.setState(0xde2a, 0x7112, 0x4cb0, 0x2884, 0xee42, 0xfbea, 0x1, 0x1);
        gbc.writeMem(0xde2a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7112);
        EXPECT(gbc.pc(), 0xde2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde2a), 0xcb);
        EXPECT(gbc.readMem(0xde2b), 0x1f);
        // CB 1F 0294
        gbc.setState(0xd66e, 0xba5d, 0x65e0, 0x8465, 0x7f40, 0x6f37, 0x0, 0x0);
        gbc.writeMem(0xd66e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xba5d);
        EXPECT(gbc.pc(), 0xd670);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd66e), 0xcb);
        EXPECT(gbc.readMem(0xd66f), 0x1f);
        // CB 1F 0295
        gbc.setState(0x46a, 0x7478, 0x4520, 0x841c, 0x790b, 0xcf2d, 0x0, 0x1);
        gbc.writeMem(0x46a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7478);
        EXPECT(gbc.pc(), 0x46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0296
        gbc.setState(0xdc29, 0x3c4c, 0x8590, 0x6192, 0xc2c4, 0x851a, 0x1, 0x1);
        gbc.writeMem(0xdc29, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3c4c);
        EXPECT(gbc.pc(), 0xdc2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc29), 0xcb);
        EXPECT(gbc.readMem(0xdc2a), 0x1f);
        // CB 1F 0297
        gbc.setState(0x4086, 0x9768, 0x9320, 0x9151, 0x2816, 0x42eb, 0x0, 0x0);
        gbc.writeMem(0x4086, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9768);
        EXPECT(gbc.pc(), 0x4088);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0298
        gbc.setState(0x2b00, 0x918f, 0x6c0, 0xf7bb, 0x8c18, 0x2f97, 0x1, 0x0);
        gbc.writeMem(0x2b00, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x918f);
        EXPECT(gbc.pc(), 0x2b02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0299
        gbc.setState(0x742d, 0x16e6, 0xd490, 0xe7d1, 0x8436, 0x5130, 0x0, 0x0);
        gbc.writeMem(0x742d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x16e6);
        EXPECT(gbc.pc(), 0x742f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 029A
        gbc.setState(0x525c, 0xd22, 0xf480, 0x3686, 0x129, 0x1810, 0x0, 0x1);
        gbc.writeMem(0x525c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd22);
        EXPECT(gbc.pc(), 0x525e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 029B
        gbc.setState(0xd97c, 0x73b3, 0x680, 0xab50, 0xf274, 0x1b56, 0x1, 0x0);
        gbc.writeMem(0xd97c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x73b3);
        EXPECT(gbc.pc(), 0xd97e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd97c), 0xcb);
        EXPECT(gbc.readMem(0xd97d), 0x1f);
        // CB 1F 029D
        gbc.setState(0xc39f, 0x4b24, 0x5730, 0xf09, 0x248c, 0xc667, 0x0, 0x1);
        gbc.writeMem(0xc39f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4b24);
        EXPECT(gbc.pc(), 0xc3a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc39f), 0xcb);
        EXPECT(gbc.readMem(0xc3a0), 0x1f);
        // CB 1F 029E
        gbc.setState(0x2c0b, 0x3fb3, 0x8430, 0x2314, 0xd239, 0x24a8, 0x1, 0x0);
        gbc.writeMem(0x2c0b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3fb3);
        EXPECT(gbc.pc(), 0x2c0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 029F
        gbc.setState(0x1cf1, 0x43c6, 0xbd50, 0xeef0, 0xd0d7, 0xa89f, 0x1, 0x1);
        gbc.writeMem(0x1cf1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x43c6);
        EXPECT(gbc.pc(), 0x1cf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02A0
        gbc.setState(0xa549, 0x68dc, 0x39b0, 0xa398, 0x44d4, 0xd7a0, 0x1, 0x0);
        gbc.writeMem(0xa549, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x68dc);
        EXPECT(gbc.pc(), 0xa54b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa549), 0xcb);
        EXPECT(gbc.readMem(0xa54a), 0x1f);
        // CB 1F 02A1
        gbc.setState(0x3ac3, 0xbcbc, 0x5e80, 0x6ce8, 0xa5f9, 0xa345, 0x1, 0x0);
        gbc.writeMem(0x3ac3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbcbc);
        EXPECT(gbc.pc(), 0x3ac5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02A2
        gbc.setState(0xe030, 0x2467, 0x3cd0, 0x8ab3, 0xa8d2, 0xeb6f, 0x0, 0x1);
        gbc.writeMem(0xe030, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x2467);
        EXPECT(gbc.pc(), 0xe032);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe030), 0xcb);
        EXPECT(gbc.readMem(0xe031), 0x1f);
        // CB 1F 02A3
        gbc.setState(0x42c4, 0x8a2c, 0x5920, 0xd6ac, 0x31e4, 0xef2f, 0x0, 0x0);
        gbc.writeMem(0x42c4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8a2c);
        EXPECT(gbc.pc(), 0x42c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02A4
        gbc.setState(0x2174, 0x7982, 0x4770, 0x56ab, 0x34e5, 0xd653, 0x1, 0x0);
        gbc.writeMem(0x2174, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7982);
        EXPECT(gbc.pc(), 0x2176);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02A5
        gbc.setState(0x24cb, 0x88be, 0x16e0, 0x315d, 0xf222, 0x757e, 0x1, 0x0);
        gbc.writeMem(0x24cb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x88be);
        EXPECT(gbc.pc(), 0x24cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02A6
        gbc.setState(0x1650, 0xd79a, 0x33f0, 0x94b8, 0x1bd5, 0x132b, 0x1, 0x1);
        gbc.writeMem(0x1650, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd79a);
        EXPECT(gbc.pc(), 0x1652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02A7
        gbc.setState(0x385b, 0xe7a9, 0x610, 0x1f3c, 0x9eda, 0xb9c5, 0x0, 0x0);
        gbc.writeMem(0x385b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe7a9);
        EXPECT(gbc.pc(), 0x385d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02A8
        gbc.setState(0x54bb, 0x59be, 0xde00, 0x697e, 0xb335, 0xcf1b, 0x0, 0x0);
        gbc.writeMem(0x54bb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x59be);
        EXPECT(gbc.pc(), 0x54bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02A9
        gbc.setState(0x6058, 0x36e6, 0x8f60, 0x4a02, 0xa89d, 0x3dc7, 0x0, 0x0);
        gbc.writeMem(0x6058, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x36e6);
        EXPECT(gbc.pc(), 0x605a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02AA
        gbc.setState(0x2c71, 0x7bef, 0x4460, 0xafcc, 0x49f4, 0xd505, 0x0, 0x1);
        gbc.writeMem(0x2c71, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7bef);
        EXPECT(gbc.pc(), 0x2c73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02AB
        gbc.setState(0x58aa, 0x51d6, 0xec20, 0x9eb, 0xbfd8, 0x3296, 0x0, 0x1);
        gbc.writeMem(0x58aa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x51d6);
        EXPECT(gbc.pc(), 0x58ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02AC
        gbc.setState(0x4a73, 0x3c6c, 0x6140, 0x1b20, 0x3ab7, 0x3719, 0x0, 0x1);
        gbc.writeMem(0x4a73, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x3c6c);
        EXPECT(gbc.pc(), 0x4a75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02AD
        gbc.setState(0x4040, 0xfdf1, 0x2000, 0xbdd7, 0x3739, 0xfdf1, 0x0, 0x1);
        gbc.writeMem(0x4040, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xfdf1);
        EXPECT(gbc.pc(), 0x4042);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02AE
        gbc.setState(0xae87, 0x7dda, 0x930, 0x6a2e, 0x921e, 0x9f7c, 0x0, 0x1);
        gbc.writeMem(0xae87, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x7dda);
        EXPECT(gbc.pc(), 0xae89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae87), 0xcb);
        EXPECT(gbc.readMem(0xae88), 0x1f);
        // CB 1F 02AF
        gbc.setState(0x43e9, 0xc9cc, 0xe6e0, 0xa990, 0x8b2f, 0xb098, 0x1, 0x1);
        gbc.writeMem(0x43e9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc9cc);
        EXPECT(gbc.pc(), 0x43eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02B0
        gbc.setState(0x2f1e, 0x7adf, 0x51d0, 0xbe5b, 0xa2a1, 0xc48f, 0x0, 0x1);
        gbc.writeMem(0x2f1e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7adf);
        EXPECT(gbc.pc(), 0x2f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02B1
        gbc.setState(0x309e, 0x532b, 0x9020, 0xd2ae, 0xcad7, 0xd75d, 0x1, 0x1);
        gbc.writeMem(0x309e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x532b);
        EXPECT(gbc.pc(), 0x30a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02B2
        gbc.setState(0x7b1f, 0x1f0e, 0x540, 0x2e9e, 0xf9c4, 0xc255, 0x0, 0x0);
        gbc.writeMem(0x7b1f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1f0e);
        EXPECT(gbc.pc(), 0x7b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02B4
        gbc.setState(0x7a13, 0xa19f, 0xeb90, 0x404e, 0x14ae, 0x9b4, 0x0, 0x1);
        gbc.writeMem(0x7a13, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xa19f);
        EXPECT(gbc.pc(), 0x7a15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02B5
        gbc.setState(0xd126, 0x45f9, 0x4920, 0x36be, 0x19, 0x7e6, 0x0, 0x0);
        gbc.writeMem(0xd126, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x45f9);
        EXPECT(gbc.pc(), 0xd128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd126), 0xcb);
        EXPECT(gbc.readMem(0xd127), 0x1f);
        // CB 1F 02B6
        gbc.setState(0x5ca0, 0x5073, 0xaad0, 0xf475, 0x4a83, 0x4993, 0x1, 0x1);
        gbc.writeMem(0x5ca0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5073);
        EXPECT(gbc.pc(), 0x5ca2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02B7
        gbc.setState(0xcb70, 0x2794, 0x9a70, 0xf160, 0x6ffa, 0xa113, 0x1, 0x0);
        gbc.writeMem(0xcb70, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2794);
        EXPECT(gbc.pc(), 0xcb72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb70), 0xcb);
        EXPECT(gbc.readMem(0xcb71), 0x1f);
        // CB 1F 02B8
        gbc.setState(0x8581, 0xdb4b, 0x5980, 0xb697, 0x6aab, 0x512a, 0x0, 0x1);
        gbc.writeMem(0x8581, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdb4b);
        EXPECT(gbc.pc(), 0x8583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8581), 0xcb);
        EXPECT(gbc.readMem(0x8582), 0x1f);
        // CB 1F 02B9
        gbc.setState(0x34a0, 0xe06f, 0xd930, 0xaf61, 0x8090, 0x27c9, 0x1, 0x1);
        gbc.writeMem(0x34a0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xe06f);
        EXPECT(gbc.pc(), 0x34a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02BA
        gbc.setState(0xd474, 0xd5a3, 0xdcf0, 0x1102, 0x6b3f, 0x7e1b, 0x0, 0x0);
        gbc.writeMem(0xd474, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd5a3);
        EXPECT(gbc.pc(), 0xd476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd474), 0xcb);
        EXPECT(gbc.readMem(0xd475), 0x1f);
        // CB 1F 02BB
        gbc.setState(0x28b0, 0xa56c, 0xaca0, 0xf0fe, 0x932f, 0xd8f4, 0x0, 0x0);
        gbc.writeMem(0x28b0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa56c);
        EXPECT(gbc.pc(), 0x28b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02BC
        gbc.setState(0xa4ca, 0x59c1, 0x120, 0x4f17, 0x9547, 0x572f, 0x1, 0x1);
        gbc.writeMem(0xa4ca, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x59c1);
        EXPECT(gbc.pc(), 0xa4cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ca), 0xcb);
        EXPECT(gbc.readMem(0xa4cb), 0x1f);
        // CB 1F 02BD
        gbc.setState(0x3213, 0xf58, 0xc7f0, 0xd38, 0xf4e0, 0x6284, 0x0, 0x0);
        gbc.writeMem(0x3213, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf58);
        EXPECT(gbc.pc(), 0x3215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02BE
        gbc.setState(0x26e8, 0x2f39, 0x7a00, 0xb1bd, 0xa0f, 0x972d, 0x1, 0x1);
        gbc.writeMem(0x26e8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2f39);
        EXPECT(gbc.pc(), 0x26ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02BF
        gbc.setState(0xd4c7, 0xff65, 0xaa10, 0x39be, 0x3b53, 0xc573, 0x0, 0x1);
        gbc.writeMem(0xd4c7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xff65);
        EXPECT(gbc.pc(), 0xd4c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4c7), 0xcb);
        EXPECT(gbc.readMem(0xd4c8), 0x1f);
        // CB 1F 02C0
        gbc.setState(0x54de, 0xbb30, 0xf090, 0x59e9, 0x31ff, 0x1422, 0x1, 0x0);
        gbc.writeMem(0x54de, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xbb30);
        EXPECT(gbc.pc(), 0x54e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02C2
        gbc.setState(0x64b2, 0xff05, 0xfe00, 0x553, 0x3077, 0x1295, 0x1, 0x0);
        gbc.writeMem(0x64b2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xff05);
        EXPECT(gbc.pc(), 0x64b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02C4
        gbc.setState(0x7ecf, 0x9ea9, 0xfac0, 0x8e70, 0x37bc, 0xa334, 0x1, 0x1);
        gbc.writeMem(0x7ecf, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9ea9);
        EXPECT(gbc.pc(), 0x7ed1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02C5
        gbc.setState(0x3809, 0x2543, 0xf700, 0x8347, 0x3c91, 0xfdc3, 0x0, 0x0);
        gbc.writeMem(0x3809, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x2543);
        EXPECT(gbc.pc(), 0x380b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02C6
        gbc.setState(0xebbd, 0xf89f, 0xe040, 0x8d5, 0x9c1b, 0x2d3e, 0x1, 0x0);
        gbc.writeMem(0xebbd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf89f);
        EXPECT(gbc.pc(), 0xebbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebbd), 0xcb);
        EXPECT(gbc.readMem(0xebbe), 0x1f);
        // CB 1F 02C7
        gbc.setState(0x4809, 0x3517, 0x80e0, 0xebf2, 0x8e81, 0xcb5e, 0x1, 0x1);
        gbc.writeMem(0x4809, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x3517);
        EXPECT(gbc.pc(), 0x480b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02C8
        gbc.setState(0xbd6f, 0xceea, 0xa2a0, 0xa84d, 0xde17, 0x8675, 0x1, 0x0);
        gbc.writeMem(0xbd6f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xceea);
        EXPECT(gbc.pc(), 0xbd71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd6f), 0xcb);
        EXPECT(gbc.readMem(0xbd70), 0x1f);
        // CB 1F 02C9
        gbc.setState(0xa700, 0x6ff4, 0x7860, 0xdd29, 0x5387, 0x27e7, 0x0, 0x0);
        gbc.writeMem(0xa700, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6ff4);
        EXPECT(gbc.pc(), 0xa702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa700), 0xcb);
        EXPECT(gbc.readMem(0xa701), 0x1f);
        // CB 1F 02CA
        gbc.setState(0x8060, 0x26ca, 0xb9f0, 0x707d, 0xcde, 0x6bff, 0x0, 0x0);
        gbc.writeMem(0x8060, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x26ca);
        EXPECT(gbc.pc(), 0x8062);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8060), 0xcb);
        EXPECT(gbc.readMem(0x8061), 0x1f);
        // CB 1F 02CB
        gbc.setState(0x7789, 0x1aa1, 0x92e0, 0xb8ca, 0xce49, 0x1215, 0x1, 0x1);
        gbc.writeMem(0x7789, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1aa1);
        EXPECT(gbc.pc(), 0x778b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02CC
        gbc.setState(0x3b63, 0x5d73, 0x11e0, 0x40a2, 0x4d0e, 0xe8c1, 0x1, 0x1);
        gbc.writeMem(0x3b63, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5d73);
        EXPECT(gbc.pc(), 0x3b65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02CD
        gbc.setState(0x1b7b, 0x712e, 0xcfa0, 0x61b1, 0x5a50, 0xc541, 0x0, 0x0);
        gbc.writeMem(0x1b7b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x712e);
        EXPECT(gbc.pc(), 0x1b7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02CE
        gbc.setState(0xee6d, 0xb1e3, 0xeed0, 0xc0a, 0xea28, 0x3802, 0x0, 0x0);
        gbc.writeMem(0xee6d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb1e3);
        EXPECT(gbc.pc(), 0xee6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee6d), 0xcb);
        EXPECT(gbc.readMem(0xee6e), 0x1f);
        // CB 1F 02CF
        gbc.setState(0x15a8, 0x8ec2, 0x1210, 0x87d0, 0x5e7d, 0x6856, 0x0, 0x1);
        gbc.writeMem(0x15a8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8ec2);
        EXPECT(gbc.pc(), 0x15aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02D0
        gbc.setState(0xeec2, 0xce72, 0x5500, 0x8e0c, 0x83fa, 0x15b2, 0x0, 0x1);
        gbc.writeMem(0xeec2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xce72);
        EXPECT(gbc.pc(), 0xeec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeec2), 0xcb);
        EXPECT(gbc.readMem(0xeec3), 0x1f);
        // CB 1F 02D1
        gbc.setState(0x289a, 0xe080, 0xf5a0, 0x50cd, 0x70ce, 0xde45, 0x0, 0x0);
        gbc.writeMem(0x289a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe080);
        EXPECT(gbc.pc(), 0x289c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02D2
        gbc.setState(0xdf72, 0xf1e0, 0xae00, 0x8241, 0xf11a, 0x2ae1, 0x0, 0x0);
        gbc.writeMem(0xdf72, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf1e0);
        EXPECT(gbc.pc(), 0xdf74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf72), 0xcb);
        EXPECT(gbc.readMem(0xdf73), 0x1f);
        // CB 1F 02D3
        gbc.setState(0x7f7a, 0x8795, 0xdf60, 0x587c, 0x9892, 0xc16b, 0x0, 0x1);
        gbc.writeMem(0x7f7a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8795);
        EXPECT(gbc.pc(), 0x7f7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02D4
        gbc.setState(0x3ff6, 0x68e8, 0xa90, 0x66c8, 0x16a0, 0x50e9, 0x1, 0x1);
        gbc.writeMem(0x3ff6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x68e8);
        EXPECT(gbc.pc(), 0x3ff8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02D5
        gbc.setState(0x22d6, 0x9613, 0x3460, 0x2ab1, 0x820, 0x2489, 0x1, 0x1);
        gbc.writeMem(0x22d6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x9613);
        EXPECT(gbc.pc(), 0x22d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02D6
        gbc.setState(0xb9b1, 0xeaa8, 0xbf90, 0xd748, 0x722e, 0x9985, 0x1, 0x0);
        gbc.writeMem(0xb9b1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xeaa8);
        EXPECT(gbc.pc(), 0xb9b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9b1), 0xcb);
        EXPECT(gbc.readMem(0xb9b2), 0x1f);
        // CB 1F 02D7
        gbc.setState(0x27c0, 0xda8e, 0x9e40, 0xc180, 0x9a53, 0x7500, 0x1, 0x0);
        gbc.writeMem(0x27c0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xda8e);
        EXPECT(gbc.pc(), 0x27c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02D8
        gbc.setState(0xb0d, 0xd0bb, 0x2c60, 0x6300, 0xd3da, 0xaab, 0x0, 0x0);
        gbc.writeMem(0xb0d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xd0bb);
        EXPECT(gbc.pc(), 0xb0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02D9
        gbc.setState(0x4771, 0xd499, 0x900, 0xea0d, 0x4f5e, 0x1b9c, 0x1, 0x1);
        gbc.writeMem(0x4771, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xd499);
        EXPECT(gbc.pc(), 0x4773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02DA
        gbc.setState(0x7458, 0x739a, 0xf020, 0x8d1c, 0xe678, 0x8ef7, 0x0, 0x0);
        gbc.writeMem(0x7458, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x739a);
        EXPECT(gbc.pc(), 0x745a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02DB
        gbc.setState(0x150e, 0xae22, 0x940, 0xd329, 0x558c, 0xb1df, 0x1, 0x1);
        gbc.writeMem(0x150e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xae22);
        EXPECT(gbc.pc(), 0x1510);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02DC
        gbc.setState(0x5df7, 0x6271, 0x2ef0, 0x57ce, 0x10f, 0x6be4, 0x0, 0x1);
        gbc.writeMem(0x5df7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6271);
        EXPECT(gbc.pc(), 0x5df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02DD
        gbc.setState(0x8234, 0xfd48, 0x4e20, 0xd2f8, 0xf045, 0x4ba1, 0x0, 0x0);
        gbc.writeMem(0x8234, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfd48);
        EXPECT(gbc.pc(), 0x8236);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8234), 0xcb);
        EXPECT(gbc.readMem(0x8235), 0x1f);
        // CB 1F 02DE
        gbc.setState(0x895, 0x2f80, 0x7b70, 0x2aaf, 0xccd4, 0x2c3a, 0x0, 0x0);
        gbc.writeMem(0x895, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2f80);
        EXPECT(gbc.pc(), 0x897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02DF
        gbc.setState(0xacbc, 0xe042, 0xd250, 0xa9ca, 0xad64, 0xdfec, 0x0, 0x1);
        gbc.writeMem(0xacbc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe042);
        EXPECT(gbc.pc(), 0xacbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacbc), 0xcb);
        EXPECT(gbc.readMem(0xacbd), 0x1f);
        // CB 1F 02E0
        gbc.setState(0x8b59, 0x83fb, 0xd350, 0xe9d2, 0x2009, 0x935f, 0x1, 0x1);
        gbc.writeMem(0x8b59, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x83fb);
        EXPECT(gbc.pc(), 0x8b5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b59), 0xcb);
        EXPECT(gbc.readMem(0x8b5a), 0x1f);
        // CB 1F 02E1
        gbc.setState(0xcc4b, 0x5c9f, 0x35f0, 0x5c06, 0x4ca8, 0x3ec6, 0x1, 0x0);
        gbc.writeMem(0xcc4b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5c9f);
        EXPECT(gbc.pc(), 0xcc4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc4b), 0xcb);
        EXPECT(gbc.readMem(0xcc4c), 0x1f);
        // CB 1F 02E2
        gbc.setState(0x620b, 0x515f, 0x9440, 0x52b1, 0x36cb, 0x9f70, 0x0, 0x0);
        gbc.writeMem(0x620b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x515f);
        EXPECT(gbc.pc(), 0x620d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02E3
        gbc.setState(0xb761, 0x7e0b, 0xed40, 0x5ce4, 0x80c7, 0x71f9, 0x1, 0x1);
        gbc.writeMem(0xb761, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7e0b);
        EXPECT(gbc.pc(), 0xb763);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb761), 0xcb);
        EXPECT(gbc.readMem(0xb762), 0x1f);
        // CB 1F 02E4
        gbc.setState(0x87e, 0x9c51, 0xea30, 0x9d23, 0x14d5, 0x86f4, 0x0, 0x1);
        gbc.writeMem(0x87e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x9c51);
        EXPECT(gbc.pc(), 0x880);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02E5
        gbc.setState(0xd574, 0x260c, 0x8500, 0x26d1, 0xff79, 0xd3da, 0x1, 0x0);
        gbc.writeMem(0xd574, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x260c);
        EXPECT(gbc.pc(), 0xd576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd574), 0xcb);
        EXPECT(gbc.readMem(0xd575), 0x1f);
        // CB 1F 02E6
        gbc.setState(0x4b77, 0x32a7, 0xc530, 0x576a, 0xaf34, 0xc996, 0x1, 0x0);
        gbc.writeMem(0x4b77, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x32a7);
        EXPECT(gbc.pc(), 0x4b79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02E7
        gbc.setState(0x473b, 0xb392, 0x71a0, 0x3d3d, 0x61a2, 0xeda6, 0x0, 0x0);
        gbc.writeMem(0x473b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb392);
        EXPECT(gbc.pc(), 0x473d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02E8
        gbc.setState(0xc87, 0xa968, 0xc250, 0x46a1, 0xde8d, 0x4c0e, 0x1, 0x1);
        gbc.writeMem(0xc87, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa968);
        EXPECT(gbc.pc(), 0xc89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02E9
        gbc.setState(0x58d9, 0xc459, 0x5980, 0x289e, 0x375e, 0x409b, 0x1, 0x0);
        gbc.writeMem(0x58d9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc459);
        EXPECT(gbc.pc(), 0x58db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02EA
        gbc.setState(0x113d, 0xc97, 0x8120, 0xe72a, 0x675e, 0x4221, 0x0, 0x0);
        gbc.writeMem(0x113d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc97);
        EXPECT(gbc.pc(), 0x113f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02EB
        gbc.setState(0xebb2, 0xe9a1, 0xb7d0, 0x78e0, 0xd414, 0x98b, 0x1, 0x0);
        gbc.writeMem(0xebb2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe9a1);
        EXPECT(gbc.pc(), 0xebb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebb2), 0xcb);
        EXPECT(gbc.readMem(0xebb3), 0x1f);
        // CB 1F 02EC
        gbc.setState(0x7910, 0xefb8, 0xf4a0, 0xd1e, 0x9bff, 0x1dca, 0x0, 0x1);
        gbc.writeMem(0x7910, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xefb8);
        EXPECT(gbc.pc(), 0x7912);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02ED
        gbc.setState(0xa21, 0x62a2, 0x2c00, 0x2dd8, 0x2508, 0xd2c9, 0x1, 0x0);
        gbc.writeMem(0xa21, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x62a2);
        EXPECT(gbc.pc(), 0xa23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02EE
        gbc.setState(0x406f, 0x481f, 0xa20, 0x40e8, 0x107, 0x9a0b, 0x1, 0x1);
        gbc.writeMem(0x406f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x481f);
        EXPECT(gbc.pc(), 0x4071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02EF
        gbc.setState(0xb07, 0xaa05, 0x35d0, 0x77f6, 0x97eb, 0x6ac9, 0x0, 0x0);
        gbc.writeMem(0xb07, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xaa05);
        EXPECT(gbc.pc(), 0xb09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02F0
        gbc.setState(0xa2f1, 0x1320, 0xee40, 0xcd71, 0x58dd, 0xdb, 0x1, 0x1);
        gbc.writeMem(0xa2f1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1320);
        EXPECT(gbc.pc(), 0xa2f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2f1), 0xcb);
        EXPECT(gbc.readMem(0xa2f2), 0x1f);
        // CB 1F 02F1
        gbc.setState(0xcd93, 0x8da9, 0xb270, 0xcb23, 0xa87d, 0x6440, 0x0, 0x1);
        gbc.writeMem(0xcd93, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8da9);
        EXPECT(gbc.pc(), 0xcd95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd93), 0xcb);
        EXPECT(gbc.readMem(0xcd94), 0x1f);
        // CB 1F 02F2
        gbc.setState(0x57fa, 0x49d0, 0x850, 0x3812, 0xbcdd, 0x91cf, 0x0, 0x1);
        gbc.writeMem(0x57fa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x49d0);
        EXPECT(gbc.pc(), 0x57fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02F3
        gbc.setState(0x158a, 0xd16f, 0x21f0, 0x7e2d, 0x3b6e, 0xa672, 0x1, 0x1);
        gbc.writeMem(0x158a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd16f);
        EXPECT(gbc.pc(), 0x158c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02F4
        gbc.setState(0xe7cd, 0xcec8, 0xb1c0, 0xbe50, 0xd07, 0x54fb, 0x0, 0x0);
        gbc.writeMem(0xe7cd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcec8);
        EXPECT(gbc.pc(), 0xe7cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7cd), 0xcb);
        EXPECT(gbc.readMem(0xe7ce), 0x1f);
        // CB 1F 02F5
        gbc.setState(0x693e, 0x9204, 0x50f0, 0x48e0, 0x4fb4, 0x27b6, 0x0, 0x1);
        gbc.writeMem(0x693e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9204);
        EXPECT(gbc.pc(), 0x6940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02F6
        gbc.setState(0x89a, 0x5900, 0x4f00, 0x6e61, 0x3114, 0x1fbb, 0x0, 0x0);
        gbc.writeMem(0x89a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5900);
        EXPECT(gbc.pc(), 0x89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02F7
        gbc.setState(0x2e22, 0xda5a, 0x2340, 0xbca3, 0x39df, 0x9c09, 0x1, 0x1);
        gbc.writeMem(0x2e22, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xda5a);
        EXPECT(gbc.pc(), 0x2e24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02F8
        gbc.setState(0x1307, 0xa6c9, 0x5120, 0x89f3, 0xf266, 0xdb67, 0x1, 0x1);
        gbc.writeMem(0x1307, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa6c9);
        EXPECT(gbc.pc(), 0x1309);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02F9
        gbc.setState(0xda38, 0x3584, 0xc360, 0xa4c5, 0x8468, 0xeaf2, 0x0, 0x1);
        gbc.writeMem(0xda38, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3584);
        EXPECT(gbc.pc(), 0xda3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda38), 0xcb);
        EXPECT(gbc.readMem(0xda39), 0x1f);
        // CB 1F 02FA
        gbc.setState(0x2d4c, 0xb873, 0x8410, 0x8a70, 0xba34, 0x5210, 0x1, 0x1);
        gbc.writeMem(0x2d4c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb873);
        EXPECT(gbc.pc(), 0x2d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02FB
        gbc.setState(0x6bd7, 0x49a4, 0xe590, 0xe92, 0x23af, 0xcf11, 0x0, 0x0);
        gbc.writeMem(0x6bd7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x49a4);
        EXPECT(gbc.pc(), 0x6bd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 02FC
        gbc.setState(0x17c1, 0x9e48, 0xb060, 0xecac, 0xce11, 0xc82f, 0x0, 0x1);
        gbc.writeMem(0x17c1, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9e48);
        EXPECT(gbc.pc(), 0x17c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02FD
        gbc.setState(0xaace, 0x725f, 0x1170, 0xf66, 0x43fe, 0x29ca, 0x1, 0x0);
        gbc.writeMem(0xaace, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x725f);
        EXPECT(gbc.pc(), 0xaad0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaace), 0xcb);
        EXPECT(gbc.readMem(0xaacf), 0x1f);
        // CB 1F 02FE
        gbc.setState(0x3e98, 0xc2eb, 0xbc10, 0x347e, 0x5843, 0xb23d, 0x0, 0x1);
        gbc.writeMem(0x3e98, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc2eb);
        EXPECT(gbc.pc(), 0x3e9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 02FF
        gbc.setState(0xd30d, 0xc16c, 0x4240, 0xfb32, 0x1b29, 0x376b, 0x0, 0x1);
        gbc.writeMem(0xd30d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc16c);
        EXPECT(gbc.pc(), 0xd30f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd30d), 0xcb);
        EXPECT(gbc.readMem(0xd30e), 0x1f);
        // CB 1F 0300
        gbc.setState(0x77a3, 0xb956, 0xb4d0, 0xccb, 0x5765, 0x768e, 0x1, 0x1);
        gbc.writeMem(0x77a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xb956);
        EXPECT(gbc.pc(), 0x77a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0301
        gbc.setState(0xb53f, 0x5a27, 0x8630, 0x8be3, 0x7be4, 0xcc2d, 0x0, 0x0);
        gbc.writeMem(0xb53f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5a27);
        EXPECT(gbc.pc(), 0xb541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb53f), 0xcb);
        EXPECT(gbc.readMem(0xb540), 0x1f);
        // CB 1F 0302
        gbc.setState(0x31ae, 0xbeb8, 0x9360, 0xdde6, 0x1a03, 0x53e9, 0x0, 0x1);
        gbc.writeMem(0x31ae, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbeb8);
        EXPECT(gbc.pc(), 0x31b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0303
        gbc.setState(0x8e8a, 0xe187, 0x9930, 0xa512, 0x55bf, 0xe623, 0x1, 0x0);
        gbc.writeMem(0x8e8a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe187);
        EXPECT(gbc.pc(), 0x8e8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e8a), 0xcb);
        EXPECT(gbc.readMem(0x8e8b), 0x1f);
        // CB 1F 0304
        gbc.setState(0x37cb, 0x4586, 0xa200, 0x347a, 0x7e42, 0x3565, 0x0, 0x0);
        gbc.writeMem(0x37cb, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4586);
        EXPECT(gbc.pc(), 0x37cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0305
        gbc.setState(0x4407, 0x7ee6, 0x970, 0xcfe5, 0x2ca0, 0x8843, 0x1, 0x0);
        gbc.writeMem(0x4407, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7ee6);
        EXPECT(gbc.pc(), 0x4409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0306
        gbc.setState(0xe83f, 0xc715, 0x1d10, 0x3b69, 0x1a08, 0x7793, 0x1, 0x1);
        gbc.writeMem(0xe83f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc715);
        EXPECT(gbc.pc(), 0xe841);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe83f), 0xcb);
        EXPECT(gbc.readMem(0xe840), 0x1f);
        // CB 1F 0307
        gbc.setState(0x6bbe, 0x13aa, 0x2b60, 0xe92a, 0x357d, 0xd6b4, 0x1, 0x0);
        gbc.writeMem(0x6bbe, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x13aa);
        EXPECT(gbc.pc(), 0x6bc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0309
        gbc.setState(0x7f1b, 0x16b3, 0xd450, 0x2d74, 0xa6bf, 0xc16f, 0x1, 0x0);
        gbc.writeMem(0x7f1b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x16b3);
        EXPECT(gbc.pc(), 0x7f1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 030A
        gbc.setState(0x4ed6, 0x29cb, 0x6550, 0xd415, 0xbf65, 0x686c, 0x0, 0x0);
        gbc.writeMem(0x4ed6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x29cb);
        EXPECT(gbc.pc(), 0x4ed8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 030B
        gbc.setState(0xc02c, 0x400, 0x9160, 0xb1b4, 0x6887, 0xbabe, 0x1, 0x0);
        gbc.writeMem(0xc02c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x400);
        EXPECT(gbc.pc(), 0xc02e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc02c), 0xcb);
        EXPECT(gbc.readMem(0xc02d), 0x1f);
        // CB 1F 030C
        gbc.setState(0x6149, 0x808e, 0xe8d0, 0x18e3, 0x69b2, 0xd19, 0x1, 0x0);
        gbc.writeMem(0x6149, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x808e);
        EXPECT(gbc.pc(), 0x614b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 030D
        gbc.setState(0x5013, 0x4eae, 0x6b0, 0x529, 0x12c7, 0xb1d0, 0x0, 0x0);
        gbc.writeMem(0x5013, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4eae);
        EXPECT(gbc.pc(), 0x5015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 030E
        gbc.setState(0xea6b, 0x4623, 0x8d0, 0xe57a, 0xe056, 0x7639, 0x1, 0x0);
        gbc.writeMem(0xea6b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x4623);
        EXPECT(gbc.pc(), 0xea6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea6b), 0xcb);
        EXPECT(gbc.readMem(0xea6c), 0x1f);
        // CB 1F 030F
        gbc.setState(0xae50, 0xe1f0, 0x3490, 0xf349, 0x4f53, 0x4c45, 0x1, 0x0);
        gbc.writeMem(0xae50, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe1f0);
        EXPECT(gbc.pc(), 0xae52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae50), 0xcb);
        EXPECT(gbc.readMem(0xae51), 0x1f);
        // CB 1F 0310
        gbc.setState(0xccf, 0x4297, 0xa250, 0x3733, 0xac53, 0x12c9, 0x0, 0x1);
        gbc.writeMem(0xccf, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4297);
        EXPECT(gbc.pc(), 0xcd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0311
        gbc.setState(0x5259, 0x3333, 0x7ce0, 0xba90, 0x7967, 0xd7b3, 0x1, 0x1);
        gbc.writeMem(0x5259, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3333);
        EXPECT(gbc.pc(), 0x525b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0312
        gbc.setState(0x90ac, 0xe342, 0xb7a0, 0xa68, 0xfe5c, 0xa01d, 0x1, 0x1);
        gbc.writeMem(0x90ac, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe342);
        EXPECT(gbc.pc(), 0x90ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90ac), 0xcb);
        EXPECT(gbc.readMem(0x90ad), 0x1f);
        // CB 1F 0313
        gbc.setState(0x3841, 0x1f33, 0x4360, 0xad7e, 0xcd8, 0x743a, 0x0, 0x0);
        gbc.writeMem(0x3841, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x1f33);
        EXPECT(gbc.pc(), 0x3843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0314
        gbc.setState(0x6682, 0x6e75, 0xed30, 0xad39, 0x7ce7, 0x9cc5, 0x0, 0x1);
        gbc.writeMem(0x6682, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6e75);
        EXPECT(gbc.pc(), 0x6684);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0316
        gbc.setState(0xa6de, 0xbd78, 0xb330, 0xceda, 0xeb1b, 0x43e5, 0x1, 0x0);
        gbc.writeMem(0xa6de, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xbd78);
        EXPECT(gbc.pc(), 0xa6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6de), 0xcb);
        EXPECT(gbc.readMem(0xa6df), 0x1f);
        // CB 1F 0317
        gbc.setState(0x7d8d, 0xbeac, 0x18f0, 0x6871, 0xad84, 0xfa90, 0x0, 0x0);
        gbc.writeMem(0x7d8d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xbeac);
        EXPECT(gbc.pc(), 0x7d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 031A
        gbc.setState(0x4f0, 0x8cda, 0x2a60, 0x1396, 0x495b, 0xeb57, 0x0, 0x1);
        gbc.writeMem(0x4f0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x8cda);
        EXPECT(gbc.pc(), 0x4f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 031B
        gbc.setState(0x25de, 0x1460, 0x7070, 0x7ff7, 0x375, 0x42e0, 0x0, 0x0);
        gbc.writeMem(0x25de, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1460);
        EXPECT(gbc.pc(), 0x25e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 031C
        gbc.setState(0x1643, 0x8cd, 0xa0a0, 0xf17d, 0xb75b, 0x157d, 0x0, 0x1);
        gbc.writeMem(0x1643, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8cd);
        EXPECT(gbc.pc(), 0x1645);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 031D
        gbc.setState(0xc856, 0x7cc5, 0xc090, 0xedf2, 0xd78a, 0xdcb8, 0x1, 0x0);
        gbc.writeMem(0xc856, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x7cc5);
        EXPECT(gbc.pc(), 0xc858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc856), 0xcb);
        EXPECT(gbc.readMem(0xc857), 0x1f);
        // CB 1F 031E
        gbc.setState(0x19f8, 0x360a, 0x1dc0, 0x31c8, 0x8a98, 0x68ef, 0x1, 0x1);
        gbc.writeMem(0x19f8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x360a);
        EXPECT(gbc.pc(), 0x19fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 031F
        gbc.setState(0x3b1f, 0xaa28, 0x9f50, 0xa79f, 0x71e1, 0xa437, 0x0, 0x0);
        gbc.writeMem(0x3b1f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xaa28);
        EXPECT(gbc.pc(), 0x3b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0320
        gbc.setState(0x5d0b, 0x880a, 0xc710, 0xb2ef, 0xafdf, 0x901a, 0x1, 0x0);
        gbc.writeMem(0x5d0b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x880a);
        EXPECT(gbc.pc(), 0x5d0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0321
        gbc.setState(0x6fe4, 0x15c, 0x56b0, 0xf262, 0xd357, 0xba7d, 0x1, 0x1);
        gbc.writeMem(0x6fe4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x15c);
        EXPECT(gbc.pc(), 0x6fe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0322
        gbc.setState(0xb5f, 0x150e, 0x1520, 0x2975, 0x4ab1, 0xd518, 0x0, 0x1);
        gbc.writeMem(0xb5f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x150e);
        EXPECT(gbc.pc(), 0xb61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0323
        gbc.setState(0x4501, 0xc99b, 0x2570, 0xed92, 0x2b05, 0x143, 0x1, 0x1);
        gbc.writeMem(0x4501, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc99b);
        EXPECT(gbc.pc(), 0x4503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0324
        gbc.setState(0x5d93, 0xfb44, 0x700, 0x4e11, 0x8d18, 0x99a1, 0x1, 0x0);
        gbc.writeMem(0x5d93, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfb44);
        EXPECT(gbc.pc(), 0x5d95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0325
        gbc.setState(0xc9fa, 0x7fe3, 0xbd00, 0xc077, 0x976d, 0x7993, 0x1, 0x1);
        gbc.writeMem(0xc9fa, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x7fe3);
        EXPECT(gbc.pc(), 0xc9fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9fa), 0xcb);
        EXPECT(gbc.readMem(0xc9fb), 0x1f);
        // CB 1F 0326
        gbc.setState(0x88a3, 0x97a1, 0x8220, 0x22ad, 0x3fb6, 0x1fd3, 0x1, 0x0);
        gbc.writeMem(0x88a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x97a1);
        EXPECT(gbc.pc(), 0x88a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a3), 0xcb);
        EXPECT(gbc.readMem(0x88a4), 0x1f);
        // CB 1F 0327
        gbc.setState(0xb0e5, 0x249c, 0xab10, 0x55a8, 0x458b, 0x26c1, 0x1, 0x0);
        gbc.writeMem(0xb0e5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x249c);
        EXPECT(gbc.pc(), 0xb0e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0e5), 0xcb);
        EXPECT(gbc.readMem(0xb0e6), 0x1f);
        // CB 1F 0328
        gbc.setState(0x62b4, 0x3f89, 0x50a0, 0x7cd3, 0x7761, 0xbda9, 0x1, 0x1);
        gbc.writeMem(0x62b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3f89);
        EXPECT(gbc.pc(), 0x62b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0329
        gbc.setState(0x3bf, 0x73f5, 0x39a0, 0x99ea, 0x1f46, 0xabba, 0x0, 0x0);
        gbc.writeMem(0x3bf, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x73f5);
        EXPECT(gbc.pc(), 0x3c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 032A
        gbc.setState(0x1041, 0x229, 0xe350, 0xf07c, 0xc81f, 0xaded, 0x0, 0x0);
        gbc.writeMem(0x1041, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x229);
        EXPECT(gbc.pc(), 0x1043);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 032B
        gbc.setState(0x4a96, 0xd4d3, 0xdca0, 0xdd74, 0x97ed, 0x8a2b, 0x0, 0x0);
        gbc.writeMem(0x4a96, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd4d3);
        EXPECT(gbc.pc(), 0x4a98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 032C
        gbc.setState(0x5bb2, 0xd8b0, 0xf4a0, 0xa282, 0x2a83, 0xc247, 0x1, 0x0);
        gbc.writeMem(0x5bb2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd8b0);
        EXPECT(gbc.pc(), 0x5bb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 032D
        gbc.setState(0x73f3, 0xbda7, 0xaad0, 0x742, 0x6b8b, 0xcfa7, 0x1, 0x0);
        gbc.writeMem(0x73f3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xbda7);
        EXPECT(gbc.pc(), 0x73f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 032E
        gbc.setState(0x75be, 0x2142, 0x6280, 0xff60, 0x7d9b, 0xc65c, 0x1, 0x1);
        gbc.writeMem(0x75be, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x2142);
        EXPECT(gbc.pc(), 0x75c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 032F
        gbc.setState(0xe8dc, 0xa923, 0xc590, 0x541d, 0xd3f2, 0x241c, 0x1, 0x1);
        gbc.writeMem(0xe8dc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa923);
        EXPECT(gbc.pc(), 0xe8de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8dc), 0xcb);
        EXPECT(gbc.readMem(0xe8dd), 0x1f);
        // CB 1F 0330
        gbc.setState(0x4c03, 0x9e39, 0x3730, 0xf982, 0x5970, 0x7f7, 0x1, 0x0);
        gbc.writeMem(0x4c03, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9e39);
        EXPECT(gbc.pc(), 0x4c05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0331
        gbc.setState(0x1671, 0xba68, 0x7f20, 0x18c4, 0xa0b6, 0xdb45, 0x1, 0x0);
        gbc.writeMem(0x1671, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xba68);
        EXPECT(gbc.pc(), 0x1673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0332
        gbc.setState(0x61e7, 0x4dab, 0x360, 0xcadc, 0x4c5c, 0x5126, 0x0, 0x1);
        gbc.writeMem(0x61e7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x4dab);
        EXPECT(gbc.pc(), 0x61e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0333
        gbc.setState(0xd37f, 0x7d4b, 0x1fb0, 0x4ce2, 0x4351, 0x1cf2, 0x0, 0x0);
        gbc.writeMem(0xd37f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x7d4b);
        EXPECT(gbc.pc(), 0xd381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd37f), 0xcb);
        EXPECT(gbc.readMem(0xd380), 0x1f);
        // CB 1F 0334
        gbc.setState(0x7620, 0x8fe9, 0xbc50, 0x8ab5, 0xb7d3, 0xcf4, 0x1, 0x0);
        gbc.writeMem(0x7620, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8fe9);
        EXPECT(gbc.pc(), 0x7622);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0335
        gbc.setState(0xc81b, 0xfb0a, 0xd4f0, 0xc9a5, 0x6819, 0xbee3, 0x1, 0x0);
        gbc.writeMem(0xc81b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfb0a);
        EXPECT(gbc.pc(), 0xc81d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc81b), 0xcb);
        EXPECT(gbc.readMem(0xc81c), 0x1f);
        // CB 1F 0336
        gbc.setState(0x1ac, 0xf5bb, 0xd3b0, 0xb160, 0x25f7, 0x2220, 0x0, 0x0);
        gbc.writeMem(0x1ac, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf5bb);
        EXPECT(gbc.pc(), 0x1ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0337
        gbc.setState(0x9675, 0xb046, 0xc310, 0xea96, 0xf95c, 0x378f, 0x1, 0x1);
        gbc.writeMem(0x9675, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb046);
        EXPECT(gbc.pc(), 0x9677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9675), 0xcb);
        EXPECT(gbc.readMem(0x9676), 0x1f);
        // CB 1F 0338
        gbc.setState(0x58c4, 0x7804, 0x9c60, 0xfe7e, 0xc985, 0xb8de, 0x1, 0x1);
        gbc.writeMem(0x58c4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7804);
        EXPECT(gbc.pc(), 0x58c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0339
        gbc.setState(0x5439, 0x7576, 0x12a0, 0x91e7, 0x1aa7, 0x8ce9, 0x0, 0x0);
        gbc.writeMem(0x5439, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7576);
        EXPECT(gbc.pc(), 0x543b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 033A
        gbc.setState(0x7eef, 0x805, 0x2570, 0x6ade, 0x9ed5, 0x34c5, 0x0, 0x1);
        gbc.writeMem(0x7eef, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x805);
        EXPECT(gbc.pc(), 0x7ef1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 033B
        gbc.setState(0xcf6c, 0x9efc, 0xd560, 0xfe85, 0x5ef8, 0x8878, 0x1, 0x1);
        gbc.writeMem(0xcf6c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9efc);
        EXPECT(gbc.pc(), 0xcf6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf6c), 0xcb);
        EXPECT(gbc.readMem(0xcf6d), 0x1f);
        // CB 1F 033C
        gbc.setState(0xef9, 0x80dc, 0xc650, 0x7745, 0x449a, 0xd1e4, 0x1, 0x0);
        gbc.writeMem(0xef9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x80dc);
        EXPECT(gbc.pc(), 0xefb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 033D
        gbc.setState(0x4f5f, 0xe4a, 0x3b10, 0xef6a, 0x3ef, 0x98b, 0x0, 0x1);
        gbc.writeMem(0x4f5f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe4a);
        EXPECT(gbc.pc(), 0x4f61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 033E
        gbc.setState(0x4eee, 0x6726, 0xc250, 0x5130, 0xad47, 0x246b, 0x0, 0x1);
        gbc.writeMem(0x4eee, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6726);
        EXPECT(gbc.pc(), 0x4ef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 033F
        gbc.setState(0xeac0, 0x76d9, 0x8170, 0xeb83, 0xcf80, 0x6739, 0x0, 0x0);
        gbc.writeMem(0xeac0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x76d9);
        EXPECT(gbc.pc(), 0xeac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeac0), 0xcb);
        EXPECT(gbc.readMem(0xeac1), 0x1f);
        // CB 1F 0341
        gbc.setState(0x7a49, 0x8496, 0xd070, 0x3f5a, 0x7e53, 0xc13b, 0x1, 0x0);
        gbc.writeMem(0x7a49, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8496);
        EXPECT(gbc.pc(), 0x7a4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0342
        gbc.setState(0x19e7, 0x3f34, 0xfdc0, 0xcaef, 0xb5c9, 0x5fb0, 0x1, 0x0);
        gbc.writeMem(0x19e7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3f34);
        EXPECT(gbc.pc(), 0x19e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0344
        gbc.setState(0x9b26, 0xfc50, 0x3160, 0x73f4, 0x708f, 0x963d, 0x1, 0x1);
        gbc.writeMem(0x9b26, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xfc50);
        EXPECT(gbc.pc(), 0x9b28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b26), 0xcb);
        EXPECT(gbc.readMem(0x9b27), 0x1f);
        // CB 1F 0345
        gbc.setState(0xcc6d, 0x163d, 0x39d0, 0x23be, 0x7e87, 0xaffc, 0x1, 0x1);
        gbc.writeMem(0xcc6d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x163d);
        EXPECT(gbc.pc(), 0xcc6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc6d), 0xcb);
        EXPECT(gbc.readMem(0xcc6e), 0x1f);
        // CB 1F 0346
        gbc.setState(0x7c2a, 0x82c4, 0x2460, 0x36e6, 0xdf3c, 0xa2b3, 0x1, 0x1);
        gbc.writeMem(0x7c2a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x82c4);
        EXPECT(gbc.pc(), 0x7c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0347
        gbc.setState(0x52b8, 0x74e8, 0xf860, 0x9f27, 0x47f4, 0xe8ce, 0x0, 0x1);
        gbc.writeMem(0x52b8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x74e8);
        EXPECT(gbc.pc(), 0x52ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0348
        gbc.setState(0xd4a5, 0xa47f, 0x5b00, 0xf746, 0x917d, 0x1086, 0x1, 0x0);
        gbc.writeMem(0xd4a5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa47f);
        EXPECT(gbc.pc(), 0xd4a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4a5), 0xcb);
        EXPECT(gbc.readMem(0xd4a6), 0x1f);
        // CB 1F 034A
        gbc.setState(0x8d28, 0x7fbf, 0x1230, 0xd6e9, 0x750e, 0x3811, 0x0, 0x1);
        gbc.writeMem(0x8d28, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7fbf);
        EXPECT(gbc.pc(), 0x8d2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d28), 0xcb);
        EXPECT(gbc.readMem(0x8d29), 0x1f);
        // CB 1F 034B
        gbc.setState(0x1bd2, 0xb9b1, 0x3920, 0xc025, 0xfceb, 0x14da, 0x1, 0x0);
        gbc.writeMem(0x1bd2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb9b1);
        EXPECT(gbc.pc(), 0x1bd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 034C
        gbc.setState(0x6998, 0x7c54, 0x3a60, 0xdf5c, 0xccad, 0x1f9e, 0x1, 0x1);
        gbc.writeMem(0x6998, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x7c54);
        EXPECT(gbc.pc(), 0x699a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 034D
        gbc.setState(0x21f2, 0xb212, 0xe80, 0x635f, 0x3283, 0x1373, 0x0, 0x0);
        gbc.writeMem(0x21f2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xb212);
        EXPECT(gbc.pc(), 0x21f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 034F
        gbc.setState(0x348e, 0x3117, 0x34b0, 0x5688, 0x2c99, 0xdd5b, 0x1, 0x0);
        gbc.writeMem(0x348e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3117);
        EXPECT(gbc.pc(), 0x3490);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0350
        gbc.setState(0x4f3f, 0xcac8, 0xf2d0, 0x8fe0, 0x7a41, 0xae65, 0x0, 0x1);
        gbc.writeMem(0x4f3f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xcac8);
        EXPECT(gbc.pc(), 0x4f41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0351
        gbc.setState(0x188e, 0x64fd, 0xcf30, 0xa438, 0x5cd2, 0x7f65, 0x1, 0x1);
        gbc.writeMem(0x188e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x64fd);
        EXPECT(gbc.pc(), 0x1890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0352
        gbc.setState(0x624f, 0xa473, 0xe70, 0x66a6, 0xd330, 0xf819, 0x1, 0x1);
        gbc.writeMem(0x624f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa473);
        EXPECT(gbc.pc(), 0x6251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0353
        gbc.setState(0xba62, 0x81f2, 0xc9f0, 0xe41, 0x1e91, 0x96f8, 0x0, 0x1);
        gbc.writeMem(0xba62, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x81f2);
        EXPECT(gbc.pc(), 0xba64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba62), 0xcb);
        EXPECT(gbc.readMem(0xba63), 0x1f);
        // CB 1F 0354
        gbc.setState(0xdfe7, 0x1b0c, 0x54a0, 0x506c, 0xb15c, 0x6e72, 0x1, 0x1);
        gbc.writeMem(0xdfe7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x1b0c);
        EXPECT(gbc.pc(), 0xdfe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe7), 0xcb);
        EXPECT(gbc.readMem(0xdfe8), 0x1f);
        // CB 1F 0355
        gbc.setState(0x25f7, 0xe054, 0x2720, 0x6ed, 0x2763, 0x1c16, 0x0, 0x1);
        gbc.writeMem(0x25f7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xe054);
        EXPECT(gbc.pc(), 0x25f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0356
        gbc.setState(0x2762, 0x81b6, 0x3340, 0x5d80, 0x9c52, 0x8543, 0x1, 0x1);
        gbc.writeMem(0x2762, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x81b6);
        EXPECT(gbc.pc(), 0x2764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0357
        gbc.setState(0x9356, 0xfb2e, 0x3bd0, 0xbee8, 0xf652, 0x64ab, 0x1, 0x0);
        gbc.writeMem(0x9356, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xfb2e);
        EXPECT(gbc.pc(), 0x9358);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9356), 0xcb);
        EXPECT(gbc.readMem(0x9357), 0x1f);
        // CB 1F 0358
        gbc.setState(0x1839, 0xb630, 0x4e60, 0x6ee7, 0xc86f, 0xf675, 0x0, 0x1);
        gbc.writeMem(0x1839, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb630);
        EXPECT(gbc.pc(), 0x183b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0359
        gbc.setState(0xd2f3, 0x6f3e, 0x9d10, 0x1031, 0x949d, 0x9b16, 0x0, 0x1);
        gbc.writeMem(0xd2f3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6f3e);
        EXPECT(gbc.pc(), 0xd2f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2f3), 0xcb);
        EXPECT(gbc.readMem(0xd2f4), 0x1f);
        // CB 1F 035A
        gbc.setState(0xa373, 0x1fb2, 0x8f40, 0xb6d1, 0x79b2, 0x4cba, 0x1, 0x1);
        gbc.writeMem(0xa373, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1fb2);
        EXPECT(gbc.pc(), 0xa375);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa373), 0xcb);
        EXPECT(gbc.readMem(0xa374), 0x1f);
        // CB 1F 035B
        gbc.setState(0x181c, 0xe582, 0x22b0, 0x1996, 0xb9f4, 0x7d6a, 0x1, 0x0);
        gbc.writeMem(0x181c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xe582);
        EXPECT(gbc.pc(), 0x181e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 035C
        gbc.setState(0x3521, 0xf4c, 0x9d90, 0xf157, 0xb787, 0x909b, 0x0, 0x0);
        gbc.writeMem(0x3521, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf4c);
        EXPECT(gbc.pc(), 0x3523);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 035D
        gbc.setState(0xe581, 0x181e, 0xd830, 0xa086, 0xa7a8, 0xf7d3, 0x0, 0x0);
        gbc.writeMem(0xe581, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x181e);
        EXPECT(gbc.pc(), 0xe583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe581), 0xcb);
        EXPECT(gbc.readMem(0xe582), 0x1f);
        // CB 1F 035E
        gbc.setState(0x6502, 0x363c, 0xc110, 0xda92, 0x3fa, 0xf51f, 0x1, 0x1);
        gbc.writeMem(0x6502, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x363c);
        EXPECT(gbc.pc(), 0x6504);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 035F
        gbc.setState(0x1d23, 0xc0a3, 0x43e0, 0x8b7f, 0x8fc6, 0xbaae, 0x0, 0x0);
        gbc.writeMem(0x1d23, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc0a3);
        EXPECT(gbc.pc(), 0x1d25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0360
        gbc.setState(0xc635, 0x593d, 0x24e0, 0x65ac, 0x8b88, 0xe406, 0x0, 0x0);
        gbc.writeMem(0xc635, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x593d);
        EXPECT(gbc.pc(), 0xc637);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc635), 0xcb);
        EXPECT(gbc.readMem(0xc636), 0x1f);
        // CB 1F 0361
        gbc.setState(0x3c8a, 0xeaae, 0xc970, 0x343b, 0x2f5c, 0x3ef8, 0x1, 0x1);
        gbc.writeMem(0x3c8a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xeaae);
        EXPECT(gbc.pc(), 0x3c8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0362
        gbc.setState(0x3a88, 0xe19b, 0x8980, 0x247d, 0x7da, 0xca6f, 0x0, 0x0);
        gbc.writeMem(0x3a88, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe19b);
        EXPECT(gbc.pc(), 0x3a8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0363
        gbc.setState(0x25f7, 0x3f1b, 0x7750, 0x9ebb, 0x4121, 0x12a5, 0x0, 0x1);
        gbc.writeMem(0x25f7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3f1b);
        EXPECT(gbc.pc(), 0x25f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0365
        gbc.setState(0xda1a, 0x9bd3, 0x17d0, 0x687e, 0xbd47, 0x26cd, 0x1, 0x0);
        gbc.writeMem(0xda1a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9bd3);
        EXPECT(gbc.pc(), 0xda1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda1a), 0xcb);
        EXPECT(gbc.readMem(0xda1b), 0x1f);
        // CB 1F 0366
        gbc.setState(0x68f0, 0x5d31, 0xb970, 0x5b36, 0x69b1, 0x3a94, 0x1, 0x1);
        gbc.writeMem(0x68f0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5d31);
        EXPECT(gbc.pc(), 0x68f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0367
        gbc.setState(0x3b03, 0xf0cd, 0xb0a0, 0x9a71, 0xc7de, 0x9bd7, 0x0, 0x0);
        gbc.writeMem(0x3b03, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf0cd);
        EXPECT(gbc.pc(), 0x3b05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0368
        gbc.setState(0xd5f2, 0x4447, 0x1aa0, 0x5bfa, 0xef42, 0x7668, 0x0, 0x1);
        gbc.writeMem(0xd5f2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x4447);
        EXPECT(gbc.pc(), 0xd5f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f2), 0xcb);
        EXPECT(gbc.readMem(0xd5f3), 0x1f);
        // CB 1F 0369
        gbc.setState(0xe0d8, 0x7a5a, 0x860, 0x83a8, 0xbb7a, 0x5f2b, 0x1, 0x1);
        gbc.writeMem(0xe0d8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7a5a);
        EXPECT(gbc.pc(), 0xe0da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0d8), 0xcb);
        EXPECT(gbc.readMem(0xe0d9), 0x1f);
        // CB 1F 036A
        gbc.setState(0x2730, 0x7455, 0x2ba0, 0x6156, 0x339b, 0x9fb7, 0x1, 0x1);
        gbc.writeMem(0x2730, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7455);
        EXPECT(gbc.pc(), 0x2732);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 036B
        gbc.setState(0x92b4, 0xadb7, 0xc400, 0xb583, 0x6137, 0x918, 0x0, 0x0);
        gbc.writeMem(0x92b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xadb7);
        EXPECT(gbc.pc(), 0x92b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92b4), 0xcb);
        EXPECT(gbc.readMem(0x92b5), 0x1f);
        // CB 1F 036C
        gbc.setState(0x6cd8, 0xd2f0, 0xf2d0, 0x4714, 0x6021, 0x5972, 0x0, 0x1);
        gbc.writeMem(0x6cd8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd2f0);
        EXPECT(gbc.pc(), 0x6cda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 036D
        gbc.setState(0xad00, 0xc68d, 0xfd80, 0xa431, 0xf3c2, 0x16b3, 0x1, 0x0);
        gbc.writeMem(0xad00, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc68d);
        EXPECT(gbc.pc(), 0xad02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad00), 0xcb);
        EXPECT(gbc.readMem(0xad01), 0x1f);
        // CB 1F 036E
        gbc.setState(0x3e3e, 0xdd91, 0xe930, 0xced7, 0x8ddd, 0x782b, 0x0, 0x1);
        gbc.writeMem(0x3e3e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xdd91);
        EXPECT(gbc.pc(), 0x3e40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 036F
        gbc.setState(0x5a95, 0xf9dd, 0x7350, 0xc1a0, 0x4596, 0x2ef, 0x0, 0x1);
        gbc.writeMem(0x5a95, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf9dd);
        EXPECT(gbc.pc(), 0x5a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0370
        gbc.setState(0x4292, 0xc564, 0xe700, 0xe1f8, 0xb84b, 0x9959, 0x1, 0x1);
        gbc.writeMem(0x4292, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc564);
        EXPECT(gbc.pc(), 0x4294);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0371
        gbc.setState(0x5936, 0x27a6, 0x9b90, 0x472f, 0xc62b, 0x6b6a, 0x0, 0x0);
        gbc.writeMem(0x5936, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x27a6);
        EXPECT(gbc.pc(), 0x5938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0372
        gbc.setState(0x6358, 0xdb47, 0xb130, 0xab8a, 0x3207, 0xb5c8, 0x0, 0x1);
        gbc.writeMem(0x6358, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xdb47);
        EXPECT(gbc.pc(), 0x635a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0373
        gbc.setState(0xbaa8, 0x3bf2, 0x5ee0, 0xfca4, 0x7e2f, 0x8a85, 0x1, 0x1);
        gbc.writeMem(0xbaa8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x3bf2);
        EXPECT(gbc.pc(), 0xbaaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaa8), 0xcb);
        EXPECT(gbc.readMem(0xbaa9), 0x1f);
        // CB 1F 0375
        gbc.setState(0xcd34, 0x3605, 0xbce0, 0x3873, 0xcc57, 0x61b9, 0x1, 0x1);
        gbc.writeMem(0xcd34, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3605);
        EXPECT(gbc.pc(), 0xcd36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd34), 0xcb);
        EXPECT(gbc.readMem(0xcd35), 0x1f);
        // CB 1F 0376
        gbc.setState(0xc602, 0x57e2, 0x9f10, 0x130, 0xa9d7, 0xdd73, 0x0, 0x0);
        gbc.writeMem(0xc602, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x57e2);
        EXPECT(gbc.pc(), 0xc604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc602), 0xcb);
        EXPECT(gbc.readMem(0xc603), 0x1f);
        // CB 1F 0377
        gbc.setState(0x95e7, 0x725d, 0x1d40, 0xba2e, 0x2868, 0xa4a4, 0x0, 0x0);
        gbc.writeMem(0x95e7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x725d);
        EXPECT(gbc.pc(), 0x95e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95e7), 0xcb);
        EXPECT(gbc.readMem(0x95e8), 0x1f);
        // CB 1F 037A
        gbc.setState(0xb34f, 0xb71f, 0xcf40, 0x6cd9, 0x8b33, 0xd9f5, 0x1, 0x1);
        gbc.writeMem(0xb34f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb71f);
        EXPECT(gbc.pc(), 0xb351);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb34f), 0xcb);
        EXPECT(gbc.readMem(0xb350), 0x1f);
        // CB 1F 037B
        gbc.setState(0x6744, 0xfb52, 0xe110, 0x228, 0x6989, 0xb025, 0x0, 0x1);
        gbc.writeMem(0x6744, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xfb52);
        EXPECT(gbc.pc(), 0x6746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 037C
        gbc.setState(0x1530, 0x8625, 0xe000, 0x27ad, 0xe496, 0x2b1f, 0x1, 0x1);
        gbc.writeMem(0x1530, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x8625);
        EXPECT(gbc.pc(), 0x1532);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 037D
        gbc.setState(0xcae9, 0x39f6, 0x7670, 0x93a3, 0x81bf, 0x780e, 0x0, 0x0);
        gbc.writeMem(0xcae9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x39f6);
        EXPECT(gbc.pc(), 0xcaeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcae9), 0xcb);
        EXPECT(gbc.readMem(0xcaea), 0x1f);
        // CB 1F 037F
        gbc.setState(0x2961, 0x3fd4, 0x1bc0, 0xbbce, 0xc157, 0xf400, 0x1, 0x1);
        gbc.writeMem(0x2961, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3fd4);
        EXPECT(gbc.pc(), 0x2963);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0380
        gbc.setState(0x1fd3, 0x14fe, 0xe0d0, 0x168d, 0xdf5f, 0x3c9e, 0x0, 0x0);
        gbc.writeMem(0x1fd3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x14fe);
        EXPECT(gbc.pc(), 0x1fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0381
        gbc.setState(0x5ee3, 0x5cc9, 0xa720, 0x93a8, 0xd558, 0x6d4c, 0x0, 0x0);
        gbc.writeMem(0x5ee3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5cc9);
        EXPECT(gbc.pc(), 0x5ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0382
        gbc.setState(0x7653, 0x93fc, 0x2df0, 0x87f0, 0x7bd9, 0x386c, 0x1, 0x0);
        gbc.writeMem(0x7653, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x93fc);
        EXPECT(gbc.pc(), 0x7655);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0383
        gbc.setState(0x75d4, 0x5080, 0x6f0, 0x9e2, 0x9c19, 0x68b7, 0x1, 0x1);
        gbc.writeMem(0x75d4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x5080);
        EXPECT(gbc.pc(), 0x75d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0384
        gbc.setState(0xa8e0, 0x45ec, 0xbd30, 0x62ea, 0xe169, 0x36ce, 0x1, 0x0);
        gbc.writeMem(0xa8e0, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x45ec);
        EXPECT(gbc.pc(), 0xa8e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8e0), 0xcb);
        EXPECT(gbc.readMem(0xa8e1), 0x1f);
        // CB 1F 0385
        gbc.setState(0x2fc9, 0x9234, 0x2910, 0x732, 0x213, 0x9eb5, 0x1, 0x1);
        gbc.writeMem(0x2fc9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9234);
        EXPECT(gbc.pc(), 0x2fcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0387
        gbc.setState(0xb2f9, 0xd24, 0x1d40, 0x7161, 0xfc22, 0x5371, 0x1, 0x1);
        gbc.writeMem(0xb2f9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xd24);
        EXPECT(gbc.pc(), 0xb2fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2f9), 0xcb);
        EXPECT(gbc.readMem(0xb2fa), 0x1f);
        // CB 1F 0388
        gbc.setState(0x622a, 0xeda4, 0x7e70, 0xffca, 0xf44a, 0xa2a2, 0x0, 0x0);
        gbc.writeMem(0x622a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xeda4);
        EXPECT(gbc.pc(), 0x622c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0389
        gbc.setState(0xc108, 0x5a39, 0xe00, 0x4b0, 0x61c7, 0x19e6, 0x1, 0x0);
        gbc.writeMem(0xc108, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5a39);
        EXPECT(gbc.pc(), 0xc10a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc108), 0xcb);
        EXPECT(gbc.readMem(0xc109), 0x1f);
        // CB 1F 038B
        gbc.setState(0xc851, 0xc9c6, 0xed30, 0xf39b, 0x847d, 0xbf20, 0x1, 0x1);
        gbc.writeMem(0xc851, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xc9c6);
        EXPECT(gbc.pc(), 0xc853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc851), 0xcb);
        EXPECT(gbc.readMem(0xc852), 0x1f);
        // CB 1F 038C
        gbc.setState(0xe944, 0x622f, 0x30, 0xb9b2, 0xe8cb, 0x34ee, 0x1, 0x1);
        gbc.writeMem(0xe944, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x622f);
        EXPECT(gbc.pc(), 0xe946);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe944), 0xcb);
        EXPECT(gbc.readMem(0xe945), 0x1f);
        // CB 1F 038E
        gbc.setState(0x5e38, 0x5b2e, 0xb930, 0x83c9, 0xc598, 0x6810, 0x0, 0x1);
        gbc.writeMem(0x5e38, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5b2e);
        EXPECT(gbc.pc(), 0x5e3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 038F
        gbc.setState(0xd765, 0xe6eb, 0x3fc0, 0xe215, 0x9403, 0x1940, 0x1, 0x1);
        gbc.writeMem(0xd765, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe6eb);
        EXPECT(gbc.pc(), 0xd767);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd765), 0xcb);
        EXPECT(gbc.readMem(0xd766), 0x1f);
        // CB 1F 0390
        gbc.setState(0x2427, 0x437c, 0xb600, 0xc3e2, 0x87ce, 0xb66f, 0x0, 0x1);
        gbc.writeMem(0x2427, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x437c);
        EXPECT(gbc.pc(), 0x2429);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0391
        gbc.setState(0x4fa6, 0x7434, 0xae0, 0x4549, 0x5827, 0x1a2, 0x1, 0x1);
        gbc.writeMem(0x4fa6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7434);
        EXPECT(gbc.pc(), 0x4fa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0392
        gbc.setState(0xe97a, 0x7938, 0x6510, 0x313d, 0x5b2b, 0xdee1, 0x1, 0x1);
        gbc.writeMem(0xe97a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7938);
        EXPECT(gbc.pc(), 0xe97c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe97a), 0xcb);
        EXPECT(gbc.readMem(0xe97b), 0x1f);
        // CB 1F 0393
        gbc.setState(0xbc8d, 0x8239, 0xd6f0, 0x49be, 0xc50, 0xe875, 0x0, 0x1);
        gbc.writeMem(0xbc8d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8239);
        EXPECT(gbc.pc(), 0xbc8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc8d), 0xcb);
        EXPECT(gbc.readMem(0xbc8e), 0x1f);
        // CB 1F 0394
        gbc.setState(0x2c2b, 0x5182, 0x82e0, 0x341d, 0x496a, 0xa714, 0x0, 0x1);
        gbc.writeMem(0x2c2b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5182);
        EXPECT(gbc.pc(), 0x2c2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0395
        gbc.setState(0x8b33, 0x2c96, 0xdb10, 0xe9f9, 0x3092, 0xc6d4, 0x1, 0x1);
        gbc.writeMem(0x8b33, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x2c96);
        EXPECT(gbc.pc(), 0x8b35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b33), 0xcb);
        EXPECT(gbc.readMem(0x8b34), 0x1f);
        // CB 1F 0396
        gbc.setState(0x3e21, 0x8b45, 0x6f50, 0x98a1, 0x33ab, 0x2d93, 0x1, 0x1);
        gbc.writeMem(0x3e21, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8b45);
        EXPECT(gbc.pc(), 0x3e23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 0398
        gbc.setState(0x1c64, 0xd13f, 0xeac0, 0x9925, 0x8b0d, 0x52cf, 0x0, 0x1);
        gbc.writeMem(0x1c64, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd13f);
        EXPECT(gbc.pc(), 0x1c66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 0399
        gbc.setState(0x50c9, 0xabad, 0x8a90, 0x94e1, 0xf028, 0x7640, 0x1, 0x0);
        gbc.writeMem(0x50c9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xabad);
        EXPECT(gbc.pc(), 0x50cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 039A
        gbc.setState(0x6744, 0xf247, 0x3130, 0x7ad9, 0x3051, 0xbb3, 0x0, 0x0);
        gbc.writeMem(0x6744, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf247);
        EXPECT(gbc.pc(), 0x6746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 039B
        gbc.setState(0xba31, 0xde36, 0xc20, 0x6920, 0x6ad2, 0xa1da, 0x0, 0x0);
        gbc.writeMem(0xba31, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xde36);
        EXPECT(gbc.pc(), 0xba33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba31), 0xcb);
        EXPECT(gbc.readMem(0xba32), 0x1f);
        // CB 1F 039C
        gbc.setState(0x58b7, 0x858c, 0x9130, 0x6cfb, 0x488a, 0x7ed0, 0x1, 0x1);
        gbc.writeMem(0x58b7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x858c);
        EXPECT(gbc.pc(), 0x58b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 039D
        gbc.setState(0xd12d, 0xea8d, 0x2790, 0x758e, 0x5def, 0x418, 0x1, 0x1);
        gbc.writeMem(0xd12d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xea8d);
        EXPECT(gbc.pc(), 0xd12f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd12d), 0xcb);
        EXPECT(gbc.readMem(0xd12e), 0x1f);
        // CB 1F 039E
        gbc.setState(0x65f7, 0x7345, 0x31b0, 0xf52d, 0x845b, 0x55a2, 0x0, 0x0);
        gbc.writeMem(0x65f7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7345);
        EXPECT(gbc.pc(), 0x65f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 039F
        gbc.setState(0x9ad8, 0x7312, 0x5a60, 0xcf21, 0xe8dd, 0xbf0e, 0x1, 0x1);
        gbc.writeMem(0x9ad8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7312);
        EXPECT(gbc.pc(), 0x9ada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ad8), 0xcb);
        EXPECT(gbc.readMem(0x9ad9), 0x1f);
        // CB 1F 03A0
        gbc.setState(0x36b9, 0x560a, 0x8ba0, 0xe316, 0x97c8, 0xa6c2, 0x0, 0x1);
        gbc.writeMem(0x36b9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x560a);
        EXPECT(gbc.pc(), 0x36bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03A1
        gbc.setState(0xad34, 0xcd4f, 0x8690, 0xb05f, 0xcd74, 0x663b, 0x1, 0x0);
        gbc.writeMem(0xad34, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xcd4f);
        EXPECT(gbc.pc(), 0xad36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad34), 0xcb);
        EXPECT(gbc.readMem(0xad35), 0x1f);
        // CB 1F 03A2
        gbc.setState(0x84d3, 0x9567, 0x57e0, 0x1c7b, 0xd9d8, 0x53d2, 0x0, 0x1);
        gbc.writeMem(0x84d3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x9567);
        EXPECT(gbc.pc(), 0x84d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84d3), 0xcb);
        EXPECT(gbc.readMem(0x84d4), 0x1f);
        // CB 1F 03A3
        gbc.setState(0x2e1d, 0x2b18, 0x8ff0, 0x5f8b, 0x1863, 0xe772, 0x0, 0x0);
        gbc.writeMem(0x2e1d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2b18);
        EXPECT(gbc.pc(), 0x2e1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03A4
        gbc.setState(0x2f69, 0x3705, 0x8b40, 0xd160, 0xa2b0, 0x8894, 0x0, 0x1);
        gbc.writeMem(0x2f69, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x3705);
        EXPECT(gbc.pc(), 0x2f6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03A5
        gbc.setState(0x4bbc, 0x4453, 0x27c0, 0xd7e2, 0xccb3, 0x7692, 0x0, 0x1);
        gbc.writeMem(0x4bbc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4453);
        EXPECT(gbc.pc(), 0x4bbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03A6
        gbc.setState(0x7c79, 0x664f, 0x4650, 0x61b8, 0x1f88, 0x1262, 0x1, 0x0);
        gbc.writeMem(0x7c79, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x664f);
        EXPECT(gbc.pc(), 0x7c7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03A7
        gbc.setState(0xa29c, 0xc120, 0x2910, 0x3740, 0x8851, 0x91a1, 0x1, 0x0);
        gbc.writeMem(0xa29c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc120);
        EXPECT(gbc.pc(), 0xa29e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa29c), 0xcb);
        EXPECT(gbc.readMem(0xa29d), 0x1f);
        // CB 1F 03A8
        gbc.setState(0xc703, 0xb6e7, 0x3020, 0x8120, 0xca8e, 0xbd20, 0x0, 0x1);
        gbc.writeMem(0xc703, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xb6e7);
        EXPECT(gbc.pc(), 0xc705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc703), 0xcb);
        EXPECT(gbc.readMem(0xc704), 0x1f);
        // CB 1F 03A9
        gbc.setState(0x3598, 0xc6d1, 0x1360, 0xc8fe, 0x9f3f, 0xf618, 0x0, 0x1);
        gbc.writeMem(0x3598, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc6d1);
        EXPECT(gbc.pc(), 0x359a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03AA
        gbc.setState(0xba91, 0xdf2f, 0xe090, 0xc1ef, 0x92a1, 0x9d3b, 0x0, 0x0);
        gbc.writeMem(0xba91, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xdf2f);
        EXPECT(gbc.pc(), 0xba93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba91), 0xcb);
        EXPECT(gbc.readMem(0xba92), 0x1f);
        // CB 1F 03AB
        gbc.setState(0x84a2, 0x14de, 0x3620, 0xa146, 0x13b8, 0xf184, 0x0, 0x1);
        gbc.writeMem(0x84a2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x14de);
        EXPECT(gbc.pc(), 0x84a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84a2), 0xcb);
        EXPECT(gbc.readMem(0x84a3), 0x1f);
        // CB 1F 03AC
        gbc.setState(0x86b6, 0x95d, 0xd490, 0x60c0, 0xb1a7, 0xc42f, 0x1, 0x1);
        gbc.writeMem(0x86b6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x95d);
        EXPECT(gbc.pc(), 0x86b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86b6), 0xcb);
        EXPECT(gbc.readMem(0x86b7), 0x1f);
        // CB 1F 03AD
        gbc.setState(0xd92a, 0x2244, 0x3d60, 0xbcf4, 0x344f, 0xcebf, 0x0, 0x0);
        gbc.writeMem(0xd92a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2244);
        EXPECT(gbc.pc(), 0xd92c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd92a), 0xcb);
        EXPECT(gbc.readMem(0xd92b), 0x1f);
        // CB 1F 03AE
        gbc.setState(0x6fde, 0x86d0, 0x25b0, 0x8aa7, 0xd7dd, 0xdf96, 0x0, 0x1);
        gbc.writeMem(0x6fde, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x86d0);
        EXPECT(gbc.pc(), 0x6fe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03AF
        gbc.setState(0x23db, 0x7ac6, 0xff60, 0x3bd7, 0xf5b8, 0x857b, 0x0, 0x1);
        gbc.writeMem(0x23db, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x7ac6);
        EXPECT(gbc.pc(), 0x23dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03B0
        gbc.setState(0xec80, 0x9a86, 0xfa40, 0xeafc, 0x60ac, 0x3144, 0x0, 0x1);
        gbc.writeMem(0xec80, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9a86);
        EXPECT(gbc.pc(), 0xec82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec80), 0xcb);
        EXPECT(gbc.readMem(0xec81), 0x1f);
        // CB 1F 03B1
        gbc.setState(0x7e9a, 0x6c1e, 0xcd40, 0xaa2e, 0x2386, 0x618e, 0x1, 0x1);
        gbc.writeMem(0x7e9a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6c1e);
        EXPECT(gbc.pc(), 0x7e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03B2
        gbc.setState(0x550b, 0xfa10, 0xa10, 0xcbe, 0x7d4a, 0x15de, 0x1, 0x0);
        gbc.writeMem(0x550b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xfa10);
        EXPECT(gbc.pc(), 0x550d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03B3
        gbc.setState(0x59b4, 0x41b2, 0x6560, 0x3d3f, 0x7484, 0x4a52, 0x0, 0x0);
        gbc.writeMem(0x59b4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x41b2);
        EXPECT(gbc.pc(), 0x59b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03B4
        gbc.setState(0x6581, 0xa47a, 0xe3f0, 0xe81e, 0x4645, 0x3971, 0x0, 0x0);
        gbc.writeMem(0x6581, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa47a);
        EXPECT(gbc.pc(), 0x6583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03B5
        gbc.setState(0xe4d4, 0x1eb8, 0x220, 0x252f, 0x9e22, 0x1237, 0x1, 0x0);
        gbc.writeMem(0xe4d4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x1eb8);
        EXPECT(gbc.pc(), 0xe4d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d4), 0xcb);
        EXPECT(gbc.readMem(0xe4d5), 0x1f);
        // CB 1F 03B6
        gbc.setState(0x19ca, 0x6981, 0x14b0, 0xd091, 0x4f48, 0x94dc, 0x1, 0x0);
        gbc.writeMem(0x19ca, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6981);
        EXPECT(gbc.pc(), 0x19cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03B7
        gbc.setState(0x2276, 0x41fe, 0xabb0, 0x94d2, 0x17a9, 0xa6e3, 0x1, 0x0);
        gbc.writeMem(0x2276, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x41fe);
        EXPECT(gbc.pc(), 0x2278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03B8
        gbc.setState(0x7c50, 0x83e4, 0xb80, 0x75d3, 0xfce6, 0x3a1f, 0x0, 0x1);
        gbc.writeMem(0x7c50, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x83e4);
        EXPECT(gbc.pc(), 0x7c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03B9
        gbc.setState(0x95a3, 0xf15d, 0x43b0, 0xe650, 0x5c7a, 0x7dc9, 0x0, 0x1);
        gbc.writeMem(0x95a3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf15d);
        EXPECT(gbc.pc(), 0x95a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95a3), 0xcb);
        EXPECT(gbc.readMem(0x95a4), 0x1f);
        // CB 1F 03BA
        gbc.setState(0xbd37, 0x387e, 0x46f0, 0x8f73, 0x77ea, 0x571, 0x1, 0x1);
        gbc.writeMem(0xbd37, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x387e);
        EXPECT(gbc.pc(), 0xbd39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd37), 0xcb);
        EXPECT(gbc.readMem(0xbd38), 0x1f);
        // CB 1F 03BB
        gbc.setState(0xda56, 0x5b36, 0x6690, 0x5a54, 0xe116, 0xd311, 0x0, 0x1);
        gbc.writeMem(0xda56, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5b36);
        EXPECT(gbc.pc(), 0xda58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda56), 0xcb);
        EXPECT(gbc.readMem(0xda57), 0x1f);
        // CB 1F 03BC
        gbc.setState(0x758c, 0x706d, 0x23a0, 0x8ac5, 0x92ae, 0x737a, 0x0, 0x1);
        gbc.writeMem(0x758c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x706d);
        EXPECT(gbc.pc(), 0x758e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03BE
        gbc.setState(0xdf02, 0xc3d4, 0x9320, 0xedc, 0xf86a, 0x1954, 0x0, 0x1);
        gbc.writeMem(0xdf02, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc3d4);
        EXPECT(gbc.pc(), 0xdf04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf02), 0xcb);
        EXPECT(gbc.readMem(0xdf03), 0x1f);
        // CB 1F 03BF
        gbc.setState(0xdd2, 0x27b2, 0x92b0, 0x5e68, 0x1a0, 0xb84, 0x1, 0x0);
        gbc.writeMem(0xdd2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x27b2);
        EXPECT(gbc.pc(), 0xdd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03C0
        gbc.setState(0x22cc, 0xff58, 0x2200, 0xfaad, 0x41b4, 0x4efe, 0x1, 0x0);
        gbc.writeMem(0x22cc, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xff58);
        EXPECT(gbc.pc(), 0x22ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03C1
        gbc.setState(0xbef4, 0xe279, 0x6700, 0x47e0, 0xc838, 0x216c, 0x0, 0x1);
        gbc.writeMem(0xbef4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xe279);
        EXPECT(gbc.pc(), 0xbef6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef4), 0xcb);
        EXPECT(gbc.readMem(0xbef5), 0x1f);
        // CB 1F 03C2
        gbc.setState(0x3f40, 0xb25, 0xea50, 0xfaa7, 0x9bba, 0x43fe, 0x1, 0x1);
        gbc.writeMem(0x3f40, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb25);
        EXPECT(gbc.pc(), 0x3f42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03C3
        gbc.setState(0x809a, 0xc901, 0x9110, 0xae85, 0x1871, 0xf33b, 0x0, 0x1);
        gbc.writeMem(0x809a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc901);
        EXPECT(gbc.pc(), 0x809c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x809a), 0xcb);
        EXPECT(gbc.readMem(0x809b), 0x1f);
        // CB 1F 03C4
        gbc.setState(0x584b, 0xf610, 0x40b0, 0x7a7b, 0x2294, 0x585, 0x0, 0x0);
        gbc.writeMem(0x584b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf610);
        EXPECT(gbc.pc(), 0x584d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03C5
        gbc.setState(0xb63b, 0xc8f0, 0x4080, 0x6a73, 0x8566, 0x6d52, 0x1, 0x1);
        gbc.writeMem(0xb63b, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc8f0);
        EXPECT(gbc.pc(), 0xb63d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb63b), 0xcb);
        EXPECT(gbc.readMem(0xb63c), 0x1f);
        // CB 1F 03C6
        gbc.setState(0x402a, 0x7c08, 0x6740, 0x31b, 0x11dc, 0xecd4, 0x0, 0x1);
        gbc.writeMem(0x402a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x7c08);
        EXPECT(gbc.pc(), 0x402c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03C7
        gbc.setState(0x82ff, 0x3724, 0x39f0, 0x3132, 0xabd6, 0xf4aa, 0x1, 0x1);
        gbc.writeMem(0x82ff, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3724);
        EXPECT(gbc.pc(), 0x8301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82ff), 0xcb);
        EXPECT(gbc.readMem(0x8300), 0x1f);
        // CB 1F 03C8
        gbc.setState(0x3602, 0x1a5e, 0xae00, 0xa932, 0x948d, 0x769d, 0x1, 0x0);
        gbc.writeMem(0x3602, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x1a5e);
        EXPECT(gbc.pc(), 0x3604);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03C9
        gbc.setState(0xbdf3, 0xf71b, 0x93e0, 0x5390, 0xceac, 0x4475, 0x1, 0x0);
        gbc.writeMem(0xbdf3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf71b);
        EXPECT(gbc.pc(), 0xbdf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf3), 0xcb);
        EXPECT(gbc.readMem(0xbdf4), 0x1f);
        // CB 1F 03CA
        gbc.setState(0x70f9, 0xf2ab, 0xf580, 0x659f, 0xa301, 0x183b, 0x1, 0x1);
        gbc.writeMem(0x70f9, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xf2ab);
        EXPECT(gbc.pc(), 0x70fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03CB
        gbc.setState(0xc9f8, 0x25ec, 0xeb60, 0x1db4, 0x5d7d, 0x54f0, 0x1, 0x0);
        gbc.writeMem(0xc9f8, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x25ec);
        EXPECT(gbc.pc(), 0xc9fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9f8), 0xcb);
        EXPECT(gbc.readMem(0xc9f9), 0x1f);
        // CB 1F 03CD
        gbc.setState(0xa463, 0x31cd, 0x7290, 0x7237, 0x5984, 0xc4f4, 0x1, 0x1);
        gbc.writeMem(0xa463, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x31cd);
        EXPECT(gbc.pc(), 0xa465);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa463), 0xcb);
        EXPECT(gbc.readMem(0xa464), 0x1f);
        // CB 1F 03CE
        gbc.setState(0x9a42, 0xf541, 0x67a0, 0x888c, 0x7c16, 0x3dae, 0x0, 0x0);
        gbc.writeMem(0x9a42, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf541);
        EXPECT(gbc.pc(), 0x9a44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a42), 0xcb);
        EXPECT(gbc.readMem(0x9a43), 0x1f);
        // CB 1F 03CF
        gbc.setState(0xa80d, 0x6edc, 0xb470, 0x9e06, 0x708c, 0x7e0, 0x0, 0x1);
        gbc.writeMem(0xa80d, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6edc);
        EXPECT(gbc.pc(), 0xa80f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa80d), 0xcb);
        EXPECT(gbc.readMem(0xa80e), 0x1f);
        // CB 1F 03D0
        gbc.setState(0xc880, 0xf01d, 0x88d0, 0x75bf, 0xc358, 0xd47, 0x1, 0x1);
        gbc.writeMem(0xc880, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf01d);
        EXPECT(gbc.pc(), 0xc882);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc880), 0xcb);
        EXPECT(gbc.readMem(0xc881), 0x1f);
        // CB 1F 03D1
        gbc.setState(0xaed7, 0x5db7, 0x4360, 0xae60, 0x287f, 0x350d, 0x0, 0x0);
        gbc.writeMem(0xaed7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5db7);
        EXPECT(gbc.pc(), 0xaed9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaed7), 0xcb);
        EXPECT(gbc.readMem(0xaed8), 0x1f);
        // CB 1F 03D2
        gbc.setState(0x63dd, 0xf907, 0xb8e0, 0x9e31, 0xa7e6, 0xdd8b, 0x1, 0x1);
        gbc.writeMem(0x63dd, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf907);
        EXPECT(gbc.pc(), 0x63df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03D3
        gbc.setState(0x5b5, 0x6534, 0x14b0, 0x5fe4, 0x79c1, 0xb2c5, 0x0, 0x0);
        gbc.writeMem(0x5b5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6534);
        EXPECT(gbc.pc(), 0x5b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03D4
        gbc.setState(0xede5, 0x2bc3, 0x13d0, 0x38a9, 0x3f3e, 0xc108, 0x1, 0x1);
        gbc.writeMem(0xede5, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2bc3);
        EXPECT(gbc.pc(), 0xede7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xede5), 0xcb);
        EXPECT(gbc.readMem(0xede6), 0x1f);
        // CB 1F 03D5
        gbc.setState(0x29d2, 0x2354, 0xadf0, 0x88f8, 0x6844, 0x7b57, 0x1, 0x1);
        gbc.writeMem(0x29d2, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2354);
        EXPECT(gbc.pc(), 0x29d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03D6
        gbc.setState(0x9ada, 0x8b4c, 0xef10, 0x4826, 0x387a, 0x5202, 0x1, 0x0);
        gbc.writeMem(0x9ada, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8b4c);
        EXPECT(gbc.pc(), 0x9adc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ada), 0xcb);
        EXPECT(gbc.readMem(0x9adb), 0x1f);
        // CB 1F 03D7
        gbc.setState(0x9c05, 0x3096, 0xc020, 0x901, 0x377a, 0xf08c, 0x1, 0x0);
        gbc.writeMem(0x9c05, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x3096);
        EXPECT(gbc.pc(), 0x9c07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c05), 0xcb);
        EXPECT(gbc.readMem(0x9c06), 0x1f);
        // CB 1F 03D8
        gbc.setState(0x5db7, 0x6d86, 0xad80, 0xa503, 0x5cce, 0x5d5, 0x0, 0x0);
        gbc.writeMem(0x5db7, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6d86);
        EXPECT(gbc.pc(), 0x5db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03D9
        gbc.setState(0x67c3, 0x708c, 0x5610, 0x50e2, 0xfbc1, 0x12cb, 0x0, 0x0);
        gbc.writeMem(0x67c3, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x708c);
        EXPECT(gbc.pc(), 0x67c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03DA
        gbc.setState(0xddc4, 0xd723, 0xc90, 0x91ab, 0x66f2, 0xd4e6, 0x0, 0x1);
        gbc.writeMem(0xddc4, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd723);
        EXPECT(gbc.pc(), 0xddc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddc4), 0xcb);
        EXPECT(gbc.readMem(0xddc5), 0x1f);
        // CB 1F 03DB
        gbc.setState(0x2cff, 0x8352, 0xa1d0, 0x2a26, 0xd597, 0x7d1d, 0x1, 0x0);
        gbc.writeMem(0x2cff, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8352);
        EXPECT(gbc.pc(), 0x2d01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03DC
        gbc.setState(0x8f94, 0x65e3, 0x50a0, 0xdc5f, 0x9e71, 0x20b6, 0x1, 0x1);
        gbc.writeMem(0x8f94, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x65e3);
        EXPECT(gbc.pc(), 0x8f96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f94), 0xcb);
        EXPECT(gbc.readMem(0x8f95), 0x1f);
        // CB 1F 03DD
        gbc.setState(0x722, 0x7080, 0x1620, 0x327d, 0xf93c, 0xd7c8, 0x0, 0x0);
        gbc.writeMem(0x722, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7080);
        EXPECT(gbc.pc(), 0x724);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03DE
        gbc.setState(0x399f, 0x81b, 0x7f20, 0x438b, 0xbd2b, 0x49c1, 0x0, 0x0);
        gbc.writeMem(0x399f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x81b);
        EXPECT(gbc.pc(), 0x39a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 1F 03DF
        gbc.setState(0x971c, 0xf628, 0x9050, 0xee09, 0x2452, 0xf270, 0x1, 0x0);
        gbc.writeMem(0x971c, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf628);
        EXPECT(gbc.pc(), 0x971e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x971c), 0xcb);
        EXPECT(gbc.readMem(0x971d), 0x1f);
        // CB 1F 03E0
        gbc.setState(0x889e, 0xd9cd, 0x9100, 0x66a1, 0x506, 0x2375, 0x0, 0x0);
        gbc.writeMem(0x889e, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd9cd);
        EXPECT(gbc.pc(), 0x88a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x889e), 0xcb);
        EXPECT(gbc.readMem(0x889f), 0x1f);
        // CB 1F 03E1
        gbc.setState(0x4dc6, 0x10e9, 0x2e20, 0xc1a7, 0xacc3, 0xb784, 0x1, 0x0);
        gbc.writeMem(0x4dc6, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x10e9);
        EXPECT(gbc.pc(), 0x4dc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03E2
        gbc.setState(0x9e4a, 0x3d37, 0xc3d0, 0x4eaf, 0xdcf5, 0x599, 0x1, 0x0);
        gbc.writeMem(0x9e4a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3d37);
        EXPECT(gbc.pc(), 0x9e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e4a), 0xcb);
        EXPECT(gbc.readMem(0x9e4b), 0x1f);
        // CB 1F 03E5
        gbc.setState(0xc98a, 0xdf12, 0x2da0, 0xefdd, 0xe0ae, 0x958f, 0x0, 0x1);
        gbc.writeMem(0xc98a, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xdf12);
        EXPECT(gbc.pc(), 0xc98c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc98a), 0xcb);
        EXPECT(gbc.readMem(0xc98b), 0x1f);
        // CB 1F 03E6
        gbc.setState(0xf24, 0x8cb2, 0xae0, 0xb1f1, 0xad2a, 0x57fa, 0x0, 0x1);
        gbc.writeMem(0xf24, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x8cb2);
        EXPECT(gbc.pc(), 0xf26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 1F 03E7
        gbc.setState(0x620f, 0xa2a3, 0x78a0, 0x2ee4, 0xb2bb, 0x3c1a, 0x1, 0x0);
        gbc.writeMem(0x620f, { 0xcb, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xa2a3);
        EXPECT(gbc.pc(), 0x6211);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
