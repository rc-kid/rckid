    TEST(gbcemu, opcode_ac) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // AC 0000
        gbc.setState(0x238b, 0x217, 0xc900, 0xa45f, 0x2fe9, 0x4c54, 0x1, 0x0);
        gbc.writeMem(0x238b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x217);
        EXPECT(gbc.pc(), 0x238c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0001
        gbc.setState(0xd9b1, 0xac6e, 0xde10, 0xf2ad, 0xa3fc, 0x8b4c, 0x1, 0x1);
        gbc.writeMem(0xd9b1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xac6e);
        EXPECT(gbc.pc(), 0xd9b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9b1), 0xac);
        // AC 0002
        gbc.setState(0x8db2, 0xc5a1, 0x370, 0x8df0, 0x95b0, 0x36a1, 0x1, 0x1);
        gbc.writeMem(0x8db2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc5a1);
        EXPECT(gbc.pc(), 0x8db3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8db2), 0xac);
        // AC 0003
        gbc.setState(0x4743, 0xcb7b, 0x3030, 0xe5be, 0x9a26, 0xd4cc, 0x1, 0x1);
        gbc.writeMem(0x4743, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xcb7b);
        EXPECT(gbc.pc(), 0x4744);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0004
        gbc.setState(0xe626, 0x535d, 0x7c40, 0xefbb, 0x927a, 0x613a, 0x1, 0x1);
        gbc.writeMem(0xe626, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x535d);
        EXPECT(gbc.pc(), 0xe627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe626), 0xac);
        // AC 0005
        gbc.setState(0xb324, 0x96c, 0x5400, 0x218f, 0x48b3, 0xfd43, 0x0, 0x1);
        gbc.writeMem(0xb324, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x96c);
        EXPECT(gbc.pc(), 0xb325);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb324), 0xac);
        // AC 0006
        gbc.setState(0x5c11, 0xa68e, 0x5120, 0x6fa4, 0xd665, 0xcb4b, 0x1, 0x0);
        gbc.writeMem(0x5c11, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xa68e);
        EXPECT(gbc.pc(), 0x5c12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0007
        gbc.setState(0xd209, 0x858f, 0x28f0, 0xeb80, 0xb3ec, 0x8e98, 0x1, 0x0);
        gbc.writeMem(0xd209, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x858f);
        EXPECT(gbc.pc(), 0xd20a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd209), 0xac);
        // AC 0008
        gbc.setState(0x680b, 0x5501, 0x3850, 0x97c5, 0xea46, 0xf497, 0x1, 0x0);
        gbc.writeMem(0x680b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x5501);
        EXPECT(gbc.pc(), 0x680c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0009
        gbc.setState(0x3e32, 0xaac4, 0x46d0, 0xf600, 0xb152, 0x839e, 0x0, 0x0);
        gbc.writeMem(0x3e32, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xaac4);
        EXPECT(gbc.pc(), 0x3e33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 000A
        gbc.setState(0x931c, 0xb995, 0x4a90, 0x80a5, 0x287e, 0xc11, 0x0, 0x1);
        gbc.writeMem(0x931c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb995);
        EXPECT(gbc.pc(), 0x931d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x931c), 0xac);
        // AC 000B
        gbc.setState(0x9e11, 0x88fb, 0xcbb0, 0xb3fa, 0xae67, 0x66a, 0x1, 0x0);
        gbc.writeMem(0x9e11, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x88fb);
        EXPECT(gbc.pc(), 0x9e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e11), 0xac);
        // AC 000C
        gbc.setState(0xc274, 0xc029, 0x6780, 0xf33b, 0x3099, 0x5934, 0x1, 0x1);
        gbc.writeMem(0xc274, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc029);
        EXPECT(gbc.pc(), 0xc275);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc274), 0xac);
        // AC 000D
        gbc.setState(0x217f, 0xf981, 0xc180, 0x444b, 0x1964, 0x57a1, 0x0, 0x1);
        gbc.writeMem(0x217f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf981);
        EXPECT(gbc.pc(), 0x2180);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 000E
        gbc.setState(0xea0a, 0xec17, 0xc530, 0xb35c, 0x5dd2, 0x9a5b, 0x1, 0x1);
        gbc.writeMem(0xea0a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xec17);
        EXPECT(gbc.pc(), 0xea0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea0a), 0xac);
        // AC 0010
        gbc.setState(0x93b1, 0x2510, 0x2490, 0x1d8a, 0xe646, 0xb479, 0x0, 0x0);
        gbc.writeMem(0x93b1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2510);
        EXPECT(gbc.pc(), 0x93b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93b1), 0xac);
        // AC 0011
        gbc.setState(0x954e, 0xbe76, 0xa480, 0xbff9, 0xd7c, 0xdbf5, 0x0, 0x1);
        gbc.writeMem(0x954e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xbe76);
        EXPECT(gbc.pc(), 0x954f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x954e), 0xac);
        // AC 0012
        gbc.setState(0xc08e, 0x60ee, 0x3090, 0xe6af, 0x1d0e, 0x18f6, 0x0, 0x1);
        gbc.writeMem(0xc08e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x60ee);
        EXPECT(gbc.pc(), 0xc08f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc08e), 0xac);
        // AC 0013
        gbc.setState(0x191e, 0xf8ec, 0x6f30, 0x696d, 0x68b5, 0x9ec8, 0x0, 0x0);
        gbc.writeMem(0x191e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xf8ec);
        EXPECT(gbc.pc(), 0x191f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0014
        gbc.setState(0x988, 0x40e1, 0xa420, 0x36da, 0x3ba7, 0x8676, 0x1, 0x1);
        gbc.writeMem(0x988, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x40e1);
        EXPECT(gbc.pc(), 0x989);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0015
        gbc.setState(0xe1ab, 0xa88c, 0x990, 0x93f6, 0x56b5, 0x655, 0x1, 0x1);
        gbc.writeMem(0xe1ab, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa88c);
        EXPECT(gbc.pc(), 0xe1ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ab), 0xac);
        // AC 0016
        gbc.setState(0x94ed, 0xd9f1, 0xe2d0, 0x1890, 0xb0de, 0x7868, 0x1, 0x0);
        gbc.writeMem(0x94ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xd9f1);
        EXPECT(gbc.pc(), 0x94ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ed), 0xac);
        // AC 0017
        gbc.setState(0xc174, 0xa1d0, 0xea60, 0xfc0d, 0x43e, 0x2302, 0x0, 0x1);
        gbc.writeMem(0xc174, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa1d0);
        EXPECT(gbc.pc(), 0xc175);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc174), 0xac);
        // AC 0018
        gbc.setState(0xd6f3, 0x9c5f, 0xd2f0, 0xc8f1, 0x963c, 0x236c, 0x1, 0x1);
        gbc.writeMem(0xd6f3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x9c5f);
        EXPECT(gbc.pc(), 0xd6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6f3), 0xac);
        // AC 0019
        gbc.setState(0xc577, 0x1720, 0xce30, 0xb9cf, 0x3d0d, 0x318d, 0x0, 0x1);
        gbc.writeMem(0xc577, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x1720);
        EXPECT(gbc.pc(), 0xc578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc577), 0xac);
        // AC 001A
        gbc.setState(0x40a6, 0x3937, 0x2b60, 0xe511, 0xaf2d, 0x8908, 0x0, 0x0);
        gbc.writeMem(0x40a6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3937);
        EXPECT(gbc.pc(), 0x40a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 001B
        gbc.setState(0x7651, 0x4dd, 0x5dd0, 0x827, 0x7eb3, 0x24b5, 0x1, 0x0);
        gbc.writeMem(0x7651, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4dd);
        EXPECT(gbc.pc(), 0x7652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 001C
        gbc.setState(0x7ade, 0x5c6b, 0x8770, 0xae48, 0xe0eb, 0x8956, 0x1, 0x1);
        gbc.writeMem(0x7ade, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5c6b);
        EXPECT(gbc.pc(), 0x7adf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 001D
        gbc.setState(0x9beb, 0x85a1, 0x7370, 0xe43f, 0xc9e1, 0xb056, 0x1, 0x1);
        gbc.writeMem(0x9beb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x85a1);
        EXPECT(gbc.pc(), 0x9bec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9beb), 0xac);
        // AC 001E
        gbc.setState(0xa453, 0x8f2b, 0xc0e0, 0x42b7, 0x7345, 0x3369, 0x1, 0x0);
        gbc.writeMem(0xa453, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x8f2b);
        EXPECT(gbc.pc(), 0xa454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa453), 0xac);
        // AC 001F
        gbc.setState(0xe543, 0xe845, 0xc200, 0x65f7, 0x7c41, 0x7479, 0x1, 0x1);
        gbc.writeMem(0xe543, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xe845);
        EXPECT(gbc.pc(), 0xe544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe543), 0xac);
        // AC 0020
        gbc.setState(0x17e1, 0x4004, 0x2820, 0x87fc, 0xb260, 0xce86, 0x1, 0x0);
        gbc.writeMem(0x17e1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x4004);
        EXPECT(gbc.pc(), 0x17e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0021
        gbc.setState(0x49c5, 0x37ec, 0xe300, 0x7d6f, 0x4b2a, 0x7737, 0x1, 0x1);
        gbc.writeMem(0x49c5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x37ec);
        EXPECT(gbc.pc(), 0x49c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0022
        gbc.setState(0x97d7, 0xe3a4, 0x9900, 0x21d7, 0x820b, 0x50de, 0x1, 0x1);
        gbc.writeMem(0x97d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe3a4);
        EXPECT(gbc.pc(), 0x97d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d7), 0xac);
        // AC 0023
        gbc.setState(0xc06e, 0x5f14, 0x9db0, 0xba9a, 0xbff0, 0x24fe, 0x1, 0x1);
        gbc.writeMem(0xc06e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5f14);
        EXPECT(gbc.pc(), 0xc06f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc06e), 0xac);
        // AC 0024
        gbc.setState(0xd15, 0x4eee, 0x83c0, 0x3f05, 0x7175, 0xb4d2, 0x1, 0x0);
        gbc.writeMem(0xd15, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4eee);
        EXPECT(gbc.pc(), 0xd16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0025
        gbc.setState(0x134e, 0xf25, 0x5b0, 0x907c, 0x8a28, 0xfb8f, 0x0, 0x0);
        gbc.writeMem(0x134e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf25);
        EXPECT(gbc.pc(), 0x134f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0026
        gbc.setState(0x1d9f, 0x856, 0xd6d0, 0xb858, 0x1a29, 0x65d9, 0x1, 0x1);
        gbc.writeMem(0x1d9f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x856);
        EXPECT(gbc.pc(), 0x1da0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0027
        gbc.setState(0xb7a0, 0xaa9, 0x3bd0, 0xe1cf, 0x1cc9, 0xd5a7, 0x1, 0x1);
        gbc.writeMem(0xb7a0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xaa9);
        EXPECT(gbc.pc(), 0xb7a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7a0), 0xac);
        // AC 0029
        gbc.setState(0xd048, 0x11d1, 0xf830, 0x54e5, 0xa47e, 0xd962, 0x1, 0x1);
        gbc.writeMem(0xd048, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x11d1);
        EXPECT(gbc.pc(), 0xd049);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd048), 0xac);
        // AC 002A
        gbc.setState(0x1086, 0x6b9e, 0x5ef0, 0x4bc0, 0x81e0, 0xab5, 0x1, 0x0);
        gbc.writeMem(0x1086, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x6b9e);
        EXPECT(gbc.pc(), 0x1087);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 002B
        gbc.setState(0xeaba, 0xaed2, 0x3400, 0x2740, 0x165b, 0xe257, 0x1, 0x1);
        gbc.writeMem(0xeaba, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xaed2);
        EXPECT(gbc.pc(), 0xeabb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaba), 0xac);
        // AC 002C
        gbc.setState(0x8c52, 0x20ce, 0xdfb0, 0xe15, 0x54b9, 0xd3f3, 0x0, 0x1);
        gbc.writeMem(0x8c52, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x20ce);
        EXPECT(gbc.pc(), 0x8c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c52), 0xac);
        // AC 002D
        gbc.setState(0xe11, 0x9cb8, 0xae30, 0x7cc4, 0x4147, 0xc625, 0x0, 0x1);
        gbc.writeMem(0xe11, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9cb8);
        EXPECT(gbc.pc(), 0xe12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 002E
        gbc.setState(0x3acc, 0xaf1e, 0xe8d0, 0xec1e, 0x505a, 0x812, 0x1, 0x1);
        gbc.writeMem(0x3acc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xaf1e);
        EXPECT(gbc.pc(), 0x3acd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 002F
        gbc.setState(0xadf, 0x6de6, 0x68b0, 0x78e4, 0xf3fc, 0x102b, 0x1, 0x0);
        gbc.writeMem(0xadf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6de6);
        EXPECT(gbc.pc(), 0xae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0030
        gbc.setState(0x5a33, 0x2dba, 0x5190, 0x57b8, 0xef78, 0xdf64, 0x0, 0x1);
        gbc.writeMem(0x5a33, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2dba);
        EXPECT(gbc.pc(), 0x5a34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0031
        gbc.setState(0x32c, 0x782, 0x6cd0, 0x4f36, 0xdbff, 0xca99, 0x0, 0x0);
        gbc.writeMem(0x32c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x782);
        EXPECT(gbc.pc(), 0x32d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0032
        gbc.setState(0x498, 0x65f2, 0x6690, 0xf80, 0x8082, 0x4f0f, 0x0, 0x1);
        gbc.writeMem(0x498, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x65f2);
        EXPECT(gbc.pc(), 0x499);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0033
        gbc.setState(0x5f57, 0x7bae, 0x82a0, 0xd336, 0xdcf9, 0xed94, 0x1, 0x1);
        gbc.writeMem(0x5f57, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x7bae);
        EXPECT(gbc.pc(), 0x5f58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0034
        gbc.setState(0x5c22, 0x4ea6, 0xa5d0, 0xd674, 0xad48, 0xa43a, 0x1, 0x1);
        gbc.writeMem(0x5c22, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4ea6);
        EXPECT(gbc.pc(), 0x5c23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0035
        gbc.setState(0x8e9c, 0x55b4, 0x2300, 0x3328, 0x6767, 0x679c, 0x1, 0x1);
        gbc.writeMem(0x8e9c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x55b4);
        EXPECT(gbc.pc(), 0x8e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e9c), 0xac);
        // AC 0036
        gbc.setState(0x217b, 0x8192, 0x5840, 0xe87c, 0xd770, 0xcff4, 0x1, 0x1);
        gbc.writeMem(0x217b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8192);
        EXPECT(gbc.pc(), 0x217c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0037
        gbc.setState(0x9149, 0x75f2, 0x1610, 0xfc0f, 0xb158, 0x2596, 0x1, 0x0);
        gbc.writeMem(0x9149, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x75f2);
        EXPECT(gbc.pc(), 0x914a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9149), 0xac);
        // AC 0038
        gbc.setState(0xa163, 0x1f29, 0x3ad0, 0x6731, 0x6934, 0x36b2, 0x0, 0x0);
        gbc.writeMem(0xa163, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1f29);
        EXPECT(gbc.pc(), 0xa164);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa163), 0xac);
        // AC 0039
        gbc.setState(0x292, 0x639e, 0xe70, 0xded, 0x22dc, 0x835c, 0x0, 0x1);
        gbc.writeMem(0x292, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x639e);
        EXPECT(gbc.pc(), 0x293);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 003A
        gbc.setState(0xc8a5, 0x29c, 0x4540, 0x3d25, 0x38b2, 0x7737, 0x1, 0x1);
        gbc.writeMem(0xc8a5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x29c);
        EXPECT(gbc.pc(), 0xc8a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a5), 0xac);
        // AC 003B
        gbc.setState(0x5acd, 0x477, 0x5970, 0xfa16, 0x6547, 0x7877, 0x1, 0x0);
        gbc.writeMem(0x5acd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x477);
        EXPECT(gbc.pc(), 0x5ace);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 003C
        gbc.setState(0xc10, 0x1b61, 0xc00, 0x9674, 0xb789, 0x502e, 0x1, 0x1);
        gbc.writeMem(0xc10, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1b61);
        EXPECT(gbc.pc(), 0xc11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 003D
        gbc.setState(0x3d8b, 0xf145, 0x7ae0, 0x482b, 0xcf8e, 0x4a7b, 0x1, 0x0);
        gbc.writeMem(0x3d8b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf145);
        EXPECT(gbc.pc(), 0x3d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 003F
        gbc.setState(0x53b5, 0x4376, 0xcb10, 0x685a, 0x818b, 0x2d37, 0x1, 0x1);
        gbc.writeMem(0x53b5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4376);
        EXPECT(gbc.pc(), 0x53b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0040
        gbc.setState(0xd634, 0x150f, 0x39b0, 0x4cf0, 0xaacb, 0x8440, 0x0, 0x1);
        gbc.writeMem(0xd634, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x150f);
        EXPECT(gbc.pc(), 0xd635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd634), 0xac);
        // AC 0041
        gbc.setState(0x2ed0, 0x4f28, 0x2570, 0x79c0, 0x5e7f, 0xe3f1, 0x0, 0x1);
        gbc.writeMem(0x2ed0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x4f28);
        EXPECT(gbc.pc(), 0x2ed1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0042
        gbc.setState(0x4ed8, 0x8bd8, 0xe370, 0x18f0, 0xf112, 0x7033, 0x1, 0x1);
        gbc.writeMem(0x4ed8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8bd8);
        EXPECT(gbc.pc(), 0x4ed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0043
        gbc.setState(0x25a5, 0x437c, 0xe500, 0x9d11, 0xf6ad, 0xaeca, 0x0, 0x0);
        gbc.writeMem(0x25a5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x437c);
        EXPECT(gbc.pc(), 0x25a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0044
        gbc.setState(0xcf1a, 0x7849, 0xf420, 0x21c8, 0x9844, 0x7963, 0x1, 0x0);
        gbc.writeMem(0xcf1a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7849);
        EXPECT(gbc.pc(), 0xcf1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf1a), 0xac);
        // AC 0045
        gbc.setState(0xd99a, 0x613, 0x58e0, 0x9ba4, 0xce9c, 0x4b91, 0x0, 0x0);
        gbc.writeMem(0xd99a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x613);
        EXPECT(gbc.pc(), 0xd99b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd99a), 0xac);
        // AC 0046
        gbc.setState(0x547a, 0x9f2c, 0x3fa0, 0xaa8, 0x412, 0x6686, 0x1, 0x0);
        gbc.writeMem(0x547a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9f2c);
        EXPECT(gbc.pc(), 0x547b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0047
        gbc.setState(0x306b, 0xf64f, 0xa610, 0x6996, 0xc21f, 0xba06, 0x1, 0x0);
        gbc.writeMem(0x306b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf64f);
        EXPECT(gbc.pc(), 0x306c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0048
        gbc.setState(0x9e65, 0xc9c5, 0xd1b0, 0xf90e, 0x7829, 0x2441, 0x0, 0x1);
        gbc.writeMem(0x9e65, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xc9c5);
        EXPECT(gbc.pc(), 0x9e66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e65), 0xac);
        // AC 004A
        gbc.setState(0x2e20, 0x1f5f, 0x4a40, 0xd3fa, 0x11d2, 0x42fc, 0x0, 0x1);
        gbc.writeMem(0x2e20, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1f5f);
        EXPECT(gbc.pc(), 0x2e21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 004B
        gbc.setState(0x78a7, 0x246d, 0x5200, 0xd600, 0x5e0b, 0x27b4, 0x1, 0x0);
        gbc.writeMem(0x78a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x246d);
        EXPECT(gbc.pc(), 0x78a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 004C
        gbc.setState(0xd7e1, 0x6dd, 0xc600, 0xe9ce, 0x8223, 0x7100, 0x0, 0x0);
        gbc.writeMem(0xd7e1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x6dd);
        EXPECT(gbc.pc(), 0xd7e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7e1), 0xac);
        // AC 004D
        gbc.setState(0x4e6a, 0xe1fb, 0x72d0, 0x3889, 0xfe, 0xd48f, 0x0, 0x0);
        gbc.writeMem(0x4e6a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe1fb);
        EXPECT(gbc.pc(), 0x4e6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 004E
        gbc.setState(0xea55, 0x771c, 0x3b50, 0x7b, 0x7bdc, 0x30fa, 0x0, 0x0);
        gbc.writeMem(0xea55, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x771c);
        EXPECT(gbc.pc(), 0xea56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea55), 0xac);
        // AC 004F
        gbc.setState(0x5df4, 0xf6e2, 0x4ec0, 0xacae, 0x4bdd, 0x94ad, 0x0, 0x1);
        gbc.writeMem(0x5df4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf6e2);
        EXPECT(gbc.pc(), 0x5df5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0050
        gbc.setState(0x7f4, 0xa695, 0x57a0, 0x9263, 0x149d, 0xaee5, 0x0, 0x1);
        gbc.writeMem(0x7f4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa695);
        EXPECT(gbc.pc(), 0x7f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0051
        gbc.setState(0x2912, 0x1771, 0x9410, 0x53d3, 0xf33e, 0x1fb3, 0x0, 0x1);
        gbc.writeMem(0x2912, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1771);
        EXPECT(gbc.pc(), 0x2913);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0052
        gbc.setState(0xdb69, 0xf97, 0x3970, 0x5d8e, 0x2276, 0xe29a, 0x1, 0x0);
        gbc.writeMem(0xdb69, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf97);
        EXPECT(gbc.pc(), 0xdb6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb69), 0xac);
        // AC 0054
        gbc.setState(0x213d, 0x3cf1, 0xdd0, 0xd1d1, 0x7797, 0xfcb0, 0x0, 0x1);
        gbc.writeMem(0x213d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3cf1);
        EXPECT(gbc.pc(), 0x213e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0055
        gbc.setState(0x55be, 0x359a, 0x8850, 0x60aa, 0xca06, 0xc05, 0x0, 0x1);
        gbc.writeMem(0x55be, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x359a);
        EXPECT(gbc.pc(), 0x55bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0056
        gbc.setState(0x3343, 0x8067, 0x6bc0, 0x945b, 0x91bb, 0x3613, 0x1, 0x0);
        gbc.writeMem(0x3343, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8067);
        EXPECT(gbc.pc(), 0x3344);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0057
        gbc.setState(0x29f4, 0x120e, 0x9c20, 0xd65b, 0x1f45, 0xccd0, 0x1, 0x1);
        gbc.writeMem(0x29f4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x120e);
        EXPECT(gbc.pc(), 0x29f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0058
        gbc.setState(0x175, 0x2580, 0x65b0, 0x67a4, 0xf87f, 0xe342, 0x1, 0x0);
        gbc.writeMem(0x175, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2580);
        EXPECT(gbc.pc(), 0x176);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0059
        gbc.setState(0xcc33, 0x2b09, 0x6830, 0xb576, 0x228, 0xfde6, 0x0, 0x1);
        gbc.writeMem(0xcc33, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2b09);
        EXPECT(gbc.pc(), 0xcc34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc33), 0xac);
        // AC 005A
        gbc.setState(0x1ba9, 0x1ee, 0x50c0, 0xa102, 0x24ca, 0xff06, 0x0, 0x0);
        gbc.writeMem(0x1ba9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1ee);
        EXPECT(gbc.pc(), 0x1baa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 005B
        gbc.setState(0x621b, 0x2d9f, 0xb2c0, 0xdf63, 0xfbbc, 0x295a, 0x1, 0x1);
        gbc.writeMem(0x621b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x2d9f);
        EXPECT(gbc.pc(), 0x621c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 005C
        gbc.setState(0x2d6e, 0x3aad, 0xf9e0, 0xf5b7, 0xbf22, 0x11ee, 0x1, 0x0);
        gbc.writeMem(0x2d6e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3aad);
        EXPECT(gbc.pc(), 0x2d6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 005D
        gbc.setState(0x5016, 0xb216, 0x4490, 0xc925, 0x1207, 0x911d, 0x1, 0x0);
        gbc.writeMem(0x5016, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb216);
        EXPECT(gbc.pc(), 0x5017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 005E
        gbc.setState(0x5bf3, 0xf566, 0x1f90, 0xa90b, 0x165f, 0x8f4c, 0x1, 0x1);
        gbc.writeMem(0x5bf3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf566);
        EXPECT(gbc.pc(), 0x5bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 005F
        gbc.setState(0x6d2c, 0xeaba, 0xf6e0, 0xdd0c, 0xdf72, 0x1aa8, 0x1, 0x1);
        gbc.writeMem(0x6d2c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xeaba);
        EXPECT(gbc.pc(), 0x6d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0060
        gbc.setState(0x8719, 0x22e7, 0xc620, 0x9432, 0x159e, 0xbdb6, 0x0, 0x0);
        gbc.writeMem(0x8719, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x22e7);
        EXPECT(gbc.pc(), 0x871a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8719), 0xac);
        // AC 0061
        gbc.setState(0xfe5, 0xe1b, 0x6790, 0x96c3, 0xd879, 0x4d0c, 0x1, 0x0);
        gbc.writeMem(0xfe5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe1b);
        EXPECT(gbc.pc(), 0xfe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0062
        gbc.setState(0x5d55, 0xdbbf, 0xdc20, 0xb622, 0x19d8, 0x5a3a, 0x0, 0x0);
        gbc.writeMem(0x5d55, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdbbf);
        EXPECT(gbc.pc(), 0x5d56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0063
        gbc.setState(0xbdee, 0x17bd, 0xfd60, 0x6de1, 0xb5bc, 0xf8fd, 0x1, 0x0);
        gbc.writeMem(0xbdee, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x17bd);
        EXPECT(gbc.pc(), 0xbdef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdee), 0xac);
        // AC 0064
        gbc.setState(0x86ad, 0xe42d, 0x3140, 0x4395, 0x63a7, 0xda09, 0x0, 0x0);
        gbc.writeMem(0x86ad, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe42d);
        EXPECT(gbc.pc(), 0x86ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ad), 0xac);
        // AC 0065
        gbc.setState(0x1dce, 0x15f1, 0x4c90, 0x656b, 0xf210, 0x34f8, 0x1, 0x0);
        gbc.writeMem(0x1dce, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x15f1);
        EXPECT(gbc.pc(), 0x1dcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0066
        gbc.setState(0x7218, 0x63f2, 0xb160, 0xd473, 0x613c, 0x97c8, 0x1, 0x0);
        gbc.writeMem(0x7218, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x63f2);
        EXPECT(gbc.pc(), 0x7219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0067
        gbc.setState(0x67e8, 0xe45b, 0x8170, 0xbc74, 0xe09b, 0xf6c5, 0x0, 0x1);
        gbc.writeMem(0x67e8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe45b);
        EXPECT(gbc.pc(), 0x67e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0068
        gbc.setState(0xd47c, 0xc7ed, 0xee00, 0x9cdd, 0xbfd3, 0x245d, 0x1, 0x0);
        gbc.writeMem(0xd47c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc7ed);
        EXPECT(gbc.pc(), 0xd47d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd47c), 0xac);
        // AC 0069
        gbc.setState(0x6686, 0xb13c, 0xab10, 0xf263, 0x61db, 0x21cd, 0x1, 0x1);
        gbc.writeMem(0x6686, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb13c);
        EXPECT(gbc.pc(), 0x6687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 006A
        gbc.setState(0x511, 0xfdf8, 0x35a0, 0xfa43, 0x928c, 0x4736, 0x0, 0x1);
        gbc.writeMem(0x511, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfdf8);
        EXPECT(gbc.pc(), 0x512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 006B
        gbc.setState(0xa64c, 0x262c, 0x73b0, 0x632, 0xe8c6, 0x491d, 0x1, 0x0);
        gbc.writeMem(0xa64c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x262c);
        EXPECT(gbc.pc(), 0xa64d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa64c), 0xac);
        // AC 006C
        gbc.setState(0x9724, 0xf7f3, 0x4d10, 0xacd1, 0xa463, 0x74ab, 0x1, 0x1);
        gbc.writeMem(0x9724, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf7f3);
        EXPECT(gbc.pc(), 0x9725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9724), 0xac);
        // AC 006D
        gbc.setState(0x9b34, 0x6e0e, 0x8c90, 0x992, 0x4e97, 0x62b0, 0x0, 0x1);
        gbc.writeMem(0x9b34, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6e0e);
        EXPECT(gbc.pc(), 0x9b35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b34), 0xac);
        // AC 006E
        gbc.setState(0x9909, 0x5890, 0x30, 0xa92d, 0x3727, 0xfcd9, 0x0, 0x0);
        gbc.writeMem(0x9909, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5890);
        EXPECT(gbc.pc(), 0x990a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9909), 0xac);
        // AC 006F
        gbc.setState(0xb1d8, 0x78fc, 0xe70, 0xa74e, 0x577a, 0x8216, 0x1, 0x0);
        gbc.writeMem(0xb1d8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x78fc);
        EXPECT(gbc.pc(), 0xb1d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1d8), 0xac);
        // AC 0070
        gbc.setState(0xcb3d, 0x40e1, 0x680, 0x42a, 0xbb58, 0x9b83, 0x1, 0x1);
        gbc.writeMem(0xcb3d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x40e1);
        EXPECT(gbc.pc(), 0xcb3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb3d), 0xac);
        // AC 0071
        gbc.setState(0x1ea7, 0x3cb, 0x19e0, 0xbdf4, 0xcc2f, 0xa13e, 0x1, 0x1);
        gbc.writeMem(0x1ea7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3cb);
        EXPECT(gbc.pc(), 0x1ea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0072
        gbc.setState(0x52f6, 0xd451, 0x8d0, 0x815, 0xc5ab, 0x799f, 0x0, 0x1);
        gbc.writeMem(0x52f6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xd451);
        EXPECT(gbc.pc(), 0x52f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0073
        gbc.setState(0xe3b8, 0x6ee1, 0x3470, 0x199b, 0x743b, 0x394e, 0x0, 0x0);
        gbc.writeMem(0xe3b8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6ee1);
        EXPECT(gbc.pc(), 0xe3b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b8), 0xac);
        // AC 0074
        gbc.setState(0xcd6d, 0x33bb, 0x53d0, 0xc742, 0x1365, 0xd5bf, 0x0, 0x0);
        gbc.writeMem(0xcd6d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x33bb);
        EXPECT(gbc.pc(), 0xcd6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd6d), 0xac);
        // AC 0075
        gbc.setState(0x8416, 0xc9d9, 0x9d40, 0xa239, 0xde4, 0x8a50, 0x1, 0x1);
        gbc.writeMem(0x8416, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc9d9);
        EXPECT(gbc.pc(), 0x8417);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8416), 0xac);
        // AC 0076
        gbc.setState(0xb8f5, 0x67f2, 0xcb0, 0x363, 0x30d9, 0x5e16, 0x0, 0x0);
        gbc.writeMem(0xb8f5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x67f2);
        EXPECT(gbc.pc(), 0xb8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8f5), 0xac);
        // AC 0077
        gbc.setState(0x80ad, 0xfe6e, 0x1880, 0xe87f, 0xc2d3, 0xf3b6, 0x1, 0x0);
        gbc.writeMem(0x80ad, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xfe6e);
        EXPECT(gbc.pc(), 0x80ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80ad), 0xac);
        // AC 0078
        gbc.setState(0x36d0, 0x1b10, 0x73c0, 0x61aa, 0xd2e5, 0xa798, 0x0, 0x0);
        gbc.writeMem(0x36d0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1b10);
        EXPECT(gbc.pc(), 0x36d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0079
        gbc.setState(0x3adc, 0x903b, 0x10, 0xa001, 0x9f12, 0xcca1, 0x0, 0x0);
        gbc.writeMem(0x3adc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x903b);
        EXPECT(gbc.pc(), 0x3add);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 007A
        gbc.setState(0x6b9e, 0x7f24, 0xd50, 0xedbb, 0xcc40, 0x7cc8, 0x0, 0x1);
        gbc.writeMem(0x6b9e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7f24);
        EXPECT(gbc.pc(), 0x6b9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 007B
        gbc.setState(0x2aca, 0x118b, 0xa270, 0xdae3, 0xe9b3, 0x78d2, 0x1, 0x0);
        gbc.writeMem(0x2aca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x118b);
        EXPECT(gbc.pc(), 0x2acb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 007C
        gbc.setState(0xd3db, 0xb5df, 0x4eb0, 0xe6f8, 0xfc0d, 0xbe25, 0x0, 0x1);
        gbc.writeMem(0xd3db, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb5df);
        EXPECT(gbc.pc(), 0xd3dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3db), 0xac);
        // AC 007D
        gbc.setState(0x36ed, 0x889b, 0xb480, 0xd5e, 0x13e6, 0x8a01, 0x1, 0x0);
        gbc.writeMem(0x36ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x889b);
        EXPECT(gbc.pc(), 0x36ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 007E
        gbc.setState(0x2b81, 0x131f, 0x2280, 0x69e9, 0x8813, 0x5390, 0x0, 0x1);
        gbc.writeMem(0x2b81, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x131f);
        EXPECT(gbc.pc(), 0x2b82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 007F
        gbc.setState(0x78f2, 0x4832, 0x6910, 0xf8e6, 0x81b6, 0xd29e, 0x0, 0x0);
        gbc.writeMem(0x78f2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x4832);
        EXPECT(gbc.pc(), 0x78f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0080
        gbc.setState(0x27f0, 0xf7d3, 0xc7e0, 0x301d, 0x3384, 0xc318, 0x0, 0x1);
        gbc.writeMem(0x27f0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf7d3);
        EXPECT(gbc.pc(), 0x27f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0081
        gbc.setState(0xc9, 0xdf8, 0xfd10, 0x5c43, 0xf555, 0x7c93, 0x0, 0x0);
        gbc.writeMem(0xc9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xdf8);
        EXPECT(gbc.pc(), 0xca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0082
        gbc.setState(0x609e, 0xeb2b, 0x5790, 0xb45e, 0x4ed5, 0x395e, 0x1, 0x1);
        gbc.writeMem(0x609e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xeb2b);
        EXPECT(gbc.pc(), 0x609f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0083
        gbc.setState(0x3bce, 0xff30, 0x6f20, 0x982b, 0x9638, 0xfd6f, 0x1, 0x1);
        gbc.writeMem(0x3bce, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xff30);
        EXPECT(gbc.pc(), 0x3bcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0084
        gbc.setState(0xe60, 0x9041, 0x8390, 0xcd9, 0xf7e0, 0x2dcf, 0x0, 0x1);
        gbc.writeMem(0xe60, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9041);
        EXPECT(gbc.pc(), 0xe61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0085
        gbc.setState(0x499d, 0xe48f, 0xe80, 0x7428, 0xe19, 0x4a65, 0x0, 0x0);
        gbc.writeMem(0x499d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe48f);
        EXPECT(gbc.pc(), 0x499e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0086
        gbc.setState(0xdd31, 0xd821, 0x7a30, 0xd226, 0x4f1f, 0x5f0a, 0x0, 0x1);
        gbc.writeMem(0xdd31, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd821);
        EXPECT(gbc.pc(), 0xdd32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd31), 0xac);
        // AC 0087
        gbc.setState(0xd335, 0xf560, 0x2a80, 0x4ad6, 0xf4e2, 0x6aba, 0x1, 0x0);
        gbc.writeMem(0xd335, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf560);
        EXPECT(gbc.pc(), 0xd336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd335), 0xac);
        // AC 0088
        gbc.setState(0x2148, 0xc9d2, 0xd630, 0x27ec, 0x3ae, 0x7634, 0x1, 0x1);
        gbc.writeMem(0x2148, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc9d2);
        EXPECT(gbc.pc(), 0x2149);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0089
        gbc.setState(0x2370, 0x8610, 0x3a30, 0x3700, 0x840c, 0x20f8, 0x0, 0x0);
        gbc.writeMem(0x2370, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8610);
        EXPECT(gbc.pc(), 0x2371);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 008A
        gbc.setState(0xa8c3, 0x58a2, 0xe5a0, 0xdf76, 0xbd52, 0xed2c, 0x1, 0x0);
        gbc.writeMem(0xa8c3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x58a2);
        EXPECT(gbc.pc(), 0xa8c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8c3), 0xac);
        // AC 008B
        gbc.setState(0x67c, 0x5c37, 0xf330, 0x7a0f, 0x8353, 0x9f57, 0x1, 0x1);
        gbc.writeMem(0x67c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5c37);
        EXPECT(gbc.pc(), 0x67d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 008C
        gbc.setState(0x4e97, 0xf456, 0x5840, 0x5c71, 0xbb5, 0x6bc6, 0x0, 0x1);
        gbc.writeMem(0x4e97, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf456);
        EXPECT(gbc.pc(), 0x4e98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 008D
        gbc.setState(0xc9e4, 0x4fc9, 0x7d90, 0x40a0, 0xeed1, 0x5607, 0x0, 0x0);
        gbc.writeMem(0xc9e4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4fc9);
        EXPECT(gbc.pc(), 0xc9e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9e4), 0xac);
        // AC 008E
        gbc.setState(0x3b18, 0x51f9, 0xbf20, 0x499d, 0x19ef, 0xefaf, 0x0, 0x0);
        gbc.writeMem(0x3b18, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x51f9);
        EXPECT(gbc.pc(), 0x3b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 008F
        gbc.setState(0x2f9, 0x3b47, 0x8550, 0x2298, 0xf86a, 0xd51e, 0x0, 0x1);
        gbc.writeMem(0x2f9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3b47);
        EXPECT(gbc.pc(), 0x2fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0090
        gbc.setState(0x2e25, 0x364e, 0xfdf0, 0x171c, 0x384e, 0xf0f0, 0x1, 0x0);
        gbc.writeMem(0x2e25, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x364e);
        EXPECT(gbc.pc(), 0x2e26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0091
        gbc.setState(0x8df, 0xf0e8, 0x5850, 0xd752, 0xf0b0, 0x88bf, 0x0, 0x1);
        gbc.writeMem(0x8df, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf0e8);
        EXPECT(gbc.pc(), 0x8e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0092
        gbc.setState(0xab7d, 0x225, 0x9fd0, 0x8839, 0xf4c5, 0x55a3, 0x1, 0x0);
        gbc.writeMem(0xab7d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x225);
        EXPECT(gbc.pc(), 0xab7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab7d), 0xac);
        // AC 0093
        gbc.setState(0xc846, 0xe6dd, 0x96c0, 0xcb24, 0xbf68, 0xcc19, 0x0, 0x1);
        gbc.writeMem(0xc846, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe6dd);
        EXPECT(gbc.pc(), 0xc847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc846), 0xac);
        // AC 0094
        gbc.setState(0x7ebe, 0x694f, 0x6b80, 0x80ab, 0x8f6c, 0x49b3, 0x0, 0x0);
        gbc.writeMem(0x7ebe, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x694f);
        EXPECT(gbc.pc(), 0x7ebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0095
        gbc.setState(0xa84, 0x8938, 0xca10, 0x4e97, 0x1f40, 0x675b, 0x0, 0x1);
        gbc.writeMem(0xa84, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8938);
        EXPECT(gbc.pc(), 0xa85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0096
        gbc.setState(0x335d, 0xa0b6, 0xab10, 0x5fb0, 0xd61d, 0x3eb1, 0x1, 0x1);
        gbc.writeMem(0x335d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa0b6);
        EXPECT(gbc.pc(), 0x335e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0097
        gbc.setState(0x8d1, 0xaccf, 0x41a0, 0xecb8, 0xa373, 0x86f9, 0x1, 0x1);
        gbc.writeMem(0x8d1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xaccf);
        EXPECT(gbc.pc(), 0x8d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0098
        gbc.setState(0xd429, 0x4d5e, 0x54b0, 0x3a81, 0x4cff, 0x6484, 0x1, 0x0);
        gbc.writeMem(0xd429, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4d5e);
        EXPECT(gbc.pc(), 0xd42a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd429), 0xac);
        // AC 0099
        gbc.setState(0x7ed8, 0x73d8, 0xa570, 0xfa81, 0x3a31, 0x4943, 0x0, 0x0);
        gbc.writeMem(0x7ed8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x73d8);
        EXPECT(gbc.pc(), 0x7ed9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 009A
        gbc.setState(0x7d63, 0x390, 0xe510, 0xefd1, 0x5868, 0x374f, 0x0, 0x0);
        gbc.writeMem(0x7d63, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x390);
        EXPECT(gbc.pc(), 0x7d64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 009B
        gbc.setState(0x9667, 0xfb01, 0x6ae0, 0x99e7, 0xd36f, 0x7aa5, 0x0, 0x1);
        gbc.writeMem(0x9667, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xfb01);
        EXPECT(gbc.pc(), 0x9668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9667), 0xac);
        // AC 009C
        gbc.setState(0x2d3, 0xc209, 0xfdc0, 0xc771, 0xbb5c, 0x33e8, 0x0, 0x1);
        gbc.writeMem(0x2d3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc209);
        EXPECT(gbc.pc(), 0x2d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 009D
        gbc.setState(0xd512, 0xf16c, 0x6610, 0xb7c0, 0x6a7e, 0x7756, 0x0, 0x1);
        gbc.writeMem(0xd512, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf16c);
        EXPECT(gbc.pc(), 0xd513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd512), 0xac);
        // AC 009E
        gbc.setState(0xdbad, 0xfb95, 0xc3b0, 0xce09, 0xf02a, 0x4882, 0x0, 0x1);
        gbc.writeMem(0xdbad, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xfb95);
        EXPECT(gbc.pc(), 0xdbae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbad), 0xac);
        // AC 009F
        gbc.setState(0xaa13, 0xe8e8, 0xc860, 0xcbdb, 0xfeeb, 0xc376, 0x1, 0x0);
        gbc.writeMem(0xaa13, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe8e8);
        EXPECT(gbc.pc(), 0xaa14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa13), 0xac);
        // AC 00A0
        gbc.setState(0xef7, 0xd992, 0x6030, 0xda77, 0x5066, 0x2cea, 0x0, 0x1);
        gbc.writeMem(0xef7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd992);
        EXPECT(gbc.pc(), 0xef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00A1
        gbc.setState(0x28b4, 0x850f, 0x720, 0x669, 0x7a67, 0x2c79, 0x1, 0x0);
        gbc.writeMem(0x28b4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x850f);
        EXPECT(gbc.pc(), 0x28b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00A2
        gbc.setState(0x5af5, 0x375b, 0xdcf0, 0x24da, 0x9edd, 0x86cd, 0x0, 0x0);
        gbc.writeMem(0x5af5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x375b);
        EXPECT(gbc.pc(), 0x5af6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00A3
        gbc.setState(0x268f, 0x7483, 0x9d70, 0xff9c, 0xa9af, 0xb904, 0x0, 0x0);
        gbc.writeMem(0x268f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7483);
        EXPECT(gbc.pc(), 0x2690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00A4
        gbc.setState(0xda6, 0x4cc5, 0x6f20, 0x3cc3, 0xdac8, 0xacf0, 0x0, 0x1);
        gbc.writeMem(0xda6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4cc5);
        EXPECT(gbc.pc(), 0xda7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00A5
        gbc.setState(0xcfa6, 0x2a25, 0x40a0, 0xa4b6, 0x68b1, 0xefd7, 0x1, 0x0);
        gbc.writeMem(0xcfa6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2a25);
        EXPECT(gbc.pc(), 0xcfa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfa6), 0xac);
        // AC 00A6
        gbc.setState(0x2d61, 0xba96, 0x5790, 0x7fff, 0x6e01, 0xba44, 0x1, 0x0);
        gbc.writeMem(0x2d61, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xba96);
        EXPECT(gbc.pc(), 0x2d62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00A7
        gbc.setState(0xc6b7, 0xd736, 0x34a0, 0x7668, 0x85e7, 0xc6ec, 0x0, 0x0);
        gbc.writeMem(0xc6b7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd736);
        EXPECT(gbc.pc(), 0xc6b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6b7), 0xac);
        // AC 00A8
        gbc.setState(0xada9, 0x266c, 0xff10, 0xf2ba, 0xbd24, 0x4b9a, 0x1, 0x0);
        gbc.writeMem(0xada9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x266c);
        EXPECT(gbc.pc(), 0xadaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xada9), 0xac);
        // AC 00A9
        gbc.setState(0x929c, 0x5ad, 0xb7a0, 0x216f, 0x6fbf, 0x7869, 0x0, 0x0);
        gbc.writeMem(0x929c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5ad);
        EXPECT(gbc.pc(), 0x929d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x929c), 0xac);
        // AC 00AA
        gbc.setState(0x4576, 0x7c13, 0x13c0, 0x62b1, 0xaabc, 0x5e56, 0x0, 0x0);
        gbc.writeMem(0x4576, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x7c13);
        EXPECT(gbc.pc(), 0x4577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00AB
        gbc.setState(0x356e, 0x42fe, 0xe220, 0x71e2, 0x253b, 0x3c0b, 0x1, 0x1);
        gbc.writeMem(0x356e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x42fe);
        EXPECT(gbc.pc(), 0x356f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00AC
        gbc.setState(0xa1ad, 0xf2fe, 0x4cb0, 0xfe22, 0xd0c5, 0x6ea5, 0x0, 0x1);
        gbc.writeMem(0xa1ad, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xf2fe);
        EXPECT(gbc.pc(), 0xa1ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1ad), 0xac);
        // AC 00AD
        gbc.setState(0x69ac, 0x44bb, 0x8d80, 0x310d, 0xfe15, 0x19b9, 0x1, 0x0);
        gbc.writeMem(0x69ac, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x44bb);
        EXPECT(gbc.pc(), 0x69ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00AE
        gbc.setState(0x47c3, 0x81d5, 0x2a80, 0xe1b5, 0x2bdf, 0xe5f4, 0x0, 0x0);
        gbc.writeMem(0x47c3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x81d5);
        EXPECT(gbc.pc(), 0x47c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00AF
        gbc.setState(0x3ee5, 0x699b, 0x77e0, 0x24a3, 0x4e9b, 0x745b, 0x0, 0x0);
        gbc.writeMem(0x3ee5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x699b);
        EXPECT(gbc.pc(), 0x3ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B0
        gbc.setState(0x7b55, 0x5e25, 0xb0f0, 0xd31, 0xe384, 0x2077, 0x0, 0x0);
        gbc.writeMem(0x7b55, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5e25);
        EXPECT(gbc.pc(), 0x7b56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B1
        gbc.setState(0x4e23, 0xc9b7, 0x15e0, 0x1cdd, 0x8aaf, 0x344, 0x0, 0x0);
        gbc.writeMem(0x4e23, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc9b7);
        EXPECT(gbc.pc(), 0x4e24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B2
        gbc.setState(0xc7ac, 0x8150, 0x45f0, 0x4f97, 0xef31, 0xae41, 0x0, 0x0);
        gbc.writeMem(0xc7ac, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8150);
        EXPECT(gbc.pc(), 0xc7ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ac), 0xac);
        // AC 00B3
        gbc.setState(0xaffd, 0x7d53, 0xbcc0, 0xd935, 0xd351, 0x9abf, 0x1, 0x1);
        gbc.writeMem(0xaffd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x7d53);
        EXPECT(gbc.pc(), 0xaffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaffd), 0xac);
        // AC 00B4
        gbc.setState(0x67cc, 0x559, 0x7930, 0x6b33, 0x3f03, 0x8b63, 0x0, 0x1);
        gbc.writeMem(0x67cc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x559);
        EXPECT(gbc.pc(), 0x67cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B6
        gbc.setState(0x3345, 0xb9f6, 0xc470, 0xd631, 0xae76, 0xf963, 0x0, 0x0);
        gbc.writeMem(0x3345, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb9f6);
        EXPECT(gbc.pc(), 0x3346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B7
        gbc.setState(0x3b1, 0x6f20, 0xd8e0, 0xcef9, 0xa015, 0x812e, 0x0, 0x0);
        gbc.writeMem(0x3b1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6f20);
        EXPECT(gbc.pc(), 0x3b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B8
        gbc.setState(0x525a, 0xa8c9, 0xa0c0, 0x24d5, 0xa69c, 0xf5bc, 0x1, 0x1);
        gbc.writeMem(0x525a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa8c9);
        EXPECT(gbc.pc(), 0x525b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00B9
        gbc.setState(0x44a7, 0xc43b, 0xb950, 0xaaac, 0x5458, 0x8045, 0x0, 0x1);
        gbc.writeMem(0x44a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc43b);
        EXPECT(gbc.pc(), 0x44a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00BA
        gbc.setState(0x3b7e, 0xcbc4, 0x5830, 0x1b75, 0xbfb9, 0xc5cd, 0x0, 0x1);
        gbc.writeMem(0x3b7e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xcbc4);
        EXPECT(gbc.pc(), 0x3b7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00BB
        gbc.setState(0xabe1, 0xc7b8, 0x3fb0, 0xbb03, 0x4f6d, 0x9dd7, 0x1, 0x0);
        gbc.writeMem(0xabe1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xc7b8);
        EXPECT(gbc.pc(), 0xabe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabe1), 0xac);
        // AC 00BD
        gbc.setState(0x586, 0x8629, 0x5bd0, 0xf5be, 0x5d21, 0x8628, 0x0, 0x1);
        gbc.writeMem(0x586, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x8629);
        EXPECT(gbc.pc(), 0x587);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00BE
        gbc.setState(0x72ef, 0xad67, 0x19d0, 0xbb75, 0x468f, 0xb31d, 0x0, 0x1);
        gbc.writeMem(0x72ef, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xad67);
        EXPECT(gbc.pc(), 0x72f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00BF
        gbc.setState(0x65e, 0xb77c, 0x5ac0, 0x82fa, 0xed1e, 0x9267, 0x1, 0x1);
        gbc.writeMem(0x65e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb77c);
        EXPECT(gbc.pc(), 0x65f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00C1
        gbc.setState(0x6459, 0x1d24, 0x6fd0, 0xf0a4, 0x6724, 0xf957, 0x1, 0x1);
        gbc.writeMem(0x6459, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x1d24);
        EXPECT(gbc.pc(), 0x645a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00C3
        gbc.setState(0xa675, 0xf8f8, 0x290, 0x27b9, 0x2109, 0x1ba9, 0x1, 0x0);
        gbc.writeMem(0xa675, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xf8f8);
        EXPECT(gbc.pc(), 0xa676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa675), 0xac);
        // AC 00C4
        gbc.setState(0x32e1, 0x798b, 0xd280, 0xa2c9, 0xcbcb, 0xe64b, 0x1, 0x1);
        gbc.writeMem(0x32e1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x798b);
        EXPECT(gbc.pc(), 0x32e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00C5
        gbc.setState(0x88c1, 0xf52b, 0xbba0, 0x7430, 0xd940, 0x87ae, 0x0, 0x1);
        gbc.writeMem(0x88c1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf52b);
        EXPECT(gbc.pc(), 0x88c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88c1), 0xac);
        // AC 00C6
        gbc.setState(0x3d06, 0x6789, 0x9410, 0x1f42, 0xb8fb, 0x14e8, 0x0, 0x1);
        gbc.writeMem(0x3d06, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6789);
        EXPECT(gbc.pc(), 0x3d07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00C7
        gbc.setState(0xd8d7, 0xc89f, 0xbaa0, 0xf3e9, 0x4ff8, 0x6f82, 0x0, 0x0);
        gbc.writeMem(0xd8d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xc89f);
        EXPECT(gbc.pc(), 0xd8d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d7), 0xac);
        // AC 00C8
        gbc.setState(0xd563, 0xe610, 0x2070, 0x5069, 0xbe74, 0xddd7, 0x1, 0x0);
        gbc.writeMem(0xd563, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe610);
        EXPECT(gbc.pc(), 0xd564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd563), 0xac);
        // AC 00C9
        gbc.setState(0x37c1, 0xc642, 0xdbe0, 0x73f7, 0xb966, 0x79cd, 0x1, 0x0);
        gbc.writeMem(0x37c1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc642);
        EXPECT(gbc.pc(), 0x37c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00CA
        gbc.setState(0x7ab2, 0xb02c, 0xa570, 0x6ebe, 0xd371, 0x2c0a, 0x1, 0x0);
        gbc.writeMem(0x7ab2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xb02c);
        EXPECT(gbc.pc(), 0x7ab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00CB
        gbc.setState(0x1315, 0x96cd, 0x4950, 0x2aa8, 0xf46a, 0xe0c1, 0x1, 0x1);
        gbc.writeMem(0x1315, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x96cd);
        EXPECT(gbc.pc(), 0x1316);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00CC
        gbc.setState(0xed7c, 0x20ef, 0xe080, 0x6f05, 0x3c0, 0x8e4f, 0x1, 0x0);
        gbc.writeMem(0xed7c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x20ef);
        EXPECT(gbc.pc(), 0xed7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7c), 0xac);
        // AC 00CD
        gbc.setState(0x5d9d, 0xe766, 0xa190, 0xeda3, 0xacf4, 0xc38, 0x0, 0x1);
        gbc.writeMem(0x5d9d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xe766);
        EXPECT(gbc.pc(), 0x5d9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00CE
        gbc.setState(0x8b41, 0x6b4e, 0x9780, 0x5b46, 0xef2f, 0x51f7, 0x0, 0x1);
        gbc.writeMem(0x8b41, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x6b4e);
        EXPECT(gbc.pc(), 0x8b42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b41), 0xac);
        // AC 00CF
        gbc.setState(0xb28a, 0xbb01, 0xe430, 0x16fb, 0xeb6c, 0xadff, 0x0, 0x1);
        gbc.writeMem(0xb28a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xbb01);
        EXPECT(gbc.pc(), 0xb28b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb28a), 0xac);
        // AC 00D0
        gbc.setState(0xbd6b, 0x1237, 0x35c0, 0xccca, 0x35e6, 0xa613, 0x0, 0x1);
        gbc.writeMem(0xbd6b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1237);
        EXPECT(gbc.pc(), 0xbd6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd6b), 0xac);
        // AC 00D1
        gbc.setState(0x5515, 0x7bfc, 0x6800, 0x2814, 0x856, 0x5ccf, 0x0, 0x0);
        gbc.writeMem(0x5515, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7bfc);
        EXPECT(gbc.pc(), 0x5516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00D2
        gbc.setState(0x2c0f, 0x149e, 0x6530, 0x6728, 0x2a38, 0xd62d, 0x0, 0x0);
        gbc.writeMem(0x2c0f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x149e);
        EXPECT(gbc.pc(), 0x2c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00D3
        gbc.setState(0x211d, 0xe41, 0xfd00, 0x4ea6, 0x61ac, 0x8d0c, 0x1, 0x0);
        gbc.writeMem(0x211d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe41);
        EXPECT(gbc.pc(), 0x211e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00D4
        gbc.setState(0xeb8c, 0xa3bf, 0xccd0, 0x32fc, 0xcf0f, 0x2615, 0x1, 0x0);
        gbc.writeMem(0xeb8c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa3bf);
        EXPECT(gbc.pc(), 0xeb8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8c), 0xac);
        // AC 00D5
        gbc.setState(0xae63, 0x92b5, 0x7750, 0xeec6, 0x247b, 0xa606, 0x0, 0x1);
        gbc.writeMem(0xae63, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x92b5);
        EXPECT(gbc.pc(), 0xae64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae63), 0xac);
        // AC 00D6
        gbc.setState(0x55b9, 0x4e33, 0xdae0, 0x604d, 0x25cd, 0x39c3, 0x0, 0x1);
        gbc.writeMem(0x55b9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4e33);
        EXPECT(gbc.pc(), 0x55ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00D7
        gbc.setState(0x32eb, 0x2b09, 0xc810, 0x54ac, 0x55cc, 0xb518, 0x1, 0x1);
        gbc.writeMem(0x32eb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2b09);
        EXPECT(gbc.pc(), 0x32ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00D8
        gbc.setState(0x83f0, 0x6708, 0x8c70, 0x79ce, 0x2417, 0xda71, 0x0, 0x0);
        gbc.writeMem(0x83f0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6708);
        EXPECT(gbc.pc(), 0x83f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83f0), 0xac);
        // AC 00D9
        gbc.setState(0x771e, 0xafbc, 0xc90, 0xa7e2, 0x8b64, 0xed00, 0x0, 0x0);
        gbc.writeMem(0x771e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xafbc);
        EXPECT(gbc.pc(), 0x771f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00DA
        gbc.setState(0xe6e7, 0xc437, 0x36f0, 0x5126, 0xb552, 0x561f, 0x0, 0x1);
        gbc.writeMem(0xe6e7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc437);
        EXPECT(gbc.pc(), 0xe6e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6e7), 0xac);
        // AC 00DB
        gbc.setState(0x4050, 0x90ab, 0x8590, 0x61d1, 0x1243, 0x500d, 0x1, 0x1);
        gbc.writeMem(0x4050, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x90ab);
        EXPECT(gbc.pc(), 0x4051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00DC
        gbc.setState(0x4e16, 0x90c6, 0x12f0, 0xf429, 0xb518, 0x22ee, 0x0, 0x0);
        gbc.writeMem(0x4e16, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x90c6);
        EXPECT(gbc.pc(), 0x4e17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00DD
        gbc.setState(0x8798, 0xdb6b, 0xc9f0, 0xd7a6, 0xbbff, 0x5f6d, 0x0, 0x0);
        gbc.writeMem(0x8798, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xdb6b);
        EXPECT(gbc.pc(), 0x8799);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8798), 0xac);
        // AC 00DE
        gbc.setState(0xd77e, 0x38b3, 0x7840, 0x9c2f, 0x9907, 0x171e, 0x0, 0x1);
        gbc.writeMem(0xd77e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x38b3);
        EXPECT(gbc.pc(), 0xd77f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd77e), 0xac);
        // AC 00DF
        gbc.setState(0x81b, 0x5dc7, 0x1ae0, 0x7b29, 0xc0c1, 0x954a, 0x1, 0x1);
        gbc.writeMem(0x81b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x5dc7);
        EXPECT(gbc.pc(), 0x81c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00E0
        gbc.setState(0x3f90, 0x86f1, 0x6730, 0x51c5, 0x9d83, 0x26a0, 0x1, 0x0);
        gbc.writeMem(0x3f90, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x86f1);
        EXPECT(gbc.pc(), 0x3f91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00E1
        gbc.setState(0x9d15, 0x4b0b, 0x10a0, 0xa6e0, 0x4386, 0xd1e, 0x0, 0x1);
        gbc.writeMem(0x9d15, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4b0b);
        EXPECT(gbc.pc(), 0x9d16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d15), 0xac);
        // AC 00E2
        gbc.setState(0x43ed, 0xf668, 0x3970, 0xc500, 0xa16c, 0x6a39, 0x0, 0x0);
        gbc.writeMem(0x43ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf668);
        EXPECT(gbc.pc(), 0x43ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00E3
        gbc.setState(0x7d64, 0x7a9e, 0xad10, 0xcb17, 0x9081, 0x1be4, 0x1, 0x0);
        gbc.writeMem(0x7d64, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7a9e);
        EXPECT(gbc.pc(), 0x7d65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00E4
        gbc.setState(0xe998, 0xf0e9, 0x3290, 0xa282, 0x1d61, 0x24a1, 0x0, 0x0);
        gbc.writeMem(0xe998, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf0e9);
        EXPECT(gbc.pc(), 0xe999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe998), 0xac);
        // AC 00E5
        gbc.setState(0x5d4f, 0xe4d3, 0x3810, 0xcdd0, 0xaf5b, 0xec3d, 0x0, 0x0);
        gbc.writeMem(0x5d4f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe4d3);
        EXPECT(gbc.pc(), 0x5d50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00E6
        gbc.setState(0x6929, 0x8fe0, 0x9180, 0x682f, 0xe345, 0x1987, 0x1, 0x0);
        gbc.writeMem(0x6929, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x8fe0);
        EXPECT(gbc.pc(), 0x692a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00E7
        gbc.setState(0x81f3, 0x8fb, 0x8370, 0xbc44, 0xd955, 0x513a, 0x0, 0x1);
        gbc.writeMem(0x81f3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x8fb);
        EXPECT(gbc.pc(), 0x81f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f3), 0xac);
        // AC 00E8
        gbc.setState(0xdd02, 0x7792, 0x8c80, 0x2f67, 0xa786, 0xffc2, 0x1, 0x1);
        gbc.writeMem(0xdd02, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7792);
        EXPECT(gbc.pc(), 0xdd03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd02), 0xac);
        // AC 00E9
        gbc.setState(0x1f87, 0x53e7, 0x5ad0, 0xa363, 0x658c, 0xae2b, 0x1, 0x1);
        gbc.writeMem(0x1f87, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x53e7);
        EXPECT(gbc.pc(), 0x1f88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00EA
        gbc.setState(0x682b, 0x44c1, 0x5ac0, 0xd98, 0x6138, 0x441f, 0x1, 0x0);
        gbc.writeMem(0x682b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x44c1);
        EXPECT(gbc.pc(), 0x682c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00EB
        gbc.setState(0xe45e, 0xeabf, 0xcdc0, 0x9943, 0xb912, 0x80e, 0x1, 0x1);
        gbc.writeMem(0xe45e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xeabf);
        EXPECT(gbc.pc(), 0xe45f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45e), 0xac);
        // AC 00EC
        gbc.setState(0x45ca, 0xb9b3, 0x49f0, 0xc1f9, 0x2f0e, 0xae3d, 0x1, 0x1);
        gbc.writeMem(0x45ca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb9b3);
        EXPECT(gbc.pc(), 0x45cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00ED
        gbc.setState(0x65ea, 0xb8a3, 0x27f0, 0x8bf, 0x738f, 0x6bb, 0x0, 0x0);
        gbc.writeMem(0x65ea, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb8a3);
        EXPECT(gbc.pc(), 0x65eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00EE
        gbc.setState(0x3a2f, 0xba6d, 0xf2f0, 0x5062, 0x1313, 0x24b0, 0x1, 0x1);
        gbc.writeMem(0x3a2f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xba6d);
        EXPECT(gbc.pc(), 0x3a30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00EF
        gbc.setState(0x994, 0xaa3d, 0xe70, 0x93b7, 0x94a, 0x834d, 0x1, 0x1);
        gbc.writeMem(0x994, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xaa3d);
        EXPECT(gbc.pc(), 0x995);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F0
        gbc.setState(0x5c1a, 0xcfe3, 0x4f60, 0xaabd, 0x20ea, 0x5ff6, 0x0, 0x1);
        gbc.writeMem(0x5c1a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xcfe3);
        EXPECT(gbc.pc(), 0x5c1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F1
        gbc.setState(0x9139, 0xed91, 0x4c0, 0x2fee, 0xadc3, 0xa91a, 0x1, 0x0);
        gbc.writeMem(0x9139, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xed91);
        EXPECT(gbc.pc(), 0x913a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9139), 0xac);
        // AC 00F2
        gbc.setState(0x661e, 0xa4a5, 0xd690, 0x917a, 0x75f1, 0x69a6, 0x1, 0x0);
        gbc.writeMem(0x661e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa4a5);
        EXPECT(gbc.pc(), 0x661f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F3
        gbc.setState(0x2cc7, 0x4650, 0xc920, 0xa583, 0x7479, 0xf374, 0x1, 0x0);
        gbc.writeMem(0x2cc7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x4650);
        EXPECT(gbc.pc(), 0x2cc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F4
        gbc.setState(0x8280, 0x74d2, 0xaed0, 0xdc75, 0x4f6d, 0xbb2c, 0x0, 0x0);
        gbc.writeMem(0x8280, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x74d2);
        EXPECT(gbc.pc(), 0x8281);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8280), 0xac);
        // AC 00F5
        gbc.setState(0x3b83, 0x136b, 0x7b30, 0x909f, 0xd1ba, 0x3916, 0x1, 0x0);
        gbc.writeMem(0x3b83, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x136b);
        EXPECT(gbc.pc(), 0x3b84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F6
        gbc.setState(0x40f2, 0xfd84, 0x4060, 0x2bc1, 0x1a69, 0x725e, 0x1, 0x1);
        gbc.writeMem(0x40f2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xfd84);
        EXPECT(gbc.pc(), 0x40f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F7
        gbc.setState(0xdeea, 0xd1e1, 0x2b00, 0x2c22, 0x12a1, 0x5abc, 0x1, 0x0);
        gbc.writeMem(0xdeea, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd1e1);
        EXPECT(gbc.pc(), 0xdeeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeea), 0xac);
        // AC 00F8
        gbc.setState(0x5b46, 0x2401, 0x4370, 0x5de1, 0x70e5, 0xf423, 0x0, 0x0);
        gbc.writeMem(0x5b46, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2401);
        EXPECT(gbc.pc(), 0x5b47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00F9
        gbc.setState(0xd3d5, 0x72d8, 0xdcf0, 0xb102, 0xa684, 0x8630, 0x1, 0x1);
        gbc.writeMem(0xd3d5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x72d8);
        EXPECT(gbc.pc(), 0xd3d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d5), 0xac);
        // AC 00FA
        gbc.setState(0x549c, 0xf179, 0xef50, 0x6cb5, 0x5ed8, 0x4660, 0x0, 0x1);
        gbc.writeMem(0x549c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xf179);
        EXPECT(gbc.pc(), 0x549d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00FB
        gbc.setState(0x5268, 0x7d7d, 0xb9e0, 0xdc2b, 0xde5f, 0xe9ac, 0x1, 0x1);
        gbc.writeMem(0x5268, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x7d7d);
        EXPECT(gbc.pc(), 0x5269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00FC
        gbc.setState(0x593d, 0x4222, 0xc410, 0x765c, 0x7069, 0xc0bb, 0x0, 0x1);
        gbc.writeMem(0x593d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4222);
        EXPECT(gbc.pc(), 0x593e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00FD
        gbc.setState(0x1c3b, 0xedf7, 0xd220, 0x8c67, 0xba38, 0xc306, 0x0, 0x0);
        gbc.writeMem(0x1c3b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xedf7);
        EXPECT(gbc.pc(), 0x1c3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 00FE
        gbc.setState(0xc8b8, 0xf56c, 0x4ab0, 0x2e27, 0x2f74, 0x1c59, 0x1, 0x1);
        gbc.writeMem(0xc8b8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf56c);
        EXPECT(gbc.pc(), 0xc8b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8b8), 0xac);
        // AC 00FF
        gbc.setState(0xecd3, 0x33ad, 0x7950, 0xe649, 0xbaff, 0x4b91, 0x1, 0x1);
        gbc.writeMem(0xecd3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x33ad);
        EXPECT(gbc.pc(), 0xecd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecd3), 0xac);
        // AC 0100
        gbc.setState(0xb297, 0x3029, 0x28f0, 0x2a41, 0x8491, 0x170b, 0x1, 0x0);
        gbc.writeMem(0xb297, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3029);
        EXPECT(gbc.pc(), 0xb298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb297), 0xac);
        // AC 0101
        gbc.setState(0x32a2, 0x3e6, 0xa7b0, 0xfdb6, 0xdd73, 0x5309, 0x1, 0x1);
        gbc.writeMem(0x32a2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3e6);
        EXPECT(gbc.pc(), 0x32a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0102
        gbc.setState(0xec8, 0x9183, 0x1770, 0xa67e, 0xc158, 0xda9a, 0x1, 0x0);
        gbc.writeMem(0xec8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9183);
        EXPECT(gbc.pc(), 0xec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0103
        gbc.setState(0xd28c, 0x17b4, 0x8610, 0xc2c8, 0x82a9, 0x58e8, 0x0, 0x1);
        gbc.writeMem(0xd28c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x17b4);
        EXPECT(gbc.pc(), 0xd28d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd28c), 0xac);
        // AC 0104
        gbc.setState(0xcc3d, 0x1685, 0xba80, 0xec42, 0xde4a, 0x703b, 0x1, 0x1);
        gbc.writeMem(0xcc3d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1685);
        EXPECT(gbc.pc(), 0xcc3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc3d), 0xac);
        // AC 0105
        gbc.setState(0x2b21, 0x8626, 0xb000, 0xc0e1, 0x5181, 0xff52, 0x1, 0x0);
        gbc.writeMem(0x2b21, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8626);
        EXPECT(gbc.pc(), 0x2b22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0106
        gbc.setState(0x30e7, 0x3f3, 0x61e0, 0xb09d, 0x6ade, 0xb03b, 0x1, 0x1);
        gbc.writeMem(0x30e7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3f3);
        EXPECT(gbc.pc(), 0x30e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0107
        gbc.setState(0xc2b, 0x6b36, 0x400, 0x6fec, 0xde69, 0xc94d, 0x0, 0x1);
        gbc.writeMem(0xc2b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6b36);
        EXPECT(gbc.pc(), 0xc2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0108
        gbc.setState(0xd669, 0xc4b8, 0xd470, 0xfa40, 0xb7dd, 0x4c25, 0x0, 0x0);
        gbc.writeMem(0xd669, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc4b8);
        EXPECT(gbc.pc(), 0xd66a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd669), 0xac);
        // AC 0109
        gbc.setState(0x81e5, 0x29f4, 0xa4b0, 0xc67c, 0xe775, 0x17aa, 0x0, 0x1);
        gbc.writeMem(0x81e5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x29f4);
        EXPECT(gbc.pc(), 0x81e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81e5), 0xac);
        // AC 010A
        gbc.setState(0xeed4, 0x809c, 0x43a0, 0x826e, 0x4747, 0xadee, 0x1, 0x1);
        gbc.writeMem(0xeed4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x809c);
        EXPECT(gbc.pc(), 0xeed5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeed4), 0xac);
        // AC 010B
        gbc.setState(0x69fd, 0x7219, 0x4aa0, 0xb7f5, 0xe094, 0x2caa, 0x1, 0x1);
        gbc.writeMem(0x69fd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7219);
        EXPECT(gbc.pc(), 0x69fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 010C
        gbc.setState(0xceda, 0xef9f, 0x95d0, 0xaf77, 0xa66e, 0x67a8, 0x0, 0x1);
        gbc.writeMem(0xceda, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xef9f);
        EXPECT(gbc.pc(), 0xcedb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceda), 0xac);
        // AC 010D
        gbc.setState(0x6447, 0x134, 0xa160, 0x5fc7, 0x8479, 0x3728, 0x0, 0x0);
        gbc.writeMem(0x6447, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x134);
        EXPECT(gbc.pc(), 0x6448);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 010F
        gbc.setState(0x21f9, 0xf3d0, 0xf0a0, 0x9a23, 0xa7ba, 0xf904, 0x1, 0x1);
        gbc.writeMem(0x21f9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xf3d0);
        EXPECT(gbc.pc(), 0x21fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0110
        gbc.setState(0x4fac, 0x361, 0xaf50, 0x932e, 0x5c87, 0x5848, 0x0, 0x1);
        gbc.writeMem(0x4fac, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x361);
        EXPECT(gbc.pc(), 0x4fad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0111
        gbc.setState(0x4546, 0xff87, 0x9c30, 0xe9bc, 0x9e92, 0x3d30, 0x0, 0x0);
        gbc.writeMem(0x4546, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xff87);
        EXPECT(gbc.pc(), 0x4547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0112
        gbc.setState(0x1e93, 0x59c6, 0xd6b0, 0x61e3, 0x7d0, 0xee30, 0x1, 0x1);
        gbc.writeMem(0x1e93, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x59c6);
        EXPECT(gbc.pc(), 0x1e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0113
        gbc.setState(0xcf2e, 0x8e8f, 0x41f0, 0x818e, 0xded, 0x9f4b, 0x1, 0x0);
        gbc.writeMem(0xcf2e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x8e8f);
        EXPECT(gbc.pc(), 0xcf2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf2e), 0xac);
        // AC 0114
        gbc.setState(0xde92, 0x109c, 0xe490, 0xc0fd, 0x5329, 0x7989, 0x1, 0x1);
        gbc.writeMem(0xde92, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x109c);
        EXPECT(gbc.pc(), 0xde93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde92), 0xac);
        // AC 0115
        gbc.setState(0xb6ca, 0x37dd, 0xe830, 0x7cef, 0x348a, 0x8bc9, 0x1, 0x1);
        gbc.writeMem(0xb6ca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x37dd);
        EXPECT(gbc.pc(), 0xb6cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ca), 0xac);
        // AC 0116
        gbc.setState(0xb2e5, 0xf1b8, 0xa440, 0x7a35, 0x4ac6, 0x6e87, 0x0, 0x1);
        gbc.writeMem(0xb2e5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xf1b8);
        EXPECT(gbc.pc(), 0xb2e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2e5), 0xac);
        // AC 0117
        gbc.setState(0x26bb, 0x7fe4, 0xbe20, 0x9756, 0xdf1a, 0x185, 0x1, 0x0);
        gbc.writeMem(0x26bb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x7fe4);
        EXPECT(gbc.pc(), 0x26bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0118
        gbc.setState(0xb51e, 0xe4a8, 0x45b0, 0x5f67, 0xb0ab, 0x1b54, 0x0, 0x0);
        gbc.writeMem(0xb51e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe4a8);
        EXPECT(gbc.pc(), 0xb51f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb51e), 0xac);
        // AC 0119
        gbc.setState(0xa2a7, 0x8608, 0x2800, 0xc41d, 0x1d9e, 0x8419, 0x0, 0x1);
        gbc.writeMem(0xa2a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8608);
        EXPECT(gbc.pc(), 0xa2a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2a7), 0xac);
        // AC 011A
        gbc.setState(0x2a1d, 0x684c, 0xe900, 0x639c, 0x414, 0x785, 0x0, 0x0);
        gbc.writeMem(0x2a1d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x684c);
        EXPECT(gbc.pc(), 0x2a1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 011B
        gbc.setState(0x5371, 0xe6c3, 0x3ba0, 0x58e9, 0x57b6, 0xe4e, 0x0, 0x1);
        gbc.writeMem(0x5371, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe6c3);
        EXPECT(gbc.pc(), 0x5372);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 011C
        gbc.setState(0xd0eb, 0xca7a, 0x620, 0x772b, 0xfeae, 0xfa6c, 0x0, 0x0);
        gbc.writeMem(0xd0eb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xca7a);
        EXPECT(gbc.pc(), 0xd0ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0eb), 0xac);
        // AC 011D
        gbc.setState(0xa98d, 0x3f6b, 0x7250, 0xa571, 0x16b1, 0x2e01, 0x0, 0x1);
        gbc.writeMem(0xa98d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x3f6b);
        EXPECT(gbc.pc(), 0xa98e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa98d), 0xac);
        // AC 011E
        gbc.setState(0x876, 0x50df, 0x9060, 0x1d6, 0xbe7c, 0x1fe5, 0x0, 0x1);
        gbc.writeMem(0x876, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x50df);
        EXPECT(gbc.pc(), 0x877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 011F
        gbc.setState(0x2a89, 0xf4c3, 0xae00, 0xe2c5, 0xbafd, 0x8d27, 0x1, 0x1);
        gbc.writeMem(0x2a89, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf4c3);
        EXPECT(gbc.pc(), 0x2a8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0120
        gbc.setState(0xc67a, 0x1f24, 0x4580, 0x7b78, 0x2d8c, 0x1896, 0x0, 0x0);
        gbc.writeMem(0xc67a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1f24);
        EXPECT(gbc.pc(), 0xc67b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc67a), 0xac);
        // AC 0121
        gbc.setState(0x107b, 0x898, 0x26f0, 0xc5e4, 0xcf34, 0x247a, 0x0, 0x0);
        gbc.writeMem(0x107b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x898);
        EXPECT(gbc.pc(), 0x107c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0122
        gbc.setState(0x5f69, 0x1ac9, 0x56c0, 0x42e7, 0x7701, 0x6410, 0x1, 0x0);
        gbc.writeMem(0x5f69, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1ac9);
        EXPECT(gbc.pc(), 0x5f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0123
        gbc.setState(0xb7b9, 0x7290, 0xe5c0, 0xdc7e, 0xd42c, 0xb2dc, 0x1, 0x1);
        gbc.writeMem(0xb7b9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7290);
        EXPECT(gbc.pc(), 0xb7ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b9), 0xac);
        // AC 0124
        gbc.setState(0x4ccb, 0xe6f7, 0xb8c0, 0x440f, 0xd1a7, 0x5562, 0x0, 0x0);
        gbc.writeMem(0x4ccb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xe6f7);
        EXPECT(gbc.pc(), 0x4ccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0125
        gbc.setState(0x5b04, 0xb50c, 0x4920, 0x58b9, 0xf17c, 0xf0bd, 0x1, 0x1);
        gbc.writeMem(0x5b04, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb50c);
        EXPECT(gbc.pc(), 0x5b05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0126
        gbc.setState(0xe70e, 0xa65a, 0xc840, 0xdf3c, 0xccf5, 0x72df, 0x0, 0x0);
        gbc.writeMem(0xe70e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa65a);
        EXPECT(gbc.pc(), 0xe70f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe70e), 0xac);
        // AC 0127
        gbc.setState(0xa26c, 0x7332, 0xe790, 0x410c, 0x36a6, 0x3940, 0x1, 0x0);
        gbc.writeMem(0xa26c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7332);
        EXPECT(gbc.pc(), 0xa26d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa26c), 0xac);
        // AC 0128
        gbc.setState(0xdc21, 0xb393, 0xb960, 0x6d6a, 0x32ed, 0x4a39, 0x0, 0x1);
        gbc.writeMem(0xdc21, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb393);
        EXPECT(gbc.pc(), 0xdc22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc21), 0xac);
        // AC 0129
        gbc.setState(0x997b, 0x3ccf, 0x7440, 0xde70, 0x4ed9, 0x43c4, 0x0, 0x1);
        gbc.writeMem(0x997b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3ccf);
        EXPECT(gbc.pc(), 0x997c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x997b), 0xac);
        // AC 012A
        gbc.setState(0x6ff3, 0x3f1d, 0x2d20, 0xae67, 0x3897, 0x67cf, 0x1, 0x0);
        gbc.writeMem(0x6ff3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3f1d);
        EXPECT(gbc.pc(), 0x6ff4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 012B
        gbc.setState(0x3401, 0x74a4, 0xff0, 0xe708, 0xfd2f, 0x2471, 0x1, 0x0);
        gbc.writeMem(0x3401, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x74a4);
        EXPECT(gbc.pc(), 0x3402);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 012C
        gbc.setState(0xcdfc, 0xe35a, 0x4f80, 0x13db, 0xff94, 0x4e4f, 0x0, 0x0);
        gbc.writeMem(0xcdfc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe35a);
        EXPECT(gbc.pc(), 0xcdfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdfc), 0xac);
        // AC 012D
        gbc.setState(0xa3, 0x4fd, 0xdae0, 0x5de3, 0x468d, 0xd9bf, 0x0, 0x0);
        gbc.writeMem(0xa3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4fd);
        EXPECT(gbc.pc(), 0xa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 012E
        gbc.setState(0xc6d7, 0x417f, 0x2fa0, 0x60d5, 0xa308, 0x1811, 0x1, 0x1);
        gbc.writeMem(0xc6d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x417f);
        EXPECT(gbc.pc(), 0xc6d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6d7), 0xac);
        // AC 012F
        gbc.setState(0xaa5a, 0x634d, 0x9f40, 0x7a15, 0xba76, 0xcdf9, 0x0, 0x1);
        gbc.writeMem(0xaa5a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x634d);
        EXPECT(gbc.pc(), 0xaa5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa5a), 0xac);
        // AC 0130
        gbc.setState(0xc5de, 0xcc72, 0xc2e0, 0x1a5d, 0x56f4, 0x6fc, 0x0, 0x1);
        gbc.writeMem(0xc5de, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xcc72);
        EXPECT(gbc.pc(), 0xc5df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5de), 0xac);
        // AC 0131
        gbc.setState(0x7902, 0xcaac, 0x4bb0, 0xa363, 0xa5c4, 0xf5f, 0x0, 0x1);
        gbc.writeMem(0x7902, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xcaac);
        EXPECT(gbc.pc(), 0x7903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0133
        gbc.setState(0x525d, 0x1765, 0xfe90, 0xd3fe, 0x5d3b, 0xa353, 0x1, 0x1);
        gbc.writeMem(0x525d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1765);
        EXPECT(gbc.pc(), 0x525e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0134
        gbc.setState(0xe3f4, 0x8996, 0xa410, 0xa33e, 0x19a4, 0xdf61, 0x1, 0x0);
        gbc.writeMem(0xe3f4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x8996);
        EXPECT(gbc.pc(), 0xe3f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3f4), 0xac);
        // AC 0135
        gbc.setState(0x5c6d, 0xe900, 0x83c0, 0x453b, 0x40b5, 0x93f9, 0x0, 0x0);
        gbc.writeMem(0x5c6d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe900);
        EXPECT(gbc.pc(), 0x5c6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0136
        gbc.setState(0xb13, 0x8b53, 0xe8e0, 0x7504, 0x92b2, 0x456f, 0x1, 0x1);
        gbc.writeMem(0xb13, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x8b53);
        EXPECT(gbc.pc(), 0xb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0137
        gbc.setState(0x5bbf, 0x64e5, 0x5fa0, 0x7e4b, 0x4e74, 0x7e49, 0x1, 0x0);
        gbc.writeMem(0x5bbf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x64e5);
        EXPECT(gbc.pc(), 0x5bc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0138
        gbc.setState(0xa767, 0x438e, 0x94d0, 0xc3b5, 0xa6b1, 0x12b6, 0x0, 0x1);
        gbc.writeMem(0xa767, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x438e);
        EXPECT(gbc.pc(), 0xa768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa767), 0xac);
        // AC 0139
        gbc.setState(0xb4e4, 0x9ae1, 0x310, 0xcafd, 0xf03c, 0x9cc5, 0x0, 0x1);
        gbc.writeMem(0xb4e4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x9ae1);
        EXPECT(gbc.pc(), 0xb4e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e4), 0xac);
        // AC 013A
        gbc.setState(0x4e9a, 0x2169, 0x9210, 0x37f8, 0x9441, 0xeb8f, 0x0, 0x0);
        gbc.writeMem(0x4e9a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2169);
        EXPECT(gbc.pc(), 0x4e9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 013B
        gbc.setState(0x73e4, 0x9db8, 0xc090, 0x6e7d, 0x3ea9, 0x575f, 0x1, 0x1);
        gbc.writeMem(0x73e4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9db8);
        EXPECT(gbc.pc(), 0x73e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 013C
        gbc.setState(0xb2b, 0xacf2, 0x29a0, 0xed82, 0x8dae, 0x5bf1, 0x0, 0x0);
        gbc.writeMem(0xb2b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xacf2);
        EXPECT(gbc.pc(), 0xb2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 013D
        gbc.setState(0x5f95, 0x46ae, 0xf5a0, 0x6b33, 0x2e56, 0xa45d, 0x0, 0x0);
        gbc.writeMem(0x5f95, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x46ae);
        EXPECT(gbc.pc(), 0x5f96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 013E
        gbc.setState(0x2828, 0xf2b9, 0xad40, 0x808e, 0x8f91, 0xe852, 0x0, 0x1);
        gbc.writeMem(0x2828, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf2b9);
        EXPECT(gbc.pc(), 0x2829);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 013F
        gbc.setState(0xbd46, 0x2bc8, 0x9ff0, 0xa3d3, 0x4c36, 0xf5b0, 0x0, 0x1);
        gbc.writeMem(0xbd46, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2bc8);
        EXPECT(gbc.pc(), 0xbd47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd46), 0xac);
        // AC 0140
        gbc.setState(0xecac, 0x980d, 0xa040, 0x7616, 0x5e8d, 0xc962, 0x1, 0x1);
        gbc.writeMem(0xecac, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x980d);
        EXPECT(gbc.pc(), 0xecad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecac), 0xac);
        // AC 0141
        gbc.setState(0x41fd, 0xa8d5, 0xb710, 0x3d8, 0xc7ed, 0x3474, 0x0, 0x1);
        gbc.writeMem(0x41fd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa8d5);
        EXPECT(gbc.pc(), 0x41fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0142
        gbc.setState(0xa9df, 0xcd0c, 0x4800, 0xa4ae, 0x28cb, 0x4d6c, 0x1, 0x0);
        gbc.writeMem(0xa9df, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xcd0c);
        EXPECT(gbc.pc(), 0xa9e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9df), 0xac);
        // AC 0144
        gbc.setState(0x77d6, 0x6af9, 0x3b70, 0xb636, 0x8b8d, 0x5c14, 0x1, 0x1);
        gbc.writeMem(0x77d6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6af9);
        EXPECT(gbc.pc(), 0x77d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0145
        gbc.setState(0xa581, 0x15b1, 0xae10, 0x1992, 0x3e6d, 0xcdcb, 0x0, 0x0);
        gbc.writeMem(0xa581, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x15b1);
        EXPECT(gbc.pc(), 0xa582);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa581), 0xac);
        // AC 0146
        gbc.setState(0xcdf5, 0x9e66, 0x9670, 0xb902, 0xda79, 0xf9ad, 0x0, 0x1);
        gbc.writeMem(0xcdf5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x9e66);
        EXPECT(gbc.pc(), 0xcdf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf5), 0xac);
        // AC 0147
        gbc.setState(0x22c8, 0xd211, 0x6d0, 0x4777, 0xcb92, 0x4595, 0x1, 0x1);
        gbc.writeMem(0x22c8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xd211);
        EXPECT(gbc.pc(), 0x22c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0148
        gbc.setState(0xb139, 0x7abb, 0xc570, 0x67c3, 0x1cc, 0x45f4, 0x1, 0x1);
        gbc.writeMem(0xb139, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x7abb);
        EXPECT(gbc.pc(), 0xb13a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb139), 0xac);
        // AC 0149
        gbc.setState(0x2aa2, 0xacfc, 0x1730, 0x1e9b, 0x371c, 0x407d, 0x1, 0x0);
        gbc.writeMem(0x2aa2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xacfc);
        EXPECT(gbc.pc(), 0x2aa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 014A
        gbc.setState(0x253c, 0xbe2e, 0xc870, 0x4211, 0xa06d, 0x8af7, 0x0, 0x0);
        gbc.writeMem(0x253c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbe2e);
        EXPECT(gbc.pc(), 0x253d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 014B
        gbc.setState(0x8ae0, 0xb8ab, 0xe430, 0x949d, 0xc1de, 0x6666, 0x1, 0x0);
        gbc.writeMem(0x8ae0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb8ab);
        EXPECT(gbc.pc(), 0x8ae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae0), 0xac);
        // AC 014C
        gbc.setState(0x3026, 0x26de, 0xb780, 0x1d1f, 0xb7b2, 0xe496, 0x0, 0x1);
        gbc.writeMem(0x3026, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x26de);
        EXPECT(gbc.pc(), 0x3027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 014D
        gbc.setState(0xa70e, 0xf421, 0x2f00, 0x8b4e, 0xcf12, 0x478d, 0x0, 0x0);
        gbc.writeMem(0xa70e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf421);
        EXPECT(gbc.pc(), 0xa70f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa70e), 0xac);
        // AC 014E
        gbc.setState(0x8885, 0x2133, 0x2be0, 0xbc81, 0x9855, 0x9d5d, 0x0, 0x0);
        gbc.writeMem(0x8885, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2133);
        EXPECT(gbc.pc(), 0x8886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8885), 0xac);
        // AC 014F
        gbc.setState(0x798e, 0x3402, 0x3fc0, 0x4e60, 0x699, 0x98b8, 0x1, 0x1);
        gbc.writeMem(0x798e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3402);
        EXPECT(gbc.pc(), 0x798f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0150
        gbc.setState(0x3c31, 0xf5a6, 0xe0, 0x42a4, 0xbed9, 0x56f1, 0x0, 0x1);
        gbc.writeMem(0x3c31, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf5a6);
        EXPECT(gbc.pc(), 0x3c32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0151
        gbc.setState(0xd149, 0xb260, 0x2520, 0xd3b4, 0xbc83, 0x73c0, 0x1, 0x1);
        gbc.writeMem(0xd149, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb260);
        EXPECT(gbc.pc(), 0xd14a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd149), 0xac);
        // AC 0152
        gbc.setState(0x8048, 0xaa49, 0x7980, 0xb6e, 0x8b, 0xb9e7, 0x0, 0x0);
        gbc.writeMem(0x8048, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xaa49);
        EXPECT(gbc.pc(), 0x8049);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8048), 0xac);
        // AC 0153
        gbc.setState(0x843c, 0x7fb0, 0x8070, 0xf256, 0xae87, 0xda2f, 0x1, 0x0);
        gbc.writeMem(0x843c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7fb0);
        EXPECT(gbc.pc(), 0x843d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x843c), 0xac);
        // AC 0155
        gbc.setState(0x7dfa, 0x1a51, 0xeed0, 0x3553, 0xe822, 0xce06, 0x0, 0x1);
        gbc.writeMem(0x7dfa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1a51);
        EXPECT(gbc.pc(), 0x7dfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0156
        gbc.setState(0x35b4, 0x51c, 0xc4d0, 0x5055, 0x2702, 0xd6d1, 0x1, 0x0);
        gbc.writeMem(0x35b4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x51c);
        EXPECT(gbc.pc(), 0x35b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0157
        gbc.setState(0x1e1c, 0xe8ba, 0x1590, 0x5cd5, 0xf2dc, 0xbb00, 0x1, 0x0);
        gbc.writeMem(0x1e1c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe8ba);
        EXPECT(gbc.pc(), 0x1e1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0158
        gbc.setState(0x546, 0xba67, 0x1890, 0xcad9, 0xb413, 0x284a, 0x0, 0x0);
        gbc.writeMem(0x546, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xba67);
        EXPECT(gbc.pc(), 0x547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 015A
        gbc.setState(0x1f68, 0x6489, 0xf20, 0x474a, 0x862d, 0xc2fd, 0x1, 0x1);
        gbc.writeMem(0x1f68, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6489);
        EXPECT(gbc.pc(), 0x1f69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 015B
        gbc.setState(0x4a73, 0x79b7, 0xb780, 0x5ced, 0xc93b, 0x632a, 0x1, 0x1);
        gbc.writeMem(0x4a73, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x79b7);
        EXPECT(gbc.pc(), 0x4a74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 015C
        gbc.setState(0xe19c, 0x45ba, 0xb060, 0x7591, 0x161a, 0x4023, 0x0, 0x0);
        gbc.writeMem(0xe19c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x45ba);
        EXPECT(gbc.pc(), 0xe19d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe19c), 0xac);
        // AC 015D
        gbc.setState(0x738e, 0x5df1, 0x7af0, 0x786f, 0x1077, 0xf42a, 0x1, 0x1);
        gbc.writeMem(0x738e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5df1);
        EXPECT(gbc.pc(), 0x738f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 015E
        gbc.setState(0x7da7, 0x98e1, 0x9310, 0xf7e5, 0x4ea3, 0xcbde, 0x1, 0x0);
        gbc.writeMem(0x7da7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x98e1);
        EXPECT(gbc.pc(), 0x7da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 015F
        gbc.setState(0x5af4, 0x8c13, 0x2740, 0xf472, 0x10a1, 0x75dd, 0x0, 0x1);
        gbc.writeMem(0x5af4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8c13);
        EXPECT(gbc.pc(), 0x5af5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0160
        gbc.setState(0x9bb9, 0xa5bc, 0xf000, 0x67d9, 0xeadb, 0x3179, 0x1, 0x0);
        gbc.writeMem(0x9bb9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa5bc);
        EXPECT(gbc.pc(), 0x9bba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb9), 0xac);
        // AC 0161
        gbc.setState(0x3c97, 0x4ac, 0x2f40, 0xb78e, 0x9a67, 0x22af, 0x1, 0x0);
        gbc.writeMem(0x3c97, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4ac);
        EXPECT(gbc.pc(), 0x3c98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0162
        gbc.setState(0xd607, 0xa2e9, 0x75e0, 0x2478, 0x49f0, 0x455f, 0x0, 0x1);
        gbc.writeMem(0xd607, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa2e9);
        EXPECT(gbc.pc(), 0xd608);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd607), 0xac);
        // AC 0163
        gbc.setState(0x8f3, 0x4f84, 0x2db0, 0x72d5, 0x5090, 0x236c, 0x0, 0x1);
        gbc.writeMem(0x8f3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4f84);
        EXPECT(gbc.pc(), 0x8f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0164
        gbc.setState(0x59ed, 0x2080, 0x5680, 0x585f, 0x79bd, 0x8b86, 0x0, 0x0);
        gbc.writeMem(0x59ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2080);
        EXPECT(gbc.pc(), 0x59ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0165
        gbc.setState(0x1d3b, 0xc5e, 0xa7d0, 0x33a4, 0x6c75, 0x14de, 0x1, 0x0);
        gbc.writeMem(0x1d3b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc5e);
        EXPECT(gbc.pc(), 0x1d3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0166
        gbc.setState(0x79c4, 0x4707, 0x22c0, 0x44c8, 0x90e7, 0x647b, 0x1, 0x0);
        gbc.writeMem(0x79c4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4707);
        EXPECT(gbc.pc(), 0x79c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0167
        gbc.setState(0x155, 0x8743, 0xd6a0, 0x1968, 0x4388, 0xeddd, 0x1, 0x0);
        gbc.writeMem(0x155, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8743);
        EXPECT(gbc.pc(), 0x156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0168
        gbc.setState(0x746c, 0x791c, 0x47d0, 0xee81, 0xa7a4, 0xe3f4, 0x1, 0x1);
        gbc.writeMem(0x746c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x791c);
        EXPECT(gbc.pc(), 0x746d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0169
        gbc.setState(0x1b75, 0x2b52, 0x24e0, 0xb7d3, 0x5f90, 0x35bb, 0x1, 0x0);
        gbc.writeMem(0x1b75, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2b52);
        EXPECT(gbc.pc(), 0x1b76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 016A
        gbc.setState(0x9756, 0x46b5, 0xa960, 0x9fb8, 0x1607, 0x2a2a, 0x1, 0x1);
        gbc.writeMem(0x9756, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x46b5);
        EXPECT(gbc.pc(), 0x9757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9756), 0xac);
        // AC 016B
        gbc.setState(0x3319, 0xda54, 0x5b70, 0x92e0, 0xb182, 0x632a, 0x0, 0x0);
        gbc.writeMem(0x3319, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xda54);
        EXPECT(gbc.pc(), 0x331a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 016C
        gbc.setState(0x7fbe, 0x2a73, 0x5fa0, 0x5bd6, 0x4d85, 0xf3c2, 0x1, 0x1);
        gbc.writeMem(0x7fbe, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2a73);
        EXPECT(gbc.pc(), 0x7fbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 016D
        gbc.setState(0xe483, 0x6d73, 0xac30, 0xc5b8, 0x5ad8, 0x3cba, 0x0, 0x0);
        gbc.writeMem(0xe483, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6d73);
        EXPECT(gbc.pc(), 0xe484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe483), 0xac);
        // AC 016E
        gbc.setState(0xb289, 0xe4c3, 0x34c0, 0xfc84, 0x65ad, 0xc944, 0x0, 0x1);
        gbc.writeMem(0xb289, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe4c3);
        EXPECT(gbc.pc(), 0xb28a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb289), 0xac);
        // AC 016F
        gbc.setState(0xa558, 0x59c8, 0x6a40, 0xa606, 0x962e, 0xed71, 0x0, 0x1);
        gbc.writeMem(0xa558, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x59c8);
        EXPECT(gbc.pc(), 0xa559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa558), 0xac);
        // AC 0170
        gbc.setState(0xd332, 0x9809, 0x64b0, 0x634f, 0x4eeb, 0xc976, 0x0, 0x0);
        gbc.writeMem(0xd332, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9809);
        EXPECT(gbc.pc(), 0xd333);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd332), 0xac);
        // AC 0171
        gbc.setState(0xa6d7, 0xd645, 0x9ba0, 0x5120, 0xd16d, 0x8faa, 0x1, 0x1);
        gbc.writeMem(0xa6d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd645);
        EXPECT(gbc.pc(), 0xa6d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6d7), 0xac);
        // AC 0172
        gbc.setState(0xc5d1, 0xc27, 0x8c00, 0x1240, 0x3c52, 0x2961, 0x0, 0x1);
        gbc.writeMem(0xc5d1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xc27);
        EXPECT(gbc.pc(), 0xc5d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5d1), 0xac);
        // AC 0173
        gbc.setState(0x2b35, 0x52b1, 0xb930, 0x64b5, 0x811e, 0x8abb, 0x0, 0x1);
        gbc.writeMem(0x2b35, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x52b1);
        EXPECT(gbc.pc(), 0x2b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0174
        gbc.setState(0xa61b, 0x3a60, 0x9010, 0x5401, 0x29d1, 0x3ece, 0x0, 0x0);
        gbc.writeMem(0xa61b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3a60);
        EXPECT(gbc.pc(), 0xa61c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa61b), 0xac);
        // AC 0175
        gbc.setState(0xde05, 0xa15c, 0xfb40, 0x1bb9, 0xcca0, 0xaae, 0x1, 0x0);
        gbc.writeMem(0xde05, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa15c);
        EXPECT(gbc.pc(), 0xde06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde05), 0xac);
        // AC 0176
        gbc.setState(0x736a, 0x468, 0xda30, 0x3baa, 0x4509, 0x7032, 0x0, 0x0);
        gbc.writeMem(0x736a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x468);
        EXPECT(gbc.pc(), 0x736b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0177
        gbc.setState(0x12a6, 0xdf04, 0x1000, 0x29ab, 0x1197, 0x31aa, 0x1, 0x0);
        gbc.writeMem(0x12a6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdf04);
        EXPECT(gbc.pc(), 0x12a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0178
        gbc.setState(0xa287, 0xe5c3, 0x2e00, 0x1b37, 0x11fd, 0x824b, 0x0, 0x0);
        gbc.writeMem(0xa287, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe5c3);
        EXPECT(gbc.pc(), 0xa288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa287), 0xac);
        // AC 0179
        gbc.setState(0xceb3, 0x306, 0x3e40, 0xb30f, 0x2353, 0x4980, 0x0, 0x0);
        gbc.writeMem(0xceb3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x306);
        EXPECT(gbc.pc(), 0xceb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceb3), 0xac);
        // AC 017A
        gbc.setState(0x270c, 0x8809, 0x8600, 0xf865, 0x5a2f, 0x9ad1, 0x1, 0x1);
        gbc.writeMem(0x270c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8809);
        EXPECT(gbc.pc(), 0x270d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 017B
        gbc.setState(0x8f9d, 0xd263, 0xe190, 0x70c3, 0xb27d, 0x2a80, 0x1, 0x0);
        gbc.writeMem(0x8f9d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xd263);
        EXPECT(gbc.pc(), 0x8f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f9d), 0xac);
        // AC 017C
        gbc.setState(0xa36a, 0x2931, 0x5660, 0xf433, 0x38a5, 0x3e60, 0x1, 0x0);
        gbc.writeMem(0xa36a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2931);
        EXPECT(gbc.pc(), 0xa36b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa36a), 0xac);
        // AC 017D
        gbc.setState(0xa37d, 0x8214, 0x5e80, 0x5e7c, 0x7458, 0x1e4c, 0x1, 0x1);
        gbc.writeMem(0xa37d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x8214);
        EXPECT(gbc.pc(), 0xa37e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa37d), 0xac);
        // AC 017F
        gbc.setState(0xe25a, 0x9b22, 0x47f0, 0x4da1, 0x8d1, 0xad3, 0x1, 0x0);
        gbc.writeMem(0xe25a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9b22);
        EXPECT(gbc.pc(), 0xe25b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe25a), 0xac);
        // AC 0180
        gbc.setState(0x11a0, 0x8e45, 0x96d0, 0xcf1a, 0xb2a9, 0x9147, 0x0, 0x0);
        gbc.writeMem(0x11a0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8e45);
        EXPECT(gbc.pc(), 0x11a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0182
        gbc.setState(0xa183, 0x9aaa, 0x9070, 0xe23e, 0xa4e7, 0x4747, 0x0, 0x1);
        gbc.writeMem(0xa183, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9aaa);
        EXPECT(gbc.pc(), 0xa184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa183), 0xac);
        // AC 0183
        gbc.setState(0xb317, 0x282f, 0x4b50, 0xb44, 0xe16f, 0xd415, 0x1, 0x1);
        gbc.writeMem(0xb317, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x282f);
        EXPECT(gbc.pc(), 0xb318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb317), 0xac);
        // AC 0184
        gbc.setState(0x75a, 0xbec0, 0x4550, 0x1ac5, 0x64ee, 0x78ba, 0x1, 0x1);
        gbc.writeMem(0x75a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xbec0);
        EXPECT(gbc.pc(), 0x75b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0185
        gbc.setState(0x5e8, 0x4a05, 0x2860, 0x4f07, 0x33bf, 0x5b1, 0x0, 0x0);
        gbc.writeMem(0x5e8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4a05);
        EXPECT(gbc.pc(), 0x5e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0186
        gbc.setState(0x6377, 0x131e, 0x29d0, 0xf6db, 0xd2ff, 0xddde, 0x0, 0x0);
        gbc.writeMem(0x6377, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x131e);
        EXPECT(gbc.pc(), 0x6378);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0187
        gbc.setState(0xd9d6, 0xc07a, 0xcf40, 0xa6d, 0x54a1, 0x9295, 0x0, 0x0);
        gbc.writeMem(0xd9d6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc07a);
        EXPECT(gbc.pc(), 0xd9d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9d6), 0xac);
        // AC 0188
        gbc.setState(0xc448, 0xaecc, 0x93e0, 0xd607, 0x71b3, 0x459b, 0x0, 0x1);
        gbc.writeMem(0xc448, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xaecc);
        EXPECT(gbc.pc(), 0xc449);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc448), 0xac);
        // AC 0189
        gbc.setState(0x186b, 0x5fe0, 0xb8e0, 0xbee5, 0x4412, 0xfc54, 0x0, 0x0);
        gbc.writeMem(0x186b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5fe0);
        EXPECT(gbc.pc(), 0x186c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 018A
        gbc.setState(0x9efa, 0xdb3b, 0xba00, 0xcdba, 0x8664, 0x1ca0, 0x0, 0x1);
        gbc.writeMem(0x9efa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xdb3b);
        EXPECT(gbc.pc(), 0x9efb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9efa), 0xac);
        // AC 018B
        gbc.setState(0x2514, 0x7b5a, 0xdaa0, 0x516a, 0x9461, 0x7ea5, 0x1, 0x1);
        gbc.writeMem(0x2514, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7b5a);
        EXPECT(gbc.pc(), 0x2515);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 018C
        gbc.setState(0x6db5, 0x4734, 0x82b0, 0x102b, 0xda1d, 0xb5e8, 0x0, 0x0);
        gbc.writeMem(0x6db5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x4734);
        EXPECT(gbc.pc(), 0x6db6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 018D
        gbc.setState(0x75bf, 0xc60d, 0x150, 0x87bd, 0x5c2, 0x196e, 0x1, 0x1);
        gbc.writeMem(0x75bf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xc60d);
        EXPECT(gbc.pc(), 0x75c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 018E
        gbc.setState(0xd33c, 0x24ad, 0xf990, 0x7a77, 0x4640, 0xddc5, 0x1, 0x1);
        gbc.writeMem(0xd33c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x24ad);
        EXPECT(gbc.pc(), 0xd33d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd33c), 0xac);
        // AC 0190
        gbc.setState(0xd674, 0x3193, 0x74d0, 0x5f1b, 0x1a36, 0x47de, 0x0, 0x0);
        gbc.writeMem(0xd674, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3193);
        EXPECT(gbc.pc(), 0xd675);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd674), 0xac);
        // AC 0191
        gbc.setState(0xd5bf, 0x7542, 0xf180, 0x9dea, 0x23ef, 0xb08f, 0x1, 0x1);
        gbc.writeMem(0xd5bf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7542);
        EXPECT(gbc.pc(), 0xd5c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5bf), 0xac);
        // AC 0192
        gbc.setState(0x49d, 0x2bbb, 0xf110, 0xa366, 0x40de, 0x8522, 0x1, 0x0);
        gbc.writeMem(0x49d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2bbb);
        EXPECT(gbc.pc(), 0x49e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0193
        gbc.setState(0x3587, 0x6ebc, 0x8c70, 0xab2a, 0x7392, 0x69b2, 0x0, 0x1);
        gbc.writeMem(0x3587, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6ebc);
        EXPECT(gbc.pc(), 0x3588);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0194
        gbc.setState(0xa6d7, 0x5b09, 0xa830, 0xf2f5, 0x6d75, 0x8464, 0x1, 0x1);
        gbc.writeMem(0xa6d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5b09);
        EXPECT(gbc.pc(), 0xa6d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6d7), 0xac);
        // AC 0196
        gbc.setState(0xb1ca, 0x442c, 0xb5d0, 0x131b, 0x6013, 0xf59, 0x0, 0x1);
        gbc.writeMem(0xb1ca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x442c);
        EXPECT(gbc.pc(), 0xb1cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ca), 0xac);
        // AC 0197
        gbc.setState(0xa030, 0xb7db, 0x52c0, 0x8d1f, 0x5f48, 0xa643, 0x0, 0x0);
        gbc.writeMem(0xa030, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb7db);
        EXPECT(gbc.pc(), 0xa031);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa030), 0xac);
        // AC 0198
        gbc.setState(0x4299, 0x74a1, 0x8650, 0xd248, 0xdfc, 0x2165, 0x1, 0x1);
        gbc.writeMem(0x4299, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x74a1);
        EXPECT(gbc.pc(), 0x429a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0199
        gbc.setState(0xb6c8, 0xb8be, 0x8130, 0x38bd, 0xffa4, 0xed25, 0x0, 0x1);
        gbc.writeMem(0xb6c8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb8be);
        EXPECT(gbc.pc(), 0xb6c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6c8), 0xac);
        // AC 019A
        gbc.setState(0x3588, 0xcf83, 0x1830, 0xb217, 0x6b6d, 0x486d, 0x0, 0x0);
        gbc.writeMem(0x3588, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xcf83);
        EXPECT(gbc.pc(), 0x3589);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 019B
        gbc.setState(0xdb8, 0x5a2e, 0x9890, 0xcfba, 0x6c9d, 0x4ecc, 0x1, 0x0);
        gbc.writeMem(0xdb8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5a2e);
        EXPECT(gbc.pc(), 0xdb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 019C
        gbc.setState(0x6e8c, 0x84c4, 0x4980, 0x6f34, 0x2d1d, 0xe997, 0x0, 0x1);
        gbc.writeMem(0x6e8c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x84c4);
        EXPECT(gbc.pc(), 0x6e8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 019D
        gbc.setState(0x90bf, 0x86ad, 0x9070, 0xa7e4, 0x28c2, 0xd81f, 0x1, 0x1);
        gbc.writeMem(0x90bf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x86ad);
        EXPECT(gbc.pc(), 0x90c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90bf), 0xac);
        // AC 019E
        gbc.setState(0x34ee, 0x350f, 0xb870, 0x1e9b, 0x219d, 0x8f2f, 0x0, 0x0);
        gbc.writeMem(0x34ee, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x350f);
        EXPECT(gbc.pc(), 0x34ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 019F
        gbc.setState(0x1d56, 0xfcc, 0xcb50, 0x90d9, 0xdb15, 0xf74f, 0x1, 0x0);
        gbc.writeMem(0x1d56, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xfcc);
        EXPECT(gbc.pc(), 0x1d57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A0
        gbc.setState(0x4c72, 0x7da5, 0x9cf0, 0xf979, 0x6f8d, 0x2365, 0x1, 0x0);
        gbc.writeMem(0x4c72, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7da5);
        EXPECT(gbc.pc(), 0x4c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A1
        gbc.setState(0x68c7, 0xb82f, 0x7830, 0xfc0a, 0x31b8, 0x4025, 0x0, 0x1);
        gbc.writeMem(0x68c7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb82f);
        EXPECT(gbc.pc(), 0x68c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A2
        gbc.setState(0x48ec, 0xa086, 0x6530, 0x8213, 0x8c38, 0x1d45, 0x1, 0x1);
        gbc.writeMem(0x48ec, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa086);
        EXPECT(gbc.pc(), 0x48ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A3
        gbc.setState(0xb4d3, 0x1a32, 0xde50, 0x861b, 0xfcc3, 0x1302, 0x0, 0x0);
        gbc.writeMem(0xb4d3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1a32);
        EXPECT(gbc.pc(), 0xb4d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d3), 0xac);
        // AC 01A4
        gbc.setState(0x2902, 0x49b8, 0x8310, 0x291a, 0x51f2, 0x4948, 0x1, 0x1);
        gbc.writeMem(0x2902, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x49b8);
        EXPECT(gbc.pc(), 0x2903);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A5
        gbc.setState(0x160d, 0x6fc, 0xaa90, 0x1281, 0xe71c, 0xf3d4, 0x1, 0x0);
        gbc.writeMem(0x160d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6fc);
        EXPECT(gbc.pc(), 0x160e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A6
        gbc.setState(0xe095, 0x4bb4, 0x70a0, 0xeda4, 0xb85, 0xc8b9, 0x1, 0x0);
        gbc.writeMem(0xe095, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4bb4);
        EXPECT(gbc.pc(), 0xe096);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe095), 0xac);
        // AC 01A7
        gbc.setState(0x3670, 0xbd51, 0xd290, 0xf3ab, 0xe93, 0x8dff, 0x0, 0x1);
        gbc.writeMem(0x3670, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xbd51);
        EXPECT(gbc.pc(), 0x3671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A8
        gbc.setState(0x28a1, 0xf0e1, 0x3e70, 0x6e68, 0xfdaa, 0x9319, 0x0, 0x1);
        gbc.writeMem(0x28a1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf0e1);
        EXPECT(gbc.pc(), 0x28a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01A9
        gbc.setState(0xb30c, 0x39e6, 0xc440, 0xee9, 0x49e2, 0x6300, 0x1, 0x1);
        gbc.writeMem(0xb30c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x39e6);
        EXPECT(gbc.pc(), 0xb30d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb30c), 0xac);
        // AC 01AA
        gbc.setState(0xcb90, 0xe373, 0xcb30, 0x1022, 0xc9a0, 0x99e, 0x1, 0x1);
        gbc.writeMem(0xcb90, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe373);
        EXPECT(gbc.pc(), 0xcb91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb90), 0xac);
        // AC 01AB
        gbc.setState(0x9416, 0x1ed8, 0x1310, 0xfc3a, 0xaa3f, 0xc166, 0x1, 0x0);
        gbc.writeMem(0x9416, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x1ed8);
        EXPECT(gbc.pc(), 0x9417);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9416), 0xac);
        // AC 01AC
        gbc.setState(0x8654, 0x7c10, 0x5280, 0xe90f, 0x7de2, 0x74e6, 0x0, 0x0);
        gbc.writeMem(0x8654, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x7c10);
        EXPECT(gbc.pc(), 0x8655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8654), 0xac);
        // AC 01AE
        gbc.setState(0x6ec9, 0xcbb0, 0xa920, 0x51d, 0x4088, 0x69ba, 0x1, 0x1);
        gbc.writeMem(0x6ec9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcbb0);
        EXPECT(gbc.pc(), 0x6eca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01AF
        gbc.setState(0x29e6, 0x11c9, 0x9450, 0x2810, 0xa161, 0xa726, 0x1, 0x1);
        gbc.writeMem(0x29e6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x11c9);
        EXPECT(gbc.pc(), 0x29e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B0
        gbc.setState(0xe787, 0x349e, 0x7010, 0x7a66, 0xf68a, 0xd472, 0x0, 0x0);
        gbc.writeMem(0xe787, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x349e);
        EXPECT(gbc.pc(), 0xe788);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe787), 0xac);
        // AC 01B1
        gbc.setState(0x13b2, 0x84b6, 0x3f10, 0x6f99, 0xe280, 0xf6c0, 0x1, 0x1);
        gbc.writeMem(0x13b2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x84b6);
        EXPECT(gbc.pc(), 0x13b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B2
        gbc.setState(0x9823, 0xcdbe, 0x6a20, 0x487d, 0xd758, 0x2cbe, 0x0, 0x0);
        gbc.writeMem(0x9823, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcdbe);
        EXPECT(gbc.pc(), 0x9824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9823), 0xac);
        // AC 01B3
        gbc.setState(0x3123, 0xd324, 0xadc0, 0x70fc, 0x54c9, 0x1f92, 0x0, 0x1);
        gbc.writeMem(0x3123, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd324);
        EXPECT(gbc.pc(), 0x3124);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B4
        gbc.setState(0x72e1, 0xcc12, 0x8150, 0x89a6, 0x9bd2, 0x5aa0, 0x1, 0x0);
        gbc.writeMem(0x72e1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcc12);
        EXPECT(gbc.pc(), 0x72e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B5
        gbc.setState(0x76f4, 0x5958, 0xc960, 0x2eca, 0xb23f, 0xf1cf, 0x0, 0x1);
        gbc.writeMem(0x76f4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x5958);
        EXPECT(gbc.pc(), 0x76f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B6
        gbc.setState(0x6448, 0xefe5, 0xe320, 0xc235, 0x8452, 0xd088, 0x0, 0x1);
        gbc.writeMem(0x6448, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xefe5);
        EXPECT(gbc.pc(), 0x6449);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B7
        gbc.setState(0x199f, 0xf82d, 0xb0e0, 0x907e, 0xc49d, 0xa008, 0x1, 0x0);
        gbc.writeMem(0x199f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf82d);
        EXPECT(gbc.pc(), 0x19a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01B8
        gbc.setState(0xb60d, 0xecd9, 0x940, 0xb7cc, 0x8db7, 0x7076, 0x1, 0x0);
        gbc.writeMem(0xb60d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xecd9);
        EXPECT(gbc.pc(), 0xb60e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb60d), 0xac);
        // AC 01B9
        gbc.setState(0xab2c, 0x5171, 0xeba0, 0xae99, 0x30a6, 0x1643, 0x1, 0x1);
        gbc.writeMem(0xab2c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x5171);
        EXPECT(gbc.pc(), 0xab2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab2c), 0xac);
        // AC 01BA
        gbc.setState(0x15ab, 0xa424, 0x6da0, 0xcba3, 0xa102, 0x7b1c, 0x1, 0x1);
        gbc.writeMem(0x15ab, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa424);
        EXPECT(gbc.pc(), 0x15ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01BB
        gbc.setState(0x780a, 0x55da, 0x3160, 0x84c4, 0xfa1e, 0x36a4, 0x0, 0x1);
        gbc.writeMem(0x780a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x55da);
        EXPECT(gbc.pc(), 0x780b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01BC
        gbc.setState(0x97e5, 0x4170, 0x4450, 0xad5b, 0x286d, 0xa812, 0x0, 0x0);
        gbc.writeMem(0x97e5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4170);
        EXPECT(gbc.pc(), 0x97e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97e5), 0xac);
        // AC 01BD
        gbc.setState(0x2b8e, 0xc3e6, 0xe380, 0x13d, 0x24b, 0x7fa, 0x1, 0x1);
        gbc.writeMem(0x2b8e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc3e6);
        EXPECT(gbc.pc(), 0x2b8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01BE
        gbc.setState(0x302c, 0x1437, 0xb280, 0x3dab, 0xc42e, 0xac79, 0x0, 0x0);
        gbc.writeMem(0x302c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x1437);
        EXPECT(gbc.pc(), 0x302d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01BF
        gbc.setState(0xc1f9, 0xb88e, 0x96b0, 0x41f5, 0x61eb, 0x33d3, 0x1, 0x0);
        gbc.writeMem(0xc1f9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xb88e);
        EXPECT(gbc.pc(), 0xc1fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1f9), 0xac);
        // AC 01C1
        gbc.setState(0x8a61, 0xf4d3, 0xcb60, 0x6e3, 0x31b1, 0x53e2, 0x1, 0x0);
        gbc.writeMem(0x8a61, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xf4d3);
        EXPECT(gbc.pc(), 0x8a62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a61), 0xac);
        // AC 01C2
        gbc.setState(0x3d99, 0x8041, 0xa6d0, 0xe2bd, 0x1b68, 0xe134, 0x1, 0x0);
        gbc.writeMem(0x3d99, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x8041);
        EXPECT(gbc.pc(), 0x3d9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01C3
        gbc.setState(0xa3e8, 0x7b3, 0x88d0, 0xacc2, 0x8521, 0xcad6, 0x1, 0x0);
        gbc.writeMem(0xa3e8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7b3);
        EXPECT(gbc.pc(), 0xa3e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3e8), 0xac);
        // AC 01C4
        gbc.setState(0xbbca, 0x25cf, 0xe480, 0x76a0, 0x2b5a, 0xfa3, 0x0, 0x0);
        gbc.writeMem(0xbbca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x25cf);
        EXPECT(gbc.pc(), 0xbbcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbca), 0xac);
        // AC 01C5
        gbc.setState(0x550c, 0x881e, 0x4eb0, 0xc18, 0x229b, 0x8056, 0x0, 0x1);
        gbc.writeMem(0x550c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x881e);
        EXPECT(gbc.pc(), 0x550d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01C6
        gbc.setState(0x19a5, 0x2b66, 0x9d90, 0x8efd, 0x3f25, 0x2ab8, 0x0, 0x0);
        gbc.writeMem(0x19a5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x2b66);
        EXPECT(gbc.pc(), 0x19a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01C7
        gbc.setState(0x8038, 0xbaf7, 0xb6e0, 0x4b05, 0x659b, 0x8d32, 0x0, 0x1);
        gbc.writeMem(0x8038, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbaf7);
        EXPECT(gbc.pc(), 0x8039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8038), 0xac);
        // AC 01C8
        gbc.setState(0xb543, 0xa13c, 0x2560, 0x18a0, 0x3d7e, 0x77e7, 0x1, 0x0);
        gbc.writeMem(0xb543, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa13c);
        EXPECT(gbc.pc(), 0xb544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb543), 0xac);
        // AC 01C9
        gbc.setState(0xcb13, 0x1c35, 0x3350, 0xc26c, 0x3435, 0xca1a, 0x1, 0x1);
        gbc.writeMem(0xcb13, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1c35);
        EXPECT(gbc.pc(), 0xcb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb13), 0xac);
        // AC 01CA
        gbc.setState(0x8675, 0x7e4e, 0x3da0, 0x6ddf, 0xa9cc, 0x26ef, 0x0, 0x0);
        gbc.writeMem(0x8675, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x7e4e);
        EXPECT(gbc.pc(), 0x8676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8675), 0xac);
        // AC 01CB
        gbc.setState(0x9060, 0x9ee, 0xab30, 0x5709, 0x8ecb, 0x26dd, 0x0, 0x0);
        gbc.writeMem(0x9060, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9ee);
        EXPECT(gbc.pc(), 0x9061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9060), 0xac);
        // AC 01CC
        gbc.setState(0x83cb, 0xbc15, 0x10, 0xfdfa, 0x35ec, 0x68a, 0x0, 0x1);
        gbc.writeMem(0x83cb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xbc15);
        EXPECT(gbc.pc(), 0x83cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83cb), 0xac);
        // AC 01CD
        gbc.setState(0xede5, 0x8123, 0xc800, 0x8437, 0xfb83, 0x9c23, 0x0, 0x1);
        gbc.writeMem(0xede5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8123);
        EXPECT(gbc.pc(), 0xede6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xede5), 0xac);
        // AC 01CF
        gbc.setState(0x75d, 0xd059, 0x9190, 0x9144, 0x8d8a, 0xc0ec, 0x0, 0x1);
        gbc.writeMem(0x75d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd059);
        EXPECT(gbc.pc(), 0x75e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01D0
        gbc.setState(0xd48f, 0xaaf4, 0x2700, 0xd33, 0x2cfd, 0xeb00, 0x0, 0x1);
        gbc.writeMem(0xd48f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xaaf4);
        EXPECT(gbc.pc(), 0xd490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd48f), 0xac);
        // AC 01D1
        gbc.setState(0x866a, 0x8a96, 0xeca0, 0xc0ec, 0x5adc, 0x4086, 0x1, 0x0);
        gbc.writeMem(0x866a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x8a96);
        EXPECT(gbc.pc(), 0x866b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x866a), 0xac);
        // AC 01D2
        gbc.setState(0x3875, 0xe8d9, 0x9ff0, 0x9b32, 0x4fd5, 0x1ff0, 0x1, 0x1);
        gbc.writeMem(0x3875, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe8d9);
        EXPECT(gbc.pc(), 0x3876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01D3
        gbc.setState(0x1d00, 0x3bdd, 0xeed0, 0xe71d, 0x5292, 0x38f9, 0x1, 0x0);
        gbc.writeMem(0x1d00, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3bdd);
        EXPECT(gbc.pc(), 0x1d01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01D4
        gbc.setState(0x8bd0, 0x19a7, 0xc150, 0xb100, 0x48e8, 0x65e5, 0x0, 0x1);
        gbc.writeMem(0x8bd0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x19a7);
        EXPECT(gbc.pc(), 0x8bd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bd0), 0xac);
        // AC 01D5
        gbc.setState(0xbcb9, 0x7f99, 0x95d0, 0x11e2, 0xbfb, 0x3d42, 0x0, 0x0);
        gbc.writeMem(0xbcb9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x7f99);
        EXPECT(gbc.pc(), 0xbcba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcb9), 0xac);
        // AC 01D6
        gbc.setState(0x6d88, 0xf535, 0xd330, 0x2fd1, 0xfd6d, 0x43bf, 0x0, 0x0);
        gbc.writeMem(0x6d88, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf535);
        EXPECT(gbc.pc(), 0x6d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01D7
        gbc.setState(0xdc1b, 0xbb4e, 0x5b0, 0x8ef6, 0x5b6, 0xca49, 0x0, 0x0);
        gbc.writeMem(0xdc1b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbb4e);
        EXPECT(gbc.pc(), 0xdc1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc1b), 0xac);
        // AC 01D8
        gbc.setState(0x654d, 0x342d, 0x7490, 0xb485, 0xe3f2, 0xecb6, 0x0, 0x0);
        gbc.writeMem(0x654d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x342d);
        EXPECT(gbc.pc(), 0x654e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01D9
        gbc.setState(0x57fa, 0x2c1e, 0xe7f0, 0x25f3, 0x1217, 0x12ec, 0x1, 0x1);
        gbc.writeMem(0x57fa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x2c1e);
        EXPECT(gbc.pc(), 0x57fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01DA
        gbc.setState(0x6028, 0xad7a, 0x35b0, 0xc9d2, 0x3dad, 0x9aa6, 0x0, 0x1);
        gbc.writeMem(0x6028, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xad7a);
        EXPECT(gbc.pc(), 0x6029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01DB
        gbc.setState(0x6d36, 0x83eb, 0x7540, 0x23ae, 0x7050, 0x2dc8, 0x1, 0x0);
        gbc.writeMem(0x6d36, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x83eb);
        EXPECT(gbc.pc(), 0x6d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01DC
        gbc.setState(0x5fb2, 0x88e7, 0x51c0, 0x203d, 0x2b8c, 0xca5c, 0x0, 0x0);
        gbc.writeMem(0x5fb2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x88e7);
        EXPECT(gbc.pc(), 0x5fb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01DD
        gbc.setState(0x33cb, 0x626, 0x13d0, 0xb348, 0xd294, 0xd68f, 0x1, 0x1);
        gbc.writeMem(0x33cb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x626);
        EXPECT(gbc.pc(), 0x33cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01DE
        gbc.setState(0x5faa, 0x43c1, 0x28a0, 0xa5a0, 0x1260, 0x6a6, 0x1, 0x0);
        gbc.writeMem(0x5faa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x43c1);
        EXPECT(gbc.pc(), 0x5fab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01DF
        gbc.setState(0x4171, 0xcedf, 0x48f0, 0x8895, 0xb434, 0x4394, 0x1, 0x0);
        gbc.writeMem(0x4171, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xcedf);
        EXPECT(gbc.pc(), 0x4172);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01E0
        gbc.setState(0x2514, 0xe4b5, 0xef0, 0x6bca, 0x901, 0xb840, 0x0, 0x1);
        gbc.writeMem(0x2514, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe4b5);
        EXPECT(gbc.pc(), 0x2515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01E1
        gbc.setState(0xe4b9, 0x611e, 0xa50, 0x3fbe, 0xa532, 0x283d, 0x0, 0x1);
        gbc.writeMem(0xe4b9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x611e);
        EXPECT(gbc.pc(), 0xe4ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4b9), 0xac);
        // AC 01E2
        gbc.setState(0x7015, 0xbc15, 0xf9c0, 0xa072, 0xbb30, 0x479d, 0x1, 0x0);
        gbc.writeMem(0x7015, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xbc15);
        EXPECT(gbc.pc(), 0x7016);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01E3
        gbc.setState(0x4196, 0xbc57, 0x3a90, 0xbe0a, 0xe05a, 0x934b, 0x1, 0x0);
        gbc.writeMem(0x4196, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbc57);
        EXPECT(gbc.pc(), 0x4197);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01E4
        gbc.setState(0xe6b0, 0xc6d9, 0x9d10, 0x557f, 0x816e, 0xc45a, 0x0, 0x1);
        gbc.writeMem(0xe6b0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc6d9);
        EXPECT(gbc.pc(), 0xe6b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b0), 0xac);
        // AC 01E5
        gbc.setState(0x7a0b, 0x3a4c, 0x3af0, 0xae7, 0xfdb3, 0x4d95, 0x0, 0x1);
        gbc.writeMem(0x7a0b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x3a4c);
        EXPECT(gbc.pc(), 0x7a0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01E6
        gbc.setState(0x2c7a, 0xd7a4, 0x6dc0, 0x64, 0xf979, 0x3ff7, 0x1, 0x0);
        gbc.writeMem(0x2c7a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xd7a4);
        EXPECT(gbc.pc(), 0x2c7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01E7
        gbc.setState(0xdacb, 0x3446, 0xefb0, 0x2353, 0xd1c9, 0xf64b, 0x0, 0x1);
        gbc.writeMem(0xdacb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3446);
        EXPECT(gbc.pc(), 0xdacc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdacb), 0xac);
        // AC 01E8
        gbc.setState(0x81a7, 0xd65, 0x5b0, 0x3a32, 0xe772, 0xfed8, 0x0, 0x0);
        gbc.writeMem(0x81a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd65);
        EXPECT(gbc.pc(), 0x81a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81a7), 0xac);
        // AC 01EA
        gbc.setState(0x30d8, 0xb483, 0x9660, 0xaf91, 0xfe40, 0xccbd, 0x0, 0x1);
        gbc.writeMem(0x30d8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb483);
        EXPECT(gbc.pc(), 0x30d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01EB
        gbc.setState(0x402e, 0xe2b, 0x79e0, 0xe3bc, 0xc87a, 0xb18d, 0x1, 0x1);
        gbc.writeMem(0x402e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe2b);
        EXPECT(gbc.pc(), 0x402f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01ED
        gbc.setState(0xd493, 0x2bd9, 0xfba0, 0xdde1, 0x1420, 0x8913, 0x1, 0x1);
        gbc.writeMem(0xd493, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2bd9);
        EXPECT(gbc.pc(), 0xd494);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd493), 0xac);
        // AC 01EE
        gbc.setState(0xde5a, 0xb28a, 0x19b0, 0x60e5, 0xa076, 0xf2e5, 0x0, 0x0);
        gbc.writeMem(0xde5a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb28a);
        EXPECT(gbc.pc(), 0xde5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde5a), 0xac);
        // AC 01EF
        gbc.setState(0xa11f, 0xdd49, 0x4680, 0xa30c, 0x1dc8, 0x3b30, 0x0, 0x0);
        gbc.writeMem(0xa11f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xdd49);
        EXPECT(gbc.pc(), 0xa120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa11f), 0xac);
        // AC 01F0
        gbc.setState(0x20ed, 0x94aa, 0xc4b0, 0xd435, 0x3b80, 0xbdfc, 0x0, 0x1);
        gbc.writeMem(0x20ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x94aa);
        EXPECT(gbc.pc(), 0x20ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01F1
        gbc.setState(0x8bc0, 0x9d79, 0x3750, 0x8204, 0xdb40, 0x7759, 0x0, 0x1);
        gbc.writeMem(0x8bc0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9d79);
        EXPECT(gbc.pc(), 0x8bc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bc0), 0xac);
        // AC 01F2
        gbc.setState(0xb0e4, 0x98e5, 0x27d0, 0x8c6, 0x1317, 0xb3ea, 0x1, 0x1);
        gbc.writeMem(0xb0e4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x98e5);
        EXPECT(gbc.pc(), 0xb0e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e4), 0xac);
        // AC 01F3
        gbc.setState(0xb696, 0x1592, 0x47a0, 0x451c, 0xa7b9, 0xc010, 0x1, 0x1);
        gbc.writeMem(0xb696, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1592);
        EXPECT(gbc.pc(), 0xb697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb696), 0xac);
        // AC 01F4
        gbc.setState(0xb710, 0xa5f1, 0xd450, 0x32da, 0xa736, 0xb9c1, 0x1, 0x1);
        gbc.writeMem(0xb710, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa5f1);
        EXPECT(gbc.pc(), 0xb711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb710), 0xac);
        // AC 01F5
        gbc.setState(0x8aa7, 0x3020, 0x4cc0, 0xfc85, 0x7d53, 0xead7, 0x1, 0x1);
        gbc.writeMem(0x8aa7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3020);
        EXPECT(gbc.pc(), 0x8aa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aa7), 0xac);
        // AC 01F6
        gbc.setState(0x3b4a, 0x9467, 0xa9a0, 0x79da, 0x16a8, 0xc6d5, 0x0, 0x1);
        gbc.writeMem(0x3b4a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9467);
        EXPECT(gbc.pc(), 0x3b4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01F7
        gbc.setState(0xceaa, 0x192c, 0x5a50, 0xba77, 0x9e68, 0xd68a, 0x0, 0x1);
        gbc.writeMem(0xceaa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x192c);
        EXPECT(gbc.pc(), 0xceab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceaa), 0xac);
        // AC 01F8
        gbc.setState(0xb87c, 0xe97d, 0xca80, 0xf5af, 0x55ad, 0x4b39, 0x1, 0x1);
        gbc.writeMem(0xb87c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xe97d);
        EXPECT(gbc.pc(), 0xb87d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb87c), 0xac);
        // AC 01F9
        gbc.setState(0xdc09, 0x88b9, 0xeda0, 0xd12b, 0xf37a, 0x9100, 0x1, 0x0);
        gbc.writeMem(0xdc09, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x88b9);
        EXPECT(gbc.pc(), 0xdc0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc09), 0xac);
        // AC 01FA
        gbc.setState(0x7199, 0xd28d, 0x94e0, 0xf4dc, 0x53b0, 0x9726, 0x1, 0x0);
        gbc.writeMem(0x7199, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd28d);
        EXPECT(gbc.pc(), 0x719a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01FB
        gbc.setState(0x2145, 0x1689, 0x8db0, 0x3762, 0xbc52, 0xb89, 0x1, 0x1);
        gbc.writeMem(0x2145, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x1689);
        EXPECT(gbc.pc(), 0x2146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01FC
        gbc.setState(0xac4a, 0xb95a, 0x4ae0, 0xfa0c, 0xe5fb, 0x834b, 0x1, 0x1);
        gbc.writeMem(0xac4a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb95a);
        EXPECT(gbc.pc(), 0xac4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac4a), 0xac);
        // AC 01FD
        gbc.setState(0x7780, 0x3020, 0x4110, 0x2a47, 0x7a58, 0x1a4d, 0x0, 0x0);
        gbc.writeMem(0x7780, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3020);
        EXPECT(gbc.pc(), 0x7781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01FE
        gbc.setState(0x43fd, 0x89d9, 0x5270, 0x8ee3, 0xeea5, 0xc4d3, 0x1, 0x1);
        gbc.writeMem(0x43fd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x89d9);
        EXPECT(gbc.pc(), 0x43fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 01FF
        gbc.setState(0xd441, 0x2dd5, 0xad10, 0x6e3f, 0x4c90, 0xa8ce, 0x0, 0x0);
        gbc.writeMem(0xd441, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2dd5);
        EXPECT(gbc.pc(), 0xd442);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd441), 0xac);
        // AC 0200
        gbc.setState(0x21d6, 0x934f, 0x69d0, 0x659a, 0xf74f, 0x26c6, 0x0, 0x0);
        gbc.writeMem(0x21d6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x934f);
        EXPECT(gbc.pc(), 0x21d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0201
        gbc.setState(0xbbb, 0xa571, 0x6720, 0x8878, 0x2cab, 0x1b14, 0x0, 0x0);
        gbc.writeMem(0xbbb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa571);
        EXPECT(gbc.pc(), 0xbbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0202
        gbc.setState(0x2f6f, 0x4c35, 0x8c20, 0x9c9, 0x75f1, 0x454e, 0x1, 0x0);
        gbc.writeMem(0x2f6f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4c35);
        EXPECT(gbc.pc(), 0x2f70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0203
        gbc.setState(0xa69e, 0xea6c, 0x2680, 0xa4dc, 0x2c9c, 0x3aae, 0x1, 0x0);
        gbc.writeMem(0xa69e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xea6c);
        EXPECT(gbc.pc(), 0xa69f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa69e), 0xac);
        // AC 0204
        gbc.setState(0x464b, 0x98cc, 0xa0b0, 0xa56f, 0x519e, 0xe054, 0x1, 0x1);
        gbc.writeMem(0x464b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x98cc);
        EXPECT(gbc.pc(), 0x464c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0205
        gbc.setState(0xbe5e, 0x20e9, 0x9440, 0x52b6, 0xdb62, 0x2b04, 0x0, 0x0);
        gbc.writeMem(0xbe5e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x20e9);
        EXPECT(gbc.pc(), 0xbe5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe5e), 0xac);
        // AC 0206
        gbc.setState(0xec7f, 0x2e6a, 0xc390, 0xeedb, 0xfba9, 0x6ea7, 0x1, 0x0);
        gbc.writeMem(0xec7f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2e6a);
        EXPECT(gbc.pc(), 0xec80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec7f), 0xac);
        // AC 0208
        gbc.setState(0x64cc, 0x7117, 0xb890, 0x7de1, 0xd4ca, 0xcbdf, 0x0, 0x1);
        gbc.writeMem(0x64cc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7117);
        EXPECT(gbc.pc(), 0x64cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0209
        gbc.setState(0xacfd, 0xe794, 0x3b00, 0x4e0e, 0x1c46, 0xce0d, 0x0, 0x1);
        gbc.writeMem(0xacfd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe794);
        EXPECT(gbc.pc(), 0xacfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacfd), 0xac);
        // AC 020A
        gbc.setState(0x13c9, 0x465c, 0x7c20, 0x6f87, 0xbb54, 0x303, 0x1, 0x0);
        gbc.writeMem(0x13c9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x465c);
        EXPECT(gbc.pc(), 0x13ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 020B
        gbc.setState(0xdf4a, 0x6520, 0x9bb0, 0x279b, 0x1d99, 0xb0d2, 0x1, 0x0);
        gbc.writeMem(0xdf4a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6520);
        EXPECT(gbc.pc(), 0xdf4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf4a), 0xac);
        // AC 020C
        gbc.setState(0x144e, 0x18c, 0x3270, 0x9ee8, 0xcae0, 0x8382, 0x0, 0x1);
        gbc.writeMem(0x144e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x18c);
        EXPECT(gbc.pc(), 0x144f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 020E
        gbc.setState(0xbb06, 0x2244, 0xafe0, 0x705c, 0xddd6, 0xb8fc, 0x0, 0x1);
        gbc.writeMem(0xbb06, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2244);
        EXPECT(gbc.pc(), 0xbb07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb06), 0xac);
        // AC 020F
        gbc.setState(0xe8a6, 0xd2, 0xb190, 0xd415, 0x95b2, 0xdd1e, 0x1, 0x1);
        gbc.writeMem(0xe8a6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd2);
        EXPECT(gbc.pc(), 0xe8a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8a6), 0xac);
        // AC 0210
        gbc.setState(0x8466, 0x8d1c, 0x8200, 0x8f34, 0x508d, 0x4212, 0x0, 0x1);
        gbc.writeMem(0x8466, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8d1c);
        EXPECT(gbc.pc(), 0x8467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8466), 0xac);
        // AC 0211
        gbc.setState(0x2543, 0xd74a, 0xfe70, 0xc52a, 0xc856, 0xa96b, 0x0, 0x0);
        gbc.writeMem(0x2543, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xd74a);
        EXPECT(gbc.pc(), 0x2544);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0212
        gbc.setState(0x4954, 0x4241, 0x7140, 0x600e, 0x688b, 0x12e9, 0x0, 0x1);
        gbc.writeMem(0x4954, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4241);
        EXPECT(gbc.pc(), 0x4955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0213
        gbc.setState(0x1cdc, 0x740c, 0x310, 0x58b5, 0x182a, 0xb43a, 0x1, 0x1);
        gbc.writeMem(0x1cdc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x740c);
        EXPECT(gbc.pc(), 0x1cdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0214
        gbc.setState(0x6ef3, 0xd171, 0x2b40, 0x86d4, 0xe3ae, 0x10b5, 0x0, 0x0);
        gbc.writeMem(0x6ef3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd171);
        EXPECT(gbc.pc(), 0x6ef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0215
        gbc.setState(0x50ac, 0xe290, 0x1af0, 0x933e, 0x54c9, 0x58c2, 0x1, 0x0);
        gbc.writeMem(0x50ac, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe290);
        EXPECT(gbc.pc(), 0x50ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0216
        gbc.setState(0x469f, 0x6a07, 0xaff0, 0xa6da, 0x98a9, 0x5e40, 0x0, 0x0);
        gbc.writeMem(0x469f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6a07);
        EXPECT(gbc.pc(), 0x46a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0217
        gbc.setState(0x8fe8, 0xfdee, 0x5bb0, 0x2dab, 0x98b6, 0x4f6d, 0x1, 0x1);
        gbc.writeMem(0x8fe8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xfdee);
        EXPECT(gbc.pc(), 0x8fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe8), 0xac);
        // AC 0219
        gbc.setState(0x6cfa, 0x5470, 0xc400, 0xe6be, 0x229e, 0x60f5, 0x0, 0x0);
        gbc.writeMem(0x6cfa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5470);
        EXPECT(gbc.pc(), 0x6cfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 021A
        gbc.setState(0x273b, 0x5ad7, 0x6ef0, 0x87f5, 0xc6b8, 0x4b70, 0x1, 0x1);
        gbc.writeMem(0x273b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5ad7);
        EXPECT(gbc.pc(), 0x273c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 021B
        gbc.setState(0xbb56, 0xb6d9, 0xa1f0, 0x7c1c, 0xa83, 0x17fb, 0x0, 0x0);
        gbc.writeMem(0xbb56, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xb6d9);
        EXPECT(gbc.pc(), 0xbb57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb56), 0xac);
        // AC 021C
        gbc.setState(0x3ae8, 0x4169, 0x10a0, 0x1b5a, 0xb434, 0x8e9f, 0x1, 0x1);
        gbc.writeMem(0x3ae8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4169);
        EXPECT(gbc.pc(), 0x3ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 021D
        gbc.setState(0xa210, 0x75ca, 0xbdc0, 0x196b, 0xbaf5, 0xb271, 0x0, 0x1);
        gbc.writeMem(0xa210, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x75ca);
        EXPECT(gbc.pc(), 0xa211);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa210), 0xac);
        // AC 021E
        gbc.setState(0xbe1f, 0xeb3e, 0x4d30, 0xd3f8, 0xf549, 0xa205, 0x1, 0x1);
        gbc.writeMem(0xbe1f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xeb3e);
        EXPECT(gbc.pc(), 0xbe20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe1f), 0xac);
        // AC 0220
        gbc.setState(0x5b0f, 0x8638, 0x9130, 0xb20b, 0x72c4, 0xd582, 0x1, 0x0);
        gbc.writeMem(0x5b0f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8638);
        EXPECT(gbc.pc(), 0x5b10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0221
        gbc.setState(0xbb13, 0x7b3c, 0x3d30, 0xb745, 0xfc88, 0x9b81, 0x1, 0x1);
        gbc.writeMem(0xbb13, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7b3c);
        EXPECT(gbc.pc(), 0xbb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb13), 0xac);
        // AC 0222
        gbc.setState(0x5d9b, 0x4eaf, 0x76c0, 0xc793, 0x28bf, 0x38d2, 0x1, 0x1);
        gbc.writeMem(0x5d9b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4eaf);
        EXPECT(gbc.pc(), 0x5d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0223
        gbc.setState(0xc49d, 0xabf7, 0xcd70, 0xbf34, 0xc07d, 0xdbd0, 0x1, 0x1);
        gbc.writeMem(0xc49d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xabf7);
        EXPECT(gbc.pc(), 0xc49e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc49d), 0xac);
        // AC 0224
        gbc.setState(0xba8c, 0x67f4, 0x3690, 0x9461, 0x7484, 0x8149, 0x1, 0x0);
        gbc.writeMem(0xba8c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x67f4);
        EXPECT(gbc.pc(), 0xba8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8c), 0xac);
        // AC 0225
        gbc.setState(0x51d, 0xc314, 0x9310, 0x27a7, 0xaa83, 0x6373, 0x0, 0x0);
        gbc.writeMem(0x51d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xc314);
        EXPECT(gbc.pc(), 0x51e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0226
        gbc.setState(0x410e, 0xbb7e, 0x2ac0, 0xa746, 0x337e, 0xbe98, 0x0, 0x1);
        gbc.writeMem(0x410e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xbb7e);
        EXPECT(gbc.pc(), 0x410f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0227
        gbc.setState(0xe26a, 0x873, 0x4000, 0xbab, 0x34d4, 0xa1c5, 0x1, 0x0);
        gbc.writeMem(0xe26a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x873);
        EXPECT(gbc.pc(), 0xe26b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe26a), 0xac);
        // AC 0228
        gbc.setState(0x4125, 0x2f46, 0x5c60, 0xf94a, 0x6180, 0x6c3c, 0x0, 0x0);
        gbc.writeMem(0x4125, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2f46);
        EXPECT(gbc.pc(), 0x4126);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 022A
        gbc.setState(0xaadc, 0xc631, 0xa4a0, 0x7362, 0x34b, 0xb668, 0x0, 0x0);
        gbc.writeMem(0xaadc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc631);
        EXPECT(gbc.pc(), 0xaadd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaadc), 0xac);
        // AC 022B
        gbc.setState(0x5191, 0x922a, 0x70e0, 0xd353, 0xd7fe, 0xc8a0, 0x0, 0x1);
        gbc.writeMem(0x5191, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x922a);
        EXPECT(gbc.pc(), 0x5192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 022C
        gbc.setState(0x19a7, 0xa54d, 0xb0a0, 0x5ef8, 0xd03b, 0x480d, 0x0, 0x0);
        gbc.writeMem(0x19a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa54d);
        EXPECT(gbc.pc(), 0x19a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 022D
        gbc.setState(0xcac3, 0xd6b7, 0x54e0, 0xca3, 0x9353, 0xfbca, 0x0, 0x0);
        gbc.writeMem(0xcac3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd6b7);
        EXPECT(gbc.pc(), 0xcac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcac3), 0xac);
        // AC 022E
        gbc.setState(0x516b, 0xe8ff, 0xeb90, 0xd821, 0x22da, 0xebbc, 0x0, 0x1);
        gbc.writeMem(0x516b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xe8ff);
        EXPECT(gbc.pc(), 0x516c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 022F
        gbc.setState(0x100c, 0x1207, 0xf0e0, 0x9b7a, 0x151, 0x5562, 0x0, 0x0);
        gbc.writeMem(0x100c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x1207);
        EXPECT(gbc.pc(), 0x100d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0230
        gbc.setState(0xdb08, 0xae47, 0xaa50, 0xbefb, 0x8f69, 0xe356, 0x0, 0x1);
        gbc.writeMem(0xdb08, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xae47);
        EXPECT(gbc.pc(), 0xdb09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb08), 0xac);
        // AC 0231
        gbc.setState(0x3d4e, 0x7dac, 0x3b60, 0x3054, 0x786f, 0x5bc2, 0x0, 0x0);
        gbc.writeMem(0x3d4e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7dac);
        EXPECT(gbc.pc(), 0x3d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0232
        gbc.setState(0xc15c, 0x3400, 0x7e00, 0x2b47, 0x937d, 0xb73, 0x1, 0x0);
        gbc.writeMem(0xc15c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3400);
        EXPECT(gbc.pc(), 0xc15d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc15c), 0xac);
        // AC 0233
        gbc.setState(0x58d8, 0xc71b, 0xa8d0, 0x73cb, 0xcecb, 0x6fe6, 0x1, 0x0);
        gbc.writeMem(0x58d8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc71b);
        EXPECT(gbc.pc(), 0x58d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0234
        gbc.setState(0xca0a, 0xf6b, 0xc800, 0xee47, 0xe7d4, 0x568, 0x1, 0x0);
        gbc.writeMem(0xca0a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf6b);
        EXPECT(gbc.pc(), 0xca0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca0a), 0xac);
        // AC 0235
        gbc.setState(0x26fb, 0x978b, 0x9c70, 0xfef1, 0x80a3, 0x563, 0x0, 0x0);
        gbc.writeMem(0x26fb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x978b);
        EXPECT(gbc.pc(), 0x26fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0236
        gbc.setState(0xef95, 0xa3b9, 0x64a0, 0x65bf, 0x71e1, 0x3527, 0x1, 0x0);
        gbc.writeMem(0xef95, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa3b9);
        EXPECT(gbc.pc(), 0xef96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef95), 0xac);
        // AC 0237
        gbc.setState(0xa213, 0x3198, 0x74b0, 0x7d3d, 0x678, 0x1c40, 0x0, 0x1);
        gbc.writeMem(0xa213, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3198);
        EXPECT(gbc.pc(), 0xa214);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa213), 0xac);
        // AC 0238
        gbc.setState(0x230b, 0x996f, 0x47d0, 0xd046, 0xfcc0, 0x2241, 0x1, 0x1);
        gbc.writeMem(0x230b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x996f);
        EXPECT(gbc.pc(), 0x230c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0239
        gbc.setState(0xd21d, 0xf5df, 0xceb0, 0xda1f, 0x40a6, 0xebe0, 0x0, 0x1);
        gbc.writeMem(0xd21d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf5df);
        EXPECT(gbc.pc(), 0xd21e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd21d), 0xac);
        // AC 023A
        gbc.setState(0xdb4a, 0x3a49, 0xa2e0, 0xd68f, 0x31ba, 0x8c2e, 0x1, 0x0);
        gbc.writeMem(0xdb4a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3a49);
        EXPECT(gbc.pc(), 0xdb4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb4a), 0xac);
        // AC 023B
        gbc.setState(0xeab4, 0x593b, 0x3990, 0xf38f, 0x2dee, 0xaf1f, 0x0, 0x0);
        gbc.writeMem(0xeab4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x593b);
        EXPECT(gbc.pc(), 0xeab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeab4), 0xac);
        // AC 023C
        gbc.setState(0x3ae, 0x9d32, 0x9790, 0x25ee, 0x2285, 0x4b6f, 0x1, 0x1);
        gbc.writeMem(0x3ae, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9d32);
        EXPECT(gbc.pc(), 0x3af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 023D
        gbc.setState(0xe58b, 0x264a, 0x6120, 0xc762, 0xb82f, 0xa8db, 0x0, 0x0);
        gbc.writeMem(0xe58b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x264a);
        EXPECT(gbc.pc(), 0xe58c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe58b), 0xac);
        // AC 023E
        gbc.setState(0x9ccd, 0x2750, 0x5160, 0xa033, 0x85bb, 0xe28, 0x0, 0x0);
        gbc.writeMem(0x9ccd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2750);
        EXPECT(gbc.pc(), 0x9cce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ccd), 0xac);
        // AC 023F
        gbc.setState(0x6c96, 0xf21, 0x4870, 0x2191, 0x66db, 0xbc6d, 0x0, 0x0);
        gbc.writeMem(0x6c96, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf21);
        EXPECT(gbc.pc(), 0x6c97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0240
        gbc.setState(0x5590, 0x79bd, 0xdd30, 0xef2f, 0x7bbf, 0xf3a6, 0x1, 0x0);
        gbc.writeMem(0x5590, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x79bd);
        EXPECT(gbc.pc(), 0x5591);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0241
        gbc.setState(0x46f0, 0x806b, 0xbad0, 0xa6e5, 0x5d26, 0xca13, 0x1, 0x0);
        gbc.writeMem(0x46f0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x806b);
        EXPECT(gbc.pc(), 0x46f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0242
        gbc.setState(0xa306, 0x9d2a, 0xd490, 0x7801, 0x39d1, 0xb073, 0x0, 0x1);
        gbc.writeMem(0xa306, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x9d2a);
        EXPECT(gbc.pc(), 0xa307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa306), 0xac);
        // AC 0243
        gbc.setState(0x25ea, 0x6b14, 0xf6f0, 0xcdf1, 0x1b8e, 0x53fa, 0x1, 0x0);
        gbc.writeMem(0x25ea, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x6b14);
        EXPECT(gbc.pc(), 0x25eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0244
        gbc.setState(0x9190, 0x4852, 0x3380, 0x6cb2, 0xa288, 0x2539, 0x0, 0x0);
        gbc.writeMem(0x9190, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x4852);
        EXPECT(gbc.pc(), 0x9191);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9190), 0xac);
        // AC 0245
        gbc.setState(0x852, 0xaa85, 0xf020, 0xf8a5, 0x6232, 0x1676, 0x0, 0x1);
        gbc.writeMem(0x852, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xaa85);
        EXPECT(gbc.pc(), 0x853);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0246
        gbc.setState(0x436d, 0x39a8, 0xeb80, 0x89a, 0x1557, 0x433b, 0x1, 0x1);
        gbc.writeMem(0x436d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x39a8);
        EXPECT(gbc.pc(), 0x436e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0247
        gbc.setState(0x90eb, 0xe254, 0x6bd0, 0xe061, 0xcbcc, 0x9e04, 0x0, 0x0);
        gbc.writeMem(0x90eb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe254);
        EXPECT(gbc.pc(), 0x90ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90eb), 0xac);
        // AC 0248
        gbc.setState(0xdb3b, 0xbc2b, 0x4d70, 0x840f, 0x6100, 0xe90a, 0x1, 0x1);
        gbc.writeMem(0xdb3b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xbc2b);
        EXPECT(gbc.pc(), 0xdb3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb3b), 0xac);
        // AC 0249
        gbc.setState(0xbff6, 0x2bc9, 0xf420, 0xee9b, 0x93a2, 0xe59b, 0x1, 0x0);
        gbc.writeMem(0xbff6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x2bc9);
        EXPECT(gbc.pc(), 0xbff7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbff6), 0xac);
        // AC 024A
        gbc.setState(0xddd0, 0xa159, 0xd900, 0x15dd, 0xfb6d, 0x7c30, 0x1, 0x1);
        gbc.writeMem(0xddd0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa159);
        EXPECT(gbc.pc(), 0xddd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd0), 0xac);
        // AC 024C
        gbc.setState(0xbf2f, 0xbf1, 0x5370, 0x6411, 0xbf91, 0x1ae9, 0x0, 0x0);
        gbc.writeMem(0xbf2f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbf1);
        EXPECT(gbc.pc(), 0xbf30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf2f), 0xac);
        // AC 024E
        gbc.setState(0x233, 0xc705, 0x7880, 0x7666, 0xc794, 0x2a91, 0x0, 0x0);
        gbc.writeMem(0x233, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc705);
        EXPECT(gbc.pc(), 0x234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 024F
        gbc.setState(0x398f, 0xb53e, 0x4ba0, 0x779c, 0x8ec7, 0x35d2, 0x0, 0x0);
        gbc.writeMem(0x398f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb53e);
        EXPECT(gbc.pc(), 0x3990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0250
        gbc.setState(0xcc54, 0x234c, 0xb520, 0x9ba, 0x7302, 0xf163, 0x1, 0x0);
        gbc.writeMem(0xcc54, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x234c);
        EXPECT(gbc.pc(), 0xcc55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc54), 0xac);
        // AC 0251
        gbc.setState(0x6f53, 0xf1da, 0x1360, 0x1af, 0x4b1a, 0xb22b, 0x0, 0x1);
        gbc.writeMem(0x6f53, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf1da);
        EXPECT(gbc.pc(), 0x6f54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0252
        gbc.setState(0xd60b, 0xdaf8, 0xaee0, 0xd1d9, 0x91a, 0x9036, 0x0, 0x1);
        gbc.writeMem(0xd60b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xdaf8);
        EXPECT(gbc.pc(), 0xd60c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd60b), 0xac);
        // AC 0253
        gbc.setState(0x46e6, 0xe7cc, 0x5df0, 0x4b28, 0x7019, 0x4980, 0x1, 0x0);
        gbc.writeMem(0x46e6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xe7cc);
        EXPECT(gbc.pc(), 0x46e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0254
        gbc.setState(0x6201, 0x723c, 0x3390, 0xa4ad, 0xe6c5, 0x203d, 0x1, 0x0);
        gbc.writeMem(0x6201, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x723c);
        EXPECT(gbc.pc(), 0x6202);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0255
        gbc.setState(0x3cf8, 0x1cc6, 0xeae0, 0x9a8f, 0x1c4b, 0x9539, 0x1, 0x0);
        gbc.writeMem(0x3cf8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x1cc6);
        EXPECT(gbc.pc(), 0x3cf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0256
        gbc.setState(0x10d, 0xab6e, 0x3500, 0x9563, 0xe3fa, 0x75e, 0x0, 0x1);
        gbc.writeMem(0x10d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xab6e);
        EXPECT(gbc.pc(), 0x10e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0257
        gbc.setState(0x5cf8, 0x1860, 0xe020, 0x124c, 0xf3e8, 0x7669, 0x1, 0x0);
        gbc.writeMem(0x5cf8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1860);
        EXPECT(gbc.pc(), 0x5cf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0258
        gbc.setState(0x646b, 0xce0f, 0x6060, 0x25a4, 0x21f5, 0x39fc, 0x0, 0x1);
        gbc.writeMem(0x646b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xce0f);
        EXPECT(gbc.pc(), 0x646c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0259
        gbc.setState(0xac5c, 0x8427, 0xd530, 0xf067, 0x558a, 0x401e, 0x0, 0x1);
        gbc.writeMem(0xac5c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8427);
        EXPECT(gbc.pc(), 0xac5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac5c), 0xac);
        // AC 025A
        gbc.setState(0x64a3, 0x4e6a, 0x7b30, 0x318, 0xac07, 0x7cb2, 0x0, 0x0);
        gbc.writeMem(0x64a3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4e6a);
        EXPECT(gbc.pc(), 0x64a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 025B
        gbc.setState(0xbb5f, 0x6b08, 0x35d0, 0xb72c, 0x4eb5, 0x41aa, 0x1, 0x1);
        gbc.writeMem(0xbb5f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x6b08);
        EXPECT(gbc.pc(), 0xbb60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb5f), 0xac);
        // AC 025C
        gbc.setState(0xbcab, 0x472, 0x2090, 0xc07f, 0x4784, 0xf58, 0x0, 0x1);
        gbc.writeMem(0xbcab, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x472);
        EXPECT(gbc.pc(), 0xbcac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcab), 0xac);
        // AC 025D
        gbc.setState(0xce94, 0x6bb6, 0x3b90, 0xb86d, 0x10db, 0xb74, 0x0, 0x0);
        gbc.writeMem(0xce94, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6bb6);
        EXPECT(gbc.pc(), 0xce95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce94), 0xac);
        // AC 025F
        gbc.setState(0x6caa, 0x326f, 0x7a40, 0xe125, 0xc07b, 0x3357, 0x1, 0x1);
        gbc.writeMem(0x6caa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x326f);
        EXPECT(gbc.pc(), 0x6cab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0261
        gbc.setState(0xc2c2, 0xd96a, 0x5ce0, 0xf0b3, 0xcfa9, 0x4d6f, 0x1, 0x1);
        gbc.writeMem(0xc2c2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xd96a);
        EXPECT(gbc.pc(), 0xc2c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c2), 0xac);
        // AC 0262
        gbc.setState(0x7d09, 0xec74, 0x7060, 0x1f25, 0x6bff, 0x3056, 0x1, 0x0);
        gbc.writeMem(0x7d09, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xec74);
        EXPECT(gbc.pc(), 0x7d0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0264
        gbc.setState(0x6254, 0x13c3, 0x230, 0x4a9, 0xed17, 0x3ffa, 0x1, 0x1);
        gbc.writeMem(0x6254, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x13c3);
        EXPECT(gbc.pc(), 0x6255);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0265
        gbc.setState(0xc50, 0x6be7, 0xd4b0, 0xe2ee, 0x90d0, 0x117f, 0x1, 0x0);
        gbc.writeMem(0xc50, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6be7);
        EXPECT(gbc.pc(), 0xc51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0266
        gbc.setState(0x3795, 0xc40c, 0xb9d0, 0x76c1, 0x88c1, 0x983b, 0x1, 0x1);
        gbc.writeMem(0x3795, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc40c);
        EXPECT(gbc.pc(), 0x3796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0267
        gbc.setState(0xc42f, 0x4f8a, 0xc470, 0x96ce, 0xaf55, 0x8dd2, 0x0, 0x1);
        gbc.writeMem(0xc42f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4f8a);
        EXPECT(gbc.pc(), 0xc430);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc42f), 0xac);
        // AC 0268
        gbc.setState(0xe0a5, 0xf482, 0x4b00, 0xb6cd, 0x6327, 0xa4a1, 0x0, 0x0);
        gbc.writeMem(0xe0a5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf482);
        EXPECT(gbc.pc(), 0xe0a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a5), 0xac);
        // AC 0269
        gbc.setState(0x7a29, 0xf41e, 0xa840, 0x1606, 0x195b, 0xe22f, 0x0, 0x1);
        gbc.writeMem(0x7a29, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf41e);
        EXPECT(gbc.pc(), 0x7a2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 026A
        gbc.setState(0xbd78, 0x7a9b, 0xc090, 0x203c, 0x7801, 0x3432, 0x0, 0x0);
        gbc.writeMem(0xbd78, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7a9b);
        EXPECT(gbc.pc(), 0xbd79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd78), 0xac);
        // AC 026B
        gbc.setState(0xd715, 0xd6a5, 0xff00, 0x204, 0x1f32, 0xf9f4, 0x0, 0x0);
        gbc.writeMem(0xd715, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd6a5);
        EXPECT(gbc.pc(), 0xd716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd715), 0xac);
        // AC 026C
        gbc.setState(0xe8d7, 0x21db, 0x1ff0, 0xf44c, 0xd3e9, 0x6a2, 0x0, 0x1);
        gbc.writeMem(0xe8d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x21db);
        EXPECT(gbc.pc(), 0xe8d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8d7), 0xac);
        // AC 026D
        gbc.setState(0x6dac, 0xaa63, 0xff20, 0x41b2, 0x3e46, 0x614e, 0x1, 0x0);
        gbc.writeMem(0x6dac, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xaa63);
        EXPECT(gbc.pc(), 0x6dad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 026E
        gbc.setState(0x1cd9, 0x4d67, 0x2150, 0x308d, 0x1755, 0xab46, 0x1, 0x0);
        gbc.writeMem(0x1cd9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4d67);
        EXPECT(gbc.pc(), 0x1cda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 026F
        gbc.setState(0xaec4, 0x679d, 0x75d0, 0xacfa, 0xf6ef, 0x9ee1, 0x0, 0x0);
        gbc.writeMem(0xaec4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x679d);
        EXPECT(gbc.pc(), 0xaec5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaec4), 0xac);
        // AC 0270
        gbc.setState(0xc28f, 0x90a8, 0x7a10, 0xe7ec, 0xd6b1, 0xf090, 0x0, 0x0);
        gbc.writeMem(0xc28f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x90a8);
        EXPECT(gbc.pc(), 0xc290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc28f), 0xac);
        // AC 0271
        gbc.setState(0x94bc, 0xf1ed, 0xe7e0, 0x2b27, 0xab8f, 0x56a1, 0x1, 0x1);
        gbc.writeMem(0x94bc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf1ed);
        EXPECT(gbc.pc(), 0x94bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94bc), 0xac);
        // AC 0272
        gbc.setState(0x7800, 0x9da3, 0xeec0, 0x21d0, 0x44fd, 0x3d6, 0x1, 0x0);
        gbc.writeMem(0x7800, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9da3);
        EXPECT(gbc.pc(), 0x7801);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0273
        gbc.setState(0xef0f, 0xe3d8, 0xadf0, 0x9fd0, 0x94f8, 0xc2bf, 0x0, 0x0);
        gbc.writeMem(0xef0f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xe3d8);
        EXPECT(gbc.pc(), 0xef10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef0f), 0xac);
        // AC 0275
        gbc.setState(0xa3a3, 0xc70, 0x5c10, 0x7b9a, 0x6f0b, 0x8ab6, 0x0, 0x0);
        gbc.writeMem(0xa3a3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xc70);
        EXPECT(gbc.pc(), 0xa3a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3a3), 0xac);
        // AC 0276
        gbc.setState(0x86f8, 0x674b, 0x5090, 0xd10d, 0xf2b0, 0x2d4b, 0x1, 0x0);
        gbc.writeMem(0x86f8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x674b);
        EXPECT(gbc.pc(), 0x86f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f8), 0xac);
        // AC 0277
        gbc.setState(0x75ec, 0xc88d, 0x7140, 0xa55a, 0xbc1e, 0x191, 0x0, 0x1);
        gbc.writeMem(0x75ec, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc88d);
        EXPECT(gbc.pc(), 0x75ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0278
        gbc.setState(0xb36d, 0x2034, 0xcf80, 0x65fd, 0xb92d, 0xe570, 0x0, 0x0);
        gbc.writeMem(0xb36d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2034);
        EXPECT(gbc.pc(), 0xb36e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb36d), 0xac);
        // AC 0279
        gbc.setState(0x4725, 0x5064, 0xd630, 0x6c8e, 0xa2aa, 0x4883, 0x1, 0x1);
        gbc.writeMem(0x4725, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x5064);
        EXPECT(gbc.pc(), 0x4726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 027A
        gbc.setState(0xa171, 0xf524, 0x6bf0, 0x184f, 0x22e2, 0x726e, 0x1, 0x1);
        gbc.writeMem(0xa171, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf524);
        EXPECT(gbc.pc(), 0xa172);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa171), 0xac);
        // AC 027B
        gbc.setState(0x7229, 0x4eec, 0xd080, 0x7b8c, 0xe6a4, 0x5e6f, 0x0, 0x0);
        gbc.writeMem(0x7229, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4eec);
        EXPECT(gbc.pc(), 0x722a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 027D
        gbc.setState(0xc5c3, 0x4502, 0x9220, 0x46da, 0x31f2, 0x9618, 0x0, 0x1);
        gbc.writeMem(0xc5c3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4502);
        EXPECT(gbc.pc(), 0xc5c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5c3), 0xac);
        // AC 027E
        gbc.setState(0xa4fa, 0x136a, 0x9190, 0xe4c5, 0x53eb, 0xb90b, 0x1, 0x1);
        gbc.writeMem(0xa4fa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x136a);
        EXPECT(gbc.pc(), 0xa4fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4fa), 0xac);
        // AC 027F
        gbc.setState(0x2ef7, 0xe38e, 0x9a50, 0x2f27, 0x7098, 0x1852, 0x0, 0x1);
        gbc.writeMem(0x2ef7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe38e);
        EXPECT(gbc.pc(), 0x2ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0280
        gbc.setState(0x756c, 0x6a22, 0xf220, 0xcc2c, 0x5c2c, 0x9001, 0x1, 0x1);
        gbc.writeMem(0x756c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6a22);
        EXPECT(gbc.pc(), 0x756d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0281
        gbc.setState(0x4701, 0x100e, 0xa6f0, 0xf86c, 0x551a, 0xd9d1, 0x0, 0x1);
        gbc.writeMem(0x4701, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x100e);
        EXPECT(gbc.pc(), 0x4702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0282
        gbc.setState(0x23af, 0x848c, 0xbcb0, 0x3ce2, 0xa630, 0x2dc4, 0x1, 0x0);
        gbc.writeMem(0x23af, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x848c);
        EXPECT(gbc.pc(), 0x23b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0283
        gbc.setState(0x651a, 0xb70a, 0x9940, 0x5704, 0x2b26, 0xaf4e, 0x0, 0x1);
        gbc.writeMem(0x651a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xb70a);
        EXPECT(gbc.pc(), 0x651b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0284
        gbc.setState(0x9887, 0x182a, 0x4480, 0xe126, 0x2a57, 0x3339, 0x1, 0x1);
        gbc.writeMem(0x9887, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x182a);
        EXPECT(gbc.pc(), 0x9888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9887), 0xac);
        // AC 0285
        gbc.setState(0x7908, 0xffa, 0xa120, 0x68db, 0x34fb, 0x4310, 0x1, 0x0);
        gbc.writeMem(0x7908, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xffa);
        EXPECT(gbc.pc(), 0x7909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0286
        gbc.setState(0x8470, 0xbbc2, 0xe570, 0x541f, 0x13f0, 0x6df4, 0x1, 0x1);
        gbc.writeMem(0x8470, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xbbc2);
        EXPECT(gbc.pc(), 0x8471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8470), 0xac);
        // AC 0287
        gbc.setState(0x7147, 0x2fda, 0x70a0, 0x5ba7, 0xfa56, 0xb13c, 0x1, 0x0);
        gbc.writeMem(0x7147, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2fda);
        EXPECT(gbc.pc(), 0x7148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0288
        gbc.setState(0x46e7, 0xb570, 0x48c0, 0x2ffd, 0x5190, 0x1002, 0x0, 0x0);
        gbc.writeMem(0x46e7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb570);
        EXPECT(gbc.pc(), 0x46e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0289
        gbc.setState(0xaada, 0x2bce, 0xc560, 0xc37e, 0xb231, 0x6e0e, 0x1, 0x0);
        gbc.writeMem(0xaada, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2bce);
        EXPECT(gbc.pc(), 0xaadb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaada), 0xac);
        // AC 028A
        gbc.setState(0x50cb, 0xaecc, 0xc930, 0xf6b7, 0xa7d9, 0xc6a6, 0x1, 0x1);
        gbc.writeMem(0x50cb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xaecc);
        EXPECT(gbc.pc(), 0x50cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 028B
        gbc.setState(0xde54, 0x57d6, 0xa690, 0xd8b0, 0x37b8, 0x77b0, 0x0, 0x1);
        gbc.writeMem(0xde54, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x57d6);
        EXPECT(gbc.pc(), 0xde55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde54), 0xac);
        // AC 028C
        gbc.setState(0xb88e, 0x937c, 0x4d10, 0x2168, 0x21b4, 0xf542, 0x0, 0x1);
        gbc.writeMem(0xb88e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x937c);
        EXPECT(gbc.pc(), 0xb88f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb88e), 0xac);
        // AC 028D
        gbc.setState(0xd23a, 0x4f30, 0x87a0, 0xde15, 0x31da, 0x5be, 0x0, 0x1);
        gbc.writeMem(0xd23a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4f30);
        EXPECT(gbc.pc(), 0xd23b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd23a), 0xac);
        // AC 028E
        gbc.setState(0x99a2, 0x203e, 0x32c0, 0xee7d, 0x987f, 0xcdc1, 0x0, 0x1);
        gbc.writeMem(0x99a2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x203e);
        EXPECT(gbc.pc(), 0x99a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99a2), 0xac);
        // AC 028F
        gbc.setState(0x4f48, 0x8647, 0x9040, 0x1e93, 0x934c, 0x6688, 0x1, 0x1);
        gbc.writeMem(0x4f48, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x8647);
        EXPECT(gbc.pc(), 0x4f49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0290
        gbc.setState(0xce59, 0xe5f4, 0x70e0, 0x7f17, 0xfaac, 0xdd7f, 0x1, 0x0);
        gbc.writeMem(0xce59, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe5f4);
        EXPECT(gbc.pc(), 0xce5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce59), 0xac);
        // AC 0291
        gbc.setState(0x1191, 0x4003, 0x46c0, 0xa536, 0x12d7, 0x5ba6, 0x1, 0x1);
        gbc.writeMem(0x1191, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4003);
        EXPECT(gbc.pc(), 0x1192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0292
        gbc.setState(0xdd63, 0x16f0, 0x50f0, 0xda7f, 0xd4f, 0x4ae0, 0x1, 0x1);
        gbc.writeMem(0xdd63, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x16f0);
        EXPECT(gbc.pc(), 0xdd64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd63), 0xac);
        // AC 0293
        gbc.setState(0xc1b1, 0x4fd6, 0xe490, 0xda4e, 0xd0c4, 0x1e13, 0x1, 0x1);
        gbc.writeMem(0xc1b1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4fd6);
        EXPECT(gbc.pc(), 0xc1b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1b1), 0xac);
        // AC 0294
        gbc.setState(0xea48, 0xd364, 0x1d10, 0xe69f, 0xc070, 0xad76, 0x1, 0x0);
        gbc.writeMem(0xea48, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd364);
        EXPECT(gbc.pc(), 0xea49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea48), 0xac);
        // AC 0295
        gbc.setState(0x11d2, 0x4036, 0xde60, 0x5e7d, 0xf64f, 0xab35, 0x1, 0x0);
        gbc.writeMem(0x11d2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4036);
        EXPECT(gbc.pc(), 0x11d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0296
        gbc.setState(0xac4c, 0x1e9a, 0xe4a0, 0xd406, 0x127, 0x4cd1, 0x1, 0x1);
        gbc.writeMem(0xac4c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1e9a);
        EXPECT(gbc.pc(), 0xac4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac4c), 0xac);
        // AC 0297
        gbc.setState(0xa43c, 0x287e, 0x5ab0, 0xecb6, 0x39fe, 0x8035, 0x1, 0x0);
        gbc.writeMem(0xa43c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x287e);
        EXPECT(gbc.pc(), 0xa43d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa43c), 0xac);
        // AC 0299
        gbc.setState(0xa793, 0x9072, 0x110, 0x319f, 0x45d0, 0xe7fb, 0x1, 0x0);
        gbc.writeMem(0xa793, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9072);
        EXPECT(gbc.pc(), 0xa794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa793), 0xac);
        // AC 029A
        gbc.setState(0xb780, 0x1115, 0x2a0, 0x4492, 0x204b, 0xfc4b, 0x1, 0x1);
        gbc.writeMem(0xb780, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x1115);
        EXPECT(gbc.pc(), 0xb781);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb780), 0xac);
        // AC 029B
        gbc.setState(0x2389, 0xe929, 0x94b0, 0xa3a2, 0xb768, 0x6d5f, 0x0, 0x1);
        gbc.writeMem(0x2389, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe929);
        EXPECT(gbc.pc(), 0x238a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 029C
        gbc.setState(0xcd43, 0x5964, 0xa5e0, 0xcf2d, 0xbb16, 0x50af, 0x1, 0x0);
        gbc.writeMem(0xcd43, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5964);
        EXPECT(gbc.pc(), 0xcd44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd43), 0xac);
        // AC 029D
        gbc.setState(0x998a, 0x9ae4, 0x91f0, 0x6d9c, 0xb6e2, 0xaa24, 0x0, 0x0);
        gbc.writeMem(0x998a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9ae4);
        EXPECT(gbc.pc(), 0x998b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x998a), 0xac);
        // AC 029E
        gbc.setState(0x3865, 0x2f69, 0xb430, 0xd2db, 0x1ebc, 0x30c9, 0x0, 0x1);
        gbc.writeMem(0x3865, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x2f69);
        EXPECT(gbc.pc(), 0x3866);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 029F
        gbc.setState(0x5035, 0x203f, 0x81b0, 0x7c5a, 0xa00b, 0xc954, 0x1, 0x0);
        gbc.writeMem(0x5035, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x203f);
        EXPECT(gbc.pc(), 0x5036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02A0
        gbc.setState(0xda29, 0x15b, 0x1c00, 0xf7af, 0x15c3, 0x3e00, 0x0, 0x1);
        gbc.writeMem(0xda29, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x15b);
        EXPECT(gbc.pc(), 0xda2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda29), 0xac);
        // AC 02A1
        gbc.setState(0x8a7f, 0x8607, 0xd6c0, 0xa1e4, 0x5c3b, 0x6ba6, 0x1, 0x0);
        gbc.writeMem(0x8a7f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8607);
        EXPECT(gbc.pc(), 0x8a80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a7f), 0xac);
        // AC 02A2
        gbc.setState(0x2f6b, 0xf545, 0xd730, 0xc83f, 0x5acf, 0xf6e1, 0x1, 0x1);
        gbc.writeMem(0x2f6b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf545);
        EXPECT(gbc.pc(), 0x2f6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02A3
        gbc.setState(0x5917, 0xe57a, 0xe280, 0x2e08, 0xf6cb, 0xcd4e, 0x0, 0x0);
        gbc.writeMem(0x5917, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe57a);
        EXPECT(gbc.pc(), 0x5918);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02A4
        gbc.setState(0x71e3, 0xfc72, 0xd9a0, 0x83f0, 0x5853, 0x5d00, 0x1, 0x0);
        gbc.writeMem(0x71e3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xfc72);
        EXPECT(gbc.pc(), 0x71e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02A5
        gbc.setState(0x6812, 0xa00, 0x22d0, 0x4335, 0x1510, 0x82c2, 0x1, 0x0);
        gbc.writeMem(0x6812, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa00);
        EXPECT(gbc.pc(), 0x6813);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02A6
        gbc.setState(0xb288, 0xddf2, 0xe0a0, 0xcbef, 0x7f3c, 0x27da, 0x1, 0x1);
        gbc.writeMem(0xb288, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xddf2);
        EXPECT(gbc.pc(), 0xb289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb288), 0xac);
        // AC 02A7
        gbc.setState(0xbc16, 0x7966, 0x8130, 0x5e09, 0xa3b1, 0x77b8, 0x1, 0x1);
        gbc.writeMem(0xbc16, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x7966);
        EXPECT(gbc.pc(), 0xbc17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc16), 0xac);
        // AC 02A8
        gbc.setState(0x39ed, 0x36bc, 0xc300, 0x6132, 0x18f0, 0x9868, 0x1, 0x1);
        gbc.writeMem(0x39ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x36bc);
        EXPECT(gbc.pc(), 0x39ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02A9
        gbc.setState(0xdc6, 0x7861, 0xa050, 0xfeda, 0xad9, 0x91da, 0x1, 0x1);
        gbc.writeMem(0xdc6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x7861);
        EXPECT(gbc.pc(), 0xdc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02AA
        gbc.setState(0x5cba, 0x30ef, 0xb510, 0x1c3d, 0x533c, 0xbb6c, 0x0, 0x1);
        gbc.writeMem(0x5cba, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x30ef);
        EXPECT(gbc.pc(), 0x5cbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02AB
        gbc.setState(0x193b, 0x7e0f, 0x25d0, 0xca0b, 0x7d5c, 0x5a85, 0x1, 0x1);
        gbc.writeMem(0x193b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x7e0f);
        EXPECT(gbc.pc(), 0x193c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02AC
        gbc.setState(0x510, 0x6759, 0x63b0, 0x3ca, 0xa9de, 0x506, 0x1, 0x0);
        gbc.writeMem(0x510, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6759);
        EXPECT(gbc.pc(), 0x511);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02AD
        gbc.setState(0xd18d, 0xa2d1, 0x830, 0x8771, 0x8582, 0x90b7, 0x1, 0x1);
        gbc.writeMem(0xd18d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa2d1);
        EXPECT(gbc.pc(), 0xd18e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd18d), 0xac);
        // AC 02AE
        gbc.setState(0xd93c, 0x2d3a, 0x9410, 0x3bb6, 0x6b7a, 0x29bb, 0x0, 0x0);
        gbc.writeMem(0xd93c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2d3a);
        EXPECT(gbc.pc(), 0xd93d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd93c), 0xac);
        // AC 02B0
        gbc.setState(0x66f, 0xedcb, 0x6aa0, 0x79cf, 0xd7c6, 0xe916, 0x0, 0x1);
        gbc.writeMem(0x66f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xedcb);
        EXPECT(gbc.pc(), 0x670);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B1
        gbc.setState(0x1758, 0xf6c7, 0xd3d0, 0x22da, 0xe0f9, 0xa4f7, 0x0, 0x1);
        gbc.writeMem(0x1758, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf6c7);
        EXPECT(gbc.pc(), 0x1759);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B2
        gbc.setState(0x2c4c, 0x1a6f, 0x3370, 0x685b, 0x8a3b, 0x168c, 0x1, 0x1);
        gbc.writeMem(0x2c4c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1a6f);
        EXPECT(gbc.pc(), 0x2c4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B3
        gbc.setState(0x7070, 0x7661, 0x9530, 0x3cf7, 0x3082, 0x630, 0x1, 0x1);
        gbc.writeMem(0x7070, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x7661);
        EXPECT(gbc.pc(), 0x7071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B4
        gbc.setState(0x3387, 0x5a5c, 0x9120, 0x5450, 0x2985, 0xe549, 0x0, 0x1);
        gbc.writeMem(0x3387, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5a5c);
        EXPECT(gbc.pc(), 0x3388);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B5
        gbc.setState(0x138e, 0xd397, 0xe7d0, 0x2f35, 0xae54, 0x4273, 0x1, 0x0);
        gbc.writeMem(0x138e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd397);
        EXPECT(gbc.pc(), 0x138f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B6
        gbc.setState(0x4f5f, 0x53af, 0xba10, 0xbc7d, 0x1d2b, 0x41b1, 0x0, 0x1);
        gbc.writeMem(0x4f5f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x53af);
        EXPECT(gbc.pc(), 0x4f60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02B7
        gbc.setState(0x89ea, 0xe883, 0xa680, 0xad9e, 0xc92b, 0xa3cf, 0x1, 0x1);
        gbc.writeMem(0x89ea, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe883);
        EXPECT(gbc.pc(), 0x89eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89ea), 0xac);
        // AC 02B8
        gbc.setState(0x8d17, 0xcce0, 0xd980, 0xe63b, 0x7f8c, 0xaeaf, 0x1, 0x1);
        gbc.writeMem(0x8d17, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcce0);
        EXPECT(gbc.pc(), 0x8d18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d17), 0xac);
        // AC 02B9
        gbc.setState(0x75b9, 0xd663, 0x8d70, 0x5715, 0x1adb, 0x8433, 0x0, 0x0);
        gbc.writeMem(0x75b9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd663);
        EXPECT(gbc.pc(), 0x75ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02BA
        gbc.setState(0x3a2d, 0xe076, 0xbee0, 0xb9ae, 0x30b5, 0x2698, 0x1, 0x0);
        gbc.writeMem(0x3a2d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xe076);
        EXPECT(gbc.pc(), 0x3a2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02BB
        gbc.setState(0x867a, 0x4441, 0xb30, 0x1d30, 0xb3a7, 0xb82b, 0x0, 0x1);
        gbc.writeMem(0x867a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4441);
        EXPECT(gbc.pc(), 0x867b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x867a), 0xac);
        // AC 02BC
        gbc.setState(0xd5b0, 0x5753, 0xf6c0, 0x2e1f, 0x3c74, 0x97ce, 0x0, 0x0);
        gbc.writeMem(0xd5b0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5753);
        EXPECT(gbc.pc(), 0xd5b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b0), 0xac);
        // AC 02BD
        gbc.setState(0x2161, 0x4b60, 0x9600, 0xb430, 0xff85, 0x94e0, 0x1, 0x1);
        gbc.writeMem(0x2161, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4b60);
        EXPECT(gbc.pc(), 0x2162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02BE
        gbc.setState(0xb97, 0xc905, 0xcfb0, 0x1d65, 0xb78f, 0x4d8e, 0x1, 0x1);
        gbc.writeMem(0xb97, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc905);
        EXPECT(gbc.pc(), 0xb98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02BF
        gbc.setState(0xae5d, 0xb5a1, 0x3810, 0xa41, 0x1350, 0xeb02, 0x1, 0x1);
        gbc.writeMem(0xae5d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb5a1);
        EXPECT(gbc.pc(), 0xae5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae5d), 0xac);
        // AC 02C0
        gbc.setState(0x4afd, 0xd101, 0x1740, 0x61b2, 0x8b3c, 0x690, 0x1, 0x1);
        gbc.writeMem(0x4afd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd101);
        EXPECT(gbc.pc(), 0x4afe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02C1
        gbc.setState(0xcea9, 0x8305, 0x820, 0x9e95, 0xe1ab, 0x5ed6, 0x0, 0x0);
        gbc.writeMem(0xcea9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8305);
        EXPECT(gbc.pc(), 0xceaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcea9), 0xac);
        // AC 02C2
        gbc.setState(0x5f34, 0xf6d9, 0xb370, 0xf63a, 0x64e4, 0x71a0, 0x1, 0x1);
        gbc.writeMem(0x5f34, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf6d9);
        EXPECT(gbc.pc(), 0x5f35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02C3
        gbc.setState(0x5d68, 0x9a8, 0xdbb0, 0x8405, 0x6d29, 0xca07, 0x0, 0x0);
        gbc.writeMem(0x5d68, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x9a8);
        EXPECT(gbc.pc(), 0x5d69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02C4
        gbc.setState(0x31e9, 0xeab4, 0x860, 0x14df, 0x27a3, 0x2e78, 0x1, 0x1);
        gbc.writeMem(0x31e9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xeab4);
        EXPECT(gbc.pc(), 0x31ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02C5
        gbc.setState(0x8688, 0x8568, 0xd580, 0x1fdc, 0x979b, 0xed6f, 0x1, 0x0);
        gbc.writeMem(0x8688, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x8568);
        EXPECT(gbc.pc(), 0x8689);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8688), 0xac);
        // AC 02C6
        gbc.setState(0x5cc4, 0x2af2, 0x8ba0, 0x5c2b, 0x4d5d, 0xe71a, 0x1, 0x1);
        gbc.writeMem(0x5cc4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2af2);
        EXPECT(gbc.pc(), 0x5cc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02C7
        gbc.setState(0xa4e8, 0x2111, 0x4450, 0xa216, 0xd6a2, 0x5a5f, 0x0, 0x1);
        gbc.writeMem(0xa4e8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2111);
        EXPECT(gbc.pc(), 0xa4e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e8), 0xac);
        // AC 02C8
        gbc.setState(0xb8ca, 0xfe8, 0xf9d0, 0xf9e2, 0x629f, 0x91bc, 0x1, 0x0);
        gbc.writeMem(0xb8ca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xfe8);
        EXPECT(gbc.pc(), 0xb8cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8ca), 0xac);
        // AC 02C9
        gbc.setState(0xae9e, 0x77ab, 0x1150, 0x34d2, 0x19d4, 0x22be, 0x1, 0x1);
        gbc.writeMem(0xae9e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x77ab);
        EXPECT(gbc.pc(), 0xae9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae9e), 0xac);
        // AC 02CA
        gbc.setState(0xde7, 0x2de1, 0xe1b0, 0x1264, 0x36fd, 0x8e62, 0x1, 0x1);
        gbc.writeMem(0xde7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x2de1);
        EXPECT(gbc.pc(), 0xde8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02CB
        gbc.setState(0xb5ff, 0xa9c0, 0xc170, 0xd2a6, 0x955b, 0xbf0a, 0x1, 0x0);
        gbc.writeMem(0xb5ff, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xa9c0);
        EXPECT(gbc.pc(), 0xb600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ff), 0xac);
        // AC 02CC
        gbc.setState(0x6c61, 0xce82, 0x480, 0x854, 0xe215, 0xcbec, 0x0, 0x1);
        gbc.writeMem(0x6c61, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xce82);
        EXPECT(gbc.pc(), 0x6c62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02CD
        gbc.setState(0x33a8, 0x9716, 0x9b80, 0xc493, 0x8d8d, 0x7570, 0x1, 0x1);
        gbc.writeMem(0x33a8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9716);
        EXPECT(gbc.pc(), 0x33a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02CE
        gbc.setState(0xc58e, 0xd12a, 0xaa10, 0xaa2a, 0x31ce, 0xc881, 0x1, 0x0);
        gbc.writeMem(0xc58e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd12a);
        EXPECT(gbc.pc(), 0xc58f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc58e), 0xac);
        // AC 02CF
        gbc.setState(0x1a80, 0xe798, 0x8750, 0xc1f9, 0xfb0e, 0xb3ca, 0x0, 0x0);
        gbc.writeMem(0x1a80, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xe798);
        EXPECT(gbc.pc(), 0x1a81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02D1
        gbc.setState(0x51f4, 0xc80f, 0xf600, 0x81a4, 0xf542, 0x1a10, 0x1, 0x0);
        gbc.writeMem(0x51f4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xc80f);
        EXPECT(gbc.pc(), 0x51f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02D2
        gbc.setState(0x945a, 0x3d26, 0x7420, 0x1500, 0x4b43, 0xd713, 0x0, 0x0);
        gbc.writeMem(0x945a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3d26);
        EXPECT(gbc.pc(), 0x945b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x945a), 0xac);
        // AC 02D3
        gbc.setState(0x93ef, 0x7802, 0x1d10, 0x5588, 0xca63, 0xcd38, 0x0, 0x0);
        gbc.writeMem(0x93ef, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7802);
        EXPECT(gbc.pc(), 0x93f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ef), 0xac);
        // AC 02D4
        gbc.setState(0xb72f, 0x1391, 0x4330, 0xa7d2, 0x48, 0xeef6, 0x0, 0x1);
        gbc.writeMem(0xb72f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1391);
        EXPECT(gbc.pc(), 0xb730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb72f), 0xac);
        // AC 02D5
        gbc.setState(0x50fc, 0xbe14, 0x5c20, 0xd0d7, 0x1e91, 0xdaf5, 0x0, 0x1);
        gbc.writeMem(0x50fc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xbe14);
        EXPECT(gbc.pc(), 0x50fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02D6
        gbc.setState(0x344f, 0x5bef, 0x6670, 0xfe23, 0x2c6b, 0x2ba4, 0x0, 0x1);
        gbc.writeMem(0x344f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5bef);
        EXPECT(gbc.pc(), 0x3450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02D7
        gbc.setState(0xb337, 0xeb27, 0xdfb0, 0xab96, 0xcfef, 0x50f1, 0x1, 0x0);
        gbc.writeMem(0xb337, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xeb27);
        EXPECT(gbc.pc(), 0xb338);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb337), 0xac);
        // AC 02D8
        gbc.setState(0x68e4, 0x4f0b, 0x63f0, 0x4456, 0xc245, 0x1d22, 0x0, 0x1);
        gbc.writeMem(0x68e4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4f0b);
        EXPECT(gbc.pc(), 0x68e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02D9
        gbc.setState(0x2225, 0xc5eb, 0xb9f0, 0xb980, 0x6e3b, 0xcd0c, 0x0, 0x0);
        gbc.writeMem(0x2225, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xc5eb);
        EXPECT(gbc.pc(), 0x2226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02DB
        gbc.setState(0x6c10, 0xb196, 0xf980, 0xb6b8, 0x8db8, 0xb6b0, 0x0, 0x1);
        gbc.writeMem(0x6c10, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb196);
        EXPECT(gbc.pc(), 0x6c11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02DC
        gbc.setState(0x885e, 0x5c2d, 0xe180, 0xbb9c, 0x2a27, 0xb60f, 0x1, 0x0);
        gbc.writeMem(0x885e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5c2d);
        EXPECT(gbc.pc(), 0x885f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x885e), 0xac);
        // AC 02DD
        gbc.setState(0x14c6, 0xf348, 0x4c50, 0x178f, 0x4ec7, 0xffda, 0x0, 0x1);
        gbc.writeMem(0x14c6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xf348);
        EXPECT(gbc.pc(), 0x14c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02DE
        gbc.setState(0x41b6, 0xebb7, 0x3b10, 0x7993, 0xbabd, 0xcbda, 0x1, 0x0);
        gbc.writeMem(0x41b6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xebb7);
        EXPECT(gbc.pc(), 0x41b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02DF
        gbc.setState(0x7e8, 0x88c7, 0xf40, 0xdfe2, 0xd157, 0x61f2, 0x1, 0x1);
        gbc.writeMem(0x7e8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x88c7);
        EXPECT(gbc.pc(), 0x7e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02E0
        gbc.setState(0xe000, 0x2af9, 0xe020, 0x964e, 0x9405, 0x44f8, 0x0, 0x0);
        gbc.writeMem(0xe000, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x2af9);
        EXPECT(gbc.pc(), 0xe001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe000), 0xac);
        // AC 02E1
        gbc.setState(0x46c2, 0xb519, 0x4cd0, 0x490b, 0xf82d, 0xd95f, 0x1, 0x0);
        gbc.writeMem(0x46c2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb519);
        EXPECT(gbc.pc(), 0x46c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02E2
        gbc.setState(0x9a9f, 0x8e5e, 0x8210, 0xdcfc, 0x2040, 0xeba2, 0x1, 0x0);
        gbc.writeMem(0x9a9f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8e5e);
        EXPECT(gbc.pc(), 0x9aa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a9f), 0xac);
        // AC 02E3
        gbc.setState(0xb904, 0x6e41, 0x2e00, 0x2eff, 0x2a5d, 0x9db3, 0x0, 0x0);
        gbc.writeMem(0xb904, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6e41);
        EXPECT(gbc.pc(), 0xb905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb904), 0xac);
        // AC 02E4
        gbc.setState(0xbe00, 0xbe3f, 0x3f90, 0xfaa2, 0x1d28, 0xbb44, 0x1, 0x0);
        gbc.writeMem(0xbe00, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xbe3f);
        EXPECT(gbc.pc(), 0xbe01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe00), 0xac);
        // AC 02E5
        gbc.setState(0xee83, 0x57ca, 0x5270, 0xfeaf, 0x195, 0xe1ae, 0x1, 0x1);
        gbc.writeMem(0xee83, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x57ca);
        EXPECT(gbc.pc(), 0xee84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee83), 0xac);
        // AC 02E6
        gbc.setState(0x1988, 0xb038, 0xdd50, 0x2231, 0xcfa3, 0xd6d4, 0x0, 0x1);
        gbc.writeMem(0x1988, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb038);
        EXPECT(gbc.pc(), 0x1989);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02E7
        gbc.setState(0xab5e, 0x78a8, 0xc2c0, 0x525d, 0xbb5e, 0x4671, 0x0, 0x1);
        gbc.writeMem(0xab5e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x78a8);
        EXPECT(gbc.pc(), 0xab5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab5e), 0xac);
        // AC 02E8
        gbc.setState(0x8c03, 0xd43f, 0xfcd0, 0x732b, 0x8e42, 0xa131, 0x1, 0x1);
        gbc.writeMem(0x8c03, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd43f);
        EXPECT(gbc.pc(), 0x8c04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c03), 0xac);
        // AC 02E9
        gbc.setState(0xaebf, 0x718c, 0xf970, 0x3953, 0xcc47, 0x1ad7, 0x0, 0x1);
        gbc.writeMem(0xaebf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x718c);
        EXPECT(gbc.pc(), 0xaec0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaebf), 0xac);
        // AC 02EA
        gbc.setState(0xe13f, 0xf8fb, 0x9150, 0xcc2e, 0x762a, 0xfbe7, 0x1, 0x1);
        gbc.writeMem(0xe13f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf8fb);
        EXPECT(gbc.pc(), 0xe140);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe13f), 0xac);
        // AC 02EB
        gbc.setState(0x240c, 0x77bb, 0x2bb0, 0x1b15, 0x910d, 0x888c, 0x1, 0x1);
        gbc.writeMem(0x240c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x77bb);
        EXPECT(gbc.pc(), 0x240d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02EC
        gbc.setState(0x560, 0x3364, 0xce80, 0xd8e4, 0xee3d, 0x185a, 0x1, 0x0);
        gbc.writeMem(0x560, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x3364);
        EXPECT(gbc.pc(), 0x561);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02ED
        gbc.setState(0x6aca, 0x1406, 0x17d0, 0xc6d9, 0x71f4, 0x1192, 0x1, 0x0);
        gbc.writeMem(0x6aca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1406);
        EXPECT(gbc.pc(), 0x6acb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02EE
        gbc.setState(0xb4e, 0xf632, 0x4920, 0xbc12, 0x8a03, 0xf9cb, 0x0, 0x1);
        gbc.writeMem(0xb4e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf632);
        EXPECT(gbc.pc(), 0xb4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02EF
        gbc.setState(0xd4b7, 0x63bf, 0xb3b0, 0x2244, 0x1265, 0xe77e, 0x0, 0x1);
        gbc.writeMem(0xd4b7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x63bf);
        EXPECT(gbc.pc(), 0xd4b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4b7), 0xac);
        // AC 02F0
        gbc.setState(0x5a85, 0x2914, 0xc020, 0xed2d, 0x7deb, 0x3d79, 0x0, 0x0);
        gbc.writeMem(0x5a85, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2914);
        EXPECT(gbc.pc(), 0x5a86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02F1
        gbc.setState(0x1db3, 0x5232, 0x2500, 0xf911, 0x7796, 0x5c61, 0x1, 0x0);
        gbc.writeMem(0x1db3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5232);
        EXPECT(gbc.pc(), 0x1db4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02F2
        gbc.setState(0xce46, 0xb8d2, 0xd770, 0x9cc1, 0x71f1, 0x525b, 0x0, 0x1);
        gbc.writeMem(0xce46, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb8d2);
        EXPECT(gbc.pc(), 0xce47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce46), 0xac);
        // AC 02F3
        gbc.setState(0x271d, 0x8805, 0xdd40, 0x4fce, 0x346e, 0xe1f, 0x1, 0x1);
        gbc.writeMem(0x271d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x8805);
        EXPECT(gbc.pc(), 0x271e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02F4
        gbc.setState(0xd6bd, 0x3319, 0x2520, 0xfac0, 0xda15, 0x135, 0x1, 0x0);
        gbc.writeMem(0xd6bd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x3319);
        EXPECT(gbc.pc(), 0xd6be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6bd), 0xac);
        // AC 02F5
        gbc.setState(0xb47a, 0xd3a1, 0x50e0, 0xd0c5, 0x619b, 0x3f94, 0x0, 0x0);
        gbc.writeMem(0xb47a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd3a1);
        EXPECT(gbc.pc(), 0xb47b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb47a), 0xac);
        // AC 02F6
        gbc.setState(0x707a, 0x55ae, 0x71b0, 0x57f8, 0xa9d4, 0x8d5, 0x1, 0x0);
        gbc.writeMem(0x707a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x55ae);
        EXPECT(gbc.pc(), 0x707b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02F7
        gbc.setState(0xa193, 0xa840, 0x2b10, 0x5123, 0x8b68, 0xbf08, 0x0, 0x1);
        gbc.writeMem(0xa193, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xa840);
        EXPECT(gbc.pc(), 0xa194);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa193), 0xac);
        // AC 02F8
        gbc.setState(0xbe82, 0xda37, 0x90c0, 0xf0e5, 0x8ab0, 0x4e4f, 0x0, 0x1);
        gbc.writeMem(0xbe82, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xda37);
        EXPECT(gbc.pc(), 0xbe83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe82), 0xac);
        // AC 02F9
        gbc.setState(0x5e14, 0x4348, 0x8440, 0x5d2d, 0x5673, 0xaf3b, 0x0, 0x1);
        gbc.writeMem(0x5e14, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4348);
        EXPECT(gbc.pc(), 0x5e15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02FA
        gbc.setState(0x4d7, 0x559e, 0xf6f0, 0x3bf0, 0x5e2, 0x4c65, 0x0, 0x0);
        gbc.writeMem(0x4d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x559e);
        EXPECT(gbc.pc(), 0x4d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02FB
        gbc.setState(0x60a1, 0x92c8, 0xbeb0, 0xe32, 0xb583, 0x5887, 0x1, 0x0);
        gbc.writeMem(0x60a1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x92c8);
        EXPECT(gbc.pc(), 0x60a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02FD
        gbc.setState(0x4569, 0xa9f4, 0xbaf0, 0xfe09, 0xc8e4, 0xe377, 0x1, 0x0);
        gbc.writeMem(0x4569, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa9f4);
        EXPECT(gbc.pc(), 0x456a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 02FE
        gbc.setState(0xed08, 0xb7cf, 0xecc0, 0xaa17, 0x40a6, 0x337e, 0x1, 0x0);
        gbc.writeMem(0xed08, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb7cf);
        EXPECT(gbc.pc(), 0xed09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed08), 0xac);
        // AC 02FF
        gbc.setState(0x3ae0, 0x7901, 0x3de0, 0x5bef, 0xa561, 0xd77f, 0x1, 0x1);
        gbc.writeMem(0x3ae0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7901);
        EXPECT(gbc.pc(), 0x3ae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0300
        gbc.setState(0xbd2d, 0x275d, 0xe9c0, 0x6ee3, 0xc907, 0xbc7a, 0x1, 0x0);
        gbc.writeMem(0xbd2d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x275d);
        EXPECT(gbc.pc(), 0xbd2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd2d), 0xac);
        // AC 0301
        gbc.setState(0x4191, 0xb014, 0xa0e0, 0x65f7, 0x8b44, 0x1261, 0x0, 0x1);
        gbc.writeMem(0x4191, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb014);
        EXPECT(gbc.pc(), 0x4192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0302
        gbc.setState(0x4f05, 0xdbc7, 0x43e0, 0x2338, 0x87f1, 0x3793, 0x1, 0x0);
        gbc.writeMem(0x4f05, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xdbc7);
        EXPECT(gbc.pc(), 0x4f06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0303
        gbc.setState(0x106c, 0xd9ca, 0x9b70, 0x5086, 0x8c4, 0xbd18, 0x1, 0x1);
        gbc.writeMem(0x106c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd9ca);
        EXPECT(gbc.pc(), 0x106d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0304
        gbc.setState(0x811, 0x1832, 0xb520, 0x768d, 0x6ef, 0x4c92, 0x1, 0x1);
        gbc.writeMem(0x811, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1832);
        EXPECT(gbc.pc(), 0x812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0305
        gbc.setState(0x5924, 0x9487, 0x9940, 0xd876, 0x7d59, 0x17d5, 0x0, 0x0);
        gbc.writeMem(0x5924, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9487);
        EXPECT(gbc.pc(), 0x5925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0306
        gbc.setState(0x915, 0x517e, 0xaf90, 0x7626, 0x2b35, 0x4433, 0x1, 0x1);
        gbc.writeMem(0x915, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x517e);
        EXPECT(gbc.pc(), 0x916);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0307
        gbc.setState(0xa9ed, 0xb4c4, 0xf8a0, 0x1d28, 0x7acf, 0xa96d, 0x0, 0x0);
        gbc.writeMem(0xa9ed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb4c4);
        EXPECT(gbc.pc(), 0xa9ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ed), 0xac);
        // AC 0308
        gbc.setState(0x2ca7, 0x846, 0xe000, 0x49fa, 0xf550, 0x73d7, 0x0, 0x0);
        gbc.writeMem(0x2ca7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x846);
        EXPECT(gbc.pc(), 0x2ca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0309
        gbc.setState(0x8754, 0xda66, 0x3010, 0xcfe1, 0x2ce1, 0xc1d4, 0x1, 0x1);
        gbc.writeMem(0x8754, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xda66);
        EXPECT(gbc.pc(), 0x8755);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8754), 0xac);
        // AC 030A
        gbc.setState(0x4d5a, 0x2d8e, 0x8c20, 0x5411, 0xb199, 0x13c7, 0x0, 0x1);
        gbc.writeMem(0x4d5a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2d8e);
        EXPECT(gbc.pc(), 0x4d5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 030B
        gbc.setState(0x3e5a, 0xe836, 0x8ec0, 0x98ea, 0x334a, 0x1559, 0x1, 0x1);
        gbc.writeMem(0x3e5a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe836);
        EXPECT(gbc.pc(), 0x3e5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 030C
        gbc.setState(0x3322, 0xb553, 0xf910, 0xc34e, 0x3de0, 0xd5f5, 0x0, 0x1);
        gbc.writeMem(0x3322, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb553);
        EXPECT(gbc.pc(), 0x3323);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 030D
        gbc.setState(0x5d8a, 0x5834, 0x9df0, 0x15c3, 0x8fac, 0x23ad, 0x0, 0x1);
        gbc.writeMem(0x5d8a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5834);
        EXPECT(gbc.pc(), 0x5d8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 030E
        gbc.setState(0x8ee7, 0x6d34, 0x3120, 0x47e1, 0x2a91, 0x12d4, 0x1, 0x0);
        gbc.writeMem(0x8ee7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6d34);
        EXPECT(gbc.pc(), 0x8ee8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ee7), 0xac);
        // AC 030F
        gbc.setState(0x88a4, 0x9546, 0xe380, 0x4363, 0x6a30, 0xfa59, 0x0, 0x0);
        gbc.writeMem(0x88a4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9546);
        EXPECT(gbc.pc(), 0x88a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a4), 0xac);
        // AC 0310
        gbc.setState(0x4b4, 0x5b24, 0x7580, 0xc2fa, 0x822, 0x2fca, 0x1, 0x1);
        gbc.writeMem(0x4b4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x5b24);
        EXPECT(gbc.pc(), 0x4b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0311
        gbc.setState(0x266a, 0x2fe4, 0xe1c0, 0x9465, 0x6f41, 0x74e3, 0x0, 0x1);
        gbc.writeMem(0x266a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2fe4);
        EXPECT(gbc.pc(), 0x266b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0312
        gbc.setState(0xe0a7, 0x2e42, 0x5330, 0xa2a5, 0x9972, 0x7263, 0x1, 0x0);
        gbc.writeMem(0xe0a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2e42);
        EXPECT(gbc.pc(), 0xe0a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a7), 0xac);
        // AC 0313
        gbc.setState(0xc6cb, 0xa5e0, 0x4760, 0x6aa4, 0xe7aa, 0x380f, 0x1, 0x0);
        gbc.writeMem(0xc6cb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa5e0);
        EXPECT(gbc.pc(), 0xc6cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6cb), 0xac);
        // AC 0314
        gbc.setState(0xd4e8, 0x5958, 0xc10, 0x418e, 0x1f08, 0xede, 0x0, 0x1);
        gbc.writeMem(0xd4e8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5958);
        EXPECT(gbc.pc(), 0xd4e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e8), 0xac);
        // AC 0315
        gbc.setState(0xa4af, 0x957, 0xb170, 0xabda, 0x4b6e, 0x86ce, 0x0, 0x0);
        gbc.writeMem(0xa4af, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x957);
        EXPECT(gbc.pc(), 0xa4b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4af), 0xac);
        // AC 0316
        gbc.setState(0xd6a9, 0x5caf, 0x9450, 0xb702, 0x63b3, 0x2eda, 0x0, 0x0);
        gbc.writeMem(0xd6a9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5caf);
        EXPECT(gbc.pc(), 0xd6aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6a9), 0xac);
        // AC 0317
        gbc.setState(0xe24c, 0xacb4, 0xe440, 0x72c8, 0xfe09, 0x54f7, 0x1, 0x0);
        gbc.writeMem(0xe24c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xacb4);
        EXPECT(gbc.pc(), 0xe24d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe24c), 0xac);
        // AC 0318
        gbc.setState(0xc585, 0x1524, 0xc9c0, 0x546f, 0x3523, 0xbba4, 0x0, 0x1);
        gbc.writeMem(0xc585, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1524);
        EXPECT(gbc.pc(), 0xc586);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc585), 0xac);
        // AC 0319
        gbc.setState(0x2f9b, 0x48c3, 0x1200, 0x74a8, 0x9835, 0xfde7, 0x1, 0x1);
        gbc.writeMem(0x2f9b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x48c3);
        EXPECT(gbc.pc(), 0x2f9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 031A
        gbc.setState(0x141e, 0x7e0e, 0xbd20, 0x9590, 0x6267, 0xe89, 0x1, 0x0);
        gbc.writeMem(0x141e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x7e0e);
        EXPECT(gbc.pc(), 0x141f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 031B
        gbc.setState(0xb54, 0x983e, 0xe410, 0xc32, 0xe8e8, 0x7405, 0x0, 0x1);
        gbc.writeMem(0xb54, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x983e);
        EXPECT(gbc.pc(), 0xb55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 031C
        gbc.setState(0xe3e9, 0xf449, 0x6fb0, 0xbcfa, 0x6d35, 0x3b85, 0x0, 0x0);
        gbc.writeMem(0xe3e9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf449);
        EXPECT(gbc.pc(), 0xe3ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3e9), 0xac);
        // AC 031D
        gbc.setState(0xdde5, 0x70ea, 0x7a30, 0x1a4d, 0xc073, 0x3c89, 0x0, 0x0);
        gbc.writeMem(0xdde5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x70ea);
        EXPECT(gbc.pc(), 0xdde6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdde5), 0xac);
        // AC 031E
        gbc.setState(0xbfb, 0xddbb, 0xa930, 0x403c, 0x77a6, 0xbc1f, 0x1, 0x1);
        gbc.writeMem(0xbfb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xddbb);
        EXPECT(gbc.pc(), 0xbfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 031F
        gbc.setState(0xba17, 0x96f1, 0xd190, 0x6154, 0xee4d, 0xb9cb, 0x1, 0x1);
        gbc.writeMem(0xba17, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x96f1);
        EXPECT(gbc.pc(), 0xba18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba17), 0xac);
        // AC 0320
        gbc.setState(0xcea5, 0x3ae3, 0xf4f0, 0x24c9, 0x6fd0, 0x9364, 0x0, 0x1);
        gbc.writeMem(0xcea5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3ae3);
        EXPECT(gbc.pc(), 0xcea6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcea5), 0xac);
        // AC 0321
        gbc.setState(0x3c03, 0x6c4, 0x78b0, 0xde94, 0xdf7a, 0x8338, 0x0, 0x0);
        gbc.writeMem(0x3c03, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x6c4);
        EXPECT(gbc.pc(), 0x3c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0322
        gbc.setState(0xe687, 0xe012, 0xb4e0, 0x59af, 0x1c21, 0x3557, 0x1, 0x0);
        gbc.writeMem(0xe687, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe012);
        EXPECT(gbc.pc(), 0xe688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe687), 0xac);
        // AC 0323
        gbc.setState(0xdf31, 0x8a26, 0x6280, 0x8fea, 0x3a99, 0xb88b, 0x1, 0x1);
        gbc.writeMem(0xdf31, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8a26);
        EXPECT(gbc.pc(), 0xdf32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf31), 0xac);
        // AC 0324
        gbc.setState(0xa121, 0x1a0, 0x5a0, 0x3eb8, 0x5b04, 0xed4, 0x1, 0x0);
        gbc.writeMem(0xa121, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x1a0);
        EXPECT(gbc.pc(), 0xa122);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa121), 0xac);
        // AC 0325
        gbc.setState(0xe9bf, 0x189d, 0x31b0, 0xe704, 0xc194, 0xd082, 0x1, 0x1);
        gbc.writeMem(0xe9bf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x189d);
        EXPECT(gbc.pc(), 0xe9c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9bf), 0xac);
        // AC 0326
        gbc.setState(0x4e73, 0xced0, 0x6380, 0xe10e, 0x74a8, 0x1e32, 0x1, 0x1);
        gbc.writeMem(0x4e73, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xced0);
        EXPECT(gbc.pc(), 0x4e74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0327
        gbc.setState(0x4fec, 0xdde2, 0x5330, 0xb91c, 0xca1b, 0x64ab, 0x0, 0x0);
        gbc.writeMem(0x4fec, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xdde2);
        EXPECT(gbc.pc(), 0x4fed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0328
        gbc.setState(0xae12, 0x58c8, 0x3b60, 0xab00, 0x2926, 0x4a21, 0x1, 0x1);
        gbc.writeMem(0xae12, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x58c8);
        EXPECT(gbc.pc(), 0xae13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae12), 0xac);
        // AC 0329
        gbc.setState(0x823, 0x673, 0x6bf0, 0xa0ef, 0x5b60, 0x5e4c, 0x1, 0x0);
        gbc.writeMem(0x823, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x673);
        EXPECT(gbc.pc(), 0x824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 032A
        gbc.setState(0x1cad, 0x74ee, 0x6dd0, 0xaeb1, 0x8a9b, 0xfe41, 0x0, 0x0);
        gbc.writeMem(0x1cad, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x74ee);
        EXPECT(gbc.pc(), 0x1cae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 032B
        gbc.setState(0x47d6, 0x3a1b, 0xf970, 0x848a, 0x8a11, 0x16a1, 0x0, 0x1);
        gbc.writeMem(0x47d6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x3a1b);
        EXPECT(gbc.pc(), 0x47d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 032C
        gbc.setState(0x5338, 0x33dd, 0x92a0, 0xd9d3, 0x588f, 0xf387, 0x0, 0x1);
        gbc.writeMem(0x5338, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x33dd);
        EXPECT(gbc.pc(), 0x5339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 032D
        gbc.setState(0x46a5, 0x589a, 0x27f0, 0x1874, 0xc4d3, 0x35e, 0x0, 0x0);
        gbc.writeMem(0x46a5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x589a);
        EXPECT(gbc.pc(), 0x46a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 032E
        gbc.setState(0x6358, 0x5539, 0x1b80, 0x6c16, 0xdf6f, 0x374, 0x0, 0x0);
        gbc.writeMem(0x6358, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5539);
        EXPECT(gbc.pc(), 0x6359);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 032F
        gbc.setState(0xca6f, 0x8df4, 0x35f0, 0xd209, 0xc897, 0xb2e2, 0x0, 0x0);
        gbc.writeMem(0xca6f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8df4);
        EXPECT(gbc.pc(), 0xca70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca6f), 0xac);
        // AC 0330
        gbc.setState(0x38eb, 0x4394, 0x5030, 0xc816, 0x9eb, 0xc01c, 0x0, 0x1);
        gbc.writeMem(0x38eb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x4394);
        EXPECT(gbc.pc(), 0x38ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0331
        gbc.setState(0xc24, 0x2606, 0xda60, 0x5a19, 0x8f0d, 0x6c02, 0x0, 0x1);
        gbc.writeMem(0xc24, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x2606);
        EXPECT(gbc.pc(), 0xc25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0332
        gbc.setState(0xb641, 0x49ff, 0xce40, 0x5b3b, 0x8da1, 0xf98a, 0x1, 0x0);
        gbc.writeMem(0xb641, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x49ff);
        EXPECT(gbc.pc(), 0xb642);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb641), 0xac);
        // AC 0334
        gbc.setState(0x733, 0x271a, 0xf3a0, 0xd800, 0x6b7f, 0xc9a, 0x1, 0x1);
        gbc.writeMem(0x733, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x271a);
        EXPECT(gbc.pc(), 0x734);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0335
        gbc.setState(0x2f55, 0xc975, 0xd110, 0xf25c, 0x9865, 0x6589, 0x0, 0x0);
        gbc.writeMem(0x2f55, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc975);
        EXPECT(gbc.pc(), 0x2f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0336
        gbc.setState(0x8675, 0xd8f5, 0x4f30, 0x2634, 0x94f2, 0x104a, 0x1, 0x1);
        gbc.writeMem(0x8675, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd8f5);
        EXPECT(gbc.pc(), 0x8676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8675), 0xac);
        // AC 0337
        gbc.setState(0xd174, 0xbe79, 0x9670, 0x2196, 0xa29b, 0x274d, 0x0, 0x0);
        gbc.writeMem(0xd174, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbe79);
        EXPECT(gbc.pc(), 0xd175);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd174), 0xac);
        // AC 0338
        gbc.setState(0x288c, 0x5867, 0x3800, 0xb74, 0xaee7, 0x4ec8, 0x1, 0x0);
        gbc.writeMem(0x288c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5867);
        EXPECT(gbc.pc(), 0x288d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0339
        gbc.setState(0x37e, 0x31fa, 0x5d10, 0x4758, 0x8388, 0x827d, 0x1, 0x1);
        gbc.writeMem(0x37e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x31fa);
        EXPECT(gbc.pc(), 0x37f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 033A
        gbc.setState(0xba7c, 0xd97a, 0x9d10, 0xcf91, 0x4333, 0xe102, 0x1, 0x0);
        gbc.writeMem(0xba7c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd97a);
        EXPECT(gbc.pc(), 0xba7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba7c), 0xac);
        // AC 033B
        gbc.setState(0x8111, 0x3db4, 0x6d40, 0x3f63, 0x6b37, 0x6203, 0x1, 0x0);
        gbc.writeMem(0x8111, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3db4);
        EXPECT(gbc.pc(), 0x8112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8111), 0xac);
        // AC 033C
        gbc.setState(0xfe, 0xc1c7, 0xd770, 0x8b0b, 0x596d, 0xa6a1, 0x0, 0x0);
        gbc.writeMem(0xfe, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc1c7);
        EXPECT(gbc.pc(), 0xff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 033D
        gbc.setState(0xa199, 0xfa24, 0xee20, 0x463b, 0x1f3d, 0x3df7, 0x0, 0x0);
        gbc.writeMem(0xa199, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xfa24);
        EXPECT(gbc.pc(), 0xa19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa199), 0xac);
        // AC 033E
        gbc.setState(0x9ffd, 0xb298, 0x7a0, 0x896d, 0x88e6, 0x6b51, 0x0, 0x1);
        gbc.writeMem(0x9ffd, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xb298);
        EXPECT(gbc.pc(), 0x9ffe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ffd), 0xac);
        // AC 033F
        gbc.setState(0x8c9c, 0x2548, 0x5040, 0x9cab, 0x16ae, 0x7027, 0x1, 0x0);
        gbc.writeMem(0x8c9c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2548);
        EXPECT(gbc.pc(), 0x8c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c9c), 0xac);
        // AC 0341
        gbc.setState(0xdba, 0x8e30, 0x7c90, 0x644d, 0xc1af, 0x462a, 0x0, 0x0);
        gbc.writeMem(0xdba, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x8e30);
        EXPECT(gbc.pc(), 0xdbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0342
        gbc.setState(0xa772, 0x52f1, 0x2120, 0x2907, 0x65d5, 0xdd2b, 0x1, 0x1);
        gbc.writeMem(0xa772, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x52f1);
        EXPECT(gbc.pc(), 0xa773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa772), 0xac);
        // AC 0343
        gbc.setState(0x593, 0xbaa2, 0x9450, 0xd2d1, 0x310b, 0x5740, 0x0, 0x1);
        gbc.writeMem(0x593, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbaa2);
        EXPECT(gbc.pc(), 0x594);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0344
        gbc.setState(0x9b57, 0xfeb9, 0x9680, 0x4ac2, 0xdcc2, 0x1a37, 0x0, 0x0);
        gbc.writeMem(0x9b57, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfeb9);
        EXPECT(gbc.pc(), 0x9b58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b57), 0xac);
        // AC 0345
        gbc.setState(0xbd33, 0x27bb, 0xfb70, 0xb433, 0x7742, 0xcb08, 0x1, 0x0);
        gbc.writeMem(0xbd33, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x27bb);
        EXPECT(gbc.pc(), 0xbd34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd33), 0xac);
        // AC 0346
        gbc.setState(0x22cc, 0xba39, 0x5210, 0x7e22, 0x2791, 0x6006, 0x0, 0x1);
        gbc.writeMem(0x22cc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xba39);
        EXPECT(gbc.pc(), 0x22cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0347
        gbc.setState(0xb892, 0x85e5, 0x77b0, 0xc2ff, 0x7aab, 0xe78e, 0x0, 0x1);
        gbc.writeMem(0xb892, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x85e5);
        EXPECT(gbc.pc(), 0xb893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb892), 0xac);
        // AC 0348
        gbc.setState(0x81d0, 0x2ded, 0xb240, 0xa6a1, 0xcc40, 0x9fdf, 0x1, 0x1);
        gbc.writeMem(0x81d0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x2ded);
        EXPECT(gbc.pc(), 0x81d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d0), 0xac);
        // AC 0349
        gbc.setState(0xbd48, 0x87e3, 0x40c0, 0x8369, 0x6c3f, 0xfce7, 0x0, 0x0);
        gbc.writeMem(0xbd48, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x87e3);
        EXPECT(gbc.pc(), 0xbd49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd48), 0xac);
        // AC 034A
        gbc.setState(0x82, 0x981b, 0x55e0, 0xc86a, 0x615b, 0xb2c0, 0x1, 0x1);
        gbc.writeMem(0x82, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x981b);
        EXPECT(gbc.pc(), 0x83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 034B
        gbc.setState(0xe644, 0xbfab, 0x6e70, 0x9c72, 0x1f23, 0xd193, 0x1, 0x0);
        gbc.writeMem(0xe644, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xbfab);
        EXPECT(gbc.pc(), 0xe645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe644), 0xac);
        // AC 034C
        gbc.setState(0x143b, 0x8f67, 0x9140, 0x5b72, 0xfb2a, 0x4733, 0x0, 0x0);
        gbc.writeMem(0x143b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8f67);
        EXPECT(gbc.pc(), 0x143c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 034D
        gbc.setState(0x5453, 0xd9af, 0x7280, 0xe829, 0xb735, 0xfa0c, 0x0, 0x0);
        gbc.writeMem(0x5453, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd9af);
        EXPECT(gbc.pc(), 0x5454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 034E
        gbc.setState(0x4a70, 0x608, 0x960, 0xf2f0, 0xcef9, 0xf131, 0x0, 0x0);
        gbc.writeMem(0x4a70, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x608);
        EXPECT(gbc.pc(), 0x4a71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 034F
        gbc.setState(0x1f6e, 0x7562, 0xf5e0, 0xbca0, 0x96f6, 0x6dd6, 0x0, 0x0);
        gbc.writeMem(0x1f6e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7562);
        EXPECT(gbc.pc(), 0x1f6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0350
        gbc.setState(0x5e51, 0xb445, 0x4880, 0xa1e7, 0x8574, 0x3053, 0x1, 0x0);
        gbc.writeMem(0x5e51, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb445);
        EXPECT(gbc.pc(), 0x5e52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0351
        gbc.setState(0x9, 0xe270, 0x5b90, 0x9009, 0x7513, 0xe230, 0x1, 0x1);
        gbc.writeMem(0x9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe270);
        EXPECT(gbc.pc(), 0xa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0352
        gbc.setState(0x1122, 0x832f, 0xd590, 0x4d97, 0xd86f, 0x2fa8, 0x1, 0x0);
        gbc.writeMem(0x1122, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x832f);
        EXPECT(gbc.pc(), 0x1123);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0353
        gbc.setState(0x69d0, 0xe9c7, 0xdf50, 0x39d0, 0xa3f5, 0xf2c5, 0x1, 0x0);
        gbc.writeMem(0x69d0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe9c7);
        EXPECT(gbc.pc(), 0x69d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0354
        gbc.setState(0x62b1, 0xb3f3, 0x6a80, 0x91f5, 0xf07d, 0xf663, 0x0, 0x1);
        gbc.writeMem(0x62b1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb3f3);
        EXPECT(gbc.pc(), 0x62b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0356
        gbc.setState(0xc32b, 0xb41c, 0x6960, 0x9af5, 0x3988, 0xbe84, 0x0, 0x0);
        gbc.writeMem(0xc32b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb41c);
        EXPECT(gbc.pc(), 0xc32c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc32b), 0xac);
        // AC 0357
        gbc.setState(0x66a7, 0x9a6b, 0x73b0, 0x36d2, 0xacd0, 0x39a7, 0x0, 0x1);
        gbc.writeMem(0x66a7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9a6b);
        EXPECT(gbc.pc(), 0x66a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0358
        gbc.setState(0x66f3, 0xb573, 0x2290, 0x6601, 0x6827, 0xfbe4, 0x0, 0x1);
        gbc.writeMem(0x66f3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb573);
        EXPECT(gbc.pc(), 0x66f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0359
        gbc.setState(0x471, 0xac6, 0x4140, 0xaec6, 0x7efa, 0x6b2e, 0x0, 0x1);
        gbc.writeMem(0x471, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xac6);
        EXPECT(gbc.pc(), 0x472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 035A
        gbc.setState(0x23ef, 0xa8af, 0x7630, 0x16b9, 0xcde1, 0x5960, 0x0, 0x0);
        gbc.writeMem(0x23ef, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa8af);
        EXPECT(gbc.pc(), 0x23f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 035B
        gbc.setState(0x4762, 0x7a31, 0x6f40, 0xe4f0, 0x34a6, 0x65ff, 0x1, 0x0);
        gbc.writeMem(0x4762, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7a31);
        EXPECT(gbc.pc(), 0x4763);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 035C
        gbc.setState(0x5823, 0x9e03, 0xb5c0, 0x1b94, 0x42ff, 0x6ecb, 0x0, 0x1);
        gbc.writeMem(0x5823, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9e03);
        EXPECT(gbc.pc(), 0x5824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 035D
        gbc.setState(0xa2bf, 0x66b, 0x3060, 0xc2a1, 0x3823, 0x699a, 0x0, 0x1);
        gbc.writeMem(0xa2bf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x66b);
        EXPECT(gbc.pc(), 0xa2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2bf), 0xac);
        // AC 035E
        gbc.setState(0x6e13, 0xfb19, 0xf8a0, 0x1f0a, 0x7c6a, 0x85ec, 0x0, 0x1);
        gbc.writeMem(0x6e13, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xfb19);
        EXPECT(gbc.pc(), 0x6e14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0360
        gbc.setState(0xd2c, 0x2796, 0x6f0, 0x8ca6, 0x5223, 0x23cc, 0x1, 0x0);
        gbc.writeMem(0xd2c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x2796);
        EXPECT(gbc.pc(), 0xd2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0361
        gbc.setState(0x9944, 0xfd6d, 0x4d40, 0x33a3, 0xbde, 0x4a20, 0x1, 0x0);
        gbc.writeMem(0x9944, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xfd6d);
        EXPECT(gbc.pc(), 0x9945);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9944), 0xac);
        // AC 0362
        gbc.setState(0x1491, 0x7633, 0x5c60, 0x7466, 0xdd4c, 0x7f84, 0x1, 0x0);
        gbc.writeMem(0x1491, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7633);
        EXPECT(gbc.pc(), 0x1492);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0363
        gbc.setState(0xba2c, 0x8981, 0x7f0, 0xebfc, 0x8079, 0x38eb, 0x0, 0x0);
        gbc.writeMem(0xba2c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8981);
        EXPECT(gbc.pc(), 0xba2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba2c), 0xac);
        // AC 0364
        gbc.setState(0x83f5, 0x55f4, 0xa520, 0xf77f, 0x5469, 0x722f, 0x1, 0x1);
        gbc.writeMem(0x83f5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x55f4);
        EXPECT(gbc.pc(), 0x83f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83f5), 0xac);
        // AC 0365
        gbc.setState(0x1793, 0x151f, 0xe7d0, 0xcc4e, 0x3644, 0xefcc, 0x1, 0x1);
        gbc.writeMem(0x1793, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x151f);
        EXPECT(gbc.pc(), 0x1794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0366
        gbc.setState(0x189a, 0xbc7b, 0xa310, 0xe273, 0xc715, 0x812b, 0x0, 0x0);
        gbc.writeMem(0x189a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xbc7b);
        EXPECT(gbc.pc(), 0x189b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0367
        gbc.setState(0x65c3, 0x5f2d, 0x920, 0x99f7, 0x2a0f, 0x9fa7, 0x0, 0x0);
        gbc.writeMem(0x65c3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x5f2d);
        EXPECT(gbc.pc(), 0x65c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 036A
        gbc.setState(0x9ec3, 0x65e7, 0x6660, 0x5ad4, 0xe9c8, 0xe90f, 0x1, 0x0);
        gbc.writeMem(0x9ec3, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x65e7);
        EXPECT(gbc.pc(), 0x9ec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec3), 0xac);
        // AC 036B
        gbc.setState(0x7bf5, 0xe7f5, 0xf1e0, 0x8126, 0xa3c9, 0xc284, 0x1, 0x0);
        gbc.writeMem(0x7bf5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe7f5);
        EXPECT(gbc.pc(), 0x7bf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 036C
        gbc.setState(0x85bc, 0xb777, 0x9170, 0x3111, 0x48ea, 0x923b, 0x1, 0x1);
        gbc.writeMem(0x85bc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb777);
        EXPECT(gbc.pc(), 0x85bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85bc), 0xac);
        // AC 036D
        gbc.setState(0x1290, 0x502e, 0x7c40, 0xfb52, 0x1a3b, 0x2c7d, 0x1, 0x0);
        gbc.writeMem(0x1290, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x502e);
        EXPECT(gbc.pc(), 0x1291);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 036E
        gbc.setState(0x4ded, 0x604a, 0xb610, 0x59df, 0xc793, 0xbc16, 0x1, 0x0);
        gbc.writeMem(0x4ded, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x604a);
        EXPECT(gbc.pc(), 0x4dee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 036F
        gbc.setState(0x9b8, 0x6903, 0xf7a0, 0x7dc, 0x43e2, 0x91ab, 0x1, 0x1);
        gbc.writeMem(0x9b8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x6903);
        EXPECT(gbc.pc(), 0x9b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0370
        gbc.setState(0xaa36, 0xabf9, 0xd050, 0x977b, 0x1b2d, 0x3d09, 0x0, 0x1);
        gbc.writeMem(0xaa36, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xabf9);
        EXPECT(gbc.pc(), 0xaa37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa36), 0xac);
        // AC 0371
        gbc.setState(0xc2, 0x1e42, 0x5e0, 0xee6e, 0x487a, 0x6734, 0x0, 0x1);
        gbc.writeMem(0xc2, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1e42);
        EXPECT(gbc.pc(), 0xc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0372
        gbc.setState(0x6fa6, 0xacc, 0x2610, 0x85e8, 0x65f6, 0xeb1f, 0x0, 0x0);
        gbc.writeMem(0x6fa6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xacc);
        EXPECT(gbc.pc(), 0x6fa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0373
        gbc.setState(0xd15d, 0xea28, 0xb500, 0xa25e, 0xc79c, 0xb156, 0x0, 0x0);
        gbc.writeMem(0xd15d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xea28);
        EXPECT(gbc.pc(), 0xd15e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd15d), 0xac);
        // AC 0374
        gbc.setState(0x2c4, 0xce70, 0x6d80, 0x527d, 0x9d89, 0xd670, 0x1, 0x0);
        gbc.writeMem(0x2c4, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xce70);
        EXPECT(gbc.pc(), 0x2c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0375
        gbc.setState(0x4094, 0x32e8, 0xcfd0, 0xefdd, 0x9b, 0x9ba1, 0x0, 0x1);
        gbc.writeMem(0x4094, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x32e8);
        EXPECT(gbc.pc(), 0x4095);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0376
        gbc.setState(0x8087, 0xf0ba, 0x2c20, 0x2cde, 0x481f, 0x3b5c, 0x0, 0x0);
        gbc.writeMem(0x8087, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf0ba);
        EXPECT(gbc.pc(), 0x8088);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8087), 0xac);
        // AC 0377
        gbc.setState(0xb9d7, 0x14ba, 0xdcc0, 0x80de, 0xde97, 0x4254, 0x0, 0x0);
        gbc.writeMem(0xb9d7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x14ba);
        EXPECT(gbc.pc(), 0xb9d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d7), 0xac);
        // AC 0378
        gbc.setState(0xa5b0, 0x549f, 0xf040, 0x5cc8, 0x76ad, 0x77c5, 0x1, 0x0);
        gbc.writeMem(0xa5b0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x549f);
        EXPECT(gbc.pc(), 0xa5b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5b0), 0xac);
        // AC 0379
        gbc.setState(0xe695, 0xc788, 0xffd0, 0x1c3e, 0xe59c, 0x3d86, 0x1, 0x0);
        gbc.writeMem(0xe695, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc788);
        EXPECT(gbc.pc(), 0xe696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe695), 0xac);
        // AC 037A
        gbc.setState(0x30a6, 0x287a, 0xabb0, 0xf1c8, 0x33f8, 0xe821, 0x1, 0x1);
        gbc.writeMem(0x30a6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x287a);
        EXPECT(gbc.pc(), 0x30a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 037B
        gbc.setState(0xa880, 0x3661, 0xa520, 0x9e08, 0x1610, 0x7b5d, 0x1, 0x0);
        gbc.writeMem(0xa880, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x3661);
        EXPECT(gbc.pc(), 0xa881);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa880), 0xac);
        // AC 037C
        gbc.setState(0xa209, 0xf70d, 0xdcb0, 0x1c23, 0xa311, 0xccda, 0x1, 0x1);
        gbc.writeMem(0xa209, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xf70d);
        EXPECT(gbc.pc(), 0xa20a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa209), 0xac);
        // AC 037D
        gbc.setState(0xe889, 0x2850, 0x59d0, 0x5d32, 0xad97, 0x5f93, 0x1, 0x1);
        gbc.writeMem(0xe889, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x2850);
        EXPECT(gbc.pc(), 0xe88a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe889), 0xac);
        // AC 037E
        gbc.setState(0x4dde, 0xe4db, 0x94e0, 0x92b, 0x96d8, 0x2d94, 0x1, 0x0);
        gbc.writeMem(0x4dde, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe4db);
        EXPECT(gbc.pc(), 0x4ddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 037F
        gbc.setState(0x4407, 0x8cb0, 0x6fc0, 0x310, 0x7d9b, 0x50f3, 0x0, 0x1);
        gbc.writeMem(0x4407, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8cb0);
        EXPECT(gbc.pc(), 0x4408);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0380
        gbc.setState(0xafb9, 0x5dfb, 0xaf20, 0xe70, 0x3787, 0x80cc, 0x0, 0x1);
        gbc.writeMem(0xafb9, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5dfb);
        EXPECT(gbc.pc(), 0xafba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb9), 0xac);
        // AC 0381
        gbc.setState(0x7d8e, 0xb365, 0xc3d0, 0x8e67, 0x17c4, 0x4e64, 0x0, 0x1);
        gbc.writeMem(0x7d8e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb365);
        EXPECT(gbc.pc(), 0x7d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0382
        gbc.setState(0x935b, 0xe1e6, 0x38a0, 0x1dac, 0x962c, 0x15ce, 0x1, 0x1);
        gbc.writeMem(0x935b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe1e6);
        EXPECT(gbc.pc(), 0x935c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x935b), 0xac);
        // AC 0383
        gbc.setState(0xb43f, 0x3e34, 0x7870, 0x91a0, 0xd1b0, 0x5b4d, 0x1, 0x1);
        gbc.writeMem(0xb43f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3e34);
        EXPECT(gbc.pc(), 0xb440);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb43f), 0xac);
        // AC 0384
        gbc.setState(0x952d, 0x1060, 0x2780, 0x6d20, 0xb01, 0x45ee, 0x1, 0x1);
        gbc.writeMem(0x952d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x1060);
        EXPECT(gbc.pc(), 0x952e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x952d), 0xac);
        // AC 0385
        gbc.setState(0x4f3a, 0xdee0, 0x3db0, 0x74e6, 0x2381, 0xcf3a, 0x1, 0x1);
        gbc.writeMem(0x4f3a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdee0);
        EXPECT(gbc.pc(), 0x4f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0388
        gbc.setState(0xbc17, 0xc8e1, 0x2920, 0xc8a8, 0x8cf3, 0x74d7, 0x1, 0x1);
        gbc.writeMem(0xbc17, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xc8e1);
        EXPECT(gbc.pc(), 0xbc18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc17), 0xac);
        // AC 0389
        gbc.setState(0x21f0, 0x24df, 0x47c0, 0x796f, 0xc37e, 0x6869, 0x1, 0x0);
        gbc.writeMem(0x21f0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x24df);
        EXPECT(gbc.pc(), 0x21f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 038A
        gbc.setState(0x9803, 0xe3e6, 0x8fe0, 0x72ff, 0x9e47, 0x4f9, 0x1, 0x1);
        gbc.writeMem(0x9803, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe3e6);
        EXPECT(gbc.pc(), 0x9804);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9803), 0xac);
        // AC 038C
        gbc.setState(0xaa13, 0x5109, 0xa5f0, 0x4f94, 0xdce6, 0x635a, 0x0, 0x1);
        gbc.writeMem(0xaa13, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5109);
        EXPECT(gbc.pc(), 0xaa14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa13), 0xac);
        // AC 038D
        gbc.setState(0xde1b, 0xcbd2, 0x3020, 0x832b, 0xb21, 0xa785, 0x0, 0x0);
        gbc.writeMem(0xde1b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xcbd2);
        EXPECT(gbc.pc(), 0xde1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde1b), 0xac);
        // AC 038E
        gbc.setState(0x694c, 0xdd4f, 0xddd0, 0x2970, 0x16a3, 0x6cc4, 0x0, 0x0);
        gbc.writeMem(0x694c, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xdd4f);
        EXPECT(gbc.pc(), 0x694d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 038F
        gbc.setState(0xc522, 0x249a, 0x9880, 0xa843, 0xf8dc, 0x26d7, 0x1, 0x0);
        gbc.writeMem(0xc522, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x249a);
        EXPECT(gbc.pc(), 0xc523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc522), 0xac);
        // AC 0390
        gbc.setState(0x127, 0x5b2, 0x97b0, 0xff2f, 0x74b0, 0x1769, 0x1, 0x0);
        gbc.writeMem(0x127, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5b2);
        EXPECT(gbc.pc(), 0x128);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0391
        gbc.setState(0x984, 0xc903, 0x2170, 0x3232, 0xc194, 0x4c84, 0x1, 0x1);
        gbc.writeMem(0x984, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc903);
        EXPECT(gbc.pc(), 0x985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0392
        gbc.setState(0xae70, 0x3fa4, 0xbf50, 0xd650, 0x7420, 0x102c, 0x1, 0x0);
        gbc.writeMem(0xae70, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3fa4);
        EXPECT(gbc.pc(), 0xae71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae70), 0xac);
        // AC 0393
        gbc.setState(0x237e, 0xe29b, 0x1da0, 0x73b3, 0xd75c, 0x7b62, 0x0, 0x0);
        gbc.writeMem(0x237e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xe29b);
        EXPECT(gbc.pc(), 0x237f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0394
        gbc.setState(0x18fa, 0xf6ec, 0xb540, 0xa2b, 0xa01c, 0x78dd, 0x1, 0x0);
        gbc.writeMem(0x18fa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xf6ec);
        EXPECT(gbc.pc(), 0x18fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0395
        gbc.setState(0x4cf0, 0x44de, 0x8040, 0xcfc7, 0x399d, 0x76da, 0x0, 0x1);
        gbc.writeMem(0x4cf0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x44de);
        EXPECT(gbc.pc(), 0x4cf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0396
        gbc.setState(0x6a0b, 0x14f0, 0xe9f0, 0xd329, 0x814e, 0x53b5, 0x0, 0x1);
        gbc.writeMem(0x6a0b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x14f0);
        EXPECT(gbc.pc(), 0x6a0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0397
        gbc.setState(0x60e1, 0x7254, 0x8fe0, 0xc44a, 0x6131, 0x726e, 0x0, 0x0);
        gbc.writeMem(0x60e1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x7254);
        EXPECT(gbc.pc(), 0x60e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0398
        gbc.setState(0x67c6, 0xf257, 0xfb00, 0xcb77, 0x6449, 0xb328, 0x0, 0x1);
        gbc.writeMem(0x67c6, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xf257);
        EXPECT(gbc.pc(), 0x67c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 0399
        gbc.setState(0xbfcc, 0xfde2, 0x7fa0, 0xcd2a, 0x2be3, 0x701a, 0x0, 0x1);
        gbc.writeMem(0xbfcc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfde2);
        EXPECT(gbc.pc(), 0xbfcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfcc), 0xac);
        // AC 039A
        gbc.setState(0x7acb, 0xc0c6, 0xb960, 0xec80, 0xd99, 0xd3a1, 0x0, 0x1);
        gbc.writeMem(0x7acb, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc0c6);
        EXPECT(gbc.pc(), 0x7acc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 039B
        gbc.setState(0x1e95, 0x9086, 0xb250, 0xddec, 0xe4ff, 0x5fda, 0x0, 0x0);
        gbc.writeMem(0x1e95, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9086);
        EXPECT(gbc.pc(), 0x1e96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 039C
        gbc.setState(0xe8f5, 0x7764, 0x6f70, 0xe93b, 0xb7bb, 0x3bcc, 0x0, 0x0);
        gbc.writeMem(0xe8f5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7764);
        EXPECT(gbc.pc(), 0xe8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8f5), 0xac);
        // AC 039D
        gbc.setState(0x29aa, 0x1bdf, 0x3d20, 0xc496, 0xff8d, 0x13fc, 0x0, 0x1);
        gbc.writeMem(0x29aa, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1bdf);
        EXPECT(gbc.pc(), 0x29ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 039E
        gbc.setState(0xe523, 0xda27, 0xcb60, 0x5ba4, 0x464, 0x4984, 0x0, 0x0);
        gbc.writeMem(0xe523, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xda27);
        EXPECT(gbc.pc(), 0xe524);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe523), 0xac);
        // AC 039F
        gbc.setState(0x8011, 0x30a9, 0x9660, 0x457d, 0xdec6, 0x20dc, 0x1, 0x1);
        gbc.writeMem(0x8011, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x30a9);
        EXPECT(gbc.pc(), 0x8012);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8011), 0xac);
        // AC 03A0
        gbc.setState(0x55b0, 0x4f69, 0xaa80, 0xf62b, 0xc45d, 0x49a8, 0x0, 0x1);
        gbc.writeMem(0x55b0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4f69);
        EXPECT(gbc.pc(), 0x55b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03A1
        gbc.setState(0x8602, 0xded4, 0x8a40, 0x7246, 0x1e68, 0x907d, 0x0, 0x0);
        gbc.writeMem(0x8602, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xded4);
        EXPECT(gbc.pc(), 0x8603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8602), 0xac);
        // AC 03A2
        gbc.setState(0x104e, 0x9eb3, 0xabd0, 0x55a2, 0xf50e, 0x83f, 0x1, 0x0);
        gbc.writeMem(0x104e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9eb3);
        EXPECT(gbc.pc(), 0x104f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03A3
        gbc.setState(0x6b6b, 0x1453, 0x76d0, 0x38df, 0x35, 0x65c0, 0x1, 0x1);
        gbc.writeMem(0x6b6b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x1453);
        EXPECT(gbc.pc(), 0x6b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03A4
        gbc.setState(0x841a, 0x3346, 0xe340, 0x902f, 0xf49f, 0xb640, 0x0, 0x1);
        gbc.writeMem(0x841a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3346);
        EXPECT(gbc.pc(), 0x841b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x841a), 0xac);
        // AC 03A5
        gbc.setState(0xbc78, 0x4ca8, 0x9550, 0xacdf, 0x84fd, 0x2af5, 0x1, 0x1);
        gbc.writeMem(0xbc78, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4ca8);
        EXPECT(gbc.pc(), 0xbc79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc78), 0xac);
        // AC 03A6
        gbc.setState(0xc796, 0x5cde, 0xdf30, 0xeff, 0xd474, 0x7d23, 0x1, 0x1);
        gbc.writeMem(0xc796, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x5cde);
        EXPECT(gbc.pc(), 0xc797);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc796), 0xac);
        // AC 03A8
        gbc.setState(0xb1a1, 0xd0fe, 0x16e0, 0x884d, 0xe2b2, 0x6545, 0x1, 0x1);
        gbc.writeMem(0xb1a1, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xd0fe);
        EXPECT(gbc.pc(), 0xb1a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1a1), 0xac);
        // AC 03A9
        gbc.setState(0x3f87, 0xc1ad, 0x9530, 0x669e, 0x4bb0, 0xbdd9, 0x1, 0x0);
        gbc.writeMem(0x3f87, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc1ad);
        EXPECT(gbc.pc(), 0x3f88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03AA
        gbc.setState(0x1c97, 0x18f9, 0xa100, 0x9712, 0xd610, 0xa6ba, 0x1, 0x0);
        gbc.writeMem(0x1c97, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x18f9);
        EXPECT(gbc.pc(), 0x1c98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03AB
        gbc.setState(0x4ace, 0xac45, 0x6230, 0xb58e, 0x4aad, 0x3f99, 0x1, 0x1);
        gbc.writeMem(0x4ace, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xac45);
        EXPECT(gbc.pc(), 0x4acf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03AC
        gbc.setState(0x6c5b, 0x3dd7, 0xb8a0, 0xc4f, 0x8dc3, 0xebc0, 0x0, 0x0);
        gbc.writeMem(0x6c5b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3dd7);
        EXPECT(gbc.pc(), 0x6c5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03AD
        gbc.setState(0xd2a0, 0x5675, 0xdfe0, 0x530d, 0x2e47, 0x7970, 0x0, 0x0);
        gbc.writeMem(0xd2a0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5675);
        EXPECT(gbc.pc(), 0xd2a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a0), 0xac);
        // AC 03AE
        gbc.setState(0x3a90, 0x13b1, 0xa1b0, 0xc59c, 0xe898, 0xc8c7, 0x0, 0x1);
        gbc.writeMem(0x3a90, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x13b1);
        EXPECT(gbc.pc(), 0x3a91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03AF
        gbc.setState(0x51ca, 0x64d1, 0x2e20, 0xcd6f, 0xc240, 0x4f5f, 0x0, 0x0);
        gbc.writeMem(0x51ca, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x64d1);
        EXPECT(gbc.pc(), 0x51cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03B0
        gbc.setState(0x875d, 0x7ac3, 0xd7f0, 0x74a2, 0xfba0, 0x602a, 0x0, 0x0);
        gbc.writeMem(0x875d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7ac3);
        EXPECT(gbc.pc(), 0x875e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x875d), 0xac);
        // AC 03B1
        gbc.setState(0x4fec, 0x3aea, 0xb8a0, 0x8c62, 0xa25c, 0x169b, 0x1, 0x0);
        gbc.writeMem(0x4fec, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3aea);
        EXPECT(gbc.pc(), 0x4fed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03B2
        gbc.setState(0xc541, 0x7955, 0xcea0, 0xe245, 0x7113, 0x9aeb, 0x0, 0x1);
        gbc.writeMem(0xc541, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7955);
        EXPECT(gbc.pc(), 0xc542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc541), 0xac);
        // AC 03B3
        gbc.setState(0x2e85, 0x4934, 0x1920, 0xcf60, 0x8711, 0x99f4, 0x1, 0x1);
        gbc.writeMem(0x2e85, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4934);
        EXPECT(gbc.pc(), 0x2e86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03B4
        gbc.setState(0x8f9a, 0x25a7, 0xc120, 0xa547, 0x295b, 0xe57d, 0x1, 0x1);
        gbc.writeMem(0x8f9a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x25a7);
        EXPECT(gbc.pc(), 0x8f9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f9a), 0xac);
        // AC 03B5
        gbc.setState(0x1b5e, 0xe4ca, 0xb4e0, 0xd3e4, 0xd50f, 0x3ba7, 0x1, 0x1);
        gbc.writeMem(0x1b5e, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe4ca);
        EXPECT(gbc.pc(), 0x1b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03B6
        gbc.setState(0xab1f, 0x7a8f, 0xbc10, 0xc1cd, 0xe2cf, 0x1a0b, 0x0, 0x0);
        gbc.writeMem(0xab1f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x7a8f);
        EXPECT(gbc.pc(), 0xab20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab1f), 0xac);
        // AC 03B7
        gbc.setState(0x7c39, 0x2664, 0xeaa0, 0xec9b, 0x2e54, 0xf63b, 0x0, 0x1);
        gbc.writeMem(0x7c39, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2664);
        EXPECT(gbc.pc(), 0x7c3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03B8
        gbc.setState(0x21f8, 0x64c4, 0xc330, 0x95c2, 0xd017, 0x54fd, 0x0, 0x1);
        gbc.writeMem(0x21f8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x64c4);
        EXPECT(gbc.pc(), 0x21f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03B9
        gbc.setState(0x769b, 0xd72e, 0xd020, 0x5e63, 0xb0, 0xf56d, 0x1, 0x1);
        gbc.writeMem(0x769b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xd72e);
        EXPECT(gbc.pc(), 0x769c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03BA
        gbc.setState(0x16b0, 0x3a02, 0x6340, 0x275f, 0xed17, 0x36f1, 0x1, 0x0);
        gbc.writeMem(0x16b0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x3a02);
        EXPECT(gbc.pc(), 0x16b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03BB
        gbc.setState(0x8d42, 0x685e, 0x7790, 0xc683, 0xfa1d, 0x5fe6, 0x1, 0x1);
        gbc.writeMem(0x8d42, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x685e);
        EXPECT(gbc.pc(), 0x8d43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d42), 0xac);
        // AC 03BC
        gbc.setState(0x590f, 0xf65, 0x92d0, 0x7e6b, 0xc2e7, 0x297c, 0x0, 0x1);
        gbc.writeMem(0x590f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf65);
        EXPECT(gbc.pc(), 0x5910);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03BD
        gbc.setState(0x80a5, 0xe5a1, 0x1f50, 0x27c8, 0xd8e6, 0x7b19, 0x1, 0x0);
        gbc.writeMem(0x80a5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe5a1);
        EXPECT(gbc.pc(), 0x80a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80a5), 0xac);
        // AC 03BE
        gbc.setState(0x96c8, 0xa972, 0x96b0, 0xc2b4, 0xbdad, 0x1d23, 0x1, 0x1);
        gbc.writeMem(0x96c8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa972);
        EXPECT(gbc.pc(), 0x96c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96c8), 0xac);
        // AC 03BF
        gbc.setState(0xa13a, 0x206e, 0xe480, 0xeca8, 0xb87, 0x352b, 0x0, 0x1);
        gbc.writeMem(0xa13a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x206e);
        EXPECT(gbc.pc(), 0xa13b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa13a), 0xac);
        // AC 03C0
        gbc.setState(0x1d1a, 0x7a5, 0x3980, 0x8bc6, 0x78e6, 0x5c2f, 0x0, 0x1);
        gbc.writeMem(0x1d1a, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7a5);
        EXPECT(gbc.pc(), 0x1d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03C1
        gbc.setState(0xa8d0, 0x524a, 0x5480, 0x3050, 0x16ab, 0x201f, 0x1, 0x0);
        gbc.writeMem(0xa8d0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x524a);
        EXPECT(gbc.pc(), 0xa8d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8d0), 0xac);
        // AC 03C2
        gbc.setState(0x3f12, 0x90c9, 0x35d0, 0x5f03, 0x840a, 0x9b56, 0x1, 0x1);
        gbc.writeMem(0x3f12, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x90c9);
        EXPECT(gbc.pc(), 0x3f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03C3
        gbc.setState(0x9743, 0xcd51, 0x5130, 0x6741, 0xd60a, 0x712d, 0x1, 0x1);
        gbc.writeMem(0x9743, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xcd51);
        EXPECT(gbc.pc(), 0x9744);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9743), 0xac);
        // AC 03C4
        gbc.setState(0x8c9b, 0x871d, 0x4de0, 0xa8bb, 0x5eba, 0x672b, 0x0, 0x1);
        gbc.writeMem(0x8c9b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x871d);
        EXPECT(gbc.pc(), 0x8c9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c9b), 0xac);
        // AC 03C5
        gbc.setState(0x8be, 0x6e33, 0xa720, 0xd5ce, 0xd23f, 0xbdb0, 0x0, 0x1);
        gbc.writeMem(0x8be, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6e33);
        EXPECT(gbc.pc(), 0x8bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03C6
        gbc.setState(0x8603, 0x661, 0x5fe0, 0x3ab8, 0x5747, 0x248d, 0x0, 0x0);
        gbc.writeMem(0x8603, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x661);
        EXPECT(gbc.pc(), 0x8604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8603), 0xac);
        // AC 03C7
        gbc.setState(0x4ca5, 0x3732, 0x2c00, 0x408c, 0x2fdb, 0x10e9, 0x0, 0x1);
        gbc.writeMem(0x4ca5, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3732);
        EXPECT(gbc.pc(), 0x4ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03C8
        gbc.setState(0x3aed, 0x8ceb, 0x71a0, 0x261f, 0x823d, 0x96f6, 0x0, 0x0);
        gbc.writeMem(0x3aed, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8ceb);
        EXPECT(gbc.pc(), 0x3aee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03CA
        gbc.setState(0x8169, 0x6719, 0x1d80, 0x4d69, 0xd0c7, 0x3be4, 0x0, 0x1);
        gbc.writeMem(0x8169, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6719);
        EXPECT(gbc.pc(), 0x816a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8169), 0xac);
        // AC 03CB
        gbc.setState(0xa3bf, 0xe062, 0x3af0, 0x2020, 0x46fb, 0x3435, 0x1, 0x0);
        gbc.writeMem(0xa3bf, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe062);
        EXPECT(gbc.pc(), 0xa3c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3bf), 0xac);
        // AC 03CC
        gbc.setState(0xa54d, 0xfdf1, 0x67a0, 0x9cbb, 0x3e96, 0x4af8, 0x0, 0x1);
        gbc.writeMem(0xa54d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xfdf1);
        EXPECT(gbc.pc(), 0xa54e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa54d), 0xac);
        // AC 03CD
        gbc.setState(0x8243, 0x51ed, 0xeae0, 0xbffb, 0x9614, 0xaff1, 0x0, 0x1);
        gbc.writeMem(0x8243, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x51ed);
        EXPECT(gbc.pc(), 0x8244);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8243), 0xac);
        // AC 03CE
        gbc.setState(0xe5fc, 0xd2dc, 0xd3e0, 0xc30a, 0x3d04, 0xd22d, 0x0, 0x0);
        gbc.writeMem(0xe5fc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd2dc);
        EXPECT(gbc.pc(), 0xe5fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5fc), 0xac);
        // AC 03CF
        gbc.setState(0x2af0, 0xd4c3, 0xd140, 0x29da, 0x2b1f, 0x6689, 0x1, 0x0);
        gbc.writeMem(0x2af0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xd4c3);
        EXPECT(gbc.pc(), 0x2af1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03D0
        gbc.setState(0xc6a8, 0x3e12, 0xeff0, 0x878b, 0x81eb, 0xc3e6, 0x0, 0x0);
        gbc.writeMem(0xc6a8, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3e12);
        EXPECT(gbc.pc(), 0xc6a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a8), 0xac);
        // AC 03D1
        gbc.setState(0xe899, 0x8362, 0xde20, 0x758d, 0xfd81, 0xf995, 0x1, 0x1);
        gbc.writeMem(0xe899, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8362);
        EXPECT(gbc.pc(), 0xe89a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe899), 0xac);
        // AC 03D2
        gbc.setState(0xe17b, 0x55e1, 0x9be0, 0x972f, 0x4dcf, 0x819d, 0x1, 0x0);
        gbc.writeMem(0xe17b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x55e1);
        EXPECT(gbc.pc(), 0xe17c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe17b), 0xac);
        // AC 03D3
        gbc.setState(0x4d11, 0x4e0b, 0xc710, 0x13e3, 0x58df, 0xb9de, 0x1, 0x1);
        gbc.writeMem(0x4d11, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x4e0b);
        EXPECT(gbc.pc(), 0x4d12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03D4
        gbc.setState(0x5765, 0xeaa, 0xa0f0, 0xe968, 0x71c4, 0xb45e, 0x0, 0x1);
        gbc.writeMem(0x5765, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xeaa);
        EXPECT(gbc.pc(), 0x5766);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03D5
        gbc.setState(0x1f18, 0x1d85, 0xe300, 0x2958, 0x7787, 0x5d8a, 0x0, 0x1);
        gbc.writeMem(0x1f18, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1d85);
        EXPECT(gbc.pc(), 0x1f19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03D6
        gbc.setState(0x970b, 0xde48, 0x3320, 0x66d8, 0x919a, 0xf25c, 0x0, 0x1);
        gbc.writeMem(0x970b, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xde48);
        EXPECT(gbc.pc(), 0x970c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x970b), 0xac);
        // AC 03D7
        gbc.setState(0x2d1d, 0x18bb, 0x88b0, 0x1fba, 0xd442, 0x33e8, 0x1, 0x0);
        gbc.writeMem(0x2d1d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x18bb);
        EXPECT(gbc.pc(), 0x2d1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03D8
        gbc.setState(0x70a0, 0xb1e2, 0xf270, 0x5b7f, 0x27a9, 0xb3d4, 0x1, 0x0);
        gbc.writeMem(0x70a0, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb1e2);
        EXPECT(gbc.pc(), 0x70a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03D9
        gbc.setState(0x129, 0xe3ff, 0xc730, 0xd020, 0xe008, 0xb04a, 0x1, 0x0);
        gbc.writeMem(0x129, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe3ff);
        EXPECT(gbc.pc(), 0x12a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03DA
        gbc.setState(0xd5dc, 0x51f, 0x4250, 0x358d, 0x86e8, 0x29fe, 0x1, 0x1);
        gbc.writeMem(0xd5dc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x51f);
        EXPECT(gbc.pc(), 0xd5dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5dc), 0xac);
        // AC 03DB
        gbc.setState(0x1fae, 0xd48d, 0x74f0, 0xbc3e, 0x299e, 0xd7c1, 0x0, 0x1);
        gbc.writeMem(0x1fae, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd48d);
        EXPECT(gbc.pc(), 0x1faf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03DC
        gbc.setState(0x7237, 0x681f, 0xe390, 0xa8ea, 0x996f, 0xd31d, 0x0, 0x1);
        gbc.writeMem(0x7237, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x681f);
        EXPECT(gbc.pc(), 0x7238);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03DD
        gbc.setState(0xeb45, 0x29a, 0xade0, 0xf1a0, 0x39e1, 0x3a47, 0x1, 0x0);
        gbc.writeMem(0xeb45, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x29a);
        EXPECT(gbc.pc(), 0xeb46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb45), 0xac);
        // AC 03DE
        gbc.setState(0xe647, 0xdac7, 0xde90, 0xcc6f, 0x55a1, 0x227f, 0x0, 0x1);
        gbc.writeMem(0xe647, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xdac7);
        EXPECT(gbc.pc(), 0xe648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe647), 0xac);
        // AC 03DF
        gbc.setState(0x981f, 0xf7f3, 0xaec0, 0x5a79, 0x8631, 0x9b26, 0x0, 0x1);
        gbc.writeMem(0x981f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf7f3);
        EXPECT(gbc.pc(), 0x9820);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x981f), 0xac);
        // AC 03E0
        gbc.setState(0x2888, 0x86dd, 0xdbb0, 0x444, 0x26ae, 0x8f4f, 0x1, 0x1);
        gbc.writeMem(0x2888, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x86dd);
        EXPECT(gbc.pc(), 0x2889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03E1
        gbc.setState(0x4931, 0x6ad1, 0xfa00, 0x4e67, 0x2b73, 0x104, 0x1, 0x0);
        gbc.writeMem(0x4931, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6ad1);
        EXPECT(gbc.pc(), 0x4932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03E2
        gbc.setState(0xc16f, 0xe3b1, 0xaf40, 0xf5a, 0xee7d, 0xeeb, 0x1, 0x0);
        gbc.writeMem(0xc16f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe3b1);
        EXPECT(gbc.pc(), 0xc170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc16f), 0xac);
        // AC 03E3
        gbc.setState(0xc72f, 0xc4f2, 0x1d60, 0x85d5, 0x67d7, 0x184f, 0x0, 0x0);
        gbc.writeMem(0xc72f, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xc4f2);
        EXPECT(gbc.pc(), 0xc730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc72f), 0xac);
        // AC 03E4
        gbc.setState(0x13b7, 0x8569, 0xada0, 0x4b71, 0x8090, 0x5a8c, 0x0, 0x0);
        gbc.writeMem(0x13b7, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8569);
        EXPECT(gbc.pc(), 0x13b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03E5
        gbc.setState(0x6b5d, 0xe3de, 0xfb90, 0xbd6f, 0xc6f5, 0xef09, 0x0, 0x1);
        gbc.writeMem(0x6b5d, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe3de);
        EXPECT(gbc.pc(), 0x6b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // AC 03E6
        gbc.setState(0xb1fc, 0xbe12, 0x56d0, 0x5f3c, 0x7d22, 0x7495, 0x0, 0x0);
        gbc.writeMem(0xb1fc, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbe12);
        EXPECT(gbc.pc(), 0xb1fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1fc), 0xac);
        // AC 03E7
        gbc.setState(0x4223, 0x2d2c, 0x4c90, 0x1ab9, 0xae70, 0x2f50, 0x0, 0x1);
        gbc.writeMem(0x4223, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2d2c);
        EXPECT(gbc.pc(), 0x4224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
