    TEST(gbcemu, opcode_ce) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CE 0000
        gbc.setState(0x8dd6, 0xfd46, 0xfbd0, 0x7910, 0x1680, 0x766f, 0x1, 0x0);
        gbc.writeMem(0x8dd6, { 0xce, 0x36 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xfd46, gbc.sp());
        EXPECT(0x8dd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8dd6));
        EXPECT(0x36, gbc.readMem(0x8dd7));
        // CE 0001
        gbc.setState(0xd798, 0x1cfe, 0xc730, 0x94ed, 0x8066, 0x4201, 0x1, 0x0);
        gbc.writeMem(0xd798, { 0xce, 0x68 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x1cfe, gbc.sp());
        EXPECT(0xd79a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd798));
        EXPECT(0x68, gbc.readMem(0xd799));
        // CE 0002
        gbc.setState(0x55be, 0x6634, 0x55b0, 0x7551, 0x4dea, 0x3ddf, 0x0, 0x1);
        gbc.writeMem(0x55be, { 0xce, 0xa8 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x6634, gbc.sp());
        EXPECT(0x55c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0003
        gbc.setState(0x2f4b, 0x5bec, 0xf80, 0xb7bf, 0xf4b6, 0x160d, 0x0, 0x0);
        gbc.writeMem(0x2f4b, { 0xce, 0xa4 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x5bec, gbc.sp());
        EXPECT(0x2f4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0004
        gbc.setState(0xb98f, 0x6168, 0x7e70, 0x7683, 0xd256, 0xb13a, 0x0, 0x1);
        gbc.writeMem(0xb98f, { 0xce, 0x79 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x6168, gbc.sp());
        EXPECT(0xb991, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb98f));
        EXPECT(0x79, gbc.readMem(0xb990));
        // CE 0005
        gbc.setState(0xb0dd, 0x3817, 0x70c0, 0x11f5, 0xae86, 0x89ff, 0x0, 0x0);
        gbc.writeMem(0xb0dd, { 0xce, 0xf0 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x3817, gbc.sp());
        EXPECT(0xb0df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb0dd));
        EXPECT(0xf0, gbc.readMem(0xb0de));
        // CE 0006
        gbc.setState(0xbcf6, 0x3779, 0xadb0, 0x9efe, 0x557b, 0x27d6, 0x1, 0x1);
        gbc.writeMem(0xbcf6, { 0xce, 0xa1 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x3779, gbc.sp());
        EXPECT(0xbcf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbcf6));
        EXPECT(0xa1, gbc.readMem(0xbcf7));
        // CE 0007
        gbc.setState(0xcd89, 0x463d, 0x1980, 0xc536, 0xeff4, 0xefd2, 0x1, 0x0);
        gbc.writeMem(0xcd89, { 0xce, 0x11 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x463d, gbc.sp());
        EXPECT(0xcd8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcd89));
        EXPECT(0x11, gbc.readMem(0xcd8a));
        // CE 0008
        gbc.setState(0x6049, 0xb3f3, 0x6050, 0x6591, 0x287c, 0xf1bf, 0x0, 0x0);
        gbc.writeMem(0x6049, { 0xce, 0xc9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xb3f3, gbc.sp());
        EXPECT(0x604b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0009
        gbc.setState(0x78f4, 0x251c, 0x8f20, 0xca8a, 0x281e, 0xc290, 0x1, 0x0);
        gbc.writeMem(0x78f4, { 0xce, 0x5 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x251c, gbc.sp());
        EXPECT(0x78f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 000A
        gbc.setState(0x1e6, 0xdeeb, 0xcbd0, 0x236f, 0x7f6f, 0xf1bd, 0x0, 0x1);
        gbc.writeMem(0x1e6, { 0xce, 0xb1 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xdeeb, gbc.sp());
        EXPECT(0x1e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 000B
        gbc.setState(0xe32c, 0xcec0, 0xeac0, 0x4337, 0x5109, 0x9a08, 0x0, 0x1);
        gbc.writeMem(0xe32c, { 0xce, 0x4 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xcec0, gbc.sp());
        EXPECT(0xe32e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe32c));
        EXPECT(0x4, gbc.readMem(0xe32d));
        // CE 000C
        gbc.setState(0x90c, 0x9fcb, 0x8920, 0xe763, 0x4536, 0xf7ab, 0x1, 0x0);
        gbc.writeMem(0x90c, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x9fcb, gbc.sp());
        EXPECT(0x90e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 000D
        gbc.setState(0xa9fd, 0x28fa, 0x4800, 0x3d45, 0xfef2, 0xadc4, 0x0, 0x1);
        gbc.writeMem(0xa9fd, { 0xce, 0x77 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x28fa, gbc.sp());
        EXPECT(0xa9ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa9fd));
        EXPECT(0x77, gbc.readMem(0xa9fe));
        // CE 000E
        gbc.setState(0x1f41, 0x1e0c, 0x7f30, 0x9d1, 0x1c50, 0x7d38, 0x0, 0x1);
        gbc.writeMem(0x1f41, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x1e0c, gbc.sp());
        EXPECT(0x1f43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 000F
        gbc.setState(0xbe98, 0xd266, 0xd730, 0x15a9, 0x8a6c, 0x80d3, 0x0, 0x1);
        gbc.writeMem(0xbe98, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xd266, gbc.sp());
        EXPECT(0xbe9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbe98));
        EXPECT(0x26, gbc.readMem(0xbe99));
        // CE 0011
        gbc.setState(0x100e, 0xb9cd, 0xb020, 0x6156, 0x476c, 0x8e0b, 0x1, 0x1);
        gbc.writeMem(0x100e, { 0xce, 0x1d });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xb9cd, gbc.sp());
        EXPECT(0x1010, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0012
        gbc.setState(0x1757, 0x372b, 0x4b70, 0xe0f6, 0xb318, 0x72d, 0x1, 0x0);
        gbc.writeMem(0x1757, { 0xce, 0x79 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x372b, gbc.sp());
        EXPECT(0x1759, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0013
        gbc.setState(0xa3f3, 0xe351, 0x9620, 0x1001, 0x8f43, 0x9233, 0x0, 0x1);
        gbc.writeMem(0xa3f3, { 0xce, 0x8 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xe351, gbc.sp());
        EXPECT(0xa3f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa3f3));
        EXPECT(0x8, gbc.readMem(0xa3f4));
        // CE 0014
        gbc.setState(0x61b, 0xe368, 0xaf40, 0xe7c, 0x64a9, 0x29a2, 0x0, 0x1);
        gbc.writeMem(0x61b, { 0xce, 0xa6 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xe368, gbc.sp());
        EXPECT(0x61d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0015
        gbc.setState(0x81d4, 0xbf5d, 0xed90, 0xc4ba, 0x255b, 0xe181, 0x0, 0x1);
        gbc.writeMem(0x81d4, { 0xce, 0x27 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xbf5d, gbc.sp());
        EXPECT(0x81d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x81d4));
        EXPECT(0x27, gbc.readMem(0x81d5));
        // CE 0016
        gbc.setState(0x34c7, 0xc0d1, 0x2e70, 0x21ff, 0xfd10, 0xcc3, 0x1, 0x0);
        gbc.writeMem(0x34c7, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xc0d1, gbc.sp());
        EXPECT(0x34c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0017
        gbc.setState(0xda06, 0x983c, 0xf110, 0x8f9a, 0xfd64, 0x4cf7, 0x1, 0x1);
        gbc.writeMem(0xda06, { 0xce, 0x49 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x983c, gbc.sp());
        EXPECT(0xda08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xda06));
        EXPECT(0x49, gbc.readMem(0xda07));
        // CE 0018
        gbc.setState(0xa456, 0xd4a1, 0xa080, 0x818b, 0x2087, 0x4e99, 0x0, 0x0);
        gbc.writeMem(0xa456, { 0xce, 0x3f });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xd4a1, gbc.sp());
        EXPECT(0xa458, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa456));
        EXPECT(0x3f, gbc.readMem(0xa457));
        // CE 0019
        gbc.setState(0x6f89, 0xfd3b, 0x8c60, 0x5e2d, 0xe608, 0xb5b8, 0x1, 0x0);
        gbc.writeMem(0x6f89, { 0xce, 0x6a });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xfd3b, gbc.sp());
        EXPECT(0x6f8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 001A
        gbc.setState(0xa7dc, 0x79ca, 0xdb40, 0xda92, 0xbf4e, 0x689d, 0x1, 0x1);
        gbc.writeMem(0xa7dc, { 0xce, 0xca });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x79ca, gbc.sp());
        EXPECT(0xa7de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa7dc));
        EXPECT(0xca, gbc.readMem(0xa7dd));
        // CE 001B
        gbc.setState(0x9f15, 0xce9, 0x9790, 0xcfa4, 0x4702, 0xbfcd, 0x0, 0x1);
        gbc.writeMem(0x9f15, { 0xce, 0x8c });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xce9, gbc.sp());
        EXPECT(0x9f17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9f15));
        EXPECT(0x8c, gbc.readMem(0x9f16));
        // CE 001C
        gbc.setState(0x977d, 0xc47b, 0x3a00, 0xd06e, 0x5e5a, 0x775f, 0x1, 0x1);
        gbc.writeMem(0x977d, { 0xce, 0x97 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xc47b, gbc.sp());
        EXPECT(0x977f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x977d));
        EXPECT(0x97, gbc.readMem(0x977e));
        // CE 001E
        gbc.setState(0x2d52, 0x902e, 0x5b70, 0xa528, 0x428e, 0x4a4e, 0x0, 0x0);
        gbc.writeMem(0x2d52, { 0xce, 0x2f });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x902e, gbc.sp());
        EXPECT(0x2d54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 001F
        gbc.setState(0xe8af, 0x686f, 0x2c60, 0x587, 0x5040, 0x481, 0x1, 0x1);
        gbc.writeMem(0xe8af, { 0xce, 0x57 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x686f, gbc.sp());
        EXPECT(0xe8b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe8af));
        EXPECT(0x57, gbc.readMem(0xe8b0));
        // CE 0020
        gbc.setState(0x137f, 0xf635, 0x8030, 0x85d3, 0xd330, 0x7dcc, 0x1, 0x0);
        gbc.writeMem(0x137f, { 0xce, 0xce });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xf635, gbc.sp());
        EXPECT(0x1381, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0021
        gbc.setState(0xd7fb, 0xd240, 0xccc0, 0x505c, 0xb277, 0xac44, 0x0, 0x1);
        gbc.writeMem(0xd7fb, { 0xce, 0xdb });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xd240, gbc.sp());
        EXPECT(0xd7fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd7fb));
        EXPECT(0xdb, gbc.readMem(0xd7fc));
        // CE 0022
        gbc.setState(0x5e80, 0x2377, 0xf8a0, 0x3a66, 0xe781, 0x1404, 0x0, 0x0);
        gbc.writeMem(0x5e80, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x2377, gbc.sp());
        EXPECT(0x5e82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0023
        gbc.setState(0xbdfe, 0xfcf9, 0x80c0, 0x3921, 0x3e01, 0x9141, 0x1, 0x1);
        gbc.writeMem(0xbdfe, { 0xce, 0xa7 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xfcf9, gbc.sp());
        EXPECT(0xbe00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbdfe));
        EXPECT(0xa7, gbc.readMem(0xbdff));
        // CE 0024
        gbc.setState(0xbec7, 0x14a0, 0x5bb0, 0x1814, 0xcb79, 0xf289, 0x0, 0x0);
        gbc.writeMem(0xbec7, { 0xce, 0x6e });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x14a0, gbc.sp());
        EXPECT(0xbec9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbec7));
        EXPECT(0x6e, gbc.readMem(0xbec8));
        // CE 0025
        gbc.setState(0xbd80, 0x17ed, 0x9530, 0xa0c3, 0xdc8c, 0x1142, 0x0, 0x0);
        gbc.writeMem(0xbd80, { 0xce, 0xe6 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x17ed, gbc.sp());
        EXPECT(0xbd82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbd80));
        EXPECT(0xe6, gbc.readMem(0xbd81));
        // CE 0026
        gbc.setState(0x5dbd, 0x807, 0xc90, 0xd756, 0x61ac, 0x99fa, 0x0, 0x0);
        gbc.writeMem(0x5dbd, { 0xce, 0x79 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x807, gbc.sp());
        EXPECT(0x5dbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0027
        gbc.setState(0x2bb5, 0x1130, 0x7f00, 0x1331, 0xb4f0, 0x9c21, 0x1, 0x1);
        gbc.writeMem(0x2bb5, { 0xce, 0x51 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1130, gbc.sp());
        EXPECT(0x2bb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0028
        gbc.setState(0x3164, 0x71e4, 0x6590, 0x476f, 0xade8, 0x52da, 0x0, 0x1);
        gbc.writeMem(0x3164, { 0xce, 0xeb });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x71e4, gbc.sp());
        EXPECT(0x3166, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0029
        gbc.setState(0x4b9b, 0x234d, 0x5370, 0x4cce, 0x94a4, 0x7fa5, 0x0, 0x0);
        gbc.writeMem(0x4b9b, { 0xce, 0xd8 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x234d, gbc.sp());
        EXPECT(0x4b9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 002A
        gbc.setState(0x621e, 0x21ce, 0xf050, 0x7464, 0xc10d, 0xdfce, 0x1, 0x0);
        gbc.writeMem(0x621e, { 0xce, 0x9a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x21ce, gbc.sp());
        EXPECT(0x6220, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 002B
        gbc.setState(0x4173, 0x6a6f, 0xeea0, 0x38b5, 0x5b7c, 0xec53, 0x1, 0x0);
        gbc.writeMem(0x4173, { 0xce, 0xe8 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x6a6f, gbc.sp());
        EXPECT(0x4175, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 002C
        gbc.setState(0xe232, 0x7ab7, 0xbd80, 0x47d2, 0xdea5, 0x1b91, 0x1, 0x1);
        gbc.writeMem(0xe232, { 0xce, 0x3c });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x7ab7, gbc.sp());
        EXPECT(0xe234, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe232));
        EXPECT(0x3c, gbc.readMem(0xe233));
        // CE 002D
        gbc.setState(0x22cf, 0xd41, 0x4690, 0x6c8c, 0x5413, 0x2332, 0x1, 0x1);
        gbc.writeMem(0x22cf, { 0xce, 0x8f });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd41, gbc.sp());
        EXPECT(0x22d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 002E
        gbc.setState(0xa9b2, 0xbe28, 0x50e0, 0x903c, 0x1d8a, 0x6ef7, 0x0, 0x1);
        gbc.writeMem(0xa9b2, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xbe28, gbc.sp());
        EXPECT(0xa9b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa9b2));
        EXPECT(0xf8, gbc.readMem(0xa9b3));
        // CE 002F
        gbc.setState(0xc162, 0x4a06, 0x9d20, 0xd150, 0x3bcd, 0xcfab, 0x0, 0x0);
        gbc.writeMem(0xc162, { 0xce, 0xaf });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x4a06, gbc.sp());
        EXPECT(0xc164, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc162));
        EXPECT(0xaf, gbc.readMem(0xc163));
        // CE 0031
        gbc.setState(0xa3ed, 0x375a, 0xfbc0, 0x1734, 0x65e0, 0x471e, 0x0, 0x0);
        gbc.writeMem(0xa3ed, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x375a, gbc.sp());
        EXPECT(0xa3ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa3ed));
        EXPECT(0x5d, gbc.readMem(0xa3ee));
        // CE 0032
        gbc.setState(0x8880, 0x27d2, 0xb290, 0xe646, 0xd5e, 0xe0a5, 0x0, 0x0);
        gbc.writeMem(0x8880, { 0xce, 0xd4 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x27d2, gbc.sp());
        EXPECT(0x8882, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8880));
        EXPECT(0xd4, gbc.readMem(0x8881));
        // CE 0033
        gbc.setState(0x2d10, 0xc8c4, 0xf4d0, 0x666b, 0xe56a, 0x9eb9, 0x1, 0x1);
        gbc.writeMem(0x2d10, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xc8c4, gbc.sp());
        EXPECT(0x2d12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0034
        gbc.setState(0xd066, 0xf41f, 0xc790, 0xa75b, 0xd71b, 0x27e9, 0x0, 0x0);
        gbc.writeMem(0xd066, { 0xce, 0x4d });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xf41f, gbc.sp());
        EXPECT(0xd068, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd066));
        EXPECT(0x4d, gbc.readMem(0xd067));
        // CE 0035
        gbc.setState(0xc30f, 0xf81a, 0xb930, 0xe94d, 0xf16c, 0xd891, 0x1, 0x0);
        gbc.writeMem(0xc30f, { 0xce, 0x21 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xf81a, gbc.sp());
        EXPECT(0xc311, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc30f));
        EXPECT(0x21, gbc.readMem(0xc310));
        // CE 0036
        gbc.setState(0xc243, 0x5c4d, 0xea50, 0x1d56, 0xffc7, 0xd21b, 0x0, 0x0);
        gbc.writeMem(0xc243, { 0xce, 0xe4 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x5c4d, gbc.sp());
        EXPECT(0xc245, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc243));
        EXPECT(0xe4, gbc.readMem(0xc244));
        // CE 0037
        gbc.setState(0x7558, 0x5589, 0xd950, 0x28ef, 0x3504, 0x551d, 0x1, 0x0);
        gbc.writeMem(0x7558, { 0xce, 0x51 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x5589, gbc.sp());
        EXPECT(0x755a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0038
        gbc.setState(0x3b9b, 0xd03d, 0x93a0, 0x7357, 0xb469, 0xcdca, 0x1, 0x1);
        gbc.writeMem(0x3b9b, { 0xce, 0x36 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xd03d, gbc.sp());
        EXPECT(0x3b9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 003A
        gbc.setState(0x54a1, 0x6809, 0xc410, 0x1b29, 0xedbf, 0x496b, 0x0, 0x1);
        gbc.writeMem(0x54a1, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x6809, gbc.sp());
        EXPECT(0x54a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 003B
        gbc.setState(0x335d, 0x58a4, 0x7160, 0x5f17, 0xd06f, 0xf673, 0x0, 0x1);
        gbc.writeMem(0x335d, { 0xce, 0x3d });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x58a4, gbc.sp());
        EXPECT(0x335f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 003C
        gbc.setState(0xd76e, 0xcc5d, 0x7f0, 0x6a2f, 0xfbe, 0xf59e, 0x0, 0x1);
        gbc.writeMem(0xd76e, { 0xce, 0x34 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xcc5d, gbc.sp());
        EXPECT(0xd770, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd76e));
        EXPECT(0x34, gbc.readMem(0xd76f));
        // CE 003E
        gbc.setState(0x3968, 0x3d5d, 0xb0c0, 0x295b, 0xde1c, 0xe361, 0x0, 0x1);
        gbc.writeMem(0x3968, { 0xce, 0xb0 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x3d5d, gbc.sp());
        EXPECT(0x396a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 003F
        gbc.setState(0x398f, 0x9413, 0xcd70, 0x95df, 0x3a82, 0xe9de, 0x0, 0x0);
        gbc.writeMem(0x398f, { 0xce, 0x97 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x9413, gbc.sp());
        EXPECT(0x3991, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0040
        gbc.setState(0x8c61, 0x28f2, 0x230, 0xcaee, 0x14a6, 0xe910, 0x1, 0x0);
        gbc.writeMem(0x8c61, { 0xce, 0x51 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x28f2, gbc.sp());
        EXPECT(0x8c63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8c61));
        EXPECT(0x51, gbc.readMem(0x8c62));
        // CE 0042
        gbc.setState(0x5f23, 0xffeb, 0xd830, 0x32b2, 0x7a60, 0x86, 0x0, 0x1);
        gbc.writeMem(0x5f23, { 0xce, 0x19 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xffeb, gbc.sp());
        EXPECT(0x5f25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0043
        gbc.setState(0xedd3, 0x5f08, 0xd830, 0xdf8f, 0x1cd5, 0x90d1, 0x1, 0x1);
        gbc.writeMem(0xedd3, { 0xce, 0x70 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x5f08, gbc.sp());
        EXPECT(0xedd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xedd3));
        EXPECT(0x70, gbc.readMem(0xedd4));
        // CE 0044
        gbc.setState(0x85a3, 0xa6a9, 0x3690, 0x164c, 0x41c4, 0x7d30, 0x0, 0x1);
        gbc.writeMem(0x85a3, { 0xce, 0x1b });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa6a9, gbc.sp());
        EXPECT(0x85a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x85a3));
        EXPECT(0x1b, gbc.readMem(0x85a4));
        // CE 0045
        gbc.setState(0x8e4a, 0xcdad, 0x5db0, 0xd63f, 0x1c50, 0xcfc, 0x0, 0x1);
        gbc.writeMem(0x8e4a, { 0xce, 0xf });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xcdad, gbc.sp());
        EXPECT(0x8e4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8e4a));
        EXPECT(0xf, gbc.readMem(0x8e4b));
        // CE 0046
        gbc.setState(0x90e9, 0x26e9, 0x2f20, 0x8e73, 0x2e01, 0x46ca, 0x0, 0x0);
        gbc.writeMem(0x90e9, { 0xce, 0x35 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x26e9, gbc.sp());
        EXPECT(0x90eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x90e9));
        EXPECT(0x35, gbc.readMem(0x90ea));
        // CE 0047
        gbc.setState(0x733f, 0x5024, 0xe680, 0xb6b, 0x28d3, 0x7a54, 0x1, 0x1);
        gbc.writeMem(0x733f, { 0xce, 0x5e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x5024, gbc.sp());
        EXPECT(0x7341, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0048
        gbc.setState(0x943b, 0x7e2e, 0x6370, 0x21e0, 0xd514, 0x7c7f, 0x0, 0x1);
        gbc.writeMem(0x943b, { 0xce, 0x88 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x7e2e, gbc.sp());
        EXPECT(0x943d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x943b));
        EXPECT(0x88, gbc.readMem(0x943c));
        // CE 0049
        gbc.setState(0xc97e, 0x97e7, 0x2cb0, 0xb8b8, 0x5787, 0xb291, 0x1, 0x0);
        gbc.writeMem(0xc97e, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x97e7, gbc.sp());
        EXPECT(0xc980, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc97e));
        EXPECT(0xbf, gbc.readMem(0xc97f));
        // CE 004A
        gbc.setState(0xdf3e, 0x414b, 0x2950, 0x8a93, 0xa25e, 0x60e2, 0x0, 0x1);
        gbc.writeMem(0xdf3e, { 0xce, 0xac });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x414b, gbc.sp());
        EXPECT(0xdf40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdf3e));
        EXPECT(0xac, gbc.readMem(0xdf3f));
        // CE 004B
        gbc.setState(0xbe9c, 0xc7b8, 0x67d0, 0x2bbf, 0x4407, 0x7ad1, 0x1, 0x0);
        gbc.writeMem(0xbe9c, { 0xce, 0x1a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xc7b8, gbc.sp());
        EXPECT(0xbe9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbe9c));
        EXPECT(0x1a, gbc.readMem(0xbe9d));
        // CE 004C
        gbc.setState(0x4d4b, 0xe128, 0xb1e0, 0x1063, 0xefa2, 0xa1c5, 0x1, 0x1);
        gbc.writeMem(0x4d4b, { 0xce, 0x9 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xe128, gbc.sp());
        EXPECT(0x4d4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 004D
        gbc.setState(0xad29, 0xc24d, 0xd0e0, 0x461b, 0xcb72, 0xa7dc, 0x0, 0x0);
        gbc.writeMem(0xad29, { 0xce, 0xca });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xc24d, gbc.sp());
        EXPECT(0xad2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xad29));
        EXPECT(0xca, gbc.readMem(0xad2a));
        // CE 004E
        gbc.setState(0x4be0, 0x5fff, 0x7e80, 0xa6a1, 0x7001, 0xd490, 0x1, 0x0);
        gbc.writeMem(0x4be0, { 0xce, 0x19 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x5fff, gbc.sp());
        EXPECT(0x4be2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 004F
        gbc.setState(0xbf26, 0x604a, 0xa50, 0xd757, 0x6456, 0xcf53, 0x0, 0x1);
        gbc.writeMem(0xbf26, { 0xce, 0xce });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x604a, gbc.sp());
        EXPECT(0xbf28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbf26));
        EXPECT(0xce, gbc.readMem(0xbf27));
        // CE 0050
        gbc.setState(0xb947, 0x8295, 0x27b0, 0xc4f0, 0xcf4a, 0x4c9b, 0x1, 0x0);
        gbc.writeMem(0xb947, { 0xce, 0xe9 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x8295, gbc.sp());
        EXPECT(0xb949, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb947));
        EXPECT(0xe9, gbc.readMem(0xb948));
        // CE 0051
        gbc.setState(0x3c2d, 0xc5ab, 0x1c80, 0xad9, 0xa85a, 0x56a1, 0x0, 0x0);
        gbc.writeMem(0x3c2d, { 0xce, 0xec });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xc5ab, gbc.sp());
        EXPECT(0x3c2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0052
        gbc.setState(0x16ec, 0xb041, 0x7e70, 0x59dc, 0x68b9, 0xa10f, 0x0, 0x0);
        gbc.writeMem(0x16ec, { 0xce, 0xbb });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xb041, gbc.sp());
        EXPECT(0x16ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0053
        gbc.setState(0xccc3, 0x64c2, 0xca60, 0x560c, 0xc01a, 0x3114, 0x0, 0x0);
        gbc.writeMem(0xccc3, { 0xce, 0x65 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x64c2, gbc.sp());
        EXPECT(0xccc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xccc3));
        EXPECT(0x65, gbc.readMem(0xccc4));
        // CE 0054
        gbc.setState(0x41b5, 0x8a84, 0xf300, 0xaca, 0x843e, 0xf140, 0x0, 0x0);
        gbc.writeMem(0x41b5, { 0xce, 0x9b });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x8a84, gbc.sp());
        EXPECT(0x41b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0055
        gbc.setState(0x804c, 0xa32a, 0xd3e0, 0xb612, 0x7455, 0x9051, 0x1, 0x0);
        gbc.writeMem(0x804c, { 0xce, 0x69 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xa32a, gbc.sp());
        EXPECT(0x804e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x804c));
        EXPECT(0x69, gbc.readMem(0x804d));
        // CE 0057
        gbc.setState(0xb58c, 0xad1f, 0xcdd0, 0xbd90, 0x8005, 0x491a, 0x0, 0x1);
        gbc.writeMem(0xb58c, { 0xce, 0x39 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xad1f, gbc.sp());
        EXPECT(0xb58e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb58c));
        EXPECT(0x39, gbc.readMem(0xb58d));
        // CE 0058
        gbc.setState(0x5ea8, 0x9d96, 0x57b0, 0xb797, 0xfb07, 0xdfe7, 0x0, 0x1);
        gbc.writeMem(0x5ea8, { 0xce, 0x2c });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x9d96, gbc.sp());
        EXPECT(0x5eaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 005A
        gbc.setState(0x9196, 0xdcd5, 0xe480, 0x3333, 0x938, 0xbf6a, 0x0, 0x0);
        gbc.writeMem(0x9196, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xdcd5, gbc.sp());
        EXPECT(0x9198, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9196));
        EXPECT(0xb4, gbc.readMem(0x9197));
        // CE 005B
        gbc.setState(0x3e54, 0x3781, 0x6cd0, 0xd023, 0xd427, 0x617, 0x1, 0x1);
        gbc.writeMem(0x3e54, { 0xce, 0x7f });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x3781, gbc.sp());
        EXPECT(0x3e56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 005C
        gbc.setState(0xb6ce, 0x3cdd, 0xf560, 0xb9aa, 0x79c9, 0x593d, 0x0, 0x1);
        gbc.writeMem(0xb6ce, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x3cdd, gbc.sp());
        EXPECT(0xb6d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb6ce));
        EXPECT(0x3a, gbc.readMem(0xb6cf));
        // CE 005D
        gbc.setState(0xa5ef, 0x5261, 0x8cf0, 0x9603, 0x6aba, 0x8d99, 0x0, 0x1);
        gbc.writeMem(0xa5ef, { 0xce, 0xeb });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x5261, gbc.sp());
        EXPECT(0xa5f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa5ef));
        EXPECT(0xeb, gbc.readMem(0xa5f0));
        // CE 005E
        gbc.setState(0xba23, 0x37c9, 0x2aa0, 0x506, 0x1abc, 0xb2f2, 0x1, 0x0);
        gbc.writeMem(0xba23, { 0xce, 0xe3 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x37c9, gbc.sp());
        EXPECT(0xba25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xba23));
        EXPECT(0xe3, gbc.readMem(0xba24));
        // CE 005F
        gbc.setState(0xe4, 0x4b10, 0xdda0, 0x1838, 0x540c, 0xb073, 0x0, 0x0);
        gbc.writeMem(0xe4, { 0xce, 0xa0 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x4b10, gbc.sp());
        EXPECT(0xe6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0060
        gbc.setState(0xc1ae, 0xad91, 0x7640, 0xfd6e, 0x2562, 0x8c04, 0x1, 0x0);
        gbc.writeMem(0xc1ae, { 0xce, 0x19 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xad91, gbc.sp());
        EXPECT(0xc1b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc1ae));
        EXPECT(0x19, gbc.readMem(0xc1af));
        // CE 0061
        gbc.setState(0xb6eb, 0x6290, 0x4000, 0x6e74, 0xee30, 0xdfa4, 0x1, 0x0);
        gbc.writeMem(0xb6eb, { 0xce, 0x54 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x6290, gbc.sp());
        EXPECT(0xb6ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb6eb));
        EXPECT(0x54, gbc.readMem(0xb6ec));
        // CE 0062
        gbc.setState(0xef57, 0xf494, 0x8f80, 0x98a8, 0xec1f, 0x1cf2, 0x0, 0x1);
        gbc.writeMem(0xef57, { 0xce, 0xe9 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xf494, gbc.sp());
        EXPECT(0xef59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xef57));
        EXPECT(0xe9, gbc.readMem(0xef58));
        // CE 0063
        gbc.setState(0x164a, 0x9b13, 0xc350, 0x1463, 0x9ff0, 0x92fd, 0x0, 0x1);
        gbc.writeMem(0x164a, { 0xce, 0x97 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x9b13, gbc.sp());
        EXPECT(0x164c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0065
        gbc.setState(0x379a, 0xa966, 0xd710, 0x6010, 0x80a2, 0x3c8b, 0x0, 0x0);
        gbc.writeMem(0x379a, { 0xce, 0x0 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xa966, gbc.sp());
        EXPECT(0x379c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0066
        gbc.setState(0x34b7, 0x1414, 0x39d0, 0xb2ac, 0x7ac4, 0xbc66, 0x1, 0x0);
        gbc.writeMem(0x34b7, { 0xce, 0x2e });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x1414, gbc.sp());
        EXPECT(0x34b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0067
        gbc.setState(0x7b22, 0xf23a, 0x1090, 0x4e22, 0x8f50, 0xe13e, 0x0, 0x1);
        gbc.writeMem(0x7b22, { 0xce, 0xdc });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xf23a, gbc.sp());
        EXPECT(0x7b24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0068
        gbc.setState(0x4190, 0x3e7, 0xc730, 0xdbe1, 0x6352, 0x3, 0x0, 0x0);
        gbc.writeMem(0x4190, { 0xce, 0x51 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x3e7, gbc.sp());
        EXPECT(0x4192, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0069
        gbc.setState(0x1ef3, 0x11e, 0xccd0, 0x8839, 0x4615, 0x4083, 0x1, 0x0);
        gbc.writeMem(0x1ef3, { 0xce, 0x53 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x11e, gbc.sp());
        EXPECT(0x1ef5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 006A
        gbc.setState(0xceb8, 0xaee7, 0xea20, 0xb122, 0x4410, 0x5b46, 0x1, 0x1);
        gbc.writeMem(0xceb8, { 0xce, 0x15 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xaee7, gbc.sp());
        EXPECT(0xceba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xceb8));
        EXPECT(0x15, gbc.readMem(0xceb9));
        // CE 006B
        gbc.setState(0xd8f3, 0xd065, 0x1490, 0x43e3, 0x760a, 0x78cf, 0x0, 0x1);
        gbc.writeMem(0xd8f3, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xd065, gbc.sp());
        EXPECT(0xd8f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd8f3));
        EXPECT(0xd9, gbc.readMem(0xd8f4));
        // CE 006C
        gbc.setState(0xeea, 0xabd3, 0x65a0, 0x9a36, 0xaa00, 0xfd6d, 0x1, 0x1);
        gbc.writeMem(0xeea, { 0xce, 0x7a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xabd3, gbc.sp());
        EXPECT(0xeec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 006D
        gbc.setState(0x464a, 0x6fd2, 0xd230, 0x7aad, 0x75e9, 0xc6ce, 0x1, 0x0);
        gbc.writeMem(0x464a, { 0xce, 0xbb });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x6fd2, gbc.sp());
        EXPECT(0x464c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 006E
        gbc.setState(0xe75, 0x102a, 0xfa0, 0x4e1d, 0xda94, 0x4a63, 0x1, 0x0);
        gbc.writeMem(0xe75, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x102a, gbc.sp());
        EXPECT(0xe77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0070
        gbc.setState(0xcac, 0x1e2e, 0xf970, 0x440d, 0x25c8, 0x8c6, 0x1, 0x0);
        gbc.writeMem(0xcac, { 0xce, 0x5f });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x1e2e, gbc.sp());
        EXPECT(0xcae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0071
        gbc.setState(0x8c71, 0xc882, 0x9150, 0x665d, 0x76f5, 0x186f, 0x0, 0x1);
        gbc.writeMem(0x8c71, { 0xce, 0xad });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xc882, gbc.sp());
        EXPECT(0x8c73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8c71));
        EXPECT(0xad, gbc.readMem(0x8c72));
        // CE 0072
        gbc.setState(0x99d0, 0xe7bb, 0x43b0, 0x43fd, 0x30ea, 0x1630, 0x1, 0x1);
        gbc.writeMem(0x99d0, { 0xce, 0x2 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe7bb, gbc.sp());
        EXPECT(0x99d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x99d0));
        EXPECT(0x2, gbc.readMem(0x99d1));
        // CE 0073
        gbc.setState(0x55b1, 0x9925, 0x8330, 0xf4e7, 0xb843, 0x53cb, 0x1, 0x1);
        gbc.writeMem(0x55b1, { 0xce, 0x81 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x9925, gbc.sp());
        EXPECT(0x55b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0074
        gbc.setState(0x6c3, 0x385e, 0xdd40, 0xb1ed, 0xe218, 0x9f3e, 0x1, 0x0);
        gbc.writeMem(0x6c3, { 0xce, 0xb8 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x385e, gbc.sp());
        EXPECT(0x6c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0075
        gbc.setState(0xd5de, 0xa9ae, 0x35f0, 0xe83d, 0xe0cd, 0x793a, 0x0, 0x1);
        gbc.writeMem(0xd5de, { 0xce, 0x42 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xa9ae, gbc.sp());
        EXPECT(0xd5e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd5de));
        EXPECT(0x42, gbc.readMem(0xd5df));
        // CE 0076
        gbc.setState(0xb586, 0x9c14, 0x2ea0, 0xe113, 0xdbe3, 0x6948, 0x1, 0x1);
        gbc.writeMem(0xb586, { 0xce, 0xa6 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9c14, gbc.sp());
        EXPECT(0xb588, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb586));
        EXPECT(0xa6, gbc.readMem(0xb587));
        // CE 0077
        gbc.setState(0x41d4, 0xee5a, 0x9580, 0x14f0, 0xe539, 0x22c7, 0x0, 0x0);
        gbc.writeMem(0x41d4, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xee5a, gbc.sp());
        EXPECT(0x41d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0078
        gbc.setState(0x622a, 0xa63e, 0xd30, 0xd966, 0x390b, 0xd57f, 0x0, 0x1);
        gbc.writeMem(0x622a, { 0xce, 0x35 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa63e, gbc.sp());
        EXPECT(0x622c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0079
        gbc.setState(0x1bfe, 0x5b6, 0xdad0, 0x2b44, 0x1ce, 0x6c65, 0x1, 0x1);
        gbc.writeMem(0x1bfe, { 0xce, 0xd7 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x5b6, gbc.sp());
        EXPECT(0x1c00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 007A
        gbc.setState(0x52bb, 0x54a7, 0x5cb0, 0x3c6a, 0x6ae2, 0xb91, 0x1, 0x0);
        gbc.writeMem(0x52bb, { 0xce, 0xd0 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x54a7, gbc.sp());
        EXPECT(0x52bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 007B
        gbc.setState(0x77ac, 0x4cc3, 0x1b30, 0xd2d0, 0xb898, 0x5310, 0x1, 0x1);
        gbc.writeMem(0x77ac, { 0xce, 0xad });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x4cc3, gbc.sp());
        EXPECT(0x77ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 007D
        gbc.setState(0x49a5, 0x46d7, 0x3310, 0x7c9b, 0x3d7f, 0x8fcb, 0x0, 0x0);
        gbc.writeMem(0x49a5, { 0xce, 0xdf });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x46d7, gbc.sp());
        EXPECT(0x49a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 007E
        gbc.setState(0x690f, 0x1e83, 0x1510, 0x7310, 0x1d30, 0x7d4e, 0x0, 0x1);
        gbc.writeMem(0x690f, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x1e83, gbc.sp());
        EXPECT(0x6911, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 007F
        gbc.setState(0x2c1e, 0x3d23, 0xb490, 0xe9ae, 0x7fcf, 0xf5dd, 0x1, 0x1);
        gbc.writeMem(0x2c1e, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x3d23, gbc.sp());
        EXPECT(0x2c20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0080
        gbc.setState(0x1a57, 0x2566, 0x6fe0, 0xbf11, 0x95f1, 0x15f9, 0x1, 0x0);
        gbc.writeMem(0x1a57, { 0xce, 0xaa });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x2566, gbc.sp());
        EXPECT(0x1a59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0081
        gbc.setState(0x36f0, 0xe109, 0x2650, 0xca51, 0x2e2c, 0xf500, 0x1, 0x1);
        gbc.writeMem(0x36f0, { 0xce, 0xc6 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xe109, gbc.sp());
        EXPECT(0x36f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0082
        gbc.setState(0xebe7, 0xe583, 0xb910, 0x689f, 0xd3ad, 0x32fb, 0x0, 0x0);
        gbc.writeMem(0xebe7, { 0xce, 0x49 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xe583, gbc.sp());
        EXPECT(0xebe9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xebe7));
        EXPECT(0x49, gbc.readMem(0xebe8));
        // CE 0083
        gbc.setState(0x4915, 0xf1f6, 0x81e0, 0xcb48, 0xbda6, 0x9deb, 0x1, 0x0);
        gbc.writeMem(0x4915, { 0xce, 0x24 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xf1f6, gbc.sp());
        EXPECT(0x4917, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0084
        gbc.setState(0x5793, 0xd40d, 0x5220, 0x6767, 0x1ce, 0x855, 0x0, 0x0);
        gbc.writeMem(0x5793, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xd40d, gbc.sp());
        EXPECT(0x5795, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0085
        gbc.setState(0x3ad5, 0x2cab, 0x8400, 0xe906, 0x87f8, 0xc325, 0x1, 0x0);
        gbc.writeMem(0x3ad5, { 0xce, 0x67 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x2cab, gbc.sp());
        EXPECT(0x3ad7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0086
        gbc.setState(0x7b02, 0xb66, 0x8b90, 0x6634, 0xd202, 0x51e7, 0x1, 0x1);
        gbc.writeMem(0x7b02, { 0xce, 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xb66, gbc.sp());
        EXPECT(0x7b04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0087
        gbc.setState(0xdc35, 0x4b84, 0xda80, 0xb83a, 0xaa9a, 0x60a, 0x0, 0x0);
        gbc.writeMem(0xdc35, { 0xce, 0xd1 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x4b84, gbc.sp());
        EXPECT(0xdc37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdc35));
        EXPECT(0xd1, gbc.readMem(0xdc36));
        // CE 0088
        gbc.setState(0xdeea, 0xe584, 0x1920, 0xc633, 0x7072, 0x99f4, 0x1, 0x0);
        gbc.writeMem(0xdeea, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe584, gbc.sp());
        EXPECT(0xdeec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdeea));
        EXPECT(0x95, gbc.readMem(0xdeeb));
        // CE 0089
        gbc.setState(0xa949, 0xbf73, 0x9e80, 0xd668, 0x78c4, 0x8db9, 0x0, 0x1);
        gbc.writeMem(0xa949, { 0xce, 0x4 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xbf73, gbc.sp());
        EXPECT(0xa94b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa949));
        EXPECT(0x4, gbc.readMem(0xa94a));
        // CE 008A
        gbc.setState(0x73a7, 0xdfde, 0xd1f0, 0x8acf, 0x6e35, 0x2d80, 0x1, 0x0);
        gbc.writeMem(0x73a7, { 0xce, 0xcd });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xdfde, gbc.sp());
        EXPECT(0x73a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 008B
        gbc.setState(0xbfd6, 0x4142, 0x52a0, 0x4181, 0x9dc, 0xbf6e, 0x1, 0x1);
        gbc.writeMem(0xbfd6, { 0xce, 0xd3 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x4142, gbc.sp());
        EXPECT(0xbfd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbfd6));
        EXPECT(0xd3, gbc.readMem(0xbfd7));
        // CE 008C
        gbc.setState(0xbeac, 0x4942, 0xaa50, 0xc4c9, 0x298a, 0xb3c9, 0x0, 0x0);
        gbc.writeMem(0xbeac, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x4942, gbc.sp());
        EXPECT(0xbeae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbeac));
        EXPECT(0x73, gbc.readMem(0xbead));
        // CE 008D
        gbc.setState(0x6d44, 0x91b7, 0x1ab0, 0xb96, 0x9c46, 0x66d3, 0x0, 0x1);
        gbc.writeMem(0x6d44, { 0xce, 0x63 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x91b7, gbc.sp());
        EXPECT(0x6d46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 008E
        gbc.setState(0x334a, 0xee41, 0x9920, 0x5b05, 0x677c, 0xb63e, 0x1, 0x0);
        gbc.writeMem(0x334a, { 0xce, 0xe3 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xee41, gbc.sp());
        EXPECT(0x334c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 008F
        gbc.setState(0x1d73, 0x8aef, 0x1ad0, 0xf583, 0xd68b, 0xab4d, 0x1, 0x1);
        gbc.writeMem(0x1d73, { 0xce, 0x98 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x8aef, gbc.sp());
        EXPECT(0x1d75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0090
        gbc.setState(0xbf26, 0xecf7, 0x89a0, 0x5409, 0x897b, 0x2501, 0x0, 0x0);
        gbc.writeMem(0xbf26, { 0xce, 0xce });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xecf7, gbc.sp());
        EXPECT(0xbf28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbf26));
        EXPECT(0xce, gbc.readMem(0xbf27));
        // CE 0091
        gbc.setState(0x8599, 0x93a9, 0x7620, 0xc863, 0x41e4, 0xc856, 0x1, 0x0);
        gbc.writeMem(0x8599, { 0xce, 0xbc });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x93a9, gbc.sp());
        EXPECT(0x859b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8599));
        EXPECT(0xbc, gbc.readMem(0x859a));
        // CE 0092
        gbc.setState(0x1132, 0x7dbe, 0xbfb0, 0xfe8a, 0x34ba, 0x576f, 0x0, 0x0);
        gbc.writeMem(0x1132, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x7dbe, gbc.sp());
        EXPECT(0x1134, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0094
        gbc.setState(0x50e3, 0x5a57, 0x4510, 0x15cc, 0x59a2, 0xeab1, 0x1, 0x1);
        gbc.writeMem(0x50e3, { 0xce, 0xe8 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x5a57, gbc.sp());
        EXPECT(0x50e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0095
        gbc.setState(0xb59b, 0x4ff0, 0x7ab0, 0xcdb, 0x175c, 0x2415, 0x1, 0x1);
        gbc.writeMem(0xb59b, { 0xce, 0x28 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x4ff0, gbc.sp());
        EXPECT(0xb59d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb59b));
        EXPECT(0x28, gbc.readMem(0xb59c));
        // CE 0096
        gbc.setState(0xd4f, 0x8c1b, 0xb40, 0x5218, 0xe3eb, 0x7489, 0x0, 0x0);
        gbc.writeMem(0xd4f, { 0xce, 0xd0 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x8c1b, gbc.sp());
        EXPECT(0xd51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0097
        gbc.setState(0x3159, 0x1e4b, 0x41e0, 0x6b36, 0x8ae9, 0x20b7, 0x1, 0x0);
        gbc.writeMem(0x3159, { 0xce, 0x94 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x1e4b, gbc.sp());
        EXPECT(0x315b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0098
        gbc.setState(0x86db, 0xf8de, 0x5ba0, 0x2088, 0xc7e5, 0xaf5c, 0x1, 0x0);
        gbc.writeMem(0x86db, { 0xce, 0x1c });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xf8de, gbc.sp());
        EXPECT(0x86dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x86db));
        EXPECT(0x1c, gbc.readMem(0x86dc));
        // CE 0099
        gbc.setState(0xcfb6, 0xa6d4, 0xe1b0, 0x31ae, 0x7722, 0x64fb, 0x0, 0x1);
        gbc.writeMem(0xcfb6, { 0xce, 0x4e });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xa6d4, gbc.sp());
        EXPECT(0xcfb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcfb6));
        EXPECT(0x4e, gbc.readMem(0xcfb7));
        // CE 009A
        gbc.setState(0x72af, 0xf82b, 0x5de0, 0xbdff, 0xe1de, 0xc2d1, 0x0, 0x1);
        gbc.writeMem(0x72af, { 0xce, 0x8 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xf82b, gbc.sp());
        EXPECT(0x72b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 009B
        gbc.setState(0x7057, 0xe4fd, 0xc7f0, 0xad0a, 0x887d, 0x598b, 0x0, 0x0);
        gbc.writeMem(0x7057, { 0xce, 0xfc });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xe4fd, gbc.sp());
        EXPECT(0x7059, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 009C
        gbc.setState(0x1513, 0xa736, 0x7c10, 0x49ac, 0x2966, 0x8c44, 0x0, 0x1);
        gbc.writeMem(0x1513, { 0xce, 0xa4 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xa736, gbc.sp());
        EXPECT(0x1515, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 009D
        gbc.setState(0xc183, 0x5203, 0x4100, 0x5db, 0x62b6, 0xdd2f, 0x0, 0x1);
        gbc.writeMem(0xc183, { 0xce, 0xe2 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x5203, gbc.sp());
        EXPECT(0xc185, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc183));
        EXPECT(0xe2, gbc.readMem(0xc184));
        // CE 009E
        gbc.setState(0x655c, 0xd834, 0xd330, 0xd9bc, 0xd3d, 0xc340, 0x1, 0x1);
        gbc.writeMem(0x655c, { 0xce, 0x75 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xd834, gbc.sp());
        EXPECT(0x655e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 009F
        gbc.setState(0xe94b, 0xd68a, 0x43b0, 0xfc44, 0x2091, 0x6a0e, 0x0, 0x1);
        gbc.writeMem(0xe94b, { 0xce, 0x68 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xd68a, gbc.sp());
        EXPECT(0xe94d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe94b));
        EXPECT(0x68, gbc.readMem(0xe94c));
        // CE 00A0
        gbc.setState(0x2357, 0x5d31, 0x7280, 0x5dd9, 0x7635, 0x3618, 0x0, 0x1);
        gbc.writeMem(0x2357, { 0xce, 0xb1 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x5d31, gbc.sp());
        EXPECT(0x2359, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00A1
        gbc.setState(0x47f3, 0x4f97, 0x23c0, 0x4d59, 0x61, 0xaf96, 0x0, 0x0);
        gbc.writeMem(0x47f3, { 0xce, 0x62 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x4f97, gbc.sp());
        EXPECT(0x47f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00A2
        gbc.setState(0xd3e0, 0xc6d2, 0xdca0, 0x81d0, 0x1454, 0xa6, 0x0, 0x1);
        gbc.writeMem(0xd3e0, { 0xce, 0xac });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xc6d2, gbc.sp());
        EXPECT(0xd3e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd3e0));
        EXPECT(0xac, gbc.readMem(0xd3e1));
        // CE 00A4
        gbc.setState(0x15c9, 0xd345, 0xa100, 0x8cd3, 0xaa3b, 0x3bf9, 0x1, 0x0);
        gbc.writeMem(0x15c9, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xd345, gbc.sp());
        EXPECT(0x15cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00A5
        gbc.setState(0xea33, 0x5ff0, 0xe760, 0x64f, 0x13b3, 0xeec4, 0x1, 0x0);
        gbc.writeMem(0xea33, { 0xce, 0x28 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x5ff0, gbc.sp());
        EXPECT(0xea35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xea33));
        EXPECT(0x28, gbc.readMem(0xea34));
        // CE 00A6
        gbc.setState(0xa988, 0x8785, 0xfc60, 0x3eec, 0xd0d8, 0x6c82, 0x0, 0x0);
        gbc.writeMem(0xa988, { 0xce, 0x90 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x8785, gbc.sp());
        EXPECT(0xa98a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa988));
        EXPECT(0x90, gbc.readMem(0xa989));
        // CE 00A7
        gbc.setState(0x3900, 0x775, 0x9960, 0x2bb3, 0xadc6, 0x94e2, 0x0, 0x0);
        gbc.writeMem(0x3900, { 0xce, 0xbb });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x775, gbc.sp());
        EXPECT(0x3902, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00A8
        gbc.setState(0xe77, 0x9ece, 0xd440, 0x5927, 0xc80d, 0x8ed9, 0x1, 0x1);
        gbc.writeMem(0xe77, { 0xce, 0x3f });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x9ece, gbc.sp());
        EXPECT(0xe79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00A9
        gbc.setState(0x3365, 0xf0a4, 0x8300, 0x2f18, 0xcc28, 0x3343, 0x0, 0x0);
        gbc.writeMem(0x3365, { 0xce, 0x46 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf0a4, gbc.sp());
        EXPECT(0x3367, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00AA
        gbc.setState(0x4556, 0x42d1, 0x3ef0, 0xa74b, 0x9bea, 0xdd48, 0x0, 0x1);
        gbc.writeMem(0x4556, { 0xce, 0x3 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x42d1, gbc.sp());
        EXPECT(0x4558, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00AB
        gbc.setState(0x9a59, 0x45cc, 0xb840, 0xd406, 0x6b72, 0xf8bf, 0x1, 0x0);
        gbc.writeMem(0x9a59, { 0xce, 0x31 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x45cc, gbc.sp());
        EXPECT(0x9a5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9a59));
        EXPECT(0x31, gbc.readMem(0x9a5a));
        // CE 00AC
        gbc.setState(0x4941, 0xc71b, 0x1ea0, 0x1713, 0x3165, 0x3fe6, 0x0, 0x0);
        gbc.writeMem(0x4941, { 0xce, 0x6d });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc71b, gbc.sp());
        EXPECT(0x4943, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00AD
        gbc.setState(0x78cf, 0x76a2, 0xca80, 0xdf9c, 0x55fa, 0x5d6b, 0x0, 0x1);
        gbc.writeMem(0x78cf, { 0xce, 0xae });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x76a2, gbc.sp());
        EXPECT(0x78d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00AE
        gbc.setState(0xdf94, 0xa7ae, 0x2670, 0xf451, 0xc2b9, 0xbc0, 0x1, 0x1);
        gbc.writeMem(0xdf94, { 0xce, 0x3e });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xa7ae, gbc.sp());
        EXPECT(0xdf96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdf94));
        EXPECT(0x3e, gbc.readMem(0xdf95));
        // CE 00AF
        gbc.setState(0xc722, 0x5795, 0x1e0, 0x8738, 0x1777, 0xf53e, 0x1, 0x1);
        gbc.writeMem(0xc722, { 0xce, 0xec });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x5795, gbc.sp());
        EXPECT(0xc724, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc722));
        EXPECT(0xec, gbc.readMem(0xc723));
        // CE 00B0
        gbc.setState(0x4a56, 0xc26d, 0xf2b0, 0x37c8, 0x5c20, 0xf8b4, 0x1, 0x1);
        gbc.writeMem(0x4a56, { 0xce, 0xab });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xc26d, gbc.sp());
        EXPECT(0x4a58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00B1
        gbc.setState(0xbeed, 0x64bc, 0x4000, 0x25af, 0x7ca4, 0x36b1, 0x0, 0x0);
        gbc.writeMem(0xbeed, { 0xce, 0x3d });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x64bc, gbc.sp());
        EXPECT(0xbeef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbeed));
        EXPECT(0x3d, gbc.readMem(0xbeee));
        // CE 00B2
        gbc.setState(0x9213, 0x46c2, 0x7a10, 0xfe6a, 0x40db, 0xc48, 0x1, 0x0);
        gbc.writeMem(0x9213, { 0xce, 0xf0 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x46c2, gbc.sp());
        EXPECT(0x9215, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9213));
        EXPECT(0xf0, gbc.readMem(0x9214));
        // CE 00B3
        gbc.setState(0xb442, 0x1915, 0xa900, 0xec50, 0x2cd5, 0x844d, 0x0, 0x0);
        gbc.writeMem(0xb442, { 0xce, 0xf });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x1915, gbc.sp());
        EXPECT(0xb444, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb442));
        EXPECT(0xf, gbc.readMem(0xb443));
        // CE 00B4
        gbc.setState(0x3157, 0xa6, 0xd960, 0xc875, 0x3bdf, 0x188a, 0x0, 0x0);
        gbc.writeMem(0x3157, { 0xce, 0xd7 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa6, gbc.sp());
        EXPECT(0x3159, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00B5
        gbc.setState(0x8c9a, 0x5191, 0x9f80, 0x6757, 0x380c, 0xf4df, 0x0, 0x1);
        gbc.writeMem(0x8c9a, { 0xce, 0x3d });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x5191, gbc.sp());
        EXPECT(0x8c9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8c9a));
        EXPECT(0x3d, gbc.readMem(0x8c9b));
        // CE 00B6
        gbc.setState(0xc10c, 0x21d, 0xbee0, 0xac54, 0xe37d, 0xc71e, 0x0, 0x0);
        gbc.writeMem(0xc10c, { 0xce, 0x39 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x21d, gbc.sp());
        EXPECT(0xc10e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc10c));
        EXPECT(0x39, gbc.readMem(0xc10d));
        // CE 00B7
        gbc.setState(0x4f4d, 0x26ca, 0x9ea0, 0x97ba, 0x8cb1, 0xafc3, 0x0, 0x1);
        gbc.writeMem(0x4f4d, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x26ca, gbc.sp());
        EXPECT(0x4f4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00B8
        gbc.setState(0x1a37, 0x8eb3, 0xe9a0, 0x8202, 0x7a47, 0x94a7, 0x0, 0x0);
        gbc.writeMem(0x1a37, { 0xce, 0x45 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x8eb3, gbc.sp());
        EXPECT(0x1a39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00B9
        gbc.setState(0x1e2, 0x38da, 0x17a0, 0xfec2, 0x9cd1, 0x3cff, 0x1, 0x1);
        gbc.writeMem(0x1e2, { 0xce, 0x53 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x38da, gbc.sp());
        EXPECT(0x1e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00BA
        gbc.setState(0x73cb, 0x9432, 0xfeb0, 0x854c, 0xf394, 0xa39b, 0x1, 0x1);
        gbc.writeMem(0x73cb, { 0xce, 0xa2 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x9432, gbc.sp());
        EXPECT(0x73cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00BB
        gbc.setState(0x717d, 0xc2dd, 0x8f0, 0xaea7, 0xe0f, 0x22df, 0x0, 0x0);
        gbc.writeMem(0x717d, { 0xce, 0xbd });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xc2dd, gbc.sp());
        EXPECT(0x717f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00BC
        gbc.setState(0x28b5, 0x3283, 0x1ab0, 0x84de, 0xf95d, 0x6c31, 0x0, 0x1);
        gbc.writeMem(0x28b5, { 0xce, 0xb7 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x3283, gbc.sp());
        EXPECT(0x28b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00BD
        gbc.setState(0x47d0, 0x2ab5, 0x35c0, 0xd0bd, 0xdfce, 0xab24, 0x0, 0x0);
        gbc.writeMem(0x47d0, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x2ab5, gbc.sp());
        EXPECT(0x47d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00BE
        gbc.setState(0x4d67, 0x1e34, 0x1cc0, 0xe5e7, 0xe075, 0x2fc5, 0x1, 0x0);
        gbc.writeMem(0x4d67, { 0xce, 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x1e34, gbc.sp());
        EXPECT(0x4d69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00BF
        gbc.setState(0xa60e, 0x91a9, 0x47d0, 0xa3dd, 0xa042, 0xf7a8, 0x0, 0x1);
        gbc.writeMem(0xa60e, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x91a9, gbc.sp());
        EXPECT(0xa610, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa60e));
        EXPECT(0xf8, gbc.readMem(0xa60f));
        // CE 00C0
        gbc.setState(0x5712, 0xacd9, 0x2250, 0x1b7c, 0xea78, 0x6d4c, 0x0, 0x1);
        gbc.writeMem(0x5712, { 0xce, 0xf3 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xacd9, gbc.sp());
        EXPECT(0x5714, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00C1
        gbc.setState(0x126c, 0xb811, 0x5d90, 0x845b, 0x8a9a, 0xa470, 0x0, 0x0);
        gbc.writeMem(0x126c, { 0xce, 0x55 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xb811, gbc.sp());
        EXPECT(0x126e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00C2
        gbc.setState(0x98d5, 0xc3fb, 0xe950, 0xbee7, 0xef52, 0x428b, 0x0, 0x1);
        gbc.writeMem(0x98d5, { 0xce, 0xc7 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xc3fb, gbc.sp());
        EXPECT(0x98d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x98d5));
        EXPECT(0xc7, gbc.readMem(0x98d6));
        // CE 00C3
        gbc.setState(0x97c5, 0x7468, 0xa280, 0x5d5f, 0xc641, 0x227b, 0x1, 0x1);
        gbc.writeMem(0x97c5, { 0xce, 0x28 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x7468, gbc.sp());
        EXPECT(0x97c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x97c5));
        EXPECT(0x28, gbc.readMem(0x97c6));
        // CE 00C4
        gbc.setState(0x1ef0, 0x3371, 0x700, 0x41fd, 0xe786, 0xed65, 0x1, 0x1);
        gbc.writeMem(0x1ef0, { 0xce, 0x8e });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x3371, gbc.sp());
        EXPECT(0x1ef2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00C5
        gbc.setState(0xb5ac, 0x2111, 0x6290, 0x7017, 0xbed6, 0x3972, 0x1, 0x1);
        gbc.writeMem(0xb5ac, { 0xce, 0x9 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x2111, gbc.sp());
        EXPECT(0xb5ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb5ac));
        EXPECT(0x9, gbc.readMem(0xb5ad));
        // CE 00C6
        gbc.setState(0xc804, 0x3d8a, 0xb860, 0xac1, 0x8746, 0xd86b, 0x1, 0x0);
        gbc.writeMem(0xc804, { 0xce, 0x40 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3d8a, gbc.sp());
        EXPECT(0xc806, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc804));
        EXPECT(0x40, gbc.readMem(0xc805));
        // CE 00C7
        gbc.setState(0x2dad, 0x9eac, 0x9800, 0xee5f, 0xf9e1, 0xb48f, 0x1, 0x0);
        gbc.writeMem(0x2dad, { 0xce, 0xdb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x9eac, gbc.sp());
        EXPECT(0x2daf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00C8
        gbc.setState(0x741b, 0x72e8, 0xe640, 0xe078, 0xfaf1, 0xbd70, 0x0, 0x1);
        gbc.writeMem(0x741b, { 0xce, 0x64 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x72e8, gbc.sp());
        EXPECT(0x741d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00C9
        gbc.setState(0x3023, 0x652f, 0x24f0, 0x87c3, 0x7931, 0x5469, 0x1, 0x1);
        gbc.writeMem(0x3023, { 0xce, 0x63 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x652f, gbc.sp());
        EXPECT(0x3025, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00CA
        gbc.setState(0x3106, 0x79ae, 0xb770, 0xec20, 0x1cd3, 0xd6df, 0x1, 0x0);
        gbc.writeMem(0x3106, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x79ae, gbc.sp());
        EXPECT(0x3108, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00CB
        gbc.setState(0x689a, 0x72ea, 0x73d0, 0xcb4d, 0xb2be, 0x40a1, 0x0, 0x0);
        gbc.writeMem(0x689a, { 0xce, 0x39 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x72ea, gbc.sp());
        EXPECT(0x689c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00CC
        gbc.setState(0xef21, 0x6451, 0xda10, 0x192f, 0xb2c5, 0x79a3, 0x0, 0x1);
        gbc.writeMem(0xef21, { 0xce, 0xa6 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x6451, gbc.sp());
        EXPECT(0xef23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xef21));
        EXPECT(0xa6, gbc.readMem(0xef22));
        // CE 00CD
        gbc.setState(0x3c2d, 0xd530, 0x4a30, 0xb7f6, 0xc242, 0xc69, 0x1, 0x0);
        gbc.writeMem(0x3c2d, { 0xce, 0xec });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xd530, gbc.sp());
        EXPECT(0x3c2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00CE
        gbc.setState(0x1ef8, 0x6323, 0x7ce0, 0x6ce4, 0x3109, 0xb676, 0x0, 0x0);
        gbc.writeMem(0x1ef8, { 0xce, 0x40 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x6323, gbc.sp());
        EXPECT(0x1efa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00CF
        gbc.setState(0xae5b, 0x89c7, 0xe770, 0xd344, 0xbaea, 0x7bf3, 0x1, 0x0);
        gbc.writeMem(0xae5b, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x89c7, gbc.sp());
        EXPECT(0xae5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xae5b));
        EXPECT(0x5d, gbc.readMem(0xae5c));
        // CE 00D0
        gbc.setState(0x9afd, 0x7f5e, 0xdd70, 0x7685, 0xf45e, 0x726b, 0x1, 0x0);
        gbc.writeMem(0x9afd, { 0xce, 0x24 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x7f5e, gbc.sp());
        EXPECT(0x9aff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9afd));
        EXPECT(0x24, gbc.readMem(0x9afe));
        // CE 00D1
        gbc.setState(0x236, 0x5bb4, 0x74a0, 0x6394, 0xcc4a, 0x801a, 0x0, 0x1);
        gbc.writeMem(0x236, { 0xce, 0x65 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x5bb4, gbc.sp());
        EXPECT(0x238, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00D2
        gbc.setState(0xaca9, 0x3294, 0xca80, 0xf5b4, 0x97c3, 0x9b7a, 0x1, 0x0);
        gbc.writeMem(0xaca9, { 0xce, 0x15 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x3294, gbc.sp());
        EXPECT(0xacab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaca9));
        EXPECT(0x15, gbc.readMem(0xacaa));
        // CE 00D4
        gbc.setState(0xceaa, 0x68f8, 0xbb0, 0xed89, 0x724f, 0xa5a, 0x0, 0x1);
        gbc.writeMem(0xceaa, { 0xce, 0xe7 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x68f8, gbc.sp());
        EXPECT(0xceac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xceaa));
        EXPECT(0xe7, gbc.readMem(0xceab));
        // CE 00D5
        gbc.setState(0x3b70, 0x9015, 0x3010, 0x35a4, 0xd988, 0x23ae, 0x1, 0x1);
        gbc.writeMem(0x3b70, { 0xce, 0x55 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x9015, gbc.sp());
        EXPECT(0x3b72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00D6
        gbc.setState(0x6ca7, 0x9912, 0x49b0, 0x334a, 0xc554, 0xe25e, 0x0, 0x0);
        gbc.writeMem(0x6ca7, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x9912, gbc.sp());
        EXPECT(0x6ca9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00D7
        gbc.setState(0xb94d, 0xab63, 0xa460, 0x2b6, 0xec4b, 0xb804, 0x1, 0x1);
        gbc.writeMem(0xb94d, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xab63, gbc.sp());
        EXPECT(0xb94f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb94d));
        EXPECT(0xba, gbc.readMem(0xb94e));
        // CE 00D9
        gbc.setState(0x81f4, 0x61cb, 0x4860, 0x9215, 0xe569, 0xfba4, 0x0, 0x1);
        gbc.writeMem(0x81f4, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x61cb, gbc.sp());
        EXPECT(0x81f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x81f4));
        EXPECT(0x18, gbc.readMem(0x81f5));
        // CE 00DB
        gbc.setState(0xd955, 0xa211, 0x19b0, 0x804f, 0x4ae5, 0x5af4, 0x1, 0x1);
        gbc.writeMem(0xd955, { 0xce, 0xdc });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xa211, gbc.sp());
        EXPECT(0xd957, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd955));
        EXPECT(0xdc, gbc.readMem(0xd956));
        // CE 00DC
        gbc.setState(0xa6d9, 0xcf8a, 0x2170, 0x5d, 0xbbdb, 0x68f5, 0x0, 0x0);
        gbc.writeMem(0xa6d9, { 0xce, 0x9 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xcf8a, gbc.sp());
        EXPECT(0xa6db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa6d9));
        EXPECT(0x9, gbc.readMem(0xa6da));
        // CE 00DD
        gbc.setState(0x1dcf, 0xaa34, 0x48d0, 0x222, 0xce94, 0xbcde, 0x1, 0x0);
        gbc.writeMem(0x1dcf, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xaa34, gbc.sp());
        EXPECT(0x1dd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00DE
        gbc.setState(0x9ad2, 0x76fc, 0x8c50, 0xb80a, 0xaa8a, 0xd8b9, 0x1, 0x1);
        gbc.writeMem(0x9ad2, { 0xce, 0x74 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x76fc, gbc.sp());
        EXPECT(0x9ad4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9ad2));
        EXPECT(0x74, gbc.readMem(0x9ad3));
        // CE 00DF
        gbc.setState(0xd04a, 0x543a, 0xede0, 0xb54b, 0xc5f7, 0x4714, 0x0, 0x1);
        gbc.writeMem(0xd04a, { 0xce, 0x6c });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x543a, gbc.sp());
        EXPECT(0xd04c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd04a));
        EXPECT(0x6c, gbc.readMem(0xd04b));
        // CE 00E0
        gbc.setState(0x4249, 0x9fd7, 0xac00, 0x7565, 0x7183, 0x9b72, 0x1, 0x0);
        gbc.writeMem(0x4249, { 0xce, 0xef });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x9fd7, gbc.sp());
        EXPECT(0x424b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00E1
        gbc.setState(0xcc3b, 0x9cb3, 0x8700, 0x8efe, 0x8830, 0x89f, 0x0, 0x1);
        gbc.writeMem(0xcc3b, { 0xce, 0x27 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x9cb3, gbc.sp());
        EXPECT(0xcc3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcc3b));
        EXPECT(0x27, gbc.readMem(0xcc3c));
        // CE 00E2
        gbc.setState(0xc020, 0xe4c7, 0xa540, 0x200c, 0xccfc, 0xaf1e, 0x1, 0x0);
        gbc.writeMem(0xc020, { 0xce, 0x65 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xe4c7, gbc.sp());
        EXPECT(0xc022, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc020));
        EXPECT(0x65, gbc.readMem(0xc021));
        // CE 00E3
        gbc.setState(0x11cf, 0x2a9f, 0xc220, 0xb5d2, 0x415, 0xd665, 0x0, 0x0);
        gbc.writeMem(0x11cf, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x2a9f, gbc.sp());
        EXPECT(0x11d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00E4
        gbc.setState(0x1d7, 0x817d, 0x2120, 0xd28c, 0x331b, 0x7a5b, 0x0, 0x0);
        gbc.writeMem(0x1d7, { 0xce, 0x6f });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x817d, gbc.sp());
        EXPECT(0x1d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00E5
        gbc.setState(0xb894, 0x7af4, 0x2940, 0x2f9, 0xfe8, 0x25c, 0x1, 0x0);
        gbc.writeMem(0xb894, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7af4, gbc.sp());
        EXPECT(0xb896, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb894));
        EXPECT(0x58, gbc.readMem(0xb895));
        // CE 00E6
        gbc.setState(0x213c, 0xe1cc, 0xbf80, 0xbac2, 0xdefa, 0xbcff, 0x0, 0x0);
        gbc.writeMem(0x213c, { 0xce, 0x89 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xe1cc, gbc.sp());
        EXPECT(0x213e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00E7
        gbc.setState(0x57bd, 0xa28d, 0x470, 0x8aec, 0xa5b3, 0x78f2, 0x0, 0x1);
        gbc.writeMem(0x57bd, { 0xce, 0xde });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xa28d, gbc.sp());
        EXPECT(0x57bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00E8
        gbc.setState(0xdeb8, 0x7603, 0x5230, 0xfc62, 0x8b25, 0xeb0, 0x0, 0x0);
        gbc.writeMem(0xdeb8, { 0xce, 0xae });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x7603, gbc.sp());
        EXPECT(0xdeba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdeb8));
        EXPECT(0xae, gbc.readMem(0xdeb9));
        // CE 00E9
        gbc.setState(0xbd5, 0xb600, 0xa010, 0x385d, 0xdc40, 0x54fa, 0x0, 0x0);
        gbc.writeMem(0xbd5, { 0xce, 0x61 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xb600, gbc.sp());
        EXPECT(0xbd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00EA
        gbc.setState(0x87cd, 0x761b, 0x9f60, 0x2535, 0x6b87, 0x451e, 0x1, 0x0);
        gbc.writeMem(0x87cd, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x761b, gbc.sp());
        EXPECT(0x87cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x87cd));
        EXPECT(0x43, gbc.readMem(0x87ce));
        // CE 00EB
        gbc.setState(0xbafa, 0x5b04, 0x4c80, 0x98f8, 0x21da, 0x9354, 0x0, 0x1);
        gbc.writeMem(0xbafa, { 0xce, 0x4 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x5b04, gbc.sp());
        EXPECT(0xbafc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbafa));
        EXPECT(0x4, gbc.readMem(0xbafb));
        // CE 00EC
        gbc.setState(0x69be, 0x5dd9, 0x3f10, 0x77d5, 0x6d86, 0x3e87, 0x1, 0x0);
        gbc.writeMem(0x69be, { 0xce, 0x28 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x5dd9, gbc.sp());
        EXPECT(0x69c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00EE
        gbc.setState(0x5ebc, 0xeeb2, 0x8160, 0xd31d, 0x7495, 0xe693, 0x0, 0x1);
        gbc.writeMem(0x5ebc, { 0xce, 0x8f });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xeeb2, gbc.sp());
        EXPECT(0x5ebe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00EF
        gbc.setState(0xacef, 0xb222, 0x2800, 0x7fcd, 0x56cf, 0xfc67, 0x1, 0x1);
        gbc.writeMem(0xacef, { 0xce, 0xd5 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xb222, gbc.sp());
        EXPECT(0xacf1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xacef));
        EXPECT(0xd5, gbc.readMem(0xacf0));
        // CE 00F1
        gbc.setState(0x136f, 0xdf6e, 0x6920, 0x4cfe, 0xaf39, 0xb4f0, 0x1, 0x1);
        gbc.writeMem(0x136f, { 0xce, 0x70 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xdf6e, gbc.sp());
        EXPECT(0x1371, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00F2
        gbc.setState(0xb526, 0xae3e, 0x4690, 0xe866, 0x37be, 0x11d4, 0x1, 0x0);
        gbc.writeMem(0xb526, { 0xce, 0x8c });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xae3e, gbc.sp());
        EXPECT(0xb528, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb526));
        EXPECT(0x8c, gbc.readMem(0xb527));
        // CE 00F3
        gbc.setState(0xc16a, 0xf510, 0x4d10, 0xcaa9, 0xc1a, 0xd880, 0x1, 0x1);
        gbc.writeMem(0xc16a, { 0xce, 0x4b });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xf510, gbc.sp());
        EXPECT(0xc16c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc16a));
        EXPECT(0x4b, gbc.readMem(0xc16b));
        // CE 00F4
        gbc.setState(0x4b86, 0xfb93, 0x3ce0, 0x280a, 0x89eb, 0x5155, 0x0, 0x1);
        gbc.writeMem(0x4b86, { 0xce, 0x6 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xfb93, gbc.sp());
        EXPECT(0x4b88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00F5
        gbc.setState(0xce51, 0x4fe7, 0xd520, 0xa6d1, 0x6e93, 0x98ba, 0x0, 0x1);
        gbc.writeMem(0xce51, { 0xce, 0xa2 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x4fe7, gbc.sp());
        EXPECT(0xce53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xce51));
        EXPECT(0xa2, gbc.readMem(0xce52));
        // CE 00F6
        gbc.setState(0x7b6c, 0x12ac, 0x6070, 0x900e, 0x769b, 0xb987, 0x0, 0x0);
        gbc.writeMem(0x7b6c, { 0xce, 0x77 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x12ac, gbc.sp());
        EXPECT(0x7b6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00F7
        gbc.setState(0xc8ac, 0x4ccd, 0x3350, 0x2de6, 0xcb51, 0xf5fb, 0x1, 0x1);
        gbc.writeMem(0xc8ac, { 0xce, 0xb5 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x4ccd, gbc.sp());
        EXPECT(0xc8ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc8ac));
        EXPECT(0xb5, gbc.readMem(0xc8ad));
        // CE 00F8
        gbc.setState(0x14cf, 0x90d1, 0x25b0, 0x9e2a, 0x6ce6, 0xb55e, 0x0, 0x1);
        gbc.writeMem(0x14cf, { 0xce, 0xf0 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x90d1, gbc.sp());
        EXPECT(0x14d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00F9
        gbc.setState(0x390d, 0xe782, 0x34f0, 0x347c, 0xbadd, 0x6541, 0x1, 0x1);
        gbc.writeMem(0x390d, { 0xce, 0x7 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xe782, gbc.sp());
        EXPECT(0x390f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00FA
        gbc.setState(0x5071, 0x5a66, 0x5e90, 0xd91a, 0xb8ca, 0x59fe, 0x0, 0x1);
        gbc.writeMem(0x5071, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x5a66, gbc.sp());
        EXPECT(0x5073, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 00FB
        gbc.setState(0xdd25, 0xa4ba, 0x3e0, 0xad02, 0xbe0a, 0x3945, 0x1, 0x0);
        gbc.writeMem(0xdd25, { 0xce, 0x62 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xa4ba, gbc.sp());
        EXPECT(0xdd27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdd25));
        EXPECT(0x62, gbc.readMem(0xdd26));
        // CE 00FC
        gbc.setState(0x6e5d, 0x737b, 0xccc0, 0xa695, 0xd963, 0x1ba7, 0x0, 0x0);
        gbc.writeMem(0x6e5d, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x737b, gbc.sp());
        EXPECT(0x6e5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00FD
        gbc.setState(0x50ac, 0x4969, 0xfa70, 0xd0a5, 0x6ee6, 0xe209, 0x0, 0x0);
        gbc.writeMem(0x50ac, { 0xce, 0xf });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x4969, gbc.sp());
        EXPECT(0x50ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 00FF
        gbc.setState(0x76ab, 0x2144, 0x69c0, 0x627f, 0x509a, 0xd634, 0x0, 0x1);
        gbc.writeMem(0x76ab, { 0xce, 0x84 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x2144, gbc.sp());
        EXPECT(0x76ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0100
        gbc.setState(0x3a3e, 0x5751, 0x5dc0, 0x2f3a, 0x612, 0xa06f, 0x0, 0x1);
        gbc.writeMem(0x3a3e, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x5751, gbc.sp());
        EXPECT(0x3a40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0101
        gbc.setState(0xb690, 0x35eb, 0x1390, 0xbd6e, 0x85d4, 0xbf71, 0x1, 0x1);
        gbc.writeMem(0xb690, { 0xce, 0x6e });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x35eb, gbc.sp());
        EXPECT(0xb692, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb690));
        EXPECT(0x6e, gbc.readMem(0xb691));
        // CE 0102
        gbc.setState(0xf84, 0x1286, 0xf410, 0x2efb, 0xb2b0, 0x3c92, 0x0, 0x1);
        gbc.writeMem(0xf84, { 0xce, 0x97 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x1286, gbc.sp());
        EXPECT(0xf86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0104
        gbc.setState(0xeea1, 0x2af9, 0xfb80, 0xb644, 0x2b63, 0xa653, 0x1, 0x0);
        gbc.writeMem(0xeea1, { 0xce, 0x1e });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x2af9, gbc.sp());
        EXPECT(0xeea3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xeea1));
        EXPECT(0x1e, gbc.readMem(0xeea2));
        // CE 0105
        gbc.setState(0x85e5, 0x535d, 0xdfb0, 0x7e3, 0xed15, 0x4b26, 0x1, 0x0);
        gbc.writeMem(0x85e5, { 0xce, 0xdd });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x535d, gbc.sp());
        EXPECT(0x85e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x85e5));
        EXPECT(0xdd, gbc.readMem(0x85e6));
        // CE 0106
        gbc.setState(0xe8aa, 0xfbf9, 0x8c00, 0x13e4, 0xd632, 0x16f4, 0x1, 0x1);
        gbc.writeMem(0xe8aa, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xfbf9, gbc.sp());
        EXPECT(0xe8ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe8aa));
        EXPECT(0xba, gbc.readMem(0xe8ab));
        // CE 0107
        gbc.setState(0x353a, 0x5ea9, 0x2360, 0x1afe, 0x243, 0x95c8, 0x1, 0x0);
        gbc.writeMem(0x353a, { 0xce, 0xb0 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x5ea9, gbc.sp());
        EXPECT(0x353c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0108
        gbc.setState(0x43a, 0xb0f5, 0x7920, 0xad3e, 0x718a, 0xe055, 0x0, 0x1);
        gbc.writeMem(0x43a, { 0xce, 0x62 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xb0f5, gbc.sp());
        EXPECT(0x43c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0109
        gbc.setState(0x93e8, 0xe3c6, 0xb070, 0xd889, 0x7b99, 0x5a6e, 0x1, 0x0);
        gbc.writeMem(0x93e8, { 0xce, 0xd0 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe3c6, gbc.sp());
        EXPECT(0x93ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x93e8));
        EXPECT(0xd0, gbc.readMem(0x93e9));
        // CE 010A
        gbc.setState(0x2e0e, 0xc1c9, 0x29c0, 0xac3a, 0x1fe9, 0x84b, 0x0, 0x0);
        gbc.writeMem(0x2e0e, { 0xce, 0xbd });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xc1c9, gbc.sp());
        EXPECT(0x2e10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 010B
        gbc.setState(0x3138, 0x2bff, 0xa710, 0x8496, 0xbd00, 0xda4c, 0x1, 0x1);
        gbc.writeMem(0x3138, { 0xce, 0x5a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2bff, gbc.sp());
        EXPECT(0x313a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 010C
        gbc.setState(0x4e8c, 0x4c5e, 0xd460, 0x2754, 0xb188, 0xf262, 0x0, 0x1);
        gbc.writeMem(0x4e8c, { 0xce, 0x5b });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x4c5e, gbc.sp());
        EXPECT(0x4e8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 010E
        gbc.setState(0xb3e5, 0x7c27, 0xad80, 0xd50f, 0x3743, 0xe392, 0x1, 0x0);
        gbc.writeMem(0xb3e5, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x7c27, gbc.sp());
        EXPECT(0xb3e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb3e5));
        EXPECT(0x58, gbc.readMem(0xb3e6));
        // CE 010F
        gbc.setState(0x2e1e, 0x3be1, 0xdb90, 0x9a21, 0x77f7, 0x6035, 0x1, 0x0);
        gbc.writeMem(0x2e1e, { 0xce, 0x86 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x3be1, gbc.sp());
        EXPECT(0x2e20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0110
        gbc.setState(0x48cb, 0xbde0, 0x2ea0, 0x3350, 0x1b72, 0x6f16, 0x1, 0x0);
        gbc.writeMem(0x48cb, { 0xce, 0x2 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xbde0, gbc.sp());
        EXPECT(0x48cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0113
        gbc.setState(0x2e7d, 0x75b9, 0x8170, 0xd0a4, 0xb275, 0x9f37, 0x0, 0x0);
        gbc.writeMem(0x2e7d, { 0xce, 0xa3 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x75b9, gbc.sp());
        EXPECT(0x2e7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0114
        gbc.setState(0x3419, 0x2211, 0xefc0, 0x22d9, 0x8c4a, 0x2d44, 0x1, 0x1);
        gbc.writeMem(0x3419, { 0xce, 0x3e });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x2211, gbc.sp());
        EXPECT(0x341b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0115
        gbc.setState(0x4f71, 0x5257, 0xa330, 0xe6dd, 0x6d8e, 0x317a, 0x0, 0x0);
        gbc.writeMem(0x4f71, { 0xce, 0xc5 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x5257, gbc.sp());
        EXPECT(0x4f73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0116
        gbc.setState(0x16ee, 0x2aee, 0x89f0, 0x4d41, 0xb615, 0xe00f, 0x0, 0x1);
        gbc.writeMem(0x16ee, { 0xce, 0x4c });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x2aee, gbc.sp());
        EXPECT(0x16f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0117
        gbc.setState(0x10e8, 0x6ee4, 0xb850, 0x8cc1, 0x5f40, 0x21ee, 0x1, 0x1);
        gbc.writeMem(0x10e8, { 0xce, 0x68 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x6ee4, gbc.sp());
        EXPECT(0x10ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0118
        gbc.setState(0x923, 0x7831, 0xa0f0, 0xd1a6, 0xd973, 0xc27c, 0x0, 0x0);
        gbc.writeMem(0x923, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x7831, gbc.sp());
        EXPECT(0x925, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0119
        gbc.setState(0x5e60, 0x2d1c, 0x57b0, 0xf9cb, 0x697f, 0xc2cf, 0x0, 0x0);
        gbc.writeMem(0x5e60, { 0xce, 0x81 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2d1c, gbc.sp());
        EXPECT(0x5e62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 011A
        gbc.setState(0x40cc, 0xd0ac, 0x53c0, 0x6dc9, 0x1112, 0x8594, 0x1, 0x1);
        gbc.writeMem(0x40cc, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xd0ac, gbc.sp());
        EXPECT(0x40ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 011B
        gbc.setState(0x9e6a, 0xc313, 0x83d0, 0xf116, 0xb044, 0xed5, 0x0, 0x0);
        gbc.writeMem(0x9e6a, { 0xce, 0xde });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xc313, gbc.sp());
        EXPECT(0x9e6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9e6a));
        EXPECT(0xde, gbc.readMem(0x9e6b));
        // CE 011C
        gbc.setState(0x9ff8, 0x22d5, 0x18d0, 0xd3c6, 0x20b4, 0xbb2f, 0x1, 0x0);
        gbc.writeMem(0x9ff8, { 0xce, 0x2c });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x22d5, gbc.sp());
        EXPECT(0x9ffa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9ff8));
        EXPECT(0x2c, gbc.readMem(0x9ff9));
        // CE 011D
        gbc.setState(0x3bc7, 0x9267, 0x8920, 0x2fad, 0xb12b, 0xa312, 0x1, 0x0);
        gbc.writeMem(0x3bc7, { 0xce, 0x53 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x9267, gbc.sp());
        EXPECT(0x3bc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 011E
        gbc.setState(0x1f41, 0xe7e, 0x4e90, 0x5a74, 0x31ef, 0xdfbe, 0x1, 0x0);
        gbc.writeMem(0x1f41, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xe7e, gbc.sp());
        EXPECT(0x1f43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 011F
        gbc.setState(0xe64a, 0xa9f4, 0x6aa0, 0x6b4b, 0xb202, 0x1daa, 0x1, 0x1);
        gbc.writeMem(0xe64a, { 0xce, 0x6d });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xa9f4, gbc.sp());
        EXPECT(0xe64c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe64a));
        EXPECT(0x6d, gbc.readMem(0xe64b));
        // CE 0120
        gbc.setState(0x716d, 0xe9cc, 0x2190, 0x4e24, 0x8c2b, 0xdea9, 0x0, 0x1);
        gbc.writeMem(0x716d, { 0xce, 0x52 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xe9cc, gbc.sp());
        EXPECT(0x716f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0121
        gbc.setState(0x7133, 0x4407, 0x80c0, 0x3695, 0xdc78, 0x6a69, 0x0, 0x1);
        gbc.writeMem(0x7133, { 0xce, 0x16 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x4407, gbc.sp());
        EXPECT(0x7135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0122
        gbc.setState(0x27c3, 0xe036, 0x5180, 0x66a1, 0x425d, 0x123, 0x0, 0x0);
        gbc.writeMem(0x27c3, { 0xce, 0x52 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xe036, gbc.sp());
        EXPECT(0x27c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0123
        gbc.setState(0x7133, 0xf1f8, 0xe1c0, 0x79fc, 0x5c51, 0xa573, 0x0, 0x1);
        gbc.writeMem(0x7133, { 0xce, 0x16 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xf1f8, gbc.sp());
        EXPECT(0x7135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0124
        gbc.setState(0x5f04, 0x43f1, 0xdc30, 0xbf, 0xa8c3, 0xf09b, 0x0, 0x1);
        gbc.writeMem(0x5f04, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x43f1, gbc.sp());
        EXPECT(0x5f06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0125
        gbc.setState(0x8bb5, 0x4314, 0x2720, 0x9f0a, 0x39a1, 0x11e6, 0x0, 0x0);
        gbc.writeMem(0x8bb5, { 0xce, 0x65 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x4314, gbc.sp());
        EXPECT(0x8bb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8bb5));
        EXPECT(0x65, gbc.readMem(0x8bb6));
        // CE 0126
        gbc.setState(0xda96, 0x3f7e, 0xef30, 0x6388, 0xd6f5, 0xc460, 0x0, 0x1);
        gbc.writeMem(0xda96, { 0xce, 0x3c });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x3f7e, gbc.sp());
        EXPECT(0xda98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xda96));
        EXPECT(0x3c, gbc.readMem(0xda97));
        // CE 0127
        gbc.setState(0x40aa, 0x63db, 0x7b60, 0x87ef, 0x4106, 0x53e6, 0x0, 0x0);
        gbc.writeMem(0x40aa, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x63db, gbc.sp());
        EXPECT(0x40ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0128
        gbc.setState(0x31ec, 0xd97e, 0xbc20, 0xc43d, 0x1562, 0x7cec, 0x0, 0x1);
        gbc.writeMem(0x31ec, { 0xce, 0x48 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xd97e, gbc.sp());
        EXPECT(0x31ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0129
        gbc.setState(0x1441, 0x6fd9, 0xc410, 0xd2c5, 0x38d3, 0x433f, 0x1, 0x1);
        gbc.writeMem(0x1441, { 0xce, 0xe });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x6fd9, gbc.sp());
        EXPECT(0x1443, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 012A
        gbc.setState(0x4d73, 0x382a, 0xd3c0, 0xff18, 0x195, 0x2e22, 0x1, 0x1);
        gbc.writeMem(0x4d73, { 0xce, 0x1b });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x382a, gbc.sp());
        EXPECT(0x4d75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 012B
        gbc.setState(0x169c, 0xd995, 0x8a20, 0x4582, 0xc009, 0x2e33, 0x0, 0x1);
        gbc.writeMem(0x169c, { 0xce, 0xb0 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xd995, gbc.sp());
        EXPECT(0x169e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 012C
        gbc.setState(0x9911, 0x1cff, 0x9d40, 0xf186, 0x92d2, 0xf4b2, 0x1, 0x1);
        gbc.writeMem(0x9911, { 0xce, 0x17 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x1cff, gbc.sp());
        EXPECT(0x9913, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9911));
        EXPECT(0x17, gbc.readMem(0x9912));
        // CE 012D
        gbc.setState(0xc9f5, 0x366c, 0x5140, 0x5d93, 0x73dd, 0x6da9, 0x1, 0x1);
        gbc.writeMem(0xc9f5, { 0xce, 0xd3 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x366c, gbc.sp());
        EXPECT(0xc9f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc9f5));
        EXPECT(0xd3, gbc.readMem(0xc9f6));
        // CE 012E
        gbc.setState(0x9f7, 0x9b06, 0x43d0, 0x36da, 0x8c39, 0x2e98, 0x0, 0x0);
        gbc.writeMem(0x9f7, { 0xce, 0xa3 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x9b06, gbc.sp());
        EXPECT(0x9f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 012F
        gbc.setState(0x900c, 0x3cca, 0xa460, 0x5b2, 0x8c2b, 0x414b, 0x0, 0x1);
        gbc.writeMem(0x900c, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x3cca, gbc.sp());
        EXPECT(0x900e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x900c));
        EXPECT(0xc0, gbc.readMem(0x900d));
        // CE 0130
        gbc.setState(0xcc90, 0xdb5d, 0x61f0, 0x550b, 0x4409, 0xc4fb, 0x0, 0x1);
        gbc.writeMem(0xcc90, { 0xce, 0x1f });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xdb5d, gbc.sp());
        EXPECT(0xcc92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcc90));
        EXPECT(0x1f, gbc.readMem(0xcc91));
        // CE 0131
        gbc.setState(0xa06, 0xc8fd, 0x6220, 0xb620, 0xaf39, 0xb21, 0x1, 0x0);
        gbc.writeMem(0xa06, { 0xce, 0x6f });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xc8fd, gbc.sp());
        EXPECT(0xa08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0132
        gbc.setState(0xa85f, 0x17f0, 0xd5c0, 0xb54f, 0x3251, 0xef1a, 0x0, 0x1);
        gbc.writeMem(0xa85f, { 0xce, 0xf6 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x17f0, gbc.sp());
        EXPECT(0xa861, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa85f));
        EXPECT(0xf6, gbc.readMem(0xa860));
        // CE 0133
        gbc.setState(0x6d0c, 0x238d, 0x48d0, 0x8c8b, 0xf3b, 0xe33, 0x0, 0x1);
        gbc.writeMem(0x6d0c, { 0xce, 0x39 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x238d, gbc.sp());
        EXPECT(0x6d0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0134
        gbc.setState(0xd94a, 0x9d3b, 0x9b00, 0x36e6, 0x4fe3, 0x9b11, 0x0, 0x0);
        gbc.writeMem(0xd94a, { 0xce, 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x9d3b, gbc.sp());
        EXPECT(0xd94c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd94a));
        EXPECT(0x54, gbc.readMem(0xd94b));
        // CE 0135
        gbc.setState(0x40d2, 0x2539, 0xf5d0, 0xf9b2, 0xb6e1, 0xc2fc, 0x0, 0x0);
        gbc.writeMem(0x40d2, { 0xce, 0x7d });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x2539, gbc.sp());
        EXPECT(0x40d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0136
        gbc.setState(0x416, 0xc594, 0x68c0, 0xc183, 0x3c44, 0xeac9, 0x1, 0x1);
        gbc.writeMem(0x416, { 0xce, 0x15 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xc594, gbc.sp());
        EXPECT(0x418, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0138
        gbc.setState(0x33a7, 0x8bbc, 0x4d50, 0x4e76, 0x4b86, 0x729a, 0x1, 0x1);
        gbc.writeMem(0x33a7, { 0xce, 0xef });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8bbc, gbc.sp());
        EXPECT(0x33a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 013A
        gbc.setState(0x95a2, 0x4774, 0x8430, 0xb347, 0x9ca0, 0xac0e, 0x0, 0x1);
        gbc.writeMem(0x95a2, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x4774, gbc.sp());
        EXPECT(0x95a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x95a2));
        EXPECT(0x58, gbc.readMem(0x95a3));
        // CE 013B
        gbc.setState(0xcc15, 0xb36d, 0x6b40, 0x9e5c, 0x70eb, 0x5192, 0x1, 0x1);
        gbc.writeMem(0xcc15, { 0xce, 0x4f });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xb36d, gbc.sp());
        EXPECT(0xcc17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcc15));
        EXPECT(0x4f, gbc.readMem(0xcc16));
        // CE 013C
        gbc.setState(0xa360, 0x26da, 0x65d0, 0x91ba, 0x8d25, 0x9d18, 0x1, 0x1);
        gbc.writeMem(0xa360, { 0xce, 0x8c });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x26da, gbc.sp());
        EXPECT(0xa362, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa360));
        EXPECT(0x8c, gbc.readMem(0xa361));
        // CE 013D
        gbc.setState(0xde89, 0xf065, 0xece0, 0xe045, 0xbed9, 0x39e7, 0x0, 0x0);
        gbc.writeMem(0xde89, { 0xce, 0xae });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xf065, gbc.sp());
        EXPECT(0xde8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xde89));
        EXPECT(0xae, gbc.readMem(0xde8a));
        // CE 013E
        gbc.setState(0x3a0a, 0x5e3e, 0xec80, 0xfd0d, 0x36c7, 0x5864, 0x1, 0x0);
        gbc.writeMem(0x3a0a, { 0xce, 0xf5 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x5e3e, gbc.sp());
        EXPECT(0x3a0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 013F
        gbc.setState(0x14a7, 0x118a, 0x52e0, 0x63db, 0x547d, 0xc06c, 0x1, 0x0);
        gbc.writeMem(0x14a7, { 0xce, 0x4a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x118a, gbc.sp());
        EXPECT(0x14a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0140
        gbc.setState(0xbe85, 0xbd69, 0xc520, 0xdb94, 0xb0ae, 0x5a22, 0x0, 0x0);
        gbc.writeMem(0xbe85, { 0xce, 0x98 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xbd69, gbc.sp());
        EXPECT(0xbe87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbe85));
        EXPECT(0x98, gbc.readMem(0xbe86));
        // CE 0141
        gbc.setState(0x72e0, 0xd3d, 0x7be0, 0xbd4a, 0x5092, 0xa154, 0x0, 0x1);
        gbc.writeMem(0x72e0, { 0xce, 0x96 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xd3d, gbc.sp());
        EXPECT(0x72e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0142
        gbc.setState(0x738e, 0xa948, 0x14c0, 0x3246, 0xf336, 0xefc7, 0x0, 0x1);
        gbc.writeMem(0x738e, { 0xce, 0x3f });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xa948, gbc.sp());
        EXPECT(0x7390, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0143
        gbc.setState(0x9655, 0x598b, 0xa380, 0xcbd9, 0x1558, 0x3e00, 0x1, 0x0);
        gbc.writeMem(0x9655, { 0xce, 0xcc });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x598b, gbc.sp());
        EXPECT(0x9657, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9655));
        EXPECT(0xcc, gbc.readMem(0x9656));
        // CE 0144
        gbc.setState(0x545e, 0x6bed, 0xef0, 0x7d36, 0x98fb, 0x6981, 0x0, 0x1);
        gbc.writeMem(0x545e, { 0xce, 0xde });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x6bed, gbc.sp());
        EXPECT(0x5460, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0145
        gbc.setState(0xcca, 0x7141, 0x81b0, 0xb5b8, 0x3129, 0xe7d, 0x1, 0x1);
        gbc.writeMem(0xcca, { 0xce, 0x2f });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x7141, gbc.sp());
        EXPECT(0xccc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0146
        gbc.setState(0x4783, 0xa4f3, 0xdbe0, 0xef6e, 0xd0ca, 0x7668, 0x1, 0x0);
        gbc.writeMem(0x4783, { 0xce, 0xce });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xa4f3, gbc.sp());
        EXPECT(0x4785, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0148
        gbc.setState(0x4b9d, 0xa98c, 0xac20, 0x4902, 0xd82d, 0x9eab, 0x1, 0x0);
        gbc.writeMem(0x4b9d, { 0xce, 0xe9 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa98c, gbc.sp());
        EXPECT(0x4b9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0149
        gbc.setState(0xe3e9, 0x219d, 0x95f0, 0xa9aa, 0xe1c4, 0xfb64, 0x1, 0x1);
        gbc.writeMem(0xe3e9, { 0xce, 0x88 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x219d, gbc.sp());
        EXPECT(0xe3eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe3e9));
        EXPECT(0x88, gbc.readMem(0xe3ea));
        // CE 014A
        gbc.setState(0x9378, 0x6f98, 0x200, 0xf0de, 0xba29, 0x9fd1, 0x1, 0x1);
        gbc.writeMem(0x9378, { 0xce, 0x82 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x6f98, gbc.sp());
        EXPECT(0x937a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9378));
        EXPECT(0x82, gbc.readMem(0x9379));
        // CE 014B
        gbc.setState(0xb2d2, 0x383e, 0x2510, 0x8b3c, 0x12cd, 0x3b12, 0x1, 0x1);
        gbc.writeMem(0xb2d2, { 0xce, 0x4a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x383e, gbc.sp());
        EXPECT(0xb2d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb2d2));
        EXPECT(0x4a, gbc.readMem(0xb2d3));
        // CE 014C
        gbc.setState(0x9de5, 0xda76, 0xed80, 0x4347, 0x266d, 0x301c, 0x0, 0x1);
        gbc.writeMem(0x9de5, { 0xce, 0x7a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xda76, gbc.sp());
        EXPECT(0x9de7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9de5));
        EXPECT(0x7a, gbc.readMem(0x9de6));
        // CE 014D
        gbc.setState(0x1e20, 0x77a1, 0xd30, 0x59b6, 0x3958, 0x7e49, 0x0, 0x1);
        gbc.writeMem(0x1e20, { 0xce, 0x5e });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x77a1, gbc.sp());
        EXPECT(0x1e22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 014E
        gbc.setState(0x8606, 0xb379, 0xfc80, 0x3edd, 0x4c17, 0xdac5, 0x0, 0x1);
        gbc.writeMem(0x8606, { 0xce, 0x31 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xb379, gbc.sp());
        EXPECT(0x8608, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8606));
        EXPECT(0x31, gbc.readMem(0x8607));
        // CE 014F
        gbc.setState(0xaf7c, 0x9ca7, 0xf440, 0x72ff, 0xdc65, 0x5355, 0x0, 0x1);
        gbc.writeMem(0xaf7c, { 0xce, 0xd1 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x9ca7, gbc.sp());
        EXPECT(0xaf7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaf7c));
        EXPECT(0xd1, gbc.readMem(0xaf7d));
        // CE 0150
        gbc.setState(0xd507, 0x22b9, 0xc60, 0x929e, 0x93a6, 0x3975, 0x1, 0x0);
        gbc.writeMem(0xd507, { 0xce, 0x2a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x22b9, gbc.sp());
        EXPECT(0xd509, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd507));
        EXPECT(0x2a, gbc.readMem(0xd508));
        // CE 0151
        gbc.setState(0xe686, 0xe30c, 0x8980, 0xbfc4, 0xde9e, 0x24d4, 0x1, 0x1);
        gbc.writeMem(0xe686, { 0xce, 0xa });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xe30c, gbc.sp());
        EXPECT(0xe688, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe686));
        EXPECT(0xa, gbc.readMem(0xe687));
        // CE 0152
        gbc.setState(0x9c46, 0x267, 0xc270, 0x63ed, 0x5d45, 0xa16b, 0x0, 0x1);
        gbc.writeMem(0x9c46, { 0xce, 0x4a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x267, gbc.sp());
        EXPECT(0x9c48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9c46));
        EXPECT(0x4a, gbc.readMem(0x9c47));
        // CE 0153
        gbc.setState(0x352c, 0xbf5a, 0x850, 0x9f9c, 0xe451, 0xc636, 0x1, 0x1);
        gbc.writeMem(0x352c, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xbf5a, gbc.sp());
        EXPECT(0x352e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0154
        gbc.setState(0x6361, 0xcd05, 0xeae0, 0x3b7a, 0xb941, 0xf966, 0x0, 0x0);
        gbc.writeMem(0x6361, { 0xce, 0xcf });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xcd05, gbc.sp());
        EXPECT(0x6363, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0155
        gbc.setState(0x15a6, 0xd43c, 0x7420, 0x4d90, 0xaacd, 0x284e, 0x0, 0x1);
        gbc.writeMem(0x15a6, { 0xce, 0x78 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd43c, gbc.sp());
        EXPECT(0x15a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0156
        gbc.setState(0xd5ce, 0x6da4, 0xa350, 0x2827, 0x9109, 0x39e, 0x1, 0x1);
        gbc.writeMem(0xd5ce, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x6da4, gbc.sp());
        EXPECT(0xd5d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd5ce));
        EXPECT(0xbf, gbc.readMem(0xd5cf));
        // CE 0157
        gbc.setState(0xcc87, 0x6858, 0xec50, 0xde3b, 0x5e93, 0xd148, 0x1, 0x0);
        gbc.writeMem(0xcc87, { 0xce, 0x1a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x6858, gbc.sp());
        EXPECT(0xcc89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcc87));
        EXPECT(0x1a, gbc.readMem(0xcc88));
        // CE 0158
        gbc.setState(0x6d07, 0x49f5, 0x8c10, 0xbded, 0xffe0, 0x83a0, 0x1, 0x0);
        gbc.writeMem(0x6d07, { 0xce, 0xd1 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x49f5, gbc.sp());
        EXPECT(0x6d09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0159
        gbc.setState(0xb78b, 0x8ffc, 0x30a0, 0x45bc, 0xd887, 0x34d7, 0x1, 0x1);
        gbc.writeMem(0xb78b, { 0xce, 0x7c });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x8ffc, gbc.sp());
        EXPECT(0xb78d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb78b));
        EXPECT(0x7c, gbc.readMem(0xb78c));
        // CE 015A
        gbc.setState(0xa58c, 0x83ec, 0xcd90, 0xbc48, 0x1b92, 0xbf47, 0x0, 0x1);
        gbc.writeMem(0xa58c, { 0xce, 0xdc });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x83ec, gbc.sp());
        EXPECT(0xa58e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa58c));
        EXPECT(0xdc, gbc.readMem(0xa58d));
        // CE 015B
        gbc.setState(0xdcf3, 0xc743, 0xaa00, 0x3488, 0xcd85, 0x5429, 0x0, 0x1);
        gbc.writeMem(0xdcf3, { 0xce, 0x69 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xc743, gbc.sp());
        EXPECT(0xdcf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdcf3));
        EXPECT(0x69, gbc.readMem(0xdcf4));
        // CE 015C
        gbc.setState(0xa68f, 0x8d87, 0x8050, 0xb98c, 0x2a02, 0x15ac, 0x0, 0x1);
        gbc.writeMem(0xa68f, { 0xce, 0x8f });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x8d87, gbc.sp());
        EXPECT(0xa691, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa68f));
        EXPECT(0x8f, gbc.readMem(0xa690));
        // CE 015D
        gbc.setState(0x7445, 0xbb86, 0x6340, 0x4c55, 0x628a, 0xae5c, 0x0, 0x0);
        gbc.writeMem(0x7445, { 0xce, 0xa6 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xbb86, gbc.sp());
        EXPECT(0x7447, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 015E
        gbc.setState(0xe9ac, 0x389b, 0xc900, 0x2681, 0x74a2, 0x9cc7, 0x1, 0x1);
        gbc.writeMem(0xe9ac, { 0xce, 0x90 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x389b, gbc.sp());
        EXPECT(0xe9ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe9ac));
        EXPECT(0x90, gbc.readMem(0xe9ad));
        // CE 015F
        gbc.setState(0x688d, 0xee98, 0x5420, 0x7ba5, 0xfd70, 0x92fd, 0x1, 0x0);
        gbc.writeMem(0x688d, { 0xce, 0x7 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xee98, gbc.sp());
        EXPECT(0x688f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0160
        gbc.setState(0x6cfe, 0x607e, 0xa8d0, 0xff9b, 0x55fe, 0xdcfc, 0x0, 0x1);
        gbc.writeMem(0x6cfe, { 0xce, 0xd3 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x607e, gbc.sp());
        EXPECT(0x6d00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0161
        gbc.setState(0x5ed2, 0x14f3, 0x3760, 0x9341, 0xaca7, 0x77a, 0x1, 0x1);
        gbc.writeMem(0x5ed2, { 0xce, 0x55 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x14f3, gbc.sp());
        EXPECT(0x5ed4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0162
        gbc.setState(0x9854, 0x8d5b, 0xb0, 0xc42c, 0x1a79, 0xa04b, 0x0, 0x0);
        gbc.writeMem(0x9854, { 0xce, 0xcb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x8d5b, gbc.sp());
        EXPECT(0x9856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9854));
        EXPECT(0xcb, gbc.readMem(0x9855));
        // CE 0163
        gbc.setState(0x7d59, 0x6ef4, 0xcc80, 0xe9a3, 0xf833, 0x8dd0, 0x0, 0x1);
        gbc.writeMem(0x7d59, { 0xce, 0x40 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x6ef4, gbc.sp());
        EXPECT(0x7d5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0164
        gbc.setState(0xa208, 0x9fc4, 0x5f0, 0x1abc, 0x5d61, 0x1ae0, 0x1, 0x0);
        gbc.writeMem(0xa208, { 0xce, 0x8e });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x9fc4, gbc.sp());
        EXPECT(0xa20a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa208));
        EXPECT(0x8e, gbc.readMem(0xa209));
        // CE 0165
        gbc.setState(0x4fa5, 0xafbb, 0x1cb0, 0xece, 0xed8d, 0xf4db, 0x1, 0x0);
        gbc.writeMem(0x4fa5, { 0xce, 0xfa });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xafbb, gbc.sp());
        EXPECT(0x4fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0166
        gbc.setState(0xaa45, 0xe8e8, 0x9370, 0x9fe0, 0x3445, 0x2bd8, 0x1, 0x0);
        gbc.writeMem(0xaa45, { 0xce, 0x83 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xe8e8, gbc.sp());
        EXPECT(0xaa47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaa45));
        EXPECT(0x83, gbc.readMem(0xaa46));
        // CE 0167
        gbc.setState(0xdb6e, 0x6b8b, 0x7e20, 0x3008, 0x8761, 0xb878, 0x0, 0x1);
        gbc.writeMem(0xdb6e, { 0xce, 0xf6 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6b8b, gbc.sp());
        EXPECT(0xdb70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdb6e));
        EXPECT(0xf6, gbc.readMem(0xdb6f));
        // CE 0168
        gbc.setState(0x5a15, 0xb9d2, 0x1360, 0xb062, 0x3a4a, 0x31ff, 0x0, 0x0);
        gbc.writeMem(0x5a15, { 0xce, 0x83 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xb9d2, gbc.sp());
        EXPECT(0x5a17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0169
        gbc.setState(0x6077, 0x18c0, 0xd7f0, 0x956e, 0xab88, 0xa006, 0x0, 0x0);
        gbc.writeMem(0x6077, { 0xce, 0x8a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x18c0, gbc.sp());
        EXPECT(0x6079, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 016A
        gbc.setState(0x5e96, 0x715e, 0x17b0, 0xccc5, 0x7a6c, 0x5296, 0x0, 0x0);
        gbc.writeMem(0x5e96, { 0xce, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x715e, gbc.sp());
        EXPECT(0x5e98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 016B
        gbc.setState(0xc135, 0x6e14, 0x17b0, 0x7e02, 0x8298, 0x8820, 0x1, 0x1);
        gbc.writeMem(0xc135, { 0xce, 0x77 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x6e14, gbc.sp());
        EXPECT(0xc137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc135));
        EXPECT(0x77, gbc.readMem(0xc136));
        // CE 016C
        gbc.setState(0x1496, 0xdcbe, 0xf340, 0x8444, 0x3182, 0xbec5, 0x0, 0x1);
        gbc.writeMem(0x1496, { 0xce, 0x7e });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xdcbe, gbc.sp());
        EXPECT(0x1498, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 016E
        gbc.setState(0x9c6c, 0x4e78, 0xa330, 0x36d2, 0x31de, 0xe5de, 0x1, 0x0);
        gbc.writeMem(0x9c6c, { 0xce, 0xe5 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x4e78, gbc.sp());
        EXPECT(0x9c6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9c6c));
        EXPECT(0xe5, gbc.readMem(0x9c6d));
        // CE 016F
        gbc.setState(0xa657, 0x44a7, 0x2340, 0x8599, 0x2b79, 0x960, 0x0, 0x1);
        gbc.writeMem(0xa657, { 0xce, 0x5c });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x44a7, gbc.sp());
        EXPECT(0xa659, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa657));
        EXPECT(0x5c, gbc.readMem(0xa658));
        // CE 0170
        gbc.setState(0xbade, 0xf486, 0xc740, 0x827e, 0xe09e, 0xc606, 0x1, 0x1);
        gbc.writeMem(0xbade, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf486, gbc.sp());
        EXPECT(0xbae0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbade));
        EXPECT(0xb2, gbc.readMem(0xbadf));
        // CE 0171
        gbc.setState(0x2162, 0xd122, 0xdb50, 0x62e9, 0xfdf3, 0x9382, 0x1, 0x1);
        gbc.writeMem(0x2162, { 0xce, 0xeb });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xd122, gbc.sp());
        EXPECT(0x2164, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0172
        gbc.setState(0xdd08, 0xdf44, 0xf4b0, 0xb2b9, 0xf602, 0x9662, 0x0, 0x1);
        gbc.writeMem(0xdd08, { 0xce, 0xac });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xdf44, gbc.sp());
        EXPECT(0xdd0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdd08));
        EXPECT(0xac, gbc.readMem(0xdd09));
        // CE 0173
        gbc.setState(0x8be8, 0x3b00, 0x920, 0x16b9, 0xa5ec, 0x4f2e, 0x1, 0x1);
        gbc.writeMem(0x8be8, { 0xce, 0x23 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3b00, gbc.sp());
        EXPECT(0x8bea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8be8));
        EXPECT(0x23, gbc.readMem(0x8be9));
        // CE 0174
        gbc.setState(0xeb6f, 0x5d98, 0x18c0, 0x2696, 0x1d8d, 0x5f7a, 0x1, 0x1);
        gbc.writeMem(0xeb6f, { 0xce, 0xe5 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x5d98, gbc.sp());
        EXPECT(0xeb71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xeb6f));
        EXPECT(0xe5, gbc.readMem(0xeb70));
        // CE 0175
        gbc.setState(0xde3e, 0x9c17, 0x6be0, 0xc70c, 0xaa6c, 0xfcbd, 0x1, 0x0);
        gbc.writeMem(0xde3e, { 0xce, 0xaf });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x9c17, gbc.sp());
        EXPECT(0xde40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xde3e));
        EXPECT(0xaf, gbc.readMem(0xde3f));
        // CE 0176
        gbc.setState(0xb051, 0x9976, 0x50a0, 0x5953, 0xd70b, 0xa397, 0x1, 0x1);
        gbc.writeMem(0xb051, { 0xce, 0xb });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x9976, gbc.sp());
        EXPECT(0xb053, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb051));
        EXPECT(0xb, gbc.readMem(0xb052));
        // CE 0177
        gbc.setState(0x2d15, 0x705e, 0xaba0, 0xc595, 0x11f1, 0xf3d5, 0x1, 0x1);
        gbc.writeMem(0x2d15, { 0xce, 0x70 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x705e, gbc.sp());
        EXPECT(0x2d17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0178
        gbc.setState(0x1a7c, 0x2546, 0xebd0, 0x48d3, 0x4e0f, 0xa7d4, 0x0, 0x0);
        gbc.writeMem(0x1a7c, { 0xce, 0x47 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x2546, gbc.sp());
        EXPECT(0x1a7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0179
        gbc.setState(0xa71e, 0x8c1a, 0xe320, 0x3ff5, 0x89d6, 0x8f5a, 0x1, 0x0);
        gbc.writeMem(0xa71e, { 0xce, 0x78 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x8c1a, gbc.sp());
        EXPECT(0xa720, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa71e));
        EXPECT(0x78, gbc.readMem(0xa71f));
        // CE 017A
        gbc.setState(0xc3d9, 0x9179, 0x67f0, 0x57cd, 0xb7d5, 0x9924, 0x1, 0x1);
        gbc.writeMem(0xc3d9, { 0xce, 0xd });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x9179, gbc.sp());
        EXPECT(0xc3db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc3d9));
        EXPECT(0xd, gbc.readMem(0xc3da));
        // CE 017B
        gbc.setState(0x29d4, 0x6809, 0x2290, 0x4367, 0x3e41, 0x6b6c, 0x1, 0x1);
        gbc.writeMem(0x29d4, { 0xce, 0x6 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x6809, gbc.sp());
        EXPECT(0x29d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 017C
        gbc.setState(0x44bf, 0x29de, 0x5940, 0xda1f, 0xf31c, 0xa6ca, 0x0, 0x0);
        gbc.writeMem(0x44bf, { 0xce, 0xac });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x29de, gbc.sp());
        EXPECT(0x44c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 017D
        gbc.setState(0xeaa7, 0xa59c, 0x6df0, 0x10e, 0x5316, 0x9591, 0x1, 0x0);
        gbc.writeMem(0xeaa7, { 0xce, 0xa2 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xa59c, gbc.sp());
        EXPECT(0xeaa9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xeaa7));
        EXPECT(0xa2, gbc.readMem(0xeaa8));
        // CE 017E
        gbc.setState(0x2ace, 0x8b90, 0x5cc0, 0x8c74, 0xe4c4, 0x16e4, 0x0, 0x0);
        gbc.writeMem(0x2ace, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x8b90, gbc.sp());
        EXPECT(0x2ad0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 017F
        gbc.setState(0x65ec, 0x1b54, 0xf7d0, 0xeb6e, 0x6223, 0x85bd, 0x1, 0x1);
        gbc.writeMem(0x65ec, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x1b54, gbc.sp());
        EXPECT(0x65ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0180
        gbc.setState(0x6214, 0x5db4, 0x5d60, 0x6713, 0xafd4, 0x6e3d, 0x1, 0x0);
        gbc.writeMem(0x6214, { 0xce, 0x29 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x5db4, gbc.sp());
        EXPECT(0x6216, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0181
        gbc.setState(0x1e46, 0x89c1, 0xcf20, 0x28af, 0x4a19, 0x146a, 0x1, 0x0);
        gbc.writeMem(0x1e46, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x89c1, gbc.sp());
        EXPECT(0x1e48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0182
        gbc.setState(0x3f6f, 0xf3fb, 0xf050, 0x85f1, 0x23de, 0xdb95, 0x1, 0x1);
        gbc.writeMem(0x3f6f, { 0xce, 0xef });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xf3fb, gbc.sp());
        EXPECT(0x3f71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0183
        gbc.setState(0xa471, 0x93a2, 0x1760, 0xceed, 0x4854, 0x263c, 0x1, 0x0);
        gbc.writeMem(0xa471, { 0xce, 0x37 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x93a2, gbc.sp());
        EXPECT(0xa473, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa471));
        EXPECT(0x37, gbc.readMem(0xa472));
        // CE 0184
        gbc.setState(0xc875, 0x1f33, 0x4570, 0x6242, 0x3576, 0x654a, 0x1, 0x1);
        gbc.writeMem(0xc875, { 0xce, 0x92 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x1f33, gbc.sp());
        EXPECT(0xc877, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc875));
        EXPECT(0x92, gbc.readMem(0xc876));
        // CE 0185
        gbc.setState(0x8de7, 0x9ff, 0xc420, 0x25f2, 0x9cfd, 0xd85, 0x0, 0x1);
        gbc.writeMem(0x8de7, { 0xce, 0x56 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x9ff, gbc.sp());
        EXPECT(0x8de9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8de7));
        EXPECT(0x56, gbc.readMem(0x8de8));
        // CE 0186
        gbc.setState(0x48d3, 0xbae7, 0xf290, 0xc2ef, 0xa495, 0x365c, 0x0, 0x0);
        gbc.writeMem(0x48d3, { 0xce, 0x1f });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xbae7, gbc.sp());
        EXPECT(0x48d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0187
        gbc.setState(0x31da, 0xf1fd, 0xb560, 0xfe29, 0x4cf1, 0xc2b4, 0x1, 0x1);
        gbc.writeMem(0x31da, { 0xce, 0x2e });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xf1fd, gbc.sp());
        EXPECT(0x31dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0188
        gbc.setState(0x6ec0, 0xd5a3, 0x9260, 0x86a1, 0x7da0, 0xc673, 0x0, 0x0);
        gbc.writeMem(0x6ec0, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd5a3, gbc.sp());
        EXPECT(0x6ec2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0189
        gbc.setState(0xed04, 0xdbde, 0xec80, 0x73ff, 0x1a09, 0x8140, 0x0, 0x1);
        gbc.writeMem(0xed04, { 0xce, 0x1a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xdbde, gbc.sp());
        EXPECT(0xed06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xed04));
        EXPECT(0x1a, gbc.readMem(0xed05));
        // CE 018A
        gbc.setState(0x80af, 0xcfd5, 0x80b0, 0x4116, 0x51f6, 0x474f, 0x0, 0x0);
        gbc.writeMem(0x80af, { 0xce, 0x1 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xcfd5, gbc.sp());
        EXPECT(0x80b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x80af));
        EXPECT(0x1, gbc.readMem(0x80b0));
        // CE 018B
        gbc.setState(0xe440, 0x2f10, 0x2d50, 0x4354, 0x1660, 0x8b0e, 0x0, 0x1);
        gbc.writeMem(0xe440, { 0xce, 0x62 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x2f10, gbc.sp());
        EXPECT(0xe442, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe440));
        EXPECT(0x62, gbc.readMem(0xe441));
        // CE 018C
        gbc.setState(0x5f06, 0xd24e, 0xe6c0, 0xd1ba, 0xa377, 0x2808, 0x0, 0x0);
        gbc.writeMem(0x5f06, { 0xce, 0x1f });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xd24e, gbc.sp());
        EXPECT(0x5f08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 018D
        gbc.setState(0x37e7, 0x7c37, 0x9d10, 0x24, 0x3bfe, 0xf2b6, 0x1, 0x1);
        gbc.writeMem(0x37e7, { 0xce, 0xf0 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7c37, gbc.sp());
        EXPECT(0x37e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 018E
        gbc.setState(0x1547, 0xdd24, 0x9e0, 0xcb79, 0x6ea4, 0x6c0c, 0x1, 0x0);
        gbc.writeMem(0x1547, { 0xce, 0x39 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xdd24, gbc.sp());
        EXPECT(0x1549, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 018F
        gbc.setState(0xce94, 0x98cf, 0x5c0, 0xaa6e, 0x99b7, 0xf6a6, 0x1, 0x0);
        gbc.writeMem(0xce94, { 0xce, 0x11 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x98cf, gbc.sp());
        EXPECT(0xce96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xce94));
        EXPECT(0x11, gbc.readMem(0xce95));
        // CE 0190
        gbc.setState(0x2dc6, 0x3f5b, 0xc790, 0xc7dc, 0x4b4e, 0x16bd, 0x0, 0x0);
        gbc.writeMem(0x2dc6, { 0xce, 0x41 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x3f5b, gbc.sp());
        EXPECT(0x2dc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0191
        gbc.setState(0x437, 0x1f3f, 0x8350, 0x2e3, 0x7e2d, 0x5a9d, 0x0, 0x1);
        gbc.writeMem(0x437, { 0xce, 0x3d });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x1f3f, gbc.sp());
        EXPECT(0x439, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0192
        gbc.setState(0xe3c1, 0xb30c, 0x6a10, 0x5c00, 0xf6c0, 0xdd5a, 0x0, 0x1);
        gbc.writeMem(0xe3c1, { 0xce, 0x1d });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xb30c, gbc.sp());
        EXPECT(0xe3c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe3c1));
        EXPECT(0x1d, gbc.readMem(0xe3c2));
        // CE 0193
        gbc.setState(0xb996, 0x709f, 0xcb20, 0xb002, 0x6f43, 0x9aa0, 0x0, 0x1);
        gbc.writeMem(0xb996, { 0xce, 0x44 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x709f, gbc.sp());
        EXPECT(0xb998, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb996));
        EXPECT(0x44, gbc.readMem(0xb997));
        // CE 0194
        gbc.setState(0xb8a7, 0xf422, 0x8e50, 0xc76f, 0xaa99, 0x914c, 0x1, 0x0);
        gbc.writeMem(0xb8a7, { 0xce, 0xaf });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xf422, gbc.sp());
        EXPECT(0xb8a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb8a7));
        EXPECT(0xaf, gbc.readMem(0xb8a8));
        // CE 0195
        gbc.setState(0x25c0, 0x5416, 0xb8c0, 0x1850, 0xb38e, 0xf540, 0x1, 0x1);
        gbc.writeMem(0x25c0, { 0xce, 0x40 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x5416, gbc.sp());
        EXPECT(0x25c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0196
        gbc.setState(0x8372, 0x23b2, 0x3590, 0xa63d, 0x274e, 0x7e2f, 0x0, 0x0);
        gbc.writeMem(0x8372, { 0xce, 0x98 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x23b2, gbc.sp());
        EXPECT(0x8374, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8372));
        EXPECT(0x98, gbc.readMem(0x8373));
        // CE 0197
        gbc.setState(0x9923, 0x5325, 0xc540, 0xfdaa, 0xc0f2, 0xf8cb, 0x1, 0x0);
        gbc.writeMem(0x9923, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x5325, gbc.sp());
        EXPECT(0x9925, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9923));
        EXPECT(0xc0, gbc.readMem(0x9924));
        // CE 0198
        gbc.setState(0x9397, 0x25a9, 0xdbd0, 0x438d, 0xcfc9, 0x735b, 0x0, 0x1);
        gbc.writeMem(0x9397, { 0xce, 0x13 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x25a9, gbc.sp());
        EXPECT(0x9399, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9397));
        EXPECT(0x13, gbc.readMem(0x9398));
        // CE 019A
        gbc.setState(0x159b, 0x7645, 0xd900, 0xc502, 0xdb58, 0x82fb, 0x1, 0x1);
        gbc.writeMem(0x159b, { 0xce, 0x90 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x7645, gbc.sp());
        EXPECT(0x159d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 019B
        gbc.setState(0x9c, 0x38ab, 0xf7a0, 0xb20a, 0xb075, 0x1270, 0x0, 0x0);
        gbc.writeMem(0x9c, { 0xce, 0xf9 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x38ab, gbc.sp());
        EXPECT(0x9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 019C
        gbc.setState(0x5002, 0x9111, 0x48b0, 0xa0bb, 0x6317, 0xb950, 0x1, 0x1);
        gbc.writeMem(0x5002, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x9111, gbc.sp());
        EXPECT(0x5004, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 019D
        gbc.setState(0x3446, 0x5e9d, 0x8d50, 0xcafa, 0xad8c, 0xd7e0, 0x1, 0x1);
        gbc.writeMem(0x3446, { 0xce, 0x29 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5e9d, gbc.sp());
        EXPECT(0x3448, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 019E
        gbc.setState(0xe545, 0xa763, 0xf20, 0x5a1e, 0x1afc, 0xf030, 0x0, 0x1);
        gbc.writeMem(0xe545, { 0xce, 0x16 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa763, gbc.sp());
        EXPECT(0xe547, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe545));
        EXPECT(0x16, gbc.readMem(0xe546));
        // CE 019F
        gbc.setState(0x905b, 0xbc4b, 0xdc40, 0xacc, 0x3967, 0x69ec, 0x1, 0x1);
        gbc.writeMem(0x905b, { 0xce, 0xb8 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xbc4b, gbc.sp());
        EXPECT(0x905d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x905b));
        EXPECT(0xb8, gbc.readMem(0x905c));
        // CE 01A0
        gbc.setState(0x1b22, 0x8f82, 0xea20, 0x8731, 0x78cf, 0xce76, 0x1, 0x0);
        gbc.writeMem(0x1b22, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x8f82, gbc.sp());
        EXPECT(0x1b24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01A1
        gbc.setState(0x30c1, 0xfa7e, 0x7f50, 0x923, 0x691a, 0x5039, 0x0, 0x1);
        gbc.writeMem(0x30c1, { 0xce, 0xef });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xfa7e, gbc.sp());
        EXPECT(0x30c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01A3
        gbc.setState(0x1355, 0x1da7, 0xbf00, 0x76eb, 0x1315, 0x795b, 0x0, 0x1);
        gbc.writeMem(0x1355, { 0xce, 0x2f });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x1da7, gbc.sp());
        EXPECT(0x1357, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01A4
        gbc.setState(0x5714, 0x9ca2, 0xa3a0, 0xcb7a, 0xec05, 0x4884, 0x0, 0x0);
        gbc.writeMem(0x5714, { 0xce, 0x8d });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x9ca2, gbc.sp());
        EXPECT(0x5716, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01A5
        gbc.setState(0x2bf0, 0x6fca, 0x2fc0, 0x2eb9, 0x31fd, 0xd812, 0x1, 0x0);
        gbc.writeMem(0x2bf0, { 0xce, 0xaa });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x6fca, gbc.sp());
        EXPECT(0x2bf2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01A6
        gbc.setState(0x4782, 0x9d05, 0xbdb0, 0xdd4d, 0x2f5f, 0x7aeb, 0x1, 0x0);
        gbc.writeMem(0x4782, { 0xce, 0xdd });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x9d05, gbc.sp());
        EXPECT(0x4784, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01A7
        gbc.setState(0x82ac, 0xa86d, 0x8ae0, 0x2083, 0x5222, 0x6072, 0x0, 0x0);
        gbc.writeMem(0x82ac, { 0xce, 0xef });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa86d, gbc.sp());
        EXPECT(0x82ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x82ac));
        EXPECT(0xef, gbc.readMem(0x82ad));
        // CE 01A8
        gbc.setState(0xb843, 0xa006, 0x26f0, 0xcd35, 0xd9c8, 0x73f5, 0x0, 0x1);
        gbc.writeMem(0xb843, { 0xce, 0xc8 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa006, gbc.sp());
        EXPECT(0xb845, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb843));
        EXPECT(0xc8, gbc.readMem(0xb844));
        // CE 01A9
        gbc.setState(0x8fd9, 0x67c8, 0x7150, 0x4e39, 0xdb25, 0x8a7c, 0x0, 0x0);
        gbc.writeMem(0x8fd9, { 0xce, 0x77 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x67c8, gbc.sp());
        EXPECT(0x8fdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8fd9));
        EXPECT(0x77, gbc.readMem(0x8fda));
        // CE 01AA
        gbc.setState(0x926e, 0xdd57, 0xc850, 0x2488, 0x4599, 0xa159, 0x0, 0x1);
        gbc.writeMem(0x926e, { 0xce, 0xef });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xdd57, gbc.sp());
        EXPECT(0x9270, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x926e));
        EXPECT(0xef, gbc.readMem(0x926f));
        // CE 01AB
        gbc.setState(0x621f, 0xf5d, 0x5200, 0xc307, 0x6b0d, 0x3108, 0x0, 0x0);
        gbc.writeMem(0x621f, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xf5d, gbc.sp());
        EXPECT(0x6221, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01AD
        gbc.setState(0x7ca1, 0xfa32, 0xa350, 0x2fee, 0xdc89, 0xe6c3, 0x0, 0x1);
        gbc.writeMem(0x7ca1, { 0xce, 0x4d });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xfa32, gbc.sp());
        EXPECT(0x7ca3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01AE
        gbc.setState(0xb1b0, 0xf9d, 0xf910, 0x18a9, 0x42e, 0xab55, 0x0, 0x0);
        gbc.writeMem(0xb1b0, { 0xce, 0x76 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xf9d, gbc.sp());
        EXPECT(0xb1b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb1b0));
        EXPECT(0x76, gbc.readMem(0xb1b1));
        // CE 01AF
        gbc.setState(0x4e8d, 0xe699, 0x8340, 0x8e5a, 0x9794, 0x50b9, 0x1, 0x1);
        gbc.writeMem(0x4e8d, { 0xce, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xe699, gbc.sp());
        EXPECT(0x4e8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01B0
        gbc.setState(0xe782, 0x338, 0x2490, 0x3a8a, 0x33be, 0x1a83, 0x0, 0x0);
        gbc.writeMem(0xe782, { 0xce, 0xa9 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x338, gbc.sp());
        EXPECT(0xe784, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe782));
        EXPECT(0xa9, gbc.readMem(0xe783));
        // CE 01B1
        gbc.setState(0x8f3, 0x391e, 0xa4f0, 0xd9a4, 0x9d01, 0x3c6a, 0x0, 0x0);
        gbc.writeMem(0x8f3, { 0xce, 0xd4 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x391e, gbc.sp());
        EXPECT(0x8f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01B2
        gbc.setState(0x2f92, 0xc1a7, 0x3860, 0x10fa, 0x38de, 0x4312, 0x1, 0x1);
        gbc.writeMem(0x2f92, { 0xce, 0x78 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc1a7, gbc.sp());
        EXPECT(0x2f94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01B3
        gbc.setState(0x9cd6, 0xa4d1, 0x3650, 0xb91d, 0xadff, 0xd5f5, 0x1, 0x1);
        gbc.writeMem(0x9cd6, { 0xce, 0x1d });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa4d1, gbc.sp());
        EXPECT(0x9cd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9cd6));
        EXPECT(0x1d, gbc.readMem(0x9cd7));
        // CE 01B4
        gbc.setState(0x70fe, 0xdd2f, 0x94a0, 0x2ff5, 0x8836, 0xb032, 0x1, 0x0);
        gbc.writeMem(0x70fe, { 0xce, 0x74 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xdd2f, gbc.sp());
        EXPECT(0x7100, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01B6
        gbc.setState(0x4626, 0x5b9c, 0x5e0, 0x9cba, 0x9566, 0xfead, 0x0, 0x0);
        gbc.writeMem(0x4626, { 0xce, 0xae });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x5b9c, gbc.sp());
        EXPECT(0x4628, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01B7
        gbc.setState(0x212a, 0x244, 0xa4f0, 0xfc46, 0x4669, 0xae11, 0x0, 0x1);
        gbc.writeMem(0x212a, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x244, gbc.sp());
        EXPECT(0x212c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01B8
        gbc.setState(0xd687, 0x79c1, 0x2680, 0x2d45, 0xbf1e, 0x356c, 0x1, 0x1);
        gbc.writeMem(0xd687, { 0xce, 0xab });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x79c1, gbc.sp());
        EXPECT(0xd689, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd687));
        EXPECT(0xab, gbc.readMem(0xd688));
        // CE 01B9
        gbc.setState(0xaa18, 0x8728, 0xa740, 0x29ac, 0xfeca, 0x36c6, 0x1, 0x0);
        gbc.writeMem(0xaa18, { 0xce, 0xe2 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x8728, gbc.sp());
        EXPECT(0xaa1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaa18));
        EXPECT(0xe2, gbc.readMem(0xaa19));
        // CE 01BA
        gbc.setState(0xb5f3, 0xb5e1, 0x7d50, 0xee34, 0x3613, 0x7c28, 0x0, 0x1);
        gbc.writeMem(0xb5f3, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xb5e1, gbc.sp());
        EXPECT(0xb5f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb5f3));
        EXPECT(0x58, gbc.readMem(0xb5f4));
        // CE 01BB
        gbc.setState(0xc825, 0x58b6, 0xd4b0, 0xd757, 0xc572, 0x6d3c, 0x0, 0x0);
        gbc.writeMem(0xc825, { 0xce, 0x7e });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x58b6, gbc.sp());
        EXPECT(0xc827, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc825));
        EXPECT(0x7e, gbc.readMem(0xc826));
        // CE 01BC
        gbc.setState(0xde, 0xbc7f, 0xfb00, 0x2c97, 0x93a6, 0x95a4, 0x1, 0x1);
        gbc.writeMem(0xde, { 0xce, 0xa });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xbc7f, gbc.sp());
        EXPECT(0xe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01BE
        gbc.setState(0x1c2, 0xe18e, 0x38b0, 0xe1e0, 0xc0a3, 0xcca9, 0x1, 0x1);
        gbc.writeMem(0x1c2, { 0xce, 0x9f });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xe18e, gbc.sp());
        EXPECT(0x1c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01BF
        gbc.setState(0x148c, 0xe06f, 0x34b0, 0x6c83, 0x148a, 0x72b2, 0x1, 0x0);
        gbc.writeMem(0x148c, { 0xce, 0x6d });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xe06f, gbc.sp());
        EXPECT(0x148e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01C1
        gbc.setState(0x957a, 0xc5f6, 0xef80, 0x41d0, 0x45a3, 0xadeb, 0x1, 0x0);
        gbc.writeMem(0x957a, { 0xce, 0xd2 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xc5f6, gbc.sp());
        EXPECT(0x957c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x957a));
        EXPECT(0xd2, gbc.readMem(0x957b));
        // CE 01C2
        gbc.setState(0xe7f9, 0x7a08, 0xade0, 0x22e3, 0x8a1b, 0xec5f, 0x1, 0x1);
        gbc.writeMem(0xe7f9, { 0xce, 0x20 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7a08, gbc.sp());
        EXPECT(0xe7fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe7f9));
        EXPECT(0x20, gbc.readMem(0xe7fa));
        // CE 01C3
        gbc.setState(0xa34e, 0x5ee8, 0x32e0, 0x3135, 0x240, 0xb926, 0x0, 0x1);
        gbc.writeMem(0xa34e, { 0xce, 0x11 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x5ee8, gbc.sp());
        EXPECT(0xa350, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa34e));
        EXPECT(0x11, gbc.readMem(0xa34f));
        // CE 01C4
        gbc.setState(0x782f, 0x40dc, 0xf330, 0xa5a4, 0x11ab, 0x8cb2, 0x0, 0x1);
        gbc.writeMem(0x782f, { 0xce, 0xf2 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x40dc, gbc.sp());
        EXPECT(0x7831, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01C5
        gbc.setState(0xd95d, 0x5dde, 0xb800, 0x36f5, 0x6942, 0x44b, 0x0, 0x0);
        gbc.writeMem(0xd95d, { 0xce, 0x32 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x5dde, gbc.sp());
        EXPECT(0xd95f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd95d));
        EXPECT(0x32, gbc.readMem(0xd95e));
        // CE 01C6
        gbc.setState(0xb427, 0x19bb, 0x15a0, 0xe402, 0xa5e1, 0x15ac, 0x1, 0x0);
        gbc.writeMem(0xb427, { 0xce, 0x66 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x19bb, gbc.sp());
        EXPECT(0xb429, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb427));
        EXPECT(0x66, gbc.readMem(0xb428));
        // CE 01C7
        gbc.setState(0x9701, 0x9c2e, 0x75a0, 0x42d5, 0x2417, 0x6dd4, 0x0, 0x1);
        gbc.writeMem(0x9701, { 0xce, 0x0 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x9c2e, gbc.sp());
        EXPECT(0x9703, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9701));
        EXPECT(0x0, gbc.readMem(0x9702));
        // CE 01C8
        gbc.setState(0x7aa0, 0x80d0, 0xaa40, 0xb7e0, 0xfa92, 0x71d5, 0x1, 0x0);
        gbc.writeMem(0x7aa0, { 0xce, 0xa3 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x80d0, gbc.sp());
        EXPECT(0x7aa2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01C9
        gbc.setState(0xe62a, 0xc1de, 0xcac0, 0x7d8, 0x60ca, 0xe4a4, 0x0, 0x1);
        gbc.writeMem(0xe62a, { 0xce, 0x37 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xc1de, gbc.sp());
        EXPECT(0xe62c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe62a));
        EXPECT(0x37, gbc.readMem(0xe62b));
        // CE 01CA
        gbc.setState(0x18fb, 0x8a50, 0x93b0, 0x7c9, 0x5345, 0xe10e, 0x0, 0x1);
        gbc.writeMem(0x18fb, { 0xce, 0x61 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x8a50, gbc.sp());
        EXPECT(0x18fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01CB
        gbc.setState(0x5753, 0x2746, 0xa650, 0x4322, 0x7e5f, 0xc1c, 0x1, 0x1);
        gbc.writeMem(0x5753, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x2746, gbc.sp());
        EXPECT(0x5755, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01CC
        gbc.setState(0xe8fe, 0x1d9d, 0x1140, 0x6a71, 0x18a4, 0xc608, 0x0, 0x1);
        gbc.writeMem(0xe8fe, { 0xce, 0x3f });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x1d9d, gbc.sp());
        EXPECT(0xe900, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe8fe));
        EXPECT(0x3f, gbc.readMem(0xe8ff));
        // CE 01CD
        gbc.setState(0x1ef0, 0x83e8, 0x8570, 0x122e, 0x2246, 0xeb2c, 0x1, 0x1);
        gbc.writeMem(0x1ef0, { 0xce, 0x8e });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x83e8, gbc.sp());
        EXPECT(0x1ef2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01CE
        gbc.setState(0xe1fd, 0x3f80, 0x39e0, 0x3b79, 0x45de, 0xa20c, 0x1, 0x0);
        gbc.writeMem(0xe1fd, { 0xce, 0x99 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x3f80, gbc.sp());
        EXPECT(0xe1ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe1fd));
        EXPECT(0x99, gbc.readMem(0xe1fe));
        // CE 01CF
        gbc.setState(0x892a, 0x2724, 0xc660, 0x7a2a, 0x3f45, 0xcdf1, 0x1, 0x0);
        gbc.writeMem(0x892a, { 0xce, 0xb7 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x2724, gbc.sp());
        EXPECT(0x892c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x892a));
        EXPECT(0xb7, gbc.readMem(0x892b));
        // CE 01D0
        gbc.setState(0xc3a, 0x4eec, 0xb300, 0xc8dd, 0xd00f, 0x7838, 0x0, 0x1);
        gbc.writeMem(0xc3a, { 0xce, 0xb3 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x4eec, gbc.sp());
        EXPECT(0xc3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01D1
        gbc.setState(0x8a6, 0x3e59, 0xa400, 0x4226, 0x7dab, 0xe26f, 0x0, 0x1);
        gbc.writeMem(0x8a6, { 0xce, 0x14 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x3e59, gbc.sp());
        EXPECT(0x8a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01D2
        gbc.setState(0xec72, 0x9690, 0xab30, 0x2b0, 0x10bd, 0xb5d0, 0x0, 0x0);
        gbc.writeMem(0xec72, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x9690, gbc.sp());
        EXPECT(0xec74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xec72));
        EXPECT(0x5d, gbc.readMem(0xec73));
        // CE 01D3
        gbc.setState(0x176b, 0x8fbd, 0x4420, 0xdc5c, 0x900c, 0x851c, 0x0, 0x0);
        gbc.writeMem(0x176b, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x8fbd, gbc.sp());
        EXPECT(0x176d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01D4
        gbc.setState(0x2ff4, 0x64ac, 0xe400, 0x6e60, 0x369f, 0x7dd8, 0x1, 0x1);
        gbc.writeMem(0x2ff4, { 0xce, 0x36 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x64ac, gbc.sp());
        EXPECT(0x2ff6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01D5
        gbc.setState(0x260e, 0x88ca, 0xdc0, 0xc7e3, 0x6524, 0xd58f, 0x1, 0x0);
        gbc.writeMem(0x260e, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x88ca, gbc.sp());
        EXPECT(0x2610, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01D6
        gbc.setState(0x589b, 0x7258, 0x70e0, 0x3c96, 0x835, 0xcfd3, 0x1, 0x1);
        gbc.writeMem(0x589b, { 0xce, 0xcc });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x7258, gbc.sp());
        EXPECT(0x589d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01D7
        gbc.setState(0xa220, 0x6aae, 0xd8b0, 0xacef, 0x23ff, 0xc18d, 0x0, 0x1);
        gbc.writeMem(0xa220, { 0xce, 0xac });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x6aae, gbc.sp());
        EXPECT(0xa222, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa220));
        EXPECT(0xac, gbc.readMem(0xa221));
        // CE 01D8
        gbc.setState(0xd748, 0x537d, 0x2870, 0x751a, 0x7442, 0xe1b, 0x1, 0x0);
        gbc.writeMem(0xd748, { 0xce, 0x3c });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x537d, gbc.sp());
        EXPECT(0xd74a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd748));
        EXPECT(0x3c, gbc.readMem(0xd749));
        // CE 01D9
        gbc.setState(0xdf50, 0x7658, 0xbbb0, 0xdd71, 0x5989, 0xb05f, 0x0, 0x0);
        gbc.writeMem(0xdf50, { 0xce, 0xc5 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7658, gbc.sp());
        EXPECT(0xdf52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdf50));
        EXPECT(0xc5, gbc.readMem(0xdf51));
        // CE 01DA
        gbc.setState(0xbd04, 0xfbae, 0xdbf0, 0xadc0, 0x4315, 0x9f60, 0x0, 0x1);
        gbc.writeMem(0xbd04, { 0xce, 0xf1 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xfbae, gbc.sp());
        EXPECT(0xbd06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbd04));
        EXPECT(0xf1, gbc.readMem(0xbd05));
        // CE 01DB
        gbc.setState(0x8dc5, 0x94bb, 0x90f0, 0x4e65, 0xd579, 0x8ee7, 0x1, 0x1);
        gbc.writeMem(0x8dc5, { 0xce, 0xa1 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x94bb, gbc.sp());
        EXPECT(0x8dc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8dc5));
        EXPECT(0xa1, gbc.readMem(0x8dc6));
        // CE 01DC
        gbc.setState(0x3593, 0x1c7c, 0x1030, 0x3ce1, 0x5869, 0x346f, 0x1, 0x0);
        gbc.writeMem(0x3593, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x1c7c, gbc.sp());
        EXPECT(0x3595, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01DD
        gbc.setState(0x9d24, 0xabe5, 0xa60, 0x3a1b, 0xebca, 0x68cf, 0x0, 0x1);
        gbc.writeMem(0x9d24, { 0xce, 0x6b });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xabe5, gbc.sp());
        EXPECT(0x9d26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9d24));
        EXPECT(0x6b, gbc.readMem(0x9d25));
        // CE 01DE
        gbc.setState(0x88e5, 0x8c1, 0xf590, 0xa814, 0x42b9, 0xe7a1, 0x0, 0x0);
        gbc.writeMem(0x88e5, { 0xce, 0xbd });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x8c1, gbc.sp());
        EXPECT(0x88e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x88e5));
        EXPECT(0xbd, gbc.readMem(0x88e6));
        // CE 01DF
        gbc.setState(0x8c66, 0xe597, 0xeb70, 0x6186, 0xa5ac, 0x4afe, 0x1, 0x1);
        gbc.writeMem(0x8c66, { 0xce, 0x5f });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xe597, gbc.sp());
        EXPECT(0x8c68, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8c66));
        EXPECT(0x5f, gbc.readMem(0x8c67));
        // CE 01E0
        gbc.setState(0x126d, 0xf6fb, 0x7480, 0x7d21, 0x9332, 0x3c97, 0x1, 0x0);
        gbc.writeMem(0x126d, { 0xce, 0x87 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xf6fb, gbc.sp());
        EXPECT(0x126f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01E1
        gbc.setState(0xa49f, 0x5da0, 0x74f0, 0xe36b, 0x3391, 0x6a05, 0x1, 0x1);
        gbc.writeMem(0xa49f, { 0xce, 0x87 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x5da0, gbc.sp());
        EXPECT(0xa4a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa49f));
        EXPECT(0x87, gbc.readMem(0xa4a0));
        // CE 01E2
        gbc.setState(0xd531, 0x1405, 0xfb60, 0x7dea, 0x9ee1, 0xfbae, 0x0, 0x0);
        gbc.writeMem(0xd531, { 0xce, 0x76 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x1405, gbc.sp());
        EXPECT(0xd533, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd531));
        EXPECT(0x76, gbc.readMem(0xd532));
        // CE 01E3
        gbc.setState(0x9d39, 0x3eff, 0x8860, 0x241a, 0xf0e0, 0xf96d, 0x0, 0x1);
        gbc.writeMem(0x9d39, { 0xce, 0x6 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x3eff, gbc.sp());
        EXPECT(0x9d3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9d39));
        EXPECT(0x6, gbc.readMem(0x9d3a));
        // CE 01E4
        gbc.setState(0xb77d, 0x26ef, 0xbdc0, 0xf0e4, 0xd050, 0xd186, 0x0, 0x1);
        gbc.writeMem(0xb77d, { 0xce, 0x24 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x26ef, gbc.sp());
        EXPECT(0xb77f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb77d));
        EXPECT(0x24, gbc.readMem(0xb77e));
        // CE 01E5
        gbc.setState(0x853d, 0x9061, 0x1fd0, 0x310b, 0x66dd, 0x3b34, 0x1, 0x0);
        gbc.writeMem(0x853d, { 0xce, 0x30 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x9061, gbc.sp());
        EXPECT(0x853f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x853d));
        EXPECT(0x30, gbc.readMem(0x853e));
        // CE 01E6
        gbc.setState(0x4b37, 0xae47, 0xa9a0, 0xd9ba, 0x50c0, 0x4e7c, 0x0, 0x1);
        gbc.writeMem(0x4b37, { 0xce, 0xe9 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xae47, gbc.sp());
        EXPECT(0x4b39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01E7
        gbc.setState(0x6439, 0xe607, 0xc870, 0x43a5, 0x227c, 0xc535, 0x1, 0x1);
        gbc.writeMem(0x6439, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xe607, gbc.sp());
        EXPECT(0x643b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01E8
        gbc.setState(0xbd38, 0x6743, 0x38a0, 0x5aac, 0x1393, 0xca47, 0x0, 0x0);
        gbc.writeMem(0xbd38, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x6743, gbc.sp());
        EXPECT(0xbd3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbd38));
        EXPECT(0x5d, gbc.readMem(0xbd39));
        // CE 01EB
        gbc.setState(0xb09a, 0xc76c, 0x1320, 0xb158, 0xea9c, 0xbe49, 0x0, 0x1);
        gbc.writeMem(0xb09a, { 0xce, 0xd });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xc76c, gbc.sp());
        EXPECT(0xb09c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb09a));
        EXPECT(0xd, gbc.readMem(0xb09b));
        // CE 01EC
        gbc.setState(0xc710, 0x2639, 0xac70, 0x4c3c, 0xaa50, 0xd597, 0x0, 0x0);
        gbc.writeMem(0xc710, { 0xce, 0x94 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x2639, gbc.sp());
        EXPECT(0xc712, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc710));
        EXPECT(0x94, gbc.readMem(0xc711));
        // CE 01ED
        gbc.setState(0xe072, 0xb694, 0x860, 0xe7f9, 0x70f6, 0xc26d, 0x0, 0x1);
        gbc.writeMem(0xe072, { 0xce, 0xa3 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xb694, gbc.sp());
        EXPECT(0xe074, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe072));
        EXPECT(0xa3, gbc.readMem(0xe073));
        // CE 01EE
        gbc.setState(0xb100, 0x6a2b, 0x5fc0, 0x94fb, 0x9ee4, 0x3d2b, 0x1, 0x0);
        gbc.writeMem(0xb100, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x6a2b, gbc.sp());
        EXPECT(0xb102, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb100));
        EXPECT(0x18, gbc.readMem(0xb101));
        // CE 01EF
        gbc.setState(0x31d8, 0x14b, 0xe850, 0xd4b0, 0x9e81, 0x5367, 0x0, 0x1);
        gbc.writeMem(0x31d8, { 0xce, 0x5e });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x14b, gbc.sp());
        EXPECT(0x31da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01F0
        gbc.setState(0x5fbf, 0xcd26, 0xccf0, 0xe521, 0x705d, 0xdb75, 0x0, 0x0);
        gbc.writeMem(0x5fbf, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xcd26, gbc.sp());
        EXPECT(0x5fc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01F1
        gbc.setState(0xc4e4, 0x82a5, 0x5db0, 0x31bd, 0xbf21, 0x7649, 0x0, 0x0);
        gbc.writeMem(0xc4e4, { 0xce, 0xc3 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x82a5, gbc.sp());
        EXPECT(0xc4e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc4e4));
        EXPECT(0xc3, gbc.readMem(0xc4e5));
        // CE 01F2
        gbc.setState(0xaab8, 0x7460, 0x1390, 0x285d, 0x6887, 0x2e54, 0x1, 0x0);
        gbc.writeMem(0xaab8, { 0xce, 0x83 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x7460, gbc.sp());
        EXPECT(0xaaba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaab8));
        EXPECT(0x83, gbc.readMem(0xaab9));
        // CE 01F3
        gbc.setState(0xbee, 0x5f30, 0x3670, 0xd5ab, 0xc1c1, 0x3b7f, 0x0, 0x1);
        gbc.writeMem(0xbee, { 0xce, 0xad });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5f30, gbc.sp());
        EXPECT(0xbf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01F4
        gbc.setState(0x225, 0x6964, 0x5f60, 0xf953, 0xf125, 0xa591, 0x0, 0x0);
        gbc.writeMem(0x225, { 0xce, 0x33 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x6964, gbc.sp());
        EXPECT(0x227, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01F5
        gbc.setState(0x30a4, 0xb1f1, 0x2630, 0x9d40, 0x814b, 0xac85, 0x1, 0x1);
        gbc.writeMem(0x30a4, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb1f1, gbc.sp());
        EXPECT(0x30a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01F6
        gbc.setState(0xbad8, 0x77b8, 0x3cc0, 0x7fbb, 0x5d41, 0xda7a, 0x0, 0x0);
        gbc.writeMem(0xbad8, { 0xce, 0xfb });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x77b8, gbc.sp());
        EXPECT(0xbada, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbad8));
        EXPECT(0xfb, gbc.readMem(0xbad9));
        // CE 01F7
        gbc.setState(0x6ff1, 0xe424, 0xdc80, 0xc3c4, 0xa4ee, 0xd237, 0x1, 0x0);
        gbc.writeMem(0x6ff1, { 0xce, 0x1 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xe424, gbc.sp());
        EXPECT(0x6ff3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01F8
        gbc.setState(0x8fe5, 0x2861, 0x7410, 0x1eb2, 0x167c, 0xdd2, 0x1, 0x0);
        gbc.writeMem(0x8fe5, { 0xce, 0x6c });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x2861, gbc.sp());
        EXPECT(0x8fe7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8fe5));
        EXPECT(0x6c, gbc.readMem(0x8fe6));
        // CE 01F9
        gbc.setState(0x6165, 0xbe33, 0x7f90, 0x7dda, 0x77c, 0x733b, 0x0, 0x0);
        gbc.writeMem(0x6165, { 0xce, 0xf7 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xbe33, gbc.sp());
        EXPECT(0x6167, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01FA
        gbc.setState(0x6d8e, 0x6e8, 0x9750, 0x353e, 0xc16e, 0x2158, 0x1, 0x0);
        gbc.writeMem(0x6d8e, { 0xce, 0xcb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x6e8, gbc.sp());
        EXPECT(0x6d90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01FC
        gbc.setState(0xd3a5, 0xaace, 0x3030, 0x459d, 0xd538, 0x3742, 0x0, 0x0);
        gbc.writeMem(0xd3a5, { 0xce, 0xf7 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xaace, gbc.sp());
        EXPECT(0xd3a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd3a5));
        EXPECT(0xf7, gbc.readMem(0xd3a6));
        // CE 01FD
        gbc.setState(0x7950, 0x7715, 0x9eb0, 0xe360, 0xf52e, 0xce09, 0x0, 0x1);
        gbc.writeMem(0x7950, { 0xce, 0x3e });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x7715, gbc.sp());
        EXPECT(0x7952, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 01FE
        gbc.setState(0x3f5c, 0x7ba0, 0x30a0, 0x5c30, 0x2eef, 0xd2f8, 0x1, 0x1);
        gbc.writeMem(0x3f5c, { 0xce, 0xfa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x7ba0, gbc.sp());
        EXPECT(0x3f5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 01FF
        gbc.setState(0x61ff, 0x9924, 0x4fd0, 0x98fe, 0x9e10, 0x6a4a, 0x0, 0x0);
        gbc.writeMem(0x61ff, { 0xce, 0x27 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x9924, gbc.sp());
        EXPECT(0x6201, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0200
        gbc.setState(0xea3f, 0x515f, 0xe2b0, 0x98a9, 0xffb0, 0x6229, 0x0, 0x0);
        gbc.writeMem(0xea3f, { 0xce, 0x9e });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x515f, gbc.sp());
        EXPECT(0xea41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xea3f));
        EXPECT(0x9e, gbc.readMem(0xea40));
        // CE 0201
        gbc.setState(0x618a, 0x5ba7, 0x1bc0, 0x923, 0x91ba, 0xb24e, 0x0, 0x1);
        gbc.writeMem(0x618a, { 0xce, 0xb });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x5ba7, gbc.sp());
        EXPECT(0x618c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0202
        gbc.setState(0x9a06, 0xb615, 0x740, 0xb0ce, 0x1c60, 0x38ae, 0x1, 0x1);
        gbc.writeMem(0x9a06, { 0xce, 0xc2 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xb615, gbc.sp());
        EXPECT(0x9a08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9a06));
        EXPECT(0xc2, gbc.readMem(0x9a07));
        // CE 0204
        gbc.setState(0x2150, 0x7827, 0x9fd0, 0x8709, 0x535, 0x434e, 0x0, 0x0);
        gbc.writeMem(0x2150, { 0xce, 0x44 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x7827, gbc.sp());
        EXPECT(0x2152, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0205
        gbc.setState(0xde1d, 0x72c4, 0xb0b0, 0x7875, 0xf416, 0x8ae9, 0x0, 0x0);
        gbc.writeMem(0xde1d, { 0xce, 0x67 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x72c4, gbc.sp());
        EXPECT(0xde1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xde1d));
        EXPECT(0x67, gbc.readMem(0xde1e));
        // CE 0206
        gbc.setState(0xe98a, 0x7c44, 0x1650, 0xdbd2, 0x5a57, 0xe9e8, 0x1, 0x1);
        gbc.writeMem(0xe98a, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x7c44, gbc.sp());
        EXPECT(0xe98c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe98a));
        EXPECT(0x18, gbc.readMem(0xe98b));
        // CE 0207
        gbc.setState(0x6ad4, 0x9c7f, 0xac90, 0xa712, 0x2484, 0x55f5, 0x1, 0x1);
        gbc.writeMem(0x6ad4, { 0xce, 0x1 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x9c7f, gbc.sp());
        EXPECT(0x6ad6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0208
        gbc.setState(0x9410, 0xbc9f, 0x6fa0, 0xd569, 0xd595, 0x69c, 0x1, 0x1);
        gbc.writeMem(0x9410, { 0xce, 0xc8 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xbc9f, gbc.sp());
        EXPECT(0x9412, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9410));
        EXPECT(0xc8, gbc.readMem(0x9411));
        // CE 0209
        gbc.setState(0xe6a3, 0x1ee, 0xac40, 0x8409, 0x90f9, 0xd46a, 0x1, 0x1);
        gbc.writeMem(0xe6a3, { 0xce, 0x9a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x1ee, gbc.sp());
        EXPECT(0xe6a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe6a3));
        EXPECT(0x9a, gbc.readMem(0xe6a4));
        // CE 020A
        gbc.setState(0xdb7a, 0x602d, 0xd490, 0x7b28, 0x5796, 0x75d4, 0x1, 0x0);
        gbc.writeMem(0xdb7a, { 0xce, 0xe0 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x602d, gbc.sp());
        EXPECT(0xdb7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdb7a));
        EXPECT(0xe0, gbc.readMem(0xdb7b));
        // CE 020B
        gbc.setState(0x5e46, 0xbf11, 0x67a0, 0xb3bc, 0xea84, 0x1fa1, 0x1, 0x1);
        gbc.writeMem(0x5e46, { 0xce, 0x9 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xbf11, gbc.sp());
        EXPECT(0x5e48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 020C
        gbc.setState(0x3cc2, 0xaa96, 0xb120, 0xeba0, 0x7743, 0xd792, 0x1, 0x1);
        gbc.writeMem(0x3cc2, { 0xce, 0xc1 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xaa96, gbc.sp());
        EXPECT(0x3cc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 020D
        gbc.setState(0x8ad1, 0x26b3, 0x66d0, 0x5cbb, 0xadad, 0xb8b7, 0x1, 0x1);
        gbc.writeMem(0x8ad1, { 0xce, 0xc3 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x26b3, gbc.sp());
        EXPECT(0x8ad3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8ad1));
        EXPECT(0xc3, gbc.readMem(0x8ad2));
        // CE 020E
        gbc.setState(0x5302, 0x2bb7, 0x6260, 0x9b70, 0xb8ae, 0x3992, 0x0, 0x0);
        gbc.writeMem(0x5302, { 0xce, 0xb7 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x2bb7, gbc.sp());
        EXPECT(0x5304, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 020F
        gbc.setState(0xdc94, 0x4e7a, 0xb050, 0xa378, 0xcf46, 0xf149, 0x1, 0x0);
        gbc.writeMem(0xdc94, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x4e7a, gbc.sp());
        EXPECT(0xdc96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdc94));
        EXPECT(0x3a, gbc.readMem(0xdc95));
        // CE 0210
        gbc.setState(0x897d, 0xccba, 0xbe00, 0x95fe, 0x4f83, 0xb1aa, 0x0, 0x0);
        gbc.writeMem(0x897d, { 0xce, 0x57 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xccba, gbc.sp());
        EXPECT(0x897f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x897d));
        EXPECT(0x57, gbc.readMem(0x897e));
        // CE 0211
        gbc.setState(0x87c0, 0xfdcd, 0x7e00, 0x1505, 0xe87b, 0x4f22, 0x1, 0x1);
        gbc.writeMem(0x87c0, { 0xce, 0xb5 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xfdcd, gbc.sp());
        EXPECT(0x87c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x87c0));
        EXPECT(0xb5, gbc.readMem(0x87c1));
        // CE 0212
        gbc.setState(0xe0e2, 0x9833, 0xa3c0, 0xf1b0, 0x6dab, 0x14ad, 0x1, 0x1);
        gbc.writeMem(0xe0e2, { 0xce, 0x69 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x9833, gbc.sp());
        EXPECT(0xe0e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe0e2));
        EXPECT(0x69, gbc.readMem(0xe0e3));
        // CE 0213
        gbc.setState(0xfa1, 0x4a84, 0x6100, 0xeba2, 0xa3bb, 0xfec4, 0x1, 0x0);
        gbc.writeMem(0xfa1, { 0xce, 0x1a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x4a84, gbc.sp());
        EXPECT(0xfa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0214
        gbc.setState(0x9a6f, 0x1f0d, 0x1040, 0xf0a5, 0x3703, 0x543d, 0x1, 0x0);
        gbc.writeMem(0x9a6f, { 0xce, 0xd2 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x1f0d, gbc.sp());
        EXPECT(0x9a71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9a6f));
        EXPECT(0xd2, gbc.readMem(0x9a70));
        // CE 0215
        gbc.setState(0xef99, 0x958d, 0x9f40, 0xbf5a, 0xbc3b, 0x7f16, 0x1, 0x1);
        gbc.writeMem(0xef99, { 0xce, 0xfd });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x958d, gbc.sp());
        EXPECT(0xef9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xef99));
        EXPECT(0xfd, gbc.readMem(0xef9a));
        // CE 0216
        gbc.setState(0x2a8b, 0x515d, 0x4330, 0x1d74, 0x3f70, 0x431b, 0x0, 0x0);
        gbc.writeMem(0x2a8b, { 0xce, 0x4e });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x515d, gbc.sp());
        EXPECT(0x2a8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0217
        gbc.setState(0x2ba, 0x6446, 0x14d0, 0xa3bd, 0xc8b2, 0x102c, 0x0, 0x1);
        gbc.writeMem(0x2ba, { 0xce, 0xfd });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x6446, gbc.sp());
        EXPECT(0x2bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0218
        gbc.setState(0x7c40, 0xa721, 0x510, 0x700e, 0x2056, 0xa477, 0x1, 0x0);
        gbc.writeMem(0x7c40, { 0xce, 0x4b });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xa721, gbc.sp());
        EXPECT(0x7c42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0219
        gbc.setState(0xb4ee, 0x8bf9, 0xe570, 0xd421, 0xa849, 0xb578, 0x0, 0x1);
        gbc.writeMem(0xb4ee, { 0xce, 0x9b });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x8bf9, gbc.sp());
        EXPECT(0xb4f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb4ee));
        EXPECT(0x9b, gbc.readMem(0xb4ef));
        // CE 021A
        gbc.setState(0x9471, 0x2548, 0x1550, 0xbf58, 0x19d1, 0xa1d7, 0x1, 0x0);
        gbc.writeMem(0x9471, { 0xce, 0xff });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x2548, gbc.sp());
        EXPECT(0x9473, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9471));
        EXPECT(0xff, gbc.readMem(0x9472));
        // CE 021B
        gbc.setState(0x7e11, 0xb64, 0x15a0, 0xa778, 0xb871, 0xaf03, 0x0, 0x0);
        gbc.writeMem(0x7e11, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xb64, gbc.sp());
        EXPECT(0x7e13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 021C
        gbc.setState(0x3e46, 0x70fd, 0x4800, 0x9449, 0x6121, 0xbc38, 0x1, 0x1);
        gbc.writeMem(0x3e46, { 0xce, 0x1f });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x70fd, gbc.sp());
        EXPECT(0x3e48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 021D
        gbc.setState(0x4b92, 0xacee, 0x6830, 0xb212, 0xc223, 0xb5f4, 0x1, 0x0);
        gbc.writeMem(0x4b92, { 0xce, 0x34 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xacee, gbc.sp());
        EXPECT(0x4b94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 021E
        gbc.setState(0x1f86, 0x77ca, 0x7e40, 0xbb00, 0x9227, 0x95ab, 0x0, 0x1);
        gbc.writeMem(0x1f86, { 0xce, 0xcc });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x77ca, gbc.sp());
        EXPECT(0x1f88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 021F
        gbc.setState(0x5abe, 0x98fc, 0xf340, 0x68f9, 0xccc5, 0xb5d9, 0x1, 0x0);
        gbc.writeMem(0x5abe, { 0xce, 0xc });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x98fc, gbc.sp());
        EXPECT(0x5ac0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0220
        gbc.setState(0x75cb, 0x33e8, 0xc9a0, 0x5ec2, 0x3fd8, 0x36b9, 0x0, 0x0);
        gbc.writeMem(0x75cb, { 0xce, 0x23 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x33e8, gbc.sp());
        EXPECT(0x75cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0221
        gbc.setState(0xbfdd, 0xff69, 0x4dd0, 0x2acb, 0x5d36, 0xd655, 0x1, 0x0);
        gbc.writeMem(0xbfdd, { 0xce, 0xaa });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xff69, gbc.sp());
        EXPECT(0xbfdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbfdd));
        EXPECT(0xaa, gbc.readMem(0xbfde));
        // CE 0222
        gbc.setState(0xb3ba, 0x48c, 0x11a0, 0x65e7, 0xad7, 0xc044, 0x1, 0x1);
        gbc.writeMem(0xb3ba, { 0xce, 0x7c });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x48c, gbc.sp());
        EXPECT(0xb3bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb3ba));
        EXPECT(0x7c, gbc.readMem(0xb3bb));
        // CE 0223
        gbc.setState(0xbbbc, 0xd854, 0x8e00, 0x8d69, 0x8fdc, 0x96f9, 0x0, 0x1);
        gbc.writeMem(0xbbbc, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xd854, gbc.sp());
        EXPECT(0xbbbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbbbc));
        EXPECT(0x2b, gbc.readMem(0xbbbd));
        // CE 0224
        gbc.setState(0x8e3c, 0x9283, 0x9bc0, 0x6e6, 0x354c, 0x37c, 0x1, 0x1);
        gbc.writeMem(0x8e3c, { 0xce, 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x9283, gbc.sp());
        EXPECT(0x8e3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8e3c));
        EXPECT(0x54, gbc.readMem(0x8e3d));
        // CE 0225
        gbc.setState(0xa433, 0x1b57, 0x5f90, 0x712a, 0xc9f5, 0x2e27, 0x0, 0x1);
        gbc.writeMem(0xa433, { 0xce, 0x9c });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x1b57, gbc.sp());
        EXPECT(0xa435, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa433));
        EXPECT(0x9c, gbc.readMem(0xa434));
        // CE 0226
        gbc.setState(0x98f1, 0xf693, 0x63c0, 0x39b9, 0x19bf, 0x111d, 0x0, 0x1);
        gbc.writeMem(0x98f1, { 0xce, 0xe7 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xf693, gbc.sp());
        EXPECT(0x98f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x98f1));
        EXPECT(0xe7, gbc.readMem(0x98f2));
        // CE 0227
        gbc.setState(0x883d, 0x8a21, 0x3420, 0xc5c0, 0x3e8f, 0xd56b, 0x1, 0x1);
        gbc.writeMem(0x883d, { 0xce, 0xf9 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x8a21, gbc.sp());
        EXPECT(0x883f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x883d));
        EXPECT(0xf9, gbc.readMem(0x883e));
        // CE 0228
        gbc.setState(0x359a, 0x3bcd, 0xcd70, 0xd616, 0x6ddd, 0x5a9f, 0x1, 0x1);
        gbc.writeMem(0x359a, { 0xce, 0xfc });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x3bcd, gbc.sp());
        EXPECT(0x359c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0229
        gbc.setState(0xac5f, 0x3635, 0x8690, 0xd1f5, 0x3918, 0xf259, 0x0, 0x1);
        gbc.writeMem(0xac5f, { 0xce, 0xc6 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x3635, gbc.sp());
        EXPECT(0xac61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xac5f));
        EXPECT(0xc6, gbc.readMem(0xac60));
        // CE 022A
        gbc.setState(0x6060, 0x799f, 0xe6b0, 0xf1d0, 0x10a1, 0x3942, 0x1, 0x0);
        gbc.writeMem(0x6060, { 0xce, 0x82 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x799f, gbc.sp());
        EXPECT(0x6062, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 022B
        gbc.setState(0x3eed, 0xd102, 0x65d0, 0xf32e, 0xc573, 0x4979, 0x1, 0x1);
        gbc.writeMem(0x3eed, { 0xce, 0x32 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd102, gbc.sp());
        EXPECT(0x3eef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 022C
        gbc.setState(0x3fba, 0xde53, 0x92a0, 0x4009, 0x70f3, 0x1944, 0x1, 0x0);
        gbc.writeMem(0x3fba, { 0xce, 0xd4 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xde53, gbc.sp());
        EXPECT(0x3fbc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 022D
        gbc.setState(0xd189, 0x202b, 0xc480, 0x10e3, 0x49c0, 0x29fc, 0x0, 0x1);
        gbc.writeMem(0xd189, { 0xce, 0x8d });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x202b, gbc.sp());
        EXPECT(0xd18b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd189));
        EXPECT(0x8d, gbc.readMem(0xd18a));
        // CE 022E
        gbc.setState(0x2462, 0x965a, 0x1f90, 0xcadb, 0x6f4b, 0xacc4, 0x0, 0x1);
        gbc.writeMem(0x2462, { 0xce, 0xc });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x965a, gbc.sp());
        EXPECT(0x2464, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 022F
        gbc.setState(0x2642, 0xbc93, 0x1f0, 0x3deb, 0x410a, 0x18b7, 0x0, 0x0);
        gbc.writeMem(0x2642, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xbc93, gbc.sp());
        EXPECT(0x2644, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0230
        gbc.setState(0x16c7, 0xbd88, 0x9260, 0xb7aa, 0xb8e3, 0x5bde, 0x0, 0x1);
        gbc.writeMem(0x16c7, { 0xce, 0x31 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xbd88, gbc.sp());
        EXPECT(0x16c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0231
        gbc.setState(0x875a, 0x3d75, 0xe000, 0xdb13, 0x38d6, 0xafeb, 0x1, 0x0);
        gbc.writeMem(0x875a, { 0xce, 0x87 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x3d75, gbc.sp());
        EXPECT(0x875c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x875a));
        EXPECT(0x87, gbc.readMem(0x875b));
        // CE 0232
        gbc.setState(0xa539, 0x8c6d, 0x2b10, 0xd19, 0x249c, 0x3850, 0x1, 0x0);
        gbc.writeMem(0xa539, { 0xce, 0xc3 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x8c6d, gbc.sp());
        EXPECT(0xa53b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa539));
        EXPECT(0xc3, gbc.readMem(0xa53a));
        // CE 0233
        gbc.setState(0xb9ed, 0xec5, 0xc740, 0xc59a, 0x8ad5, 0xe4b9, 0x1, 0x1);
        gbc.writeMem(0xb9ed, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xec5, gbc.sp());
        EXPECT(0xb9ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb9ed));
        EXPECT(0xbf, gbc.readMem(0xb9ee));
        // CE 0234
        gbc.setState(0x2779, 0xf83c, 0x3c70, 0x8b26, 0x33e0, 0x16c6, 0x0, 0x0);
        gbc.writeMem(0x2779, { 0xce, 0x53 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xf83c, gbc.sp());
        EXPECT(0x277b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0235
        gbc.setState(0x6e77, 0xb5b8, 0xe590, 0xc3e2, 0xe55b, 0x4efd, 0x0, 0x1);
        gbc.writeMem(0x6e77, { 0xce, 0x8e });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xb5b8, gbc.sp());
        EXPECT(0x6e79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0236
        gbc.setState(0xa2e5, 0x6f80, 0x1a20, 0xf20e, 0x75d4, 0x7ac3, 0x0, 0x0);
        gbc.writeMem(0xa2e5, { 0xce, 0x2 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x6f80, gbc.sp());
        EXPECT(0xa2e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa2e5));
        EXPECT(0x2, gbc.readMem(0xa2e6));
        // CE 0238
        gbc.setState(0x1263, 0x61d6, 0x9780, 0x29eb, 0x8ac4, 0xb025, 0x0, 0x1);
        gbc.writeMem(0x1263, { 0xce, 0x8c });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x61d6, gbc.sp());
        EXPECT(0x1265, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0239
        gbc.setState(0xd63b, 0xf6e8, 0x73e0, 0x9162, 0xb0af, 0x4b2c, 0x1, 0x1);
        gbc.writeMem(0xd63b, { 0xce, 0x9a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xf6e8, gbc.sp());
        EXPECT(0xd63d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd63b));
        EXPECT(0x9a, gbc.readMem(0xd63c));
        // CE 023A
        gbc.setState(0xef3f, 0x8a00, 0xcce0, 0x641c, 0x161a, 0xe4fb, 0x1, 0x1);
        gbc.writeMem(0xef3f, { 0xce, 0xe1 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x8a00, gbc.sp());
        EXPECT(0xef41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xef3f));
        EXPECT(0xe1, gbc.readMem(0xef40));
        // CE 023B
        gbc.setState(0x9fc1, 0x58de, 0x6ac0, 0x511b, 0xbac4, 0xd595, 0x0, 0x0);
        gbc.writeMem(0x9fc1, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x58de, gbc.sp());
        EXPECT(0x9fc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9fc1));
        EXPECT(0xb4, gbc.readMem(0x9fc2));
        // CE 023C
        gbc.setState(0x7fa5, 0xcc92, 0x43f0, 0x38bf, 0xc069, 0x4508, 0x0, 0x0);
        gbc.writeMem(0x7fa5, { 0xce, 0x12 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xcc92, gbc.sp());
        EXPECT(0x7fa7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 023D
        gbc.setState(0x4521, 0xa79a, 0x2240, 0xa8fd, 0x7c46, 0x9ac9, 0x0, 0x1);
        gbc.writeMem(0x4521, { 0xce, 0x41 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa79a, gbc.sp());
        EXPECT(0x4523, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 023E
        gbc.setState(0xac9d, 0xd89b, 0x6b50, 0xb67, 0xb39c, 0xa779, 0x1, 0x1);
        gbc.writeMem(0xac9d, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd89b, gbc.sp());
        EXPECT(0xac9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xac9d));
        EXPECT(0xf4, gbc.readMem(0xac9e));
        // CE 023F
        gbc.setState(0xbc55, 0x664, 0x1d80, 0x43fe, 0xddee, 0x82de, 0x0, 0x0);
        gbc.writeMem(0xbc55, { 0xce, 0x14 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x664, gbc.sp());
        EXPECT(0xbc57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbc55));
        EXPECT(0x14, gbc.readMem(0xbc56));
        // CE 0240
        gbc.setState(0x5d33, 0xb0c3, 0xe260, 0x3c31, 0x3ee2, 0x9574, 0x1, 0x1);
        gbc.writeMem(0x5d33, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xb0c3, gbc.sp());
        EXPECT(0x5d35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0241
        gbc.setState(0xd71d, 0xea12, 0x1c60, 0x94b9, 0x29a6, 0xea3c, 0x1, 0x1);
        gbc.writeMem(0xd71d, { 0xce, 0xa0 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xea12, gbc.sp());
        EXPECT(0xd71f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd71d));
        EXPECT(0xa0, gbc.readMem(0xd71e));
        // CE 0242
        gbc.setState(0x9947, 0xed2, 0xcc60, 0x1c90, 0x403b, 0x77c1, 0x1, 0x1);
        gbc.writeMem(0x9947, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xed2, gbc.sp());
        EXPECT(0x9949, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9947));
        EXPECT(0x5d, gbc.readMem(0x9948));
        // CE 0243
        gbc.setState(0x1d0a, 0x1422, 0xc970, 0x80db, 0x1912, 0x860c, 0x1, 0x0);
        gbc.writeMem(0x1d0a, { 0xce, 0x23 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x1422, gbc.sp());
        EXPECT(0x1d0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0244
        gbc.setState(0x90ba, 0x1254, 0x1c00, 0x8c51, 0x9e5b, 0x5073, 0x0, 0x0);
        gbc.writeMem(0x90ba, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x1254, gbc.sp());
        EXPECT(0x90bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x90ba));
        EXPECT(0xbf, gbc.readMem(0x90bb));
        // CE 0245
        gbc.setState(0x75a7, 0x5925, 0x3200, 0x85ba, 0x8039, 0xd6e5, 0x0, 0x1);
        gbc.writeMem(0x75a7, { 0xce, 0xb6 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x5925, gbc.sp());
        EXPECT(0x75a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0246
        gbc.setState(0x6ab8, 0xbc01, 0x48e0, 0xc500, 0x7a31, 0x719e, 0x1, 0x0);
        gbc.writeMem(0x6ab8, { 0xce, 0x3f });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xbc01, gbc.sp());
        EXPECT(0x6aba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0247
        gbc.setState(0xd014, 0x8e23, 0xbea0, 0x18da, 0x971, 0x1f9a, 0x0, 0x1);
        gbc.writeMem(0xd014, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8e23, gbc.sp());
        EXPECT(0xd016, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd014));
        EXPECT(0x26, gbc.readMem(0xd015));
        // CE 0248
        gbc.setState(0xbc3, 0xb26b, 0xce00, 0x6c37, 0xd85, 0x6f25, 0x0, 0x1);
        gbc.writeMem(0xbc3, { 0xce, 0xe6 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xb26b, gbc.sp());
        EXPECT(0xbc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0249
        gbc.setState(0x809b, 0x393b, 0x5bf0, 0xdbcb, 0x5323, 0x5610, 0x0, 0x0);
        gbc.writeMem(0x809b, { 0xce, 0x61 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x393b, gbc.sp());
        EXPECT(0x809d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x809b));
        EXPECT(0x61, gbc.readMem(0x809c));
        // CE 024B
        gbc.setState(0x14b4, 0x7c0b, 0xdcc0, 0x549a, 0x2157, 0xa275, 0x1, 0x0);
        gbc.writeMem(0x14b4, { 0xce, 0x2 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x7c0b, gbc.sp());
        EXPECT(0x14b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 024C
        gbc.setState(0xb1e6, 0x33d, 0x9290, 0xdad, 0x7614, 0x9ac3, 0x0, 0x0);
        gbc.writeMem(0xb1e6, { 0xce, 0x70 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x33d, gbc.sp());
        EXPECT(0xb1e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb1e6));
        EXPECT(0x70, gbc.readMem(0xb1e7));
        // CE 024D
        gbc.setState(0x637e, 0xbfa0, 0xa5b0, 0x9597, 0x4390, 0xee5a, 0x1, 0x1);
        gbc.writeMem(0x637e, { 0xce, 0xef });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xbfa0, gbc.sp());
        EXPECT(0x6380, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 024E
        gbc.setState(0xa340, 0x708a, 0xe070, 0x4976, 0xf5bc, 0x31d, 0x0, 0x1);
        gbc.writeMem(0xa340, { 0xce, 0x4c });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x708a, gbc.sp());
        EXPECT(0xa342, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa340));
        EXPECT(0x4c, gbc.readMem(0xa341));
        // CE 024F
        gbc.setState(0x59a, 0xc433, 0xdbc0, 0x20a8, 0xc2b2, 0xdf9b, 0x1, 0x0);
        gbc.writeMem(0x59a, { 0xce, 0xa1 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xc433, gbc.sp());
        EXPECT(0x59c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0250
        gbc.setState(0xcd4c, 0xfd9d, 0x24d0, 0xbb7b, 0xd4b2, 0xc6ba, 0x1, 0x0);
        gbc.writeMem(0xcd4c, { 0xce, 0x45 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xfd9d, gbc.sp());
        EXPECT(0xcd4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcd4c));
        EXPECT(0x45, gbc.readMem(0xcd4d));
        // CE 0251
        gbc.setState(0xbb76, 0x43bd, 0x7da0, 0x139f, 0x6c92, 0xdcf5, 0x0, 0x1);
        gbc.writeMem(0xbb76, { 0xce, 0x4e });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x43bd, gbc.sp());
        EXPECT(0xbb78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbb76));
        EXPECT(0x4e, gbc.readMem(0xbb77));
        // CE 0252
        gbc.setState(0x9fcc, 0xdfc5, 0x79a0, 0x540b, 0x7144, 0x1828, 0x0, 0x1);
        gbc.writeMem(0x9fcc, { 0xce, 0x4b });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xdfc5, gbc.sp());
        EXPECT(0x9fce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9fcc));
        EXPECT(0x4b, gbc.readMem(0x9fcd));
        // CE 0253
        gbc.setState(0x5716, 0xcd85, 0xf7c0, 0xb248, 0x7d48, 0x1277, 0x1, 0x0);
        gbc.writeMem(0x5716, { 0xce, 0xbf });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xcd85, gbc.sp());
        EXPECT(0x5718, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0254
        gbc.setState(0x77c6, 0x645f, 0x6b90, 0x2e10, 0x6275, 0xe16e, 0x0, 0x0);
        gbc.writeMem(0x77c6, { 0xce, 0x13 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x645f, gbc.sp());
        EXPECT(0x77c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0255
        gbc.setState(0xbaa5, 0x5e2c, 0x9320, 0xb72a, 0xfb56, 0xa522, 0x1, 0x1);
        gbc.writeMem(0xbaa5, { 0xce, 0xb6 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x5e2c, gbc.sp());
        EXPECT(0xbaa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbaa5));
        EXPECT(0xb6, gbc.readMem(0xbaa6));
        // CE 0256
        gbc.setState(0x3371, 0xd82f, 0xe810, 0xc51b, 0x9507, 0x7705, 0x1, 0x1);
        gbc.writeMem(0x3371, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd82f, gbc.sp());
        EXPECT(0x3373, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0257
        gbc.setState(0x2295, 0x9d98, 0xbdb0, 0x172c, 0x4f18, 0xb98c, 0x0, 0x1);
        gbc.writeMem(0x2295, { 0xce, 0x79 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x9d98, gbc.sp());
        EXPECT(0x2297, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0258
        gbc.setState(0x9662, 0x5249, 0xe250, 0xc1d5, 0xc1e3, 0x564a, 0x0, 0x1);
        gbc.writeMem(0x9662, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x5249, gbc.sp());
        EXPECT(0x9664, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9662));
        EXPECT(0x26, gbc.readMem(0x9663));
        // CE 0259
        gbc.setState(0x95b3, 0x292f, 0x8e20, 0x4b6b, 0xeff7, 0x9b7f, 0x0, 0x1);
        gbc.writeMem(0x95b3, { 0xce, 0x7d });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x292f, gbc.sp());
        EXPECT(0x95b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x95b3));
        EXPECT(0x7d, gbc.readMem(0x95b4));
        // CE 025A
        gbc.setState(0x1e76, 0x9b99, 0xf370, 0xc4ca, 0x5c15, 0x4a67, 0x1, 0x0);
        gbc.writeMem(0x1e76, { 0xce, 0x8f });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x9b99, gbc.sp());
        EXPECT(0x1e78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 025B
        gbc.setState(0x7403, 0x2db7, 0xf1c0, 0x41b5, 0x9796, 0xf3, 0x1, 0x0);
        gbc.writeMem(0x7403, { 0xce, 0x21 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x2db7, gbc.sp());
        EXPECT(0x7405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 025C
        gbc.setState(0x149f, 0xd0e9, 0xed00, 0x2127, 0xa985, 0x355b, 0x1, 0x0);
        gbc.writeMem(0x149f, { 0xce, 0xfb });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xd0e9, gbc.sp());
        EXPECT(0x14a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 025D
        gbc.setState(0x1a68, 0x145b, 0x8e40, 0xa094, 0x2cdc, 0x6125, 0x0, 0x0);
        gbc.writeMem(0x1a68, { 0xce, 0x29 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x145b, gbc.sp());
        EXPECT(0x1a6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 025E
        gbc.setState(0x5332, 0x87a5, 0x6070, 0xa1e9, 0xc211, 0xd9b1, 0x1, 0x0);
        gbc.writeMem(0x5332, { 0xce, 0x68 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x87a5, gbc.sp());
        EXPECT(0x5334, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 025F
        gbc.setState(0x45cf, 0x3abb, 0xbef0, 0xc080, 0x7033, 0x3f3a, 0x1, 0x0);
        gbc.writeMem(0x45cf, { 0xce, 0x1c });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x3abb, gbc.sp());
        EXPECT(0x45d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0260
        gbc.setState(0xebc5, 0x648d, 0x33d0, 0xd916, 0x56f9, 0x6517, 0x1, 0x0);
        gbc.writeMem(0xebc5, { 0xce, 0x3 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x648d, gbc.sp());
        EXPECT(0xebc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xebc5));
        EXPECT(0x3, gbc.readMem(0xebc6));
        // CE 0261
        gbc.setState(0x4d77, 0x8f19, 0x84f0, 0x3372, 0x9748, 0x7f2d, 0x0, 0x0);
        gbc.writeMem(0x4d77, { 0xce, 0xc });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x8f19, gbc.sp());
        EXPECT(0x4d79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0262
        gbc.setState(0x887e, 0x96dc, 0x4140, 0x1486, 0x1681, 0xfb98, 0x1, 0x1);
        gbc.writeMem(0x887e, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x96dc, gbc.sp());
        EXPECT(0x8880, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x887e));
        EXPECT(0x3a, gbc.readMem(0x887f));
        // CE 0264
        gbc.setState(0xd7f7, 0x4faa, 0xfd50, 0x3dbc, 0xfc3e, 0x136d, 0x0, 0x1);
        gbc.writeMem(0xd7f7, { 0xce, 0x42 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x4faa, gbc.sp());
        EXPECT(0xd7f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd7f7));
        EXPECT(0x42, gbc.readMem(0xd7f8));
        // CE 0265
        gbc.setState(0x9c3e, 0x1313, 0xc0, 0x4e1, 0x3b28, 0xc062, 0x1, 0x0);
        gbc.writeMem(0x9c3e, { 0xce, 0x1c });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x1313, gbc.sp());
        EXPECT(0x9c40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9c3e));
        EXPECT(0x1c, gbc.readMem(0x9c3f));
        // CE 0266
        gbc.setState(0xd73e, 0xe88a, 0x4d60, 0x9827, 0x3406, 0x7cff, 0x1, 0x0);
        gbc.writeMem(0xd73e, { 0xce, 0x50 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xe88a, gbc.sp());
        EXPECT(0xd740, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd73e));
        EXPECT(0x50, gbc.readMem(0xd73f));
        // CE 0267
        gbc.setState(0x55c9, 0x1e96, 0x9180, 0x79a8, 0x67e7, 0xa3be, 0x0, 0x0);
        gbc.writeMem(0x55c9, { 0xce, 0x68 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x1e96, gbc.sp());
        EXPECT(0x55cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0268
        gbc.setState(0x186f, 0xdea6, 0xe5a0, 0x1f09, 0xd307, 0x5497, 0x1, 0x1);
        gbc.writeMem(0x186f, { 0xce, 0x2c });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xdea6, gbc.sp());
        EXPECT(0x1871, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0269
        gbc.setState(0xeb5a, 0xdc54, 0xec60, 0x73c4, 0x3de1, 0xf360, 0x0, 0x0);
        gbc.writeMem(0xeb5a, { 0xce, 0xa1 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xdc54, gbc.sp());
        EXPECT(0xeb5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xeb5a));
        EXPECT(0xa1, gbc.readMem(0xeb5b));
        // CE 026A
        gbc.setState(0x3e13, 0x1535, 0xc850, 0x6078, 0xda3f, 0x9ffc, 0x1, 0x0);
        gbc.writeMem(0x3e13, { 0xce, 0xd0 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x1535, gbc.sp());
        EXPECT(0x3e15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 026B
        gbc.setState(0x2a0, 0xde1a, 0xbf80, 0x7155, 0xee97, 0xaee5, 0x0, 0x0);
        gbc.writeMem(0x2a0, { 0xce, 0x54 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xde1a, gbc.sp());
        EXPECT(0x2a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 026C
        gbc.setState(0x13f3, 0x4947, 0xe9e0, 0x670e, 0x4541, 0x8cbc, 0x0, 0x0);
        gbc.writeMem(0x13f3, { 0xce, 0x66 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x4947, gbc.sp());
        EXPECT(0x13f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 026D
        gbc.setState(0xb409, 0xee11, 0x6610, 0x9ec1, 0x8682, 0xf292, 0x1, 0x0);
        gbc.writeMem(0xb409, { 0xce, 0xfa });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xee11, gbc.sp());
        EXPECT(0xb40b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb409));
        EXPECT(0xfa, gbc.readMem(0xb40a));
        // CE 026E
        gbc.setState(0xdac6, 0xe60f, 0xa7a0, 0xecb4, 0xe689, 0x561a, 0x1, 0x0);
        gbc.writeMem(0xdac6, { 0xce, 0xf3 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xe60f, gbc.sp());
        EXPECT(0xdac8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdac6));
        EXPECT(0xf3, gbc.readMem(0xdac7));
        // CE 026F
        gbc.setState(0x2734, 0xc5e7, 0x6c70, 0x2ae7, 0x3003, 0xe13, 0x0, 0x1);
        gbc.writeMem(0x2734, { 0xce, 0xdf });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc5e7, gbc.sp());
        EXPECT(0x2736, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0270
        gbc.setState(0xb9f0, 0x744c, 0x3330, 0xc5ed, 0x86c1, 0xeea3, 0x1, 0x1);
        gbc.writeMem(0xb9f0, { 0xce, 0x59 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x744c, gbc.sp());
        EXPECT(0xb9f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb9f0));
        EXPECT(0x59, gbc.readMem(0xb9f1));
        // CE 0271
        gbc.setState(0x4474, 0xaaba, 0xd30, 0x61df, 0x9dde, 0x2791, 0x1, 0x0);
        gbc.writeMem(0x4474, { 0xce, 0x1a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xaaba, gbc.sp());
        EXPECT(0x4476, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0272
        gbc.setState(0xc5be, 0x213d, 0xef0, 0x1e3, 0xbdc4, 0xdb94, 0x1, 0x0);
        gbc.writeMem(0xc5be, { 0xce, 0xfe });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x213d, gbc.sp());
        EXPECT(0xc5c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc5be));
        EXPECT(0xfe, gbc.readMem(0xc5bf));
        // CE 0273
        gbc.setState(0x300c, 0x1a32, 0xa670, 0x6c32, 0x8e1, 0xe6cd, 0x0, 0x0);
        gbc.writeMem(0x300c, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x1a32, gbc.sp());
        EXPECT(0x300e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0274
        gbc.setState(0x791f, 0x378b, 0x87b0, 0x6bfb, 0xe01d, 0xb87b, 0x1, 0x0);
        gbc.writeMem(0x791f, { 0xce, 0x9d });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x378b, gbc.sp());
        EXPECT(0x7921, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0275
        gbc.setState(0x8ff, 0x2299, 0xb7d0, 0xcb10, 0xe4, 0xfbfc, 0x1, 0x0);
        gbc.writeMem(0x8ff, { 0xce, 0xce });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x2299, gbc.sp());
        EXPECT(0x901, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0276
        gbc.setState(0xbe1f, 0x9163, 0x70a0, 0xa8a9, 0x1ffa, 0x7b14, 0x0, 0x0);
        gbc.writeMem(0xbe1f, { 0xce, 0xac });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x9163, gbc.sp());
        EXPECT(0xbe21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbe1f));
        EXPECT(0xac, gbc.readMem(0xbe20));
        // CE 0277
        gbc.setState(0xd394, 0x38bf, 0x4c60, 0xbac5, 0x8397, 0x12c8, 0x0, 0x1);
        gbc.writeMem(0xd394, { 0xce, 0xda });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x38bf, gbc.sp());
        EXPECT(0xd396, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd394));
        EXPECT(0xda, gbc.readMem(0xd395));
        // CE 0278
        gbc.setState(0x53e3, 0xadd7, 0xb140, 0x2cb1, 0x4f0d, 0x90d9, 0x0, 0x0);
        gbc.writeMem(0x53e3, { 0xce, 0x40 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xadd7, gbc.sp());
        EXPECT(0x53e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0279
        gbc.setState(0xc8ea, 0x8d7c, 0x9050, 0xc82b, 0x1ce6, 0xdbcb, 0x1, 0x0);
        gbc.writeMem(0xc8ea, { 0xce, 0x63 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8d7c, gbc.sp());
        EXPECT(0xc8ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc8ea));
        EXPECT(0x63, gbc.readMem(0xc8eb));
        // CE 027A
        gbc.setState(0x86ad, 0x3864, 0x4c90, 0x16d9, 0x4567, 0x355e, 0x1, 0x0);
        gbc.writeMem(0x86ad, { 0xce, 0x76 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x3864, gbc.sp());
        EXPECT(0x86af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x86ad));
        EXPECT(0x76, gbc.readMem(0x86ae));
        // CE 027B
        gbc.setState(0x4d18, 0x1882, 0x5220, 0x2bad, 0x1a68, 0x1ca1, 0x1, 0x1);
        gbc.writeMem(0x4d18, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x1882, gbc.sp());
        EXPECT(0x4d1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 027C
        gbc.setState(0x91b5, 0xdf31, 0xdc0, 0xdf80, 0x5caa, 0x5e7d, 0x0, 0x1);
        gbc.writeMem(0x91b5, { 0xce, 0x2a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xdf31, gbc.sp());
        EXPECT(0x91b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x91b5));
        EXPECT(0x2a, gbc.readMem(0x91b6));
        // CE 027D
        gbc.setState(0x4a7b, 0x375e, 0x2260, 0xd955, 0x3692, 0x2a79, 0x0, 0x0);
        gbc.writeMem(0x4a7b, { 0xce, 0x6a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x375e, gbc.sp());
        EXPECT(0x4a7d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 027E
        gbc.setState(0x9a5d, 0x6112, 0xedf0, 0x7d4, 0x1b41, 0xbddc, 0x0, 0x0);
        gbc.writeMem(0x9a5d, { 0xce, 0x9f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x6112, gbc.sp());
        EXPECT(0x9a5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9a5d));
        EXPECT(0x9f, gbc.readMem(0x9a5e));
        // CE 027F
        gbc.setState(0x804, 0x1c32, 0x7930, 0x84d1, 0xab79, 0x5a4b, 0x1, 0x0);
        gbc.writeMem(0x804, { 0xce, 0xf5 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x1c32, gbc.sp());
        EXPECT(0x806, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0280
        gbc.setState(0xc509, 0x1fe8, 0x30d0, 0x4c33, 0xc9db, 0xbc53, 0x1, 0x0);
        gbc.writeMem(0xc509, { 0xce, 0xf9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x1fe8, gbc.sp());
        EXPECT(0xc50b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc509));
        EXPECT(0xf9, gbc.readMem(0xc50a));
        // CE 0281
        gbc.setState(0x1e, 0x1646, 0x6880, 0x4c3b, 0xc3a2, 0xd907, 0x1, 0x0);
        gbc.writeMem(0x1e, { 0xce, 0x51 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x1646, gbc.sp());
        EXPECT(0x20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0282
        gbc.setState(0x546e, 0x8414, 0xc2f0, 0xaeba, 0x350f, 0xe889, 0x0, 0x0);
        gbc.writeMem(0x546e, { 0xce, 0xa });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x8414, gbc.sp());
        EXPECT(0x5470, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0283
        gbc.setState(0x5ee2, 0xffd8, 0xe080, 0xb4a5, 0xb5d0, 0x3fe4, 0x1, 0x1);
        gbc.writeMem(0x5ee2, { 0xce, 0xcd });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xffd8, gbc.sp());
        EXPECT(0x5ee4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0284
        gbc.setState(0x3984, 0x1a1f, 0xb480, 0x3ef8, 0x64ce, 0xa0c9, 0x0, 0x1);
        gbc.writeMem(0x3984, { 0xce, 0xff });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x1a1f, gbc.sp());
        EXPECT(0x3986, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0285
        gbc.setState(0xac82, 0x2ac2, 0x170, 0x8adc, 0xbaab, 0x38, 0x0, 0x1);
        gbc.writeMem(0xac82, { 0xce, 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x2ac2, gbc.sp());
        EXPECT(0xac84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xac82));
        EXPECT(0x67, gbc.readMem(0xac83));
        // CE 0286
        gbc.setState(0x5d51, 0x4aac, 0x7ac0, 0x4fb3, 0x9c83, 0x2316, 0x0, 0x1);
        gbc.writeMem(0x5d51, { 0xce, 0x22 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x4aac, gbc.sp());
        EXPECT(0x5d53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0288
        gbc.setState(0xa3f4, 0x8eb1, 0x96a0, 0xb566, 0xf4aa, 0x2d5e, 0x0, 0x0);
        gbc.writeMem(0xa3f4, { 0xce, 0xb5 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x8eb1, gbc.sp());
        EXPECT(0xa3f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa3f4));
        EXPECT(0xb5, gbc.readMem(0xa3f5));
        // CE 0289
        gbc.setState(0x5fcb, 0xfa84, 0xde70, 0x55d, 0x6c94, 0x2e52, 0x1, 0x1);
        gbc.writeMem(0x5fcb, { 0xce, 0x3b });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xfa84, gbc.sp());
        EXPECT(0x5fcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 028A
        gbc.setState(0x8766, 0xbd95, 0x6330, 0x81e2, 0x76fc, 0x95c4, 0x0, 0x1);
        gbc.writeMem(0x8766, { 0xce, 0xda });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xbd95, gbc.sp());
        EXPECT(0x8768, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8766));
        EXPECT(0xda, gbc.readMem(0x8767));
        // CE 028B
        gbc.setState(0x40e5, 0x6285, 0x7a10, 0x6f01, 0x8d71, 0xadbb, 0x0, 0x1);
        gbc.writeMem(0x40e5, { 0xce, 0x80 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x6285, gbc.sp());
        EXPECT(0x40e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 028C
        gbc.setState(0x6f11, 0x20f9, 0x1a90, 0x4cf2, 0x9e33, 0xed4c, 0x1, 0x1);
        gbc.writeMem(0x6f11, { 0xce, 0x65 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x20f9, gbc.sp());
        EXPECT(0x6f13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 028D
        gbc.setState(0x9c2c, 0x93f7, 0xccf0, 0xae53, 0xf6e6, 0x1bc8, 0x0, 0x1);
        gbc.writeMem(0x9c2c, { 0xce, 0x86 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x93f7, gbc.sp());
        EXPECT(0x9c2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9c2c));
        EXPECT(0x86, gbc.readMem(0x9c2d));
        // CE 028E
        gbc.setState(0x919, 0x8ff6, 0xafd0, 0x83d6, 0xb6aa, 0x83f7, 0x1, 0x0);
        gbc.writeMem(0x919, { 0xce, 0xc2 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x8ff6, gbc.sp());
        EXPECT(0x91b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 028F
        gbc.setState(0xc573, 0x35c7, 0xa150, 0xd416, 0x2f71, 0xd252, 0x1, 0x1);
        gbc.writeMem(0xc573, { 0xce, 0xa9 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x35c7, gbc.sp());
        EXPECT(0xc575, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc573));
        EXPECT(0xa9, gbc.readMem(0xc574));
        // CE 0290
        gbc.setState(0x58e8, 0x9ece, 0xeec0, 0x33aa, 0x52f6, 0x9b14, 0x0, 0x1);
        gbc.writeMem(0x58e8, { 0xce, 0x83 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x9ece, gbc.sp());
        EXPECT(0x58ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0292
        gbc.setState(0x7a72, 0xd129, 0x6ef0, 0x1f06, 0xe01b, 0xf822, 0x0, 0x0);
        gbc.writeMem(0x7a72, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xd129, gbc.sp());
        EXPECT(0x7a74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0293
        gbc.setState(0x3b76, 0x5c10, 0xaf60, 0x8cb4, 0x6462, 0x6865, 0x1, 0x0);
        gbc.writeMem(0x3b76, { 0xce, 0x77 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x5c10, gbc.sp());
        EXPECT(0x3b78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0294
        gbc.setState(0x2d8, 0x42b4, 0x27b0, 0xe2da, 0xf87a, 0x468c, 0x1, 0x1);
        gbc.writeMem(0x2d8, { 0xce, 0x10 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x42b4, gbc.sp());
        EXPECT(0x2da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0295
        gbc.setState(0xa9b9, 0x82eb, 0x3580, 0xc1d2, 0xeb6d, 0x7b7b, 0x1, 0x0);
        gbc.writeMem(0xa9b9, { 0xce, 0x9d });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x82eb, gbc.sp());
        EXPECT(0xa9bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa9b9));
        EXPECT(0x9d, gbc.readMem(0xa9ba));
        // CE 0296
        gbc.setState(0x9b54, 0x5f, 0x2910, 0x7545, 0x7796, 0x810b, 0x0, 0x0);
        gbc.writeMem(0x9b54, { 0xce, 0xf9 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x5f, gbc.sp());
        EXPECT(0x9b56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9b54));
        EXPECT(0xf9, gbc.readMem(0x9b55));
        // CE 0297
        gbc.setState(0xa7a7, 0x317c, 0xee00, 0x8d89, 0xf49a, 0xae64, 0x0, 0x0);
        gbc.writeMem(0xa7a7, { 0xce, 0xe5 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x317c, gbc.sp());
        EXPECT(0xa7a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa7a7));
        EXPECT(0xe5, gbc.readMem(0xa7a8));
        // CE 0298
        gbc.setState(0xde2d, 0xc087, 0xfec0, 0xbdfe, 0x3e56, 0xb1f5, 0x0, 0x1);
        gbc.writeMem(0xde2d, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xc087, gbc.sp());
        EXPECT(0xde2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xde2d));
        EXPECT(0xf4, gbc.readMem(0xde2e));
        // CE 0299
        gbc.setState(0x36e8, 0xe64a, 0x29e0, 0xce5a, 0x49dc, 0x70ae, 0x1, 0x0);
        gbc.writeMem(0x36e8, { 0xce, 0xf9 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xe64a, gbc.sp());
        EXPECT(0x36ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 029A
        gbc.setState(0x9338, 0xae62, 0x6a10, 0x11d4, 0x7aa9, 0x2f7, 0x1, 0x0);
        gbc.writeMem(0x9338, { 0xce, 0x88 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xae62, gbc.sp());
        EXPECT(0x933a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9338));
        EXPECT(0x88, gbc.readMem(0x9339));
        // CE 029B
        gbc.setState(0x9f42, 0x5500, 0x9340, 0x5b41, 0x981d, 0xb31c, 0x0, 0x1);
        gbc.writeMem(0x9f42, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x5500, gbc.sp());
        EXPECT(0x9f44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9f42));
        EXPECT(0xba, gbc.readMem(0x9f43));
        // CE 029D
        gbc.setState(0x196f, 0x9298, 0xe10, 0x6273, 0x3dff, 0x99a5, 0x1, 0x1);
        gbc.writeMem(0x196f, { 0xce, 0xb6 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x9298, gbc.sp());
        EXPECT(0x1971, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 029E
        gbc.setState(0xe5c3, 0x824a, 0xef20, 0x8ee4, 0x2bb3, 0x1b0c, 0x0, 0x0);
        gbc.writeMem(0xe5c3, { 0xce, 0x27 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x824a, gbc.sp());
        EXPECT(0xe5c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe5c3));
        EXPECT(0x27, gbc.readMem(0xe5c4));
        // CE 029F
        gbc.setState(0x7c7e, 0x8123, 0xb90, 0x8f6a, 0x6b6a, 0x84ba, 0x0, 0x0);
        gbc.writeMem(0x7c7e, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x8123, gbc.sp());
        EXPECT(0x7c80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02A0
        gbc.setState(0xa073, 0xb570, 0xe780, 0xa095, 0x5022, 0x1c3, 0x0, 0x1);
        gbc.writeMem(0xa073, { 0xce, 0x6c });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb570, gbc.sp());
        EXPECT(0xa075, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa073));
        EXPECT(0x6c, gbc.readMem(0xa074));
        // CE 02A1
        gbc.setState(0x25ef, 0x5238, 0xc80, 0x9f98, 0xeafc, 0x8a74, 0x1, 0x0);
        gbc.writeMem(0x25ef, { 0xce, 0xef });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x5238, gbc.sp());
        EXPECT(0x25f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02A2
        gbc.setState(0x660a, 0x945d, 0x23d0, 0xfcb4, 0xb15d, 0x470a, 0x1, 0x1);
        gbc.writeMem(0x660a, { 0xce, 0xeb });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x945d, gbc.sp());
        EXPECT(0x660c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02A3
        gbc.setState(0x1eae, 0x87e5, 0x1490, 0x1266, 0xedd9, 0x8859, 0x0, 0x0);
        gbc.writeMem(0x1eae, { 0xce, 0xf1 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x87e5, gbc.sp());
        EXPECT(0x1eb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02A4
        gbc.setState(0x6380, 0x40a2, 0xe770, 0xfa31, 0x3be0, 0x2b84, 0x1, 0x1);
        gbc.writeMem(0x6380, { 0xce, 0x7e });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x40a2, gbc.sp());
        EXPECT(0x6382, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02A5
        gbc.setState(0x865a, 0x8d38, 0x4b20, 0x12d1, 0x3b1e, 0x8614, 0x1, 0x1);
        gbc.writeMem(0x865a, { 0xce, 0xe6 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x8d38, gbc.sp());
        EXPECT(0x865c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x865a));
        EXPECT(0xe6, gbc.readMem(0x865b));
        // CE 02A6
        gbc.setState(0xbacd, 0xaf31, 0x41f0, 0xde28, 0xc92b, 0x2ad3, 0x1, 0x1);
        gbc.writeMem(0xbacd, { 0xce, 0xa4 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xaf31, gbc.sp());
        EXPECT(0xbacf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbacd));
        EXPECT(0xa4, gbc.readMem(0xbace));
        // CE 02A7
        gbc.setState(0x78db, 0xeab, 0xfee0, 0xbaa3, 0x3e5c, 0x6169, 0x1, 0x1);
        gbc.writeMem(0x78db, { 0xce, 0x49 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xeab, gbc.sp());
        EXPECT(0x78dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02A8
        gbc.setState(0x6f9f, 0x89d2, 0x6650, 0xcf05, 0xb3fa, 0x7897, 0x1, 0x1);
        gbc.writeMem(0x6f9f, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x89d2, gbc.sp());
        EXPECT(0x6fa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02A9
        gbc.setState(0x67b8, 0xeca3, 0x56c0, 0xf27e, 0xf6fd, 0xd661, 0x0, 0x1);
        gbc.writeMem(0x67b8, { 0xce, 0x55 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xeca3, gbc.sp());
        EXPECT(0x67ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02AA
        gbc.setState(0xe77, 0xb152, 0xcf00, 0xd9e0, 0xcdca, 0x4c42, 0x0, 0x1);
        gbc.writeMem(0xe77, { 0xce, 0x3f });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xb152, gbc.sp());
        EXPECT(0xe79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02AB
        gbc.setState(0x3183, 0xdf80, 0x1cf0, 0x55ec, 0x97a2, 0x79c7, 0x0, 0x0);
        gbc.writeMem(0x3183, { 0xce, 0xa0 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xdf80, gbc.sp());
        EXPECT(0x3185, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02AC
        gbc.setState(0x52b, 0xad25, 0x3420, 0xf19b, 0x7f5a, 0xc5ff, 0x1, 0x1);
        gbc.writeMem(0x52b, { 0xce, 0xaa });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xad25, gbc.sp());
        EXPECT(0x52d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02AD
        gbc.setState(0x15e6, 0xccd, 0x6760, 0x1e0, 0x37f3, 0xa693, 0x0, 0x1);
        gbc.writeMem(0x15e6, { 0xce, 0x2f });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xccd, gbc.sp());
        EXPECT(0x15e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02AE
        gbc.setState(0x4ed5, 0xb4ee, 0x7a0, 0x8cd, 0x769c, 0x200a, 0x1, 0x1);
        gbc.writeMem(0x4ed5, { 0xce, 0xdd });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xb4ee, gbc.sp());
        EXPECT(0x4ed7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02AF
        gbc.setState(0xb0b, 0x9f16, 0xdda0, 0x8826, 0xe671, 0x4bbf, 0x1, 0x1);
        gbc.writeMem(0xb0b, { 0xce, 0x3a });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x9f16, gbc.sp());
        EXPECT(0xb0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02B0
        gbc.setState(0xc6e4, 0x67b9, 0xd470, 0xc48e, 0xa433, 0x69bd, 0x0, 0x1);
        gbc.writeMem(0xc6e4, { 0xce, 0x92 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x67b9, gbc.sp());
        EXPECT(0xc6e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc6e4));
        EXPECT(0x92, gbc.readMem(0xc6e5));
        // CE 02B1
        gbc.setState(0xdb3c, 0x8655, 0x9ca0, 0x4a44, 0x750e, 0xf534, 0x0, 0x1);
        gbc.writeMem(0xdb3c, { 0xce, 0x3 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x8655, gbc.sp());
        EXPECT(0xdb3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdb3c));
        EXPECT(0x3, gbc.readMem(0xdb3d));
        // CE 02B2
        gbc.setState(0x181b, 0xa8e6, 0x7490, 0x94a, 0xfe68, 0xa6c5, 0x1, 0x0);
        gbc.writeMem(0x181b, { 0xce, 0x7f });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xa8e6, gbc.sp());
        EXPECT(0x181d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02B3
        gbc.setState(0x650d, 0xc495, 0xb990, 0x30a8, 0x42d5, 0x320d, 0x0, 0x0);
        gbc.writeMem(0x650d, { 0xce, 0xed });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xc495, gbc.sp());
        EXPECT(0x650f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02B4
        gbc.setState(0x86d2, 0x8ce2, 0x2d90, 0x526, 0x2d77, 0x429f, 0x0, 0x1);
        gbc.writeMem(0x86d2, { 0xce, 0xb });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x8ce2, gbc.sp());
        EXPECT(0x86d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x86d2));
        EXPECT(0xb, gbc.readMem(0x86d3));
        // CE 02B5
        gbc.setState(0xc69b, 0xa164, 0xccd0, 0x9fc7, 0x177c, 0xcd88, 0x1, 0x0);
        gbc.writeMem(0xc69b, { 0xce, 0x41 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xa164, gbc.sp());
        EXPECT(0xc69d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc69b));
        EXPECT(0x41, gbc.readMem(0xc69c));
        // CE 02B6
        gbc.setState(0x96db, 0x8bf, 0x9ba0, 0x47e7, 0x17f0, 0x2e17, 0x0, 0x1);
        gbc.writeMem(0x96db, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x8bf, gbc.sp());
        EXPECT(0x96dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x96db));
        EXPECT(0xc0, gbc.readMem(0x96dc));
        // CE 02B7
        gbc.setState(0x8bde, 0x44a7, 0xdf90, 0xc463, 0x6e91, 0xf6c6, 0x1, 0x0);
        gbc.writeMem(0x8bde, { 0xce, 0xca });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x44a7, gbc.sp());
        EXPECT(0x8be0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8bde));
        EXPECT(0xca, gbc.readMem(0x8bdf));
        // CE 02B8
        gbc.setState(0xa726, 0x4925, 0x1cb0, 0x482c, 0xd5fb, 0x75da, 0x0, 0x0);
        gbc.writeMem(0xa726, { 0xce, 0xe9 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x4925, gbc.sp());
        EXPECT(0xa728, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa726));
        EXPECT(0xe9, gbc.readMem(0xa727));
        // CE 02B9
        gbc.setState(0x8674, 0x6939, 0x80b0, 0xdea7, 0x516d, 0xcf5a, 0x0, 0x0);
        gbc.writeMem(0x8674, { 0xce, 0xc5 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x6939, gbc.sp());
        EXPECT(0x8676, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8674));
        EXPECT(0xc5, gbc.readMem(0x8675));
        // CE 02BA
        gbc.setState(0xdfb9, 0x83e8, 0x3860, 0xbc62, 0xdc18, 0x4b53, 0x0, 0x0);
        gbc.writeMem(0xdfb9, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x83e8, gbc.sp());
        EXPECT(0xdfbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdfb9));
        EXPECT(0x95, gbc.readMem(0xdfba));
        // CE 02BB
        gbc.setState(0xdbf6, 0x3e46, 0x2470, 0x9c8a, 0x4dba, 0xc5f, 0x1, 0x1);
        gbc.writeMem(0xdbf6, { 0xce, 0xce });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x3e46, gbc.sp());
        EXPECT(0xdbf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdbf6));
        EXPECT(0xce, gbc.readMem(0xdbf7));
        // CE 02BC
        gbc.setState(0x38d2, 0xe549, 0x6770, 0x3738, 0x1b4c, 0xbea5, 0x0, 0x1);
        gbc.writeMem(0x38d2, { 0xce, 0x86 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xe549, gbc.sp());
        EXPECT(0x38d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02BD
        gbc.setState(0x365a, 0xacdb, 0x42e0, 0x491a, 0x218c, 0xf7a0, 0x1, 0x0);
        gbc.writeMem(0x365a, { 0xce, 0x53 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xacdb, gbc.sp());
        EXPECT(0x365c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02BE
        gbc.setState(0xdbe9, 0xcea1, 0xef70, 0x11fb, 0xbb08, 0xb35a, 0x0, 0x0);
        gbc.writeMem(0xdbe9, { 0xce, 0xd6 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xcea1, gbc.sp());
        EXPECT(0xdbeb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdbe9));
        EXPECT(0xd6, gbc.readMem(0xdbea));
        // CE 02BF
        gbc.setState(0x6efe, 0xe45f, 0xf050, 0x8e31, 0x8a8, 0xbb92, 0x1, 0x0);
        gbc.writeMem(0x6efe, { 0xce, 0x99 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xe45f, gbc.sp());
        EXPECT(0x6f00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02C0
        gbc.setState(0x1699, 0x11b1, 0xeb30, 0x39bb, 0x7f2a, 0xdc86, 0x0, 0x0);
        gbc.writeMem(0x1699, { 0xce, 0x5 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x11b1, gbc.sp());
        EXPECT(0x169b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02C1
        gbc.setState(0xb604, 0x4cd6, 0xeb00, 0xa1f5, 0x36f1, 0x9553, 0x1, 0x0);
        gbc.writeMem(0xb604, { 0xce, 0x26 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x4cd6, gbc.sp());
        EXPECT(0xb606, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb604));
        EXPECT(0x26, gbc.readMem(0xb605));
        // CE 02C2
        gbc.setState(0xce35, 0x694d, 0x7120, 0x81ad, 0x7051, 0x2bd, 0x1, 0x1);
        gbc.writeMem(0xce35, { 0xce, 0xd6 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x694d, gbc.sp());
        EXPECT(0xce37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xce35));
        EXPECT(0xd6, gbc.readMem(0xce36));
        // CE 02C3
        gbc.setState(0xa4e5, 0xc13b, 0xaaf0, 0xa77d, 0x3b45, 0xcae1, 0x1, 0x0);
        gbc.writeMem(0xa4e5, { 0xce, 0xb1 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xc13b, gbc.sp());
        EXPECT(0xa4e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa4e5));
        EXPECT(0xb1, gbc.readMem(0xa4e6));
        // CE 02C6
        gbc.setState(0xd22d, 0x95c5, 0x7c70, 0x6f72, 0x1aac, 0x5117, 0x1, 0x0);
        gbc.writeMem(0xd22d, { 0xce, 0x38 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x95c5, gbc.sp());
        EXPECT(0xd22f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd22d));
        EXPECT(0x38, gbc.readMem(0xd22e));
        // CE 02C7
        gbc.setState(0xb3f1, 0xe0d3, 0x27e0, 0x3d73, 0xcffd, 0x2ef0, 0x1, 0x0);
        gbc.writeMem(0xb3f1, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xe0d3, gbc.sp());
        EXPECT(0xb3f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb3f1));
        EXPECT(0xc0, gbc.readMem(0xb3f2));
        // CE 02C8
        gbc.setState(0xa01c, 0x5c4c, 0xffd0, 0x5363, 0xe350, 0x26d1, 0x1, 0x1);
        gbc.writeMem(0xa01c, { 0xce, 0xec });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x5c4c, gbc.sp());
        EXPECT(0xa01e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa01c));
        EXPECT(0xec, gbc.readMem(0xa01d));
        // CE 02C9
        gbc.setState(0x2e63, 0xcbc9, 0x95f0, 0xfca9, 0xee00, 0xcf0e, 0x1, 0x1);
        gbc.writeMem(0x2e63, { 0xce, 0x99 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xcbc9, gbc.sp());
        EXPECT(0x2e65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02CA
        gbc.setState(0xb0b1, 0xe3d4, 0xd2b0, 0xde3f, 0x4c5d, 0x8bd3, 0x1, 0x0);
        gbc.writeMem(0xb0b1, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xe3d4, gbc.sp());
        EXPECT(0xb0b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb0b1));
        EXPECT(0xb2, gbc.readMem(0xb0b2));
        // CE 02CC
        gbc.setState(0x2adb, 0xbca4, 0x2af0, 0xd1a9, 0xf659, 0xf286, 0x0, 0x1);
        gbc.writeMem(0x2adb, { 0xce, 0x94 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xbca4, gbc.sp());
        EXPECT(0x2add, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02CD
        gbc.setState(0x9350, 0x75be, 0xc30, 0xbe62, 0xe689, 0x68fd, 0x1, 0x0);
        gbc.writeMem(0x9350, { 0xce, 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x75be, gbc.sp());
        EXPECT(0x9352, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9350));
        EXPECT(0x67, gbc.readMem(0x9351));
        // CE 02CE
        gbc.setState(0x9b3a, 0xffda, 0x1110, 0x51e5, 0x6e88, 0x9201, 0x1, 0x1);
        gbc.writeMem(0x9b3a, { 0xce, 0x4e });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xffda, gbc.sp());
        EXPECT(0x9b3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9b3a));
        EXPECT(0x4e, gbc.readMem(0x9b3b));
        // CE 02CF
        gbc.setState(0x6880, 0x657a, 0x490, 0xc8b0, 0x3715, 0x864c, 0x0, 0x1);
        gbc.writeMem(0x6880, { 0xce, 0x5e });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x657a, gbc.sp());
        EXPECT(0x6882, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02D0
        gbc.setState(0xda4c, 0x284d, 0x4c50, 0xaba8, 0xde8f, 0x7c6e, 0x1, 0x1);
        gbc.writeMem(0xda4c, { 0xce, 0x3b });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x284d, gbc.sp());
        EXPECT(0xda4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xda4c));
        EXPECT(0x3b, gbc.readMem(0xda4d));
        // CE 02D1
        gbc.setState(0xde64, 0x3628, 0x77c0, 0xb329, 0x5db3, 0x2aed, 0x0, 0x0);
        gbc.writeMem(0xde64, { 0xce, 0xae });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x3628, gbc.sp());
        EXPECT(0xde66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xde64));
        EXPECT(0xae, gbc.readMem(0xde65));
        // CE 02D2
        gbc.setState(0x9dec, 0x3a12, 0x8c60, 0x8276, 0xd260, 0x632e, 0x0, 0x1);
        gbc.writeMem(0x9dec, { 0xce, 0x3e });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3a12, gbc.sp());
        EXPECT(0x9dee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9dec));
        EXPECT(0x3e, gbc.readMem(0x9ded));
        // CE 02D3
        gbc.setState(0xc1b7, 0xf55e, 0x52b0, 0x3c32, 0x1c0a, 0xadd, 0x1, 0x0);
        gbc.writeMem(0xc1b7, { 0xce, 0xa9 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xf55e, gbc.sp());
        EXPECT(0xc1b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc1b7));
        EXPECT(0xa9, gbc.readMem(0xc1b8));
        // CE 02D4
        gbc.setState(0xb233, 0x2b7c, 0x8710, 0x8e4, 0xead0, 0xbb2f, 0x0, 0x0);
        gbc.writeMem(0xb233, { 0xce, 0xe2 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x2b7c, gbc.sp());
        EXPECT(0xb235, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb233));
        EXPECT(0xe2, gbc.readMem(0xb234));
        // CE 02D5
        gbc.setState(0x1e89, 0xc0e1, 0x4510, 0x1a32, 0xb062, 0x580e, 0x1, 0x1);
        gbc.writeMem(0x1e89, { 0xce, 0xbe });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xc0e1, gbc.sp());
        EXPECT(0x1e8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02D6
        gbc.setState(0x9eff, 0xf62d, 0x8ac0, 0x6dde, 0x79d, 0xe778, 0x1, 0x1);
        gbc.writeMem(0x9eff, { 0xce, 0xb5 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xf62d, gbc.sp());
        EXPECT(0x9f01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9eff));
        EXPECT(0xb5, gbc.readMem(0x9f00));
        // CE 02D7
        gbc.setState(0xd51c, 0xcff7, 0xa840, 0xfb55, 0x7fcb, 0xc89e, 0x1, 0x0);
        gbc.writeMem(0xd51c, { 0xce, 0xdf });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xcff7, gbc.sp());
        EXPECT(0xd51e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd51c));
        EXPECT(0xdf, gbc.readMem(0xd51d));
        // CE 02D8
        gbc.setState(0xbb52, 0xef95, 0xd3e0, 0x5842, 0x1d41, 0x5b39, 0x1, 0x0);
        gbc.writeMem(0xbb52, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xef95, gbc.sp());
        EXPECT(0xbb54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbb52));
        EXPECT(0x95, gbc.readMem(0xbb53));
        // CE 02D9
        gbc.setState(0x9514, 0x27ea, 0xe590, 0xadc7, 0xcb4d, 0x256d, 0x1, 0x0);
        gbc.writeMem(0x9514, { 0xce, 0xa7 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x27ea, gbc.sp());
        EXPECT(0x9516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9514));
        EXPECT(0xa7, gbc.readMem(0x9515));
        // CE 02DA
        gbc.setState(0x7012, 0x8507, 0xf860, 0x7f20, 0xfd1b, 0xcc59, 0x1, 0x0);
        gbc.writeMem(0x7012, { 0xce, 0xc6 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x8507, gbc.sp());
        EXPECT(0x7014, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02DB
        gbc.setState(0x64, 0xcbac, 0x8e40, 0x6504, 0x5cce, 0x7591, 0x1, 0x1);
        gbc.writeMem(0x64, { 0xce, 0xd4 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xcbac, gbc.sp());
        EXPECT(0x66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02DC
        gbc.setState(0xb15d, 0xe7e1, 0x43b0, 0xd3fb, 0xfc21, 0x9c7, 0x0, 0x1);
        gbc.writeMem(0xb15d, { 0xce, 0xf6 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xe7e1, gbc.sp());
        EXPECT(0xb15f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb15d));
        EXPECT(0xf6, gbc.readMem(0xb15e));
        // CE 02DD
        gbc.setState(0x656e, 0xea0c, 0x1150, 0x75fd, 0x3bd2, 0x584b, 0x0, 0x1);
        gbc.writeMem(0x656e, { 0xce, 0x8f });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xea0c, gbc.sp());
        EXPECT(0x6570, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02DE
        gbc.setState(0x5fd0, 0x7453, 0xfb00, 0xf702, 0xa128, 0x7a84, 0x1, 0x0);
        gbc.writeMem(0x5fd0, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x7453, gbc.sp());
        EXPECT(0x5fd2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02DF
        gbc.setState(0x62d5, 0xc278, 0x8600, 0x69a5, 0x2751, 0x6ec9, 0x0, 0x0);
        gbc.writeMem(0x62d5, { 0xce, 0x49 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xc278, gbc.sp());
        EXPECT(0x62d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02E0
        gbc.setState(0x61b9, 0x6a97, 0x76b0, 0xb996, 0x801d, 0x7863, 0x1, 0x0);
        gbc.writeMem(0x61b9, { 0xce, 0xeb });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x6a97, gbc.sp());
        EXPECT(0x61bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E1
        gbc.setState(0x31ce, 0xc757, 0xa470, 0x4b86, 0x744f, 0xbe5, 0x0, 0x1);
        gbc.writeMem(0x31ce, { 0xce, 0xdb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xc757, gbc.sp());
        EXPECT(0x31d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E3
        gbc.setState(0x4a2b, 0x31, 0xb7f0, 0xefc2, 0xc9c7, 0xf84b, 0x1, 0x1);
        gbc.writeMem(0x4a2b, { 0xce, 0x69 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x31, gbc.sp());
        EXPECT(0x4a2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E4
        gbc.setState(0x6abd, 0xbc24, 0x3f80, 0x1b6f, 0x3201, 0x83ed, 0x0, 0x1);
        gbc.writeMem(0x6abd, { 0xce, 0xda });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xbc24, gbc.sp());
        EXPECT(0x6abf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E5
        gbc.setState(0xa411, 0x139d, 0x4410, 0x6ca0, 0x2c59, 0x3e08, 0x0, 0x0);
        gbc.writeMem(0xa411, { 0xce, 0x2d });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x139d, gbc.sp());
        EXPECT(0xa413, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa411));
        EXPECT(0x2d, gbc.readMem(0xa412));
        // CE 02E6
        gbc.setState(0x5566, 0x76a2, 0x9100, 0x5886, 0xb4cf, 0xbaf8, 0x1, 0x0);
        gbc.writeMem(0x5566, { 0xce, 0xaa });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x76a2, gbc.sp());
        EXPECT(0x5568, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E7
        gbc.setState(0x2251, 0xef66, 0xc360, 0x5d2d, 0x80bb, 0x9c3d, 0x1, 0x0);
        gbc.writeMem(0x2251, { 0xce, 0xf5 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xef66, gbc.sp());
        EXPECT(0x2253, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E8
        gbc.setState(0x2fdf, 0xa6b3, 0xb810, 0x808f, 0x75ce, 0x598c, 0x0, 0x1);
        gbc.writeMem(0x2fdf, { 0xce, 0xb0 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xa6b3, gbc.sp());
        EXPECT(0x2fe1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02E9
        gbc.setState(0xa98c, 0x6e19, 0x9560, 0xc6c2, 0xc888, 0xf1d2, 0x1, 0x0);
        gbc.writeMem(0xa98c, { 0xce, 0xc5 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x6e19, gbc.sp());
        EXPECT(0xa98e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa98c));
        EXPECT(0xc5, gbc.readMem(0xa98d));
        // CE 02EB
        gbc.setState(0x4ab6, 0xce50, 0xf050, 0x4df8, 0xa781, 0xf8e4, 0x1, 0x1);
        gbc.writeMem(0x4ab6, { 0xce, 0xcc });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xce50, gbc.sp());
        EXPECT(0x4ab8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02EC
        gbc.setState(0x7026, 0x7ae, 0x180, 0x7234, 0x1e5b, 0xd4d3, 0x1, 0x0);
        gbc.writeMem(0x7026, { 0xce, 0x59 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x7ae, gbc.sp());
        EXPECT(0x7028, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02ED
        gbc.setState(0xc974, 0x77be, 0xe210, 0xca77, 0x96ab, 0x8737, 0x0, 0x1);
        gbc.writeMem(0xc974, { 0xce, 0xbe });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x77be, gbc.sp());
        EXPECT(0xc976, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc974));
        EXPECT(0xbe, gbc.readMem(0xc975));
        // CE 02EE
        gbc.setState(0x4813, 0x2592, 0x740, 0x7a66, 0x5066, 0x64b4, 0x1, 0x1);
        gbc.writeMem(0x4813, { 0xce, 0x70 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x2592, gbc.sp());
        EXPECT(0x4815, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02EF
        gbc.setState(0x3f4f, 0x86b6, 0x49f0, 0x9a50, 0x62c9, 0xd85e, 0x0, 0x0);
        gbc.writeMem(0x3f4f, { 0xce, 0x8e });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x86b6, gbc.sp());
        EXPECT(0x3f51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02F0
        gbc.setState(0x762f, 0x53c8, 0xd7b0, 0xf47c, 0x6378, 0x52af, 0x0, 0x1);
        gbc.writeMem(0x762f, { 0xce, 0x2b });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x53c8, gbc.sp());
        EXPECT(0x7631, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02F1
        gbc.setState(0x80f2, 0xd4a6, 0x19f0, 0xda2e, 0x92a9, 0xc307, 0x0, 0x0);
        gbc.writeMem(0x80f2, { 0xce, 0x88 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xd4a6, gbc.sp());
        EXPECT(0x80f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x80f2));
        EXPECT(0x88, gbc.readMem(0x80f3));
        // CE 02F2
        gbc.setState(0x37d, 0xe1ae, 0x520, 0x5e17, 0xfb89, 0xaf33, 0x0, 0x0);
        gbc.writeMem(0x37d, { 0xce, 0xf4 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xe1ae, gbc.sp());
        EXPECT(0x37f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02F3
        gbc.setState(0xaee1, 0xd032, 0xd00, 0x6209, 0xbaad, 0x88f1, 0x0, 0x0);
        gbc.writeMem(0xaee1, { 0xce, 0xa8 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xd032, gbc.sp());
        EXPECT(0xaee3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaee1));
        EXPECT(0xa8, gbc.readMem(0xaee2));
        // CE 02F4
        gbc.setState(0xb7cc, 0x9510, 0x6640, 0x49e5, 0x80dd, 0x3afd, 0x1, 0x0);
        gbc.writeMem(0xb7cc, { 0xce, 0xd2 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x9510, gbc.sp());
        EXPECT(0xb7ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb7cc));
        EXPECT(0xd2, gbc.readMem(0xb7cd));
        // CE 02F5
        gbc.setState(0x1e96, 0x106, 0xa100, 0x107e, 0x251b, 0x7daf, 0x0, 0x0);
        gbc.writeMem(0x1e96, { 0xce, 0x22 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x106, gbc.sp());
        EXPECT(0x1e98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02F6
        gbc.setState(0xcc2b, 0xb942, 0xce50, 0xa0e1, 0xeb6, 0x9f12, 0x0, 0x1);
        gbc.writeMem(0xcc2b, { 0xce, 0xe8 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xb942, gbc.sp());
        EXPECT(0xcc2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcc2b));
        EXPECT(0xe8, gbc.readMem(0xcc2c));
        // CE 02F7
        gbc.setState(0x4c96, 0x7fbc, 0x9680, 0x1121, 0x5b0c, 0x9289, 0x0, 0x1);
        gbc.writeMem(0x4c96, { 0xce, 0x59 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x7fbc, gbc.sp());
        EXPECT(0x4c98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 02F8
        gbc.setState(0x8bc4, 0xa778, 0x8e70, 0x41fe, 0x21e4, 0x196, 0x1, 0x0);
        gbc.writeMem(0x8bc4, { 0xce, 0x66 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xa778, gbc.sp());
        EXPECT(0x8bc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8bc4));
        EXPECT(0x66, gbc.readMem(0x8bc5));
        // CE 02F9
        gbc.setState(0x3aa1, 0x7e51, 0xa860, 0x3ac6, 0x4811, 0x3987, 0x0, 0x0);
        gbc.writeMem(0x3aa1, { 0xce, 0xec });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x7e51, gbc.sp());
        EXPECT(0x3aa3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 02FA
        gbc.setState(0xa4f1, 0x3780, 0x4b80, 0x22fc, 0xb777, 0xd215, 0x0, 0x1);
        gbc.writeMem(0xa4f1, { 0xce, 0x23 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3780, gbc.sp());
        EXPECT(0xa4f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa4f1));
        EXPECT(0x23, gbc.readMem(0xa4f2));
        // CE 02FB
        gbc.setState(0xb1d4, 0x131c, 0xa720, 0xa08c, 0x5a19, 0x706e, 0x0, 0x0);
        gbc.writeMem(0xb1d4, { 0xce, 0x3d });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x131c, gbc.sp());
        EXPECT(0xb1d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb1d4));
        EXPECT(0x3d, gbc.readMem(0xb1d5));
        // CE 02FC
        gbc.setState(0xa08f, 0xe40c, 0x21e0, 0xb1b7, 0xe491, 0x4f89, 0x1, 0x1);
        gbc.writeMem(0xa08f, { 0xce, 0x6b });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xe40c, gbc.sp());
        EXPECT(0xa091, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa08f));
        EXPECT(0x6b, gbc.readMem(0xa090));
        // CE 02FE
        gbc.setState(0xd088, 0x7018, 0x5d00, 0x410d, 0xb9af, 0xeded, 0x1, 0x0);
        gbc.writeMem(0xd088, { 0xce, 0x94 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x7018, gbc.sp());
        EXPECT(0xd08a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd088));
        EXPECT(0x94, gbc.readMem(0xd089));
        // CE 02FF
        gbc.setState(0x880a, 0xa6a3, 0x5a00, 0x7b90, 0x4f26, 0xc5f5, 0x1, 0x0);
        gbc.writeMem(0x880a, { 0xce, 0xf6 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa6a3, gbc.sp());
        EXPECT(0x880c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x880a));
        EXPECT(0xf6, gbc.readMem(0x880b));
        // CE 0300
        gbc.setState(0x9fc4, 0x219d, 0x4110, 0xefa1, 0xdf02, 0xfad4, 0x0, 0x0);
        gbc.writeMem(0x9fc4, { 0xce, 0x16 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x219d, gbc.sp());
        EXPECT(0x9fc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9fc4));
        EXPECT(0x16, gbc.readMem(0x9fc5));
        // CE 0301
        gbc.setState(0xb0f, 0x6f25, 0x3f10, 0xbf10, 0xb55c, 0xa1eb, 0x0, 0x1);
        gbc.writeMem(0xb0f, { 0xce, 0x5b });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x6f25, gbc.sp());
        EXPECT(0xb11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0302
        gbc.setState(0x1146, 0x7134, 0xc0, 0xd1fd, 0xbc70, 0x2a43, 0x1, 0x1);
        gbc.writeMem(0x1146, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x7134, gbc.sp());
        EXPECT(0x1148, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0304
        gbc.setState(0x18e0, 0xde0b, 0xd260, 0xc8df, 0x407d, 0x15ad, 0x0, 0x1);
        gbc.writeMem(0x18e0, { 0xce, 0xca });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xde0b, gbc.sp());
        EXPECT(0x18e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0305
        gbc.setState(0x6b64, 0x905f, 0xecc0, 0xd905, 0xf964, 0xd519, 0x1, 0x0);
        gbc.writeMem(0x6b64, { 0xce, 0xa1 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x905f, gbc.sp());
        EXPECT(0x6b66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0306
        gbc.setState(0x61e4, 0x544f, 0x9b40, 0x7ec3, 0x9104, 0xaa52, 0x0, 0x1);
        gbc.writeMem(0x61e4, { 0xce, 0xdc });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x544f, gbc.sp());
        EXPECT(0x61e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0307
        gbc.setState(0xbdf3, 0xe4d2, 0xcfe0, 0xaf7a, 0x50e, 0x5322, 0x0, 0x1);
        gbc.writeMem(0xbdf3, { 0xce, 0x57 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xe4d2, gbc.sp());
        EXPECT(0xbdf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbdf3));
        EXPECT(0x57, gbc.readMem(0xbdf4));
        // CE 0308
        gbc.setState(0xba59, 0x447a, 0x30f0, 0x269d, 0xd567, 0xa5d3, 0x1, 0x0);
        gbc.writeMem(0xba59, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x447a, gbc.sp());
        EXPECT(0xba5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xba59));
        EXPECT(0x43, gbc.readMem(0xba5a));
        // CE 0309
        gbc.setState(0xcebd, 0xadb9, 0xcef0, 0xf6da, 0xb65a, 0xff20, 0x0, 0x1);
        gbc.writeMem(0xcebd, { 0xce, 0x4f });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xadb9, gbc.sp());
        EXPECT(0xcebf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcebd));
        EXPECT(0x4f, gbc.readMem(0xcebe));
        // CE 030A
        gbc.setState(0x63a4, 0x19f1, 0x9820, 0x9a66, 0x4c1d, 0xfc1d, 0x0, 0x1);
        gbc.writeMem(0x63a4, { 0xce, 0x8f });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x19f1, gbc.sp());
        EXPECT(0x63a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 030B
        gbc.setState(0x4659, 0x79a7, 0x1310, 0xae1, 0x3eb1, 0x26e4, 0x1, 0x0);
        gbc.writeMem(0x4659, { 0xce, 0x1c });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x79a7, gbc.sp());
        EXPECT(0x465b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 030C
        gbc.setState(0x927a, 0x166d, 0x8ce0, 0x1078, 0x5509, 0x9596, 0x1, 0x0);
        gbc.writeMem(0x927a, { 0xce, 0xd4 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x166d, gbc.sp());
        EXPECT(0x927c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x927a));
        EXPECT(0xd4, gbc.readMem(0x927b));
        // CE 030D
        gbc.setState(0x984b, 0x6735, 0xbfb0, 0x4cdb, 0x1fde, 0x3afe, 0x1, 0x1);
        gbc.writeMem(0x984b, { 0xce, 0xe0 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x6735, gbc.sp());
        EXPECT(0x984d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x984b));
        EXPECT(0xe0, gbc.readMem(0x984c));
        // CE 030F
        gbc.setState(0x38e8, 0x9190, 0xf990, 0x16fd, 0xf729, 0xdc8a, 0x1, 0x1);
        gbc.writeMem(0x38e8, { 0xce, 0x47 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x9190, gbc.sp());
        EXPECT(0x38ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0310
        gbc.setState(0x6d5f, 0x7740, 0x52e0, 0xc483, 0xc71d, 0x6bdb, 0x1, 0x0);
        gbc.writeMem(0x6d5f, { 0xce, 0xa5 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x7740, gbc.sp());
        EXPECT(0x6d61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0311
        gbc.setState(0x142b, 0x121d, 0x3620, 0xc0f1, 0xfa05, 0x51e8, 0x1, 0x0);
        gbc.writeMem(0x142b, { 0xce, 0xf7 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x121d, gbc.sp());
        EXPECT(0x142d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0312
        gbc.setState(0x159e, 0x2d5d, 0x9320, 0xd942, 0x85c2, 0xf63f, 0x0, 0x0);
        gbc.writeMem(0x159e, { 0xce, 0x85 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x2d5d, gbc.sp());
        EXPECT(0x15a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0313
        gbc.setState(0x6ff8, 0x40e8, 0x8f10, 0x3a01, 0x8a1, 0xfae9, 0x1, 0x0);
        gbc.writeMem(0x6ff8, { 0xce, 0x11 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x40e8, gbc.sp());
        EXPECT(0x6ffa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0314
        gbc.setState(0x4177, 0xb794, 0x2380, 0x79e, 0x946d, 0xac68, 0x0, 0x1);
        gbc.writeMem(0x4177, { 0xce, 0x92 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xb794, gbc.sp());
        EXPECT(0x4179, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0315
        gbc.setState(0x9671, 0x8561, 0x3440, 0x656c, 0x7499, 0xf8f5, 0x1, 0x1);
        gbc.writeMem(0x9671, { 0xce, 0x75 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x8561, gbc.sp());
        EXPECT(0x9673, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9671));
        EXPECT(0x75, gbc.readMem(0x9672));
        // CE 0316
        gbc.setState(0xd8df, 0x4e31, 0x2e20, 0x2f57, 0xf6c7, 0x603b, 0x0, 0x1);
        gbc.writeMem(0xd8df, { 0xce, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x4e31, gbc.sp());
        EXPECT(0xd8e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd8df));
        EXPECT(0x50, gbc.readMem(0xd8e0));
        // CE 0317
        gbc.setState(0x9221, 0x47cd, 0xfb90, 0xbb81, 0x8c73, 0xe3a6, 0x1, 0x1);
        gbc.writeMem(0x9221, { 0xce, 0xee });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x47cd, gbc.sp());
        EXPECT(0x9223, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9221));
        EXPECT(0xee, gbc.readMem(0x9222));
        // CE 0318
        gbc.setState(0xb11, 0x6059, 0xf4d0, 0xa04e, 0x2303, 0xc0d, 0x1, 0x1);
        gbc.writeMem(0xb11, { 0xce, 0x3 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x6059, gbc.sp());
        EXPECT(0xb13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0319
        gbc.setState(0x85eb, 0x8ce0, 0xbee0, 0xb292, 0xba5, 0x9aeb, 0x1, 0x0);
        gbc.writeMem(0x85eb, { 0xce, 0xf1 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x8ce0, gbc.sp());
        EXPECT(0x85ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x85eb));
        EXPECT(0xf1, gbc.readMem(0x85ec));
        // CE 031B
        gbc.setState(0xce33, 0xc654, 0xdad0, 0x5bcc, 0x9116, 0x34e4, 0x1, 0x1);
        gbc.writeMem(0xce33, { 0xce, 0x58 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xc654, gbc.sp());
        EXPECT(0xce35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xce33));
        EXPECT(0x58, gbc.readMem(0xce34));
        // CE 031C
        gbc.setState(0x8e41, 0x4b8e, 0x14d0, 0xd842, 0x8fe6, 0x4eff, 0x0, 0x0);
        gbc.writeMem(0x8e41, { 0xce, 0x3b });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x4b8e, gbc.sp());
        EXPECT(0x8e43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8e41));
        EXPECT(0x3b, gbc.readMem(0x8e42));
        // CE 031D
        gbc.setState(0x5090, 0x4ef5, 0xfcf0, 0x2fc6, 0x472d, 0xa2d1, 0x0, 0x1);
        gbc.writeMem(0x5090, { 0xce, 0x5d });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x4ef5, gbc.sp());
        EXPECT(0x5092, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 031E
        gbc.setState(0xe2d1, 0x3e24, 0xd340, 0xa913, 0x9b34, 0x7fc3, 0x0, 0x0);
        gbc.writeMem(0xe2d1, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3e24, gbc.sp());
        EXPECT(0xe2d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe2d1));
        EXPECT(0xb4, gbc.readMem(0xe2d2));
        // CE 031F
        gbc.setState(0xc85a, 0x73de, 0xfe20, 0x44ef, 0xb397, 0xe000, 0x1, 0x0);
        gbc.writeMem(0xc85a, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x73de, gbc.sp());
        EXPECT(0xc85c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc85a));
        EXPECT(0xf8, gbc.readMem(0xc85b));
        // CE 0320
        gbc.setState(0x980e, 0x1dc3, 0xb10, 0xbec7, 0xa29a, 0x8c5c, 0x1, 0x1);
        gbc.writeMem(0x980e, { 0xce, 0xb8 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x1dc3, gbc.sp());
        EXPECT(0x9810, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x980e));
        EXPECT(0xb8, gbc.readMem(0x980f));
        // CE 0321
        gbc.setState(0xbd1, 0xe95b, 0x5d90, 0xc429, 0x588d, 0x6f99, 0x1, 0x1);
        gbc.writeMem(0xbd1, { 0xce, 0x76 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xe95b, gbc.sp());
        EXPECT(0xbd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0322
        gbc.setState(0xb924, 0x4a78, 0xcbc0, 0xc75, 0x4b6e, 0xe9f5, 0x0, 0x1);
        gbc.writeMem(0xb924, { 0xce, 0x0 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x4a78, gbc.sp());
        EXPECT(0xb926, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb924));
        EXPECT(0x0, gbc.readMem(0xb925));
        // CE 0323
        gbc.setState(0x2af, 0x7197, 0xc050, 0x3ac8, 0x3aa8, 0x93f4, 0x1, 0x1);
        gbc.writeMem(0x2af, { 0xce, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x7197, gbc.sp());
        EXPECT(0x2b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0324
        gbc.setState(0xaa61, 0xa8d0, 0x3570, 0x45d8, 0x18a4, 0x7ea2, 0x0, 0x0);
        gbc.writeMem(0xaa61, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xa8d0, gbc.sp());
        EXPECT(0xaa63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xaa61));
        EXPECT(0x73, gbc.readMem(0xaa62));
        // CE 0325
        gbc.setState(0x9adb, 0x29bb, 0xd410, 0xdb53, 0x536d, 0x20b0, 0x1, 0x1);
        gbc.writeMem(0x9adb, { 0xce, 0x9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x29bb, gbc.sp());
        EXPECT(0x9add, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9adb));
        EXPECT(0x9, gbc.readMem(0x9adc));
        // CE 0326
        gbc.setState(0xbae5, 0x3028, 0x1a90, 0xca6, 0x8c47, 0x9419, 0x1, 0x1);
        gbc.writeMem(0xbae5, { 0xce, 0xca });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x3028, gbc.sp());
        EXPECT(0xbae7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbae5));
        EXPECT(0xca, gbc.readMem(0xbae6));
        // CE 0327
        gbc.setState(0x743b, 0x709f, 0x13b0, 0x6b73, 0xe53e, 0x40b4, 0x0, 0x1);
        gbc.writeMem(0x743b, { 0xce, 0xf9 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x709f, gbc.sp());
        EXPECT(0x743d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0328
        gbc.setState(0x85f5, 0x4731, 0x2e10, 0x9f05, 0xff46, 0xdd88, 0x1, 0x0);
        gbc.writeMem(0x85f5, { 0xce, 0xfe });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x4731, gbc.sp());
        EXPECT(0x85f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x85f5));
        EXPECT(0xfe, gbc.readMem(0x85f6));
        // CE 0329
        gbc.setState(0x529, 0x7802, 0xdc10, 0x65eb, 0x759, 0x655a, 0x0, 0x1);
        gbc.writeMem(0x529, { 0xce, 0x21 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x7802, gbc.sp());
        EXPECT(0x52b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 032A
        gbc.setState(0x965a, 0x84b2, 0xb010, 0xf2c6, 0xcf75, 0x8421, 0x1, 0x1);
        gbc.writeMem(0x965a, { 0xce, 0x29 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x84b2, gbc.sp());
        EXPECT(0x965c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x965a));
        EXPECT(0x29, gbc.readMem(0x965b));
        // CE 032B
        gbc.setState(0x8fde, 0x109d, 0x34e0, 0x94e4, 0x1fa2, 0xa05a, 0x0, 0x0);
        gbc.writeMem(0x8fde, { 0xce, 0x96 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x109d, gbc.sp());
        EXPECT(0x8fe0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8fde));
        EXPECT(0x96, gbc.readMem(0x8fdf));
        // CE 032C
        gbc.setState(0xba42, 0xc66b, 0xe260, 0x34bd, 0x273b, 0x2840, 0x1, 0x0);
        gbc.writeMem(0xba42, { 0xce, 0x4b });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xc66b, gbc.sp());
        EXPECT(0xba44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xba42));
        EXPECT(0x4b, gbc.readMem(0xba43));
        // CE 032D
        gbc.setState(0x86a8, 0xd453, 0x3f40, 0xe139, 0x2f7c, 0x6620, 0x1, 0x0);
        gbc.writeMem(0x86a8, { 0xce, 0x84 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xd453, gbc.sp());
        EXPECT(0x86aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x86a8));
        EXPECT(0x84, gbc.readMem(0x86a9));
        // CE 032E
        gbc.setState(0xedb3, 0x6662, 0x1e0, 0x4e92, 0x93a7, 0xe4d5, 0x1, 0x1);
        gbc.writeMem(0xedb3, { 0xce, 0x61 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x6662, gbc.sp());
        EXPECT(0xedb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xedb3));
        EXPECT(0x61, gbc.readMem(0xedb4));
        // CE 032F
        gbc.setState(0x95a7, 0xe76b, 0x2870, 0xf7b2, 0x10da, 0x6a60, 0x1, 0x0);
        gbc.writeMem(0x95a7, { 0xce, 0xba });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xe76b, gbc.sp());
        EXPECT(0x95a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x95a7));
        EXPECT(0xba, gbc.readMem(0x95a8));
        // CE 0330
        gbc.setState(0xae75, 0xa37c, 0xe530, 0xee2, 0x85a5, 0x9c51, 0x0, 0x0);
        gbc.writeMem(0xae75, { 0xce, 0xe8 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xa37c, gbc.sp());
        EXPECT(0xae77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xae75));
        EXPECT(0xe8, gbc.readMem(0xae76));
        // CE 0331
        gbc.setState(0xde76, 0xcdca, 0xd630, 0x2ac1, 0x303b, 0x385, 0x1, 0x0);
        gbc.writeMem(0xde76, { 0xce, 0x6c });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xcdca, gbc.sp());
        EXPECT(0xde78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xde76));
        EXPECT(0x6c, gbc.readMem(0xde77));
        // CE 0332
        gbc.setState(0x26fa, 0x4024, 0x3950, 0x79af, 0x6aae, 0x2891, 0x0, 0x0);
        gbc.writeMem(0x26fa, { 0xce, 0x90 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x4024, gbc.sp());
        EXPECT(0x26fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0333
        gbc.setState(0xdc31, 0xa9a1, 0xc1e0, 0xf848, 0xc05f, 0x31cd, 0x0, 0x0);
        gbc.writeMem(0xdc31, { 0xce, 0x8b });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xa9a1, gbc.sp());
        EXPECT(0xdc33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdc31));
        EXPECT(0x8b, gbc.readMem(0xdc32));
        // CE 0334
        gbc.setState(0x2061, 0x4e50, 0x37c0, 0xacf, 0xccf2, 0xc084, 0x0, 0x1);
        gbc.writeMem(0x2061, { 0xce, 0x6e });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x4e50, gbc.sp());
        EXPECT(0x2063, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0336
        gbc.setState(0x5350, 0xc366, 0x3100, 0x98c2, 0x719b, 0x67f, 0x1, 0x0);
        gbc.writeMem(0x5350, { 0xce, 0x2f });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc366, gbc.sp());
        EXPECT(0x5352, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0337
        gbc.setState(0x8172, 0xa311, 0x7d10, 0xf016, 0xed52, 0x12bb, 0x0, 0x1);
        gbc.writeMem(0x8172, { 0xce, 0xd8 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xa311, gbc.sp());
        EXPECT(0x8174, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8172));
        EXPECT(0xd8, gbc.readMem(0x8173));
        // CE 0338
        gbc.setState(0x683b, 0x1156, 0xe320, 0xe806, 0xbc16, 0xcb66, 0x0, 0x0);
        gbc.writeMem(0x683b, { 0xce, 0xe7 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x1156, gbc.sp());
        EXPECT(0x683d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0339
        gbc.setState(0x9388, 0x11b3, 0x8f20, 0x6bc0, 0x6b97, 0xbc19, 0x1, 0x1);
        gbc.writeMem(0x9388, { 0xce, 0x94 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x11b3, gbc.sp());
        EXPECT(0x938a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9388));
        EXPECT(0x94, gbc.readMem(0x9389));
        // CE 033A
        gbc.setState(0x8b2b, 0x7764, 0xcc90, 0x7f01, 0x46c, 0xa076, 0x0, 0x1);
        gbc.writeMem(0x8b2b, { 0xce, 0xfe });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x7764, gbc.sp());
        EXPECT(0x8b2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8b2b));
        EXPECT(0xfe, gbc.readMem(0x8b2c));
        // CE 033B
        gbc.setState(0xc601, 0xb3a0, 0x8d60, 0xbdd8, 0xfb18, 0x1241, 0x0, 0x0);
        gbc.writeMem(0xc601, { 0xce, 0xdb });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xb3a0, gbc.sp());
        EXPECT(0xc603, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc601));
        EXPECT(0xdb, gbc.readMem(0xc602));
        // CE 033C
        gbc.setState(0x2ad3, 0x9086, 0x9c20, 0x94bd, 0x6995, 0x3e8b, 0x0, 0x0);
        gbc.writeMem(0x2ad3, { 0xce, 0x31 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x9086, gbc.sp());
        EXPECT(0x2ad5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 033D
        gbc.setState(0x6df1, 0x9cc, 0x7a40, 0x439c, 0xd09b, 0xd916, 0x0, 0x1);
        gbc.writeMem(0x6df1, { 0xce, 0x79 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x9cc, gbc.sp());
        EXPECT(0x6df3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 033E
        gbc.setState(0x6eca, 0x79b, 0xdf30, 0xe288, 0x9da4, 0xbb21, 0x1, 0x0);
        gbc.writeMem(0x6eca, { 0xce, 0x41 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x79b, gbc.sp());
        EXPECT(0x6ecc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 033F
        gbc.setState(0x9d7c, 0x3e53, 0x3950, 0x63e7, 0x2ca8, 0x2651, 0x1, 0x1);
        gbc.writeMem(0x9d7c, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x3e53, gbc.sp());
        EXPECT(0x9d7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9d7c));
        EXPECT(0xd9, gbc.readMem(0x9d7d));
        // CE 0340
        gbc.setState(0x328e, 0x1047, 0x4a90, 0x22a9, 0x1d90, 0x3587, 0x0, 0x1);
        gbc.writeMem(0x328e, { 0xce, 0x22 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x1047, gbc.sp());
        EXPECT(0x3290, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0341
        gbc.setState(0xdca1, 0x3642, 0x2600, 0xb365, 0xcc5e, 0x2fb0, 0x0, 0x0);
        gbc.writeMem(0xdca1, { 0xce, 0x54 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x3642, gbc.sp());
        EXPECT(0xdca3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdca1));
        EXPECT(0x54, gbc.readMem(0xdca2));
        // CE 0342
        gbc.setState(0x54f4, 0x107c, 0x1ab0, 0x91fb, 0x9339, 0x182f, 0x0, 0x1);
        gbc.writeMem(0x54f4, { 0xce, 0x35 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x107c, gbc.sp());
        EXPECT(0x54f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0343
        gbc.setState(0x43cf, 0x3eb4, 0x7060, 0xfdce, 0xdda0, 0xe04d, 0x0, 0x0);
        gbc.writeMem(0x43cf, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x3eb4, gbc.sp());
        EXPECT(0x43d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0344
        gbc.setState(0xe91c, 0x2643, 0xe180, 0x4175, 0xa41c, 0x464, 0x1, 0x1);
        gbc.writeMem(0xe91c, { 0xce, 0xd5 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x2643, gbc.sp());
        EXPECT(0xe91e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe91c));
        EXPECT(0xd5, gbc.readMem(0xe91d));
        // CE 0345
        gbc.setState(0x5b92, 0x2ac2, 0xba70, 0x7a35, 0xb881, 0x65eb, 0x1, 0x0);
        gbc.writeMem(0x5b92, { 0xce, 0xd3 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x2ac2, gbc.sp());
        EXPECT(0x5b94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0346
        gbc.setState(0xa049, 0x73df, 0x2220, 0xb53d, 0x2326, 0xc9d6, 0x1, 0x0);
        gbc.writeMem(0xa049, { 0xce, 0xf1 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x73df, gbc.sp());
        EXPECT(0xa04b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa049));
        EXPECT(0xf1, gbc.readMem(0xa04a));
        // CE 0347
        gbc.setState(0x4edd, 0x4091, 0x1df0, 0x59c, 0xc8ae, 0x513d, 0x0, 0x0);
        gbc.writeMem(0x4edd, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x4091, gbc.sp());
        EXPECT(0x4edf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0348
        gbc.setState(0xe82f, 0xe90b, 0x68f0, 0xfe44, 0x7e59, 0xea66, 0x0, 0x0);
        gbc.writeMem(0xe82f, { 0xce, 0x7d });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xe90b, gbc.sp());
        EXPECT(0xe831, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe82f));
        EXPECT(0x7d, gbc.readMem(0xe830));
        // CE 0349
        gbc.setState(0x5dd5, 0x3e8a, 0xcaf0, 0xbb76, 0x934e, 0xd11a, 0x1, 0x1);
        gbc.writeMem(0x5dd5, { 0xce, 0x2d });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x3e8a, gbc.sp());
        EXPECT(0x5dd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 034A
        gbc.setState(0x1993, 0xa253, 0xe990, 0x3a0f, 0xbb7f, 0xfb2f, 0x0, 0x0);
        gbc.writeMem(0x1993, { 0xce, 0x37 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xa253, gbc.sp());
        EXPECT(0x1995, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 034B
        gbc.setState(0xb905, 0xfb10, 0x9c10, 0x8f67, 0x2405, 0x26d2, 0x1, 0x1);
        gbc.writeMem(0xb905, { 0xce, 0x42 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xfb10, gbc.sp());
        EXPECT(0xb907, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb905));
        EXPECT(0x42, gbc.readMem(0xb906));
        // CE 034C
        gbc.setState(0x6033, 0xe093, 0x910, 0xd21, 0xb34d, 0x5874, 0x1, 0x0);
        gbc.writeMem(0x6033, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xe093, gbc.sp());
        EXPECT(0x6035, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 034D
        gbc.setState(0x2c47, 0x544d, 0xb4a0, 0xd29c, 0xbf84, 0x2841, 0x1, 0x1);
        gbc.writeMem(0x2c47, { 0xce, 0xa3 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x544d, gbc.sp());
        EXPECT(0x2c49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 034E
        gbc.setState(0xc49d, 0x5c07, 0x6dc0, 0xee80, 0xd2a, 0x6592, 0x1, 0x1);
        gbc.writeMem(0xc49d, { 0xce, 0x3b });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5c07, gbc.sp());
        EXPECT(0xc49f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc49d));
        EXPECT(0x3b, gbc.readMem(0xc49e));
        // CE 034F
        gbc.setState(0xc68b, 0x49f, 0x6d0, 0x1ce6, 0x7a40, 0x233a, 0x1, 0x1);
        gbc.writeMem(0xc68b, { 0xce, 0x47 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x49f, gbc.sp());
        EXPECT(0xc68d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc68b));
        EXPECT(0x47, gbc.readMem(0xc68c));
        // CE 0350
        gbc.setState(0x21b, 0x8442, 0xd790, 0x2f70, 0xb3a6, 0xca48, 0x1, 0x0);
        gbc.writeMem(0x21b, { 0xce, 0xbd });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x8442, gbc.sp());
        EXPECT(0x21d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0351
        gbc.setState(0x5c72, 0x6386, 0x3a80, 0x5636, 0x8d83, 0x803d, 0x0, 0x1);
        gbc.writeMem(0x5c72, { 0xce, 0xd5 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x6386, gbc.sp());
        EXPECT(0x5c74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0352
        gbc.setState(0x77f, 0x6099, 0x5e00, 0x37f4, 0x6815, 0x202f, 0x1, 0x1);
        gbc.writeMem(0x77f, { 0xce, 0x11 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x6099, gbc.sp());
        EXPECT(0x781, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0353
        gbc.setState(0x9366, 0x66ac, 0x3960, 0xa12, 0x7e33, 0xf67c, 0x1, 0x0);
        gbc.writeMem(0x9366, { 0xce, 0x33 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x66ac, gbc.sp());
        EXPECT(0x9368, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9366));
        EXPECT(0x33, gbc.readMem(0x9367));
        // CE 0354
        gbc.setState(0xef05, 0xe13f, 0xe610, 0x2e67, 0x44c8, 0x1c7, 0x1, 0x0);
        gbc.writeMem(0xef05, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xe13f, gbc.sp());
        EXPECT(0xef07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xef05));
        EXPECT(0x73, gbc.readMem(0xef06));
        // CE 0355
        gbc.setState(0xae34, 0x427a, 0x8580, 0x183c, 0x8cc7, 0xe0d5, 0x1, 0x0);
        gbc.writeMem(0xae34, { 0xce, 0x80 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x427a, gbc.sp());
        EXPECT(0xae36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xae34));
        EXPECT(0x80, gbc.readMem(0xae35));
        // CE 0356
        gbc.setState(0x621c, 0x8471, 0x5f20, 0x1d07, 0x9837, 0xb984, 0x0, 0x0);
        gbc.writeMem(0x621c, { 0xce, 0x90 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x8471, gbc.sp());
        EXPECT(0x621e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0357
        gbc.setState(0xfff, 0xa1c1, 0x43a0, 0x12c6, 0xb5b0, 0x4384, 0x1, 0x0);
        gbc.writeMem(0xfff, { 0xce, 0xfe });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xa1c1, gbc.sp());
        EXPECT(0x1001, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0358
        gbc.setState(0xbe8b, 0xfbbf, 0x20, 0x6153, 0xdac, 0xa3b8, 0x1, 0x0);
        gbc.writeMem(0xbe8b, { 0xce, 0x8d });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xfbbf, gbc.sp());
        EXPECT(0xbe8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbe8b));
        EXPECT(0x8d, gbc.readMem(0xbe8c));
        // CE 0359
        gbc.setState(0x5833, 0xe965, 0xc210, 0x2e5a, 0xfbc5, 0x1d5f, 0x0, 0x1);
        gbc.writeMem(0x5833, { 0xce, 0x6e });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xe965, gbc.sp());
        EXPECT(0x5835, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 035A
        gbc.setState(0xd5a9, 0xe3b1, 0xb400, 0x2e6c, 0xc483, 0xf218, 0x0, 0x0);
        gbc.writeMem(0xd5a9, { 0xce, 0x78 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe3b1, gbc.sp());
        EXPECT(0xd5ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd5a9));
        EXPECT(0x78, gbc.readMem(0xd5aa));
        // CE 035B
        gbc.setState(0xbbc, 0xd385, 0x90e0, 0xbbfc, 0xb6e3, 0xd375, 0x0, 0x1);
        gbc.writeMem(0xbbc, { 0xce, 0x95 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xd385, gbc.sp());
        EXPECT(0xbbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 035C
        gbc.setState(0x31d1, 0xaf87, 0x60, 0x510f, 0x8942, 0x56d0, 0x0, 0x1);
        gbc.writeMem(0x31d1, { 0xce, 0x18 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xaf87, gbc.sp());
        EXPECT(0x31d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 035D
        gbc.setState(0x31ce, 0x8049, 0x9b20, 0x2d1, 0xff93, 0x6405, 0x1, 0x1);
        gbc.writeMem(0x31ce, { 0xce, 0xdb });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8049, gbc.sp());
        EXPECT(0x31d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 035E
        gbc.setState(0xf38, 0xc30f, 0x80d0, 0x6501, 0xf5f, 0x182, 0x0, 0x0);
        gbc.writeMem(0xf38, { 0xce, 0xb6 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xc30f, gbc.sp());
        EXPECT(0xf3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 035F
        gbc.setState(0x8d45, 0x483, 0x60d0, 0x5193, 0xf68f, 0x9d9, 0x0, 0x1);
        gbc.writeMem(0x8d45, { 0xce, 0x32 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x483, gbc.sp());
        EXPECT(0x8d47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8d45));
        EXPECT(0x32, gbc.readMem(0x8d46));
        // CE 0360
        gbc.setState(0xe4c4, 0xaa1f, 0xd7c0, 0xbd63, 0x878e, 0xf215, 0x1, 0x0);
        gbc.writeMem(0xe4c4, { 0xce, 0x37 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xaa1f, gbc.sp());
        EXPECT(0xe4c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe4c4));
        EXPECT(0x37, gbc.readMem(0xe4c5));
        // CE 0361
        gbc.setState(0x611b, 0x2a62, 0xbf50, 0x503a, 0xf457, 0x382, 0x0, 0x1);
        gbc.writeMem(0x611b, { 0xce, 0x1d });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x2a62, gbc.sp());
        EXPECT(0x611d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0362
        gbc.setState(0x5e0d, 0x515b, 0xe6f0, 0xce28, 0xcfd6, 0xf480, 0x1, 0x0);
        gbc.writeMem(0x5e0d, { 0xce, 0x1 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x515b, gbc.sp());
        EXPECT(0x5e0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0363
        gbc.setState(0x7d0b, 0x14a6, 0x9b40, 0xbe7a, 0x23c1, 0x9bb2, 0x1, 0x1);
        gbc.writeMem(0x7d0b, { 0xce, 0xba });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x14a6, gbc.sp());
        EXPECT(0x7d0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0364
        gbc.setState(0x1442, 0xd18a, 0x9780, 0x89a5, 0xfdd8, 0x572a, 0x0, 0x0);
        gbc.writeMem(0x1442, { 0xce, 0x8e });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd18a, gbc.sp());
        EXPECT(0x1444, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0365
        gbc.setState(0x1e16, 0x3ece, 0xb4d0, 0xb8bb, 0xdb46, 0xa284, 0x0, 0x1);
        gbc.writeMem(0x1e16, { 0xce, 0xa6 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x3ece, gbc.sp());
        EXPECT(0x1e18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0366
        gbc.setState(0x2574, 0xb16e, 0x6c00, 0x9a37, 0xeb8c, 0xa13b, 0x0, 0x1);
        gbc.writeMem(0x2574, { 0xce, 0xa4 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xb16e, gbc.sp());
        EXPECT(0x2576, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0367
        gbc.setState(0x8f37, 0xd5c6, 0x48c0, 0xbf1c, 0x7d7c, 0x7752, 0x1, 0x0);
        gbc.writeMem(0x8f37, { 0xce, 0x24 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xd5c6, gbc.sp());
        EXPECT(0x8f39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8f37));
        EXPECT(0x24, gbc.readMem(0x8f38));
        // CE 0368
        gbc.setState(0x72a8, 0x4c39, 0x7cf0, 0x5eb3, 0x8aae, 0xd46d, 0x0, 0x1);
        gbc.writeMem(0x72a8, { 0xce, 0x10 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x4c39, gbc.sp());
        EXPECT(0x72aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0369
        gbc.setState(0x6e8, 0xf375, 0x7550, 0xa0c5, 0xdf2e, 0x4749, 0x0, 0x1);
        gbc.writeMem(0x6e8, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf375, gbc.sp());
        EXPECT(0x6ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 036A
        gbc.setState(0xa63d, 0x715a, 0x2520, 0x91ce, 0xc2b8, 0x27a2, 0x0, 0x1);
        gbc.writeMem(0xa63d, { 0xce, 0xa });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x715a, gbc.sp());
        EXPECT(0xa63f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa63d));
        EXPECT(0xa, gbc.readMem(0xa63e));
        // CE 036B
        gbc.setState(0xcca3, 0xfa0b, 0x78f0, 0xcd2f, 0x45c8, 0xd9b5, 0x1, 0x1);
        gbc.writeMem(0xcca3, { 0xce, 0xb3 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xfa0b, gbc.sp());
        EXPECT(0xcca5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcca3));
        EXPECT(0xb3, gbc.readMem(0xcca4));
        // CE 036C
        gbc.setState(0xc1f3, 0x1a73, 0x80, 0x2cd9, 0xf9c3, 0x65cb, 0x0, 0x1);
        gbc.writeMem(0xc1f3, { 0xce, 0x4f });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x1a73, gbc.sp());
        EXPECT(0xc1f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc1f3));
        EXPECT(0x4f, gbc.readMem(0xc1f4));
        // CE 036D
        gbc.setState(0xdbb3, 0x758a, 0xac90, 0xbd18, 0x4377, 0xfe87, 0x1, 0x0);
        gbc.writeMem(0xdbb3, { 0xce, 0x8a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x758a, gbc.sp());
        EXPECT(0xdbb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdbb3));
        EXPECT(0x8a, gbc.readMem(0xdbb4));
        // CE 036E
        gbc.setState(0xb6c2, 0x685, 0xe360, 0x416d, 0x6e3, 0x2c67, 0x1, 0x1);
        gbc.writeMem(0xb6c2, { 0xce, 0x1c });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x685, gbc.sp());
        EXPECT(0xb6c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb6c2));
        EXPECT(0x1c, gbc.readMem(0xb6c3));
        // CE 036F
        gbc.setState(0xc111, 0x5808, 0x11c0, 0xc0d6, 0xdc7b, 0x8910, 0x0, 0x1);
        gbc.writeMem(0xc111, { 0xce, 0x2 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x5808, gbc.sp());
        EXPECT(0xc113, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc111));
        EXPECT(0x2, gbc.readMem(0xc112));
        // CE 0370
        gbc.setState(0xcb3b, 0xdd2d, 0x4b80, 0xa3de, 0x3e6b, 0x2e0a, 0x1, 0x0);
        gbc.writeMem(0xcb3b, { 0xce, 0x88 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xdd2d, gbc.sp());
        EXPECT(0xcb3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcb3b));
        EXPECT(0x88, gbc.readMem(0xcb3c));
        // CE 0371
        gbc.setState(0x392a, 0xaaaf, 0x1150, 0xe7a5, 0xd546, 0x6a77, 0x0, 0x1);
        gbc.writeMem(0x392a, { 0xce, 0x21 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xaaaf, gbc.sp());
        EXPECT(0x392c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0372
        gbc.setState(0xa889, 0xab93, 0xd680, 0xede2, 0xab35, 0x4597, 0x1, 0x0);
        gbc.writeMem(0xa889, { 0xce, 0xb8 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xab93, gbc.sp());
        EXPECT(0xa88b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa889));
        EXPECT(0xb8, gbc.readMem(0xa88a));
        // CE 0373
        gbc.setState(0x2044, 0x4b58, 0xc660, 0x4bfe, 0x5781, 0xa1ef, 0x1, 0x1);
        gbc.writeMem(0x2044, { 0xce, 0x74 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x4b58, gbc.sp());
        EXPECT(0x2046, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0374
        gbc.setState(0x604d, 0x9495, 0x7ca0, 0xefe2, 0xbd2e, 0x63c1, 0x1, 0x0);
        gbc.writeMem(0x604d, { 0xce, 0xe9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x9495, gbc.sp());
        EXPECT(0x604f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0375
        gbc.setState(0x90c5, 0x5ae3, 0xacd0, 0x70f3, 0x74c5, 0xaf42, 0x0, 0x0);
        gbc.writeMem(0x90c5, { 0xce, 0xc9 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x5ae3, gbc.sp());
        EXPECT(0x90c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x90c5));
        EXPECT(0xc9, gbc.readMem(0x90c6));
        // CE 0376
        gbc.setState(0x40b, 0x619a, 0xd710, 0xc8b, 0xecde, 0xc9d8, 0x1, 0x0);
        gbc.writeMem(0x40b, { 0xce, 0xf });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x619a, gbc.sp());
        EXPECT(0x40d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0377
        gbc.setState(0x362c, 0xd7ae, 0xc9e0, 0xcde6, 0x9b4, 0x23ba, 0x0, 0x1);
        gbc.writeMem(0x362c, { 0xce, 0x9f });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xd7ae, gbc.sp());
        EXPECT(0x362e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0378
        gbc.setState(0x3168, 0x6540, 0x34b0, 0x3f21, 0x8212, 0x1d57, 0x0, 0x1);
        gbc.writeMem(0x3168, { 0xce, 0x2c });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x6540, gbc.sp());
        EXPECT(0x316a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0379
        gbc.setState(0xda9, 0xa2ad, 0x28d0, 0x79e2, 0x5ad9, 0xd7b1, 0x0, 0x0);
        gbc.writeMem(0xda9, { 0xce, 0xcc });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xa2ad, gbc.sp());
        EXPECT(0xdab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 037A
        gbc.setState(0x3826, 0xea63, 0x10f0, 0x7e85, 0x74dd, 0xa3c3, 0x1, 0x1);
        gbc.writeMem(0x3826, { 0xce, 0x62 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xea63, gbc.sp());
        EXPECT(0x3828, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 037B
        gbc.setState(0xcede, 0x41f2, 0x390, 0x9a54, 0x8e68, 0x8b39, 0x0, 0x0);
        gbc.writeMem(0xcede, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x41f2, gbc.sp());
        EXPECT(0xcee0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcede));
        EXPECT(0xd9, gbc.readMem(0xcedf));
        // CE 037C
        gbc.setState(0x8537, 0x5100, 0x9700, 0x958d, 0x3357, 0x91d2, 0x0, 0x1);
        gbc.writeMem(0x8537, { 0xce, 0xdb });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x5100, gbc.sp());
        EXPECT(0x8539, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8537));
        EXPECT(0xdb, gbc.readMem(0x8538));
        // CE 037D
        gbc.setState(0xbbe1, 0x9efd, 0x4ac0, 0xe797, 0x1588, 0x2798, 0x1, 0x1);
        gbc.writeMem(0xbbe1, { 0xce, 0x43 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x9efd, gbc.sp());
        EXPECT(0xbbe3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbbe1));
        EXPECT(0x43, gbc.readMem(0xbbe2));
        // CE 037E
        gbc.setState(0xeaba, 0x15a2, 0x9190, 0xfec0, 0xf844, 0xce99, 0x1, 0x0);
        gbc.writeMem(0xeaba, { 0xce, 0xca });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x15a2, gbc.sp());
        EXPECT(0xeabc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xeaba));
        EXPECT(0xca, gbc.readMem(0xeabb));
        // CE 037F
        gbc.setState(0x3ba3, 0x2532, 0xd170, 0xf430, 0xc9c9, 0xa35b, 0x1, 0x0);
        gbc.writeMem(0x3ba3, { 0xce, 0x27 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x2532, gbc.sp());
        EXPECT(0x3ba5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0380
        gbc.setState(0x4e2d, 0x524e, 0xa210, 0x9008, 0xec07, 0x4539, 0x1, 0x1);
        gbc.writeMem(0x4e2d, { 0xce, 0xc2 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x524e, gbc.sp());
        EXPECT(0x4e2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0381
        gbc.setState(0x79ce, 0x4622, 0x3ce0, 0x85fa, 0x3088, 0x2d29, 0x1, 0x1);
        gbc.writeMem(0x79ce, { 0xce, 0x14 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x4622, gbc.sp());
        EXPECT(0x79d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0382
        gbc.setState(0x5914, 0xb8f2, 0x69c0, 0x5112, 0xf84b, 0xe93b, 0x0, 0x0);
        gbc.writeMem(0x5914, { 0xce, 0x4d });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xb8f2, gbc.sp());
        EXPECT(0x5916, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0383
        gbc.setState(0x5b21, 0xc690, 0xcfc0, 0x7b52, 0x122d, 0x8212, 0x0, 0x0);
        gbc.writeMem(0x5b21, { 0xce, 0xbb });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc690, gbc.sp());
        EXPECT(0x5b23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0384
        gbc.setState(0x4922, 0xe682, 0x1a0, 0x35ae, 0xced6, 0x2f91, 0x1, 0x0);
        gbc.writeMem(0x4922, { 0xce, 0xc8 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xe682, gbc.sp());
        EXPECT(0x4924, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0385
        gbc.setState(0x9748, 0x5249, 0xfd20, 0xeda7, 0x2ffa, 0xcef9, 0x1, 0x0);
        gbc.writeMem(0x9748, { 0xce, 0x99 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x5249, gbc.sp());
        EXPECT(0x974a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9748));
        EXPECT(0x99, gbc.readMem(0x9749));
        // CE 0386
        gbc.setState(0x823a, 0xe1fd, 0xf0d0, 0x3683, 0x3920, 0x4818, 0x0, 0x1);
        gbc.writeMem(0x823a, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe1fd, gbc.sp());
        EXPECT(0x823c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x823a));
        EXPECT(0xd9, gbc.readMem(0x823b));
        // CE 0387
        gbc.setState(0xc939, 0xbf05, 0x8150, 0xcbc9, 0x25cd, 0x4379, 0x0, 0x0);
        gbc.writeMem(0xc939, { 0xce, 0xf5 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xbf05, gbc.sp());
        EXPECT(0xc93b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc939));
        EXPECT(0xf5, gbc.readMem(0xc93a));
        // CE 0388
        gbc.setState(0xa2d7, 0xb673, 0xdba0, 0x74e1, 0xc315, 0x7e58, 0x0, 0x0);
        gbc.writeMem(0xa2d7, { 0xce, 0x27 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xb673, gbc.sp());
        EXPECT(0xa2d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa2d7));
        EXPECT(0x27, gbc.readMem(0xa2d8));
        // CE 0389
        gbc.setState(0xda85, 0x7738, 0xcf70, 0x5a90, 0x5606, 0xe328, 0x0, 0x0);
        gbc.writeMem(0xda85, { 0xce, 0x77 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x7738, gbc.sp());
        EXPECT(0xda87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xda85));
        EXPECT(0x77, gbc.readMem(0xda86));
        // CE 038A
        gbc.setState(0xd608, 0xa04a, 0x82b0, 0xaddf, 0xbd89, 0x7fd5, 0x1, 0x0);
        gbc.writeMem(0xd608, { 0xce, 0x1d });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xa04a, gbc.sp());
        EXPECT(0xd60a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd608));
        EXPECT(0x1d, gbc.readMem(0xd609));
        // CE 038B
        gbc.setState(0xc703, 0xf588, 0x3040, 0x8280, 0x178b, 0x25c5, 0x0, 0x0);
        gbc.writeMem(0xc703, { 0xce, 0x1b });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xf588, gbc.sp());
        EXPECT(0xc705, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc703));
        EXPECT(0x1b, gbc.readMem(0xc704));
        // CE 038C
        gbc.setState(0x4e5e, 0x1756, 0xee0, 0x777a, 0xd23c, 0xa96b, 0x1, 0x0);
        gbc.writeMem(0x4e5e, { 0xce, 0xed });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x1756, gbc.sp());
        EXPECT(0x4e60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 038D
        gbc.setState(0xef2d, 0xf25e, 0x48d0, 0xbfc, 0x297d, 0xa2c2, 0x0, 0x1);
        gbc.writeMem(0xef2d, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xf25e, gbc.sp());
        EXPECT(0xef2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xef2d));
        EXPECT(0xb2, gbc.readMem(0xef2e));
        // CE 038E
        gbc.setState(0x730a, 0xabe7, 0xbc80, 0x3552, 0x287b, 0xc851, 0x0, 0x1);
        gbc.writeMem(0x730a, { 0xce, 0xf1 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xabe7, gbc.sp());
        EXPECT(0x730c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 038F
        gbc.setState(0x2bc2, 0x69d1, 0xa340, 0xecc5, 0xc5ba, 0xdb1d, 0x0, 0x0);
        gbc.writeMem(0x2bc2, { 0xce, 0x21 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x69d1, gbc.sp());
        EXPECT(0x2bc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0390
        gbc.setState(0xcb56, 0xc957, 0x45a0, 0x8387, 0x64f5, 0x98d6, 0x1, 0x1);
        gbc.writeMem(0xcb56, { 0xce, 0x36 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xc957, gbc.sp());
        EXPECT(0xcb58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcb56));
        EXPECT(0x36, gbc.readMem(0xcb57));
        // CE 0391
        gbc.setState(0xac1, 0xc9b4, 0xd970, 0x7eca, 0xb6bf, 0x2fcd, 0x1, 0x1);
        gbc.writeMem(0xac1, { 0xce, 0xf1 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xc9b4, gbc.sp());
        EXPECT(0xac3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0393
        gbc.setState(0xab57, 0xf03e, 0x5540, 0xf7e5, 0xd4ec, 0x8190, 0x0, 0x1);
        gbc.writeMem(0xab57, { 0xce, 0x5c });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xf03e, gbc.sp());
        EXPECT(0xab59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xab57));
        EXPECT(0x5c, gbc.readMem(0xab58));
        // CE 0394
        gbc.setState(0x6fa9, 0xb1ba, 0x4480, 0x939, 0x620, 0xc417, 0x0, 0x0);
        gbc.writeMem(0x6fa9, { 0xce, 0xd2 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xb1ba, gbc.sp());
        EXPECT(0x6fab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0395
        gbc.setState(0x82eb, 0xdaca, 0xedd0, 0xb947, 0x76f9, 0x5d83, 0x0, 0x1);
        gbc.writeMem(0x82eb, { 0xce, 0x69 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xdaca, gbc.sp());
        EXPECT(0x82ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x82eb));
        EXPECT(0x69, gbc.readMem(0x82ec));
        // CE 0396
        gbc.setState(0x64a4, 0xcdde, 0x17d0, 0x8936, 0xbbfc, 0x274c, 0x1, 0x1);
        gbc.writeMem(0x64a4, { 0xce, 0xd4 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xcdde, gbc.sp());
        EXPECT(0x64a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 0397
        gbc.setState(0xdccf, 0x2fcc, 0x3870, 0x1a40, 0xf28a, 0xed19, 0x0, 0x0);
        gbc.writeMem(0xdccf, { 0xce, 0xe });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x2fcc, gbc.sp());
        EXPECT(0xdcd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdccf));
        EXPECT(0xe, gbc.readMem(0xdcd0));
        // CE 0398
        gbc.setState(0x58d, 0xf912, 0x9e40, 0xe946, 0x677e, 0xbb9b, 0x1, 0x1);
        gbc.writeMem(0x58d, { 0xce, 0xa2 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xf912, gbc.sp());
        EXPECT(0x58f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 0399
        gbc.setState(0x4c1e, 0x64f8, 0x85d0, 0x2644, 0x1bc9, 0x312, 0x0, 0x1);
        gbc.writeMem(0x4c1e, { 0xce, 0x75 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x64f8, gbc.sp());
        EXPECT(0x4c20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 039A
        gbc.setState(0x6f4e, 0x625d, 0x1930, 0xc8c, 0xd1dc, 0xb3c0, 0x0, 0x1);
        gbc.writeMem(0x6f4e, { 0xce, 0x52 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x625d, gbc.sp());
        EXPECT(0x6f50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 039C
        gbc.setState(0x7e95, 0x30, 0x88d0, 0xb37, 0xd20a, 0xf3c0, 0x1, 0x0);
        gbc.writeMem(0x7e95, { 0xce, 0x73 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x30, gbc.sp());
        EXPECT(0x7e97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 039D
        gbc.setState(0x86db, 0x734, 0x1dd0, 0xb400, 0x10c5, 0x5f6f, 0x0, 0x0);
        gbc.writeMem(0x86db, { 0xce, 0x1c });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x734, gbc.sp());
        EXPECT(0x86dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x86db));
        EXPECT(0x1c, gbc.readMem(0x86dc));
        // CE 039E
        gbc.setState(0xa776, 0xbfb9, 0x4c30, 0x7e1e, 0x2f1f, 0x4466, 0x1, 0x1);
        gbc.writeMem(0xa776, { 0xce, 0xb9 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xbfb9, gbc.sp());
        EXPECT(0xa778, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa776));
        EXPECT(0xb9, gbc.readMem(0xa777));
        // CE 039F
        gbc.setState(0xbc31, 0x306e, 0x7c90, 0x7b01, 0x587e, 0xe73, 0x0, 0x0);
        gbc.writeMem(0xbc31, { 0xce, 0xec });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x306e, gbc.sp());
        EXPECT(0xbc33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbc31));
        EXPECT(0xec, gbc.readMem(0xbc32));
        // CE 03A1
        gbc.setState(0x2dca, 0xca2b, 0xf0a0, 0x53e6, 0x5f7b, 0xf05a, 0x1, 0x0);
        gbc.writeMem(0x2dca, { 0xce, 0xfc });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xca2b, gbc.sp());
        EXPECT(0x2dcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03A2
        gbc.setState(0x8569, 0x57a6, 0xeac0, 0xaa84, 0x1db9, 0x4186, 0x1, 0x0);
        gbc.writeMem(0x8569, { 0xce, 0xe3 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x57a6, gbc.sp());
        EXPECT(0x856b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8569));
        EXPECT(0xe3, gbc.readMem(0x856a));
        // CE 03A3
        gbc.setState(0x11e1, 0xa630, 0x2680, 0x775, 0x8161, 0xbc5a, 0x1, 0x0);
        gbc.writeMem(0x11e1, { 0xce, 0xe8 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa630, gbc.sp());
        EXPECT(0x11e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03A4
        gbc.setState(0xc12a, 0xffa, 0x8e70, 0xa774, 0x4e5d, 0xabc5, 0x1, 0x1);
        gbc.writeMem(0xc12a, { 0xce, 0x91 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xffa, gbc.sp());
        EXPECT(0xc12c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xc12a));
        EXPECT(0x91, gbc.readMem(0xc12b));
        // CE 03A5
        gbc.setState(0x7e64, 0xec20, 0x1c30, 0x8c7e, 0x870b, 0xfa62, 0x1, 0x1);
        gbc.writeMem(0x7e64, { 0xce, 0x6e });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xec20, gbc.sp());
        EXPECT(0x7e66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03A6
        gbc.setState(0x2c58, 0x8c5e, 0x9be0, 0x689e, 0x7969, 0x991f, 0x1, 0x1);
        gbc.writeMem(0x2c58, { 0xce, 0xfa });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x8c5e, gbc.sp());
        EXPECT(0x2c5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03A7
        gbc.setState(0x3919, 0x1f48, 0x34a0, 0xeda3, 0x6262, 0x544a, 0x0, 0x1);
        gbc.writeMem(0x3919, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x1f48, gbc.sp());
        EXPECT(0x391b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03A8
        gbc.setState(0xebb0, 0x15c6, 0x3660, 0xb263, 0xd8c1, 0xd52a, 0x0, 0x1);
        gbc.writeMem(0xebb0, { 0xce, 0xbc });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x15c6, gbc.sp());
        EXPECT(0xebb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xebb0));
        EXPECT(0xbc, gbc.readMem(0xebb1));
        // CE 03A9
        gbc.setState(0x4aa1, 0xb1b3, 0xe3d0, 0x2283, 0x2612, 0xe074, 0x0, 0x0);
        gbc.writeMem(0x4aa1, { 0xce, 0x72 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xb1b3, gbc.sp());
        EXPECT(0x4aa3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03AB
        gbc.setState(0x48b3, 0x182c, 0xb840, 0x16c8, 0x713a, 0xa60b, 0x0, 0x0);
        gbc.writeMem(0x48b3, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x182c, gbc.sp());
        EXPECT(0x48b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03AC
        gbc.setState(0xad9, 0xffb1, 0x1710, 0x296f, 0xc646, 0xb787, 0x1, 0x0);
        gbc.writeMem(0xad9, { 0xce, 0x22 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xffb1, gbc.sp());
        EXPECT(0xadb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03AD
        gbc.setState(0x25de, 0x586a, 0xa3f0, 0x932c, 0x2dc4, 0x4561, 0x0, 0x0);
        gbc.writeMem(0x25de, { 0xce, 0x20 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x586a, gbc.sp());
        EXPECT(0x25e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03AE
        gbc.setState(0xa177, 0xfe00, 0x1ba0, 0x9a34, 0x3957, 0xb757, 0x1, 0x1);
        gbc.writeMem(0xa177, { 0xce, 0x36 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xfe00, gbc.sp());
        EXPECT(0xa179, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa177));
        EXPECT(0x36, gbc.readMem(0xa178));
        // CE 03AF
        gbc.setState(0xcc25, 0xc572, 0xcc60, 0x47d1, 0x5d43, 0x48ad, 0x0, 0x1);
        gbc.writeMem(0xcc25, { 0xce, 0x4c });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xc572, gbc.sp());
        EXPECT(0xcc27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xcc25));
        EXPECT(0x4c, gbc.readMem(0xcc26));
        // CE 03B0
        gbc.setState(0xad7f, 0xc309, 0xbc0, 0xe916, 0x276b, 0x9c02, 0x0, 0x1);
        gbc.writeMem(0xad7f, { 0xce, 0x1a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xc309, gbc.sp());
        EXPECT(0xad81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xad7f));
        EXPECT(0x1a, gbc.readMem(0xad80));
        // CE 03B1
        gbc.setState(0x9cef, 0x6e0c, 0x1b00, 0xcc14, 0x798b, 0x56ec, 0x0, 0x0);
        gbc.writeMem(0x9cef, { 0xce, 0x94 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x6e0c, gbc.sp());
        EXPECT(0x9cf1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9cef));
        EXPECT(0x94, gbc.readMem(0x9cf0));
        // CE 03B3
        gbc.setState(0xd883, 0x6dbf, 0x3350, 0xb63e, 0xeec, 0xad05, 0x1, 0x1);
        gbc.writeMem(0xd883, { 0xce, 0xb4 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x6dbf, gbc.sp());
        EXPECT(0xd885, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd883));
        EXPECT(0xb4, gbc.readMem(0xd884));
        // CE 03B5
        gbc.setState(0xb8b5, 0x58bc, 0x7a80, 0x5ea1, 0xf64d, 0x3f11, 0x0, 0x0);
        gbc.writeMem(0xb8b5, { 0xce, 0x12 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x58bc, gbc.sp());
        EXPECT(0xb8b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb8b5));
        EXPECT(0x12, gbc.readMem(0xb8b6));
        // CE 03B6
        gbc.setState(0xe157, 0x2fc8, 0x3b0, 0x3a23, 0xcd79, 0x6d22, 0x1, 0x1);
        gbc.writeMem(0xe157, { 0xce, 0x4c });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x2fc8, gbc.sp());
        EXPECT(0xe159, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xe157));
        EXPECT(0x4c, gbc.readMem(0xe158));
        // CE 03B7
        gbc.setState(0x10d8, 0xfead, 0xe340, 0xb5e5, 0x814f, 0x9dcd, 0x0, 0x0);
        gbc.writeMem(0x10d8, { 0xce, 0xcc });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xfead, gbc.sp());
        EXPECT(0x10da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03B8
        gbc.setState(0x8293, 0xe836, 0x8050, 0x3709, 0x55f, 0x675c, 0x1, 0x1);
        gbc.writeMem(0x8293, { 0xce, 0x2a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe836, gbc.sp());
        EXPECT(0x8295, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8293));
        EXPECT(0x2a, gbc.readMem(0x8294));
        // CE 03B9
        gbc.setState(0x887f, 0x698a, 0xe680, 0x777e, 0x9b04, 0x67ef, 0x1, 0x0);
        gbc.writeMem(0x887f, { 0xce, 0xd6 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x698a, gbc.sp());
        EXPECT(0x8881, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x887f));
        EXPECT(0xd6, gbc.readMem(0x8880));
        // CE 03BA
        gbc.setState(0xae04, 0x7ece, 0x4580, 0xb9eb, 0x325c, 0x28ee, 0x1, 0x1);
        gbc.writeMem(0xae04, { 0xce, 0xfe });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x7ece, gbc.sp());
        EXPECT(0xae06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xae04));
        EXPECT(0xfe, gbc.readMem(0xae05));
        // CE 03BB
        gbc.setState(0x64c5, 0xfa38, 0x5360, 0xe3bc, 0xc539, 0x2236, 0x0, 0x0);
        gbc.writeMem(0x64c5, { 0xce, 0xc2 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xfa38, gbc.sp());
        EXPECT(0x64c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03BC
        gbc.setState(0x1f66, 0x7fe0, 0x93e0, 0xcebe, 0x6e1d, 0x357c, 0x0, 0x0);
        gbc.writeMem(0x1f66, { 0xce, 0x22 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x7fe0, gbc.sp());
        EXPECT(0x1f68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03BD
        gbc.setState(0xcea, 0xc296, 0x5fb0, 0x2712, 0x21e1, 0xa991, 0x0, 0x1);
        gbc.writeMem(0xcea, { 0xce, 0xb8 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xc296, gbc.sp());
        EXPECT(0xcec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03BE
        gbc.setState(0x7add, 0x17b, 0x6ba0, 0xac55, 0xe41, 0x551b, 0x1, 0x0);
        gbc.writeMem(0x7add, { 0xce, 0xd9 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x17b, gbc.sp());
        EXPECT(0x7adf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03BF
        gbc.setState(0x1961, 0xa29c, 0x4b10, 0xb2e7, 0xfef6, 0x7ae4, 0x0, 0x1);
        gbc.writeMem(0x1961, { 0xce, 0x19 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xa29c, gbc.sp());
        EXPECT(0x1963, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03C0
        gbc.setState(0x6702, 0x928b, 0x7250, 0xd7ae, 0x353d, 0xdc37, 0x1, 0x0);
        gbc.writeMem(0x6702, { 0xce, 0x9e });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x928b, gbc.sp());
        EXPECT(0x6704, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03C1
        gbc.setState(0x25a5, 0xa78e, 0xed80, 0xf419, 0xa7e4, 0xf77, 0x1, 0x0);
        gbc.writeMem(0x25a5, { 0xce, 0x37 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xa78e, gbc.sp());
        EXPECT(0x25a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03C2
        gbc.setState(0x87c, 0x53c1, 0x1540, 0x14a8, 0xadbd, 0x44fe, 0x0, 0x1);
        gbc.writeMem(0x87c, { 0xce, 0x8 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x53c1, gbc.sp());
        EXPECT(0x87e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03C3
        gbc.setState(0xd1e, 0x53ac, 0xda00, 0x6283, 0x1f93, 0xde82, 0x1, 0x0);
        gbc.writeMem(0xd1e, { 0xce, 0x99 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x53ac, gbc.sp());
        EXPECT(0xd20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03C4
        gbc.setState(0xa2ec, 0x4d8d, 0xbd50, 0x8b5, 0x34c2, 0x29a6, 0x0, 0x1);
        gbc.writeMem(0xa2ec, { 0xce, 0x5a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x4d8d, gbc.sp());
        EXPECT(0xa2ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa2ec));
        EXPECT(0x5a, gbc.readMem(0xa2ed));
        // CE 03C5
        gbc.setState(0x73c8, 0xa775, 0x7240, 0x1766, 0xf890, 0x6b35, 0x0, 0x0);
        gbc.writeMem(0x73c8, { 0xce, 0xa6 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xa775, gbc.sp());
        EXPECT(0x73ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03C6
        gbc.setState(0xb757, 0x1da4, 0xeec0, 0xbfed, 0x2d2, 0xdf54, 0x0, 0x0);
        gbc.writeMem(0xb757, { 0xce, 0x87 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x1da4, gbc.sp());
        EXPECT(0xb759, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb757));
        EXPECT(0x87, gbc.readMem(0xb758));
        // CE 03C7
        gbc.setState(0xd805, 0xa755, 0x2190, 0x7f90, 0x1521, 0xc311, 0x1, 0x1);
        gbc.writeMem(0xd805, { 0xce, 0x78 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa755, gbc.sp());
        EXPECT(0xd807, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd805));
        EXPECT(0x78, gbc.readMem(0xd806));
        // CE 03C8
        gbc.setState(0x8958, 0x798, 0x63f0, 0xcb42, 0xdea, 0xac1a, 0x1, 0x0);
        gbc.writeMem(0x8958, { 0xce, 0x13 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x798, gbc.sp());
        EXPECT(0x895a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x8958));
        EXPECT(0x13, gbc.readMem(0x8959));
        // CE 03CA
        gbc.setState(0x1fde, 0xbc0b, 0xa780, 0xa24a, 0x72c7, 0xf6bf, 0x1, 0x0);
        gbc.writeMem(0x1fde, { 0xce, 0xe });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xbc0b, gbc.sp());
        EXPECT(0x1fe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03CB
        gbc.setState(0x94b3, 0x5436, 0x6040, 0xfb91, 0x5c05, 0x50ab, 0x0, 0x0);
        gbc.writeMem(0x94b3, { 0xce, 0x6d });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x5436, gbc.sp());
        EXPECT(0x94b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x94b3));
        EXPECT(0x6d, gbc.readMem(0x94b4));
        // CE 03CD
        gbc.setState(0x96a7, 0x3edc, 0x9e20, 0x2008, 0x6d9e, 0x441e, 0x0, 0x1);
        gbc.writeMem(0x96a7, { 0xce, 0x91 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x3edc, gbc.sp());
        EXPECT(0x96a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x96a7));
        EXPECT(0x91, gbc.readMem(0x96a8));
        // CE 03CE
        gbc.setState(0xb5be, 0x7194, 0x95c0, 0x218e, 0x83c4, 0xcd42, 0x0, 0x0);
        gbc.writeMem(0xb5be, { 0xce, 0x7c });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x7194, gbc.sp());
        EXPECT(0xb5c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb5be));
        EXPECT(0x7c, gbc.readMem(0xb5bf));
        // CE 03CF
        gbc.setState(0xa588, 0xef03, 0xe090, 0x4fae, 0x8047, 0x27e6, 0x0, 0x1);
        gbc.writeMem(0xa588, { 0xce, 0x41 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xef03, gbc.sp());
        EXPECT(0xa58a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa588));
        EXPECT(0x41, gbc.readMem(0xa589));
        // CE 03D0
        gbc.setState(0x9744, 0xc5b1, 0x1750, 0x9847, 0xa1b8, 0x2685, 0x1, 0x1);
        gbc.writeMem(0x9744, { 0xce, 0x9a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xc5b1, gbc.sp());
        EXPECT(0x9746, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0x9744));
        EXPECT(0x9a, gbc.readMem(0x9745));
        // CE 03D1
        gbc.setState(0x3dbc, 0x631c, 0x6d50, 0x604a, 0xe21, 0xeea8, 0x0, 0x1);
        gbc.writeMem(0x3dbc, { 0xce, 0x6 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x631c, gbc.sp());
        EXPECT(0x3dbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03D2
        gbc.setState(0xa0b2, 0x36ae, 0x7fd0, 0xca21, 0xe0bb, 0x5275, 0x0, 0x1);
        gbc.writeMem(0xa0b2, { 0xce, 0x56 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x36ae, gbc.sp());
        EXPECT(0xa0b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa0b2));
        EXPECT(0x56, gbc.readMem(0xa0b3));
        // CE 03D3
        gbc.setState(0xdf16, 0x9869, 0xd3d0, 0xfe1b, 0x2bea, 0x865, 0x1, 0x1);
        gbc.writeMem(0xdf16, { 0xce, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x9869, gbc.sp());
        EXPECT(0xdf18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdf16));
        EXPECT(0x60, gbc.readMem(0xdf17));
        // CE 03D4
        gbc.setState(0x3afc, 0x699b, 0x9720, 0x51a2, 0xea14, 0xe156, 0x0, 0x1);
        gbc.writeMem(0x3afc, { 0xce, 0xb2 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x699b, gbc.sp());
        EXPECT(0x3afe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03D5
        gbc.setState(0x6b12, 0x7d2c, 0x3730, 0x49f8, 0xe47, 0xc35d, 0x0, 0x0);
        gbc.writeMem(0x6b12, { 0xce, 0x2a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x7d2c, gbc.sp());
        EXPECT(0x6b14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03D6
        gbc.setState(0x537d, 0xf628, 0x1b40, 0xb5d8, 0x6bc6, 0x110c, 0x1, 0x0);
        gbc.writeMem(0x537d, { 0xce, 0xb0 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xf628, gbc.sp());
        EXPECT(0x537f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03D7
        gbc.setState(0x3ddd, 0xc7aa, 0x3140, 0x1c4f, 0x2665, 0xf10e, 0x0, 0x1);
        gbc.writeMem(0x3ddd, { 0xce, 0x30 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xc7aa, gbc.sp());
        EXPECT(0x3ddf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03D8
        gbc.setState(0xdf19, 0x8c53, 0x7a70, 0x2aed, 0x31bf, 0xaaae, 0x1, 0x1);
        gbc.writeMem(0xdf19, { 0xce, 0xf5 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x8c53, gbc.sp());
        EXPECT(0xdf1b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xdf19));
        EXPECT(0xf5, gbc.readMem(0xdf1a));
        // CE 03D9
        gbc.setState(0x2fc, 0xe381, 0x6950, 0x1633, 0x5870, 0x77e6, 0x1, 0x1);
        gbc.writeMem(0x2fc, { 0xce, 0xf8 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xe381, gbc.sp());
        EXPECT(0x2fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03DA
        gbc.setState(0x1ada, 0xc641, 0x5610, 0xf49b, 0xfa86, 0x4046, 0x1, 0x1);
        gbc.writeMem(0x1ada, { 0xce, 0x47 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc641, gbc.sp());
        EXPECT(0x1adc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03DB
        gbc.setState(0xa991, 0xfca2, 0xc7f0, 0x8186, 0x78f4, 0x93ad, 0x1, 0x0);
        gbc.writeMem(0xa991, { 0xce, 0xeb });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xfca2, gbc.sp());
        EXPECT(0xa993, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xa991));
        EXPECT(0xeb, gbc.readMem(0xa992));
        // CE 03DC
        gbc.setState(0x2f5e, 0x3234, 0x87f0, 0xdca9, 0x81e, 0x4e7d, 0x0, 0x1);
        gbc.writeMem(0x2f5e, { 0xce, 0x5 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x3234, gbc.sp());
        EXPECT(0x2f60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03DE
        gbc.setState(0xb233, 0x1b1f, 0xa530, 0xbec3, 0xfcad, 0x1a0e, 0x0, 0x1);
        gbc.writeMem(0xb233, { 0xce, 0xe2 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x1b1f, gbc.sp());
        EXPECT(0xb235, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb233));
        EXPECT(0xe2, gbc.readMem(0xb234));
        // CE 03DF
        gbc.setState(0xd98e, 0xfa2b, 0x15b0, 0xc5a4, 0x90f6, 0xa415, 0x1, 0x0);
        gbc.writeMem(0xd98e, { 0xce, 0xbb });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xfa2b, gbc.sp());
        EXPECT(0xd990, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd98e));
        EXPECT(0xbb, gbc.readMem(0xd98f));
        // CE 03E1
        gbc.setState(0x5496, 0x5611, 0x3fb0, 0x8ea8, 0xde72, 0x9b07, 0x0, 0x1);
        gbc.writeMem(0x5496, { 0xce, 0xc0 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x5611, gbc.sp());
        EXPECT(0x5498, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03E2
        gbc.setState(0xab76, 0x44fb, 0xc990, 0xb7b8, 0xc371, 0xbb0f, 0x0, 0x0);
        gbc.writeMem(0xab76, { 0xce, 0xbd });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x44fb, gbc.sp());
        EXPECT(0xab78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xab76));
        EXPECT(0xbd, gbc.readMem(0xab77));
        // CE 03E3
        gbc.setState(0xb111, 0x61c, 0x2e70, 0x4ead, 0xdcbc, 0x6833, 0x0, 0x0);
        gbc.writeMem(0xb111, { 0xce, 0xad });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x61c, gbc.sp());
        EXPECT(0xb113, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xb111));
        EXPECT(0xad, gbc.readMem(0xb112));
        // CE 03E4
        gbc.setState(0x4697, 0x4803, 0x6510, 0x9c25, 0xb66d, 0x8838, 0x0, 0x0);
        gbc.writeMem(0x4697, { 0xce, 0x96 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x4803, gbc.sp());
        EXPECT(0x4699, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CE 03E5
        gbc.setState(0xea23, 0xbfdb, 0x8e20, 0x4bd5, 0x2f95, 0xc5af, 0x0, 0x0);
        gbc.writeMem(0xea23, { 0xce, 0xec });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xbfdb, gbc.sp());
        EXPECT(0xea25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xea23));
        EXPECT(0xec, gbc.readMem(0xea24));
        // CE 03E6
        gbc.setState(0x1d4a, 0x6749, 0xf7f0, 0x60f9, 0xbd9f, 0x5c4, 0x1, 0x0);
        gbc.writeMem(0x1d4a, { 0xce, 0xc3 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x6749, gbc.sp());
        EXPECT(0x1d4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CE 03E7
        gbc.setState(0x93f, 0x9d51, 0xd590, 0xd6cf, 0xb948, 0xb6b5, 0x1, 0x1);
        gbc.writeMem(0x93f, { 0xce, 0xa4 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x9d51, gbc.sp());
        EXPECT(0x941, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
    }
