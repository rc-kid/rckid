    TEST(gbcemu, opcode_2d) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 2D 0000
        gbc.setState(0x891d, 0xcddf, 0xadc0, 0x7010, 0xc2c8, 0xd713, 0x1, 0x0);
        gbc.writeMem(0x891d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcddf);
        EXPECT(gbc.pc(), 0x891e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x891d), 0x2d);
        // 2D 0001
        gbc.setState(0xa056, 0x337d, 0xcd20, 0xf714, 0xea8, 0x527f, 0x1, 0x1);
        gbc.writeMem(0xa056, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x337d);
        EXPECT(gbc.pc(), 0xa057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa056), 0x2d);
        // 2D 0002
        gbc.setState(0x94d7, 0xfdd8, 0x8de0, 0xf4dc, 0xf78, 0xe2fa, 0x1, 0x0);
        gbc.writeMem(0x94d7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xfdd8);
        EXPECT(gbc.pc(), 0x94d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d7), 0x2d);
        // 2D 0003
        gbc.setState(0x55ad, 0x6340, 0xc640, 0xb2a3, 0xb368, 0x13d7, 0x1, 0x1);
        gbc.writeMem(0x55ad, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x6340);
        EXPECT(gbc.pc(), 0x55ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0004
        gbc.setState(0x1ad3, 0xe2d8, 0x1c00, 0xcc94, 0xf24f, 0x9872, 0x1, 0x0);
        gbc.writeMem(0x1ad3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xe2d8);
        EXPECT(gbc.pc(), 0x1ad4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0005
        gbc.setState(0xd528, 0x779a, 0x6a40, 0xe47f, 0x18af, 0x2cea, 0x0, 0x0);
        gbc.writeMem(0xd528, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x779a);
        EXPECT(gbc.pc(), 0xd529);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd528), 0x2d);
        // 2D 0006
        gbc.setState(0x2c51, 0x4be6, 0x2f70, 0x6dc6, 0x9856, 0x8b18, 0x0, 0x0);
        gbc.writeMem(0x2c51, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4be6);
        EXPECT(gbc.pc(), 0x2c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0007
        gbc.setState(0x821e, 0x7dae, 0x4710, 0x1691, 0x611d, 0xb736, 0x1, 0x0);
        gbc.writeMem(0x821e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7dae);
        EXPECT(gbc.pc(), 0x821f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x821e), 0x2d);
        // 2D 0008
        gbc.setState(0xda9f, 0x28c5, 0x6430, 0x97a8, 0xe666, 0x8028, 0x0, 0x0);
        gbc.writeMem(0xda9f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x28c5);
        EXPECT(gbc.pc(), 0xdaa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda9f), 0x2d);
        // 2D 0009
        gbc.setState(0x2b7f, 0x4f11, 0x810, 0x132c, 0x6c29, 0x325a, 0x1, 0x1);
        gbc.writeMem(0x2b7f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4f11);
        EXPECT(gbc.pc(), 0x2b80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 000A
        gbc.setState(0x9283, 0x520d, 0xc6e0, 0x47bc, 0x9552, 0x868c, 0x0, 0x0);
        gbc.writeMem(0x9283, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x520d);
        EXPECT(gbc.pc(), 0x9284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9283), 0x2d);
        // 2D 000B
        gbc.setState(0xc025, 0x3d9c, 0xdf80, 0x73fa, 0xc148, 0x99de, 0x1, 0x0);
        gbc.writeMem(0xc025, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3d9c);
        EXPECT(gbc.pc(), 0xc026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc025), 0x2d);
        // 2D 000D
        gbc.setState(0x46a2, 0xfb9c, 0xda60, 0x81f5, 0x3f8e, 0x3da1, 0x1, 0x0);
        gbc.writeMem(0x46a2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xfb9c);
        EXPECT(gbc.pc(), 0x46a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 000E
        gbc.setState(0x680b, 0x84c, 0x93c0, 0x3bd2, 0x1175, 0x181c, 0x0, 0x1);
        gbc.writeMem(0x680b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x84c);
        EXPECT(gbc.pc(), 0x680c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 000F
        gbc.setState(0xafb0, 0x906a, 0x36f0, 0xa7c1, 0x8963, 0xb564, 0x0, 0x1);
        gbc.writeMem(0xafb0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x906a);
        EXPECT(gbc.pc(), 0xafb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb0), 0x2d);
        // 2D 0010
        gbc.setState(0x324a, 0xe312, 0xe0, 0x5097, 0xe511, 0x9397, 0x0, 0x0);
        gbc.writeMem(0x324a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe312);
        EXPECT(gbc.pc(), 0x324b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0011
        gbc.setState(0x5f04, 0x8966, 0x8060, 0xab1a, 0x36e, 0x9a7, 0x1, 0x0);
        gbc.writeMem(0x5f04, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8966);
        EXPECT(gbc.pc(), 0x5f05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0012
        gbc.setState(0x8f9e, 0xb859, 0x5430, 0x126f, 0xa324, 0xf7e9, 0x1, 0x0);
        gbc.writeMem(0x8f9e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb859);
        EXPECT(gbc.pc(), 0x8f9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f9e), 0x2d);
        // 2D 0013
        gbc.setState(0x824e, 0x2210, 0x44c0, 0xd80c, 0x42d, 0xbe96, 0x1, 0x1);
        gbc.writeMem(0x824e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2210);
        EXPECT(gbc.pc(), 0x824f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x824e), 0x2d);
        // 2D 0014
        gbc.setState(0xefbb, 0x3852, 0x29c0, 0xef50, 0xcc0c, 0x2634, 0x1, 0x1);
        gbc.writeMem(0xefbb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3852);
        EXPECT(gbc.pc(), 0xefbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefbb), 0x2d);
        // 2D 0015
        gbc.setState(0xea7e, 0xfe67, 0x19f0, 0xbfe2, 0x4f04, 0xe948, 0x1, 0x1);
        gbc.writeMem(0xea7e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xfe67);
        EXPECT(gbc.pc(), 0xea7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea7e), 0x2d);
        // 2D 0016
        gbc.setState(0x90e8, 0xbc6a, 0x4680, 0x9bcf, 0x5b6c, 0xd2e8, 0x1, 0x0);
        gbc.writeMem(0x90e8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xbc6a);
        EXPECT(gbc.pc(), 0x90e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e8), 0x2d);
        // 2D 0017
        gbc.setState(0xd84a, 0x5fc0, 0xe780, 0x8fb6, 0xc0f, 0x23cf, 0x1, 0x1);
        gbc.writeMem(0xd84a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5fc0);
        EXPECT(gbc.pc(), 0xd84b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd84a), 0x2d);
        // 2D 0018
        gbc.setState(0x2a61, 0x9163, 0x8ae0, 0xf71b, 0x8736, 0x5ff, 0x0, 0x1);
        gbc.writeMem(0x2a61, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9163);
        EXPECT(gbc.pc(), 0x2a62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0019
        gbc.setState(0xc04, 0xc6b2, 0x4150, 0xdd5f, 0x94f3, 0xc95b, 0x1, 0x1);
        gbc.writeMem(0xc04, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc6b2);
        EXPECT(gbc.pc(), 0xc05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 001A
        gbc.setState(0x5949, 0x35ce, 0x650, 0x3286, 0xd611, 0x24f2, 0x0, 0x0);
        gbc.writeMem(0x5949, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x35ce);
        EXPECT(gbc.pc(), 0x594a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 001B
        gbc.setState(0x2d88, 0xb67a, 0x34a0, 0x7200, 0x3da5, 0x3b44, 0x0, 0x1);
        gbc.writeMem(0x2d88, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb67a);
        EXPECT(gbc.pc(), 0x2d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 001D
        gbc.setState(0x5c96, 0x8f35, 0xf850, 0xfcdc, 0xdc1c, 0x44bc, 0x1, 0x0);
        gbc.writeMem(0x5c96, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8f35);
        EXPECT(gbc.pc(), 0x5c97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 001E
        gbc.setState(0x22f1, 0xd271, 0x59a0, 0x6094, 0x14ec, 0xc20a, 0x0, 0x1);
        gbc.writeMem(0x22f1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd271);
        EXPECT(gbc.pc(), 0x22f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 001F
        gbc.setState(0x62ac, 0x8b50, 0x9610, 0x19e9, 0x92d3, 0xd21f, 0x1, 0x0);
        gbc.writeMem(0x62ac, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8b50);
        EXPECT(gbc.pc(), 0x62ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0021
        gbc.setState(0x26bb, 0xddb, 0x3920, 0xf397, 0x40f0, 0xefd9, 0x1, 0x0);
        gbc.writeMem(0x26bb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xddb);
        EXPECT(gbc.pc(), 0x26bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0022
        gbc.setState(0x4769, 0x95ac, 0x44f0, 0x375b, 0xb9fd, 0x23, 0x1, 0x1);
        gbc.writeMem(0x4769, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x95ac);
        EXPECT(gbc.pc(), 0x476a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0024
        gbc.setState(0xe7c7, 0xd76, 0x2070, 0xc4db, 0xaf24, 0x789e, 0x0, 0x1);
        gbc.writeMem(0xe7c7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd76);
        EXPECT(gbc.pc(), 0xe7c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7c7), 0x2d);
        // 2D 0026
        gbc.setState(0x4122, 0xb9ae, 0xb830, 0xe00e, 0xefe5, 0xd7c7, 0x1, 0x1);
        gbc.writeMem(0x4122, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xb9ae);
        EXPECT(gbc.pc(), 0x4123);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0027
        gbc.setState(0xd195, 0xe3e3, 0x20e0, 0x8452, 0xd3b0, 0x4af8, 0x1, 0x0);
        gbc.writeMem(0xd195, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe3e3);
        EXPECT(gbc.pc(), 0xd196);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd195), 0x2d);
        // 2D 0028
        gbc.setState(0xafc1, 0x71a4, 0xdea0, 0x3173, 0x91a0, 0xfb0, 0x0, 0x0);
        gbc.writeMem(0xafc1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x71a4);
        EXPECT(gbc.pc(), 0xafc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafc1), 0x2d);
        // 2D 0029
        gbc.setState(0xa99b, 0x136e, 0x1fc0, 0x13b7, 0x103a, 0xa2c4, 0x0, 0x0);
        gbc.writeMem(0xa99b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x136e);
        EXPECT(gbc.pc(), 0xa99c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99b), 0x2d);
        // 2D 002A
        gbc.setState(0x1502, 0x51e0, 0x9b0, 0x8f3a, 0xbcc5, 0x3c76, 0x1, 0x0);
        gbc.writeMem(0x1502, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x51e0);
        EXPECT(gbc.pc(), 0x1503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 002B
        gbc.setState(0x2fd3, 0x9fc4, 0x1e40, 0xc40f, 0xa2c0, 0x2a33, 0x1, 0x1);
        gbc.writeMem(0x2fd3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x9fc4);
        EXPECT(gbc.pc(), 0x2fd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 002C
        gbc.setState(0xb18e, 0xf51b, 0xce20, 0x5710, 0xb5ef, 0xaeab, 0x0, 0x1);
        gbc.writeMem(0xb18e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf51b);
        EXPECT(gbc.pc(), 0xb18f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb18e), 0x2d);
        // 2D 002D
        gbc.setState(0x60db, 0xeae9, 0x29d0, 0x7d8, 0x5364, 0xbb1a, 0x0, 0x0);
        gbc.writeMem(0x60db, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xeae9);
        EXPECT(gbc.pc(), 0x60dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 002E
        gbc.setState(0x3db1, 0x46bc, 0xd210, 0x51b5, 0xa251, 0x1c9f, 0x0, 0x0);
        gbc.writeMem(0x3db1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x46bc);
        EXPECT(gbc.pc(), 0x3db2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 002F
        gbc.setState(0xa166, 0x5a62, 0xf770, 0xa9e0, 0x57, 0xd51c, 0x1, 0x1);
        gbc.writeMem(0xa166, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x5a62);
        EXPECT(gbc.pc(), 0xa167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa166), 0x2d);
        // 2D 0030
        gbc.setState(0x9e49, 0x7b75, 0xd880, 0x4d40, 0xc919, 0xd100, 0x1, 0x1);
        gbc.writeMem(0x9e49, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7b75);
        EXPECT(gbc.pc(), 0x9e4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e49), 0x2d);
        // 2D 0031
        gbc.setState(0x8d62, 0x6e0d, 0x9ac0, 0x8db8, 0x4836, 0xe789, 0x0, 0x0);
        gbc.writeMem(0x8d62, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x6e0d);
        EXPECT(gbc.pc(), 0x8d63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d62), 0x2d);
        // 2D 0032
        gbc.setState(0x1a23, 0x46d3, 0xc260, 0x4bd8, 0x8fc9, 0xa00, 0x0, 0x0);
        gbc.writeMem(0x1a23, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x46d3);
        EXPECT(gbc.pc(), 0x1a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0033
        gbc.setState(0x9bde, 0xc728, 0x4ac0, 0x1519, 0xf243, 0x8472, 0x1, 0x0);
        gbc.writeMem(0x9bde, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc728);
        EXPECT(gbc.pc(), 0x9bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bde), 0x2d);
        // 2D 0034
        gbc.setState(0x8625, 0xc9e7, 0x36b0, 0x55f4, 0xcdcf, 0x5f10, 0x1, 0x0);
        gbc.writeMem(0x8625, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc9e7);
        EXPECT(gbc.pc(), 0x8626);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8625), 0x2d);
        // 2D 0035
        gbc.setState(0xcddb, 0xb3d6, 0x9310, 0xf408, 0xd2a1, 0x101a, 0x1, 0x1);
        gbc.writeMem(0xcddb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xb3d6);
        EXPECT(gbc.pc(), 0xcddc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcddb), 0x2d);
        // 2D 0036
        gbc.setState(0x2c35, 0x23eb, 0xde60, 0x6977, 0x8aff, 0x4585, 0x0, 0x1);
        gbc.writeMem(0x2c35, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x23eb);
        EXPECT(gbc.pc(), 0x2c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0037
        gbc.setState(0x4bab, 0x617e, 0x60d0, 0x242f, 0x50fc, 0x4200, 0x0, 0x0);
        gbc.writeMem(0x4bab, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x617e);
        EXPECT(gbc.pc(), 0x4bac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 0038
        gbc.setState(0x80f9, 0x854, 0xd7c0, 0x381, 0xa422, 0xa23f, 0x1, 0x0);
        gbc.writeMem(0x80f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x854);
        EXPECT(gbc.pc(), 0x80fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80f9), 0x2d);
        // 2D 0039
        gbc.setState(0x2493, 0xa92b, 0x6cf0, 0x567e, 0x3ca0, 0x5d3e, 0x0, 0x1);
        gbc.writeMem(0x2493, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa92b);
        EXPECT(gbc.pc(), 0x2494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 003A
        gbc.setState(0xaac7, 0x8085, 0xc5c0, 0x4371, 0x60d5, 0xed44, 0x1, 0x0);
        gbc.writeMem(0xaac7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x8085);
        EXPECT(gbc.pc(), 0xaac8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaac7), 0x2d);
        // 2D 003B
        gbc.setState(0x45f9, 0x8105, 0x8870, 0xd2de, 0xe096, 0xbbf1, 0x1, 0x0);
        gbc.writeMem(0x45f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8105);
        EXPECT(gbc.pc(), 0x45fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 003C
        gbc.setState(0xc9ec, 0x82bf, 0xde10, 0xb03e, 0xba1b, 0x788f, 0x0, 0x1);
        gbc.writeMem(0xc9ec, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x82bf);
        EXPECT(gbc.pc(), 0xc9ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ec), 0x2d);
        // 2D 003D
        gbc.setState(0xb569, 0xe0cb, 0xd70, 0x1c84, 0x49dd, 0x97b2, 0x0, 0x0);
        gbc.writeMem(0xb569, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe0cb);
        EXPECT(gbc.pc(), 0xb56a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb569), 0x2d);
        // 2D 003E
        gbc.setState(0x1850, 0x377b, 0x3a90, 0xd4b3, 0xcc29, 0x3e82, 0x0, 0x0);
        gbc.writeMem(0x1850, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x377b);
        EXPECT(gbc.pc(), 0x1851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 003F
        gbc.setState(0x31f4, 0x65b6, 0xe0d0, 0xa11, 0xaf70, 0xc850, 0x0, 0x0);
        gbc.writeMem(0x31f4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x65b6);
        EXPECT(gbc.pc(), 0x31f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 0040
        gbc.setState(0xada7, 0xb28f, 0x6070, 0x892c, 0xd599, 0xe0a, 0x0, 0x0);
        gbc.writeMem(0xada7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb28f);
        EXPECT(gbc.pc(), 0xada8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada7), 0x2d);
        // 2D 0041
        gbc.setState(0x5f1e, 0xdb13, 0x7320, 0x8f20, 0x992a, 0x93e8, 0x0, 0x0);
        gbc.writeMem(0x5f1e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xdb13);
        EXPECT(gbc.pc(), 0x5f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0042
        gbc.setState(0xe29c, 0xa1a9, 0xaca0, 0xe48d, 0x4a39, 0x7472, 0x1, 0x0);
        gbc.writeMem(0xe29c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa1a9);
        EXPECT(gbc.pc(), 0xe29d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe29c), 0x2d);
        // 2D 0043
        gbc.setState(0xaa72, 0x71b6, 0xc270, 0x23b0, 0xe846, 0x8be0, 0x1, 0x1);
        gbc.writeMem(0xaa72, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x71b6);
        EXPECT(gbc.pc(), 0xaa73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa72), 0x2d);
        // 2D 0044
        gbc.setState(0xbeb7, 0x262c, 0x27f0, 0x2144, 0x3236, 0x19c2, 0x1, 0x0);
        gbc.writeMem(0xbeb7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x262c);
        EXPECT(gbc.pc(), 0xbeb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeb7), 0x2d);
        // 2D 0045
        gbc.setState(0xdfd5, 0x4576, 0x1840, 0x58ee, 0x583a, 0xc6f6, 0x1, 0x1);
        gbc.writeMem(0xdfd5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4576);
        EXPECT(gbc.pc(), 0xdfd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfd5), 0x2d);
        // 2D 0046
        gbc.setState(0xe366, 0xc2f5, 0xddf0, 0x1b45, 0x822e, 0x6780, 0x1, 0x1);
        gbc.writeMem(0xe366, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc2f5);
        EXPECT(gbc.pc(), 0xe367);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe366), 0x2d);
        // 2D 0047
        gbc.setState(0x609a, 0x2a7a, 0x87f0, 0x83a0, 0x30b9, 0x1c62, 0x1, 0x0);
        gbc.writeMem(0x609a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x2a7a);
        EXPECT(gbc.pc(), 0x609b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0048
        gbc.setState(0x120f, 0xa82, 0xa290, 0xe2c6, 0x4f52, 0x6ef5, 0x0, 0x0);
        gbc.writeMem(0x120f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa82);
        EXPECT(gbc.pc(), 0x1210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 004B
        gbc.setState(0xb97b, 0x728b, 0x12e0, 0xb7e0, 0x8223, 0xb4c9, 0x0, 0x1);
        gbc.writeMem(0xb97b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x728b);
        EXPECT(gbc.pc(), 0xb97c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb97b), 0x2d);
        // 2D 004C
        gbc.setState(0xe5c5, 0x4609, 0x6ab0, 0xa871, 0xe0c7, 0x36bd, 0x1, 0x0);
        gbc.writeMem(0xe5c5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4609);
        EXPECT(gbc.pc(), 0xe5c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5c5), 0x2d);
        // 2D 004D
        gbc.setState(0x561c, 0x732c, 0xe680, 0xafe3, 0xe1c5, 0x7df9, 0x0, 0x0);
        gbc.writeMem(0x561c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x732c);
        EXPECT(gbc.pc(), 0x561d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 004E
        gbc.setState(0xc71c, 0x492a, 0x4d90, 0xf062, 0x1b4e, 0x6ae1, 0x1, 0x0);
        gbc.writeMem(0xc71c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x492a);
        EXPECT(gbc.pc(), 0xc71d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc71c), 0x2d);
        // 2D 004F
        gbc.setState(0x194a, 0x634, 0xdfb0, 0x8da5, 0xdd23, 0xe668, 0x1, 0x0);
        gbc.writeMem(0x194a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x634);
        EXPECT(gbc.pc(), 0x194b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0050
        gbc.setState(0x9ddb, 0x342c, 0x99c0, 0x82e4, 0xcb58, 0x4c0c, 0x0, 0x0);
        gbc.writeMem(0x9ddb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x342c);
        EXPECT(gbc.pc(), 0x9ddc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ddb), 0x2d);
        // 2D 0051
        gbc.setState(0xcf6c, 0x5b33, 0xc8d0, 0x5ea6, 0xc360, 0xf2b4, 0x0, 0x0);
        gbc.writeMem(0xcf6c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5b33);
        EXPECT(gbc.pc(), 0xcf6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf6c), 0x2d);
        // 2D 0052
        gbc.setState(0x253c, 0xf5ea, 0x81a0, 0x9e20, 0xf3dd, 0x45ad, 0x1, 0x0);
        gbc.writeMem(0x253c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf5ea);
        EXPECT(gbc.pc(), 0x253d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0053
        gbc.setState(0x1ba6, 0x6a9c, 0x7470, 0x7645, 0xfee6, 0x2e33, 0x1, 0x0);
        gbc.writeMem(0x1ba6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6a9c);
        EXPECT(gbc.pc(), 0x1ba7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0054
        gbc.setState(0x1814, 0xf378, 0xe5b0, 0x1bdd, 0x2079, 0x74f7, 0x1, 0x0);
        gbc.writeMem(0x1814, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf378);
        EXPECT(gbc.pc(), 0x1815);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0055
        gbc.setState(0xb93f, 0x8b30, 0xe250, 0x1388, 0x3fbf, 0xcff9, 0x1, 0x0);
        gbc.writeMem(0xb93f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8b30);
        EXPECT(gbc.pc(), 0xb940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb93f), 0x2d);
        // 2D 0056
        gbc.setState(0x67d8, 0x65a6, 0x60, 0xd831, 0x3049, 0x9d5b, 0x0, 0x1);
        gbc.writeMem(0x67d8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x65a6);
        EXPECT(gbc.pc(), 0x67d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0057
        gbc.setState(0xba41, 0x9ec9, 0xf240, 0x99a5, 0x599d, 0xeb96, 0x0, 0x1);
        gbc.writeMem(0xba41, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x9ec9);
        EXPECT(gbc.pc(), 0xba42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba41), 0x2d);
        // 2D 0058
        gbc.setState(0x1aec, 0x4cfe, 0x3340, 0x1084, 0x46ef, 0xe5de, 0x0, 0x1);
        gbc.writeMem(0x1aec, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4cfe);
        EXPECT(gbc.pc(), 0x1aed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0059
        gbc.setState(0x5a42, 0xc3e9, 0x3360, 0xa21, 0x4779, 0xc25c, 0x0, 0x1);
        gbc.writeMem(0x5a42, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc3e9);
        EXPECT(gbc.pc(), 0x5a43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 005A
        gbc.setState(0x55b4, 0x97c5, 0x52e0, 0x41ba, 0xcb48, 0x385e, 0x1, 0x1);
        gbc.writeMem(0x55b4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x97c5);
        EXPECT(gbc.pc(), 0x55b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 005B
        gbc.setState(0xbc0e, 0x937f, 0x69a0, 0x3e92, 0xffea, 0xd1c, 0x0, 0x1);
        gbc.writeMem(0xbc0e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x937f);
        EXPECT(gbc.pc(), 0xbc0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc0e), 0x2d);
        // 2D 005C
        gbc.setState(0xee5c, 0x951b, 0xe620, 0x9c21, 0x956e, 0xf497, 0x0, 0x0);
        gbc.writeMem(0xee5c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x951b);
        EXPECT(gbc.pc(), 0xee5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee5c), 0x2d);
        // 2D 005D
        gbc.setState(0x4569, 0x4015, 0x8520, 0x23dc, 0x39ed, 0x777a, 0x0, 0x0);
        gbc.writeMem(0x4569, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4015);
        EXPECT(gbc.pc(), 0x456a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 005E
        gbc.setState(0x237a, 0xeb49, 0x4870, 0x389e, 0x26de, 0x3946, 0x1, 0x1);
        gbc.writeMem(0x237a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xeb49);
        EXPECT(gbc.pc(), 0x237b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 005F
        gbc.setState(0x53c4, 0x14d0, 0xd230, 0x2e4d, 0x73d4, 0x891a, 0x1, 0x0);
        gbc.writeMem(0x53c4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x14d0);
        EXPECT(gbc.pc(), 0x53c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0060
        gbc.setState(0xb5bd, 0xbc84, 0xa040, 0x5b97, 0xe0ff, 0x6ac0, 0x1, 0x1);
        gbc.writeMem(0xb5bd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xbc84);
        EXPECT(gbc.pc(), 0xb5be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5bd), 0x2d);
        // 2D 0061
        gbc.setState(0x333b, 0x22, 0x3e30, 0xed2c, 0xadc, 0x6f88, 0x0, 0x0);
        gbc.writeMem(0x333b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x22);
        EXPECT(gbc.pc(), 0x333c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0062
        gbc.setState(0x3607, 0x27da, 0xd750, 0x2024, 0xe99d, 0x9b92, 0x0, 0x0);
        gbc.writeMem(0x3607, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x27da);
        EXPECT(gbc.pc(), 0x3608);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0063
        gbc.setState(0x6325, 0x32be, 0x1da0, 0x3d45, 0x80f9, 0x3e32, 0x1, 0x0);
        gbc.writeMem(0x6325, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x32be);
        EXPECT(gbc.pc(), 0x6326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0064
        gbc.setState(0x16a, 0x401a, 0x47d0, 0x70c8, 0x64f3, 0x2859, 0x0, 0x1);
        gbc.writeMem(0x16a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x401a);
        EXPECT(gbc.pc(), 0x16b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0065
        gbc.setState(0xac1, 0xa56e, 0xd450, 0xd241, 0xbf82, 0x6db4, 0x0, 0x1);
        gbc.writeMem(0xac1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa56e);
        EXPECT(gbc.pc(), 0xac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0066
        gbc.setState(0xdbdc, 0x976e, 0x3b90, 0x7331, 0xd897, 0xddf8, 0x0, 0x0);
        gbc.writeMem(0xdbdc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x976e);
        EXPECT(gbc.pc(), 0xdbdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbdc), 0x2d);
        // 2D 0067
        gbc.setState(0x5c22, 0x6902, 0x1e40, 0x3018, 0x33a1, 0xc4f4, 0x0, 0x0);
        gbc.writeMem(0x5c22, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x6902);
        EXPECT(gbc.pc(), 0x5c23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0068
        gbc.setState(0x79a8, 0xc686, 0x9f50, 0xe6db, 0x1c4f, 0xf394, 0x0, 0x1);
        gbc.writeMem(0x79a8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc686);
        EXPECT(gbc.pc(), 0x79a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0069
        gbc.setState(0xc36c, 0x46ba, 0xe760, 0xa510, 0x7965, 0xd903, 0x1, 0x0);
        gbc.writeMem(0xc36c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x46ba);
        EXPECT(gbc.pc(), 0xc36d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc36c), 0x2d);
        // 2D 006A
        gbc.setState(0x2cf3, 0x17d4, 0x7670, 0x2d8, 0x5cdb, 0x6ec5, 0x1, 0x0);
        gbc.writeMem(0x2cf3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x17d4);
        EXPECT(gbc.pc(), 0x2cf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 006B
        gbc.setState(0x5b4e, 0x29cb, 0xfe90, 0x1eef, 0x5a26, 0x9ed4, 0x1, 0x1);
        gbc.writeMem(0x5b4e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x29cb);
        EXPECT(gbc.pc(), 0x5b4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 006C
        gbc.setState(0x40a7, 0xd532, 0x5b10, 0x68bf, 0x7d51, 0xe1b2, 0x1, 0x1);
        gbc.writeMem(0x40a7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd532);
        EXPECT(gbc.pc(), 0x40a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 006D
        gbc.setState(0xa0b3, 0xf99a, 0x4110, 0xa9a0, 0x35f4, 0x157, 0x1, 0x0);
        gbc.writeMem(0xa0b3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf99a);
        EXPECT(gbc.pc(), 0xa0b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0b3), 0x2d);
        // 2D 006E
        gbc.setState(0x4130, 0x412d, 0xd2a0, 0x450, 0xcf01, 0xaa0e, 0x1, 0x1);
        gbc.writeMem(0x4130, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x412d);
        EXPECT(gbc.pc(), 0x4131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 006F
        gbc.setState(0x48b6, 0x16c4, 0xe640, 0xd46a, 0x545, 0x1b7b, 0x1, 0x1);
        gbc.writeMem(0x48b6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x16c4);
        EXPECT(gbc.pc(), 0x48b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0071
        gbc.setState(0xc38a, 0x2646, 0x8670, 0xf877, 0x81b0, 0xc515, 0x1, 0x0);
        gbc.writeMem(0xc38a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2646);
        EXPECT(gbc.pc(), 0xc38b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc38a), 0x2d);
        // 2D 0072
        gbc.setState(0x3907, 0xf196, 0xef80, 0xb925, 0x2f55, 0xdd13, 0x1, 0x0);
        gbc.writeMem(0x3907, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xf196);
        EXPECT(gbc.pc(), 0x3908);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0073
        gbc.setState(0x81f9, 0xfde2, 0x5020, 0x8419, 0xa469, 0x2c98, 0x0, 0x0);
        gbc.writeMem(0x81f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xfde2);
        EXPECT(gbc.pc(), 0x81fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f9), 0x2d);
        // 2D 0074
        gbc.setState(0x6449, 0x88dd, 0x96f0, 0xbab9, 0x33ff, 0x9159, 0x0, 0x0);
        gbc.writeMem(0x6449, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x88dd);
        EXPECT(gbc.pc(), 0x644a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0075
        gbc.setState(0x3942, 0x8967, 0xb8b0, 0xb826, 0xa673, 0x6b05, 0x0, 0x1);
        gbc.writeMem(0x3942, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8967);
        EXPECT(gbc.pc(), 0x3943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0076
        gbc.setState(0x9add, 0x9913, 0x6b80, 0x1094, 0x786e, 0x8b3b, 0x1, 0x1);
        gbc.writeMem(0x9add, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9913);
        EXPECT(gbc.pc(), 0x9ade);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9add), 0x2d);
        // 2D 0077
        gbc.setState(0x2427, 0xeb83, 0x8030, 0x868e, 0x426d, 0x99a, 0x1, 0x1);
        gbc.writeMem(0x2427, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xeb83);
        EXPECT(gbc.pc(), 0x2428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0078
        gbc.setState(0x6bf5, 0x1c5f, 0x1730, 0x7ff4, 0xb55b, 0xcda3, 0x1, 0x1);
        gbc.writeMem(0x6bf5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1c5f);
        EXPECT(gbc.pc(), 0x6bf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0079
        gbc.setState(0x2ce1, 0x3fa7, 0xfbf0, 0x77f2, 0xde14, 0x2f3c, 0x0, 0x0);
        gbc.writeMem(0x2ce1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3fa7);
        EXPECT(gbc.pc(), 0x2ce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 007A
        gbc.setState(0x814, 0x7dfd, 0xed40, 0x552a, 0xbc7a, 0xf68c, 0x0, 0x1);
        gbc.writeMem(0x814, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x7dfd);
        EXPECT(gbc.pc(), 0x815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 007B
        gbc.setState(0x422f, 0xd4e8, 0x6af0, 0x433, 0xc4ca, 0xd02, 0x1, 0x1);
        gbc.writeMem(0x422f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xd4e8);
        EXPECT(gbc.pc(), 0x4230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 007C
        gbc.setState(0xe20c, 0x67a, 0x8240, 0xe518, 0x1ddd, 0xb6ea, 0x0, 0x1);
        gbc.writeMem(0xe20c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x67a);
        EXPECT(gbc.pc(), 0xe20d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe20c), 0x2d);
        // 2D 007D
        gbc.setState(0x3fa3, 0x59d5, 0xcee0, 0x2f7c, 0x6932, 0x9ea1, 0x0, 0x0);
        gbc.writeMem(0x3fa3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x59d5);
        EXPECT(gbc.pc(), 0x3fa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 007E
        gbc.setState(0x783c, 0x1a42, 0x1560, 0x537, 0xaba5, 0x18f6, 0x0, 0x1);
        gbc.writeMem(0x783c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x1a42);
        EXPECT(gbc.pc(), 0x783d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 007F
        gbc.setState(0x390d, 0xccec, 0x7ca0, 0x239e, 0x45e9, 0xcf49, 0x0, 0x1);
        gbc.writeMem(0x390d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xccec);
        EXPECT(gbc.pc(), 0x390e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0080
        gbc.setState(0x2498, 0x5b28, 0x2fe0, 0x5537, 0x722d, 0x6404, 0x0, 0x0);
        gbc.writeMem(0x2498, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5b28);
        EXPECT(gbc.pc(), 0x2499);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0082
        gbc.setState(0x388, 0xb2b0, 0xa590, 0xafc3, 0xd43b, 0x540e, 0x0, 0x0);
        gbc.writeMem(0x388, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb2b0);
        EXPECT(gbc.pc(), 0x389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0083
        gbc.setState(0x31b2, 0xe519, 0x1b70, 0xe8d7, 0xb47b, 0xf5b9, 0x0, 0x0);
        gbc.writeMem(0x31b2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe519);
        EXPECT(gbc.pc(), 0x31b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0084
        gbc.setState(0x431d, 0x1518, 0x3740, 0xc33c, 0x553f, 0xcafe, 0x0, 0x1);
        gbc.writeMem(0x431d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1518);
        EXPECT(gbc.pc(), 0x431e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0085
        gbc.setState(0xe64a, 0x4e6b, 0xa2b0, 0x89b9, 0xbc9e, 0x87cf, 0x0, 0x0);
        gbc.writeMem(0xe64a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4e6b);
        EXPECT(gbc.pc(), 0xe64b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe64a), 0x2d);
        // 2D 0086
        gbc.setState(0xc067, 0xeb22, 0x2980, 0x9736, 0xd461, 0x62fc, 0x1, 0x1);
        gbc.writeMem(0xc067, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xeb22);
        EXPECT(gbc.pc(), 0xc068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc067), 0x2d);
        // 2D 0087
        gbc.setState(0x8c55, 0xb32f, 0x7990, 0xabf, 0xeea1, 0xcd0a, 0x0, 0x1);
        gbc.writeMem(0x8c55, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb32f);
        EXPECT(gbc.pc(), 0x8c56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c55), 0x2d);
        // 2D 0088
        gbc.setState(0xdd30, 0x2175, 0x760, 0x53b8, 0xcff, 0xb7e1, 0x0, 0x0);
        gbc.writeMem(0xdd30, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2175);
        EXPECT(gbc.pc(), 0xdd31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd30), 0x2d);
        // 2D 0089
        gbc.setState(0xc637, 0x8747, 0xf900, 0x7e4f, 0x8e8e, 0xaba6, 0x1, 0x0);
        gbc.writeMem(0xc637, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8747);
        EXPECT(gbc.pc(), 0xc638);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc637), 0x2d);
        // 2D 008B
        gbc.setState(0xe7, 0x67ac, 0xcab0, 0xe4e1, 0xf2f9, 0xe1c6, 0x1, 0x0);
        gbc.writeMem(0xe7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x67ac);
        EXPECT(gbc.pc(), 0xe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 008C
        gbc.setState(0x8b47, 0xa5e9, 0x2c40, 0xaa0e, 0xbf50, 0x77a7, 0x1, 0x0);
        gbc.writeMem(0x8b47, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa5e9);
        EXPECT(gbc.pc(), 0x8b48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b47), 0x2d);
        // 2D 008D
        gbc.setState(0x3665, 0x5b74, 0xc280, 0xa2b7, 0xf73c, 0x8971, 0x0, 0x1);
        gbc.writeMem(0x3665, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5b74);
        EXPECT(gbc.pc(), 0x3666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 008E
        gbc.setState(0x30f3, 0xe1fd, 0xc470, 0x5cd0, 0xc223, 0x714f, 0x1, 0x0);
        gbc.writeMem(0x30f3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe1fd);
        EXPECT(gbc.pc(), 0x30f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 008F
        gbc.setState(0xb7f, 0xdf07, 0x6cf0, 0xd859, 0x7dc1, 0xa09c, 0x0, 0x1);
        gbc.writeMem(0xb7f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xdf07);
        EXPECT(gbc.pc(), 0xb80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0090
        gbc.setState(0xbded, 0xfa20, 0x4b10, 0xdc4d, 0x8580, 0xd6d8, 0x0, 0x0);
        gbc.writeMem(0xbded, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xfa20);
        EXPECT(gbc.pc(), 0xbdee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbded), 0x2d);
        // 2D 0091
        gbc.setState(0x150e, 0x21c2, 0xf9d0, 0xd756, 0x2587, 0x3f58, 0x1, 0x0);
        gbc.writeMem(0x150e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x21c2);
        EXPECT(gbc.pc(), 0x150f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0092
        gbc.setState(0x3675, 0xe415, 0x4310, 0xf685, 0x651d, 0x877f, 0x1, 0x1);
        gbc.writeMem(0x3675, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe415);
        EXPECT(gbc.pc(), 0x3676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0093
        gbc.setState(0x44ee, 0x24f1, 0x8cc0, 0xb0a5, 0xf4c2, 0xf971, 0x0, 0x0);
        gbc.writeMem(0x44ee, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x24f1);
        EXPECT(gbc.pc(), 0x44ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0094
        gbc.setState(0x3464, 0xdc98, 0x65e0, 0x209c, 0x709d, 0xb594, 0x1, 0x1);
        gbc.writeMem(0x3464, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xdc98);
        EXPECT(gbc.pc(), 0x3465);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0095
        gbc.setState(0x880f, 0x3534, 0x3960, 0xd68, 0x9bb0, 0xed27, 0x0, 0x1);
        gbc.writeMem(0x880f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x3534);
        EXPECT(gbc.pc(), 0x8810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x880f), 0x2d);
        // 2D 0096
        gbc.setState(0x5f81, 0x1e8c, 0x5810, 0xaff1, 0x1bb1, 0x6908, 0x1, 0x1);
        gbc.writeMem(0x5f81, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x1e8c);
        EXPECT(gbc.pc(), 0x5f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0097
        gbc.setState(0xdeb5, 0x2dd8, 0x2080, 0x3f7a, 0x7c05, 0xf902, 0x1, 0x0);
        gbc.writeMem(0xdeb5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2dd8);
        EXPECT(gbc.pc(), 0xdeb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeb5), 0x2d);
        // 2D 0098
        gbc.setState(0xa9eb, 0x644d, 0xb4b0, 0xc611, 0x802e, 0x597e, 0x0, 0x1);
        gbc.writeMem(0xa9eb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x644d);
        EXPECT(gbc.pc(), 0xa9ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9eb), 0x2d);
        // 2D 0099
        gbc.setState(0x9f9, 0xff62, 0x26e0, 0xc88c, 0x2c42, 0xbe3f, 0x1, 0x0);
        gbc.writeMem(0x9f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xff62);
        EXPECT(gbc.pc(), 0x9fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 009A
        gbc.setState(0xd001, 0xed14, 0x590, 0xf8c5, 0x3d2b, 0xa447, 0x1, 0x0);
        gbc.writeMem(0xd001, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xed14);
        EXPECT(gbc.pc(), 0xd002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd001), 0x2d);
        // 2D 009D
        gbc.setState(0x1b4c, 0x274f, 0xcc70, 0x18f3, 0xa593, 0x612a, 0x0, 0x0);
        gbc.writeMem(0x1b4c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x274f);
        EXPECT(gbc.pc(), 0x1b4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 009E
        gbc.setState(0x7c30, 0x9d90, 0xab90, 0x347a, 0x2fa9, 0x7db5, 0x1, 0x1);
        gbc.writeMem(0x7c30, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9d90);
        EXPECT(gbc.pc(), 0x7c31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 009F
        gbc.setState(0xaf0, 0x71ce, 0xb00, 0x7f83, 0xf3d1, 0x674b, 0x0, 0x0);
        gbc.writeMem(0xaf0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x71ce);
        EXPECT(gbc.pc(), 0xaf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00A0
        gbc.setState(0xadeb, 0x9f23, 0xd800, 0x1556, 0x688b, 0x4f0c, 0x0, 0x0);
        gbc.writeMem(0xadeb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9f23);
        EXPECT(gbc.pc(), 0xadec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadeb), 0x2d);
        // 2D 00A1
        gbc.setState(0xdb9d, 0x1d19, 0x4570, 0x7958, 0x85d3, 0x48ba, 0x0, 0x1);
        gbc.writeMem(0xdb9d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1d19);
        EXPECT(gbc.pc(), 0xdb9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb9d), 0x2d);
        // 2D 00A2
        gbc.setState(0xc195, 0x50a5, 0x67d0, 0xc123, 0x7d1d, 0xbea6, 0x1, 0x1);
        gbc.writeMem(0xc195, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x50a5);
        EXPECT(gbc.pc(), 0xc196);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc195), 0x2d);
        // 2D 00A3
        gbc.setState(0x4000, 0x2449, 0xc50, 0x9ca3, 0x6752, 0x886, 0x1, 0x0);
        gbc.writeMem(0x4000, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x2449);
        EXPECT(gbc.pc(), 0x4001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00A4
        gbc.setState(0x6b0d, 0xc249, 0xb8d0, 0xa524, 0x176, 0x87da, 0x0, 0x0);
        gbc.writeMem(0x6b0d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc249);
        EXPECT(gbc.pc(), 0x6b0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00A5
        gbc.setState(0x3e8f, 0xfcc, 0xfcb0, 0xe9d3, 0x5318, 0xd666, 0x0, 0x1);
        gbc.writeMem(0x3e8f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xfcc);
        EXPECT(gbc.pc(), 0x3e90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00A7
        gbc.setState(0x105f, 0x5b05, 0x74a0, 0xfbf5, 0xcc1c, 0xa65f, 0x0, 0x0);
        gbc.writeMem(0x105f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x5b05);
        EXPECT(gbc.pc(), 0x1060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00A8
        gbc.setState(0x8a49, 0xae18, 0xeb60, 0xf9a2, 0xe878, 0xa098, 0x0, 0x1);
        gbc.writeMem(0x8a49, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xae18);
        EXPECT(gbc.pc(), 0x8a4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a49), 0x2d);
        // 2D 00A9
        gbc.setState(0x9fd8, 0xd718, 0x3f50, 0xa718, 0x889, 0x5dfd, 0x0, 0x1);
        gbc.writeMem(0x9fd8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd718);
        EXPECT(gbc.pc(), 0x9fd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd8), 0x2d);
        // 2D 00AA
        gbc.setState(0x5390, 0xa8eb, 0x7160, 0x3326, 0x2afe, 0xd4b0, 0x1, 0x1);
        gbc.writeMem(0x5390, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa8eb);
        EXPECT(gbc.pc(), 0x5391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 00AC
        gbc.setState(0x1da0, 0x74ab, 0x94a0, 0xf5f, 0xfec2, 0x12e, 0x0, 0x0);
        gbc.writeMem(0x1da0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x74ab);
        EXPECT(gbc.pc(), 0x1da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00AD
        gbc.setState(0x8a72, 0xa9d4, 0x5080, 0x935d, 0xc588, 0xdad1, 0x1, 0x0);
        gbc.writeMem(0x8a72, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa9d4);
        EXPECT(gbc.pc(), 0x8a73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a72), 0x2d);
        // 2D 00AE
        gbc.setState(0xa30f, 0xab1c, 0xaee0, 0xd4ad, 0x36ca, 0x8858, 0x0, 0x0);
        gbc.writeMem(0xa30f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xab1c);
        EXPECT(gbc.pc(), 0xa310);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30f), 0x2d);
        // 2D 00AF
        gbc.setState(0x2b2d, 0xd93a, 0x3ba0, 0x5ab9, 0x76f, 0x7048, 0x0, 0x0);
        gbc.writeMem(0x2b2d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd93a);
        EXPECT(gbc.pc(), 0x2b2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00B0
        gbc.setState(0xd0dc, 0xd56, 0xe850, 0x8f7d, 0x3880, 0xb277, 0x0, 0x1);
        gbc.writeMem(0xd0dc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd56);
        EXPECT(gbc.pc(), 0xd0dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0dc), 0x2d);
        // 2D 00B1
        gbc.setState(0x5a30, 0xa14a, 0x9090, 0x68db, 0x9ddd, 0x1f07, 0x1, 0x1);
        gbc.writeMem(0x5a30, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa14a);
        EXPECT(gbc.pc(), 0x5a31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00B2
        gbc.setState(0x5037, 0x6c2a, 0x8d40, 0x5336, 0xfed4, 0x1756, 0x0, 0x1);
        gbc.writeMem(0x5037, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6c2a);
        EXPECT(gbc.pc(), 0x5038);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00B3
        gbc.setState(0x2aa6, 0x4ef5, 0x9eb0, 0x6d6f, 0x3f7, 0xecf9, 0x1, 0x1);
        gbc.writeMem(0x2aa6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x4ef5);
        EXPECT(gbc.pc(), 0x2aa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00B4
        gbc.setState(0xb239, 0xa68d, 0xed00, 0x1cb5, 0xf56, 0x9295, 0x1, 0x0);
        gbc.writeMem(0xb239, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa68d);
        EXPECT(gbc.pc(), 0xb23a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb239), 0x2d);
        // 2D 00B5
        gbc.setState(0x33eb, 0xf350, 0x510, 0xa084, 0x4b2a, 0x2837, 0x1, 0x1);
        gbc.writeMem(0x33eb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf350);
        EXPECT(gbc.pc(), 0x33ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00B6
        gbc.setState(0xdf33, 0x3e9e, 0xb0a0, 0x7737, 0x37e3, 0xdd53, 0x0, 0x0);
        gbc.writeMem(0xdf33, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x3e9e);
        EXPECT(gbc.pc(), 0xdf34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf33), 0x2d);
        // 2D 00B7
        gbc.setState(0xad39, 0x2fbf, 0x730, 0xa7dd, 0xd604, 0x28e2, 0x0, 0x0);
        gbc.writeMem(0xad39, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2fbf);
        EXPECT(gbc.pc(), 0xad3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad39), 0x2d);
        // 2D 00B8
        gbc.setState(0x4935, 0x79be, 0x25a0, 0xb02a, 0x4b5b, 0xe674, 0x1, 0x0);
        gbc.writeMem(0x4935, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x79be);
        EXPECT(gbc.pc(), 0x4936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00B9
        gbc.setState(0x6431, 0x334d, 0x5d90, 0xb3f0, 0x6655, 0xa2d5, 0x1, 0x0);
        gbc.writeMem(0x6431, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x334d);
        EXPECT(gbc.pc(), 0x6432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00BB
        gbc.setState(0xbf1d, 0x91c, 0x1d50, 0x77b0, 0xf6c2, 0xbb5b, 0x1, 0x0);
        gbc.writeMem(0xbf1d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x91c);
        EXPECT(gbc.pc(), 0xbf1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf1d), 0x2d);
        // 2D 00BC
        gbc.setState(0x2cdb, 0x24c7, 0x3420, 0x9c21, 0x75f, 0x3bdb, 0x0, 0x1);
        gbc.writeMem(0x2cdb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x24c7);
        EXPECT(gbc.pc(), 0x2cdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00BD
        gbc.setState(0x9eb5, 0xd6bd, 0x63a0, 0x4296, 0x5e, 0xa62, 0x0, 0x1);
        gbc.writeMem(0x9eb5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd6bd);
        EXPECT(gbc.pc(), 0x9eb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb5), 0x2d);
        // 2D 00BE
        gbc.setState(0xcbdb, 0x1166, 0x88a0, 0x9ac, 0x14bb, 0x20ca, 0x1, 0x0);
        gbc.writeMem(0xcbdb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1166);
        EXPECT(gbc.pc(), 0xcbdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbdb), 0x2d);
        // 2D 00BF
        gbc.setState(0xdc7b, 0x85fa, 0x1ef0, 0x9c9d, 0x290b, 0x8c9e, 0x0, 0x0);
        gbc.writeMem(0xdc7b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x85fa);
        EXPECT(gbc.pc(), 0xdc7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc7b), 0x2d);
        // 2D 00C0
        gbc.setState(0xd161, 0x7b45, 0xf2f0, 0x7d09, 0x1cb9, 0x9588, 0x1, 0x0);
        gbc.writeMem(0xd161, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x7b45);
        EXPECT(gbc.pc(), 0xd162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd161), 0x2d);
        // 2D 00C2
        gbc.setState(0x26cf, 0x8e25, 0x1270, 0xe588, 0x8b6b, 0xf23d, 0x1, 0x0);
        gbc.writeMem(0x26cf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8e25);
        EXPECT(gbc.pc(), 0x26d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00C3
        gbc.setState(0xa99c, 0x68df, 0x7500, 0xf838, 0x5a88, 0xdce1, 0x0, 0x0);
        gbc.writeMem(0xa99c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x68df);
        EXPECT(gbc.pc(), 0xa99d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99c), 0x2d);
        // 2D 00C4
        gbc.setState(0x5567, 0x5834, 0xe6b0, 0x31e7, 0x4eb6, 0x214, 0x1, 0x0);
        gbc.writeMem(0x5567, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5834);
        EXPECT(gbc.pc(), 0x5568);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00C5
        gbc.setState(0x86ad, 0xd6a0, 0xe950, 0x6f1, 0xe0c3, 0x907e, 0x0, 0x0);
        gbc.writeMem(0x86ad, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd6a0);
        EXPECT(gbc.pc(), 0x86ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86ad), 0x2d);
        // 2D 00C6
        gbc.setState(0xa09f, 0x3a41, 0x2bb0, 0xde7a, 0xa6fa, 0xe2c, 0x1, 0x1);
        gbc.writeMem(0xa09f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3a41);
        EXPECT(gbc.pc(), 0xa0a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa09f), 0x2d);
        // 2D 00C7
        gbc.setState(0x66e1, 0xcc85, 0xa410, 0x2dd2, 0x17ac, 0x24a8, 0x1, 0x1);
        gbc.writeMem(0x66e1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xcc85);
        EXPECT(gbc.pc(), 0x66e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00C8
        gbc.setState(0x9bc8, 0xb1a0, 0x71d0, 0xfe42, 0x9c2a, 0x8129, 0x1, 0x0);
        gbc.writeMem(0x9bc8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb1a0);
        EXPECT(gbc.pc(), 0x9bc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bc8), 0x2d);
        // 2D 00C9
        gbc.setState(0x3fea, 0xb4b4, 0xa5e0, 0x8b48, 0x2fbe, 0xac6, 0x1, 0x1);
        gbc.writeMem(0x3fea, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb4b4);
        EXPECT(gbc.pc(), 0x3feb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00CA
        gbc.setState(0xcfda, 0x2802, 0x2520, 0xbd99, 0x3617, 0x79d9, 0x1, 0x1);
        gbc.writeMem(0xcfda, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2802);
        EXPECT(gbc.pc(), 0xcfdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfda), 0x2d);
        // 2D 00CB
        gbc.setState(0x32c0, 0x8feb, 0x74f0, 0xaefe, 0x6f2a, 0x19ad, 0x0, 0x0);
        gbc.writeMem(0x32c0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8feb);
        EXPECT(gbc.pc(), 0x32c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00CC
        gbc.setState(0x4a0e, 0x8dc6, 0x65e0, 0xed12, 0x6234, 0x58f6, 0x1, 0x0);
        gbc.writeMem(0x4a0e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8dc6);
        EXPECT(gbc.pc(), 0x4a0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00CE
        gbc.setState(0xb40c, 0xa861, 0xddb0, 0xd30, 0x287, 0xca3e, 0x0, 0x1);
        gbc.writeMem(0xb40c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa861);
        EXPECT(gbc.pc(), 0xb40d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb40c), 0x2d);
        // 2D 00CF
        gbc.setState(0x34f, 0xc5fa, 0x2330, 0x4b4, 0xbf1d, 0xbe88, 0x1, 0x0);
        gbc.writeMem(0x34f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc5fa);
        EXPECT(gbc.pc(), 0x350);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00D1
        gbc.setState(0xcafa, 0x7f0a, 0x7170, 0x3f51, 0x690c, 0x3a1c, 0x0, 0x0);
        gbc.writeMem(0xcafa, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7f0a);
        EXPECT(gbc.pc(), 0xcafb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcafa), 0x2d);
        // 2D 00D2
        gbc.setState(0x797a, 0x6384, 0x2f00, 0x9083, 0x8168, 0x61d2, 0x0, 0x0);
        gbc.writeMem(0x797a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6384);
        EXPECT(gbc.pc(), 0x797b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00D3
        gbc.setState(0xb6ed, 0xcb08, 0x5520, 0xc5e6, 0xae4c, 0xe0a2, 0x1, 0x1);
        gbc.writeMem(0xb6ed, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcb08);
        EXPECT(gbc.pc(), 0xb6ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ed), 0x2d);
        // 2D 00D4
        gbc.setState(0xa0a5, 0x75b9, 0x3190, 0x1d14, 0x94cd, 0x6ef3, 0x1, 0x0);
        gbc.writeMem(0xa0a5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x75b9);
        EXPECT(gbc.pc(), 0xa0a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0a5), 0x2d);
        // 2D 00D5
        gbc.setState(0xc2a2, 0x8d40, 0xe780, 0xbfe1, 0xf7d, 0x60cf, 0x1, 0x0);
        gbc.writeMem(0xc2a2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8d40);
        EXPECT(gbc.pc(), 0xc2a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2a2), 0x2d);
        // 2D 00D6
        gbc.setState(0x9aa3, 0x97fe, 0x1040, 0xabaa, 0x3b5d, 0x3606, 0x0, 0x1);
        gbc.writeMem(0x9aa3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x97fe);
        EXPECT(gbc.pc(), 0x9aa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aa3), 0x2d);
        // 2D 00D7
        gbc.setState(0xc03d, 0xea71, 0xbbd0, 0x9dec, 0xcda0, 0x7793, 0x0, 0x0);
        gbc.writeMem(0xc03d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xea71);
        EXPECT(gbc.pc(), 0xc03e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc03d), 0x2d);
        // 2D 00D8
        gbc.setState(0x1d37, 0xdad4, 0x5970, 0xdf13, 0x543, 0xd8fa, 0x1, 0x1);
        gbc.writeMem(0x1d37, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xdad4);
        EXPECT(gbc.pc(), 0x1d38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00D9
        gbc.setState(0xaede, 0xbf6d, 0x2d50, 0x978f, 0x8f13, 0xdcc2, 0x1, 0x0);
        gbc.writeMem(0xaede, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xbf6d);
        EXPECT(gbc.pc(), 0xaedf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaede), 0x2d);
        // 2D 00DA
        gbc.setState(0x2b4f, 0xfb6a, 0x6190, 0x4f03, 0xccaa, 0x32b5, 0x0, 0x0);
        gbc.writeMem(0x2b4f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xfb6a);
        EXPECT(gbc.pc(), 0x2b50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00DB
        gbc.setState(0x55de, 0x4eaa, 0xd1f0, 0xd51d, 0x1f11, 0x8e6b, 0x0, 0x0);
        gbc.writeMem(0x55de, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x4eaa);
        EXPECT(gbc.pc(), 0x55df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00DC
        gbc.setState(0x826e, 0x834f, 0xa1a0, 0xac1b, 0x74bb, 0x61de, 0x0, 0x0);
        gbc.writeMem(0x826e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x834f);
        EXPECT(gbc.pc(), 0x826f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x826e), 0x2d);
        // 2D 00DD
        gbc.setState(0x9782, 0xb894, 0xcd0, 0x2406, 0x2907, 0x7f37, 0x1, 0x1);
        gbc.writeMem(0x9782, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb894);
        EXPECT(gbc.pc(), 0x9783);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9782), 0x2d);
        // 2D 00DE
        gbc.setState(0x60b, 0x2a36, 0xfe10, 0x3423, 0xd5a9, 0xf63d, 0x1, 0x0);
        gbc.writeMem(0x60b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2a36);
        EXPECT(gbc.pc(), 0x60c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00DF
        gbc.setState(0x78a9, 0x592c, 0xcb0, 0x798, 0xbd6f, 0x297d, 0x0, 0x0);
        gbc.writeMem(0x78a9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x592c);
        EXPECT(gbc.pc(), 0x78aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00E0
        gbc.setState(0x922e, 0xd76e, 0x9390, 0xee12, 0x8c0f, 0x4671, 0x1, 0x0);
        gbc.writeMem(0x922e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd76e);
        EXPECT(gbc.pc(), 0x922f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x922e), 0x2d);
        // 2D 00E1
        gbc.setState(0xe718, 0xefce, 0xbd0, 0x35a1, 0x4f06, 0xea31, 0x1, 0x1);
        gbc.writeMem(0xe718, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xefce);
        EXPECT(gbc.pc(), 0xe719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe718), 0x2d);
        // 2D 00E2
        gbc.setState(0x5fa8, 0x5a42, 0xe570, 0x8597, 0x4069, 0xdb5e, 0x1, 0x1);
        gbc.writeMem(0x5fa8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x5a42);
        EXPECT(gbc.pc(), 0x5fa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00E3
        gbc.setState(0xa4f9, 0x4900, 0x97d0, 0x5f94, 0xf73a, 0x3f86, 0x0, 0x0);
        gbc.writeMem(0xa4f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4900);
        EXPECT(gbc.pc(), 0xa4fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4f9), 0x2d);
        // 2D 00E4
        gbc.setState(0xeb46, 0xfffe, 0x8c00, 0x6a74, 0x3b03, 0x989e, 0x0, 0x0);
        gbc.writeMem(0xeb46, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xfffe);
        EXPECT(gbc.pc(), 0xeb47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb46), 0x2d);
        // 2D 00E5
        gbc.setState(0x9470, 0x7167, 0x4360, 0xc550, 0x93ac, 0x2fce, 0x1, 0x0);
        gbc.writeMem(0x9470, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7167);
        EXPECT(gbc.pc(), 0x9471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9470), 0x2d);
        // 2D 00E6
        gbc.setState(0x159f, 0x6045, 0xb960, 0x26b1, 0xc32e, 0x4d97, 0x1, 0x0);
        gbc.writeMem(0x159f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6045);
        EXPECT(gbc.pc(), 0x15a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00E7
        gbc.setState(0x1b54, 0xee1d, 0xe0c0, 0x9648, 0x5f16, 0xb1ed, 0x0, 0x1);
        gbc.writeMem(0x1b54, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xee1d);
        EXPECT(gbc.pc(), 0x1b55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00E8
        gbc.setState(0xcf63, 0xc21c, 0x190, 0xe179, 0xddff, 0x52d6, 0x0, 0x0);
        gbc.writeMem(0xcf63, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xc21c);
        EXPECT(gbc.pc(), 0xcf64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf63), 0x2d);
        // 2D 00E9
        gbc.setState(0x72cf, 0x10a4, 0x9da0, 0xe0aa, 0xf0cf, 0x3b00, 0x0, 0x1);
        gbc.writeMem(0x72cf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x10a4);
        EXPECT(gbc.pc(), 0x72d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 00EA
        gbc.setState(0xb405, 0x912a, 0x1b40, 0x19b9, 0x932f, 0x94ff, 0x0, 0x0);
        gbc.writeMem(0xb405, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x912a);
        EXPECT(gbc.pc(), 0xb406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb405), 0x2d);
        // 2D 00EB
        gbc.setState(0x2b2, 0xfd54, 0xe110, 0x9d1c, 0xb8b8, 0x2ef6, 0x0, 0x0);
        gbc.writeMem(0x2b2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xfd54);
        EXPECT(gbc.pc(), 0x2b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00EC
        gbc.setState(0x9e45, 0xe98, 0x6490, 0x31b9, 0xd5a5, 0xfb71, 0x0, 0x1);
        gbc.writeMem(0x9e45, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe98);
        EXPECT(gbc.pc(), 0x9e46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e45), 0x2d);
        // 2D 00ED
        gbc.setState(0x1a59, 0x152c, 0x1570, 0xb7ea, 0x1266, 0xff1d, 0x0, 0x0);
        gbc.writeMem(0x1a59, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x152c);
        EXPECT(gbc.pc(), 0x1a5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00EE
        gbc.setState(0x7788, 0xb56d, 0x6d70, 0x2ff0, 0x241d, 0x3616, 0x0, 0x0);
        gbc.writeMem(0x7788, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb56d);
        EXPECT(gbc.pc(), 0x7789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00EF
        gbc.setState(0x8a16, 0xcc1a, 0x6190, 0xd8c8, 0x1c47, 0x72e2, 0x0, 0x0);
        gbc.writeMem(0x8a16, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xcc1a);
        EXPECT(gbc.pc(), 0x8a17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a16), 0x2d);
        // 2D 00F0
        gbc.setState(0x922, 0x7e01, 0xa920, 0x1f5b, 0xe8cf, 0x3d26, 0x0, 0x1);
        gbc.writeMem(0x922, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7e01);
        EXPECT(gbc.pc(), 0x923);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00F1
        gbc.setState(0x7c03, 0xa6d3, 0x5f70, 0x200, 0x9a20, 0x4796, 0x0, 0x1);
        gbc.writeMem(0x7c03, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa6d3);
        EXPECT(gbc.pc(), 0x7c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00F2
        gbc.setState(0x9bb1, 0x2847, 0x2a00, 0x9d13, 0xbcf9, 0x32b2, 0x1, 0x1);
        gbc.writeMem(0x9bb1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2847);
        EXPECT(gbc.pc(), 0x9bb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb1), 0x2d);
        // 2D 00F3
        gbc.setState(0x11a6, 0x1c96, 0x8f40, 0x6e01, 0xe40a, 0x35ec, 0x1, 0x1);
        gbc.writeMem(0x11a6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x1c96);
        EXPECT(gbc.pc(), 0x11a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00F4
        gbc.setState(0x5339, 0x7dec, 0x6d90, 0x4608, 0x871, 0xa4a5, 0x0, 0x1);
        gbc.writeMem(0x5339, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7dec);
        EXPECT(gbc.pc(), 0x533a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00F5
        gbc.setState(0x33d6, 0x68f4, 0x1320, 0xc2ae, 0xd675, 0xc90c, 0x1, 0x1);
        gbc.writeMem(0x33d6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x68f4);
        EXPECT(gbc.pc(), 0x33d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00F6
        gbc.setState(0x64e8, 0x4bba, 0xa50, 0x7aa0, 0xddd1, 0x3fb7, 0x0, 0x0);
        gbc.writeMem(0x64e8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4bba);
        EXPECT(gbc.pc(), 0x64e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00F7
        gbc.setState(0x855b, 0x6e83, 0x35f0, 0xfb2b, 0xb71c, 0x1a19, 0x0, 0x0);
        gbc.writeMem(0x855b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6e83);
        EXPECT(gbc.pc(), 0x855c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x855b), 0x2d);
        // 2D 00F8
        gbc.setState(0xaa3d, 0x18bf, 0x2100, 0xecc4, 0xffd3, 0x6512, 0x1, 0x0);
        gbc.writeMem(0xaa3d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x18bf);
        EXPECT(gbc.pc(), 0xaa3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa3d), 0x2d);
        // 2D 00FA
        gbc.setState(0x63d7, 0x8507, 0x8910, 0xc77e, 0xd142, 0x8fa5, 0x0, 0x1);
        gbc.writeMem(0x63d7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8507);
        EXPECT(gbc.pc(), 0x63d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00FB
        gbc.setState(0xc3f7, 0x2fdc, 0x6890, 0x2e55, 0xea50, 0x20ce, 0x0, 0x1);
        gbc.writeMem(0xc3f7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2fdc);
        EXPECT(gbc.pc(), 0xc3f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3f7), 0x2d);
        // 2D 00FC
        gbc.setState(0x94b2, 0x15bd, 0xd10, 0x3499, 0x902e, 0x247, 0x0, 0x0);
        gbc.writeMem(0x94b2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x15bd);
        EXPECT(gbc.pc(), 0x94b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94b2), 0x2d);
        // 2D 00FD
        gbc.setState(0x3c27, 0xa581, 0xcb50, 0x1027, 0xc4ea, 0x9bfc, 0x0, 0x0);
        gbc.writeMem(0x3c27, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa581);
        EXPECT(gbc.pc(), 0x3c28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 00FE
        gbc.setState(0x62b4, 0xf731, 0x2760, 0xc8a8, 0x1c3f, 0xac1c, 0x1, 0x0);
        gbc.writeMem(0x62b4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xf731);
        EXPECT(gbc.pc(), 0x62b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 00FF
        gbc.setState(0x53dc, 0xd2ba, 0x630, 0x209, 0x7ee3, 0xe784, 0x1, 0x1);
        gbc.writeMem(0x53dc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd2ba);
        EXPECT(gbc.pc(), 0x53dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0101
        gbc.setState(0x84fa, 0x3949, 0xf5c0, 0x459d, 0x86ad, 0xebd2, 0x0, 0x0);
        gbc.writeMem(0x84fa, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3949);
        EXPECT(gbc.pc(), 0x84fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84fa), 0x2d);
        // 2D 0102
        gbc.setState(0x3187, 0xcb97, 0x15f0, 0x5919, 0xc666, 0xc735, 0x1, 0x1);
        gbc.writeMem(0x3187, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xcb97);
        EXPECT(gbc.pc(), 0x3188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0103
        gbc.setState(0xbcff, 0x6366, 0x680, 0x5ab9, 0x1dad, 0x9e, 0x1, 0x0);
        gbc.writeMem(0xbcff, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6366);
        EXPECT(gbc.pc(), 0xbd00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcff), 0x2d);
        // 2D 0104
        gbc.setState(0x9115, 0xe739, 0x2010, 0x509c, 0x78c0, 0x780, 0x1, 0x1);
        gbc.writeMem(0x9115, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe739);
        EXPECT(gbc.pc(), 0x9116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9115), 0x2d);
        // 2D 0105
        gbc.setState(0xe050, 0x3a24, 0x9c80, 0x5c6b, 0x5174, 0x5d2, 0x0, 0x1);
        gbc.writeMem(0xe050, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3a24);
        EXPECT(gbc.pc(), 0xe051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe050), 0x2d);
        // 2D 0106
        gbc.setState(0x76f9, 0xf369, 0xc2e0, 0x8ed8, 0xeaed, 0xcc9d, 0x1, 0x1);
        gbc.writeMem(0x76f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xf369);
        EXPECT(gbc.pc(), 0x76fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0107
        gbc.setState(0x77b4, 0xd980, 0xc4f0, 0xf6bd, 0xe270, 0x6a54, 0x1, 0x0);
        gbc.writeMem(0x77b4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xd980);
        EXPECT(gbc.pc(), 0x77b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0108
        gbc.setState(0x9e53, 0xcfde, 0x30b0, 0xafb2, 0x908e, 0xe8b7, 0x0, 0x0);
        gbc.writeMem(0x9e53, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xcfde);
        EXPECT(gbc.pc(), 0x9e54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e53), 0x2d);
        // 2D 0109
        gbc.setState(0x421e, 0x7192, 0x2740, 0xc0f0, 0x8d34, 0xddea, 0x0, 0x0);
        gbc.writeMem(0x421e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7192);
        EXPECT(gbc.pc(), 0x421f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 010A
        gbc.setState(0x93a0, 0xbf5a, 0xd7c0, 0xd091, 0x3ce7, 0x7f7a, 0x1, 0x1);
        gbc.writeMem(0x93a0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xbf5a);
        EXPECT(gbc.pc(), 0x93a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93a0), 0x2d);
        // 2D 010B
        gbc.setState(0x9f44, 0x708, 0xb5f0, 0x439d, 0xe1fb, 0xa04f, 0x1, 0x1);
        gbc.writeMem(0x9f44, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x708);
        EXPECT(gbc.pc(), 0x9f45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f44), 0x2d);
        // 2D 010C
        gbc.setState(0x6377, 0x9144, 0x4340, 0x523b, 0x62c3, 0x1474, 0x1, 0x0);
        gbc.writeMem(0x6377, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x9144);
        EXPECT(gbc.pc(), 0x6378);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 010D
        gbc.setState(0x3c1d, 0xfb38, 0xbfc0, 0x76ee, 0x1b83, 0x7960, 0x1, 0x1);
        gbc.writeMem(0x3c1d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfb38);
        EXPECT(gbc.pc(), 0x3c1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 010E
        gbc.setState(0xa7a0, 0xed0b, 0x8d40, 0x57f1, 0xbdfb, 0xf98d, 0x1, 0x1);
        gbc.writeMem(0xa7a0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xed0b);
        EXPECT(gbc.pc(), 0xa7a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7a0), 0x2d);
        // 2D 010F
        gbc.setState(0xc361, 0x64f6, 0xcb60, 0xd19d, 0x4639, 0x2662, 0x1, 0x1);
        gbc.writeMem(0xc361, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x64f6);
        EXPECT(gbc.pc(), 0xc362);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc361), 0x2d);
        // 2D 0110
        gbc.setState(0xc013, 0x3ae9, 0xf4f0, 0x61a5, 0x9cad, 0x10d9, 0x1, 0x1);
        gbc.writeMem(0xc013, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x3ae9);
        EXPECT(gbc.pc(), 0xc014);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc013), 0x2d);
        // 2D 0111
        gbc.setState(0xe4b, 0x9b61, 0xe1e0, 0xd157, 0xda70, 0x47f9, 0x1, 0x0);
        gbc.writeMem(0xe4b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9b61);
        EXPECT(gbc.pc(), 0xe4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0112
        gbc.setState(0x40d2, 0x74a7, 0x4100, 0x1681, 0xa612, 0x3435, 0x0, 0x1);
        gbc.writeMem(0x40d2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x74a7);
        EXPECT(gbc.pc(), 0x40d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0113
        gbc.setState(0x3af1, 0x548, 0x2f30, 0x6407, 0xece1, 0x3ca8, 0x0, 0x0);
        gbc.writeMem(0x3af1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x548);
        EXPECT(gbc.pc(), 0x3af2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0114
        gbc.setState(0xa2ab, 0x5633, 0xba00, 0xf83, 0xb1c0, 0x7bed, 0x1, 0x0);
        gbc.writeMem(0xa2ab, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5633);
        EXPECT(gbc.pc(), 0xa2ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2ab), 0x2d);
        // 2D 0115
        gbc.setState(0xe76b, 0x3a23, 0xd950, 0x726, 0xcbf0, 0xf3a6, 0x1, 0x1);
        gbc.writeMem(0xe76b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3a23);
        EXPECT(gbc.pc(), 0xe76c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe76b), 0x2d);
        // 2D 0116
        gbc.setState(0x2e51, 0x4610, 0x6d30, 0xd303, 0x2085, 0xe296, 0x0, 0x1);
        gbc.writeMem(0x2e51, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4610);
        EXPECT(gbc.pc(), 0x2e52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0117
        gbc.setState(0xa9b3, 0x450e, 0x8bf0, 0x52be, 0xb57f, 0xdba0, 0x1, 0x1);
        gbc.writeMem(0xa9b3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x450e);
        EXPECT(gbc.pc(), 0xa9b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b3), 0x2d);
        // 2D 0118
        gbc.setState(0x6b4d, 0xff2e, 0x110, 0x383c, 0xdcec, 0x414e, 0x1, 0x0);
        gbc.writeMem(0x6b4d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xff2e);
        EXPECT(gbc.pc(), 0x6b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0119
        gbc.setState(0x8f86, 0xa022, 0xb0d0, 0x2da1, 0x4693, 0x2e73, 0x1, 0x1);
        gbc.writeMem(0x8f86, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xa022);
        EXPECT(gbc.pc(), 0x8f87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f86), 0x2d);
        // 2D 011A
        gbc.setState(0x6f1c, 0x3c91, 0xbb50, 0x41f0, 0x4ef4, 0x142b, 0x1, 0x1);
        gbc.writeMem(0x6f1c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x3c91);
        EXPECT(gbc.pc(), 0x6f1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 011B
        gbc.setState(0x6ce6, 0xa0d8, 0x8050, 0x3e7f, 0xa6df, 0x11e9, 0x1, 0x1);
        gbc.writeMem(0x6ce6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa0d8);
        EXPECT(gbc.pc(), 0x6ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 011C
        gbc.setState(0x339d, 0xc65, 0x2b80, 0xa67c, 0x6031, 0x78cb, 0x1, 0x1);
        gbc.writeMem(0x339d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xc65);
        EXPECT(gbc.pc(), 0x339e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 011D
        gbc.setState(0xe58e, 0xff06, 0xc6a0, 0xece0, 0x2c9a, 0xd5ae, 0x0, 0x1);
        gbc.writeMem(0xe58e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xff06);
        EXPECT(gbc.pc(), 0xe58f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe58e), 0x2d);
        // 2D 011E
        gbc.setState(0x86fb, 0xb26d, 0x3440, 0xb06, 0x3dcc, 0xf93b, 0x0, 0x0);
        gbc.writeMem(0x86fb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xb26d);
        EXPECT(gbc.pc(), 0x86fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86fb), 0x2d);
        // 2D 011F
        gbc.setState(0xbc70, 0x8f0c, 0x18a0, 0xb77b, 0xa0bd, 0xff90, 0x0, 0x1);
        gbc.writeMem(0xbc70, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8f0c);
        EXPECT(gbc.pc(), 0xbc71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc70), 0x2d);
        // 2D 0120
        gbc.setState(0x88fe, 0xdc44, 0x96b0, 0xeb3b, 0x3928, 0x577, 0x1, 0x0);
        gbc.writeMem(0x88fe, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xdc44);
        EXPECT(gbc.pc(), 0x88ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88fe), 0x2d);
        // 2D 0121
        gbc.setState(0x5d2c, 0xd856, 0xfd80, 0x56d0, 0x2c2b, 0x147d, 0x1, 0x1);
        gbc.writeMem(0x5d2c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd856);
        EXPECT(gbc.pc(), 0x5d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0122
        gbc.setState(0xd3bb, 0x70, 0x1360, 0x6fea, 0x453c, 0x63c9, 0x1, 0x0);
        gbc.writeMem(0xd3bb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x70);
        EXPECT(gbc.pc(), 0xd3bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3bb), 0x2d);
        // 2D 0123
        gbc.setState(0xdbe, 0xff87, 0x3360, 0xf72d, 0x2bc8, 0x7b8f, 0x1, 0x0);
        gbc.writeMem(0xdbe, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xff87);
        EXPECT(gbc.pc(), 0xdbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0124
        gbc.setState(0xd205, 0x37ca, 0xe660, 0xfc80, 0xdb59, 0x126a, 0x1, 0x0);
        gbc.writeMem(0xd205, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x37ca);
        EXPECT(gbc.pc(), 0xd206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd205), 0x2d);
        // 2D 0125
        gbc.setState(0xcf84, 0xab78, 0x4e30, 0x6a9a, 0x125, 0x8b22, 0x1, 0x1);
        gbc.writeMem(0xcf84, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xab78);
        EXPECT(gbc.pc(), 0xcf85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf84), 0x2d);
        // 2D 0126
        gbc.setState(0x95a, 0x9a40, 0xaaf0, 0x2b7d, 0x912f, 0xb111, 0x0, 0x1);
        gbc.writeMem(0x95a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9a40);
        EXPECT(gbc.pc(), 0x95b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0127
        gbc.setState(0x4c87, 0xaa1e, 0xbce0, 0x9a8a, 0x8bec, 0x55a2, 0x1, 0x0);
        gbc.writeMem(0x4c87, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xaa1e);
        EXPECT(gbc.pc(), 0x4c88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0128
        gbc.setState(0x9635, 0x27dd, 0x48d0, 0x4828, 0x541d, 0x4316, 0x0, 0x0);
        gbc.writeMem(0x9635, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x27dd);
        EXPECT(gbc.pc(), 0x9636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9635), 0x2d);
        // 2D 0129
        gbc.setState(0x49dc, 0xed16, 0x4fb0, 0x87ad, 0x2bad, 0x93be, 0x0, 0x0);
        gbc.writeMem(0x49dc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xed16);
        EXPECT(gbc.pc(), 0x49dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 012A
        gbc.setState(0xdab7, 0x6cb, 0x8670, 0xa294, 0xd880, 0x9d27, 0x1, 0x0);
        gbc.writeMem(0xdab7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x6cb);
        EXPECT(gbc.pc(), 0xdab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab7), 0x2d);
        // 2D 012B
        gbc.setState(0xa3dd, 0x802a, 0x6d0, 0xa8e, 0x14b7, 0x675, 0x0, 0x1);
        gbc.writeMem(0xa3dd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x802a);
        EXPECT(gbc.pc(), 0xa3de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3dd), 0x2d);
        // 2D 012C
        gbc.setState(0xda16, 0xeaf2, 0x22d0, 0x50f8, 0xd8ba, 0x22a4, 0x1, 0x1);
        gbc.writeMem(0xda16, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xeaf2);
        EXPECT(gbc.pc(), 0xda17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda16), 0x2d);
        // 2D 012D
        gbc.setState(0x3f9b, 0xf421, 0xbab0, 0xa9e0, 0x853f, 0xe00f, 0x1, 0x1);
        gbc.writeMem(0x3f9b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf421);
        EXPECT(gbc.pc(), 0x3f9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 012E
        gbc.setState(0x46c6, 0xf9a6, 0x6d00, 0x6ab2, 0x6a39, 0x53d9, 0x0, 0x0);
        gbc.writeMem(0x46c6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf9a6);
        EXPECT(gbc.pc(), 0x46c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 012F
        gbc.setState(0x802e, 0x232c, 0x2830, 0xf302, 0x8359, 0xcac9, 0x1, 0x0);
        gbc.writeMem(0x802e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x232c);
        EXPECT(gbc.pc(), 0x802f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x802e), 0x2d);
        // 2D 0130
        gbc.setState(0x7938, 0x6a2c, 0xc860, 0xd87a, 0xb24a, 0x52dc, 0x1, 0x1);
        gbc.writeMem(0x7938, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6a2c);
        EXPECT(gbc.pc(), 0x7939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0131
        gbc.setState(0xd78a, 0x2fa1, 0x1c40, 0x614e, 0xb814, 0x2b53, 0x0, 0x0);
        gbc.writeMem(0xd78a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2fa1);
        EXPECT(gbc.pc(), 0xd78b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd78a), 0x2d);
        // 2D 0132
        gbc.setState(0xd2c0, 0xf5c0, 0xe5b0, 0x8211, 0x27b4, 0xe21f, 0x1, 0x1);
        gbc.writeMem(0xd2c0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf5c0);
        EXPECT(gbc.pc(), 0xd2c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2c0), 0x2d);
        // 2D 0133
        gbc.setState(0x223f, 0xe2e3, 0xd300, 0x92b6, 0x5a71, 0x2ab0, 0x1, 0x1);
        gbc.writeMem(0x223f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe2e3);
        EXPECT(gbc.pc(), 0x2240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0134
        gbc.setState(0x77b8, 0xade5, 0x4280, 0x7eb, 0x4529, 0x434f, 0x0, 0x1);
        gbc.writeMem(0x77b8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xade5);
        EXPECT(gbc.pc(), 0x77b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0135
        gbc.setState(0x4e3a, 0x8eab, 0x6550, 0x172b, 0x24eb, 0xf34a, 0x0, 0x0);
        gbc.writeMem(0x4e3a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8eab);
        EXPECT(gbc.pc(), 0x4e3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0136
        gbc.setState(0x26e1, 0x7892, 0xcf60, 0xf821, 0x99d2, 0xadc1, 0x1, 0x0);
        gbc.writeMem(0x26e1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7892);
        EXPECT(gbc.pc(), 0x26e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0137
        gbc.setState(0xc992, 0xc6a8, 0xbc40, 0x9bec, 0xb075, 0x7b05, 0x1, 0x1);
        gbc.writeMem(0xc992, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc6a8);
        EXPECT(gbc.pc(), 0xc993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc992), 0x2d);
        // 2D 0138
        gbc.setState(0x7e5b, 0xa60e, 0x2c20, 0x1688, 0x1e81, 0xa00b, 0x1, 0x0);
        gbc.writeMem(0x7e5b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xa60e);
        EXPECT(gbc.pc(), 0x7e5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0139
        gbc.setState(0x7bbe, 0xa10f, 0xfe80, 0xc27a, 0x770d, 0x7e20, 0x1, 0x1);
        gbc.writeMem(0x7bbe, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xa10f);
        EXPECT(gbc.pc(), 0x7bbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 013A
        gbc.setState(0xcbe7, 0x3e45, 0x20, 0xd025, 0xc957, 0x4ef9, 0x1, 0x1);
        gbc.writeMem(0xcbe7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3e45);
        EXPECT(gbc.pc(), 0xcbe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe7), 0x2d);
        // 2D 013B
        gbc.setState(0xa9f4, 0xf5ca, 0x1e70, 0x53cb, 0xbcb1, 0xcc81, 0x0, 0x1);
        gbc.writeMem(0xa9f4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf5ca);
        EXPECT(gbc.pc(), 0xa9f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9f4), 0x2d);
        // 2D 013C
        gbc.setState(0xb3ce, 0xcd54, 0x3db0, 0x22e1, 0xed96, 0xa1f2, 0x1, 0x0);
        gbc.writeMem(0xb3ce, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xcd54);
        EXPECT(gbc.pc(), 0xb3cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ce), 0x2d);
        // 2D 013D
        gbc.setState(0x6125, 0x8d96, 0x4ac0, 0x6be5, 0x7104, 0xe413, 0x1, 0x0);
        gbc.writeMem(0x6125, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8d96);
        EXPECT(gbc.pc(), 0x6126);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 013E
        gbc.setState(0x3494, 0xb29e, 0x4690, 0x2adb, 0xce5c, 0xe74a, 0x1, 0x1);
        gbc.writeMem(0x3494, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xb29e);
        EXPECT(gbc.pc(), 0x3495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 013F
        gbc.setState(0x2db1, 0xd6b2, 0xbe0, 0xc194, 0xa2b8, 0x3d74, 0x1, 0x1);
        gbc.writeMem(0x2db1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd6b2);
        EXPECT(gbc.pc(), 0x2db2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0140
        gbc.setState(0xfe8, 0x155e, 0x4840, 0xedf, 0xc8ba, 0x7484, 0x1, 0x1);
        gbc.writeMem(0xfe8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x155e);
        EXPECT(gbc.pc(), 0xfe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0141
        gbc.setState(0x7f46, 0x6e89, 0x2b90, 0xea22, 0x8126, 0x6772, 0x1, 0x0);
        gbc.writeMem(0x7f46, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6e89);
        EXPECT(gbc.pc(), 0x7f47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0142
        gbc.setState(0x53bd, 0x7e48, 0xa0c0, 0x260a, 0x2c64, 0x3512, 0x0, 0x0);
        gbc.writeMem(0x53bd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7e48);
        EXPECT(gbc.pc(), 0x53be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0143
        gbc.setState(0xe062, 0x4f60, 0x8b20, 0x17fe, 0xaed0, 0x56de, 0x0, 0x1);
        gbc.writeMem(0xe062, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4f60);
        EXPECT(gbc.pc(), 0xe063);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe062), 0x2d);
        // 2D 0144
        gbc.setState(0x5665, 0x907e, 0xeaf0, 0x41a3, 0xce49, 0x30c6, 0x1, 0x0);
        gbc.writeMem(0x5665, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x907e);
        EXPECT(gbc.pc(), 0x5666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0145
        gbc.setState(0x235c, 0xdb6d, 0x6a90, 0x347, 0xc0f1, 0x6dd0, 0x1, 0x0);
        gbc.writeMem(0x235c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xdb6d);
        EXPECT(gbc.pc(), 0x235d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 0146
        gbc.setState(0x5795, 0x854a, 0xc0, 0x5806, 0x7ea5, 0xfb17, 0x1, 0x0);
        gbc.writeMem(0x5795, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x854a);
        EXPECT(gbc.pc(), 0x5796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0147
        gbc.setState(0x36b1, 0xdd10, 0xa500, 0x88ad, 0x11f2, 0xba2c, 0x0, 0x1);
        gbc.writeMem(0x36b1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xdd10);
        EXPECT(gbc.pc(), 0x36b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0148
        gbc.setState(0xef1c, 0x5f6a, 0xb990, 0xc589, 0x270d, 0x71b, 0x1, 0x1);
        gbc.writeMem(0xef1c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5f6a);
        EXPECT(gbc.pc(), 0xef1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef1c), 0x2d);
        // 2D 0149
        gbc.setState(0x6de7, 0x8d2, 0xe7b0, 0xfd96, 0x4e1f, 0x47af, 0x0, 0x0);
        gbc.writeMem(0x6de7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8d2);
        EXPECT(gbc.pc(), 0x6de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 014A
        gbc.setState(0xebeb, 0x72ee, 0x68e0, 0x304d, 0xefae, 0x696f, 0x0, 0x0);
        gbc.writeMem(0xebeb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x72ee);
        EXPECT(gbc.pc(), 0xebec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebeb), 0x2d);
        // 2D 014B
        gbc.setState(0xda3b, 0x32f1, 0xd2f0, 0xa70e, 0x4813, 0xead5, 0x1, 0x0);
        gbc.writeMem(0xda3b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x32f1);
        EXPECT(gbc.pc(), 0xda3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda3b), 0x2d);
        // 2D 014C
        gbc.setState(0xb983, 0xff0f, 0x1630, 0xcfdf, 0xc184, 0x5180, 0x0, 0x0);
        gbc.writeMem(0xb983, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xff0f);
        EXPECT(gbc.pc(), 0xb984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb983), 0x2d);
        // 2D 014D
        gbc.setState(0xebe5, 0x3f20, 0xd470, 0x3d1b, 0xad54, 0x6f58, 0x1, 0x0);
        gbc.writeMem(0xebe5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3f20);
        EXPECT(gbc.pc(), 0xebe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebe5), 0x2d);
        // 2D 014E
        gbc.setState(0x6d28, 0x63b4, 0xb6e0, 0x4a06, 0x9641, 0xdf85, 0x0, 0x1);
        gbc.writeMem(0x6d28, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x63b4);
        EXPECT(gbc.pc(), 0x6d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 014F
        gbc.setState(0x88ed, 0x8c87, 0x1ec0, 0xdcbe, 0x9ed8, 0xdd0b, 0x1, 0x1);
        gbc.writeMem(0x88ed, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x8c87);
        EXPECT(gbc.pc(), 0x88ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88ed), 0x2d);
        // 2D 0150
        gbc.setState(0xa748, 0x2e0f, 0x8a30, 0x8cd2, 0xda28, 0x831e, 0x0, 0x0);
        gbc.writeMem(0xa748, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x2e0f);
        EXPECT(gbc.pc(), 0xa749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa748), 0x2d);
        // 2D 0151
        gbc.setState(0x606e, 0x1458, 0x74a0, 0x9998, 0x9778, 0x7a3c, 0x1, 0x1);
        gbc.writeMem(0x606e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1458);
        EXPECT(gbc.pc(), 0x606f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0152
        gbc.setState(0xc86, 0x88da, 0xfbd0, 0xe7ec, 0x7dc4, 0xc3c, 0x0, 0x1);
        gbc.writeMem(0xc86, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x88da);
        EXPECT(gbc.pc(), 0xc87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0153
        gbc.setState(0xdc7, 0xfa97, 0xc720, 0xa05e, 0xeee, 0xdf99, 0x1, 0x1);
        gbc.writeMem(0xdc7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfa97);
        EXPECT(gbc.pc(), 0xdc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0154
        gbc.setState(0x180a, 0x1e93, 0x7820, 0x15ac, 0xdd9b, 0xb716, 0x0, 0x1);
        gbc.writeMem(0x180a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1e93);
        EXPECT(gbc.pc(), 0x180b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0155
        gbc.setState(0x3b7d, 0xe0e7, 0xd970, 0x823f, 0x80b, 0x64bb, 0x0, 0x1);
        gbc.writeMem(0x3b7d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xe0e7);
        EXPECT(gbc.pc(), 0x3b7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0156
        gbc.setState(0x5a9f, 0x9dcd, 0x5640, 0xf251, 0x3519, 0x4c65, 0x1, 0x0);
        gbc.writeMem(0x5a9f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9dcd);
        EXPECT(gbc.pc(), 0x5aa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0157
        gbc.setState(0xd67, 0x7093, 0x4310, 0xe6f2, 0x94ec, 0x2ba4, 0x0, 0x0);
        gbc.writeMem(0xd67, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7093);
        EXPECT(gbc.pc(), 0xd68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0158
        gbc.setState(0x91e4, 0x791c, 0x2c10, 0x306, 0xf72, 0x39ed, 0x1, 0x1);
        gbc.writeMem(0x91e4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x791c);
        EXPECT(gbc.pc(), 0x91e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91e4), 0x2d);
        // 2D 0159
        gbc.setState(0x6224, 0x28ed, 0xf1f0, 0xd184, 0x4a62, 0x9ab0, 0x1, 0x1);
        gbc.writeMem(0x6224, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x28ed);
        EXPECT(gbc.pc(), 0x6225);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 015A
        gbc.setState(0x8d20, 0x6135, 0x8bd0, 0x653e, 0xf9c7, 0x88a7, 0x1, 0x1);
        gbc.writeMem(0x8d20, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6135);
        EXPECT(gbc.pc(), 0x8d21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d20), 0x2d);
        // 2D 015B
        gbc.setState(0xb856, 0x4e52, 0x3340, 0x3c60, 0xfc2d, 0xbb45, 0x0, 0x0);
        gbc.writeMem(0xb856, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x4e52);
        EXPECT(gbc.pc(), 0xb857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb856), 0x2d);
        // 2D 015C
        gbc.setState(0x792d, 0x16cd, 0xcc60, 0x8d94, 0xce34, 0x68f, 0x1, 0x1);
        gbc.writeMem(0x792d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x16cd);
        EXPECT(gbc.pc(), 0x792e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 015D
        gbc.setState(0xd495, 0x861e, 0x9e60, 0x4271, 0x944f, 0x45da, 0x0, 0x0);
        gbc.writeMem(0xd495, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x861e);
        EXPECT(gbc.pc(), 0xd496);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd495), 0x2d);
        // 2D 015E
        gbc.setState(0xb803, 0xd4d5, 0xe900, 0x4323, 0x7208, 0xd4cb, 0x1, 0x0);
        gbc.writeMem(0xb803, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd4d5);
        EXPECT(gbc.pc(), 0xb804);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb803), 0x2d);
        // 2D 015F
        gbc.setState(0xcd0d, 0x6bac, 0x8110, 0x47de, 0xd67d, 0xfb45, 0x0, 0x1);
        gbc.writeMem(0xcd0d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6bac);
        EXPECT(gbc.pc(), 0xcd0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd0d), 0x2d);
        // 2D 0160
        gbc.setState(0x2192, 0x69, 0xba60, 0xa5b5, 0xbdec, 0xbd9d, 0x0, 0x0);
        gbc.writeMem(0x2192, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x69);
        EXPECT(gbc.pc(), 0x2193);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0161
        gbc.setState(0xa42f, 0x931e, 0x5f20, 0xd5a0, 0xa80d, 0x892f, 0x0, 0x1);
        gbc.writeMem(0xa42f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x931e);
        EXPECT(gbc.pc(), 0xa430);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa42f), 0x2d);
        // 2D 0162
        gbc.setState(0x6de5, 0x36a0, 0x2cc0, 0x80eb, 0xb68f, 0xdaf8, 0x0, 0x1);
        gbc.writeMem(0x6de5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x36a0);
        EXPECT(gbc.pc(), 0x6de6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0163
        gbc.setState(0xbbb7, 0x9638, 0xcb00, 0xe723, 0x2781, 0x850b, 0x0, 0x0);
        gbc.writeMem(0xbbb7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9638);
        EXPECT(gbc.pc(), 0xbbb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbb7), 0x2d);
        // 2D 0164
        gbc.setState(0x5ab2, 0xa779, 0x23f0, 0x45ef, 0x5743, 0x7b7d, 0x1, 0x0);
        gbc.writeMem(0x5ab2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa779);
        EXPECT(gbc.pc(), 0x5ab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0165
        gbc.setState(0x76e5, 0x4da7, 0x7430, 0x114d, 0x4e51, 0x2543, 0x1, 0x0);
        gbc.writeMem(0x76e5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x4da7);
        EXPECT(gbc.pc(), 0x76e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0166
        gbc.setState(0x473f, 0x8022, 0xa3f0, 0xf163, 0xbc60, 0x5a30, 0x0, 0x1);
        gbc.writeMem(0x473f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8022);
        EXPECT(gbc.pc(), 0x4740);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 0167
        gbc.setState(0x1edc, 0xda25, 0x7430, 0x661e, 0x7150, 0xa64f, 0x0, 0x0);
        gbc.writeMem(0x1edc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xda25);
        EXPECT(gbc.pc(), 0x1edd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0168
        gbc.setState(0x6ae6, 0x9bbb, 0xf480, 0xe79e, 0xc860, 0xf34, 0x0, 0x1);
        gbc.writeMem(0x6ae6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x9bbb);
        EXPECT(gbc.pc(), 0x6ae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0169
        gbc.setState(0x9a6c, 0x9772, 0x3bd0, 0x6240, 0xef3f, 0xa106, 0x0, 0x0);
        gbc.writeMem(0x9a6c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9772);
        EXPECT(gbc.pc(), 0x9a6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a6c), 0x2d);
        // 2D 016A
        gbc.setState(0x39c4, 0x222e, 0x3610, 0x6bd3, 0x2ef, 0xf204, 0x0, 0x0);
        gbc.writeMem(0x39c4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x222e);
        EXPECT(gbc.pc(), 0x39c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 016B
        gbc.setState(0x42db, 0xb251, 0x79b0, 0x2976, 0xadd3, 0x9884, 0x0, 0x0);
        gbc.writeMem(0x42db, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb251);
        EXPECT(gbc.pc(), 0x42dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 016C
        gbc.setState(0x53, 0x8c78, 0x2b10, 0xc04b, 0x63a3, 0x7c08, 0x1, 0x0);
        gbc.writeMem(0x53, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8c78);
        EXPECT(gbc.pc(), 0x54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 016D
        gbc.setState(0xa5c4, 0xc808, 0xc4b0, 0xbf51, 0x88a0, 0xdc71, 0x1, 0x1);
        gbc.writeMem(0xa5c4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc808);
        EXPECT(gbc.pc(), 0xa5c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5c4), 0x2d);
        // 2D 016E
        gbc.setState(0x1471, 0xc3a8, 0x1ce0, 0x4881, 0x5db3, 0x9ab6, 0x1, 0x1);
        gbc.writeMem(0x1471, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc3a8);
        EXPECT(gbc.pc(), 0x1472);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 016F
        gbc.setState(0xaef1, 0x9478, 0x6560, 0xbf0a, 0x3e61, 0xc522, 0x0, 0x0);
        gbc.writeMem(0xaef1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9478);
        EXPECT(gbc.pc(), 0xaef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaef1), 0x2d);
        // 2D 0170
        gbc.setState(0x7943, 0xde59, 0x8550, 0x2d45, 0xdece, 0x4e42, 0x1, 0x1);
        gbc.writeMem(0x7943, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xde59);
        EXPECT(gbc.pc(), 0x7944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0171
        gbc.setState(0x1e96, 0xbeea, 0x5d80, 0x692, 0x11e8, 0x3137, 0x1, 0x1);
        gbc.writeMem(0x1e96, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xbeea);
        EXPECT(gbc.pc(), 0x1e97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0172
        gbc.setState(0xd739, 0x1d8f, 0xbe60, 0xa9e9, 0xfdd, 0x835e, 0x1, 0x0);
        gbc.writeMem(0xd739, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1d8f);
        EXPECT(gbc.pc(), 0xd73a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd739), 0x2d);
        // 2D 0173
        gbc.setState(0x81aa, 0x24f, 0xddb0, 0x5c00, 0x35b8, 0xecca, 0x1, 0x0);
        gbc.writeMem(0x81aa, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x24f);
        EXPECT(gbc.pc(), 0x81ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81aa), 0x2d);
        // 2D 0174
        gbc.setState(0x45ac, 0xeb5a, 0xe7e0, 0x2ea, 0x244b, 0x8669, 0x1, 0x0);
        gbc.writeMem(0x45ac, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xeb5a);
        EXPECT(gbc.pc(), 0x45ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0175
        gbc.setState(0x677a, 0xd5dd, 0xa830, 0xbe29, 0xf4ca, 0xc6a1, 0x1, 0x0);
        gbc.writeMem(0x677a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd5dd);
        EXPECT(gbc.pc(), 0x677b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0176
        gbc.setState(0xc6a8, 0x50cd, 0x2e00, 0x12ff, 0xfe1f, 0xb87a, 0x0, 0x1);
        gbc.writeMem(0xc6a8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x50cd);
        EXPECT(gbc.pc(), 0xc6a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a8), 0x2d);
        // 2D 0177
        gbc.setState(0x457a, 0x66ac, 0x1c90, 0xf20a, 0x327f, 0x5826, 0x0, 0x1);
        gbc.writeMem(0x457a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x66ac);
        EXPECT(gbc.pc(), 0x457b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0178
        gbc.setState(0xa4f6, 0x2bd, 0xe0a0, 0x8ce6, 0x4324, 0x25d6, 0x1, 0x1);
        gbc.writeMem(0xa4f6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2bd);
        EXPECT(gbc.pc(), 0xa4f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f6), 0x2d);
        // 2D 0179
        gbc.setState(0x9ca1, 0x92fa, 0xec80, 0x2ee, 0xe6b7, 0xb694, 0x0, 0x1);
        gbc.writeMem(0x9ca1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x92fa);
        EXPECT(gbc.pc(), 0x9ca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ca1), 0x2d);
        // 2D 017A
        gbc.setState(0xd5cc, 0xeaa7, 0x3dc0, 0x8f44, 0x4bf2, 0xeeb1, 0x0, 0x1);
        gbc.writeMem(0xd5cc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xeaa7);
        EXPECT(gbc.pc(), 0xd5cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5cc), 0x2d);
        // 2D 017B
        gbc.setState(0xc916, 0x5c45, 0x9ef0, 0xe54c, 0x7bc6, 0xcaef, 0x0, 0x0);
        gbc.writeMem(0xc916, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5c45);
        EXPECT(gbc.pc(), 0xc917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc916), 0x2d);
        // 2D 017C
        gbc.setState(0x73f7, 0xf943, 0x8900, 0x9334, 0x6b19, 0xc7ef, 0x1, 0x0);
        gbc.writeMem(0x73f7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf943);
        EXPECT(gbc.pc(), 0x73f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 017D
        gbc.setState(0x7596, 0x9ec2, 0x4270, 0x9eb9, 0x4926, 0x331d, 0x1, 0x1);
        gbc.writeMem(0x7596, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9ec2);
        EXPECT(gbc.pc(), 0x7597);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 017E
        gbc.setState(0x9e2c, 0xe981, 0xb6a0, 0x1bae, 0x3ab0, 0x3ac6, 0x0, 0x1);
        gbc.writeMem(0x9e2c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe981);
        EXPECT(gbc.pc(), 0x9e2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e2c), 0x2d);
        // 2D 017F
        gbc.setState(0x4fc0, 0x67f0, 0x1260, 0xa487, 0x1b7a, 0xb828, 0x1, 0x1);
        gbc.writeMem(0x4fc0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x67f0);
        EXPECT(gbc.pc(), 0x4fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0180
        gbc.setState(0xe7a3, 0xcc6f, 0x2b0, 0x4613, 0x90ef, 0xb3b2, 0x1, 0x1);
        gbc.writeMem(0xe7a3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xcc6f);
        EXPECT(gbc.pc(), 0xe7a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7a3), 0x2d);
        // 2D 0181
        gbc.setState(0x40a5, 0xab09, 0x4500, 0x67c6, 0xe1a4, 0x6b57, 0x1, 0x0);
        gbc.writeMem(0x40a5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xab09);
        EXPECT(gbc.pc(), 0x40a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0182
        gbc.setState(0x5a65, 0xbc7f, 0xfe90, 0x55d4, 0x3d7b, 0x12e8, 0x1, 0x0);
        gbc.writeMem(0x5a65, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xbc7f);
        EXPECT(gbc.pc(), 0x5a66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0183
        gbc.setState(0xab44, 0x5e44, 0xc5b0, 0x7e32, 0x3720, 0xea69, 0x1, 0x1);
        gbc.writeMem(0xab44, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5e44);
        EXPECT(gbc.pc(), 0xab45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab44), 0x2d);
        // 2D 0184
        gbc.setState(0xe1ab, 0x69de, 0x98e0, 0xf089, 0x791b, 0xb83e, 0x1, 0x0);
        gbc.writeMem(0xe1ab, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x69de);
        EXPECT(gbc.pc(), 0xe1ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ab), 0x2d);
        // 2D 0185
        gbc.setState(0x63cf, 0xf59c, 0x4a10, 0xbf78, 0xe303, 0x7da4, 0x1, 0x0);
        gbc.writeMem(0x63cf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf59c);
        EXPECT(gbc.pc(), 0x63d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0186
        gbc.setState(0xd78a, 0x17e1, 0x5dd0, 0x4b9a, 0x1fc2, 0xccc7, 0x1, 0x1);
        gbc.writeMem(0xd78a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x17e1);
        EXPECT(gbc.pc(), 0xd78b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd78a), 0x2d);
        // 2D 0187
        gbc.setState(0xdab7, 0xd61, 0xac90, 0x586a, 0x8ac4, 0xce3d, 0x1, 0x0);
        gbc.writeMem(0xdab7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd61);
        EXPECT(gbc.pc(), 0xdab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab7), 0x2d);
        // 2D 0188
        gbc.setState(0xbeba, 0x9364, 0xbc70, 0x9663, 0x8cbe, 0xea45, 0x0, 0x1);
        gbc.writeMem(0xbeba, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9364);
        EXPECT(gbc.pc(), 0xbebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeba), 0x2d);
        // 2D 0189
        gbc.setState(0x4c88, 0xd411, 0xf9f0, 0xe7da, 0x2c74, 0xe68f, 0x1, 0x1);
        gbc.writeMem(0x4c88, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd411);
        EXPECT(gbc.pc(), 0x4c89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 018A
        gbc.setState(0x147d, 0x6e17, 0x1280, 0x9da6, 0x2dc9, 0x833e, 0x1, 0x0);
        gbc.writeMem(0x147d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6e17);
        EXPECT(gbc.pc(), 0x147e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 018B
        gbc.setState(0xe853, 0x3bee, 0xcee0, 0x1c04, 0x69dc, 0xc37f, 0x1, 0x0);
        gbc.writeMem(0xe853, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3bee);
        EXPECT(gbc.pc(), 0xe854);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe853), 0x2d);
        // 2D 018C
        gbc.setState(0xa900, 0xdd69, 0x7b60, 0x4637, 0x98d9, 0x9a2a, 0x0, 0x1);
        gbc.writeMem(0xa900, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xdd69);
        EXPECT(gbc.pc(), 0xa901);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa900), 0x2d);
        // 2D 018D
        gbc.setState(0x29f3, 0x19c4, 0xfbb0, 0xa1bc, 0xaa35, 0xfb65, 0x0, 0x1);
        gbc.writeMem(0x29f3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x19c4);
        EXPECT(gbc.pc(), 0x29f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 018E
        gbc.setState(0xdae9, 0x1f9f, 0x12a0, 0x2a20, 0x1cc5, 0xcccd, 0x0, 0x1);
        gbc.writeMem(0xdae9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x1f9f);
        EXPECT(gbc.pc(), 0xdaea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae9), 0x2d);
        // 2D 018F
        gbc.setState(0x6ac9, 0x5cb0, 0x3ee0, 0xf80e, 0x38c7, 0xb046, 0x1, 0x1);
        gbc.writeMem(0x6ac9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5cb0);
        EXPECT(gbc.pc(), 0x6aca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0190
        gbc.setState(0xd915, 0x3009, 0x87f0, 0xc14d, 0xfc12, 0x8054, 0x0, 0x0);
        gbc.writeMem(0xd915, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3009);
        EXPECT(gbc.pc(), 0xd916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd915), 0x2d);
        // 2D 0191
        gbc.setState(0xa5ec, 0xf11f, 0x7f30, 0x9341, 0x21c3, 0x17cb, 0x0, 0x0);
        gbc.writeMem(0xa5ec, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf11f);
        EXPECT(gbc.pc(), 0xa5ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5ec), 0x2d);
        // 2D 0192
        gbc.setState(0x9b32, 0x342a, 0xf0f0, 0xb932, 0xf4ba, 0xacbb, 0x1, 0x1);
        gbc.writeMem(0x9b32, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x342a);
        EXPECT(gbc.pc(), 0x9b33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b32), 0x2d);
        // 2D 0193
        gbc.setState(0xb55d, 0xc6a8, 0x26a0, 0x9f14, 0xb352, 0x15c9, 0x1, 0x1);
        gbc.writeMem(0xb55d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xc6a8);
        EXPECT(gbc.pc(), 0xb55e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb55d), 0x2d);
        // 2D 0194
        gbc.setState(0xe864, 0xea8, 0xdcf0, 0x45cb, 0xe665, 0x27ee, 0x0, 0x1);
        gbc.writeMem(0xe864, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xea8);
        EXPECT(gbc.pc(), 0xe865);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe864), 0x2d);
        // 2D 0195
        gbc.setState(0x1ece, 0x8fef, 0x2a50, 0x49a9, 0x57dc, 0xfddd, 0x0, 0x0);
        gbc.writeMem(0x1ece, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8fef);
        EXPECT(gbc.pc(), 0x1ecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0196
        gbc.setState(0x3adf, 0xbae6, 0x6ad0, 0x7852, 0x5697, 0x2593, 0x0, 0x0);
        gbc.writeMem(0x3adf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbae6);
        EXPECT(gbc.pc(), 0x3ae0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0197
        gbc.setState(0x82a1, 0xb8fa, 0xa3a0, 0x66f, 0xda49, 0xd175, 0x0, 0x1);
        gbc.writeMem(0x82a1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb8fa);
        EXPECT(gbc.pc(), 0x82a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a1), 0x2d);
        // 2D 0198
        gbc.setState(0x21b8, 0xefaa, 0x10c0, 0xec37, 0xd90, 0xb82d, 0x0, 0x0);
        gbc.writeMem(0x21b8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xefaa);
        EXPECT(gbc.pc(), 0x21b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0199
        gbc.setState(0xa242, 0x6291, 0x9be0, 0xc202, 0xa31c, 0xf5e1, 0x0, 0x0);
        gbc.writeMem(0xa242, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6291);
        EXPECT(gbc.pc(), 0xa243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa242), 0x2d);
        // 2D 019A
        gbc.setState(0xcc04, 0xd81a, 0x91f0, 0x2857, 0x9e7c, 0xccb8, 0x1, 0x1);
        gbc.writeMem(0xcc04, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xd81a);
        EXPECT(gbc.pc(), 0xcc05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc04), 0x2d);
        // 2D 019B
        gbc.setState(0x1e11, 0x65cf, 0xc8e0, 0xb7fb, 0xace3, 0x2319, 0x1, 0x1);
        gbc.writeMem(0x1e11, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x65cf);
        EXPECT(gbc.pc(), 0x1e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 019C
        gbc.setState(0xb9d5, 0x2c97, 0x1c30, 0x53c9, 0xf8e8, 0x3f60, 0x0, 0x1);
        gbc.writeMem(0xb9d5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2c97);
        EXPECT(gbc.pc(), 0xb9d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9d5), 0x2d);
        // 2D 019D
        gbc.setState(0x6fdb, 0x35aa, 0x8800, 0x1b4c, 0x6dec, 0x2ed2, 0x0, 0x1);
        gbc.writeMem(0x6fdb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x35aa);
        EXPECT(gbc.pc(), 0x6fdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 019F
        gbc.setState(0x4a90, 0x2b9, 0x2020, 0x5cf8, 0x4d7f, 0x1608, 0x1, 0x0);
        gbc.writeMem(0x4a90, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2b9);
        EXPECT(gbc.pc(), 0x4a91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01A0
        gbc.setState(0x6388, 0x85e, 0x8110, 0xe507, 0xe43a, 0xc4b4, 0x0, 0x1);
        gbc.writeMem(0x6388, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x85e);
        EXPECT(gbc.pc(), 0x6389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01A1
        gbc.setState(0xcd8f, 0x4b72, 0x15d0, 0x51f1, 0xbf20, 0xb901, 0x1, 0x0);
        gbc.writeMem(0xcd8f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4b72);
        EXPECT(gbc.pc(), 0xcd90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd8f), 0x2d);
        // 2D 01A2
        gbc.setState(0x7cde, 0x481e, 0x8670, 0x9e9f, 0xf63f, 0xd5eb, 0x0, 0x0);
        gbc.writeMem(0x7cde, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x481e);
        EXPECT(gbc.pc(), 0x7cdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01A3
        gbc.setState(0x4c45, 0x58c3, 0xd2c0, 0x1129, 0x7d85, 0x710e, 0x1, 0x0);
        gbc.writeMem(0x4c45, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x58c3);
        EXPECT(gbc.pc(), 0x4c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01A4
        gbc.setState(0x9008, 0x398, 0xf760, 0xd7da, 0x2c4a, 0xd31b, 0x1, 0x1);
        gbc.writeMem(0x9008, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x398);
        EXPECT(gbc.pc(), 0x9009);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9008), 0x2d);
        // 2D 01A5
        gbc.setState(0x7210, 0x28ff, 0xe820, 0x25a5, 0x6dda, 0xf493, 0x1, 0x1);
        gbc.writeMem(0x7210, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x28ff);
        EXPECT(gbc.pc(), 0x7211);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01A6
        gbc.setState(0x8159, 0x1c71, 0x1a20, 0x2690, 0x1f25, 0xabc6, 0x1, 0x1);
        gbc.writeMem(0x8159, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x1c71);
        EXPECT(gbc.pc(), 0x815a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8159), 0x2d);
        // 2D 01A7
        gbc.setState(0x5cb5, 0x3ef9, 0x2e60, 0x1dd0, 0xcfc5, 0x58ae, 0x0, 0x1);
        gbc.writeMem(0x5cb5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3ef9);
        EXPECT(gbc.pc(), 0x5cb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01A8
        gbc.setState(0x3aa0, 0x3bc9, 0x4520, 0x930a, 0xccc4, 0x52f0, 0x0, 0x1);
        gbc.writeMem(0x3aa0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3bc9);
        EXPECT(gbc.pc(), 0x3aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 01A9
        gbc.setState(0xdb14, 0x631a, 0xc4e0, 0x1bf9, 0x5cc8, 0x74e0, 0x0, 0x1);
        gbc.writeMem(0xdb14, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x631a);
        EXPECT(gbc.pc(), 0xdb15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb14), 0x2d);
        // 2D 01AA
        gbc.setState(0x67f9, 0x1d19, 0xcac0, 0x58f5, 0xcfa6, 0x41a7, 0x1, 0x0);
        gbc.writeMem(0x67f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1d19);
        EXPECT(gbc.pc(), 0x67fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01AB
        gbc.setState(0x8998, 0x6435, 0x8a10, 0x881c, 0x602b, 0x9b50, 0x0, 0x0);
        gbc.writeMem(0x8998, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6435);
        EXPECT(gbc.pc(), 0x8999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8998), 0x2d);
        // 2D 01AC
        gbc.setState(0xe2b8, 0xe290, 0x8230, 0xcd17, 0x4380, 0x3309, 0x0, 0x0);
        gbc.writeMem(0xe2b8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe290);
        EXPECT(gbc.pc(), 0xe2b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2b8), 0x2d);
        // 2D 01AD
        gbc.setState(0xafab, 0xf3ad, 0x78a0, 0x6293, 0x84c0, 0x24f1, 0x0, 0x0);
        gbc.writeMem(0xafab, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xf3ad);
        EXPECT(gbc.pc(), 0xafac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafab), 0x2d);
        // 2D 01AE
        gbc.setState(0x15ae, 0x6259, 0xc9d0, 0x7c1f, 0x85f8, 0xee81, 0x0, 0x0);
        gbc.writeMem(0x15ae, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6259);
        EXPECT(gbc.pc(), 0x15af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01AF
        gbc.setState(0x95cc, 0xf0cf, 0x86b0, 0x7c9b, 0xbb37, 0xb8ff, 0x1, 0x1);
        gbc.writeMem(0x95cc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xf0cf);
        EXPECT(gbc.pc(), 0x95cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95cc), 0x2d);
        // 2D 01B0
        gbc.setState(0x21ed, 0x9dbf, 0x4310, 0x7803, 0x5932, 0xed4, 0x0, 0x0);
        gbc.writeMem(0x21ed, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9dbf);
        EXPECT(gbc.pc(), 0x21ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01B1
        gbc.setState(0xe786, 0xbd1b, 0x5f30, 0x1c17, 0x942, 0x7677, 0x1, 0x1);
        gbc.writeMem(0xe786, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xbd1b);
        EXPECT(gbc.pc(), 0xe787);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe786), 0x2d);
        // 2D 01B3
        gbc.setState(0x2c64, 0x7f44, 0xa870, 0x4f1a, 0x21d6, 0x75a6, 0x0, 0x0);
        gbc.writeMem(0x2c64, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7f44);
        EXPECT(gbc.pc(), 0x2c65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01B4
        gbc.setState(0x4bb3, 0xbfdd, 0xda0, 0xb3b2, 0x45ef, 0x8b60, 0x1, 0x1);
        gbc.writeMem(0x4bb3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbfdd);
        EXPECT(gbc.pc(), 0x4bb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 01B5
        gbc.setState(0x990c, 0xfcc8, 0x3730, 0x7c14, 0xc18a, 0x38e9, 0x0, 0x1);
        gbc.writeMem(0x990c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfcc8);
        EXPECT(gbc.pc(), 0x990d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x990c), 0x2d);
        // 2D 01B6
        gbc.setState(0xc88e, 0xc5c2, 0x2f10, 0xc9e1, 0xc1fa, 0x3578, 0x1, 0x1);
        gbc.writeMem(0xc88e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc5c2);
        EXPECT(gbc.pc(), 0xc88f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc88e), 0x2d);
        // 2D 01B7
        gbc.setState(0xc5b1, 0x2796, 0x89a0, 0x6368, 0x3dab, 0x6412, 0x1, 0x0);
        gbc.writeMem(0xc5b1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2796);
        EXPECT(gbc.pc(), 0xc5b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5b1), 0x2d);
        // 2D 01B8
        gbc.setState(0xd060, 0x613d, 0x2e60, 0xaee7, 0x9fbc, 0x2c62, 0x0, 0x0);
        gbc.writeMem(0xd060, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x613d);
        EXPECT(gbc.pc(), 0xd061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd060), 0x2d);
        // 2D 01B9
        gbc.setState(0x2452, 0xce8, 0xc320, 0x832d, 0x3bb0, 0xaf57, 0x0, 0x1);
        gbc.writeMem(0x2452, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xce8);
        EXPECT(gbc.pc(), 0x2453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01BA
        gbc.setState(0x4b40, 0x641, 0xfbe0, 0x6db7, 0x9285, 0xe8f9, 0x0, 0x0);
        gbc.writeMem(0x4b40, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x641);
        EXPECT(gbc.pc(), 0x4b41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01BB
        gbc.setState(0xa4e5, 0x5051, 0x5be0, 0x8931, 0xbc92, 0x8cc3, 0x0, 0x1);
        gbc.writeMem(0xa4e5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5051);
        EXPECT(gbc.pc(), 0xa4e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e5), 0x2d);
        // 2D 01BC
        gbc.setState(0x8d92, 0xf807, 0x7d40, 0xfa4d, 0xa8ab, 0x686a, 0x1, 0x0);
        gbc.writeMem(0x8d92, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xf807);
        EXPECT(gbc.pc(), 0x8d93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d92), 0x2d);
        // 2D 01BE
        gbc.setState(0x585f, 0xc27c, 0xf360, 0x6737, 0x2e2f, 0xbf6a, 0x1, 0x1);
        gbc.writeMem(0x585f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc27c);
        EXPECT(gbc.pc(), 0x5860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01BF
        gbc.setState(0xd3ca, 0x5f8f, 0x2ef0, 0xea29, 0x7bfd, 0x4310, 0x0, 0x1);
        gbc.writeMem(0xd3ca, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5f8f);
        EXPECT(gbc.pc(), 0xd3cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3ca), 0x2d);
        // 2D 01C0
        gbc.setState(0x62c3, 0xb327, 0x2be0, 0x8df9, 0x5855, 0xb613, 0x0, 0x1);
        gbc.writeMem(0x62c3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb327);
        EXPECT(gbc.pc(), 0x62c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01C1
        gbc.setState(0xd5f4, 0xa5de, 0xf0b0, 0x60ab, 0xb16a, 0xa954, 0x0, 0x0);
        gbc.writeMem(0xd5f4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa5de);
        EXPECT(gbc.pc(), 0xd5f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5f4), 0x2d);
        // 2D 01C2
        gbc.setState(0x3fd0, 0xd372, 0x9950, 0x9d67, 0x6ce6, 0x1d52, 0x0, 0x1);
        gbc.writeMem(0x3fd0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd372);
        EXPECT(gbc.pc(), 0x3fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01C3
        gbc.setState(0x8c59, 0xc0fb, 0xa6d0, 0x7945, 0xd1dc, 0xe415, 0x1, 0x0);
        gbc.writeMem(0x8c59, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc0fb);
        EXPECT(gbc.pc(), 0x8c5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c59), 0x2d);
        // 2D 01C4
        gbc.setState(0xdd6d, 0x890c, 0xa2f0, 0x9910, 0x2a0, 0x1514, 0x0, 0x1);
        gbc.writeMem(0xdd6d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x890c);
        EXPECT(gbc.pc(), 0xdd6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd6d), 0x2d);
        // 2D 01C5
        gbc.setState(0xa6a9, 0x749d, 0xa220, 0xac7c, 0x53dc, 0x2a65, 0x0, 0x1);
        gbc.writeMem(0xa6a9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x749d);
        EXPECT(gbc.pc(), 0xa6aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6a9), 0x2d);
        // 2D 01C6
        gbc.setState(0xc24f, 0x3cf5, 0xf7d0, 0x2018, 0x5eca, 0x2a8a, 0x1, 0x1);
        gbc.writeMem(0xc24f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3cf5);
        EXPECT(gbc.pc(), 0xc250);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc24f), 0x2d);
        // 2D 01C7
        gbc.setState(0xe409, 0x3cb0, 0xc00, 0x3761, 0x1ee8, 0x9a35, 0x0, 0x1);
        gbc.writeMem(0xe409, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3cb0);
        EXPECT(gbc.pc(), 0xe40a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe409), 0x2d);
        // 2D 01C8
        gbc.setState(0xef1f, 0x736b, 0x5970, 0x114b, 0x352a, 0xcaf3, 0x1, 0x1);
        gbc.writeMem(0xef1f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x736b);
        EXPECT(gbc.pc(), 0xef20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef1f), 0x2d);
        // 2D 01C9
        gbc.setState(0xb3ca, 0x9da3, 0x8ab0, 0x5a6a, 0xc25f, 0x95c8, 0x0, 0x1);
        gbc.writeMem(0xb3ca, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x9da3);
        EXPECT(gbc.pc(), 0xb3cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ca), 0x2d);
        // 2D 01CA
        gbc.setState(0xbbb9, 0x85e8, 0x4110, 0x92b2, 0x7d62, 0x49e, 0x0, 0x0);
        gbc.writeMem(0xbbb9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x85e8);
        EXPECT(gbc.pc(), 0xbbba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbb9), 0x2d);
        // 2D 01CB
        gbc.setState(0x5688, 0x1107, 0xf210, 0x1be9, 0xdf23, 0xb1ab, 0x0, 0x1);
        gbc.writeMem(0x5688, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1107);
        EXPECT(gbc.pc(), 0x5689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01CC
        gbc.setState(0x9e86, 0xf935, 0x4080, 0x6227, 0x5058, 0x714a, 0x1, 0x1);
        gbc.writeMem(0x9e86, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf935);
        EXPECT(gbc.pc(), 0x9e87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e86), 0x2d);
        // 2D 01CD
        gbc.setState(0x93e5, 0x675e, 0x5270, 0xa6c2, 0x2da1, 0x3a11, 0x1, 0x0);
        gbc.writeMem(0x93e5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x675e);
        EXPECT(gbc.pc(), 0x93e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93e5), 0x2d);
        // 2D 01CE
        gbc.setState(0xb15c, 0x19d7, 0xb720, 0xe9de, 0xa904, 0x73e8, 0x1, 0x0);
        gbc.writeMem(0xb15c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x19d7);
        EXPECT(gbc.pc(), 0xb15d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb15c), 0x2d);
        // 2D 01CF
        gbc.setState(0x21b0, 0x76e9, 0x2750, 0x2ea8, 0x7bca, 0x52f, 0x0, 0x1);
        gbc.writeMem(0x21b0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x76e9);
        EXPECT(gbc.pc(), 0x21b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01D0
        gbc.setState(0x5a70, 0x778, 0x6de0, 0xa5ca, 0xd730, 0x9898, 0x1, 0x0);
        gbc.writeMem(0x5a70, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x778);
        EXPECT(gbc.pc(), 0x5a71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01D1
        gbc.setState(0x4f6e, 0xe6, 0x3670, 0x62f2, 0x8402, 0x7a29, 0x1, 0x1);
        gbc.writeMem(0x4f6e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe6);
        EXPECT(gbc.pc(), 0x4f6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01D2
        gbc.setState(0x4bdf, 0xe8ad, 0xfc00, 0x3f41, 0xea10, 0x5568, 0x0, 0x0);
        gbc.writeMem(0x4bdf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xe8ad);
        EXPECT(gbc.pc(), 0x4be0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01D3
        gbc.setState(0x3d09, 0xffa, 0x25e0, 0x2bb, 0xf68d, 0xb90a, 0x1, 0x0);
        gbc.writeMem(0x3d09, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xffa);
        EXPECT(gbc.pc(), 0x3d0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01D4
        gbc.setState(0x191d, 0xec74, 0x73c0, 0xe9ad, 0x518f, 0x8e72, 0x1, 0x1);
        gbc.writeMem(0x191d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xec74);
        EXPECT(gbc.pc(), 0x191e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01D5
        gbc.setState(0xece2, 0x955, 0xc7e0, 0x63f6, 0x6cbc, 0x2288, 0x0, 0x0);
        gbc.writeMem(0xece2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x955);
        EXPECT(gbc.pc(), 0xece3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xece2), 0x2d);
        // 2D 01D6
        gbc.setState(0xafe2, 0xb373, 0x6db0, 0xbe61, 0xde0, 0x76ac, 0x0, 0x0);
        gbc.writeMem(0xafe2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb373);
        EXPECT(gbc.pc(), 0xafe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafe2), 0x2d);
        // 2D 01D7
        gbc.setState(0xc2d4, 0xbd80, 0xd950, 0xd5c1, 0xad0, 0x6867, 0x0, 0x1);
        gbc.writeMem(0xc2d4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xbd80);
        EXPECT(gbc.pc(), 0xc2d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2d4), 0x2d);
        // 2D 01D8
        gbc.setState(0xa8fb, 0x5a32, 0xd750, 0x3d94, 0x5826, 0x8b46, 0x1, 0x1);
        gbc.writeMem(0xa8fb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5a32);
        EXPECT(gbc.pc(), 0xa8fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8fb), 0x2d);
        // 2D 01D9
        gbc.setState(0xc981, 0x9566, 0x190, 0x6f54, 0x2c01, 0xe07a, 0x1, 0x1);
        gbc.writeMem(0xc981, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9566);
        EXPECT(gbc.pc(), 0xc982);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc981), 0x2d);
        // 2D 01DA
        gbc.setState(0x6b4, 0xa12e, 0xfd20, 0xb55c, 0x2b21, 0xd8a7, 0x1, 0x0);
        gbc.writeMem(0x6b4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa12e);
        EXPECT(gbc.pc(), 0x6b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01DB
        gbc.setState(0x50de, 0x7538, 0x4f50, 0x5ce9, 0x23c, 0x25d7, 0x1, 0x1);
        gbc.writeMem(0x50de, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7538);
        EXPECT(gbc.pc(), 0x50df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01DC
        gbc.setState(0x68da, 0xe6a3, 0x5b00, 0x5900, 0x1f28, 0x422e, 0x1, 0x0);
        gbc.writeMem(0x68da, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe6a3);
        EXPECT(gbc.pc(), 0x68db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01DD
        gbc.setState(0x80d9, 0x3165, 0x1f90, 0x3c66, 0x7980, 0x6ea9, 0x0, 0x1);
        gbc.writeMem(0x80d9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3165);
        EXPECT(gbc.pc(), 0x80da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80d9), 0x2d);
        // 2D 01DE
        gbc.setState(0x8e97, 0xb5f1, 0xa650, 0x1867, 0x4f7e, 0x5e4, 0x0, 0x0);
        gbc.writeMem(0x8e97, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb5f1);
        EXPECT(gbc.pc(), 0x8e98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e97), 0x2d);
        // 2D 01DF
        gbc.setState(0xca5, 0x5e74, 0xf2a0, 0x22ce, 0x4eda, 0xf83c, 0x1, 0x1);
        gbc.writeMem(0xca5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x5e74);
        EXPECT(gbc.pc(), 0xca6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01E0
        gbc.setState(0xb8e2, 0x7af6, 0x4d20, 0xbd6d, 0x5bf7, 0xf9b0, 0x0, 0x0);
        gbc.writeMem(0xb8e2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x7af6);
        EXPECT(gbc.pc(), 0xb8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e2), 0x2d);
        // 2D 01E1
        gbc.setState(0xba5, 0xabc7, 0xcdc0, 0xcd42, 0x1a4b, 0xb399, 0x0, 0x1);
        gbc.writeMem(0xba5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xabc7);
        EXPECT(gbc.pc(), 0xba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01E2
        gbc.setState(0x9ec6, 0x87de, 0x5ed0, 0xcec9, 0xf461, 0xf09a, 0x0, 0x1);
        gbc.writeMem(0x9ec6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x87de);
        EXPECT(gbc.pc(), 0x9ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec6), 0x2d);
        // 2D 01E3
        gbc.setState(0x5e76, 0x74a1, 0x7fc0, 0x8102, 0x1d60, 0x93ef, 0x0, 0x0);
        gbc.writeMem(0x5e76, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x74a1);
        EXPECT(gbc.pc(), 0x5e77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01E4
        gbc.setState(0xd8f2, 0x93eb, 0x9280, 0x9edf, 0x64d9, 0xcd7a, 0x1, 0x1);
        gbc.writeMem(0xd8f2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x93eb);
        EXPECT(gbc.pc(), 0xd8f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f2), 0x2d);
        // 2D 01E5
        gbc.setState(0x39c3, 0xb077, 0xf2c0, 0xe073, 0x559a, 0x4451, 0x0, 0x1);
        gbc.writeMem(0x39c3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xb077);
        EXPECT(gbc.pc(), 0x39c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01E6
        gbc.setState(0xc357, 0xd1e9, 0x5360, 0xba10, 0xc5fb, 0x96d3, 0x0, 0x1);
        gbc.writeMem(0xc357, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xd1e9);
        EXPECT(gbc.pc(), 0xc358);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc357), 0x2d);
        // 2D 01E7
        gbc.setState(0x4cd, 0xe2a6, 0x9220, 0x55fd, 0x71aa, 0x9b21, 0x0, 0x1);
        gbc.writeMem(0x4cd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe2a6);
        EXPECT(gbc.pc(), 0x4ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01E8
        gbc.setState(0xcb48, 0xa504, 0x4be0, 0x3621, 0xfbbe, 0xecf1, 0x1, 0x1);
        gbc.writeMem(0xcb48, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa504);
        EXPECT(gbc.pc(), 0xcb49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb48), 0x2d);
        // 2D 01E9
        gbc.setState(0x4cff, 0xd234, 0x87b0, 0xd46c, 0xa88d, 0xd7f1, 0x1, 0x0);
        gbc.writeMem(0x4cff, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd234);
        EXPECT(gbc.pc(), 0x4d00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01EA
        gbc.setState(0x2f15, 0x7742, 0xd600, 0x944a, 0x7536, 0x98e3, 0x0, 0x0);
        gbc.writeMem(0x2f15, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7742);
        EXPECT(gbc.pc(), 0x2f16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01EB
        gbc.setState(0xb4a2, 0x90c0, 0x5bf0, 0x256c, 0x908e, 0xb429, 0x1, 0x0);
        gbc.writeMem(0xb4a2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x90c0);
        EXPECT(gbc.pc(), 0xb4a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4a2), 0x2d);
        // 2D 01EC
        gbc.setState(0x2f11, 0x8638, 0x75f0, 0xb705, 0x368, 0x4f25, 0x0, 0x1);
        gbc.writeMem(0x2f11, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8638);
        EXPECT(gbc.pc(), 0x2f12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01ED
        gbc.setState(0x6427, 0xa713, 0xf540, 0x80cc, 0x4880, 0x79bf, 0x1, 0x0);
        gbc.writeMem(0x6427, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa713);
        EXPECT(gbc.pc(), 0x6428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01EE
        gbc.setState(0x194b, 0x74b7, 0x4d90, 0x9349, 0x2b60, 0x6a5a, 0x1, 0x1);
        gbc.writeMem(0x194b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x74b7);
        EXPECT(gbc.pc(), 0x194c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01EF
        gbc.setState(0x7d3d, 0x402, 0xdb90, 0x44cf, 0x52ba, 0x62b, 0x0, 0x0);
        gbc.writeMem(0x7d3d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x402);
        EXPECT(gbc.pc(), 0x7d3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01F0
        gbc.setState(0x7500, 0x1c87, 0x84a0, 0xac99, 0x5950, 0x54d6, 0x1, 0x0);
        gbc.writeMem(0x7500, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1c87);
        EXPECT(gbc.pc(), 0x7501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01F1
        gbc.setState(0x2c6b, 0xb493, 0x53f0, 0xc5d6, 0x6cf9, 0x16b3, 0x1, 0x1);
        gbc.writeMem(0x2c6b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb493);
        EXPECT(gbc.pc(), 0x2c6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01F2
        gbc.setState(0xe78, 0x15d, 0x40e0, 0xe451, 0xb3be, 0x4f5b, 0x1, 0x1);
        gbc.writeMem(0xe78, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x15d);
        EXPECT(gbc.pc(), 0xe79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01F3
        gbc.setState(0x1dd5, 0x8dc1, 0x4a00, 0x255, 0xf885, 0x23e1, 0x1, 0x0);
        gbc.writeMem(0x1dd5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8dc1);
        EXPECT(gbc.pc(), 0x1dd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01F4
        gbc.setState(0xedc7, 0x8d7e, 0xec0, 0xcd8b, 0x2b8c, 0x727d, 0x1, 0x1);
        gbc.writeMem(0xedc7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8d7e);
        EXPECT(gbc.pc(), 0xedc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedc7), 0x2d);
        // 2D 01F5
        gbc.setState(0x9044, 0x8b92, 0xba30, 0xc98c, 0x1986, 0xd9e2, 0x1, 0x0);
        gbc.writeMem(0x9044, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8b92);
        EXPECT(gbc.pc(), 0x9045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9044), 0x2d);
        // 2D 01F6
        gbc.setState(0x79c0, 0x998f, 0xe1a0, 0x6bb2, 0xbe44, 0x404f, 0x1, 0x1);
        gbc.writeMem(0x79c0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x998f);
        EXPECT(gbc.pc(), 0x79c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 01F7
        gbc.setState(0x3dc1, 0xb43d, 0x8530, 0x27f8, 0x3af8, 0x199d, 0x0, 0x0);
        gbc.writeMem(0x3dc1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb43d);
        EXPECT(gbc.pc(), 0x3dc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01F8
        gbc.setState(0x271b, 0x559a, 0xc830, 0x5aa, 0x679c, 0xdc3f, 0x0, 0x1);
        gbc.writeMem(0x271b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x559a);
        EXPECT(gbc.pc(), 0x271c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01F9
        gbc.setState(0x360a, 0x70af, 0x7a10, 0x791b, 0x190c, 0xac18, 0x0, 0x0);
        gbc.writeMem(0x360a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x70af);
        EXPECT(gbc.pc(), 0x360b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01FA
        gbc.setState(0x9515, 0xe422, 0xc570, 0x7b02, 0x4282, 0xb2cd, 0x1, 0x1);
        gbc.writeMem(0x9515, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe422);
        EXPECT(gbc.pc(), 0x9516);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9515), 0x2d);
        // 2D 01FB
        gbc.setState(0x2f03, 0x20f1, 0xbdf0, 0xfe6f, 0x2ec8, 0x4c53, 0x1, 0x1);
        gbc.writeMem(0x2f03, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x20f1);
        EXPECT(gbc.pc(), 0x2f04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01FC
        gbc.setState(0xb698, 0x5c57, 0x4ae0, 0x6a58, 0xc2f7, 0xc46b, 0x0, 0x0);
        gbc.writeMem(0xb698, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5c57);
        EXPECT(gbc.pc(), 0xb699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb698), 0x2d);
        // 2D 01FD
        gbc.setState(0x6366, 0xed04, 0xcb50, 0x8945, 0xdc8e, 0x4d04, 0x0, 0x1);
        gbc.writeMem(0x6366, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xed04);
        EXPECT(gbc.pc(), 0x6367);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 01FE
        gbc.setState(0xedc3, 0x920f, 0xd690, 0x4db0, 0x833d, 0x5f48, 0x0, 0x0);
        gbc.writeMem(0xedc3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x920f);
        EXPECT(gbc.pc(), 0xedc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc3), 0x2d);
        // 2D 01FF
        gbc.setState(0xc780, 0xb6fb, 0x7620, 0x2943, 0x76ca, 0xba99, 0x0, 0x1);
        gbc.writeMem(0xc780, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb6fb);
        EXPECT(gbc.pc(), 0xc781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc780), 0x2d);
        // 2D 0200
        gbc.setState(0x268e, 0x1dd9, 0x3580, 0xec38, 0xb415, 0xae60, 0x0, 0x0);
        gbc.writeMem(0x268e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1dd9);
        EXPECT(gbc.pc(), 0x268f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0203
        gbc.setState(0xba6b, 0x7181, 0xfd70, 0xa106, 0xcd7b, 0xc037, 0x0, 0x0);
        gbc.writeMem(0xba6b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7181);
        EXPECT(gbc.pc(), 0xba6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba6b), 0x2d);
        // 2D 0204
        gbc.setState(0x8f61, 0x438c, 0xe4f0, 0xdf4, 0x5a32, 0xc6d4, 0x1, 0x1);
        gbc.writeMem(0x8f61, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x438c);
        EXPECT(gbc.pc(), 0x8f62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f61), 0x2d);
        // 2D 0205
        gbc.setState(0x7cc8, 0xa39, 0xb8d0, 0xcc61, 0x49e0, 0x48e, 0x1, 0x1);
        gbc.writeMem(0x7cc8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa39);
        EXPECT(gbc.pc(), 0x7cc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0206
        gbc.setState(0x11e, 0xf2e6, 0x9cc0, 0xd353, 0x490c, 0x68fc, 0x0, 0x0);
        gbc.writeMem(0x11e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xf2e6);
        EXPECT(gbc.pc(), 0x11f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0207
        gbc.setState(0x8a39, 0x7680, 0xe10, 0x8be2, 0x6bdc, 0x9528, 0x1, 0x0);
        gbc.writeMem(0x8a39, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7680);
        EXPECT(gbc.pc(), 0x8a3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a39), 0x2d);
        // 2D 0208
        gbc.setState(0xcd9c, 0x74e9, 0xc250, 0x33b6, 0x5d35, 0xe217, 0x0, 0x1);
        gbc.writeMem(0xcd9c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x74e9);
        EXPECT(gbc.pc(), 0xcd9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd9c), 0x2d);
        // 2D 0209
        gbc.setState(0x6b2d, 0x7963, 0xc3b0, 0xd64c, 0x58a1, 0x72ba, 0x0, 0x0);
        gbc.writeMem(0x6b2d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7963);
        EXPECT(gbc.pc(), 0x6b2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 020A
        gbc.setState(0x9745, 0xc5d4, 0xfe20, 0x825a, 0x50cf, 0xdcd4, 0x0, 0x0);
        gbc.writeMem(0x9745, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc5d4);
        EXPECT(gbc.pc(), 0x9746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9745), 0x2d);
        // 2D 020B
        gbc.setState(0x7cbd, 0x7557, 0x5130, 0x5982, 0x75c0, 0x808a, 0x0, 0x1);
        gbc.writeMem(0x7cbd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x7557);
        EXPECT(gbc.pc(), 0x7cbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 020C
        gbc.setState(0xef6e, 0x9064, 0x140, 0xf895, 0x8af5, 0x2d19, 0x0, 0x0);
        gbc.writeMem(0xef6e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9064);
        EXPECT(gbc.pc(), 0xef6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef6e), 0x2d);
        // 2D 020D
        gbc.setState(0x8fd2, 0xbc, 0x5860, 0x8c82, 0x8a8a, 0x1cea, 0x1, 0x1);
        gbc.writeMem(0x8fd2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbc);
        EXPECT(gbc.pc(), 0x8fd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd2), 0x2d);
        // 2D 020E
        gbc.setState(0x8b3a, 0xe2f5, 0x9600, 0x83d7, 0x2133, 0xf611, 0x1, 0x0);
        gbc.writeMem(0x8b3a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xe2f5);
        EXPECT(gbc.pc(), 0x8b3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b3a), 0x2d);
        // 2D 020F
        gbc.setState(0xa065, 0xd7b1, 0xd6a0, 0xc223, 0x8e91, 0xbab1, 0x0, 0x0);
        gbc.writeMem(0xa065, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd7b1);
        EXPECT(gbc.pc(), 0xa066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa065), 0x2d);
        // 2D 0210
        gbc.setState(0x4c2b, 0x3ed3, 0x940, 0xdc7a, 0x4ac7, 0xf8ff, 0x0, 0x0);
        gbc.writeMem(0x4c2b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x3ed3);
        EXPECT(gbc.pc(), 0x4c2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0211
        gbc.setState(0xb0d3, 0x36fc, 0x7a80, 0x275, 0xd100, 0x2770, 0x0, 0x0);
        gbc.writeMem(0xb0d3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x36fc);
        EXPECT(gbc.pc(), 0xb0d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0d3), 0x2d);
        // 2D 0212
        gbc.setState(0x858f, 0xac0a, 0x7510, 0x7f96, 0x530c, 0xa399, 0x0, 0x0);
        gbc.writeMem(0x858f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xac0a);
        EXPECT(gbc.pc(), 0x8590);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x858f), 0x2d);
        // 2D 0214
        gbc.setState(0x9e9c, 0x301c, 0x18a0, 0x8f48, 0xdb64, 0x4dae, 0x1, 0x1);
        gbc.writeMem(0x9e9c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x301c);
        EXPECT(gbc.pc(), 0x9e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e9c), 0x2d);
        // 2D 0215
        gbc.setState(0x9b3b, 0xb693, 0x1c40, 0xab40, 0xa494, 0x9764, 0x0, 0x1);
        gbc.writeMem(0x9b3b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb693);
        EXPECT(gbc.pc(), 0x9b3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b3b), 0x2d);
        // 2D 0216
        gbc.setState(0x39aa, 0x96d7, 0xf710, 0xe983, 0xbd71, 0xc8e3, 0x0, 0x1);
        gbc.writeMem(0x39aa, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x96d7);
        EXPECT(gbc.pc(), 0x39ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0217
        gbc.setState(0xc55, 0xff83, 0xbeb0, 0xb3c2, 0xb218, 0xc250, 0x1, 0x0);
        gbc.writeMem(0xc55, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xff83);
        EXPECT(gbc.pc(), 0xc56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 0218
        gbc.setState(0x303c, 0x6ff6, 0xcfc0, 0x4acb, 0xc749, 0xdb8c, 0x1, 0x0);
        gbc.writeMem(0x303c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6ff6);
        EXPECT(gbc.pc(), 0x303d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0219
        gbc.setState(0xcc8, 0x6f40, 0xa020, 0xd03d, 0xa849, 0xa2f3, 0x1, 0x1);
        gbc.writeMem(0xcc8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6f40);
        EXPECT(gbc.pc(), 0xcc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 021A
        gbc.setState(0xb49f, 0x6996, 0xd600, 0x3438, 0x808c, 0xb966, 0x0, 0x0);
        gbc.writeMem(0xb49f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x6996);
        EXPECT(gbc.pc(), 0xb4a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb49f), 0x2d);
        // 2D 021B
        gbc.setState(0xdbaf, 0x59bb, 0x34b0, 0x2857, 0x3b17, 0xe0a6, 0x0, 0x0);
        gbc.writeMem(0xdbaf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x59bb);
        EXPECT(gbc.pc(), 0xdbb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbaf), 0x2d);
        // 2D 021C
        gbc.setState(0xa2f9, 0xa999, 0xb3e0, 0x638f, 0xeeb7, 0x9669, 0x1, 0x0);
        gbc.writeMem(0xa2f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xa999);
        EXPECT(gbc.pc(), 0xa2fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2f9), 0x2d);
        // 2D 021D
        gbc.setState(0xe563, 0x9600, 0x7730, 0x9f12, 0x9994, 0x24b2, 0x1, 0x1);
        gbc.writeMem(0xe563, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9600);
        EXPECT(gbc.pc(), 0xe564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe563), 0x2d);
        // 2D 021E
        gbc.setState(0x433d, 0xc043, 0x26e0, 0x71f7, 0x630, 0x22a5, 0x0, 0x1);
        gbc.writeMem(0x433d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc043);
        EXPECT(gbc.pc(), 0x433e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 021F
        gbc.setState(0x833f, 0xa04e, 0xec80, 0x6be, 0xb5d4, 0xe71c, 0x0, 0x1);
        gbc.writeMem(0x833f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa04e);
        EXPECT(gbc.pc(), 0x8340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x833f), 0x2d);
        // 2D 0220
        gbc.setState(0xa955, 0xd3eb, 0xa7c0, 0x7452, 0x3dd, 0xbccc, 0x0, 0x0);
        gbc.writeMem(0xa955, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd3eb);
        EXPECT(gbc.pc(), 0xa956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa955), 0x2d);
        // 2D 0221
        gbc.setState(0x8d14, 0xf4bb, 0xdbc0, 0xeb51, 0x5dba, 0x5905, 0x0, 0x1);
        gbc.writeMem(0x8d14, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xf4bb);
        EXPECT(gbc.pc(), 0x8d15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d14), 0x2d);
        // 2D 0222
        gbc.setState(0xb529, 0xfcd, 0x2410, 0xce21, 0xb0a7, 0xfd65, 0x0, 0x1);
        gbc.writeMem(0xb529, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xfcd);
        EXPECT(gbc.pc(), 0xb52a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb529), 0x2d);
        // 2D 0223
        gbc.setState(0xc335, 0x26fc, 0xc0c0, 0xba0f, 0xe98, 0x23ee, 0x1, 0x0);
        gbc.writeMem(0xc335, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x26fc);
        EXPECT(gbc.pc(), 0xc336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc335), 0x2d);
        // 2D 0224
        gbc.setState(0xcbed, 0x517, 0xe570, 0xafa9, 0x1e97, 0x1b78, 0x1, 0x0);
        gbc.writeMem(0xcbed, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x517);
        EXPECT(gbc.pc(), 0xcbee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbed), 0x2d);
        // 2D 0225
        gbc.setState(0x6a1a, 0xb88d, 0x8370, 0x3984, 0xba77, 0x5885, 0x0, 0x1);
        gbc.writeMem(0x6a1a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb88d);
        EXPECT(gbc.pc(), 0x6a1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0226
        gbc.setState(0x175, 0x7e4c, 0xdcb0, 0xffc2, 0xd0dc, 0x85b4, 0x1, 0x1);
        gbc.writeMem(0x175, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7e4c);
        EXPECT(gbc.pc(), 0x176);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0227
        gbc.setState(0xd7d2, 0x41c9, 0x630, 0x96ac, 0x15da, 0xacca, 0x1, 0x0);
        gbc.writeMem(0xd7d2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x41c9);
        EXPECT(gbc.pc(), 0xd7d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7d2), 0x2d);
        // 2D 0228
        gbc.setState(0x9f84, 0xb242, 0x4d40, 0x3844, 0x7012, 0xf75e, 0x1, 0x1);
        gbc.writeMem(0x9f84, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb242);
        EXPECT(gbc.pc(), 0x9f85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f84), 0x2d);
        // 2D 0229
        gbc.setState(0x4442, 0x2206, 0xe20, 0xeb3a, 0x7751, 0xb66b, 0x1, 0x0);
        gbc.writeMem(0x4442, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2206);
        EXPECT(gbc.pc(), 0x4443);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 022A
        gbc.setState(0x868a, 0x94b2, 0x3cc0, 0x7550, 0x54fd, 0x35c7, 0x0, 0x1);
        gbc.writeMem(0x868a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x94b2);
        EXPECT(gbc.pc(), 0x868b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x868a), 0x2d);
        // 2D 022B
        gbc.setState(0x438f, 0xe44e, 0x6ac0, 0xb511, 0xf349, 0x8303, 0x1, 0x1);
        gbc.writeMem(0x438f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe44e);
        EXPECT(gbc.pc(), 0x4390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 022C
        gbc.setState(0x91b7, 0x8c56, 0xeb30, 0xff60, 0xc13a, 0x25b0, 0x0, 0x0);
        gbc.writeMem(0x91b7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8c56);
        EXPECT(gbc.pc(), 0x91b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91b7), 0x2d);
        // 2D 022D
        gbc.setState(0x9838, 0xbca5, 0xba20, 0x57b7, 0x528e, 0xcad5, 0x1, 0x0);
        gbc.writeMem(0x9838, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbca5);
        EXPECT(gbc.pc(), 0x9839);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9838), 0x2d);
        // 2D 022E
        gbc.setState(0xc052, 0x8acb, 0x90a0, 0x5e49, 0x4091, 0x3108, 0x1, 0x0);
        gbc.writeMem(0xc052, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8acb);
        EXPECT(gbc.pc(), 0xc053);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc052), 0x2d);
        // 2D 022F
        gbc.setState(0x6602, 0x8899, 0xc350, 0xdaff, 0xa9cc, 0x2416, 0x0, 0x0);
        gbc.writeMem(0x6602, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8899);
        EXPECT(gbc.pc(), 0x6603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0230
        gbc.setState(0x2a90, 0x4810, 0x6280, 0x150, 0xd915, 0x1d0c, 0x0, 0x1);
        gbc.writeMem(0x2a90, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x4810);
        EXPECT(gbc.pc(), 0x2a91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0231
        gbc.setState(0x5985, 0x871b, 0x3020, 0x157e, 0xbb55, 0xe7dc, 0x0, 0x0);
        gbc.writeMem(0x5985, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x871b);
        EXPECT(gbc.pc(), 0x5986);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0232
        gbc.setState(0xd78b, 0x5d51, 0x1620, 0x1dea, 0x6f0f, 0xc1ed, 0x0, 0x1);
        gbc.writeMem(0xd78b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5d51);
        EXPECT(gbc.pc(), 0xd78c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd78b), 0x2d);
        // 2D 0233
        gbc.setState(0x6ee8, 0x6a3a, 0x21d0, 0x4213, 0xb3e8, 0x53f1, 0x1, 0x0);
        gbc.writeMem(0x6ee8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6a3a);
        EXPECT(gbc.pc(), 0x6ee9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0234
        gbc.setState(0xc31b, 0x1ce1, 0xab30, 0xbdf3, 0x8463, 0xdbcc, 0x0, 0x1);
        gbc.writeMem(0xc31b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x1ce1);
        EXPECT(gbc.pc(), 0xc31c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc31b), 0x2d);
        // 2D 0235
        gbc.setState(0x8fbb, 0x3130, 0x7c0, 0x2026, 0x21e4, 0x629e, 0x1, 0x1);
        gbc.writeMem(0x8fbb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3130);
        EXPECT(gbc.pc(), 0x8fbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fbb), 0x2d);
        // 2D 0236
        gbc.setState(0x1662, 0xafc7, 0xc2f0, 0xa9fe, 0x99d4, 0x37cc, 0x0, 0x0);
        gbc.writeMem(0x1662, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xafc7);
        EXPECT(gbc.pc(), 0x1663);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0237
        gbc.setState(0x8872, 0xda96, 0xfa60, 0x519a, 0x5b47, 0xfe57, 0x1, 0x1);
        gbc.writeMem(0x8872, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xda96);
        EXPECT(gbc.pc(), 0x8873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8872), 0x2d);
        // 2D 0238
        gbc.setState(0x3853, 0x373, 0x860, 0x7f7f, 0xe6d3, 0x9469, 0x0, 0x1);
        gbc.writeMem(0x3853, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x373);
        EXPECT(gbc.pc(), 0x3854);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0239
        gbc.setState(0x51b, 0xcb57, 0x6290, 0xab72, 0x4111, 0xaa54, 0x1, 0x1);
        gbc.writeMem(0x51b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcb57);
        EXPECT(gbc.pc(), 0x51c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 023A
        gbc.setState(0x23b9, 0xc7c4, 0xae00, 0xe225, 0x5832, 0x8548, 0x1, 0x0);
        gbc.writeMem(0x23b9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xc7c4);
        EXPECT(gbc.pc(), 0x23ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 023B
        gbc.setState(0x9897, 0x2c9c, 0x6c60, 0x73f5, 0x5a17, 0x238, 0x1, 0x1);
        gbc.writeMem(0x9897, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2c9c);
        EXPECT(gbc.pc(), 0x9898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9897), 0x2d);
        // 2D 023C
        gbc.setState(0x1606, 0x6793, 0x1680, 0x2270, 0xa85f, 0xbc8c, 0x0, 0x1);
        gbc.writeMem(0x1606, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6793);
        EXPECT(gbc.pc(), 0x1607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 023D
        gbc.setState(0x18a4, 0xc594, 0x9fb0, 0xd27b, 0xf18a, 0xfe77, 0x1, 0x1);
        gbc.writeMem(0x18a4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc594);
        EXPECT(gbc.pc(), 0x18a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 023E
        gbc.setState(0x7da0, 0x9f9, 0x1430, 0x650a, 0xf3bd, 0xdb70, 0x0, 0x0);
        gbc.writeMem(0x7da0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9f9);
        EXPECT(gbc.pc(), 0x7da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 023F
        gbc.setState(0x51aa, 0x54a5, 0x3d0, 0x2f12, 0x2270, 0xe3e4, 0x0, 0x0);
        gbc.writeMem(0x51aa, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x54a5);
        EXPECT(gbc.pc(), 0x51ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0240
        gbc.setState(0xcf23, 0xd7f7, 0xe110, 0x564e, 0x2419, 0x93e8, 0x1, 0x1);
        gbc.writeMem(0xcf23, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd7f7);
        EXPECT(gbc.pc(), 0xcf24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf23), 0x2d);
        // 2D 0241
        gbc.setState(0x26d4, 0x141f, 0x9130, 0x7a9e, 0x68c2, 0x21d9, 0x0, 0x1);
        gbc.writeMem(0x26d4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x141f);
        EXPECT(gbc.pc(), 0x26d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0242
        gbc.setState(0x54c7, 0x252, 0x72b0, 0xbc2c, 0x11f2, 0x7c71, 0x0, 0x0);
        gbc.writeMem(0x54c7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x252);
        EXPECT(gbc.pc(), 0x54c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0243
        gbc.setState(0xb7b5, 0x435f, 0x53d0, 0x90d6, 0x432f, 0x3cc2, 0x1, 0x1);
        gbc.writeMem(0xb7b5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x435f);
        EXPECT(gbc.pc(), 0xb7b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7b5), 0x2d);
        // 2D 0244
        gbc.setState(0x3563, 0xe19b, 0x2490, 0x6595, 0x8eac, 0xa571, 0x1, 0x0);
        gbc.writeMem(0x3563, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe19b);
        EXPECT(gbc.pc(), 0x3564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0245
        gbc.setState(0x37, 0x354f, 0xcbd0, 0xaf8a, 0x260a, 0x565d, 0x0, 0x1);
        gbc.writeMem(0x37, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x354f);
        EXPECT(gbc.pc(), 0x38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0246
        gbc.setState(0x9bb0, 0x4321, 0x8bd0, 0x7fb1, 0xf182, 0x98a9, 0x1, 0x0);
        gbc.writeMem(0x9bb0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4321);
        EXPECT(gbc.pc(), 0x9bb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bb0), 0x2d);
        // 2D 0247
        gbc.setState(0xe22, 0xe111, 0x38c0, 0x5b71, 0x9caf, 0x56c7, 0x1, 0x1);
        gbc.writeMem(0xe22, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe111);
        EXPECT(gbc.pc(), 0xe23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0248
        gbc.setState(0x97d, 0xf037, 0xfa20, 0x8e1, 0xbad3, 0xb8d, 0x0, 0x1);
        gbc.writeMem(0x97d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf037);
        EXPECT(gbc.pc(), 0x97e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0249
        gbc.setState(0xa91b, 0xbfc6, 0xe220, 0x1c27, 0xaa6a, 0x5bd0, 0x1, 0x0);
        gbc.writeMem(0xa91b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xbfc6);
        EXPECT(gbc.pc(), 0xa91c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa91b), 0x2d);
        // 2D 024B
        gbc.setState(0xf99, 0xa9aa, 0xaed0, 0x7da5, 0xfacf, 0x18fc, 0x1, 0x1);
        gbc.writeMem(0xf99, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa9aa);
        EXPECT(gbc.pc(), 0xf9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 024C
        gbc.setState(0xc4be, 0x2789, 0x64d0, 0xf7e1, 0xf842, 0xbccc, 0x1, 0x1);
        gbc.writeMem(0xc4be, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x2789);
        EXPECT(gbc.pc(), 0xc4bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4be), 0x2d);
        // 2D 024D
        gbc.setState(0xa1e, 0x6790, 0x9550, 0x355f, 0x7f09, 0x4986, 0x1, 0x1);
        gbc.writeMem(0xa1e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6790);
        EXPECT(gbc.pc(), 0xa1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 024E
        gbc.setState(0x44f6, 0x5c55, 0x6ee0, 0x565e, 0xf288, 0x5454, 0x1, 0x0);
        gbc.writeMem(0x44f6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5c55);
        EXPECT(gbc.pc(), 0x44f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 024F
        gbc.setState(0x8812, 0x20a1, 0x7af0, 0x4213, 0x5c32, 0xfd71, 0x1, 0x0);
        gbc.writeMem(0x8812, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x20a1);
        EXPECT(gbc.pc(), 0x8813);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8812), 0x2d);
        // 2D 0250
        gbc.setState(0x195e, 0xbcc7, 0xd070, 0x28a4, 0x347e, 0x5cb5, 0x1, 0x0);
        gbc.writeMem(0x195e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xbcc7);
        EXPECT(gbc.pc(), 0x195f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0251
        gbc.setState(0x19f1, 0x4489, 0xe3c0, 0xaf81, 0xb365, 0xa697, 0x1, 0x0);
        gbc.writeMem(0x19f1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4489);
        EXPECT(gbc.pc(), 0x19f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0252
        gbc.setState(0x6c6c, 0xbf6, 0xdbe0, 0xa8d1, 0xa863, 0xc547, 0x1, 0x1);
        gbc.writeMem(0x6c6c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xbf6);
        EXPECT(gbc.pc(), 0x6c6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0253
        gbc.setState(0x1c35, 0xdfbf, 0x2db0, 0x6458, 0x74f9, 0x4013, 0x0, 0x0);
        gbc.writeMem(0x1c35, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xdfbf);
        EXPECT(gbc.pc(), 0x1c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0254
        gbc.setState(0x32cc, 0x1ca6, 0xa7a0, 0xea15, 0xb043, 0xe9ff, 0x0, 0x0);
        gbc.writeMem(0x32cc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1ca6);
        EXPECT(gbc.pc(), 0x32cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0255
        gbc.setState(0xd401, 0x8ddb, 0x170, 0x693, 0x60a9, 0x15f8, 0x1, 0x0);
        gbc.writeMem(0xd401, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8ddb);
        EXPECT(gbc.pc(), 0xd402);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd401), 0x2d);
        // 2D 0256
        gbc.setState(0xbda8, 0xad5d, 0x7f40, 0x5ee8, 0x63e8, 0xceb, 0x0, 0x0);
        gbc.writeMem(0xbda8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xad5d);
        EXPECT(gbc.pc(), 0xbda9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda8), 0x2d);
        // 2D 0258
        gbc.setState(0xc43d, 0xa6fc, 0x23e0, 0x9b5d, 0xc7ec, 0xd8, 0x0, 0x1);
        gbc.writeMem(0xc43d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa6fc);
        EXPECT(gbc.pc(), 0xc43e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc43d), 0x2d);
        // 2D 0259
        gbc.setState(0xdbd4, 0x5fe1, 0x8270, 0xad08, 0x2b39, 0xf10f, 0x1, 0x1);
        gbc.writeMem(0xdbd4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5fe1);
        EXPECT(gbc.pc(), 0xdbd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbd4), 0x2d);
        // 2D 025A
        gbc.setState(0xa889, 0x7c4b, 0x7a10, 0x651f, 0x4385, 0x3791, 0x1, 0x0);
        gbc.writeMem(0xa889, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7c4b);
        EXPECT(gbc.pc(), 0xa88a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa889), 0x2d);
        // 2D 025B
        gbc.setState(0x572f, 0xb5c9, 0xf830, 0xe23e, 0x3a13, 0x5c15, 0x1, 0x1);
        gbc.writeMem(0x572f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xb5c9);
        EXPECT(gbc.pc(), 0x5730);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 025C
        gbc.setState(0xbb6c, 0x9d6e, 0xd4d0, 0xa52d, 0x796a, 0x49f3, 0x0, 0x1);
        gbc.writeMem(0xbb6c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9d6e);
        EXPECT(gbc.pc(), 0xbb6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb6c), 0x2d);
        // 2D 025D
        gbc.setState(0x9753, 0x4a04, 0x7390, 0xccaf, 0xe7b9, 0x75, 0x1, 0x1);
        gbc.writeMem(0x9753, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x4a04);
        EXPECT(gbc.pc(), 0x9754);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9753), 0x2d);
        // 2D 025E
        gbc.setState(0xdf31, 0xf9f1, 0x5b70, 0xfe47, 0x688e, 0x2978, 0x1, 0x1);
        gbc.writeMem(0xdf31, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf9f1);
        EXPECT(gbc.pc(), 0xdf32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf31), 0x2d);
        // 2D 025F
        gbc.setState(0x5263, 0xfb49, 0x8460, 0xebcd, 0x7b8c, 0x4bd, 0x0, 0x0);
        gbc.writeMem(0x5263, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xfb49);
        EXPECT(gbc.pc(), 0x5264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0260
        gbc.setState(0x4288, 0x9960, 0x2400, 0xd5cd, 0xa307, 0x448e, 0x1, 0x1);
        gbc.writeMem(0x4288, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9960);
        EXPECT(gbc.pc(), 0x4289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0261
        gbc.setState(0xecdf, 0x811e, 0x7fb0, 0xc542, 0x48fa, 0xf877, 0x0, 0x0);
        gbc.writeMem(0xecdf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x811e);
        EXPECT(gbc.pc(), 0xece0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecdf), 0x2d);
        // 2D 0263
        gbc.setState(0x4f7d, 0x453, 0xc140, 0xf92b, 0xe315, 0x595f, 0x1, 0x1);
        gbc.writeMem(0x4f7d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x453);
        EXPECT(gbc.pc(), 0x4f7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0264
        gbc.setState(0x6815, 0xd38a, 0x40c0, 0x4951, 0x45da, 0xfd71, 0x0, 0x0);
        gbc.writeMem(0x6815, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd38a);
        EXPECT(gbc.pc(), 0x6816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0265
        gbc.setState(0x39f4, 0x5da6, 0x69e0, 0x2cfd, 0xb8ec, 0xfd33, 0x0, 0x1);
        gbc.writeMem(0x39f4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5da6);
        EXPECT(gbc.pc(), 0x39f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0266
        gbc.setState(0x4342, 0x884, 0xfb00, 0x3644, 0xb426, 0xdab0, 0x0, 0x0);
        gbc.writeMem(0x4342, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x884);
        EXPECT(gbc.pc(), 0x4343);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0267
        gbc.setState(0x7900, 0x7d10, 0xbba0, 0x5059, 0x362c, 0x55bb, 0x1, 0x0);
        gbc.writeMem(0x7900, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7d10);
        EXPECT(gbc.pc(), 0x7901);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0268
        gbc.setState(0xa617, 0x4969, 0x2d0, 0xc92d, 0x3b62, 0xc35b, 0x0, 0x0);
        gbc.writeMem(0xa617, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4969);
        EXPECT(gbc.pc(), 0xa618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa617), 0x2d);
        // 2D 0269
        gbc.setState(0x7a33, 0xb472, 0x23e0, 0xe326, 0xf89f, 0x57eb, 0x1, 0x1);
        gbc.writeMem(0x7a33, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb472);
        EXPECT(gbc.pc(), 0x7a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 026A
        gbc.setState(0x8dde, 0x1718, 0xb280, 0xfffc, 0x12ed, 0xe90c, 0x1, 0x0);
        gbc.writeMem(0x8dde, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1718);
        EXPECT(gbc.pc(), 0x8ddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dde), 0x2d);
        // 2D 026B
        gbc.setState(0x3446, 0xc876, 0x3ce0, 0x11fe, 0xecf7, 0xf365, 0x1, 0x0);
        gbc.writeMem(0x3446, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc876);
        EXPECT(gbc.pc(), 0x3447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 026C
        gbc.setState(0x7616, 0x1, 0x3ce0, 0x4a34, 0x2afd, 0x40d2, 0x0, 0x0);
        gbc.writeMem(0x7616, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1);
        EXPECT(gbc.pc(), 0x7617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 026D
        gbc.setState(0x9a6f, 0x2aa0, 0x3430, 0xcb42, 0x3c7e, 0x8be7, 0x1, 0x0);
        gbc.writeMem(0x9a6f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2aa0);
        EXPECT(gbc.pc(), 0x9a70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a6f), 0x2d);
        // 2D 026E
        gbc.setState(0x6396, 0x4384, 0x3a40, 0xa7d8, 0xec53, 0x76e7, 0x1, 0x1);
        gbc.writeMem(0x6396, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x4384);
        EXPECT(gbc.pc(), 0x6397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 026F
        gbc.setState(0xa2ef, 0xaf86, 0x3520, 0xa3ae, 0x3726, 0xe7b8, 0x0, 0x0);
        gbc.writeMem(0xa2ef, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xaf86);
        EXPECT(gbc.pc(), 0xa2f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2ef), 0x2d);
        // 2D 0270
        gbc.setState(0x3ec5, 0xc840, 0x7880, 0x89b8, 0x5d11, 0x6400, 0x0, 0x1);
        gbc.writeMem(0x3ec5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc840);
        EXPECT(gbc.pc(), 0x3ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0271
        gbc.setState(0x9d75, 0xa14c, 0xbba0, 0x7b3c, 0x928a, 0x15ed, 0x1, 0x1);
        gbc.writeMem(0x9d75, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa14c);
        EXPECT(gbc.pc(), 0x9d76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d75), 0x2d);
        // 2D 0272
        gbc.setState(0xaccb, 0x6c21, 0xc280, 0x1552, 0xbf12, 0x76f6, 0x0, 0x1);
        gbc.writeMem(0xaccb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6c21);
        EXPECT(gbc.pc(), 0xaccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaccb), 0x2d);
        // 2D 0273
        gbc.setState(0xa7b5, 0x525a, 0xe360, 0xc61c, 0xa768, 0x6106, 0x1, 0x0);
        gbc.writeMem(0xa7b5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x525a);
        EXPECT(gbc.pc(), 0xa7b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7b5), 0x2d);
        // 2D 0274
        gbc.setState(0xd692, 0x1b82, 0xe280, 0xc80d, 0x64ea, 0x139a, 0x0, 0x0);
        gbc.writeMem(0xd692, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x1b82);
        EXPECT(gbc.pc(), 0xd693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd692), 0x2d);
        // 2D 0275
        gbc.setState(0xba01, 0x6bb, 0x650, 0xdecc, 0xbcfb, 0xb84, 0x1, 0x0);
        gbc.writeMem(0xba01, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6bb);
        EXPECT(gbc.pc(), 0xba02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba01), 0x2d);
        // 2D 0276
        gbc.setState(0x7ce1, 0xd9eb, 0xe080, 0xfe87, 0x4bd4, 0x5563, 0x1, 0x1);
        gbc.writeMem(0x7ce1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd9eb);
        EXPECT(gbc.pc(), 0x7ce2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0277
        gbc.setState(0x177b, 0x9bf8, 0x3d60, 0xaf6a, 0x2cc3, 0xb7, 0x0, 0x1);
        gbc.writeMem(0x177b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9bf8);
        EXPECT(gbc.pc(), 0x177c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0278
        gbc.setState(0x1cb2, 0x1e06, 0xc7c0, 0x16ed, 0xf2d4, 0x7147, 0x1, 0x1);
        gbc.writeMem(0x1cb2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x1e06);
        EXPECT(gbc.pc(), 0x1cb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0279
        gbc.setState(0x6c9a, 0xe54a, 0x62c0, 0x38eb, 0xc511, 0x4a41, 0x1, 0x0);
        gbc.writeMem(0x6c9a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe54a);
        EXPECT(gbc.pc(), 0x6c9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 027A
        gbc.setState(0x7b2d, 0xd078, 0xd290, 0xb165, 0xc276, 0xfe18, 0x0, 0x0);
        gbc.writeMem(0x7b2d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xd078);
        EXPECT(gbc.pc(), 0x7b2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 027B
        gbc.setState(0xb899, 0xdee8, 0x1a40, 0xee30, 0xc390, 0x3973, 0x0, 0x0);
        gbc.writeMem(0xb899, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdee8);
        EXPECT(gbc.pc(), 0xb89a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb899), 0x2d);
        // 2D 027C
        gbc.setState(0x371d, 0x9827, 0xe050, 0x4df5, 0x40e1, 0xa08f, 0x1, 0x0);
        gbc.writeMem(0x371d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9827);
        EXPECT(gbc.pc(), 0x371e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 027E
        gbc.setState(0x3b23, 0xfc9, 0x50a0, 0xd1bc, 0x3b53, 0x5a0d, 0x0, 0x1);
        gbc.writeMem(0x3b23, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xfc9);
        EXPECT(gbc.pc(), 0x3b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 027F
        gbc.setState(0xb88d, 0xf8c5, 0x79c0, 0x682a, 0x274d, 0x7345, 0x1, 0x1);
        gbc.writeMem(0xb88d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf8c5);
        EXPECT(gbc.pc(), 0xb88e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb88d), 0x2d);
        // 2D 0280
        gbc.setState(0x5c8c, 0xac8, 0x3500, 0x9469, 0x82ec, 0x88a5, 0x1, 0x1);
        gbc.writeMem(0x5c8c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xac8);
        EXPECT(gbc.pc(), 0x5c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0281
        gbc.setState(0x69d9, 0x5469, 0xbcc0, 0x7f42, 0x7395, 0x1a49, 0x1, 0x0);
        gbc.writeMem(0x69d9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5469);
        EXPECT(gbc.pc(), 0x69da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0282
        gbc.setState(0xa8b2, 0x4fcd, 0xb930, 0xe87, 0xb7f7, 0x2e5c, 0x0, 0x0);
        gbc.writeMem(0xa8b2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4fcd);
        EXPECT(gbc.pc(), 0xa8b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8b2), 0x2d);
        // 2D 0283
        gbc.setState(0x5a0f, 0x54b, 0xc0e0, 0xe8e3, 0xa78e, 0x9e65, 0x1, 0x1);
        gbc.writeMem(0x5a0f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x54b);
        EXPECT(gbc.pc(), 0x5a10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0285
        gbc.setState(0xa531, 0xd6cb, 0x2560, 0x861a, 0x6b49, 0xed6, 0x1, 0x0);
        gbc.writeMem(0xa531, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd6cb);
        EXPECT(gbc.pc(), 0xa532);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa531), 0x2d);
        // 2D 0286
        gbc.setState(0xc6f8, 0xefbb, 0xf1c0, 0xf6a7, 0x8200, 0x2f33, 0x1, 0x0);
        gbc.writeMem(0xc6f8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xefbb);
        EXPECT(gbc.pc(), 0xc6f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6f8), 0x2d);
        // 2D 0287
        gbc.setState(0xa154, 0x547c, 0x1900, 0xba00, 0x6c1f, 0x14d4, 0x0, 0x1);
        gbc.writeMem(0xa154, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x547c);
        EXPECT(gbc.pc(), 0xa155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa154), 0x2d);
        // 2D 0288
        gbc.setState(0x7428, 0x66bc, 0xbc50, 0x1aed, 0xcfcc, 0x4cc1, 0x0, 0x0);
        gbc.writeMem(0x7428, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x66bc);
        EXPECT(gbc.pc(), 0x7429);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0289
        gbc.setState(0x4fdb, 0x46bf, 0x79d0, 0x1c0, 0x5521, 0xfdd, 0x1, 0x1);
        gbc.writeMem(0x4fdb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x46bf);
        EXPECT(gbc.pc(), 0x4fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 028A
        gbc.setState(0xc391, 0xe6b7, 0x8d10, 0x91e6, 0xf1d, 0xe1d5, 0x0, 0x0);
        gbc.writeMem(0xc391, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe6b7);
        EXPECT(gbc.pc(), 0xc392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc391), 0x2d);
        // 2D 028B
        gbc.setState(0xd189, 0x945, 0xeec0, 0x5692, 0x2e3b, 0x39ed, 0x1, 0x0);
        gbc.writeMem(0xd189, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x945);
        EXPECT(gbc.pc(), 0xd18a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd189), 0x2d);
        // 2D 028C
        gbc.setState(0x8959, 0xbd95, 0xb90, 0xd0e7, 0xb2ec, 0xe472, 0x0, 0x1);
        gbc.writeMem(0x8959, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbd95);
        EXPECT(gbc.pc(), 0x895a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8959), 0x2d);
        // 2D 028D
        gbc.setState(0xdb5, 0x6344, 0x17f0, 0x13df, 0xd084, 0xbfdc, 0x0, 0x0);
        gbc.writeMem(0xdb5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6344);
        EXPECT(gbc.pc(), 0xdb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 028E
        gbc.setState(0xb0a0, 0xe730, 0x8d70, 0x1ed5, 0xc272, 0x1420, 0x1, 0x0);
        gbc.writeMem(0xb0a0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe730);
        EXPECT(gbc.pc(), 0xb0a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0a0), 0x2d);
        // 2D 028F
        gbc.setState(0x9a95, 0xe48c, 0x5960, 0x5da, 0x95a9, 0xe507, 0x0, 0x1);
        gbc.writeMem(0x9a95, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe48c);
        EXPECT(gbc.pc(), 0x9a96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a95), 0x2d);
        // 2D 0290
        gbc.setState(0x5cda, 0x74e3, 0x86f0, 0x33ff, 0x72b4, 0xd003, 0x0, 0x1);
        gbc.writeMem(0x5cda, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x74e3);
        EXPECT(gbc.pc(), 0x5cdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0291
        gbc.setState(0x5d58, 0xf9eb, 0x49c0, 0x3d2c, 0xe7c8, 0x1b2b, 0x1, 0x0);
        gbc.writeMem(0x5d58, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf9eb);
        EXPECT(gbc.pc(), 0x5d59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0292
        gbc.setState(0x31b7, 0xa39f, 0xc620, 0x6313, 0xb122, 0xb351, 0x0, 0x0);
        gbc.writeMem(0x31b7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa39f);
        EXPECT(gbc.pc(), 0x31b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0293
        gbc.setState(0xa5e3, 0x4afb, 0xb840, 0xa15, 0x2a80, 0xe920, 0x1, 0x1);
        gbc.writeMem(0xa5e3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4afb);
        EXPECT(gbc.pc(), 0xa5e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5e3), 0x2d);
        // 2D 0295
        gbc.setState(0x1e26, 0xbfc5, 0xdbb0, 0x621a, 0x9808, 0xc61, 0x1, 0x1);
        gbc.writeMem(0x1e26, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xbfc5);
        EXPECT(gbc.pc(), 0x1e27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0296
        gbc.setState(0xb17f, 0xef9f, 0x5550, 0x2a75, 0x8328, 0x231a, 0x0, 0x0);
        gbc.writeMem(0xb17f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xef9f);
        EXPECT(gbc.pc(), 0xb180);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb17f), 0x2d);
        // 2D 0297
        gbc.setState(0x8244, 0x86c9, 0x70c0, 0x6bf8, 0x80dd, 0x17ac, 0x1, 0x1);
        gbc.writeMem(0x8244, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x86c9);
        EXPECT(gbc.pc(), 0x8245);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8244), 0x2d);
        // 2D 0298
        gbc.setState(0xd7a2, 0xdb87, 0xc780, 0xc71d, 0x56b8, 0xa4ff, 0x1, 0x0);
        gbc.writeMem(0xd7a2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xdb87);
        EXPECT(gbc.pc(), 0xd7a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7a2), 0x2d);
        // 2D 0299
        gbc.setState(0xef33, 0xc253, 0x63d0, 0x2b32, 0x1f6a, 0x6f20, 0x0, 0x1);
        gbc.writeMem(0xef33, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc253);
        EXPECT(gbc.pc(), 0xef34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef33), 0x2d);
        // 2D 029A
        gbc.setState(0x75fe, 0x4c67, 0x4cb0, 0x484f, 0xc7dd, 0xf893, 0x1, 0x0);
        gbc.writeMem(0x75fe, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4c67);
        EXPECT(gbc.pc(), 0x75ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 029B
        gbc.setState(0x8e9, 0x57d2, 0xd040, 0x41a, 0xa51e, 0x19a, 0x0, 0x1);
        gbc.writeMem(0x8e9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x57d2);
        EXPECT(gbc.pc(), 0x8ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 029C
        gbc.setState(0xdd1c, 0x7805, 0x9920, 0xcd4e, 0x7d1, 0x3597, 0x0, 0x1);
        gbc.writeMem(0xdd1c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7805);
        EXPECT(gbc.pc(), 0xdd1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1c), 0x2d);
        // 2D 029D
        gbc.setState(0x974a, 0x8fe6, 0x4520, 0x626b, 0xee6, 0x3fa, 0x0, 0x0);
        gbc.writeMem(0x974a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8fe6);
        EXPECT(gbc.pc(), 0x974b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x974a), 0x2d);
        // 2D 029E
        gbc.setState(0xd731, 0x2473, 0x400, 0xc93f, 0xc4dc, 0xc4c, 0x1, 0x0);
        gbc.writeMem(0xd731, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2473);
        EXPECT(gbc.pc(), 0xd732);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd731), 0x2d);
        // 2D 029F
        gbc.setState(0x3897, 0xfb6, 0xcbf0, 0x4bbf, 0x28e8, 0x82a7, 0x0, 0x1);
        gbc.writeMem(0x3897, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xfb6);
        EXPECT(gbc.pc(), 0x3898);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02A0
        gbc.setState(0x94d9, 0x3d26, 0x27c0, 0x9464, 0x345, 0x760, 0x1, 0x1);
        gbc.writeMem(0x94d9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x3d26);
        EXPECT(gbc.pc(), 0x94da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d9), 0x2d);
        // 2D 02A1
        gbc.setState(0xc11b, 0x50a2, 0xdc0, 0x824f, 0x2b7e, 0x58ca, 0x1, 0x0);
        gbc.writeMem(0xc11b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x50a2);
        EXPECT(gbc.pc(), 0xc11c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc11b), 0x2d);
        // 2D 02A2
        gbc.setState(0x96d3, 0x70d9, 0xb7c0, 0x4f06, 0x1f79, 0xa6ce, 0x1, 0x1);
        gbc.writeMem(0x96d3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x70d9);
        EXPECT(gbc.pc(), 0x96d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96d3), 0x2d);
        // 2D 02A3
        gbc.setState(0x8602, 0xabc6, 0x5700, 0xc8b1, 0x7f3e, 0x3927, 0x1, 0x1);
        gbc.writeMem(0x8602, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xabc6);
        EXPECT(gbc.pc(), 0x8603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8602), 0x2d);
        // 2D 02A5
        gbc.setState(0x619a, 0xceaa, 0xad0, 0xa789, 0x228b, 0x94c3, 0x0, 0x1);
        gbc.writeMem(0x619a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xceaa);
        EXPECT(gbc.pc(), 0x619b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02A6
        gbc.setState(0xd52c, 0x8512, 0x42d0, 0xba7c, 0x7f92, 0x1b7, 0x0, 0x0);
        gbc.writeMem(0xd52c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x8512);
        EXPECT(gbc.pc(), 0xd52d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd52c), 0x2d);
        // 2D 02A7
        gbc.setState(0x13dc, 0xb4e2, 0xd050, 0xd8e3, 0x3956, 0xeac0, 0x0, 0x1);
        gbc.writeMem(0x13dc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb4e2);
        EXPECT(gbc.pc(), 0x13dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 02A8
        gbc.setState(0x6e05, 0xeed2, 0xf390, 0x8803, 0x4563, 0x124b, 0x1, 0x1);
        gbc.writeMem(0x6e05, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xeed2);
        EXPECT(gbc.pc(), 0x6e06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02A9
        gbc.setState(0xb63b, 0x8cc1, 0xb790, 0x592c, 0xf622, 0x841a, 0x0, 0x0);
        gbc.writeMem(0xb63b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8cc1);
        EXPECT(gbc.pc(), 0xb63c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb63b), 0x2d);
        // 2D 02AA
        gbc.setState(0xcf9a, 0xff4f, 0x2a40, 0xa31c, 0xcb12, 0x16a6, 0x0, 0x0);
        gbc.writeMem(0xcf9a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xff4f);
        EXPECT(gbc.pc(), 0xcf9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf9a), 0x2d);
        // 2D 02AB
        gbc.setState(0x485, 0xd54d, 0xbed0, 0x5012, 0xb288, 0xb475, 0x0, 0x0);
        gbc.writeMem(0x485, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd54d);
        EXPECT(gbc.pc(), 0x486);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02AC
        gbc.setState(0xe38e, 0x353f, 0x9f0, 0x8091, 0x83a8, 0x8f1d, 0x1, 0x1);
        gbc.writeMem(0xe38e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x353f);
        EXPECT(gbc.pc(), 0xe38f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe38e), 0x2d);
        // 2D 02AD
        gbc.setState(0xdcbf, 0xec6b, 0xcc60, 0xddb8, 0x77b0, 0xb0d7, 0x1, 0x1);
        gbc.writeMem(0xdcbf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xec6b);
        EXPECT(gbc.pc(), 0xdcc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcbf), 0x2d);
        // 2D 02AE
        gbc.setState(0x5d1a, 0x410e, 0x6b20, 0xc293, 0x6d6b, 0xd84, 0x1, 0x1);
        gbc.writeMem(0x5d1a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x410e);
        EXPECT(gbc.pc(), 0x5d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02AF
        gbc.setState(0xdbd1, 0xbd6f, 0x3860, 0x6067, 0xa48f, 0x6416, 0x0, 0x0);
        gbc.writeMem(0xdbd1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xbd6f);
        EXPECT(gbc.pc(), 0xdbd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbd1), 0x2d);
        // 2D 02B1
        gbc.setState(0xba1c, 0x803d, 0xd0d0, 0x50bf, 0xf821, 0xe34f, 0x0, 0x1);
        gbc.writeMem(0xba1c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x803d);
        EXPECT(gbc.pc(), 0xba1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba1c), 0x2d);
        // 2D 02B2
        gbc.setState(0x5038, 0xb1c, 0xcac0, 0x94f2, 0x7c56, 0x97d4, 0x0, 0x0);
        gbc.writeMem(0x5038, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xb1c);
        EXPECT(gbc.pc(), 0x5039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02B3
        gbc.setState(0x40dc, 0x452d, 0xfaf0, 0x4a3e, 0x6ed4, 0x606f, 0x0, 0x1);
        gbc.writeMem(0x40dc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x452d);
        EXPECT(gbc.pc(), 0x40dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02B4
        gbc.setState(0xb9b0, 0x429c, 0xc850, 0x4b7b, 0xe4e4, 0x6164, 0x0, 0x1);
        gbc.writeMem(0xb9b0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x429c);
        EXPECT(gbc.pc(), 0xb9b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9b0), 0x2d);
        // 2D 02B5
        gbc.setState(0x452c, 0x49b2, 0x4d30, 0x29d0, 0x28c7, 0x4220, 0x0, 0x1);
        gbc.writeMem(0x452c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x49b2);
        EXPECT(gbc.pc(), 0x452d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 02B6
        gbc.setState(0x6619, 0x9e65, 0x5800, 0xcf9d, 0x992a, 0xac01, 0x0, 0x1);
        gbc.writeMem(0x6619, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9e65);
        EXPECT(gbc.pc(), 0x661a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02B7
        gbc.setState(0xc397, 0xb58c, 0xb8f0, 0x99a2, 0x2ca7, 0xc4c2, 0x0, 0x1);
        gbc.writeMem(0xc397, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb58c);
        EXPECT(gbc.pc(), 0xc398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc397), 0x2d);
        // 2D 02B8
        gbc.setState(0xa403, 0x3bb, 0x5020, 0x51bd, 0x7cc0, 0xf339, 0x1, 0x0);
        gbc.writeMem(0xa403, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x3bb);
        EXPECT(gbc.pc(), 0xa404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa403), 0x2d);
        // 2D 02B9
        gbc.setState(0x391e, 0x7e4f, 0xbc80, 0x41b6, 0xa542, 0x18d8, 0x1, 0x1);
        gbc.writeMem(0x391e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x7e4f);
        EXPECT(gbc.pc(), 0x391f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02BA
        gbc.setState(0x20d8, 0x98b2, 0xa300, 0x1a55, 0xfcc1, 0x8762, 0x0, 0x0);
        gbc.writeMem(0x20d8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x98b2);
        EXPECT(gbc.pc(), 0x20d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02BB
        gbc.setState(0x3a19, 0x9617, 0x3480, 0xbeaa, 0x2fed, 0xbb29, 0x1, 0x0);
        gbc.writeMem(0x3a19, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9617);
        EXPECT(gbc.pc(), 0x3a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02BC
        gbc.setState(0x64b8, 0xaed1, 0x9f40, 0x84cf, 0x9784, 0x1af, 0x1, 0x1);
        gbc.writeMem(0x64b8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xaed1);
        EXPECT(gbc.pc(), 0x64b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02BD
        gbc.setState(0x1e12, 0x2ff2, 0x2f00, 0x8a2a, 0xc87e, 0xaded, 0x0, 0x1);
        gbc.writeMem(0x1e12, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x2ff2);
        EXPECT(gbc.pc(), 0x1e13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02BE
        gbc.setState(0xbdd5, 0xa0bb, 0x1d60, 0xb28e, 0x9cab, 0x59e2, 0x1, 0x0);
        gbc.writeMem(0xbdd5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xa0bb);
        EXPECT(gbc.pc(), 0xbdd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdd5), 0x2d);
        // 2D 02BF
        gbc.setState(0xe8d1, 0x9b0a, 0xcf00, 0xa89e, 0xebb0, 0x838a, 0x1, 0x1);
        gbc.writeMem(0xe8d1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x9b0a);
        EXPECT(gbc.pc(), 0xe8d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8d1), 0x2d);
        // 2D 02C0
        gbc.setState(0xa44c, 0xbfed, 0xe800, 0x515a, 0x9ba1, 0xf8e5, 0x1, 0x0);
        gbc.writeMem(0xa44c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xbfed);
        EXPECT(gbc.pc(), 0xa44d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa44c), 0x2d);
        // 2D 02C1
        gbc.setState(0x5717, 0xcd2, 0xe880, 0x871e, 0x3cf8, 0xc03f, 0x1, 0x0);
        gbc.writeMem(0x5717, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcd2);
        EXPECT(gbc.pc(), 0x5718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02C2
        gbc.setState(0x1a0c, 0x6e13, 0x6750, 0x6c4f, 0x6b14, 0x17fb, 0x0, 0x0);
        gbc.writeMem(0x1a0c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x6e13);
        EXPECT(gbc.pc(), 0x1a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02C3
        gbc.setState(0x4028, 0xe873, 0xba50, 0x459d, 0x3911, 0x1866, 0x0, 0x1);
        gbc.writeMem(0x4028, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe873);
        EXPECT(gbc.pc(), 0x4029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02C4
        gbc.setState(0x181a, 0xc113, 0xa360, 0xb2d, 0x22e0, 0x4ccd, 0x1, 0x0);
        gbc.writeMem(0x181a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc113);
        EXPECT(gbc.pc(), 0x181b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02C5
        gbc.setState(0x12cf, 0x3e15, 0x4150, 0xd17c, 0x37e8, 0x9565, 0x1, 0x0);
        gbc.writeMem(0x12cf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3e15);
        EXPECT(gbc.pc(), 0x12d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02C6
        gbc.setState(0x4dd4, 0x3188, 0x1760, 0x586f, 0x834b, 0x2ded, 0x0, 0x1);
        gbc.writeMem(0x4dd4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x3188);
        EXPECT(gbc.pc(), 0x4dd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02C7
        gbc.setState(0x8477, 0x190b, 0xa740, 0xed74, 0x2b10, 0x6ec0, 0x0, 0x1);
        gbc.writeMem(0x8477, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x190b);
        EXPECT(gbc.pc(), 0x8478);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8477), 0x2d);
        // 2D 02C8
        gbc.setState(0x7d45, 0x589f, 0xbfe0, 0x6e7a, 0x78c9, 0x7cf7, 0x1, 0x1);
        gbc.writeMem(0x7d45, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x589f);
        EXPECT(gbc.pc(), 0x7d46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02C9
        gbc.setState(0x4c57, 0x9da0, 0x72e0, 0x6377, 0x7721, 0x7f50, 0x0, 0x1);
        gbc.writeMem(0x4c57, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x9da0);
        EXPECT(gbc.pc(), 0x4c58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 02CA
        gbc.setState(0x470b, 0x6342, 0x9580, 0x216d, 0x6eb1, 0xf3c4, 0x1, 0x1);
        gbc.writeMem(0x470b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6342);
        EXPECT(gbc.pc(), 0x470c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02CB
        gbc.setState(0xd33d, 0x3f42, 0xc3c0, 0xa3f1, 0x72a9, 0x1336, 0x1, 0x1);
        gbc.writeMem(0xd33d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x3f42);
        EXPECT(gbc.pc(), 0xd33e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd33d), 0x2d);
        // 2D 02CC
        gbc.setState(0xba48, 0x7ac0, 0x7280, 0xd489, 0xcfb0, 0xe4c4, 0x0, 0x1);
        gbc.writeMem(0xba48, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7ac0);
        EXPECT(gbc.pc(), 0xba49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba48), 0x2d);
        // 2D 02CD
        gbc.setState(0x5c28, 0xf289, 0x9370, 0xb4c1, 0xa56b, 0xb4d8, 0x1, 0x1);
        gbc.writeMem(0x5c28, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf289);
        EXPECT(gbc.pc(), 0x5c29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02CE
        gbc.setState(0xe30e, 0x90d0, 0x7270, 0x7a3e, 0xfcab, 0x6c96, 0x0, 0x1);
        gbc.writeMem(0xe30e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x90d0);
        EXPECT(gbc.pc(), 0xe30f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe30e), 0x2d);
        // 2D 02CF
        gbc.setState(0x1e53, 0x847e, 0x5a80, 0x3637, 0x9f14, 0x2649, 0x0, 0x1);
        gbc.writeMem(0x1e53, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x847e);
        EXPECT(gbc.pc(), 0x1e54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02D0
        gbc.setState(0xbe0f, 0x1e5a, 0xd580, 0xb454, 0x6519, 0x790f, 0x0, 0x1);
        gbc.writeMem(0xbe0f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x1e5a);
        EXPECT(gbc.pc(), 0xbe10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe0f), 0x2d);
        // 2D 02D1
        gbc.setState(0xa3ac, 0xd98a, 0x45b0, 0x9a7a, 0x8d39, 0xec8f, 0x0, 0x0);
        gbc.writeMem(0xa3ac, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd98a);
        EXPECT(gbc.pc(), 0xa3ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3ac), 0x2d);
        // 2D 02D2
        gbc.setState(0xcdd6, 0xf497, 0x8d70, 0xb71a, 0xac4f, 0x1504, 0x0, 0x0);
        gbc.writeMem(0xcdd6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf497);
        EXPECT(gbc.pc(), 0xcdd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdd6), 0x2d);
        // 2D 02D3
        gbc.setState(0xd1b2, 0x1ac4, 0x6260, 0xac3c, 0x46a2, 0xc129, 0x1, 0x1);
        gbc.writeMem(0xd1b2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1ac4);
        EXPECT(gbc.pc(), 0xd1b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1b2), 0x2d);
        // 2D 02D4
        gbc.setState(0xd4b, 0x9132, 0x1250, 0xddf4, 0x64b7, 0x4e5, 0x1, 0x0);
        gbc.writeMem(0xd4b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9132);
        EXPECT(gbc.pc(), 0xd4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02D5
        gbc.setState(0x3d2b, 0x62d7, 0x1590, 0xcd62, 0x96a0, 0xbcc2, 0x0, 0x0);
        gbc.writeMem(0x3d2b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x62d7);
        EXPECT(gbc.pc(), 0x3d2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02D6
        gbc.setState(0x27d2, 0xf562, 0x8e20, 0x8497, 0x2f3e, 0x10b8, 0x0, 0x1);
        gbc.writeMem(0x27d2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf562);
        EXPECT(gbc.pc(), 0x27d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02D7
        gbc.setState(0xecc0, 0x4976, 0x6c50, 0x5f5c, 0x4758, 0xfd07, 0x0, 0x1);
        gbc.writeMem(0xecc0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4976);
        EXPECT(gbc.pc(), 0xecc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecc0), 0x2d);
        // 2D 02DA
        gbc.setState(0xc14b, 0x724, 0x2d30, 0x319e, 0x50b0, 0x5e3a, 0x1, 0x0);
        gbc.writeMem(0xc14b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x724);
        EXPECT(gbc.pc(), 0xc14c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc14b), 0x2d);
        // 2D 02DB
        gbc.setState(0x9b4e, 0x9fda, 0x2710, 0x173b, 0x58e8, 0xf5ec, 0x0, 0x0);
        gbc.writeMem(0x9b4e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9fda);
        EXPECT(gbc.pc(), 0x9b4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b4e), 0x2d);
        // 2D 02DC
        gbc.setState(0xb875, 0x6fbe, 0x97c0, 0xc154, 0x30dd, 0x7a75, 0x1, 0x1);
        gbc.writeMem(0xb875, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6fbe);
        EXPECT(gbc.pc(), 0xb876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb875), 0x2d);
        // 2D 02DD
        gbc.setState(0x75ec, 0x3836, 0x7b10, 0xcd4, 0x1eea, 0x1d2c, 0x0, 0x1);
        gbc.writeMem(0x75ec, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3836);
        EXPECT(gbc.pc(), 0x75ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02DE
        gbc.setState(0x8a14, 0xf391, 0x5210, 0x53bc, 0x740a, 0x2b9, 0x1, 0x0);
        gbc.writeMem(0x8a14, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf391);
        EXPECT(gbc.pc(), 0x8a15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a14), 0x2d);
        // 2D 02DF
        gbc.setState(0xb2ab, 0x1850, 0x8b80, 0xf8e0, 0x8d5d, 0x48c0, 0x1, 0x0);
        gbc.writeMem(0xb2ab, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1850);
        EXPECT(gbc.pc(), 0xb2ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ab), 0x2d);
        // 2D 02E0
        gbc.setState(0x3516, 0xc509, 0x9a00, 0x2172, 0xaeb1, 0xea1d, 0x0, 0x1);
        gbc.writeMem(0x3516, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc509);
        EXPECT(gbc.pc(), 0x3517);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02E1
        gbc.setState(0x437e, 0x5dd7, 0x1d40, 0xc789, 0x290e, 0x186f, 0x1, 0x1);
        gbc.writeMem(0x437e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5dd7);
        EXPECT(gbc.pc(), 0x437f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02E2
        gbc.setState(0x9cea, 0xeff2, 0x3530, 0xf6f3, 0x3426, 0x943, 0x0, 0x0);
        gbc.writeMem(0x9cea, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xeff2);
        EXPECT(gbc.pc(), 0x9ceb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cea), 0x2d);
        // 2D 02E3
        gbc.setState(0x8e4a, 0x1d4f, 0x2c30, 0x1a25, 0x8953, 0x598c, 0x1, 0x1);
        gbc.writeMem(0x8e4a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1d4f);
        EXPECT(gbc.pc(), 0x8e4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e4a), 0x2d);
        // 2D 02E4
        gbc.setState(0xc0af, 0xfa92, 0x12c0, 0x1eae, 0xa5a8, 0x2685, 0x1, 0x0);
        gbc.writeMem(0xc0af, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfa92);
        EXPECT(gbc.pc(), 0xc0b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0af), 0x2d);
        // 2D 02E5
        gbc.setState(0x7d25, 0x381a, 0x5810, 0x612c, 0x49f1, 0x6d87, 0x1, 0x1);
        gbc.writeMem(0x7d25, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x381a);
        EXPECT(gbc.pc(), 0x7d26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02E6
        gbc.setState(0x9172, 0xedd9, 0x6120, 0xeca3, 0x1920, 0xab3d, 0x1, 0x1);
        gbc.writeMem(0x9172, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xedd9);
        EXPECT(gbc.pc(), 0x9173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9172), 0x2d);
        // 2D 02E7
        gbc.setState(0xba7b, 0xe4, 0x5a60, 0x543c, 0xffc, 0x1516, 0x0, 0x0);
        gbc.writeMem(0xba7b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe4);
        EXPECT(gbc.pc(), 0xba7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba7b), 0x2d);
        // 2D 02E8
        gbc.setState(0x76ee, 0xc6e0, 0x42e0, 0x36e1, 0xd457, 0x2339, 0x1, 0x1);
        gbc.writeMem(0x76ee, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc6e0);
        EXPECT(gbc.pc(), 0x76ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02E9
        gbc.setState(0x2017, 0x76cb, 0x7180, 0x9b5f, 0xc0f3, 0x74c9, 0x1, 0x0);
        gbc.writeMem(0x2017, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x76cb);
        EXPECT(gbc.pc(), 0x2018);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02EA
        gbc.setState(0x9049, 0x3a81, 0x98f0, 0xaa57, 0x3963, 0xd403, 0x1, 0x0);
        gbc.writeMem(0x9049, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x3a81);
        EXPECT(gbc.pc(), 0x904a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9049), 0x2d);
        // 2D 02EB
        gbc.setState(0x7315, 0x343e, 0x7f60, 0xfb89, 0x3345, 0xc398, 0x1, 0x0);
        gbc.writeMem(0x7315, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x343e);
        EXPECT(gbc.pc(), 0x7316);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02EC
        gbc.setState(0xac20, 0x965a, 0x5330, 0xe412, 0x7517, 0xa780, 0x0, 0x1);
        gbc.writeMem(0xac20, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x965a);
        EXPECT(gbc.pc(), 0xac21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac20), 0x2d);
        // 2D 02ED
        gbc.setState(0xe063, 0xd1a6, 0x8b00, 0x7ca3, 0xf30, 0xe1c0, 0x1, 0x1);
        gbc.writeMem(0xe063, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd1a6);
        EXPECT(gbc.pc(), 0xe064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe063), 0x2d);
        // 2D 02EE
        gbc.setState(0x6819, 0x86fe, 0xfb30, 0xea9c, 0x3f2a, 0xcf0b, 0x0, 0x0);
        gbc.writeMem(0x6819, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x86fe);
        EXPECT(gbc.pc(), 0x681a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02EF
        gbc.setState(0xccc0, 0xcde7, 0x7b20, 0x3791, 0xc9ed, 0xab2d, 0x0, 0x0);
        gbc.writeMem(0xccc0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xcde7);
        EXPECT(gbc.pc(), 0xccc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccc0), 0x2d);
        // 2D 02F0
        gbc.setState(0xef0b, 0x18ba, 0xfb0, 0xbac2, 0xbbae, 0x2a16, 0x0, 0x0);
        gbc.writeMem(0xef0b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x18ba);
        EXPECT(gbc.pc(), 0xef0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef0b), 0x2d);
        // 2D 02F1
        gbc.setState(0x8811, 0x75cf, 0xf370, 0x1dce, 0x30d, 0x3e9e, 0x0, 0x0);
        gbc.writeMem(0x8811, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x75cf);
        EXPECT(gbc.pc(), 0x8812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8811), 0x2d);
        // 2D 02F2
        gbc.setState(0xb568, 0x6741, 0xa3d0, 0xce06, 0x7f50, 0x6fb4, 0x1, 0x0);
        gbc.writeMem(0xb568, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6741);
        EXPECT(gbc.pc(), 0xb569);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb568), 0x2d);
        // 2D 02F3
        gbc.setState(0xe1bf, 0x9868, 0x8670, 0x6408, 0x9b23, 0x8912, 0x0, 0x1);
        gbc.writeMem(0xe1bf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x9868);
        EXPECT(gbc.pc(), 0xe1c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1bf), 0x2d);
        // 2D 02F4
        gbc.setState(0x2ee8, 0x70e3, 0x2020, 0x1def, 0x4330, 0x4854, 0x1, 0x0);
        gbc.writeMem(0x2ee8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x70e3);
        EXPECT(gbc.pc(), 0x2ee9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 02F5
        gbc.setState(0x89e7, 0x23cf, 0xeb70, 0xa311, 0x435, 0x4d7, 0x1, 0x0);
        gbc.writeMem(0x89e7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x23cf);
        EXPECT(gbc.pc(), 0x89e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89e7), 0x2d);
        // 2D 02F6
        gbc.setState(0xacdc, 0x925e, 0x1370, 0xb8f9, 0xde80, 0x9c64, 0x0, 0x0);
        gbc.writeMem(0xacdc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x925e);
        EXPECT(gbc.pc(), 0xacdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacdc), 0x2d);
        // 2D 02F7
        gbc.setState(0xa906, 0x7be3, 0xcf30, 0xfa19, 0x911, 0x7716, 0x0, 0x0);
        gbc.writeMem(0xa906, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7be3);
        EXPECT(gbc.pc(), 0xa907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa906), 0x2d);
        // 2D 02F9
        gbc.setState(0x927f, 0x70c, 0x5150, 0xed6d, 0xe581, 0x6d2f, 0x0, 0x1);
        gbc.writeMem(0x927f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x70c);
        EXPECT(gbc.pc(), 0x9280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x927f), 0x2d);
        // 2D 02FA
        gbc.setState(0xad57, 0x5ee, 0xbad0, 0x5b51, 0x8d83, 0xd3ab, 0x1, 0x1);
        gbc.writeMem(0xad57, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5ee);
        EXPECT(gbc.pc(), 0xad58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad57), 0x2d);
        // 2D 02FB
        gbc.setState(0xcba6, 0x3161, 0xbce0, 0x67e5, 0x3f8, 0x5b2e, 0x1, 0x1);
        gbc.writeMem(0xcba6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3161);
        EXPECT(gbc.pc(), 0xcba7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcba6), 0x2d);
        // 2D 02FC
        gbc.setState(0x8c13, 0x2fbf, 0xd2c0, 0xa4d5, 0x3b, 0x9986, 0x1, 0x1);
        gbc.writeMem(0x8c13, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x2fbf);
        EXPECT(gbc.pc(), 0x8c14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c13), 0x2d);
        // 2D 02FD
        gbc.setState(0xdd8c, 0x66f9, 0x6d00, 0xc543, 0x2fba, 0x96e8, 0x0, 0x1);
        gbc.writeMem(0xdd8c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x66f9);
        EXPECT(gbc.pc(), 0xdd8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd8c), 0x2d);
        // 2D 02FE
        gbc.setState(0x536f, 0xad8b, 0x3530, 0xb3c6, 0x1b12, 0x3d4a, 0x0, 0x0);
        gbc.writeMem(0x536f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xad8b);
        EXPECT(gbc.pc(), 0x5370);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 02FF
        gbc.setState(0x563a, 0x3e53, 0xcbe0, 0x4d0a, 0xdc60, 0x427c, 0x0, 0x0);
        gbc.writeMem(0x563a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x3e53);
        EXPECT(gbc.pc(), 0x563b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0300
        gbc.setState(0xeb20, 0xdb00, 0x25e0, 0xb84c, 0x75d2, 0x7beb, 0x0, 0x1);
        gbc.writeMem(0xeb20, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xdb00);
        EXPECT(gbc.pc(), 0xeb21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb20), 0x2d);
        // 2D 0302
        gbc.setState(0xb07f, 0x684b, 0x5a30, 0x4b2f, 0xf25e, 0x4d79, 0x0, 0x1);
        gbc.writeMem(0xb07f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x684b);
        EXPECT(gbc.pc(), 0xb080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb07f), 0x2d);
        // 2D 0303
        gbc.setState(0x8c1a, 0x8f9d, 0x2fc0, 0xf66c, 0xf6e4, 0xfb6e, 0x0, 0x0);
        gbc.writeMem(0x8c1a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8f9d);
        EXPECT(gbc.pc(), 0x8c1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c1a), 0x2d);
        // 2D 0304
        gbc.setState(0x88f6, 0x4827, 0xcd30, 0xc101, 0x60e1, 0x65c3, 0x0, 0x0);
        gbc.writeMem(0x88f6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4827);
        EXPECT(gbc.pc(), 0x88f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88f6), 0x2d);
        // 2D 0305
        gbc.setState(0x92fe, 0xbbc6, 0xee80, 0x6efb, 0x51d, 0xead1, 0x0, 0x1);
        gbc.writeMem(0x92fe, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbbc6);
        EXPECT(gbc.pc(), 0x92ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92fe), 0x2d);
        // 2D 0306
        gbc.setState(0x8d56, 0xa7ef, 0x4180, 0x8a3a, 0xfaeb, 0xacfd, 0x1, 0x0);
        gbc.writeMem(0x8d56, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa7ef);
        EXPECT(gbc.pc(), 0x8d57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d56), 0x2d);
        // 2D 0307
        gbc.setState(0x893c, 0xc9ca, 0x8520, 0x3bb2, 0x9225, 0x8ee6, 0x1, 0x0);
        gbc.writeMem(0x893c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xc9ca);
        EXPECT(gbc.pc(), 0x893d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x893c), 0x2d);
        // 2D 0308
        gbc.setState(0x25ab, 0xe7f2, 0x1020, 0xffc0, 0xa163, 0xb44, 0x0, 0x1);
        gbc.writeMem(0x25ab, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe7f2);
        EXPECT(gbc.pc(), 0x25ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 030A
        gbc.setState(0x335d, 0xae00, 0xa210, 0xd85d, 0xd807, 0x6d12, 0x1, 0x0);
        gbc.writeMem(0x335d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xae00);
        EXPECT(gbc.pc(), 0x335e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 030B
        gbc.setState(0x7cc0, 0x26d, 0x54e0, 0xedee, 0x8ac2, 0x1121, 0x1, 0x1);
        gbc.writeMem(0x7cc0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x26d);
        EXPECT(gbc.pc(), 0x7cc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 030C
        gbc.setState(0xaa0d, 0x3292, 0x6a80, 0x7f75, 0x6b2e, 0xf802, 0x1, 0x0);
        gbc.writeMem(0xaa0d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x3292);
        EXPECT(gbc.pc(), 0xaa0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa0d), 0x2d);
        // 2D 030D
        gbc.setState(0xee1f, 0x694c, 0x8ff0, 0xd89, 0xda61, 0x9bdf, 0x0, 0x1);
        gbc.writeMem(0xee1f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x694c);
        EXPECT(gbc.pc(), 0xee20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee1f), 0x2d);
        // 2D 030E
        gbc.setState(0xc314, 0xacc9, 0xa720, 0xf73, 0xbe10, 0x80fe, 0x0, 0x1);
        gbc.writeMem(0xc314, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xacc9);
        EXPECT(gbc.pc(), 0xc315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc314), 0x2d);
        // 2D 030F
        gbc.setState(0x3b9f, 0xca3e, 0x43b0, 0x7641, 0xfebd, 0x7977, 0x1, 0x0);
        gbc.writeMem(0x3b9f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xca3e);
        EXPECT(gbc.pc(), 0x3ba0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0310
        gbc.setState(0x44b4, 0x347a, 0x19d0, 0xa010, 0x4c4d, 0x4e59, 0x0, 0x0);
        gbc.writeMem(0x44b4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x347a);
        EXPECT(gbc.pc(), 0x44b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0311
        gbc.setState(0xa094, 0xaac3, 0x9500, 0x4668, 0x289a, 0x7134, 0x1, 0x1);
        gbc.writeMem(0xa094, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xaac3);
        EXPECT(gbc.pc(), 0xa095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa094), 0x2d);
        // 2D 0312
        gbc.setState(0x909d, 0xcd1c, 0xe400, 0x83c9, 0x1f4d, 0x26cc, 0x0, 0x0);
        gbc.writeMem(0x909d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xcd1c);
        EXPECT(gbc.pc(), 0x909e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x909d), 0x2d);
        // 2D 0313
        gbc.setState(0x12f2, 0x51c9, 0xbfa0, 0xf95b, 0x436, 0x49cd, 0x0, 0x0);
        gbc.writeMem(0x12f2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x51c9);
        EXPECT(gbc.pc(), 0x12f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0314
        gbc.setState(0xca54, 0x7b31, 0x89e0, 0x35ff, 0xf0b1, 0xeacd, 0x0, 0x0);
        gbc.writeMem(0xca54, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7b31);
        EXPECT(gbc.pc(), 0xca55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca54), 0x2d);
        // 2D 0315
        gbc.setState(0xe9d0, 0x37a8, 0x6a0, 0xcc4b, 0x845d, 0x3b05, 0x0, 0x1);
        gbc.writeMem(0xe9d0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x37a8);
        EXPECT(gbc.pc(), 0xe9d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9d0), 0x2d);
        // 2D 0316
        gbc.setState(0xda15, 0xb366, 0xe150, 0x1b7e, 0x1f3f, 0x6e9, 0x0, 0x0);
        gbc.writeMem(0xda15, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb366);
        EXPECT(gbc.pc(), 0xda16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda15), 0x2d);
        // 2D 0317
        gbc.setState(0x64ea, 0xf777, 0x8020, 0xb505, 0x258f, 0x2b23, 0x1, 0x1);
        gbc.writeMem(0x64ea, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf777);
        EXPECT(gbc.pc(), 0x64eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0318
        gbc.setState(0x4cc9, 0xbe5, 0x3180, 0x4959, 0x607b, 0x4446, 0x1, 0x0);
        gbc.writeMem(0x4cc9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbe5);
        EXPECT(gbc.pc(), 0x4cca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0319
        gbc.setState(0x642c, 0xfe48, 0x3fe0, 0xa5f8, 0x92b, 0x8f58, 0x0, 0x1);
        gbc.writeMem(0x642c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xfe48);
        EXPECT(gbc.pc(), 0x642d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 031A
        gbc.setState(0x1d0, 0xf904, 0x31b0, 0x82b4, 0xf37c, 0x51d6, 0x0, 0x0);
        gbc.writeMem(0x1d0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xf904);
        EXPECT(gbc.pc(), 0x1d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 031B
        gbc.setState(0x3309, 0xc2ee, 0x7380, 0x615a, 0x78c5, 0xf9fd, 0x1, 0x0);
        gbc.writeMem(0x3309, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc2ee);
        EXPECT(gbc.pc(), 0x330a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 031C
        gbc.setState(0x3d4d, 0xd6aa, 0xab80, 0xb914, 0xdd72, 0xdea4, 0x1, 0x0);
        gbc.writeMem(0x3d4d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xd6aa);
        EXPECT(gbc.pc(), 0x3d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 031D
        gbc.setState(0x1fc2, 0xf78a, 0x58c0, 0x88de, 0xbb52, 0x7c3c, 0x0, 0x1);
        gbc.writeMem(0x1fc2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xf78a);
        EXPECT(gbc.pc(), 0x1fc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 031E
        gbc.setState(0x8c4f, 0x9ccf, 0xd850, 0x7f65, 0xce63, 0xfefd, 0x0, 0x0);
        gbc.writeMem(0x8c4f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9ccf);
        EXPECT(gbc.pc(), 0x8c50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c4f), 0x2d);
        // 2D 031F
        gbc.setState(0x794f, 0xaf7e, 0x43f0, 0x6bcc, 0x2ada, 0x242c, 0x0, 0x1);
        gbc.writeMem(0x794f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xaf7e);
        EXPECT(gbc.pc(), 0x7950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0320
        gbc.setState(0x4ec9, 0xddd9, 0xe290, 0xbcbd, 0x4984, 0xdd08, 0x1, 0x1);
        gbc.writeMem(0x4ec9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xddd9);
        EXPECT(gbc.pc(), 0x4eca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0321
        gbc.setState(0x96af, 0xe2e5, 0x89c0, 0x7e10, 0x53cd, 0xe3d, 0x0, 0x0);
        gbc.writeMem(0x96af, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe2e5);
        EXPECT(gbc.pc(), 0x96b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96af), 0x2d);
        // 2D 0322
        gbc.setState(0xbeb3, 0x5595, 0x48a0, 0x640, 0x6e26, 0xd0aa, 0x1, 0x0);
        gbc.writeMem(0xbeb3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x5595);
        EXPECT(gbc.pc(), 0xbeb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeb3), 0x2d);
        // 2D 0323
        gbc.setState(0x88a0, 0x650e, 0x4cc0, 0x9e12, 0x421f, 0x1408, 0x0, 0x1);
        gbc.writeMem(0x88a0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x650e);
        EXPECT(gbc.pc(), 0x88a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a0), 0x2d);
        // 2D 0324
        gbc.setState(0x4778, 0xe6ed, 0xc070, 0x9509, 0x5874, 0xe42e, 0x0, 0x0);
        gbc.writeMem(0x4778, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe6ed);
        EXPECT(gbc.pc(), 0x4779);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0325
        gbc.setState(0xc569, 0x8c5f, 0xc510, 0x74ad, 0x766e, 0x55df, 0x1, 0x1);
        gbc.writeMem(0xc569, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8c5f);
        EXPECT(gbc.pc(), 0xc56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc569), 0x2d);
        // 2D 0327
        gbc.setState(0xe6d1, 0x32d0, 0x7680, 0x649c, 0xf03d, 0xb6bb, 0x1, 0x0);
        gbc.writeMem(0xe6d1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x32d0);
        EXPECT(gbc.pc(), 0xe6d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6d1), 0x2d);
        // 2D 0328
        gbc.setState(0x122d, 0x8c0f, 0x35e0, 0xc4b9, 0xc682, 0x613e, 0x0, 0x0);
        gbc.writeMem(0x122d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8c0f);
        EXPECT(gbc.pc(), 0x122e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 032B
        gbc.setState(0x1233, 0x5e62, 0x6ef0, 0x3ede, 0x88da, 0x1f31, 0x1, 0x1);
        gbc.writeMem(0x1233, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5e62);
        EXPECT(gbc.pc(), 0x1234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 032C
        gbc.setState(0xe6b7, 0xeb82, 0x2d0, 0x2412, 0xacbe, 0x2f48, 0x0, 0x0);
        gbc.writeMem(0xe6b7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xeb82);
        EXPECT(gbc.pc(), 0xe6b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6b7), 0x2d);
        // 2D 032D
        gbc.setState(0xb229, 0xc154, 0x8f60, 0x3db0, 0x2ad2, 0x71d, 0x1, 0x1);
        gbc.writeMem(0xb229, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc154);
        EXPECT(gbc.pc(), 0xb22a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb229), 0x2d);
        // 2D 032E
        gbc.setState(0x9fce, 0x6fc, 0xe260, 0xb854, 0xbd4f, 0x221c, 0x0, 0x1);
        gbc.writeMem(0x9fce, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6fc);
        EXPECT(gbc.pc(), 0x9fcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fce), 0x2d);
        // 2D 032F
        gbc.setState(0xe963, 0x6ca, 0x3240, 0xe711, 0x13a1, 0xe362, 0x1, 0x1);
        gbc.writeMem(0xe963, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6ca);
        EXPECT(gbc.pc(), 0xe964);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe963), 0x2d);
        // 2D 0330
        gbc.setState(0xece7, 0x48b6, 0xb9e0, 0x9a5a, 0x4634, 0x8366, 0x0, 0x0);
        gbc.writeMem(0xece7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x48b6);
        EXPECT(gbc.pc(), 0xece8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xece7), 0x2d);
        // 2D 0331
        gbc.setState(0x6d43, 0x751f, 0x2370, 0x32cb, 0x50e5, 0x8ce6, 0x0, 0x0);
        gbc.writeMem(0x6d43, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x751f);
        EXPECT(gbc.pc(), 0x6d44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0332
        gbc.setState(0xd9f3, 0x874c, 0xbc60, 0xeed2, 0xdfc, 0x69f4, 0x0, 0x0);
        gbc.writeMem(0xd9f3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x874c);
        EXPECT(gbc.pc(), 0xd9f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9f3), 0x2d);
        // 2D 0333
        gbc.setState(0xcad2, 0x185e, 0x4cc0, 0xfe43, 0x2075, 0xf398, 0x0, 0x0);
        gbc.writeMem(0xcad2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x185e);
        EXPECT(gbc.pc(), 0xcad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcad2), 0x2d);
        // 2D 0334
        gbc.setState(0x3fc0, 0xf846, 0x6ef0, 0x875a, 0xd429, 0x71dc, 0x1, 0x1);
        gbc.writeMem(0x3fc0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf846);
        EXPECT(gbc.pc(), 0x3fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0335
        gbc.setState(0x1594, 0xa757, 0x36a0, 0x13d1, 0x5fdb, 0x2192, 0x1, 0x1);
        gbc.writeMem(0x1594, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa757);
        EXPECT(gbc.pc(), 0x1595);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0336
        gbc.setState(0x2538, 0xb4f4, 0xbd90, 0x325a, 0x56bd, 0x6f46, 0x0, 0x1);
        gbc.writeMem(0x2538, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xb4f4);
        EXPECT(gbc.pc(), 0x2539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0337
        gbc.setState(0x3adf, 0x1ad0, 0x14a0, 0xaf5c, 0x6f57, 0x6f1f, 0x1, 0x0);
        gbc.writeMem(0x3adf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1ad0);
        EXPECT(gbc.pc(), 0x3ae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0338
        gbc.setState(0x602f, 0xf0c0, 0x8360, 0x69b1, 0x46c9, 0x1ab9, 0x1, 0x0);
        gbc.writeMem(0x602f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf0c0);
        EXPECT(gbc.pc(), 0x6030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0339
        gbc.setState(0x38ba, 0xe823, 0xed0, 0xab2c, 0x1f20, 0x8215, 0x0, 0x0);
        gbc.writeMem(0x38ba, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe823);
        EXPECT(gbc.pc(), 0x38bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 033A
        gbc.setState(0x63a9, 0x949f, 0xd1f0, 0x7d9e, 0x46ed, 0xba20, 0x0, 0x0);
        gbc.writeMem(0x63a9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x949f);
        EXPECT(gbc.pc(), 0x63aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 033B
        gbc.setState(0x3159, 0xe6d0, 0xafe0, 0x5831, 0xf952, 0x564d, 0x0, 0x0);
        gbc.writeMem(0x3159, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe6d0);
        EXPECT(gbc.pc(), 0x315a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 033C
        gbc.setState(0xd240, 0x700f, 0x9bd0, 0x4cc8, 0xb7c8, 0x7480, 0x1, 0x1);
        gbc.writeMem(0xd240, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x700f);
        EXPECT(gbc.pc(), 0xd241);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd240), 0x2d);
        // 2D 033D
        gbc.setState(0x1ed7, 0xbbc4, 0x9990, 0xd3fa, 0x890d, 0x10d5, 0x1, 0x0);
        gbc.writeMem(0x1ed7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbbc4);
        EXPECT(gbc.pc(), 0x1ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 033E
        gbc.setState(0x4b0a, 0x8363, 0x5600, 0x9894, 0xf16e, 0xb7e3, 0x0, 0x1);
        gbc.writeMem(0x4b0a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8363);
        EXPECT(gbc.pc(), 0x4b0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 033F
        gbc.setState(0x5b6f, 0xd136, 0x3dd0, 0xf0c, 0x42ce, 0x263f, 0x0, 0x0);
        gbc.writeMem(0x5b6f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xd136);
        EXPECT(gbc.pc(), 0x5b70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0340
        gbc.setState(0xb7f2, 0x8c07, 0x2600, 0x9f51, 0xd61f, 0xc619, 0x0, 0x1);
        gbc.writeMem(0xb7f2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8c07);
        EXPECT(gbc.pc(), 0xb7f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7f2), 0x2d);
        // 2D 0341
        gbc.setState(0x132, 0xf73b, 0x2df0, 0x58b9, 0xb23d, 0xafeb, 0x1, 0x1);
        gbc.writeMem(0x132, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf73b);
        EXPECT(gbc.pc(), 0x133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0342
        gbc.setState(0x600c, 0x83c2, 0x85b0, 0xc020, 0x9247, 0xbc49, 0x1, 0x0);
        gbc.writeMem(0x600c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x83c2);
        EXPECT(gbc.pc(), 0x600d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0343
        gbc.setState(0xb9, 0x2052, 0x7110, 0x66f1, 0x41ec, 0xe352, 0x0, 0x0);
        gbc.writeMem(0xb9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2052);
        EXPECT(gbc.pc(), 0xba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0344
        gbc.setState(0x5d96, 0xe0b1, 0x6d30, 0x3e98, 0xcd5a, 0x10b1, 0x0, 0x1);
        gbc.writeMem(0x5d96, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xe0b1);
        EXPECT(gbc.pc(), 0x5d97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0345
        gbc.setState(0x48c8, 0x92ff, 0x1f10, 0xcf41, 0xda94, 0xd6e5, 0x1, 0x1);
        gbc.writeMem(0x48c8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x92ff);
        EXPECT(gbc.pc(), 0x48c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0346
        gbc.setState(0xeef5, 0xbd0, 0xb570, 0xa98c, 0x1f73, 0xc035, 0x1, 0x1);
        gbc.writeMem(0xeef5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbd0);
        EXPECT(gbc.pc(), 0xeef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeef5), 0x2d);
        // 2D 0347
        gbc.setState(0x7eec, 0xdbc, 0x9fd0, 0x7770, 0xb9b7, 0xde3c, 0x1, 0x1);
        gbc.writeMem(0x7eec, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xdbc);
        EXPECT(gbc.pc(), 0x7eed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0349
        gbc.setState(0x1670, 0x8db3, 0x84f0, 0x21f4, 0xffe8, 0xbeff, 0x0, 0x0);
        gbc.writeMem(0x1670, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8db3);
        EXPECT(gbc.pc(), 0x1671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 034A
        gbc.setState(0x8c1e, 0x4a70, 0xcb0, 0xbd9c, 0x8e83, 0x6da1, 0x1, 0x0);
        gbc.writeMem(0x8c1e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4a70);
        EXPECT(gbc.pc(), 0x8c1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c1e), 0x2d);
        // 2D 034C
        gbc.setState(0x9e, 0x2e3, 0x9f30, 0x334a, 0x16de, 0xc791, 0x1, 0x0);
        gbc.writeMem(0x9e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2e3);
        EXPECT(gbc.pc(), 0x9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 034D
        gbc.setState(0x4981, 0x851e, 0x5d80, 0x8cc1, 0xa8b3, 0xac3b, 0x0, 0x1);
        gbc.writeMem(0x4981, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x851e);
        EXPECT(gbc.pc(), 0x4982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 034E
        gbc.setState(0xe226, 0x1a42, 0x9260, 0x7665, 0xf92b, 0xbca8, 0x1, 0x1);
        gbc.writeMem(0xe226, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1a42);
        EXPECT(gbc.pc(), 0xe227);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe226), 0x2d);
        // 2D 034F
        gbc.setState(0x5e11, 0x26ed, 0x8ef0, 0x3fb0, 0x4889, 0x9a1d, 0x1, 0x0);
        gbc.writeMem(0x5e11, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x26ed);
        EXPECT(gbc.pc(), 0x5e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0350
        gbc.setState(0x5f8c, 0x3841, 0x4ab0, 0x36df, 0x14be, 0xdde8, 0x0, 0x0);
        gbc.writeMem(0x5f8c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3841);
        EXPECT(gbc.pc(), 0x5f8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0351
        gbc.setState(0xef73, 0xb6d7, 0xbe00, 0x121e, 0xc6a3, 0x974e, 0x1, 0x1);
        gbc.writeMem(0xef73, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb6d7);
        EXPECT(gbc.pc(), 0xef74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef73), 0x2d);
        // 2D 0352
        gbc.setState(0x44ee, 0x1f16, 0xfa80, 0x31cc, 0x98a2, 0x701, 0x1, 0x1);
        gbc.writeMem(0x44ee, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x1f16);
        EXPECT(gbc.pc(), 0x44ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0353
        gbc.setState(0xe4ef, 0x3b0, 0xcb50, 0x9590, 0xed97, 0x1ef8, 0x1, 0x0);
        gbc.writeMem(0xe4ef, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3b0);
        EXPECT(gbc.pc(), 0xe4f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4ef), 0x2d);
        // 2D 0354
        gbc.setState(0x354d, 0x3af9, 0x8640, 0xa463, 0x6632, 0x8c8e, 0x0, 0x1);
        gbc.writeMem(0x354d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3af9);
        EXPECT(gbc.pc(), 0x354e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0355
        gbc.setState(0x85b3, 0xa551, 0xa240, 0xfa56, 0xa82d, 0x4566, 0x0, 0x1);
        gbc.writeMem(0x85b3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xa551);
        EXPECT(gbc.pc(), 0x85b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85b3), 0x2d);
        // 2D 0357
        gbc.setState(0xc958, 0x43d3, 0x82a0, 0x4dc3, 0x4dcb, 0x1edb, 0x1, 0x1);
        gbc.writeMem(0xc958, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x43d3);
        EXPECT(gbc.pc(), 0xc959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc958), 0x2d);
        // 2D 0358
        gbc.setState(0x98c6, 0xb6ea, 0xf230, 0x35a3, 0x40b4, 0x38c4, 0x1, 0x1);
        gbc.writeMem(0x98c6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb6ea);
        EXPECT(gbc.pc(), 0x98c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98c6), 0x2d);
        // 2D 0359
        gbc.setState(0xb6df, 0x350c, 0xe040, 0x237d, 0xc0eb, 0xe665, 0x0, 0x0);
        gbc.writeMem(0xb6df, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x350c);
        EXPECT(gbc.pc(), 0xb6e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6df), 0x2d);
        // 2D 035A
        gbc.setState(0x919d, 0x138e, 0x5d10, 0xf57d, 0x6e4a, 0x90a8, 0x0, 0x0);
        gbc.writeMem(0x919d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x138e);
        EXPECT(gbc.pc(), 0x919e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x919d), 0x2d);
        // 2D 035B
        gbc.setState(0x817e, 0x2d72, 0xa510, 0x52be, 0x7eef, 0xf269, 0x0, 0x1);
        gbc.writeMem(0x817e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2d72);
        EXPECT(gbc.pc(), 0x817f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x817e), 0x2d);
        // 2D 035C
        gbc.setState(0x2a82, 0xca00, 0x8470, 0xa824, 0xa626, 0x7cb5, 0x1, 0x1);
        gbc.writeMem(0x2a82, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xca00);
        EXPECT(gbc.pc(), 0x2a83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 035D
        gbc.setState(0x959a, 0x137a, 0x1d10, 0x6714, 0x8eb4, 0x2e43, 0x1, 0x1);
        gbc.writeMem(0x959a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x137a);
        EXPECT(gbc.pc(), 0x959b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x959a), 0x2d);
        // 2D 035E
        gbc.setState(0x44d6, 0x9051, 0x4b60, 0x16fc, 0x199c, 0xc6c, 0x1, 0x1);
        gbc.writeMem(0x44d6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9051);
        EXPECT(gbc.pc(), 0x44d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 035F
        gbc.setState(0x2271, 0x2f06, 0x43c0, 0x392f, 0x9368, 0x8e83, 0x1, 0x0);
        gbc.writeMem(0x2271, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2f06);
        EXPECT(gbc.pc(), 0x2272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0360
        gbc.setState(0x5a58, 0x4eb8, 0x9680, 0x56a7, 0x3a8a, 0xb5bb, 0x0, 0x1);
        gbc.writeMem(0x5a58, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4eb8);
        EXPECT(gbc.pc(), 0x5a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0361
        gbc.setState(0x9ec9, 0x7cd, 0x4b70, 0x196d, 0xc152, 0x60ba, 0x1, 0x0);
        gbc.writeMem(0x9ec9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7cd);
        EXPECT(gbc.pc(), 0x9eca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec9), 0x2d);
        // 2D 0362
        gbc.setState(0x9e46, 0x196f, 0xa900, 0xaaee, 0x19cd, 0x4faa, 0x0, 0x0);
        gbc.writeMem(0x9e46, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x196f);
        EXPECT(gbc.pc(), 0x9e47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e46), 0x2d);
        // 2D 0363
        gbc.setState(0xa469, 0x3b3b, 0x6f00, 0x2c8d, 0x74f5, 0x4db, 0x1, 0x0);
        gbc.writeMem(0xa469, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3b3b);
        EXPECT(gbc.pc(), 0xa46a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa469), 0x2d);
        // 2D 0364
        gbc.setState(0xd73e, 0x70d1, 0xc0d0, 0x66d5, 0xd866, 0x6df5, 0x0, 0x1);
        gbc.writeMem(0xd73e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x70d1);
        EXPECT(gbc.pc(), 0xd73f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd73e), 0x2d);
        // 2D 0365
        gbc.setState(0xc96, 0xeb1b, 0x6470, 0x8426, 0xdf7a, 0x15aa, 0x0, 0x1);
        gbc.writeMem(0xc96, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xeb1b);
        EXPECT(gbc.pc(), 0xc97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0366
        gbc.setState(0x133a, 0x98ec, 0x69d0, 0x31d, 0x83c2, 0xc337, 0x1, 0x1);
        gbc.writeMem(0x133a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x98ec);
        EXPECT(gbc.pc(), 0x133b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0367
        gbc.setState(0x63b, 0xeb35, 0xa430, 0x3314, 0xf8ff, 0xb191, 0x1, 0x0);
        gbc.writeMem(0x63b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xeb35);
        EXPECT(gbc.pc(), 0x63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0368
        gbc.setState(0x203b, 0xbcdf, 0x2f00, 0x6398, 0x8e8d, 0xfbe0, 0x1, 0x1);
        gbc.writeMem(0x203b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xbcdf);
        EXPECT(gbc.pc(), 0x203c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0369
        gbc.setState(0xe6bc, 0x94a, 0x57c0, 0x8c46, 0x5b64, 0x50a0, 0x0, 0x0);
        gbc.writeMem(0xe6bc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x94a);
        EXPECT(gbc.pc(), 0xe6bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6bc), 0x2d);
        // 2D 036A
        gbc.setState(0x85e, 0xc072, 0x4fc0, 0x6c7, 0x481e, 0x4600, 0x1, 0x0);
        gbc.writeMem(0x85e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc072);
        EXPECT(gbc.pc(), 0x85f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 036B
        gbc.setState(0xcc1b, 0xabbb, 0x9d10, 0xd411, 0xd3fe, 0x6865, 0x1, 0x0);
        gbc.writeMem(0xcc1b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xabbb);
        EXPECT(gbc.pc(), 0xcc1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc1b), 0x2d);
        // 2D 036D
        gbc.setState(0x5cbf, 0xd4bd, 0x3c30, 0xf868, 0xa182, 0x6400, 0x1, 0x1);
        gbc.writeMem(0x5cbf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd4bd);
        EXPECT(gbc.pc(), 0x5cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 036E
        gbc.setState(0x1ee6, 0xcbdc, 0xd3d0, 0xe5e, 0x57d5, 0xbdc, 0x0, 0x1);
        gbc.writeMem(0x1ee6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xcbdc);
        EXPECT(gbc.pc(), 0x1ee7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 036F
        gbc.setState(0x6985, 0xa51e, 0x1860, 0x8068, 0xf91d, 0x5842, 0x1, 0x1);
        gbc.writeMem(0x6985, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa51e);
        EXPECT(gbc.pc(), 0x6986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0370
        gbc.setState(0xe28d, 0xd953, 0x7a0, 0x9702, 0x2abd, 0xfd97, 0x1, 0x0);
        gbc.writeMem(0xe28d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd953);
        EXPECT(gbc.pc(), 0xe28e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe28d), 0x2d);
        // 2D 0371
        gbc.setState(0x163e, 0x85f2, 0x51c0, 0x600f, 0xbcb3, 0x2a4e, 0x1, 0x1);
        gbc.writeMem(0x163e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x85f2);
        EXPECT(gbc.pc(), 0x163f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0372
        gbc.setState(0x47e4, 0xdc5e, 0x69c0, 0x55b4, 0x88b6, 0x3850, 0x0, 0x0);
        gbc.writeMem(0x47e4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xdc5e);
        EXPECT(gbc.pc(), 0x47e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 0373
        gbc.setState(0xeea7, 0x4198, 0x8220, 0x8a26, 0x111a, 0x227c, 0x0, 0x1);
        gbc.writeMem(0xeea7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4198);
        EXPECT(gbc.pc(), 0xeea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeea7), 0x2d);
        // 2D 0374
        gbc.setState(0xd182, 0x2c44, 0xa310, 0xc891, 0x288d, 0xe4c1, 0x0, 0x0);
        gbc.writeMem(0xd182, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2c44);
        EXPECT(gbc.pc(), 0xd183);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd182), 0x2d);
        // 2D 0375
        gbc.setState(0x59e2, 0x680d, 0xee70, 0xd8f2, 0xf336, 0x6827, 0x1, 0x0);
        gbc.writeMem(0x59e2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x680d);
        EXPECT(gbc.pc(), 0x59e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0376
        gbc.setState(0xd16c, 0x5a8d, 0xcbe0, 0x1951, 0xc0a, 0x47ca, 0x0, 0x0);
        gbc.writeMem(0xd16c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x5a8d);
        EXPECT(gbc.pc(), 0xd16d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd16c), 0x2d);
        // 2D 0377
        gbc.setState(0xa41c, 0x64a7, 0xeec0, 0x2033, 0xc861, 0xda24, 0x0, 0x0);
        gbc.writeMem(0xa41c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x64a7);
        EXPECT(gbc.pc(), 0xa41d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa41c), 0x2d);
        // 2D 0378
        gbc.setState(0xb2c4, 0xadb8, 0xa660, 0x542c, 0x2e74, 0xd1ee, 0x1, 0x1);
        gbc.writeMem(0xb2c4, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xadb8);
        EXPECT(gbc.pc(), 0xb2c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c4), 0x2d);
        // 2D 0379
        gbc.setState(0x8e6f, 0xe45, 0x3470, 0xe808, 0x257b, 0xdf93, 0x1, 0x1);
        gbc.writeMem(0x8e6f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe45);
        EXPECT(gbc.pc(), 0x8e70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e6f), 0x2d);
        // 2D 037A
        gbc.setState(0xccba, 0x16d3, 0x8690, 0xc393, 0xe61f, 0x642a, 0x0, 0x0);
        gbc.writeMem(0xccba, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x16d3);
        EXPECT(gbc.pc(), 0xccbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccba), 0x2d);
        // 2D 037B
        gbc.setState(0xd265, 0x3af8, 0x6780, 0xcec2, 0x1871, 0xe9cb, 0x1, 0x1);
        gbc.writeMem(0xd265, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x3af8);
        EXPECT(gbc.pc(), 0xd266);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd265), 0x2d);
        // 2D 037C
        gbc.setState(0x8397, 0x36c2, 0xba20, 0xa, 0x8c1d, 0xeda4, 0x0, 0x1);
        gbc.writeMem(0x8397, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x36c2);
        EXPECT(gbc.pc(), 0x8398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8397), 0x2d);
        // 2D 037E
        gbc.setState(0x7b51, 0xc1cb, 0x2090, 0x81fa, 0x82a0, 0x87d8, 0x1, 0x0);
        gbc.writeMem(0x7b51, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xc1cb);
        EXPECT(gbc.pc(), 0x7b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 037F
        gbc.setState(0x5e5e, 0x18d8, 0x8ad0, 0xb725, 0xd778, 0x2de5, 0x0, 0x0);
        gbc.writeMem(0x5e5e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x18d8);
        EXPECT(gbc.pc(), 0x5e5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0380
        gbc.setState(0x2a33, 0x1715, 0xfb10, 0x6bf3, 0x5c6d, 0x1636, 0x1, 0x1);
        gbc.writeMem(0x2a33, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1715);
        EXPECT(gbc.pc(), 0x2a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0381
        gbc.setState(0xeaf9, 0x9ec, 0x5480, 0x27ad, 0x4248, 0xc865, 0x1, 0x0);
        gbc.writeMem(0xeaf9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9ec);
        EXPECT(gbc.pc(), 0xeafa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaf9), 0x2d);
        // 2D 0382
        gbc.setState(0xcfb0, 0x47c4, 0x29d0, 0x60ec, 0x7739, 0x915a, 0x1, 0x1);
        gbc.writeMem(0xcfb0, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x47c4);
        EXPECT(gbc.pc(), 0xcfb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb0), 0x2d);
        // 2D 0383
        gbc.setState(0x501a, 0xf202, 0x63e0, 0x14b4, 0x18fb, 0xe3fb, 0x1, 0x1);
        gbc.writeMem(0x501a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf202);
        EXPECT(gbc.pc(), 0x501b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0384
        gbc.setState(0x1349, 0xf3e1, 0x6b10, 0x1a7, 0xb697, 0xf37e, 0x1, 0x0);
        gbc.writeMem(0x1349, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf3e1);
        EXPECT(gbc.pc(), 0x134a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0385
        gbc.setState(0x9b57, 0x650e, 0xc830, 0x518b, 0xf349, 0xa27a, 0x0, 0x0);
        gbc.writeMem(0x9b57, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x650e);
        EXPECT(gbc.pc(), 0x9b58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b57), 0x2d);
        // 2D 0386
        gbc.setState(0x7ae7, 0x6897, 0xa930, 0x636e, 0x7637, 0x7d5e, 0x0, 0x1);
        gbc.writeMem(0x7ae7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6897);
        EXPECT(gbc.pc(), 0x7ae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0387
        gbc.setState(0xb03d, 0xcf1, 0xf5d0, 0xbd7c, 0x48f6, 0x38a6, 0x1, 0x0);
        gbc.writeMem(0xb03d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xcf1);
        EXPECT(gbc.pc(), 0xb03e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb03d), 0x2d);
        // 2D 0388
        gbc.setState(0x6b9d, 0x68e2, 0x3b50, 0x7eef, 0x54ac, 0x1f44, 0x1, 0x0);
        gbc.writeMem(0x6b9d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x68e2);
        EXPECT(gbc.pc(), 0x6b9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0389
        gbc.setState(0x6ce, 0x1835, 0x3b30, 0x50c4, 0xd768, 0xadf1, 0x1, 0x1);
        gbc.writeMem(0x6ce, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x1835);
        EXPECT(gbc.pc(), 0x6cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 038A
        gbc.setState(0xd63c, 0xbe9a, 0xa780, 0x41d4, 0xc885, 0xac8c, 0x1, 0x0);
        gbc.writeMem(0xd63c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xbe9a);
        EXPECT(gbc.pc(), 0xd63d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd63c), 0x2d);
        // 2D 038B
        gbc.setState(0x9a23, 0xb1a8, 0x4410, 0x303b, 0x68f, 0x4058, 0x1, 0x0);
        gbc.writeMem(0x9a23, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb1a8);
        EXPECT(gbc.pc(), 0x9a24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a23), 0x2d);
        // 2D 038C
        gbc.setState(0xb8bf, 0x6ed7, 0xafc0, 0x728d, 0xe8df, 0x3ecd, 0x0, 0x1);
        gbc.writeMem(0xb8bf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6ed7);
        EXPECT(gbc.pc(), 0xb8c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8bf), 0x2d);
        // 2D 038D
        gbc.setState(0xf00, 0xd7a4, 0xad20, 0x86f5, 0xf4b7, 0x3ffa, 0x0, 0x1);
        gbc.writeMem(0xf00, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xd7a4);
        EXPECT(gbc.pc(), 0xf01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 038E
        gbc.setState(0xae69, 0xeb7d, 0x43b0, 0xb23c, 0x963f, 0x599d, 0x0, 0x1);
        gbc.writeMem(0xae69, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xeb7d);
        EXPECT(gbc.pc(), 0xae6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae69), 0x2d);
        // 2D 038F
        gbc.setState(0x663a, 0xf1a8, 0x7190, 0xa738, 0x216d, 0x51cc, 0x0, 0x1);
        gbc.writeMem(0x663a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf1a8);
        EXPECT(gbc.pc(), 0x663b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0390
        gbc.setState(0x87fc, 0x1487, 0xd6b0, 0x73ce, 0xb29e, 0x6071, 0x1, 0x0);
        gbc.writeMem(0x87fc, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1487);
        EXPECT(gbc.pc(), 0x87fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87fc), 0x2d);
        // 2D 0391
        gbc.setState(0x7c0f, 0x6a31, 0xdf60, 0x36d2, 0xe35d, 0x55f4, 0x1, 0x1);
        gbc.writeMem(0x7c0f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x6a31);
        EXPECT(gbc.pc(), 0x7c10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0392
        gbc.setState(0x1b63, 0xd2c6, 0xec40, 0x90e2, 0x2674, 0x7a53, 0x1, 0x0);
        gbc.writeMem(0x1b63, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd2c6);
        EXPECT(gbc.pc(), 0x1b64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0393
        gbc.setState(0xdbc3, 0x56a3, 0xe1c0, 0x9c66, 0x2ff8, 0x8b4e, 0x1, 0x0);
        gbc.writeMem(0xdbc3, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x56a3);
        EXPECT(gbc.pc(), 0xdbc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc3), 0x2d);
        // 2D 0394
        gbc.setState(0xb4a7, 0xf2b6, 0xdb0, 0xe688, 0x48d, 0xe462, 0x1, 0x1);
        gbc.writeMem(0xb4a7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf2b6);
        EXPECT(gbc.pc(), 0xb4a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4a7), 0x2d);
        // 2D 0395
        gbc.setState(0x6c60, 0xfe4a, 0x53b0, 0x6221, 0x5720, 0x576a, 0x0, 0x0);
        gbc.writeMem(0x6c60, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xfe4a);
        EXPECT(gbc.pc(), 0x6c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 0396
        gbc.setState(0xa46d, 0x7af1, 0x78e0, 0xb7ca, 0x3306, 0x9626, 0x0, 0x1);
        gbc.writeMem(0xa46d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7af1);
        EXPECT(gbc.pc(), 0xa46e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46d), 0x2d);
        // 2D 0397
        gbc.setState(0x1bfd, 0x99a7, 0xd500, 0x3f47, 0x9b55, 0x3179, 0x0, 0x0);
        gbc.writeMem(0x1bfd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x99a7);
        EXPECT(gbc.pc(), 0x1bfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 0398
        gbc.setState(0xefa7, 0x319f, 0x9fe0, 0x4a55, 0xf415, 0x75a4, 0x0, 0x1);
        gbc.writeMem(0xefa7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x319f);
        EXPECT(gbc.pc(), 0xefa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefa7), 0x2d);
        // 2D 0399
        gbc.setState(0x3a8d, 0x5109, 0xbec0, 0x8122, 0xc37f, 0xedf3, 0x0, 0x1);
        gbc.writeMem(0x3a8d, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5109);
        EXPECT(gbc.pc(), 0x3a8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 039A
        gbc.setState(0x321f, 0x34a5, 0xfe0, 0xbc6a, 0x3398, 0x99c2, 0x0, 0x1);
        gbc.writeMem(0x321f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x34a5);
        EXPECT(gbc.pc(), 0x3220);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 039B
        gbc.setState(0x42dd, 0xae6c, 0xe880, 0xc873, 0xdec3, 0x79e8, 0x1, 0x0);
        gbc.writeMem(0x42dd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xae6c);
        EXPECT(gbc.pc(), 0x42de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 039C
        gbc.setState(0x627c, 0x8346, 0xe3c0, 0x43f2, 0x2c9d, 0x6d94, 0x1, 0x0);
        gbc.writeMem(0x627c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8346);
        EXPECT(gbc.pc(), 0x627d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 039D
        gbc.setState(0x644, 0xf914, 0xb0e0, 0xd7fa, 0xc120, 0xc846, 0x1, 0x1);
        gbc.writeMem(0x644, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xf914);
        EXPECT(gbc.pc(), 0x645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 039E
        gbc.setState(0x9fda, 0x4eb2, 0x3ab0, 0x3e0b, 0x8dd5, 0xd686, 0x1, 0x1);
        gbc.writeMem(0x9fda, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4eb2);
        EXPECT(gbc.pc(), 0x9fdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fda), 0x2d);
        // 2D 039F
        gbc.setState(0xbe19, 0xba76, 0x4260, 0x3bc9, 0x92a8, 0x1927, 0x0, 0x1);
        gbc.writeMem(0xbe19, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xba76);
        EXPECT(gbc.pc(), 0xbe1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe19), 0x2d);
        // 2D 03A0
        gbc.setState(0x1028, 0x3b39, 0x4ff0, 0x6d5d, 0x6af0, 0x499f, 0x0, 0x0);
        gbc.writeMem(0x1028, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3b39);
        EXPECT(gbc.pc(), 0x1029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03A1
        gbc.setState(0x94f9, 0xb399, 0xd280, 0x1f4, 0xf2e8, 0xf6a4, 0x1, 0x0);
        gbc.writeMem(0x94f9, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xb399);
        EXPECT(gbc.pc(), 0x94fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94f9), 0x2d);
        // 2D 03A2
        gbc.setState(0x23dd, 0xc28d, 0x3460, 0x9f03, 0x7243, 0x8eee, 0x1, 0x0);
        gbc.writeMem(0x23dd, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xc28d);
        EXPECT(gbc.pc(), 0x23de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03A3
        gbc.setState(0x33af, 0x3039, 0x4970, 0x95e8, 0x795b, 0x9f6, 0x0, 0x0);
        gbc.writeMem(0x33af, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3039);
        EXPECT(gbc.pc(), 0x33b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03A5
        gbc.setState(0x4839, 0xdf1e, 0x90d0, 0x25df, 0x3154, 0x31f0, 0x1, 0x1);
        gbc.writeMem(0x4839, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xdf1e);
        EXPECT(gbc.pc(), 0x483a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 2D 03A6
        gbc.setState(0x2d8a, 0x5b0f, 0x9820, 0x4e0c, 0xaeb5, 0x6390, 0x0, 0x1);
        gbc.writeMem(0x2d8a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5b0f);
        EXPECT(gbc.pc(), 0x2d8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 03A7
        gbc.setState(0x3bb7, 0xcf3, 0xcea0, 0xfa1b, 0xfda7, 0x9206, 0x1, 0x0);
        gbc.writeMem(0x3bb7, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xcf3);
        EXPECT(gbc.pc(), 0x3bb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03A8
        gbc.setState(0x2bf, 0xa08e, 0xd390, 0x287d, 0xa73d, 0xda05, 0x0, 0x0);
        gbc.writeMem(0x2bf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xa08e);
        EXPECT(gbc.pc(), 0x2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03A9
        gbc.setState(0x8058, 0x5633, 0x5660, 0x9145, 0x50d, 0xa913, 0x1, 0x1);
        gbc.writeMem(0x8058, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5633);
        EXPECT(gbc.pc(), 0x8059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8058), 0x2d);
        // 2D 03AA
        gbc.setState(0x4f1, 0x981c, 0x4a70, 0x358f, 0x78c7, 0x4ad3, 0x1, 0x0);
        gbc.writeMem(0x4f1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x981c);
        EXPECT(gbc.pc(), 0x4f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03AB
        gbc.setState(0xe5d5, 0x5621, 0xa960, 0x9de5, 0x767, 0xd1c3, 0x1, 0x1);
        gbc.writeMem(0xe5d5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5621);
        EXPECT(gbc.pc(), 0xe5d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d5), 0x2d);
        // 2D 03AC
        gbc.setState(0x7ed5, 0xb9bf, 0x8e40, 0x104f, 0x58e2, 0x7a8a, 0x1, 0x1);
        gbc.writeMem(0x7ed5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb9bf);
        EXPECT(gbc.pc(), 0x7ed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03AD
        gbc.setState(0x8f1f, 0x7ebc, 0xcd90, 0x5272, 0xe47d, 0x4af4, 0x0, 0x0);
        gbc.writeMem(0x8f1f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7ebc);
        EXPECT(gbc.pc(), 0x8f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f1f), 0x2d);
        // 2D 03AE
        gbc.setState(0x84c, 0xe038, 0xdcc0, 0xb409, 0xfec4, 0x6bff, 0x1, 0x0);
        gbc.writeMem(0x84c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe038);
        EXPECT(gbc.pc(), 0x84d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03AF
        gbc.setState(0x4fad, 0x8c43, 0x6970, 0xe195, 0x8be6, 0x39ad, 0x0, 0x1);
        gbc.writeMem(0x4fad, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8c43);
        EXPECT(gbc.pc(), 0x4fae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03B0
        gbc.setState(0xd03b, 0x7952, 0xcef0, 0x5a56, 0xbfe3, 0xa5d9, 0x1, 0x0);
        gbc.writeMem(0xd03b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x7952);
        EXPECT(gbc.pc(), 0xd03c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd03b), 0x2d);
        // 2D 03B1
        gbc.setState(0x5738, 0x7adc, 0xa360, 0x83e6, 0x2da3, 0x352f, 0x1, 0x1);
        gbc.writeMem(0x5738, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7adc);
        EXPECT(gbc.pc(), 0x5739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03B2
        gbc.setState(0x671, 0xe630, 0x6b60, 0x5e14, 0xcb5d, 0xe46c, 0x1, 0x1);
        gbc.writeMem(0x671, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe630);
        EXPECT(gbc.pc(), 0x672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03B3
        gbc.setState(0x3c23, 0x31a1, 0xa8b0, 0xcafb, 0x76ac, 0x8a09, 0x1, 0x1);
        gbc.writeMem(0x3c23, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x31a1);
        EXPECT(gbc.pc(), 0x3c24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03B5
        gbc.setState(0x3aa8, 0x1a24, 0xfc80, 0x1d8e, 0xf569, 0x750, 0x1, 0x1);
        gbc.writeMem(0x3aa8, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1a24);
        EXPECT(gbc.pc(), 0x3aa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 2D 03B6
        gbc.setState(0xb382, 0x4c0c, 0x5030, 0x44, 0x6ccd, 0x3ea0, 0x0, 0x0);
        gbc.writeMem(0xb382, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4c0c);
        EXPECT(gbc.pc(), 0xb383);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb382), 0x2d);
        // 2D 03B7
        gbc.setState(0xa220, 0xec49, 0x4ca0, 0xe1e4, 0x3ae4, 0xa8e4, 0x1, 0x1);
        gbc.writeMem(0xa220, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xec49);
        EXPECT(gbc.pc(), 0xa221);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa220), 0x2d);
        // 2D 03B8
        gbc.setState(0xe13a, 0x862, 0xf900, 0xec69, 0x330f, 0x8f17, 0x0, 0x0);
        gbc.writeMem(0xe13a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x862);
        EXPECT(gbc.pc(), 0xe13b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe13a), 0x2d);
        // 2D 03B9
        gbc.setState(0x215c, 0x3be3, 0xa860, 0x842c, 0xef67, 0xe4a7, 0x0, 0x0);
        gbc.writeMem(0x215c, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3be3);
        EXPECT(gbc.pc(), 0x215d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03BA
        gbc.setState(0xa8e2, 0x1ff2, 0xc940, 0x73e, 0xc159, 0x921b, 0x1, 0x1);
        gbc.writeMem(0xa8e2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1ff2);
        EXPECT(gbc.pc(), 0xa8e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8e2), 0x2d);
        // 2D 03BC
        gbc.setState(0x6ec5, 0x78e6, 0x64a0, 0xe6ec, 0x5654, 0x7c59, 0x1, 0x0);
        gbc.writeMem(0x6ec5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x78e6);
        EXPECT(gbc.pc(), 0x6ec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03BD
        gbc.setState(0xbd09, 0xe7e5, 0x92f0, 0x585, 0x2355, 0xf75b, 0x1, 0x0);
        gbc.writeMem(0xbd09, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe7e5);
        EXPECT(gbc.pc(), 0xbd0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd09), 0x2d);
        // 2D 03BE
        gbc.setState(0x9fcf, 0xbe5b, 0xf800, 0x2cbb, 0xda35, 0x6aa4, 0x1, 0x1);
        gbc.writeMem(0x9fcf, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xbe5b);
        EXPECT(gbc.pc(), 0x9fd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fcf), 0x2d);
        // 2D 03BF
        gbc.setState(0xd93, 0x2e49, 0x9b80, 0x4b30, 0xc0b0, 0x9232, 0x0, 0x1);
        gbc.writeMem(0xd93, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2e49);
        EXPECT(gbc.pc(), 0xd94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03C0
        gbc.setState(0x4be2, 0xe0fd, 0x7fb0, 0xc687, 0x762c, 0x97b2, 0x1, 0x1);
        gbc.writeMem(0x4be2, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe0fd);
        EXPECT(gbc.pc(), 0x4be3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03C1
        gbc.setState(0x2070, 0xf61b, 0x85d0, 0x1719, 0x605f, 0xa0e7, 0x0, 0x0);
        gbc.writeMem(0x2070, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf61b);
        EXPECT(gbc.pc(), 0x2071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03C2
        gbc.setState(0x5d01, 0x26b3, 0xe2c0, 0x4d9a, 0xfea6, 0x6bed, 0x0, 0x0);
        gbc.writeMem(0x5d01, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x26b3);
        EXPECT(gbc.pc(), 0x5d02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03C3
        gbc.setState(0xae84, 0x9590, 0x27e0, 0x1354, 0xb94f, 0xba4b, 0x1, 0x0);
        gbc.writeMem(0xae84, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9590);
        EXPECT(gbc.pc(), 0xae85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae84), 0x2d);
        // 2D 03C5
        gbc.setState(0x9772, 0x50d6, 0xc0, 0xa4ab, 0x8a7f, 0x838e, 0x1, 0x0);
        gbc.writeMem(0x9772, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x50d6);
        EXPECT(gbc.pc(), 0x9773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9772), 0x2d);
        // 2D 03C6
        gbc.setState(0x8966, 0x3a39, 0x9350, 0xad8, 0x4bbe, 0x286d, 0x1, 0x1);
        gbc.writeMem(0x8966, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x3a39);
        EXPECT(gbc.pc(), 0x8967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8966), 0x2d);
        // 2D 03C7
        gbc.setState(0x9e5f, 0x8b66, 0xdc90, 0x9de1, 0x9edd, 0x1f45, 0x1, 0x1);
        gbc.writeMem(0x9e5f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x8b66);
        EXPECT(gbc.pc(), 0x9e60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e5f), 0x2d);
        // 2D 03C8
        gbc.setState(0x8b6, 0xe8ca, 0x7200, 0x9af8, 0x36ea, 0x91b4, 0x1, 0x1);
        gbc.writeMem(0x8b6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe8ca);
        EXPECT(gbc.pc(), 0x8b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03C9
        gbc.setState(0xe16f, 0xd97d, 0xee70, 0x2996, 0x9efb, 0x8af8, 0x0, 0x0);
        gbc.writeMem(0xe16f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xd97d);
        EXPECT(gbc.pc(), 0xe170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe16f), 0x2d);
        // 2D 03CA
        gbc.setState(0x9812, 0xa164, 0xd960, 0x22ce, 0xe030, 0x1885, 0x0, 0x1);
        gbc.writeMem(0x9812, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa164);
        EXPECT(gbc.pc(), 0x9813);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9812), 0x2d);
        // 2D 03CC
        gbc.setState(0x416a, 0xb407, 0xff20, 0xac49, 0x8557, 0x14a3, 0x0, 0x0);
        gbc.writeMem(0x416a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xb407);
        EXPECT(gbc.pc(), 0x416b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03CD
        gbc.setState(0x221a, 0x596b, 0x8960, 0xdf72, 0x4ed7, 0x74eb, 0x1, 0x1);
        gbc.writeMem(0x221a, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x596b);
        EXPECT(gbc.pc(), 0x221b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03CE
        gbc.setState(0x9fe5, 0xde48, 0x3e30, 0x156b, 0x487e, 0x57de, 0x1, 0x1);
        gbc.writeMem(0x9fe5, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xde48);
        EXPECT(gbc.pc(), 0x9fe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fe5), 0x2d);
        // 2D 03CF
        gbc.setState(0xbbc6, 0xf0df, 0x430, 0xc299, 0x2868, 0xa62c, 0x1, 0x0);
        gbc.writeMem(0xbbc6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf0df);
        EXPECT(gbc.pc(), 0xbbc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbc6), 0x2d);
        // 2D 03D0
        gbc.setState(0xd084, 0x9ce9, 0xf910, 0x1fc5, 0x1eaa, 0xd384, 0x1, 0x0);
        gbc.writeMem(0xd084, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9ce9);
        EXPECT(gbc.pc(), 0xd085);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd084), 0x2d);
        // 2D 03D2
        gbc.setState(0x4717, 0x14cd, 0x5a0, 0xfe83, 0xadab, 0x4b89, 0x0, 0x0);
        gbc.writeMem(0x4717, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x14cd);
        EXPECT(gbc.pc(), 0x4718);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03D5
        gbc.setState(0x8bee, 0x52fe, 0x9670, 0x740f, 0xf748, 0x5895, 0x0, 0x0);
        gbc.writeMem(0x8bee, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x52fe);
        EXPECT(gbc.pc(), 0x8bef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bee), 0x2d);
        // 2D 03D6
        gbc.setState(0x73bb, 0xa216, 0x3a90, 0xc1f6, 0xa377, 0x2632, 0x1, 0x1);
        gbc.writeMem(0x73bb, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa216);
        EXPECT(gbc.pc(), 0x73bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03D8
        gbc.setState(0x87f6, 0x181c, 0x9470, 0x55a5, 0x825f, 0xaf50, 0x1, 0x0);
        gbc.writeMem(0x87f6, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x181c);
        EXPECT(gbc.pc(), 0x87f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87f6), 0x2d);
        // 2D 03D9
        gbc.setState(0xb6ef, 0x9a55, 0x4ae0, 0x8e1a, 0x670d, 0x2799, 0x1, 0x1);
        gbc.writeMem(0xb6ef, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9a55);
        EXPECT(gbc.pc(), 0xb6f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ef), 0x2d);
        // 2D 03DA
        gbc.setState(0x85e1, 0x8e02, 0x8220, 0xe4e0, 0x36, 0xb8b2, 0x0, 0x0);
        gbc.writeMem(0x85e1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8e02);
        EXPECT(gbc.pc(), 0x85e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85e1), 0x2d);
        // 2D 03DB
        gbc.setState(0x8a8b, 0x7745, 0xbd60, 0xce90, 0xe118, 0x6deb, 0x1, 0x1);
        gbc.writeMem(0x8a8b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7745);
        EXPECT(gbc.pc(), 0x8a8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a8b), 0x2d);
        // 2D 03DC
        gbc.setState(0x9aec, 0xfdc7, 0xbb50, 0x5c51, 0x996c, 0x56f, 0x1, 0x0);
        gbc.writeMem(0x9aec, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfdc7);
        EXPECT(gbc.pc(), 0x9aed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aec), 0x2d);
        // 2D 03DE
        gbc.setState(0x298b, 0x88ec, 0xe680, 0xca01, 0x7fa6, 0x7334, 0x1, 0x1);
        gbc.writeMem(0x298b, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x88ec);
        EXPECT(gbc.pc(), 0x298c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 2D 03DF
        gbc.setState(0x8496, 0xb130, 0x14b0, 0xd6ab, 0x9b89, 0xa9b6, 0x1, 0x1);
        gbc.writeMem(0x8496, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb130);
        EXPECT(gbc.pc(), 0x8497);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8496), 0x2d);
        // 2D 03E0
        gbc.setState(0x7789, 0xc4a1, 0x66d0, 0xe132, 0x7040, 0x1d01, 0x0, 0x1);
        gbc.writeMem(0x7789, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xc4a1);
        EXPECT(gbc.pc(), 0x778a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03E1
        gbc.setState(0xa8c1, 0xfde3, 0x8c0, 0xa186, 0xd036, 0x5102, 0x1, 0x1);
        gbc.writeMem(0xa8c1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xfde3);
        EXPECT(gbc.pc(), 0xa8c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8c1), 0x2d);
        // 2D 03E2
        gbc.setState(0xca11, 0x8635, 0x2960, 0xbfa1, 0x607b, 0x3ce6, 0x1, 0x1);
        gbc.writeMem(0xca11, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8635);
        EXPECT(gbc.pc(), 0xca12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca11), 0x2d);
        // 2D 03E4
        gbc.setState(0x9940, 0x21be, 0x6510, 0xc54f, 0xe0a4, 0x85d4, 0x0, 0x1);
        gbc.writeMem(0x9940, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x21be);
        EXPECT(gbc.pc(), 0x9941);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9940), 0x2d);
        // 2D 03E5
        gbc.setState(0xb13f, 0xf393, 0xa240, 0x41bc, 0x3b30, 0xedc2, 0x0, 0x0);
        gbc.writeMem(0xb13f, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf393);
        EXPECT(gbc.pc(), 0xb140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb13f), 0x2d);
        // 2D 03E6
        gbc.setState(0x7648, 0x79c3, 0x1ff0, 0xbb3b, 0xe079, 0x611b, 0x0, 0x1);
        gbc.writeMem(0x7648, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x79c3);
        EXPECT(gbc.pc(), 0x7649);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 2D 03E7
        gbc.setState(0x1603, 0xe5e3, 0xca80, 0xcf10, 0x25d3, 0x5313, 0x0, 0x1);
        gbc.writeMem(0x1603, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe5e3);
        EXPECT(gbc.pc(), 0x1604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
