    TEST(gbcemu, opcode_81) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 81 0000
        gbc.setState(0xc64c, 0x9f58, 0x2100, 0x682b, 0x547e, 0x55f8, 0x0, 0x0);
        gbc.writeMem(0xc64c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9f58);
        EXPECT(gbc.pc(), 0xc64d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc64c), 0x81);
        // 81 0001
        gbc.setState(0x4997, 0x2357, 0xd980, 0xb53d, 0x59fc, 0xb6e2, 0x1, 0x0);
        gbc.writeMem(0x4997, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2357);
        EXPECT(gbc.pc(), 0x4998);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0002
        gbc.setState(0x23c9, 0xe92e, 0x3070, 0x8efa, 0xaafd, 0x7ff3, 0x1, 0x0);
        gbc.writeMem(0x23c9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe92e);
        EXPECT(gbc.pc(), 0x23ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0003
        gbc.setState(0xee74, 0x2f0c, 0x9e30, 0x9cac, 0x92cc, 0x1ba8, 0x1, 0x0);
        gbc.writeMem(0xee74, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2f0c);
        EXPECT(gbc.pc(), 0xee75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee74), 0x81);
        // 81 0004
        gbc.setState(0x850e, 0x6fda, 0x3570, 0xb7c0, 0xdddf, 0x63a0, 0x0, 0x1);
        gbc.writeMem(0x850e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6fda);
        EXPECT(gbc.pc(), 0x850f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x850e), 0x81);
        // 81 0006
        gbc.setState(0x3091, 0xb0f, 0xcba0, 0x7ab6, 0x5c4f, 0x5a56, 0x1, 0x0);
        gbc.writeMem(0x3091, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb0f);
        EXPECT(gbc.pc(), 0x3092);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0007
        gbc.setState(0x935, 0x5926, 0xe770, 0x2d53, 0x7b9e, 0x1261, 0x0, 0x0);
        gbc.writeMem(0x935, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5926);
        EXPECT(gbc.pc(), 0x936);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0008
        gbc.setState(0x7353, 0xe01a, 0x4810, 0xfbdd, 0x584c, 0xf44c, 0x0, 0x0);
        gbc.writeMem(0x7353, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe01a);
        EXPECT(gbc.pc(), 0x7354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0009
        gbc.setState(0xb70b, 0x5cef, 0x54b0, 0x3577, 0x533c, 0x8183, 0x0, 0x0);
        gbc.writeMem(0xb70b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x5cef);
        EXPECT(gbc.pc(), 0xb70c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb70b), 0x81);
        // 81 000A
        gbc.setState(0x8bce, 0x3e2e, 0xb8a0, 0xbb33, 0xde6a, 0xfff8, 0x1, 0x1);
        gbc.writeMem(0x8bce, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3e2e);
        EXPECT(gbc.pc(), 0x8bcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bce), 0x81);
        // 81 000B
        gbc.setState(0xa8d7, 0x9873, 0xdcd0, 0x25ad, 0xc9d6, 0xc9e5, 0x0, 0x1);
        gbc.writeMem(0xa8d7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x9873);
        EXPECT(gbc.pc(), 0xa8d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8d7), 0x81);
        // 81 000C
        gbc.setState(0xeb9f, 0xf852, 0x9820, 0x76e6, 0xb629, 0x9c0b, 0x0, 0x1);
        gbc.writeMem(0xeb9f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xf852);
        EXPECT(gbc.pc(), 0xeba0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb9f), 0x81);
        // 81 000D
        gbc.setState(0xe695, 0x83f5, 0x1f80, 0x6641, 0xccad, 0xba1f, 0x0, 0x1);
        gbc.writeMem(0xe695, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x83f5);
        EXPECT(gbc.pc(), 0xe696);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe695), 0x81);
        // 81 000E
        gbc.setState(0xd340, 0x5478, 0x9410, 0x8846, 0x9911, 0x1fbb, 0x0, 0x0);
        gbc.writeMem(0xd340, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5478);
        EXPECT(gbc.pc(), 0xd341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd340), 0x81);
        // 81 000F
        gbc.setState(0x7da7, 0xfe17, 0xe4a0, 0x9b90, 0x9188, 0x35d5, 0x1, 0x0);
        gbc.writeMem(0x7da7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfe17);
        EXPECT(gbc.pc(), 0x7da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0010
        gbc.setState(0x8f17, 0x638c, 0xf620, 0xebbf, 0xda54, 0xd312, 0x1, 0x0);
        gbc.writeMem(0x8f17, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x638c);
        EXPECT(gbc.pc(), 0x8f18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f17), 0x81);
        // 81 0011
        gbc.setState(0x40a6, 0x127, 0x3480, 0xbb17, 0x8746, 0xfc5e, 0x1, 0x0);
        gbc.writeMem(0x40a6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x127);
        EXPECT(gbc.pc(), 0x40a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0012
        gbc.setState(0x4959, 0xef91, 0x44b0, 0xb038, 0x74df, 0xe569, 0x1, 0x0);
        gbc.writeMem(0x4959, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xef91);
        EXPECT(gbc.pc(), 0x495a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0013
        gbc.setState(0xc461, 0xa929, 0xcc50, 0x7858, 0x8dcd, 0xf752, 0x0, 0x0);
        gbc.writeMem(0xc461, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa929);
        EXPECT(gbc.pc(), 0xc462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc461), 0x81);
        // 81 0014
        gbc.setState(0xd645, 0x5e1, 0xdf20, 0x8e40, 0xeb92, 0x9373, 0x1, 0x1);
        gbc.writeMem(0xd645, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5e1);
        EXPECT(gbc.pc(), 0xd646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd645), 0x81);
        // 81 0015
        gbc.setState(0xdaca, 0x5282, 0xb280, 0x2473, 0xdca2, 0xe2c0, 0x1, 0x0);
        gbc.writeMem(0xdaca, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x5282);
        EXPECT(gbc.pc(), 0xdacb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaca), 0x81);
        // 81 0016
        gbc.setState(0xa1af, 0xaf91, 0x3b10, 0xf179, 0xe96d, 0x3f80, 0x0, 0x1);
        gbc.writeMem(0xa1af, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xaf91);
        EXPECT(gbc.pc(), 0xa1b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1af), 0x81);
        // 81 0017
        gbc.setState(0x51a3, 0x72ab, 0x7710, 0x6273, 0x1ee9, 0xbb53, 0x1, 0x0);
        gbc.writeMem(0x51a3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x72ab);
        EXPECT(gbc.pc(), 0x51a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0019
        gbc.setState(0x3ae8, 0xee53, 0xeb70, 0xcbbf, 0x5371, 0x3ae2, 0x0, 0x0);
        gbc.writeMem(0x3ae8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xee53);
        EXPECT(gbc.pc(), 0x3ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 001A
        gbc.setState(0x4b39, 0x3c50, 0x2aa0, 0x3748, 0x59d7, 0x2f67, 0x0, 0x1);
        gbc.writeMem(0x4b39, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x3c50);
        EXPECT(gbc.pc(), 0x4b3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 001B
        gbc.setState(0xd4ee, 0xf68f, 0x4b0, 0x45bf, 0xd21e, 0x356c, 0x0, 0x1);
        gbc.writeMem(0xd4ee, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf68f);
        EXPECT(gbc.pc(), 0xd4ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4ee), 0x81);
        // 81 001D
        gbc.setState(0x11c0, 0x3592, 0x60c0, 0x1422, 0x7eea, 0xbf1b, 0x1, 0x0);
        gbc.writeMem(0x11c0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3592);
        EXPECT(gbc.pc(), 0x11c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 001F
        gbc.setState(0x132d, 0xe044, 0xdc30, 0xb03b, 0x879b, 0xa4f0, 0x0, 0x0);
        gbc.writeMem(0x132d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe044);
        EXPECT(gbc.pc(), 0x132e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0020
        gbc.setState(0xc514, 0x3b67, 0xb0e0, 0xe8c6, 0x44d8, 0x68d0, 0x0, 0x1);
        gbc.writeMem(0xc514, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3b67);
        EXPECT(gbc.pc(), 0xc515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc514), 0x81);
        // 81 0021
        gbc.setState(0xd8c2, 0x29ae, 0x1ee0, 0x5c12, 0x47da, 0xc5de, 0x0, 0x0);
        gbc.writeMem(0xd8c2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x29ae);
        EXPECT(gbc.pc(), 0xd8c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8c2), 0x81);
        // 81 0022
        gbc.setState(0x4c45, 0x2ac0, 0x86e0, 0x7801, 0x9bb7, 0x66b9, 0x0, 0x0);
        gbc.writeMem(0x4c45, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x2ac0);
        EXPECT(gbc.pc(), 0x4c46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0023
        gbc.setState(0x693b, 0xb8a4, 0x34f0, 0x7635, 0xd319, 0x2348, 0x0, 0x0);
        gbc.writeMem(0x693b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb8a4);
        EXPECT(gbc.pc(), 0x693c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0024
        gbc.setState(0x63d9, 0x41d4, 0x8150, 0xa3c8, 0x9adb, 0x4fc6, 0x1, 0x1);
        gbc.writeMem(0x63d9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x41d4);
        EXPECT(gbc.pc(), 0x63da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0025
        gbc.setState(0x1ab6, 0x293f, 0xf0b0, 0x7013, 0xf964, 0x4ed5, 0x0, 0x0);
        gbc.writeMem(0x1ab6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x293f);
        EXPECT(gbc.pc(), 0x1ab7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0026
        gbc.setState(0xee9f, 0xc291, 0x10a0, 0x3de6, 0xf7aa, 0x26c5, 0x0, 0x0);
        gbc.writeMem(0xee9f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc291);
        EXPECT(gbc.pc(), 0xeea0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee9f), 0x81);
        // 81 0027
        gbc.setState(0xe34a, 0x76e2, 0x86b0, 0x2bc5, 0xb04f, 0x77fa, 0x1, 0x0);
        gbc.writeMem(0xe34a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x76e2);
        EXPECT(gbc.pc(), 0xe34b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe34a), 0x81);
        // 81 0028
        gbc.setState(0xcb0c, 0x4b4b, 0xd6f0, 0x15e6, 0x6eb3, 0x64a4, 0x0, 0x0);
        gbc.writeMem(0xcb0c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4b4b);
        EXPECT(gbc.pc(), 0xcb0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb0c), 0x81);
        // 81 0029
        gbc.setState(0xaae4, 0x6e60, 0xd870, 0x6a74, 0xfc32, 0x6f35, 0x1, 0x0);
        gbc.writeMem(0xaae4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6e60);
        EXPECT(gbc.pc(), 0xaae5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaae4), 0x81);
        // 81 002A
        gbc.setState(0x5056, 0xcb89, 0x2880, 0xd7bc, 0x6189, 0x7459, 0x1, 0x1);
        gbc.writeMem(0x5056, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xcb89);
        EXPECT(gbc.pc(), 0x5057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 002B
        gbc.setState(0x4bd5, 0x1abd, 0x8c10, 0xb4ff, 0xc02e, 0x5f08, 0x0, 0x0);
        gbc.writeMem(0x4bd5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1abd);
        EXPECT(gbc.pc(), 0x4bd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 002C
        gbc.setState(0xcf16, 0x1bee, 0xa560, 0x6e8e, 0x329b, 0xe693, 0x0, 0x1);
        gbc.writeMem(0xcf16, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1bee);
        EXPECT(gbc.pc(), 0xcf17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf16), 0x81);
        // 81 002D
        gbc.setState(0x3b49, 0x968d, 0x44e0, 0x8c8a, 0xc155, 0x483b, 0x1, 0x1);
        gbc.writeMem(0x3b49, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x968d);
        EXPECT(gbc.pc(), 0x3b4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 002E
        gbc.setState(0xbe26, 0xfd67, 0xbe20, 0x8138, 0xb656, 0xe9, 0x1, 0x0);
        gbc.writeMem(0xbe26, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xfd67);
        EXPECT(gbc.pc(), 0xbe27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe26), 0x81);
        // 81 002F
        gbc.setState(0xbf30, 0xea6f, 0x4de0, 0xf251, 0x79cc, 0x4c5c, 0x0, 0x0);
        gbc.writeMem(0xbf30, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xea6f);
        EXPECT(gbc.pc(), 0xbf31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf30), 0x81);
        // 81 0030
        gbc.setState(0xd746, 0xa8c5, 0x5df0, 0x5723, 0xcc03, 0x6b78, 0x0, 0x0);
        gbc.writeMem(0xd746, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xa8c5);
        EXPECT(gbc.pc(), 0xd747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd746), 0x81);
        // 81 0031
        gbc.setState(0x5501, 0xaf95, 0x4d70, 0x24ba, 0xf402, 0x5d38, 0x0, 0x0);
        gbc.writeMem(0x5501, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xaf95);
        EXPECT(gbc.pc(), 0x5502);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0032
        gbc.setState(0xbcf5, 0x3cc9, 0x94d0, 0xa06, 0x401b, 0x9d79, 0x1, 0x1);
        gbc.writeMem(0xbcf5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3cc9);
        EXPECT(gbc.pc(), 0xbcf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcf5), 0x81);
        // 81 0033
        gbc.setState(0xb3e3, 0x88d9, 0x69e0, 0x4971, 0x43b9, 0x8eec, 0x0, 0x1);
        gbc.writeMem(0xb3e3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x88d9);
        EXPECT(gbc.pc(), 0xb3e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3e3), 0x81);
        // 81 0034
        gbc.setState(0x4417, 0xcf93, 0xe5b0, 0x1a53, 0x45c8, 0xe11a, 0x1, 0x0);
        gbc.writeMem(0x4417, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xcf93);
        EXPECT(gbc.pc(), 0x4418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0035
        gbc.setState(0xad45, 0xa0a7, 0x6950, 0xfb9e, 0xfdb2, 0xd2e2, 0x1, 0x1);
        gbc.writeMem(0xad45, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa0a7);
        EXPECT(gbc.pc(), 0xad46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad45), 0x81);
        // 81 0036
        gbc.setState(0x21e8, 0xf962, 0xfb70, 0x8698, 0x94c8, 0x789, 0x1, 0x0);
        gbc.writeMem(0x21e8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf962);
        EXPECT(gbc.pc(), 0x21e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0037
        gbc.setState(0xcc90, 0x5e4a, 0x290, 0x98a2, 0x93ff, 0x619c, 0x0, 0x0);
        gbc.writeMem(0xcc90, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x5e4a);
        EXPECT(gbc.pc(), 0xcc91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc90), 0x81);
        // 81 0038
        gbc.setState(0xb625, 0x38c7, 0xfcc0, 0xbd95, 0xcafb, 0xe7a9, 0x1, 0x0);
        gbc.writeMem(0xb625, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x38c7);
        EXPECT(gbc.pc(), 0xb626);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb625), 0x81);
        // 81 0039
        gbc.setState(0x23a4, 0x4f34, 0x72f0, 0xd6a6, 0xedca, 0x419e, 0x1, 0x1);
        gbc.writeMem(0x23a4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x4f34);
        EXPECT(gbc.pc(), 0x23a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 003A
        gbc.setState(0x4244, 0xf8cd, 0x4ce0, 0x5002, 0x65cd, 0x7876, 0x0, 0x0);
        gbc.writeMem(0x4244, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf8cd);
        EXPECT(gbc.pc(), 0x4245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 003B
        gbc.setState(0xd132, 0xe29e, 0xb600, 0x5784, 0xa820, 0x9bf6, 0x1, 0x0);
        gbc.writeMem(0xd132, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xe29e);
        EXPECT(gbc.pc(), 0xd133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd132), 0x81);
        // 81 003C
        gbc.setState(0xe376, 0xa803, 0x960, 0x4d55, 0x6237, 0xed94, 0x0, 0x0);
        gbc.writeMem(0xe376, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa803);
        EXPECT(gbc.pc(), 0xe377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe376), 0x81);
        // 81 003D
        gbc.setState(0x2cbc, 0x96a8, 0x88d0, 0x987, 0xf589, 0xd1d8, 0x1, 0x0);
        gbc.writeMem(0x2cbc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x96a8);
        EXPECT(gbc.pc(), 0x2cbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 003E
        gbc.setState(0xcb23, 0xf515, 0xe4c0, 0xf1e3, 0x9c47, 0xaa5f, 0x0, 0x0);
        gbc.writeMem(0xcb23, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf515);
        EXPECT(gbc.pc(), 0xcb24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb23), 0x81);
        // 81 003F
        gbc.setState(0x309, 0x955c, 0x8300, 0xe8fe, 0xd690, 0xaf6a, 0x1, 0x1);
        gbc.writeMem(0x309, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x955c);
        EXPECT(gbc.pc(), 0x30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0040
        gbc.setState(0xcbbc, 0x6030, 0xa170, 0x289f, 0xac01, 0x1ce0, 0x0, 0x0);
        gbc.writeMem(0xcbbc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6030);
        EXPECT(gbc.pc(), 0xcbbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbbc), 0x81);
        // 81 0041
        gbc.setState(0x9272, 0x6870, 0x50e0, 0xc9d0, 0x7591, 0xd1bc, 0x0, 0x0);
        gbc.writeMem(0x9272, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x6870);
        EXPECT(gbc.pc(), 0x9273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9272), 0x81);
        // 81 0042
        gbc.setState(0x24d5, 0x3e92, 0x4f70, 0x791e, 0x2269, 0xc6c0, 0x1, 0x1);
        gbc.writeMem(0x24d5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3e92);
        EXPECT(gbc.pc(), 0x24d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0044
        gbc.setState(0xc55e, 0xfc54, 0xedf0, 0xe38, 0xd474, 0x171b, 0x0, 0x0);
        gbc.writeMem(0xc55e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xfc54);
        EXPECT(gbc.pc(), 0xc55f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc55e), 0x81);
        // 81 0045
        gbc.setState(0x9166, 0x92b2, 0x9f30, 0xb1c6, 0x67ab, 0xe152, 0x0, 0x0);
        gbc.writeMem(0x9166, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x92b2);
        EXPECT(gbc.pc(), 0x9167);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9166), 0x81);
        // 81 0046
        gbc.setState(0xbf63, 0xeb4e, 0x31e0, 0x5873, 0x2b99, 0xc9aa, 0x0, 0x1);
        gbc.writeMem(0xbf63, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xeb4e);
        EXPECT(gbc.pc(), 0xbf64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf63), 0x81);
        // 81 0047
        gbc.setState(0x9a77, 0xbc6, 0x8d50, 0x78d3, 0x8aae, 0x2de9, 0x1, 0x1);
        gbc.writeMem(0x9a77, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xbc6);
        EXPECT(gbc.pc(), 0x9a78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a77), 0x81);
        // 81 0048
        gbc.setState(0xa9ba, 0x39ba, 0x1e10, 0x204f, 0x3e39, 0xcfe7, 0x0, 0x0);
        gbc.writeMem(0xa9ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x39ba);
        EXPECT(gbc.pc(), 0xa9bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ba), 0x81);
        // 81 0049
        gbc.setState(0xce19, 0x74b8, 0x55b0, 0xce8e, 0x2a96, 0x7e10, 0x1, 0x0);
        gbc.writeMem(0xce19, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x74b8);
        EXPECT(gbc.pc(), 0xce1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce19), 0x81);
        // 81 004A
        gbc.setState(0xb69c, 0xe9af, 0x8ad0, 0xca58, 0xefa6, 0x3da5, 0x1, 0x0);
        gbc.writeMem(0xb69c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe9af);
        EXPECT(gbc.pc(), 0xb69d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb69c), 0x81);
        // 81 004B
        gbc.setState(0x3d9b, 0x146d, 0xb50, 0xba30, 0xd33a, 0x5406, 0x1, 0x0);
        gbc.writeMem(0x3d9b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x146d);
        EXPECT(gbc.pc(), 0x3d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 004C
        gbc.setState(0x595a, 0x16a4, 0x2000, 0x5b4d, 0x1edb, 0x3144, 0x0, 0x0);
        gbc.writeMem(0x595a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x16a4);
        EXPECT(gbc.pc(), 0x595b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 004D
        gbc.setState(0x1441, 0x4f43, 0x5ba0, 0xbac5, 0xbc20, 0xe3b5, 0x0, 0x1);
        gbc.writeMem(0x1441, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4f43);
        EXPECT(gbc.pc(), 0x1442);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 004E
        gbc.setState(0xa539, 0x7ccf, 0xdba0, 0xa631, 0xcbd9, 0x1db5, 0x1, 0x1);
        gbc.writeMem(0xa539, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7ccf);
        EXPECT(gbc.pc(), 0xa53a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa539), 0x81);
        // 81 004F
        gbc.setState(0xac62, 0x56a, 0xf000, 0xad0e, 0x2e25, 0x433, 0x0, 0x0);
        gbc.writeMem(0xac62, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x56a);
        EXPECT(gbc.pc(), 0xac63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac62), 0x81);
        // 81 0050
        gbc.setState(0xcf1e, 0x2a13, 0x6580, 0x6772, 0xf8a2, 0x3240, 0x0, 0x1);
        gbc.writeMem(0xcf1e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2a13);
        EXPECT(gbc.pc(), 0xcf1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf1e), 0x81);
        // 81 0051
        gbc.setState(0x66db, 0x7331, 0x8cc0, 0xe366, 0x88e, 0x1375, 0x0, 0x0);
        gbc.writeMem(0x66db, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x7331);
        EXPECT(gbc.pc(), 0x66dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0052
        gbc.setState(0xaba5, 0x4071, 0x350, 0xa385, 0xc0d3, 0xfa41, 0x1, 0x1);
        gbc.writeMem(0xaba5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4071);
        EXPECT(gbc.pc(), 0xaba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaba5), 0x81);
        // 81 0053
        gbc.setState(0xe86c, 0xa12e, 0x4c40, 0xb3e, 0x1bd, 0x8fb6, 0x0, 0x0);
        gbc.writeMem(0xe86c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa12e);
        EXPECT(gbc.pc(), 0xe86d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86c), 0x81);
        // 81 0054
        gbc.setState(0xd506, 0xc6d4, 0x3340, 0x44ac, 0x273a, 0xff36, 0x0, 0x0);
        gbc.writeMem(0xd506, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc6d4);
        EXPECT(gbc.pc(), 0xd507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd506), 0x81);
        // 81 0055
        gbc.setState(0x50cc, 0x8710, 0x7590, 0x3301, 0x7622, 0x8821, 0x0, 0x0);
        gbc.writeMem(0x50cc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x8710);
        EXPECT(gbc.pc(), 0x50cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0056
        gbc.setState(0xb313, 0xf67c, 0x4ab0, 0xffdf, 0x270c, 0xd6e4, 0x0, 0x0);
        gbc.writeMem(0xb313, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf67c);
        EXPECT(gbc.pc(), 0xb314);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb313), 0x81);
        // 81 0057
        gbc.setState(0x438e, 0xbc49, 0xffd0, 0xcee0, 0x6691, 0x47b9, 0x0, 0x0);
        gbc.writeMem(0x438e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xbc49);
        EXPECT(gbc.pc(), 0x438f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0058
        gbc.setState(0x37fd, 0x1388, 0x6420, 0x58ff, 0x9589, 0x55d5, 0x1, 0x0);
        gbc.writeMem(0x37fd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1388);
        EXPECT(gbc.pc(), 0x37fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0059
        gbc.setState(0x4fd4, 0xd106, 0x6c30, 0x7e34, 0x13ad, 0xf760, 0x0, 0x0);
        gbc.writeMem(0x4fd4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd106);
        EXPECT(gbc.pc(), 0x4fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 005A
        gbc.setState(0x73d3, 0x7e69, 0x9260, 0xa4a6, 0x57ed, 0x158, 0x0, 0x1);
        gbc.writeMem(0x73d3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7e69);
        EXPECT(gbc.pc(), 0x73d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 005B
        gbc.setState(0xee1c, 0xe51d, 0xdb80, 0x536, 0x2789, 0x2947, 0x0, 0x0);
        gbc.writeMem(0xee1c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe51d);
        EXPECT(gbc.pc(), 0xee1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee1c), 0x81);
        // 81 005C
        gbc.setState(0xb2ca, 0xd029, 0x22f0, 0x15df, 0xb655, 0xfe67, 0x0, 0x1);
        gbc.writeMem(0xb2ca, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd029);
        EXPECT(gbc.pc(), 0xb2cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2ca), 0x81);
        // 81 005D
        gbc.setState(0xa8ca, 0x18de, 0x5260, 0x4bed, 0xf14d, 0xf43d, 0x1, 0x0);
        gbc.writeMem(0xa8ca, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x18de);
        EXPECT(gbc.pc(), 0xa8cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ca), 0x81);
        // 81 005E
        gbc.setState(0x9146, 0x9c1b, 0xd3e0, 0x569e, 0xf069, 0x51ca, 0x1, 0x0);
        gbc.writeMem(0x9146, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x9c1b);
        EXPECT(gbc.pc(), 0x9147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9146), 0x81);
        // 81 005F
        gbc.setState(0x663f, 0x568, 0xd850, 0x97e7, 0xf7a6, 0xef73, 0x0, 0x1);
        gbc.writeMem(0x663f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x568);
        EXPECT(gbc.pc(), 0x6640);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0060
        gbc.setState(0x9c33, 0x749a, 0xce80, 0xb207, 0x3429, 0xa60c, 0x0, 0x1);
        gbc.writeMem(0x9c33, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x749a);
        EXPECT(gbc.pc(), 0x9c34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c33), 0x81);
        // 81 0061
        gbc.setState(0xa5b1, 0xa54e, 0x2d20, 0x26c6, 0xab8f, 0x274, 0x1, 0x1);
        gbc.writeMem(0xa5b1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa54e);
        EXPECT(gbc.pc(), 0xa5b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5b1), 0x81);
        // 81 0062
        gbc.setState(0x5abe, 0x5573, 0x7f90, 0x5f18, 0xe498, 0x2f61, 0x1, 0x1);
        gbc.writeMem(0x5abe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5573);
        EXPECT(gbc.pc(), 0x5abf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0064
        gbc.setState(0xc61d, 0x6b6d, 0xf2d0, 0x4b1b, 0x4422, 0x7694, 0x0, 0x0);
        gbc.writeMem(0xc61d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x6b6d);
        EXPECT(gbc.pc(), 0xc61e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc61d), 0x81);
        // 81 0065
        gbc.setState(0x266c, 0xead6, 0x81a0, 0x832a, 0x3356, 0xa258, 0x0, 0x1);
        gbc.writeMem(0x266c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xead6);
        EXPECT(gbc.pc(), 0x266d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0066
        gbc.setState(0xa969, 0xdb9b, 0x5c60, 0xa029, 0x6afc, 0x3409, 0x0, 0x0);
        gbc.writeMem(0xa969, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdb9b);
        EXPECT(gbc.pc(), 0xa96a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa969), 0x81);
        // 81 0067
        gbc.setState(0x1027, 0x3d5a, 0xbd80, 0x5e36, 0xbadb, 0xe0a8, 0x0, 0x0);
        gbc.writeMem(0x1027, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3d5a);
        EXPECT(gbc.pc(), 0x1028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0068
        gbc.setState(0x2df2, 0xaa08, 0x4f20, 0x936a, 0xda61, 0xcbe3, 0x1, 0x0);
        gbc.writeMem(0x2df2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xaa08);
        EXPECT(gbc.pc(), 0x2df3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0069
        gbc.setState(0x19e4, 0xf8a0, 0xa3c0, 0x1000, 0x4ff8, 0x89c5, 0x0, 0x1);
        gbc.writeMem(0x19e4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf8a0);
        EXPECT(gbc.pc(), 0x19e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 006A
        gbc.setState(0x41ba, 0xe9eb, 0x35c0, 0x4f, 0xdddc, 0x86c5, 0x0, 0x1);
        gbc.writeMem(0x41ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe9eb);
        EXPECT(gbc.pc(), 0x41bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 006B
        gbc.setState(0xd489, 0x9db, 0x2e80, 0x37a1, 0x635f, 0x97fb, 0x1, 0x0);
        gbc.writeMem(0xd489, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9db);
        EXPECT(gbc.pc(), 0xd48a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd489), 0x81);
        // 81 006C
        gbc.setState(0x39e8, 0x55e7, 0x5f30, 0xf7ca, 0xd075, 0x2c88, 0x1, 0x0);
        gbc.writeMem(0x39e8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x55e7);
        EXPECT(gbc.pc(), 0x39e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 006D
        gbc.setState(0xb722, 0xf749, 0xe430, 0x44c6, 0x15e, 0x11c1, 0x0, 0x1);
        gbc.writeMem(0xb722, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf749);
        EXPECT(gbc.pc(), 0xb723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb722), 0x81);
        // 81 006E
        gbc.setState(0x9658, 0x32ce, 0x7fc0, 0xc430, 0xb0f8, 0x408c, 0x0, 0x0);
        gbc.writeMem(0x9658, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x32ce);
        EXPECT(gbc.pc(), 0x9659);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9658), 0x81);
        // 81 006F
        gbc.setState(0xc7b0, 0xde4, 0xc0, 0x9743, 0x9d5e, 0x53bf, 0x0, 0x0);
        gbc.writeMem(0xc7b0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xde4);
        EXPECT(gbc.pc(), 0xc7b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b0), 0x81);
        // 81 0070
        gbc.setState(0x396c, 0x2cd4, 0x2fa0, 0xac51, 0x15d5, 0x7082, 0x0, 0x1);
        gbc.writeMem(0x396c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2cd4);
        EXPECT(gbc.pc(), 0x396d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0071
        gbc.setState(0x50c9, 0xe269, 0xde90, 0x4611, 0x5800, 0x1377, 0x0, 0x0);
        gbc.writeMem(0x50c9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe269);
        EXPECT(gbc.pc(), 0x50ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0072
        gbc.setState(0xe10c, 0x576b, 0x9100, 0xf85b, 0x2445, 0x845, 0x0, 0x0);
        gbc.writeMem(0xe10c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x576b);
        EXPECT(gbc.pc(), 0xe10d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe10c), 0x81);
        // 81 0073
        gbc.setState(0xd654, 0x582, 0x8e60, 0x8168, 0x75dd, 0x29b8, 0x0, 0x1);
        gbc.writeMem(0xd654, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x582);
        EXPECT(gbc.pc(), 0xd655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd654), 0x81);
        // 81 0074
        gbc.setState(0xe649, 0x2d1, 0xca70, 0xf294, 0x606c, 0x4cab, 0x0, 0x1);
        gbc.writeMem(0xe649, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2d1);
        EXPECT(gbc.pc(), 0xe64a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe649), 0x81);
        // 81 0075
        gbc.setState(0xe8cd, 0x4520, 0x2d90, 0x821, 0xdeee, 0x9f49, 0x0, 0x1);
        gbc.writeMem(0xe8cd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x4520);
        EXPECT(gbc.pc(), 0xe8ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8cd), 0x81);
        // 81 0076
        gbc.setState(0xee55, 0xad4c, 0x10, 0xfc77, 0x4aa4, 0xb9b3, 0x0, 0x0);
        gbc.writeMem(0xee55, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xad4c);
        EXPECT(gbc.pc(), 0xee56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee55), 0x81);
        // 81 0077
        gbc.setState(0x99bf, 0xaecb, 0x7680, 0xd268, 0xd277, 0xdbab, 0x1, 0x0);
        gbc.writeMem(0x99bf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xaecb);
        EXPECT(gbc.pc(), 0x99c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99bf), 0x81);
        // 81 0079
        gbc.setState(0xde4a, 0x9402, 0x340, 0xeabe, 0x2fe5, 0x7ebb, 0x0, 0x0);
        gbc.writeMem(0xde4a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x9402);
        EXPECT(gbc.pc(), 0xde4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde4a), 0x81);
        // 81 007A
        gbc.setState(0xb8bf, 0x4d7f, 0x49d0, 0x5608, 0x9ac0, 0xd7c, 0x0, 0x0);
        gbc.writeMem(0xb8bf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x4d7f);
        EXPECT(gbc.pc(), 0xb8c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8bf), 0x81);
        // 81 007B
        gbc.setState(0xd84e, 0xe767, 0x56b0, 0x1cde, 0x602b, 0xa575, 0x1, 0x0);
        gbc.writeMem(0xd84e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe767);
        EXPECT(gbc.pc(), 0xd84f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd84e), 0x81);
        // 81 007C
        gbc.setState(0x5faa, 0xe9e0, 0x6b40, 0x1e4, 0x3e6b, 0x812c, 0x0, 0x1);
        gbc.writeMem(0x5faa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe9e0);
        EXPECT(gbc.pc(), 0x5fab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 007D
        gbc.setState(0x5da5, 0x3527, 0x94c0, 0xf32d, 0x82b2, 0xdf4d, 0x1, 0x1);
        gbc.writeMem(0x5da5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3527);
        EXPECT(gbc.pc(), 0x5da6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 007E
        gbc.setState(0xafb9, 0x9cb9, 0x8b70, 0x63d6, 0x1df5, 0x1d80, 0x1, 0x1);
        gbc.writeMem(0xafb9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9cb9);
        EXPECT(gbc.pc(), 0xafba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb9), 0x81);
        // 81 007F
        gbc.setState(0x3c3c, 0x5f96, 0x9ff0, 0x921c, 0x70e7, 0x1962, 0x0, 0x1);
        gbc.writeMem(0x3c3c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x5f96);
        EXPECT(gbc.pc(), 0x3c3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0081
        gbc.setState(0x8656, 0x23ae, 0x90b0, 0x8eea, 0x5b79, 0x3a86, 0x0, 0x0);
        gbc.writeMem(0x8656, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x23ae);
        EXPECT(gbc.pc(), 0x8657);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8656), 0x81);
        // 81 0082
        gbc.setState(0x1b68, 0x8408, 0x15a0, 0x61b6, 0xd913, 0x2874, 0x1, 0x0);
        gbc.writeMem(0x1b68, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8408);
        EXPECT(gbc.pc(), 0x1b69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0083
        gbc.setState(0xb8c8, 0x8a46, 0x9010, 0x1d50, 0x3f65, 0x260b, 0x0, 0x1);
        gbc.writeMem(0xb8c8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8a46);
        EXPECT(gbc.pc(), 0xb8c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8c8), 0x81);
        // 81 0084
        gbc.setState(0x320d, 0xb5c9, 0xe0b0, 0x6d9a, 0x8f70, 0xe012, 0x1, 0x1);
        gbc.writeMem(0x320d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb5c9);
        EXPECT(gbc.pc(), 0x320e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0085
        gbc.setState(0x1094, 0x8c37, 0xd950, 0x739e, 0xefbb, 0x4dc5, 0x1, 0x0);
        gbc.writeMem(0x1094, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8c37);
        EXPECT(gbc.pc(), 0x1095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0086
        gbc.setState(0x8f0c, 0x5daf, 0xb180, 0x2ae6, 0xf49e, 0x463c, 0x0, 0x1);
        gbc.writeMem(0x8f0c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5daf);
        EXPECT(gbc.pc(), 0x8f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f0c), 0x81);
        // 81 0087
        gbc.setState(0x8e5c, 0xfcb, 0x2ea0, 0xfffd, 0x716d, 0x4a00, 0x0, 0x0);
        gbc.writeMem(0x8e5c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xfcb);
        EXPECT(gbc.pc(), 0x8e5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e5c), 0x81);
        // 81 0088
        gbc.setState(0xe2b8, 0x2435, 0x3c70, 0x54fe, 0x8155, 0x161c, 0x1, 0x0);
        gbc.writeMem(0xe2b8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2435);
        EXPECT(gbc.pc(), 0xe2b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2b8), 0x81);
        // 81 0089
        gbc.setState(0x6772, 0xd8c3, 0xcc20, 0x7bb3, 0xdec9, 0x6757, 0x0, 0x0);
        gbc.writeMem(0x6772, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xd8c3);
        EXPECT(gbc.pc(), 0x6773);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 008B
        gbc.setState(0xd14e, 0xdcc7, 0xc3d0, 0xfa7f, 0xbac5, 0x6e34, 0x1, 0x1);
        gbc.writeMem(0xd14e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xdcc7);
        EXPECT(gbc.pc(), 0xd14f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd14e), 0x81);
        // 81 008C
        gbc.setState(0xee42, 0x943d, 0x7000, 0x9964, 0xb9ec, 0xa666, 0x1, 0x1);
        gbc.writeMem(0xee42, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x943d);
        EXPECT(gbc.pc(), 0xee43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee42), 0x81);
        // 81 008F
        gbc.setState(0x98e, 0xc5d4, 0x3c00, 0xeeda, 0xe81a, 0xaef8, 0x1, 0x1);
        gbc.writeMem(0x98e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xc5d4);
        EXPECT(gbc.pc(), 0x98f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0090
        gbc.setState(0xa023, 0x2019, 0x7100, 0x9f15, 0xfd35, 0x165, 0x1, 0x1);
        gbc.writeMem(0xa023, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2019);
        EXPECT(gbc.pc(), 0xa024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa023), 0x81);
        // 81 0091
        gbc.setState(0xecc2, 0x6a1, 0x37e0, 0xe253, 0x111a, 0x3e82, 0x1, 0x1);
        gbc.writeMem(0xecc2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6a1);
        EXPECT(gbc.pc(), 0xecc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecc2), 0x81);
        // 81 0092
        gbc.setState(0x48dc, 0x19c2, 0xcf70, 0x723a, 0x90f4, 0x3b64, 0x0, 0x0);
        gbc.writeMem(0x48dc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x19c2);
        EXPECT(gbc.pc(), 0x48dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0093
        gbc.setState(0xd5ae, 0xc3b3, 0xfac0, 0x33c9, 0xd3f, 0xfb6d, 0x0, 0x1);
        gbc.writeMem(0xd5ae, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc3b3);
        EXPECT(gbc.pc(), 0xd5af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5ae), 0x81);
        // 81 0094
        gbc.setState(0x6a0e, 0xf841, 0x7660, 0x55a8, 0x94ff, 0x8eeb, 0x1, 0x0);
        gbc.writeMem(0x6a0e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf841);
        EXPECT(gbc.pc(), 0x6a0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0095
        gbc.setState(0x9d08, 0x6717, 0x3430, 0xbf7c, 0x607c, 0x72c5, 0x0, 0x1);
        gbc.writeMem(0x9d08, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6717);
        EXPECT(gbc.pc(), 0x9d09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d08), 0x81);
        // 81 0096
        gbc.setState(0x90e3, 0xe5db, 0xa050, 0x4654, 0x3473, 0x6a53, 0x1, 0x0);
        gbc.writeMem(0x90e3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe5db);
        EXPECT(gbc.pc(), 0x90e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e3), 0x81);
        // 81 0098
        gbc.setState(0xab3b, 0x40a9, 0xce10, 0x88ef, 0x54d, 0x1c1e, 0x0, 0x0);
        gbc.writeMem(0xab3b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x40a9);
        EXPECT(gbc.pc(), 0xab3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab3b), 0x81);
        // 81 0099
        gbc.setState(0x5fd0, 0x87d1, 0x950, 0x9866, 0x6dc7, 0x5a74, 0x1, 0x0);
        gbc.writeMem(0x5fd0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x87d1);
        EXPECT(gbc.pc(), 0x5fd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 009A
        gbc.setState(0x2031, 0x3597, 0xce40, 0x1d6d, 0xe331, 0x8a80, 0x0, 0x0);
        gbc.writeMem(0x2031, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3597);
        EXPECT(gbc.pc(), 0x2032);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 009B
        gbc.setState(0xd301, 0x9e33, 0x9e20, 0x32ad, 0xf3c4, 0xe3e2, 0x1, 0x1);
        gbc.writeMem(0xd301, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9e33);
        EXPECT(gbc.pc(), 0xd302);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd301), 0x81);
        // 81 009C
        gbc.setState(0xb0ce, 0x7838, 0x66d0, 0xf6be, 0xcf4a, 0x8d4, 0x0, 0x1);
        gbc.writeMem(0xb0ce, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x7838);
        EXPECT(gbc.pc(), 0xb0cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0ce), 0x81);
        // 81 009D
        gbc.setState(0x949a, 0x4a62, 0xac80, 0xc6c9, 0x6ff8, 0xfdb0, 0x1, 0x0);
        gbc.writeMem(0x949a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4a62);
        EXPECT(gbc.pc(), 0x949b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x949a), 0x81);
        // 81 009E
        gbc.setState(0x32c2, 0xf176, 0x22b0, 0x7a5c, 0x1349, 0xff1a, 0x1, 0x0);
        gbc.writeMem(0x32c2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf176);
        EXPECT(gbc.pc(), 0x32c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 009F
        gbc.setState(0x62da, 0xc361, 0xc8a0, 0x9f44, 0xec78, 0xee72, 0x0, 0x0);
        gbc.writeMem(0x62da, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc361);
        EXPECT(gbc.pc(), 0x62db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00A0
        gbc.setState(0xeca2, 0xdd5c, 0x2d50, 0xf4ac, 0xdf4d, 0x4800, 0x0, 0x1);
        gbc.writeMem(0xeca2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdd5c);
        EXPECT(gbc.pc(), 0xeca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeca2), 0x81);
        // 81 00A1
        gbc.setState(0xbecf, 0x788, 0x2f90, 0x896f, 0x3822, 0xcc4c, 0x0, 0x1);
        gbc.writeMem(0xbecf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x788);
        EXPECT(gbc.pc(), 0xbed0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbecf), 0x81);
        // 81 00A2
        gbc.setState(0x54ba, 0xb259, 0x8a50, 0xad0d, 0xf717, 0xeb33, 0x0, 0x0);
        gbc.writeMem(0x54ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb259);
        EXPECT(gbc.pc(), 0x54bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00A3
        gbc.setState(0xc7c7, 0xb08a, 0x4fa0, 0xe2bf, 0x17cd, 0x4a61, 0x1, 0x1);
        gbc.writeMem(0xc7c7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb08a);
        EXPECT(gbc.pc(), 0xc7c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7c7), 0x81);
        // 81 00A4
        gbc.setState(0x3bf6, 0x8624, 0x120, 0x398d, 0xd0dd, 0xfcaa, 0x1, 0x0);
        gbc.writeMem(0x3bf6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x8624);
        EXPECT(gbc.pc(), 0x3bf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00A6
        gbc.setState(0xcb2f, 0x7ea6, 0xd00, 0xc3a, 0xbaba, 0x2f44, 0x1, 0x1);
        gbc.writeMem(0xcb2f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7ea6);
        EXPECT(gbc.pc(), 0xcb30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb2f), 0x81);
        // 81 00A7
        gbc.setState(0xb5ef, 0x62c1, 0x71b0, 0x8eaf, 0xbe8a, 0xb8b5, 0x1, 0x1);
        gbc.writeMem(0xb5ef, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x62c1);
        EXPECT(gbc.pc(), 0xb5f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5ef), 0x81);
        // 81 00A8
        gbc.setState(0x40c3, 0xc605, 0xcba0, 0xa72a, 0xa800, 0xac97, 0x0, 0x1);
        gbc.writeMem(0x40c3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc605);
        EXPECT(gbc.pc(), 0x40c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00A9
        gbc.setState(0x6e43, 0x839e, 0xa6c0, 0x7b53, 0x4231, 0x4380, 0x0, 0x0);
        gbc.writeMem(0x6e43, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x839e);
        EXPECT(gbc.pc(), 0x6e44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00AA
        gbc.setState(0xae7f, 0x37b3, 0xa740, 0x293b, 0x7cbd, 0x4ec7, 0x1, 0x0);
        gbc.writeMem(0xae7f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x37b3);
        EXPECT(gbc.pc(), 0xae80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae7f), 0x81);
        // 81 00AB
        gbc.setState(0xa15d, 0x1b6, 0xa2a0, 0x2593, 0x6b05, 0xa249, 0x0, 0x0);
        gbc.writeMem(0xa15d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1b6);
        EXPECT(gbc.pc(), 0xa15e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa15d), 0x81);
        // 81 00AC
        gbc.setState(0x96d9, 0x2306, 0x7a10, 0x47d5, 0x1557, 0x9499, 0x0, 0x0);
        gbc.writeMem(0x96d9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2306);
        EXPECT(gbc.pc(), 0x96da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96d9), 0x81);
        // 81 00AD
        gbc.setState(0x930f, 0xa39b, 0xbad0, 0xece6, 0x2ad2, 0x46b9, 0x0, 0x0);
        gbc.writeMem(0x930f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa39b);
        EXPECT(gbc.pc(), 0x9310);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x930f), 0x81);
        // 81 00AE
        gbc.setState(0x7a26, 0xbd37, 0x7b20, 0xe299, 0xd65b, 0xd3b7, 0x1, 0x0);
        gbc.writeMem(0x7a26, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xbd37);
        EXPECT(gbc.pc(), 0x7a27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00AF
        gbc.setState(0x3cd3, 0x6f11, 0x9130, 0x8e09, 0x155d, 0x23b2, 0x1, 0x1);
        gbc.writeMem(0x3cd3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6f11);
        EXPECT(gbc.pc(), 0x3cd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00B0
        gbc.setState(0x8cdf, 0xdb6, 0xf930, 0x11a4, 0xc77e, 0xdd51, 0x0, 0x0);
        gbc.writeMem(0x8cdf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xdb6);
        EXPECT(gbc.pc(), 0x8ce0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cdf), 0x81);
        // 81 00B1
        gbc.setState(0x44bd, 0x34ac, 0x4970, 0x90f4, 0x55d1, 0x2e90, 0x1, 0x0);
        gbc.writeMem(0x44bd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x34ac);
        EXPECT(gbc.pc(), 0x44be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00B2
        gbc.setState(0x7b7, 0x5ab6, 0x7480, 0x4749, 0xdf55, 0xf7d3, 0x0, 0x0);
        gbc.writeMem(0x7b7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5ab6);
        EXPECT(gbc.pc(), 0x7b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00B3
        gbc.setState(0x663a, 0x7a94, 0x9370, 0x3bd7, 0x84b9, 0x8b1c, 0x0, 0x1);
        gbc.writeMem(0x663a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7a94);
        EXPECT(gbc.pc(), 0x663b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00B4
        gbc.setState(0x8310, 0x2ac3, 0xf340, 0x9f98, 0xb8bb, 0xcb29, 0x0, 0x0);
        gbc.writeMem(0x8310, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x2ac3);
        EXPECT(gbc.pc(), 0x8311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8310), 0x81);
        // 81 00B6
        gbc.setState(0xc4f, 0xc5d0, 0x4fd0, 0x51ab, 0xaa9c, 0xee74, 0x1, 0x0);
        gbc.writeMem(0xc4f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc5d0);
        EXPECT(gbc.pc(), 0xc50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00B7
        gbc.setState(0xe6a, 0x4b1e, 0xd310, 0xc4c, 0x2051, 0x29c2, 0x1, 0x0);
        gbc.writeMem(0xe6a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4b1e);
        EXPECT(gbc.pc(), 0xe6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00B8
        gbc.setState(0x4470, 0x52cf, 0x5040, 0xdbec, 0x3e6d, 0x3acc, 0x0, 0x0);
        gbc.writeMem(0x4470, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x52cf);
        EXPECT(gbc.pc(), 0x4471);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00B9
        gbc.setState(0xd5fd, 0x361c, 0xbc60, 0x498a, 0x4589, 0xc7fe, 0x0, 0x0);
        gbc.writeMem(0xd5fd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x361c);
        EXPECT(gbc.pc(), 0xd5fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5fd), 0x81);
        // 81 00BA
        gbc.setState(0x3ce9, 0x45f2, 0x28a0, 0xc42f, 0xa1a1, 0x4bea, 0x1, 0x0);
        gbc.writeMem(0x3ce9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x45f2);
        EXPECT(gbc.pc(), 0x3cea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00BB
        gbc.setState(0x8b8, 0xbe50, 0xfc30, 0x8b06, 0x7b4e, 0x41e1, 0x1, 0x0);
        gbc.writeMem(0x8b8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xbe50);
        EXPECT(gbc.pc(), 0x8b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00BC
        gbc.setState(0x7645, 0x1cf2, 0x1cd0, 0x3b03, 0xbb5, 0x64c9, 0x0, 0x0);
        gbc.writeMem(0x7645, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1cf2);
        EXPECT(gbc.pc(), 0x7646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00BD
        gbc.setState(0x60cc, 0xe523, 0x4f40, 0x8a79, 0x97a8, 0xe1bd, 0x1, 0x0);
        gbc.writeMem(0x60cc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe523);
        EXPECT(gbc.pc(), 0x60cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00BE
        gbc.setState(0xc941, 0xca1c, 0x4b90, 0x6569, 0xf11e, 0xac4d, 0x0, 0x0);
        gbc.writeMem(0xc941, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xca1c);
        EXPECT(gbc.pc(), 0xc942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc941), 0x81);
        // 81 00BF
        gbc.setState(0x4623, 0xfeb3, 0xde00, 0xc221, 0xcbd2, 0x2f1b, 0x1, 0x0);
        gbc.writeMem(0x4623, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xfeb3);
        EXPECT(gbc.pc(), 0x4624);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00C0
        gbc.setState(0x7fec, 0x22b4, 0x4540, 0x82ed, 0xd79e, 0x27ee, 0x1, 0x1);
        gbc.writeMem(0x7fec, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x22b4);
        EXPECT(gbc.pc(), 0x7fed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00C1
        gbc.setState(0x6e67, 0xc287, 0x92b0, 0x16c1, 0x9400, 0xc14, 0x0, 0x0);
        gbc.writeMem(0x6e67, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc287);
        EXPECT(gbc.pc(), 0x6e68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00C3
        gbc.setState(0xbcc7, 0xfdf8, 0x6690, 0x481b, 0xfe0d, 0x8a68, 0x0, 0x0);
        gbc.writeMem(0xbcc7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xfdf8);
        EXPECT(gbc.pc(), 0xbcc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcc7), 0x81);
        // 81 00C4
        gbc.setState(0x4548, 0x6410, 0x500, 0x326e, 0xb9b6, 0x431b, 0x0, 0x1);
        gbc.writeMem(0x4548, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6410);
        EXPECT(gbc.pc(), 0x4549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00C5
        gbc.setState(0x6838, 0x902d, 0xc70, 0x150e, 0x6904, 0xa72d, 0x0, 0x0);
        gbc.writeMem(0x6838, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x902d);
        EXPECT(gbc.pc(), 0x6839);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00C6
        gbc.setState(0x1cbb, 0x4442, 0x4820, 0x81ae, 0x3cef, 0xc50d, 0x0, 0x1);
        gbc.writeMem(0x1cbb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4442);
        EXPECT(gbc.pc(), 0x1cbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00C7
        gbc.setState(0xdcb, 0x27d8, 0x41e0, 0x8216, 0xbf8, 0x299, 0x1, 0x1);
        gbc.writeMem(0xdcb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x27d8);
        EXPECT(gbc.pc(), 0xdcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00C8
        gbc.setState(0x5312, 0x13f8, 0x67f0, 0xcc9c, 0x8470, 0xec98, 0x1, 0x0);
        gbc.writeMem(0x5312, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x13f8);
        EXPECT(gbc.pc(), 0x5313);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00C9
        gbc.setState(0x6f3c, 0xe70c, 0xc10, 0x26ee, 0xcf25, 0x91dd, 0x1, 0x0);
        gbc.writeMem(0x6f3c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe70c);
        EXPECT(gbc.pc(), 0x6f3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00CB
        gbc.setState(0x3a66, 0xbc98, 0xc4a0, 0xc956, 0x8d4b, 0xde43, 0x1, 0x1);
        gbc.writeMem(0x3a66, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbc98);
        EXPECT(gbc.pc(), 0x3a67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00CC
        gbc.setState(0x957b, 0x4982, 0x8e60, 0x9343, 0x2e84, 0x5c1a, 0x1, 0x0);
        gbc.writeMem(0x957b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4982);
        EXPECT(gbc.pc(), 0x957c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x957b), 0x81);
        // 81 00CD
        gbc.setState(0x1ab, 0x894b, 0x2a20, 0xa91a, 0xfde9, 0x1135, 0x1, 0x1);
        gbc.writeMem(0x1ab, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x894b);
        EXPECT(gbc.pc(), 0x1ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00CE
        gbc.setState(0xc25b, 0x3311, 0xd700, 0x84d, 0x5401, 0x6d51, 0x1, 0x0);
        gbc.writeMem(0xc25b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3311);
        EXPECT(gbc.pc(), 0xc25c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc25b), 0x81);
        // 81 00CF
        gbc.setState(0x1b1d, 0x94f7, 0x19b0, 0x6565, 0xca79, 0x1723, 0x1, 0x1);
        gbc.writeMem(0x1b1d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x94f7);
        EXPECT(gbc.pc(), 0x1b1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00D0
        gbc.setState(0x419e, 0xe93a, 0x3f0, 0x315f, 0x53e7, 0x9ee7, 0x0, 0x0);
        gbc.writeMem(0x419e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe93a);
        EXPECT(gbc.pc(), 0x419f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00D1
        gbc.setState(0x2fd9, 0x48d9, 0x8c00, 0x1e50, 0x2db9, 0x3e1d, 0x0, 0x0);
        gbc.writeMem(0x2fd9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x48d9);
        EXPECT(gbc.pc(), 0x2fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00D2
        gbc.setState(0x3cb5, 0xe2fd, 0xd130, 0x4993, 0x215c, 0x228, 0x1, 0x1);
        gbc.writeMem(0x3cb5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe2fd);
        EXPECT(gbc.pc(), 0x3cb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00D3
        gbc.setState(0x64e7, 0xa758, 0x4360, 0xa9dd, 0x9316, 0xd38c, 0x0, 0x0);
        gbc.writeMem(0x64e7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xa758);
        EXPECT(gbc.pc(), 0x64e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00D4
        gbc.setState(0xa667, 0x8b35, 0x83b0, 0xab29, 0x2d48, 0xdd79, 0x0, 0x0);
        gbc.writeMem(0xa667, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8b35);
        EXPECT(gbc.pc(), 0xa668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa667), 0x81);
        // 81 00D5
        gbc.setState(0x6af4, 0xdade, 0x3e60, 0xf6ed, 0x2a34, 0x640d, 0x1, 0x0);
        gbc.writeMem(0x6af4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdade);
        EXPECT(gbc.pc(), 0x6af5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00D6
        gbc.setState(0x9fdf, 0x9e00, 0xdf70, 0x1823, 0xe71e, 0x645d, 0x0, 0x1);
        gbc.writeMem(0x9fdf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9e00);
        EXPECT(gbc.pc(), 0x9fe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fdf), 0x81);
        // 81 00D7
        gbc.setState(0x4030, 0x8925, 0x61a0, 0x8a2f, 0x1ab4, 0xb20b, 0x0, 0x0);
        gbc.writeMem(0x4030, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8925);
        EXPECT(gbc.pc(), 0x4031);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00D8
        gbc.setState(0x8e26, 0x2d4f, 0x4880, 0xee1, 0x8ab3, 0xb522, 0x1, 0x1);
        gbc.writeMem(0x8e26, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2d4f);
        EXPECT(gbc.pc(), 0x8e27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e26), 0x81);
        // 81 00D9
        gbc.setState(0xc7c1, 0xf449, 0x3ec0, 0x4528, 0x803a, 0x5011, 0x1, 0x0);
        gbc.writeMem(0xc7c1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xf449);
        EXPECT(gbc.pc(), 0xc7c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c1), 0x81);
        // 81 00DA
        gbc.setState(0x508c, 0xbb4a, 0xf1a0, 0xe53c, 0xa6f7, 0x1097, 0x1, 0x1);
        gbc.writeMem(0x508c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbb4a);
        EXPECT(gbc.pc(), 0x508d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00DB
        gbc.setState(0xb3da, 0xfae4, 0x17a0, 0x920f, 0x2ca1, 0x3c44, 0x1, 0x0);
        gbc.writeMem(0xb3da, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xfae4);
        EXPECT(gbc.pc(), 0xb3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3da), 0x81);
        // 81 00DC
        gbc.setState(0x578, 0xb217, 0x7d50, 0x4321, 0x5f0d, 0x73fa, 0x0, 0x1);
        gbc.writeMem(0x578, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb217);
        EXPECT(gbc.pc(), 0x579);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00DD
        gbc.setState(0x506b, 0xef6f, 0xc1b0, 0x3a7, 0x9c2e, 0xf071, 0x1, 0x1);
        gbc.writeMem(0x506b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xef6f);
        EXPECT(gbc.pc(), 0x506c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00DE
        gbc.setState(0x8761, 0xa307, 0x2cb0, 0x6ef3, 0x569e, 0x1ecd, 0x1, 0x1);
        gbc.writeMem(0x8761, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa307);
        EXPECT(gbc.pc(), 0x8762);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8761), 0x81);
        // 81 00DF
        gbc.setState(0xab93, 0x1603, 0x3710, 0xe521, 0x205f, 0x82be, 0x0, 0x0);
        gbc.writeMem(0xab93, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1603);
        EXPECT(gbc.pc(), 0xab94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab93), 0x81);
        // 81 00E1
        gbc.setState(0x1c74, 0x7453, 0xdc50, 0x4b11, 0xf1b0, 0x2ef9, 0x0, 0x1);
        gbc.writeMem(0x1c74, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7453);
        EXPECT(gbc.pc(), 0x1c75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00E2
        gbc.setState(0x63a4, 0xcd8e, 0xd8a0, 0xba80, 0x9669, 0xeba1, 0x0, 0x0);
        gbc.writeMem(0x63a4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcd8e);
        EXPECT(gbc.pc(), 0x63a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00E3
        gbc.setState(0x8645, 0x47b3, 0xe7e0, 0xebfb, 0x8fb2, 0x9684, 0x1, 0x1);
        gbc.writeMem(0x8645, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x47b3);
        EXPECT(gbc.pc(), 0x8646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8645), 0x81);
        // 81 00E4
        gbc.setState(0x1d58, 0x5e75, 0x6db0, 0xaedb, 0x513e, 0xa8b0, 0x1, 0x1);
        gbc.writeMem(0x1d58, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5e75);
        EXPECT(gbc.pc(), 0x1d59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00E5
        gbc.setState(0x6b97, 0x377f, 0x9b0, 0xeaa3, 0xe0aa, 0x25d9, 0x1, 0x1);
        gbc.writeMem(0x6b97, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x377f);
        EXPECT(gbc.pc(), 0x6b98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 00E6
        gbc.setState(0x3d5a, 0x7b92, 0xc060, 0x14e1, 0x542c, 0x9e2b, 0x0, 0x0);
        gbc.writeMem(0x3d5a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7b92);
        EXPECT(gbc.pc(), 0x3d5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00E7
        gbc.setState(0xb4b9, 0x74ad, 0xfab0, 0xa0b2, 0x8bb9, 0xb564, 0x1, 0x0);
        gbc.writeMem(0xb4b9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x74ad);
        EXPECT(gbc.pc(), 0xb4ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4b9), 0x81);
        // 81 00E8
        gbc.setState(0xd9eb, 0x688f, 0xad00, 0xa9d8, 0x41ad, 0xc4be, 0x0, 0x0);
        gbc.writeMem(0xd9eb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x688f);
        EXPECT(gbc.pc(), 0xd9ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9eb), 0x81);
        // 81 00E9
        gbc.setState(0xa8ea, 0xbe11, 0xbba0, 0xed48, 0xba89, 0x27af, 0x1, 0x0);
        gbc.writeMem(0xa8ea, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xbe11);
        EXPECT(gbc.pc(), 0xa8eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ea), 0x81);
        // 81 00EA
        gbc.setState(0xbd58, 0xee31, 0xbc50, 0x7012, 0x974e, 0xb94c, 0x1, 0x0);
        gbc.writeMem(0xbd58, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xee31);
        EXPECT(gbc.pc(), 0xbd59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd58), 0x81);
        // 81 00EB
        gbc.setState(0x3c63, 0x8767, 0x9d40, 0x4f2, 0x18d1, 0x18cb, 0x1, 0x1);
        gbc.writeMem(0x3c63, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8767);
        EXPECT(gbc.pc(), 0x3c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00EC
        gbc.setState(0xe953, 0xd1fc, 0xded0, 0xbc45, 0x171, 0xd1bc, 0x0, 0x0);
        gbc.writeMem(0xe953, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd1fc);
        EXPECT(gbc.pc(), 0xe954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe953), 0x81);
        // 81 00ED
        gbc.setState(0x77c1, 0x60b1, 0xdc20, 0x5428, 0x9dcf, 0xae79, 0x0, 0x1);
        gbc.writeMem(0x77c1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x60b1);
        EXPECT(gbc.pc(), 0x77c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00EE
        gbc.setState(0x1f45, 0xfe51, 0xd360, 0x564, 0x572, 0x53c3, 0x0, 0x0);
        gbc.writeMem(0x1f45, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xfe51);
        EXPECT(gbc.pc(), 0x1f46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00EF
        gbc.setState(0xefa1, 0xc9e3, 0x6580, 0xc870, 0x4f07, 0x532f, 0x1, 0x0);
        gbc.writeMem(0xefa1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xc9e3);
        EXPECT(gbc.pc(), 0xefa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefa1), 0x81);
        // 81 00F0
        gbc.setState(0xcf47, 0xd24c, 0x39d0, 0x1c60, 0xa957, 0xf641, 0x0, 0x0);
        gbc.writeMem(0xcf47, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd24c);
        EXPECT(gbc.pc(), 0xcf48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf47), 0x81);
        // 81 00F1
        gbc.setState(0xed, 0xfff9, 0x2f90, 0x28a5, 0xca40, 0xb3a6, 0x1, 0x1);
        gbc.writeMem(0xed, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xfff9);
        EXPECT(gbc.pc(), 0xee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 00F3
        gbc.setState(0x4fc1, 0xadf3, 0x7cf0, 0xe589, 0x5472, 0x15ec, 0x0, 0x0);
        gbc.writeMem(0x4fc1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xadf3);
        EXPECT(gbc.pc(), 0x4fc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00F4
        gbc.setState(0x8adb, 0xd5c2, 0x74d0, 0xf19f, 0x8c1a, 0x45a2, 0x0, 0x1);
        gbc.writeMem(0x8adb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xd5c2);
        EXPECT(gbc.pc(), 0x8adc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8adb), 0x81);
        // 81 00F5
        gbc.setState(0x29d8, 0xeb2d, 0xbc50, 0x97e3, 0x719d, 0x2bab, 0x1, 0x0);
        gbc.writeMem(0x29d8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xeb2d);
        EXPECT(gbc.pc(), 0x29d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00F6
        gbc.setState(0x742, 0x157f, 0x8700, 0x62d4, 0xd246, 0xcdc3, 0x1, 0x0);
        gbc.writeMem(0x742, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x157f);
        EXPECT(gbc.pc(), 0x743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00F7
        gbc.setState(0xee3a, 0xf510, 0xdbf0, 0x1873, 0x8ac2, 0xf22, 0x1, 0x0);
        gbc.writeMem(0xee3a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf510);
        EXPECT(gbc.pc(), 0xee3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee3a), 0x81);
        // 81 00F8
        gbc.setState(0x1b1a, 0x2938, 0x6af0, 0xb0f2, 0x4ae5, 0x7ce, 0x0, 0x0);
        gbc.writeMem(0x1b1a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2938);
        EXPECT(gbc.pc(), 0x1b1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 00F9
        gbc.setState(0xabf1, 0xb61c, 0x4d70, 0xca2, 0x1364, 0xa81d, 0x0, 0x1);
        gbc.writeMem(0xabf1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb61c);
        EXPECT(gbc.pc(), 0xabf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabf1), 0x81);
        // 81 00FA
        gbc.setState(0xde7e, 0x607a, 0xcba0, 0xfa75, 0x9302, 0xd335, 0x0, 0x1);
        gbc.writeMem(0xde7e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x607a);
        EXPECT(gbc.pc(), 0xde7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde7e), 0x81);
        // 81 00FB
        gbc.setState(0x9c69, 0xbaf, 0xfa10, 0xfb26, 0xf096, 0x276f, 0x0, 0x1);
        gbc.writeMem(0x9c69, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbaf);
        EXPECT(gbc.pc(), 0x9c6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c69), 0x81);
        // 81 00FD
        gbc.setState(0x5eb9, 0x21d8, 0xcd00, 0xeecb, 0xfcff, 0x97d4, 0x1, 0x0);
        gbc.writeMem(0x5eb9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x21d8);
        EXPECT(gbc.pc(), 0x5eba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 00FE
        gbc.setState(0xc962, 0xa92f, 0xf600, 0x33ba, 0x85e5, 0xbd70, 0x1, 0x1);
        gbc.writeMem(0xc962, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa92f);
        EXPECT(gbc.pc(), 0xc963);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc962), 0x81);
        // 81 00FF
        gbc.setState(0x6ff4, 0x127, 0x9450, 0x5f16, 0x1c66, 0xa9f8, 0x0, 0x0);
        gbc.writeMem(0x6ff4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x127);
        EXPECT(gbc.pc(), 0x6ff5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0100
        gbc.setState(0x8fa6, 0x89e9, 0x6520, 0xf188, 0x127a, 0xd3e3, 0x1, 0x0);
        gbc.writeMem(0x8fa6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x89e9);
        EXPECT(gbc.pc(), 0x8fa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fa6), 0x81);
        // 81 0101
        gbc.setState(0x8ae5, 0x1d26, 0xdcb0, 0xa5f6, 0x5895, 0x314d, 0x0, 0x1);
        gbc.writeMem(0x8ae5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1d26);
        EXPECT(gbc.pc(), 0x8ae6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ae5), 0x81);
        // 81 0102
        gbc.setState(0xa5de, 0xd39b, 0xaa50, 0x9683, 0x61d0, 0xfeb3, 0x0, 0x0);
        gbc.writeMem(0xa5de, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd39b);
        EXPECT(gbc.pc(), 0xa5df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5de), 0x81);
        // 81 0103
        gbc.setState(0x8d71, 0x491, 0x37b0, 0x270e, 0xd9c0, 0xc4f3, 0x1, 0x1);
        gbc.writeMem(0x8d71, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x491);
        EXPECT(gbc.pc(), 0x8d72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d71), 0x81);
        // 81 0104
        gbc.setState(0x82f5, 0xc211, 0x8190, 0xc718, 0x7e00, 0x5ef, 0x0, 0x1);
        gbc.writeMem(0x82f5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc211);
        EXPECT(gbc.pc(), 0x82f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82f5), 0x81);
        // 81 0105
        gbc.setState(0x9284, 0x3e25, 0xc930, 0x9113, 0xe400, 0xffdc, 0x0, 0x0);
        gbc.writeMem(0x9284, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3e25);
        EXPECT(gbc.pc(), 0x9285);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9284), 0x81);
        // 81 0106
        gbc.setState(0x411f, 0x7499, 0xbcd0, 0xf1e1, 0xea5d, 0x30d0, 0x0, 0x0);
        gbc.writeMem(0x411f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7499);
        EXPECT(gbc.pc(), 0x4120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0107
        gbc.setState(0xaf5f, 0xceaf, 0xf0b0, 0xf9fe, 0x5227, 0x9634, 0x1, 0x1);
        gbc.writeMem(0xaf5f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xceaf);
        EXPECT(gbc.pc(), 0xaf60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf5f), 0x81);
        // 81 0108
        gbc.setState(0x1be4, 0x2474, 0x25f0, 0xc3db, 0xb2e7, 0xf5a7, 0x1, 0x1);
        gbc.writeMem(0x1be4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2474);
        EXPECT(gbc.pc(), 0x1be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0109
        gbc.setState(0xa06f, 0x879c, 0xcd50, 0x3c05, 0x44c5, 0x3246, 0x0, 0x0);
        gbc.writeMem(0xa06f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x879c);
        EXPECT(gbc.pc(), 0xa070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa06f), 0x81);
        // 81 010A
        gbc.setState(0x579c, 0x16fa, 0xe2d0, 0xf371, 0x23d2, 0x6f1c, 0x0, 0x0);
        gbc.writeMem(0x579c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x16fa);
        EXPECT(gbc.pc(), 0x579d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 010B
        gbc.setState(0x522e, 0xcf3d, 0x830, 0x171c, 0xdda2, 0x6e1a, 0x1, 0x0);
        gbc.writeMem(0x522e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xcf3d);
        EXPECT(gbc.pc(), 0x522f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 010C
        gbc.setState(0x4c8e, 0xc452, 0xd540, 0x7ad1, 0xc560, 0x9497, 0x1, 0x1);
        gbc.writeMem(0x4c8e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc452);
        EXPECT(gbc.pc(), 0x4c8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 010D
        gbc.setState(0x23f5, 0xba, 0x9d90, 0xcee5, 0x721c, 0x1529, 0x0, 0x0);
        gbc.writeMem(0x23f5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xba);
        EXPECT(gbc.pc(), 0x23f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 010E
        gbc.setState(0xb1a8, 0x19e3, 0xafa0, 0x2066, 0xd103, 0x5880, 0x0, 0x0);
        gbc.writeMem(0xb1a8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x19e3);
        EXPECT(gbc.pc(), 0xb1a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1a8), 0x81);
        // 81 010F
        gbc.setState(0xd032, 0x37b0, 0x79e0, 0xe1c8, 0xcd0c, 0xc36, 0x1, 0x1);
        gbc.writeMem(0xd032, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x37b0);
        EXPECT(gbc.pc(), 0xd033);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd032), 0x81);
        // 81 0110
        gbc.setState(0x910a, 0x65e7, 0xc200, 0xf370, 0x9a46, 0xdddf, 0x0, 0x0);
        gbc.writeMem(0x910a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x65e7);
        EXPECT(gbc.pc(), 0x910b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x910a), 0x81);
        // 81 0111
        gbc.setState(0xb2b3, 0xc763, 0x5790, 0xc4bb, 0x8f4c, 0x4c5e, 0x1, 0x1);
        gbc.writeMem(0xb2b3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc763);
        EXPECT(gbc.pc(), 0xb2b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2b3), 0x81);
        // 81 0112
        gbc.setState(0xa14b, 0xfddb, 0x3d00, 0xb6fc, 0x967a, 0xfa48, 0x1, 0x1);
        gbc.writeMem(0xa14b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xfddb);
        EXPECT(gbc.pc(), 0xa14c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa14b), 0x81);
        // 81 0113
        gbc.setState(0x4521, 0xa412, 0x90e0, 0x34c0, 0xa997, 0x7d8a, 0x1, 0x1);
        gbc.writeMem(0x4521, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa412);
        EXPECT(gbc.pc(), 0x4522);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0114
        gbc.setState(0x138c, 0xb005, 0xcf20, 0x5bf0, 0x7a68, 0x3aa7, 0x0, 0x0);
        gbc.writeMem(0x138c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb005);
        EXPECT(gbc.pc(), 0x138d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0115
        gbc.setState(0x872, 0x963, 0x3ba0, 0xe299, 0xf29f, 0x373d, 0x1, 0x0);
        gbc.writeMem(0x872, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x963);
        EXPECT(gbc.pc(), 0x873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0116
        gbc.setState(0x771d, 0xdfe6, 0xe0, 0x2fab, 0x8701, 0x4572, 0x0, 0x1);
        gbc.writeMem(0x771d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdfe6);
        EXPECT(gbc.pc(), 0x771e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0117
        gbc.setState(0x172d, 0x2210, 0x310, 0x159e, 0xa94f, 0x38, 0x1, 0x0);
        gbc.writeMem(0x172d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2210);
        EXPECT(gbc.pc(), 0x172e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0118
        gbc.setState(0x6c79, 0x859, 0x4b60, 0x34c0, 0x2ca7, 0xc90e, 0x0, 0x1);
        gbc.writeMem(0x6c79, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x859);
        EXPECT(gbc.pc(), 0x6c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0119
        gbc.setState(0x8bd4, 0x3559, 0xbb40, 0xa631, 0x66b5, 0xc036, 0x1, 0x1);
        gbc.writeMem(0x8bd4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3559);
        EXPECT(gbc.pc(), 0x8bd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bd4), 0x81);
        // 81 011A
        gbc.setState(0x498a, 0x63ad, 0xbf50, 0x639e, 0x1ea9, 0x1911, 0x1, 0x1);
        gbc.writeMem(0x498a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x63ad);
        EXPECT(gbc.pc(), 0x498b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 011B
        gbc.setState(0xabbe, 0x45e7, 0x7c50, 0x6933, 0x21c6, 0xfbe4, 0x0, 0x1);
        gbc.writeMem(0xabbe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x45e7);
        EXPECT(gbc.pc(), 0xabbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabbe), 0x81);
        // 81 011C
        gbc.setState(0x2fc5, 0x378b, 0xff20, 0x8241, 0x6cbe, 0xf57f, 0x1, 0x0);
        gbc.writeMem(0x2fc5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x378b);
        EXPECT(gbc.pc(), 0x2fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 011D
        gbc.setState(0x8e2b, 0x9c27, 0x5570, 0xf1a6, 0x40f9, 0xc747, 0x1, 0x1);
        gbc.writeMem(0x8e2b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9c27);
        EXPECT(gbc.pc(), 0x8e2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e2b), 0x81);
        // 81 011E
        gbc.setState(0xb780, 0x8dc7, 0x2900, 0x2baa, 0x54d9, 0x2e1e, 0x1, 0x1);
        gbc.writeMem(0xb780, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8dc7);
        EXPECT(gbc.pc(), 0xb781);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb780), 0x81);
        // 81 011F
        gbc.setState(0xd4a8, 0xb755, 0x510, 0x77fb, 0xb849, 0x6c4d, 0x0, 0x1);
        gbc.writeMem(0xd4a8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb755);
        EXPECT(gbc.pc(), 0xd4a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4a8), 0x81);
        // 81 0120
        gbc.setState(0x97c5, 0xdbda, 0xaa30, 0x3f71, 0x5d45, 0x98cf, 0x1, 0x0);
        gbc.writeMem(0x97c5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xdbda);
        EXPECT(gbc.pc(), 0x97c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97c5), 0x81);
        // 81 0121
        gbc.setState(0x1b7b, 0x2ebd, 0xbc40, 0xa110, 0x9adb, 0xfb30, 0x0, 0x0);
        gbc.writeMem(0x1b7b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2ebd);
        EXPECT(gbc.pc(), 0x1b7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0122
        gbc.setState(0x1ece, 0x53ee, 0xeb30, 0x2c3c, 0x4e48, 0x647a, 0x0, 0x0);
        gbc.writeMem(0x1ece, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x53ee);
        EXPECT(gbc.pc(), 0x1ecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0123
        gbc.setState(0xd88b, 0x684c, 0xd900, 0xf8c2, 0x1b69, 0x1301, 0x0, 0x0);
        gbc.writeMem(0xd88b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x684c);
        EXPECT(gbc.pc(), 0xd88c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd88b), 0x81);
        // 81 0124
        gbc.setState(0xc11b, 0x5692, 0x2620, 0xbaee, 0x9731, 0xf7b1, 0x0, 0x0);
        gbc.writeMem(0xc11b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5692);
        EXPECT(gbc.pc(), 0xc11c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc11b), 0x81);
        // 81 0125
        gbc.setState(0x6b52, 0xc67f, 0x6030, 0xd4d8, 0xe87d, 0x1e16, 0x0, 0x0);
        gbc.writeMem(0x6b52, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xc67f);
        EXPECT(gbc.pc(), 0x6b53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0126
        gbc.setState(0xce75, 0x1dca, 0x4470, 0x323b, 0xcbd0, 0x77bf, 0x0, 0x1);
        gbc.writeMem(0xce75, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1dca);
        EXPECT(gbc.pc(), 0xce76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce75), 0x81);
        // 81 0127
        gbc.setState(0xe64d, 0x3046, 0x3420, 0x4365, 0xd6be, 0xf8b2, 0x1, 0x1);
        gbc.writeMem(0xe64d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3046);
        EXPECT(gbc.pc(), 0xe64e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe64d), 0x81);
        // 81 0128
        gbc.setState(0x2542, 0xc830, 0xee70, 0xb68, 0x18d0, 0x24d3, 0x1, 0x1);
        gbc.writeMem(0x2542, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc830);
        EXPECT(gbc.pc(), 0x2543);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0129
        gbc.setState(0x7a58, 0x95d4, 0x13b0, 0x561d, 0x7842, 0x558b, 0x1, 0x1);
        gbc.writeMem(0x7a58, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x95d4);
        EXPECT(gbc.pc(), 0x7a59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 012A
        gbc.setState(0xdbd4, 0x9e64, 0x4aa0, 0x2b57, 0xee9e, 0x15f1, 0x1, 0x0);
        gbc.writeMem(0xdbd4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9e64);
        EXPECT(gbc.pc(), 0xdbd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbd4), 0x81);
        // 81 012B
        gbc.setState(0xb564, 0x9d6, 0xf4e0, 0xff9a, 0xfd0c, 0x9e80, 0x0, 0x1);
        gbc.writeMem(0xb564, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9d6);
        EXPECT(gbc.pc(), 0xb565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb564), 0x81);
        // 81 012C
        gbc.setState(0xd4a1, 0x5bbc, 0x22b0, 0x9888, 0x32d7, 0xc41b, 0x1, 0x0);
        gbc.writeMem(0xd4a1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x5bbc);
        EXPECT(gbc.pc(), 0xd4a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4a1), 0x81);
        // 81 0130
        gbc.setState(0x3919, 0x962d, 0xd460, 0xc8b0, 0x7068, 0x89e9, 0x1, 0x0);
        gbc.writeMem(0x3919, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x962d);
        EXPECT(gbc.pc(), 0x391a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0131
        gbc.setState(0xc02f, 0x7e28, 0x2400, 0x3d5c, 0x6149, 0x8034, 0x0, 0x0);
        gbc.writeMem(0xc02f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7e28);
        EXPECT(gbc.pc(), 0xc030);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02f), 0x81);
        // 81 0132
        gbc.setState(0x21f2, 0xf0f7, 0x48b0, 0x2bfc, 0xa7a1, 0xee5f, 0x1, 0x1);
        gbc.writeMem(0x21f2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf0f7);
        EXPECT(gbc.pc(), 0x21f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0133
        gbc.setState(0x16e3, 0x3fa8, 0xe7f0, 0xc02b, 0x9d66, 0x1774, 0x0, 0x0);
        gbc.writeMem(0x16e3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3fa8);
        EXPECT(gbc.pc(), 0x16e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0134
        gbc.setState(0x730d, 0x142b, 0xce40, 0x104d, 0x4063, 0xeb0a, 0x0, 0x1);
        gbc.writeMem(0x730d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x142b);
        EXPECT(gbc.pc(), 0x730e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0135
        gbc.setState(0xee32, 0x2480, 0x5090, 0x5236, 0x4582, 0xabc1, 0x0, 0x1);
        gbc.writeMem(0xee32, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x2480);
        EXPECT(gbc.pc(), 0xee33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee32), 0x81);
        // 81 0137
        gbc.setState(0x5401, 0xf969, 0x8f70, 0xc737, 0xaa15, 0xfe85, 0x0, 0x1);
        gbc.writeMem(0x5401, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf969);
        EXPECT(gbc.pc(), 0x5402);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0138
        gbc.setState(0x76e0, 0x2f52, 0x2d0, 0xff07, 0x3585, 0xfa8a, 0x0, 0x0);
        gbc.writeMem(0x76e0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2f52);
        EXPECT(gbc.pc(), 0x76e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0139
        gbc.setState(0x2414, 0x46fb, 0x12e0, 0xe4d8, 0xb1af, 0x6ebd, 0x1, 0x1);
        gbc.writeMem(0x2414, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x46fb);
        EXPECT(gbc.pc(), 0x2415);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 013A
        gbc.setState(0x7b3, 0xfa48, 0xaef0, 0x1396, 0x4ca8, 0xf16a, 0x1, 0x0);
        gbc.writeMem(0x7b3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xfa48);
        EXPECT(gbc.pc(), 0x7b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 013B
        gbc.setState(0x345e, 0x589f, 0x4af0, 0x99e5, 0xcff9, 0x61f0, 0x0, 0x1);
        gbc.writeMem(0x345e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x589f);
        EXPECT(gbc.pc(), 0x345f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 013C
        gbc.setState(0x61cd, 0x8b0b, 0x1170, 0xe643, 0xfb8c, 0x3b35, 0x1, 0x1);
        gbc.writeMem(0x61cd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8b0b);
        EXPECT(gbc.pc(), 0x61ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 013D
        gbc.setState(0xade3, 0xe92d, 0x3d10, 0xc05c, 0x457a, 0x2702, 0x1, 0x1);
        gbc.writeMem(0xade3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe92d);
        EXPECT(gbc.pc(), 0xade4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xade3), 0x81);
        // 81 0140
        gbc.setState(0x859f, 0xb549, 0xacb0, 0x6239, 0xe2d0, 0xbc0f, 0x0, 0x0);
        gbc.writeMem(0x859f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xb549);
        EXPECT(gbc.pc(), 0x85a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x859f), 0x81);
        // 81 0141
        gbc.setState(0x7e7a, 0x5b94, 0x23f0, 0xf946, 0xa90a, 0xdaef, 0x1, 0x0);
        gbc.writeMem(0x7e7a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5b94);
        EXPECT(gbc.pc(), 0x7e7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0142
        gbc.setState(0x723e, 0x44e4, 0x1ce0, 0xa470, 0x32cd, 0x7356, 0x0, 0x0);
        gbc.writeMem(0x723e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x44e4);
        EXPECT(gbc.pc(), 0x723f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0143
        gbc.setState(0x87a0, 0xae0e, 0xeb0, 0xc340, 0x2107, 0x4b60, 0x1, 0x0);
        gbc.writeMem(0x87a0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xae0e);
        EXPECT(gbc.pc(), 0x87a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87a0), 0x81);
        // 81 0144
        gbc.setState(0xb167, 0x163, 0xd050, 0x8493, 0x6206, 0x36b3, 0x0, 0x1);
        gbc.writeMem(0xb167, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x163);
        EXPECT(gbc.pc(), 0xb168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb167), 0x81);
        // 81 0145
        gbc.setState(0x8370, 0x9263, 0x5930, 0xbc18, 0xb8d1, 0xb37a, 0x1, 0x0);
        gbc.writeMem(0x8370, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x9263);
        EXPECT(gbc.pc(), 0x8371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8370), 0x81);
        // 81 0146
        gbc.setState(0x18fa, 0xa0ae, 0x2d0, 0x63b2, 0xea10, 0x9d5a, 0x0, 0x0);
        gbc.writeMem(0x18fa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa0ae);
        EXPECT(gbc.pc(), 0x18fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0147
        gbc.setState(0x5089, 0xfb4b, 0x9420, 0xbdbd, 0x8146, 0x4fb1, 0x0, 0x1);
        gbc.writeMem(0x5089, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfb4b);
        EXPECT(gbc.pc(), 0x508a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0148
        gbc.setState(0x2a81, 0x66c4, 0xf300, 0x4a9a, 0x91cb, 0x1999, 0x1, 0x1);
        gbc.writeMem(0x2a81, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x66c4);
        EXPECT(gbc.pc(), 0x2a82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0149
        gbc.setState(0x4714, 0x202c, 0x52a0, 0x9996, 0x257e, 0xeae4, 0x0, 0x0);
        gbc.writeMem(0x4714, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x202c);
        EXPECT(gbc.pc(), 0x4715);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 014A
        gbc.setState(0x505f, 0xf5da, 0x71e0, 0xaf1e, 0xe39a, 0x9044, 0x0, 0x0);
        gbc.writeMem(0x505f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf5da);
        EXPECT(gbc.pc(), 0x5060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 014B
        gbc.setState(0xcc6d, 0xd965, 0x1960, 0xdaa1, 0xc18, 0x14fc, 0x1, 0x1);
        gbc.writeMem(0xcc6d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd965);
        EXPECT(gbc.pc(), 0xcc6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc6d), 0x81);
        // 81 014C
        gbc.setState(0x1b78, 0xde21, 0x9ee0, 0xca7, 0x7bac, 0x2ea6, 0x0, 0x0);
        gbc.writeMem(0x1b78, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xde21);
        EXPECT(gbc.pc(), 0x1b79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 014D
        gbc.setState(0x8bf, 0x750e, 0x3310, 0x3d12, 0xcae0, 0xf088, 0x1, 0x0);
        gbc.writeMem(0x8bf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x750e);
        EXPECT(gbc.pc(), 0x8c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 014F
        gbc.setState(0xb680, 0x64e7, 0x34b0, 0xdbcf, 0x56c1, 0xa88, 0x1, 0x0);
        gbc.writeMem(0xb680, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x64e7);
        EXPECT(gbc.pc(), 0xb681);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb680), 0x81);
        // 81 0150
        gbc.setState(0xb799, 0xeba5, 0xe20, 0xe40a, 0xad76, 0x1b71, 0x1, 0x0);
        gbc.writeMem(0xb799, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xeba5);
        EXPECT(gbc.pc(), 0xb79a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb799), 0x81);
        // 81 0151
        gbc.setState(0xba2e, 0xa792, 0x6860, 0x944a, 0x75b4, 0x586b, 0x1, 0x0);
        gbc.writeMem(0xba2e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa792);
        EXPECT(gbc.pc(), 0xba2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba2e), 0x81);
        // 81 0152
        gbc.setState(0x3031, 0x9031, 0xf840, 0x8ed4, 0x7254, 0x5578, 0x0, 0x1);
        gbc.writeMem(0x3031, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9031);
        EXPECT(gbc.pc(), 0x3032);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0153
        gbc.setState(0x77d, 0xf503, 0x2ba0, 0xbbdb, 0xd5ed, 0x4a17, 0x1, 0x1);
        gbc.writeMem(0x77d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf503);
        EXPECT(gbc.pc(), 0x77e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0154
        gbc.setState(0x5f5c, 0xe2cf, 0xbd00, 0x49a, 0xf40e, 0xd245, 0x1, 0x0);
        gbc.writeMem(0x5f5c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe2cf);
        EXPECT(gbc.pc(), 0x5f5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0155
        gbc.setState(0x746e, 0x64d2, 0xdf20, 0xe104, 0x7554, 0x8fa8, 0x0, 0x0);
        gbc.writeMem(0x746e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x64d2);
        EXPECT(gbc.pc(), 0x746f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0156
        gbc.setState(0x9a4b, 0xaf1c, 0x1a50, 0x63fe, 0x5fb7, 0x6f13, 0x0, 0x0);
        gbc.writeMem(0x9a4b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xaf1c);
        EXPECT(gbc.pc(), 0x9a4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a4b), 0x81);
        // 81 0157
        gbc.setState(0xb397, 0xf267, 0x32e0, 0x45bc, 0x96a4, 0x32e9, 0x0, 0x1);
        gbc.writeMem(0xb397, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf267);
        EXPECT(gbc.pc(), 0xb398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb397), 0x81);
        // 81 0158
        gbc.setState(0xa630, 0x79dc, 0xc7a0, 0x6676, 0xa99, 0x3171, 0x1, 0x1);
        gbc.writeMem(0xa630, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x79dc);
        EXPECT(gbc.pc(), 0xa631);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa630), 0x81);
        // 81 0159
        gbc.setState(0xc63e, 0x6c28, 0x5da0, 0x9281, 0xd72f, 0x8f81, 0x1, 0x1);
        gbc.writeMem(0xc63e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x6c28);
        EXPECT(gbc.pc(), 0xc63f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc63e), 0x81);
        // 81 015A
        gbc.setState(0x25fe, 0xa208, 0xd100, 0x7f90, 0x5afd, 0x574a, 0x1, 0x1);
        gbc.writeMem(0x25fe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa208);
        EXPECT(gbc.pc(), 0x25ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 015B
        gbc.setState(0xcbcd, 0x1486, 0x5970, 0xc023, 0xf3ca, 0xbe70, 0x1, 0x0);
        gbc.writeMem(0xcbcd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1486);
        EXPECT(gbc.pc(), 0xcbce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbcd), 0x81);
        // 81 015C
        gbc.setState(0x74f9, 0xaa73, 0x23f0, 0x8551, 0x6a45, 0xeb64, 0x0, 0x0);
        gbc.writeMem(0x74f9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xaa73);
        EXPECT(gbc.pc(), 0x74fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 015D
        gbc.setState(0x2b0c, 0xad17, 0x66b0, 0xd21, 0xf8aa, 0x2fb, 0x1, 0x0);
        gbc.writeMem(0x2b0c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xad17);
        EXPECT(gbc.pc(), 0x2b0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 015E
        gbc.setState(0xe913, 0x4779, 0xfc70, 0x1616, 0x2d7c, 0xa2ef, 0x1, 0x1);
        gbc.writeMem(0xe913, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x4779);
        EXPECT(gbc.pc(), 0xe914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe913), 0x81);
        // 81 015F
        gbc.setState(0xcc84, 0x7042, 0x7f30, 0x8579, 0x8fed, 0x13f1, 0x1, 0x1);
        gbc.writeMem(0xcc84, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7042);
        EXPECT(gbc.pc(), 0xcc85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc84), 0x81);
        // 81 0160
        gbc.setState(0x7fd4, 0x528f, 0xb090, 0x34d3, 0x267d, 0xc192, 0x0, 0x0);
        gbc.writeMem(0x7fd4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x528f);
        EXPECT(gbc.pc(), 0x7fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0161
        gbc.setState(0x5c6b, 0xd44c, 0x75f0, 0x3f93, 0x9bce, 0xb5aa, 0x0, 0x1);
        gbc.writeMem(0x5c6b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd44c);
        EXPECT(gbc.pc(), 0x5c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0162
        gbc.setState(0x90dd, 0x4c06, 0x4b10, 0x2967, 0xeb80, 0x6c0e, 0x1, 0x1);
        gbc.writeMem(0x90dd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4c06);
        EXPECT(gbc.pc(), 0x90de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90dd), 0x81);
        // 81 0164
        gbc.setState(0xef68, 0xd3bc, 0x1570, 0x9920, 0x360a, 0x8b28, 0x0, 0x0);
        gbc.writeMem(0xef68, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd3bc);
        EXPECT(gbc.pc(), 0xef69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef68), 0x81);
        // 81 0165
        gbc.setState(0xd32, 0xae68, 0x9ab0, 0x9171, 0x5001, 0x1733, 0x1, 0x0);
        gbc.writeMem(0xd32, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xae68);
        EXPECT(gbc.pc(), 0xd33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0166
        gbc.setState(0x8366, 0xfc61, 0x2f60, 0xde22, 0x872b, 0x6c71, 0x1, 0x0);
        gbc.writeMem(0x8366, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xfc61);
        EXPECT(gbc.pc(), 0x8367);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8366), 0x81);
        // 81 0167
        gbc.setState(0x86c7, 0x3dba, 0xfa0, 0xcac5, 0x6a43, 0x4111, 0x1, 0x1);
        gbc.writeMem(0x86c7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3dba);
        EXPECT(gbc.pc(), 0x86c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c7), 0x81);
        // 81 0168
        gbc.setState(0xcb71, 0x9efc, 0x3710, 0xe758, 0xa40e, 0xe2a3, 0x0, 0x1);
        gbc.writeMem(0xcb71, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9efc);
        EXPECT(gbc.pc(), 0xcb72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb71), 0x81);
        // 81 0169
        gbc.setState(0x7db8, 0x4c4a, 0xb830, 0xc0bf, 0x9557, 0xee02, 0x0, 0x0);
        gbc.writeMem(0x7db8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4c4a);
        EXPECT(gbc.pc(), 0x7db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 016A
        gbc.setState(0xa61, 0x9445, 0x37f0, 0xdd2a, 0x7d06, 0xbbe3, 0x1, 0x1);
        gbc.writeMem(0xa61, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9445);
        EXPECT(gbc.pc(), 0xa62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 016B
        gbc.setState(0x4915, 0xde98, 0x3da0, 0x68fc, 0x215e, 0x3da0, 0x0, 0x1);
        gbc.writeMem(0x4915, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xde98);
        EXPECT(gbc.pc(), 0x4916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 016C
        gbc.setState(0x6bc7, 0x84f, 0xfcc0, 0xc775, 0xc7d0, 0x8542, 0x1, 0x1);
        gbc.writeMem(0x6bc7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x84f);
        EXPECT(gbc.pc(), 0x6bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 016D
        gbc.setState(0x7dc6, 0x10c4, 0xc6f0, 0x6628, 0x1615, 0xdcdf, 0x1, 0x1);
        gbc.writeMem(0x7dc6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x10c4);
        EXPECT(gbc.pc(), 0x7dc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 016E
        gbc.setState(0x8f55, 0x61d5, 0x2e30, 0x9a74, 0x3f99, 0x169c, 0x1, 0x0);
        gbc.writeMem(0x8f55, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x61d5);
        EXPECT(gbc.pc(), 0x8f56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f55), 0x81);
        // 81 016F
        gbc.setState(0x9e6a, 0xba44, 0x6c70, 0xc3cd, 0xc8a3, 0x115b, 0x1, 0x1);
        gbc.writeMem(0x9e6a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xba44);
        EXPECT(gbc.pc(), 0x9e6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e6a), 0x81);
        // 81 0170
        gbc.setState(0x8b23, 0x82d5, 0xedc0, 0xb52d, 0x309, 0x667d, 0x0, 0x0);
        gbc.writeMem(0x8b23, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x82d5);
        EXPECT(gbc.pc(), 0x8b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b23), 0x81);
        // 81 0171
        gbc.setState(0xe708, 0x62b0, 0x900, 0xa2d, 0xc517, 0xa63e, 0x1, 0x1);
        gbc.writeMem(0xe708, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x62b0);
        EXPECT(gbc.pc(), 0xe709);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe708), 0x81);
        // 81 0172
        gbc.setState(0xe8c0, 0x8cb9, 0xba0, 0xc392, 0x9bea, 0x5936, 0x1, 0x0);
        gbc.writeMem(0xe8c0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8cb9);
        EXPECT(gbc.pc(), 0xe8c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c0), 0x81);
        // 81 0173
        gbc.setState(0x7bd, 0xd391, 0x6330, 0xa203, 0xd49d, 0x7c40, 0x0, 0x1);
        gbc.writeMem(0x7bd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xd391);
        EXPECT(gbc.pc(), 0x7be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0174
        gbc.setState(0x4c05, 0x201f, 0xa6d0, 0x4a81, 0x51a1, 0x52e4, 0x0, 0x1);
        gbc.writeMem(0x4c05, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x201f);
        EXPECT(gbc.pc(), 0x4c06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0175
        gbc.setState(0xd874, 0x26ab, 0x9dd0, 0x1328, 0xb424, 0x2a59, 0x1, 0x1);
        gbc.writeMem(0xd874, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x26ab);
        EXPECT(gbc.pc(), 0xd875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd874), 0x81);
        // 81 0176
        gbc.setState(0x822f, 0x5efd, 0xba30, 0xdeb3, 0x45d5, 0xba96, 0x1, 0x0);
        gbc.writeMem(0x822f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5efd);
        EXPECT(gbc.pc(), 0x8230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x822f), 0x81);
        // 81 0177
        gbc.setState(0x5a4, 0xc8f0, 0x7dd0, 0x47dc, 0x75b4, 0x1904, 0x1, 0x1);
        gbc.writeMem(0x5a4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc8f0);
        EXPECT(gbc.pc(), 0x5a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0178
        gbc.setState(0xec13, 0x9c18, 0x18b0, 0x8a79, 0x8f86, 0x1065, 0x1, 0x1);
        gbc.writeMem(0xec13, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9c18);
        EXPECT(gbc.pc(), 0xec14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec13), 0x81);
        // 81 0179
        gbc.setState(0x5849, 0xe645, 0x9000, 0x6c72, 0x3bae, 0x8069, 0x1, 0x0);
        gbc.writeMem(0x5849, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe645);
        EXPECT(gbc.pc(), 0x584a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 017A
        gbc.setState(0xe8c7, 0x97, 0x3350, 0x74b1, 0x6b30, 0x573c, 0x0, 0x0);
        gbc.writeMem(0xe8c7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x97);
        EXPECT(gbc.pc(), 0xe8c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c7), 0x81);
        // 81 017B
        gbc.setState(0x1e29, 0xb1a0, 0xc80, 0x2872, 0xd2a1, 0x11ba, 0x1, 0x0);
        gbc.writeMem(0x1e29, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb1a0);
        EXPECT(gbc.pc(), 0x1e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 017C
        gbc.setState(0x5f49, 0x3e22, 0x83d0, 0x53f7, 0xa911, 0x4e44, 0x1, 0x0);
        gbc.writeMem(0x5f49, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3e22);
        EXPECT(gbc.pc(), 0x5f4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 017D
        gbc.setState(0x8fe8, 0x43dd, 0x1500, 0x4108, 0x1cbf, 0x2d3a, 0x1, 0x1);
        gbc.writeMem(0x8fe8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x43dd);
        EXPECT(gbc.pc(), 0x8fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe8), 0x81);
        // 81 017E
        gbc.setState(0x77e7, 0x11ab, 0x45c0, 0x7d0, 0x9dd9, 0x251, 0x0, 0x0);
        gbc.writeMem(0x77e7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x11ab);
        EXPECT(gbc.pc(), 0x77e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 017F
        gbc.setState(0x14c6, 0xbb48, 0x11a0, 0x2a37, 0x4ee6, 0x6bef, 0x1, 0x0);
        gbc.writeMem(0x14c6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xbb48);
        EXPECT(gbc.pc(), 0x14c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0180
        gbc.setState(0x6b2f, 0x7f66, 0xd30, 0xa112, 0x269e, 0x4b3e, 0x0, 0x0);
        gbc.writeMem(0x6b2f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7f66);
        EXPECT(gbc.pc(), 0x6b30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0181
        gbc.setState(0xcd5b, 0xaf5f, 0x4ab0, 0xa5d7, 0x9982, 0x7328, 0x0, 0x0);
        gbc.writeMem(0xcd5b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xaf5f);
        EXPECT(gbc.pc(), 0xcd5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd5b), 0x81);
        // 81 0182
        gbc.setState(0x4864, 0x7a56, 0x8970, 0x5c5f, 0x15c2, 0x81f6, 0x1, 0x0);
        gbc.writeMem(0x4864, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7a56);
        EXPECT(gbc.pc(), 0x4865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0183
        gbc.setState(0x44b6, 0x7f56, 0x5890, 0x8e10, 0x4f1d, 0x2c49, 0x0, 0x0);
        gbc.writeMem(0x44b6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x7f56);
        EXPECT(gbc.pc(), 0x44b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0184
        gbc.setState(0xd831, 0xc113, 0x3350, 0x7a67, 0xcf6c, 0xe54b, 0x1, 0x1);
        gbc.writeMem(0xd831, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc113);
        EXPECT(gbc.pc(), 0xd832);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd831), 0x81);
        // 81 0185
        gbc.setState(0xd523, 0x9b7d, 0xf4d0, 0x185e, 0x61fb, 0x8fe0, 0x1, 0x0);
        gbc.writeMem(0xd523, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9b7d);
        EXPECT(gbc.pc(), 0xd524);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd523), 0x81);
        // 81 0186
        gbc.setState(0x3a7c, 0xc513, 0xfe50, 0x8bd3, 0xb88e, 0x4f6b, 0x0, 0x0);
        gbc.writeMem(0x3a7c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc513);
        EXPECT(gbc.pc(), 0x3a7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0187
        gbc.setState(0x483e, 0x8a95, 0xa1a0, 0x2f83, 0xb791, 0xfbba, 0x0, 0x0);
        gbc.writeMem(0x483e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x8a95);
        EXPECT(gbc.pc(), 0x483f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0188
        gbc.setState(0xe61b, 0xfae, 0xd5d0, 0x58f1, 0xa677, 0x642a, 0x1, 0x1);
        gbc.writeMem(0xe61b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xfae);
        EXPECT(gbc.pc(), 0xe61c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe61b), 0x81);
        // 81 0189
        gbc.setState(0x113a, 0x9f77, 0x7740, 0xd743, 0x3a98, 0xde14, 0x1, 0x0);
        gbc.writeMem(0x113a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x9f77);
        EXPECT(gbc.pc(), 0x113b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 018A
        gbc.setState(0x2e36, 0x4715, 0xf2b0, 0xbe1, 0x1c38, 0xee92, 0x1, 0x1);
        gbc.writeMem(0x2e36, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4715);
        EXPECT(gbc.pc(), 0x2e37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 018B
        gbc.setState(0x1ec5, 0x186, 0xe3b0, 0x3863, 0xcabe, 0x2003, 0x1, 0x0);
        gbc.writeMem(0x1ec5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x186);
        EXPECT(gbc.pc(), 0x1ec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 018C
        gbc.setState(0x9d03, 0xe4ca, 0xff30, 0xf271, 0xc120, 0xcfaa, 0x0, 0x1);
        gbc.writeMem(0x9d03, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xe4ca);
        EXPECT(gbc.pc(), 0x9d04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d03), 0x81);
        // 81 018D
        gbc.setState(0xc42, 0xc279, 0x88c0, 0x76ff, 0x7b74, 0x394a, 0x1, 0x1);
        gbc.writeMem(0xc42, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xc279);
        EXPECT(gbc.pc(), 0xc43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 018E
        gbc.setState(0x442f, 0xfe0, 0x5dc0, 0x42e, 0x9720, 0x3b74, 0x0, 0x1);
        gbc.writeMem(0x442f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xfe0);
        EXPECT(gbc.pc(), 0x4430);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 018F
        gbc.setState(0xc3aa, 0x6246, 0x6b0, 0xd6e2, 0xb7fb, 0xd9bf, 0x0, 0x0);
        gbc.writeMem(0xc3aa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x6246);
        EXPECT(gbc.pc(), 0xc3ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3aa), 0x81);
        // 81 0190
        gbc.setState(0xd932, 0x4117, 0x520, 0x7d01, 0x14e2, 0xeba4, 0x0, 0x0);
        gbc.writeMem(0xd932, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4117);
        EXPECT(gbc.pc(), 0xd933);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd932), 0x81);
        // 81 0191
        gbc.setState(0x1b21, 0x97d3, 0x99b0, 0x2d36, 0xaa73, 0xdd6a, 0x1, 0x0);
        gbc.writeMem(0x1b21, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x97d3);
        EXPECT(gbc.pc(), 0x1b22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0192
        gbc.setState(0x37b3, 0x113c, 0xa1d0, 0xaaa, 0x591c, 0x75c6, 0x1, 0x1);
        gbc.writeMem(0x37b3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x113c);
        EXPECT(gbc.pc(), 0x37b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0193
        gbc.setState(0x593, 0x6b73, 0x90, 0xfbe1, 0x73a4, 0xfc2b, 0x0, 0x0);
        gbc.writeMem(0x593, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6b73);
        EXPECT(gbc.pc(), 0x594);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0194
        gbc.setState(0x8637, 0xfae, 0x6d00, 0x4ac, 0xd89e, 0xe7d, 0x1, 0x1);
        gbc.writeMem(0x8637, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xfae);
        EXPECT(gbc.pc(), 0x8638);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8637), 0x81);
        // 81 0195
        gbc.setState(0xe5ff, 0xceee, 0x18c0, 0x33a1, 0xeed2, 0xa9cd, 0x0, 0x0);
        gbc.writeMem(0xe5ff, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xceee);
        EXPECT(gbc.pc(), 0xe600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ff), 0x81);
        // 81 0196
        gbc.setState(0x1e9a, 0xcfc1, 0x8080, 0xb3e8, 0xf515, 0x84cb, 0x0, 0x1);
        gbc.writeMem(0x1e9a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xcfc1);
        EXPECT(gbc.pc(), 0x1e9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0197
        gbc.setState(0x5a08, 0x76f4, 0x1970, 0x84cb, 0xe7, 0xe8b0, 0x1, 0x1);
        gbc.writeMem(0x5a08, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x76f4);
        EXPECT(gbc.pc(), 0x5a09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0198
        gbc.setState(0xd38, 0x677c, 0xf5f0, 0xd954, 0x6491, 0x70aa, 0x0, 0x0);
        gbc.writeMem(0xd38, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x677c);
        EXPECT(gbc.pc(), 0xd39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0199
        gbc.setState(0x4c8c, 0x7722, 0x5320, 0x6b6d, 0xb933, 0x1941, 0x1, 0x0);
        gbc.writeMem(0x4c8c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7722);
        EXPECT(gbc.pc(), 0x4c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 019A
        gbc.setState(0xca5, 0x7015, 0x8410, 0x661e, 0xf96, 0x5499, 0x1, 0x0);
        gbc.writeMem(0xca5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7015);
        EXPECT(gbc.pc(), 0xca6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 019B
        gbc.setState(0x7b7, 0x4eb4, 0x6cb0, 0xf330, 0xb3fc, 0xda8c, 0x0, 0x1);
        gbc.writeMem(0x7b7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4eb4);
        EXPECT(gbc.pc(), 0x7b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 019C
        gbc.setState(0x1236, 0xc4, 0x4740, 0xa1f, 0x5006, 0x8986, 0x1, 0x0);
        gbc.writeMem(0x1236, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc4);
        EXPECT(gbc.pc(), 0x1237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 019D
        gbc.setState(0x3f65, 0x27cb, 0x7050, 0xcd0d, 0x7dbf, 0x5429, 0x1, 0x0);
        gbc.writeMem(0x3f65, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x27cb);
        EXPECT(gbc.pc(), 0x3f66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 019E
        gbc.setState(0xd907, 0xdf7a, 0xfa0, 0xed1d, 0xc79d, 0x7648, 0x0, 0x0);
        gbc.writeMem(0xd907, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xdf7a);
        EXPECT(gbc.pc(), 0xd908);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd907), 0x81);
        // 81 019F
        gbc.setState(0xbd2a, 0xaca8, 0xec20, 0xa73f, 0xde73, 0xe1c9, 0x0, 0x0);
        gbc.writeMem(0xbd2a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xaca8);
        EXPECT(gbc.pc(), 0xbd2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd2a), 0x81);
        // 81 01A0
        gbc.setState(0xb9a4, 0x65be, 0xbcd0, 0x273b, 0xfb4c, 0x47d9, 0x1, 0x1);
        gbc.writeMem(0xb9a4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x65be);
        EXPECT(gbc.pc(), 0xb9a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9a4), 0x81);
        // 81 01A2
        gbc.setState(0x9a6b, 0xc83, 0xca40, 0xedb4, 0xdeb8, 0xcdd, 0x0, 0x1);
        gbc.writeMem(0x9a6b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc83);
        EXPECT(gbc.pc(), 0x9a6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a6b), 0x81);
        // 81 01A3
        gbc.setState(0x2b42, 0xd5fb, 0xeba0, 0x3343, 0x7ef, 0x6d19, 0x0, 0x1);
        gbc.writeMem(0x2b42, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xd5fb);
        EXPECT(gbc.pc(), 0x2b43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01A4
        gbc.setState(0xc787, 0x75ea, 0x910, 0x7c46, 0xf0f0, 0x5a2e, 0x1, 0x0);
        gbc.writeMem(0xc787, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x75ea);
        EXPECT(gbc.pc(), 0xc788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc787), 0x81);
        // 81 01A5
        gbc.setState(0xd866, 0xc5e3, 0xde50, 0x8ba5, 0xb430, 0x7bbb, 0x0, 0x1);
        gbc.writeMem(0xd866, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc5e3);
        EXPECT(gbc.pc(), 0xd867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd866), 0x81);
        // 81 01A6
        gbc.setState(0x939f, 0x6429, 0xcc00, 0x874, 0xbd42, 0xf6a, 0x1, 0x1);
        gbc.writeMem(0x939f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6429);
        EXPECT(gbc.pc(), 0x93a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x939f), 0x81);
        // 81 01A7
        gbc.setState(0xdd96, 0x5fd1, 0x5e20, 0x27d8, 0xce5b, 0xd6dc, 0x0, 0x0);
        gbc.writeMem(0xdd96, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x5fd1);
        EXPECT(gbc.pc(), 0xdd97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd96), 0x81);
        // 81 01A8
        gbc.setState(0xc3e6, 0x6b40, 0xdcb0, 0x8bf5, 0x1ec1, 0x2d4, 0x1, 0x1);
        gbc.writeMem(0xc3e6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6b40);
        EXPECT(gbc.pc(), 0xc3e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3e6), 0x81);
        // 81 01A9
        gbc.setState(0xb342, 0x1096, 0xf210, 0x5b7a, 0x52ce, 0x6a6, 0x1, 0x1);
        gbc.writeMem(0xb342, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1096);
        EXPECT(gbc.pc(), 0xb343);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb342), 0x81);
        // 81 01AA
        gbc.setState(0xb4d9, 0x736d, 0x1a70, 0x1366, 0x1661, 0xb6be, 0x1, 0x0);
        gbc.writeMem(0xb4d9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x736d);
        EXPECT(gbc.pc(), 0xb4da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d9), 0x81);
        // 81 01AC
        gbc.setState(0xef43, 0x368d, 0x8a60, 0x666a, 0xf085, 0x5827, 0x1, 0x1);
        gbc.writeMem(0xef43, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x368d);
        EXPECT(gbc.pc(), 0xef44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef43), 0x81);
        // 81 01AD
        gbc.setState(0xdc32, 0x595, 0x7c50, 0x3f7d, 0x615f, 0xb6b8, 0x1, 0x0);
        gbc.writeMem(0xdc32, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x595);
        EXPECT(gbc.pc(), 0xdc33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc32), 0x81);
        // 81 01AE
        gbc.setState(0xde89, 0x9c83, 0xd2c0, 0x755d, 0x569e, 0x5553, 0x1, 0x0);
        gbc.writeMem(0xde89, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9c83);
        EXPECT(gbc.pc(), 0xde8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde89), 0x81);
        // 81 01AF
        gbc.setState(0xeb2a, 0xac38, 0x1290, 0xc4cc, 0xf397, 0x73bb, 0x1, 0x1);
        gbc.writeMem(0xeb2a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xac38);
        EXPECT(gbc.pc(), 0xeb2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb2a), 0x81);
        // 81 01B0
        gbc.setState(0x85b2, 0xd1fd, 0x2d30, 0x6928, 0xbde1, 0x9a63, 0x0, 0x0);
        gbc.writeMem(0x85b2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd1fd);
        EXPECT(gbc.pc(), 0x85b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85b2), 0x81);
        // 81 01B1
        gbc.setState(0xecca, 0xd9ee, 0x1930, 0x5157, 0xf609, 0x8e56, 0x1, 0x0);
        gbc.writeMem(0xecca, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd9ee);
        EXPECT(gbc.pc(), 0xeccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecca), 0x81);
        // 81 01B2
        gbc.setState(0xd1aa, 0x633a, 0xb280, 0xb4f6, 0x6865, 0x71cb, 0x0, 0x0);
        gbc.writeMem(0xd1aa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x633a);
        EXPECT(gbc.pc(), 0xd1ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1aa), 0x81);
        // 81 01B3
        gbc.setState(0x5316, 0xed48, 0x7040, 0x40be, 0xb8a2, 0x659, 0x1, 0x1);
        gbc.writeMem(0x5316, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xed48);
        EXPECT(gbc.pc(), 0x5317);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01B4
        gbc.setState(0xd70a, 0x5dc7, 0x3c40, 0x928, 0x6069, 0xd1f3, 0x0, 0x1);
        gbc.writeMem(0xd70a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x5dc7);
        EXPECT(gbc.pc(), 0xd70b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd70a), 0x81);
        // 81 01B5
        gbc.setState(0x5620, 0xdba2, 0xd7f0, 0x398, 0x9b38, 0x2844, 0x1, 0x1);
        gbc.writeMem(0x5620, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdba2);
        EXPECT(gbc.pc(), 0x5621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01B6
        gbc.setState(0xbae2, 0x408f, 0xbd0, 0x1765, 0xbb09, 0xc0b2, 0x1, 0x0);
        gbc.writeMem(0xbae2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x408f);
        EXPECT(gbc.pc(), 0xbae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae2), 0x81);
        // 81 01B8
        gbc.setState(0x11d8, 0x4baf, 0x70, 0xd996, 0xdaf6, 0x17dd, 0x1, 0x1);
        gbc.writeMem(0x11d8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4baf);
        EXPECT(gbc.pc(), 0x11d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01B9
        gbc.setState(0x1d9d, 0xee5a, 0x6440, 0x8425, 0x5a0e, 0x13, 0x1, 0x0);
        gbc.writeMem(0x1d9d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xee5a);
        EXPECT(gbc.pc(), 0x1d9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01BA
        gbc.setState(0x27e2, 0xa774, 0x4300, 0x7691, 0x4e2a, 0x1872, 0x1, 0x0);
        gbc.writeMem(0x27e2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xa774);
        EXPECT(gbc.pc(), 0x27e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01BD
        gbc.setState(0x3c0a, 0xa5f1, 0xb6e0, 0xcb86, 0xc017, 0x479b, 0x0, 0x1);
        gbc.writeMem(0x3c0a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa5f1);
        EXPECT(gbc.pc(), 0x3c0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01BE
        gbc.setState(0x8b23, 0x2091, 0x1510, 0x693c, 0xe903, 0x907, 0x0, 0x0);
        gbc.writeMem(0x8b23, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2091);
        EXPECT(gbc.pc(), 0x8b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b23), 0x81);
        // 81 01BF
        gbc.setState(0x7928, 0xe22c, 0x1860, 0x5f04, 0x1d48, 0xc43b, 0x0, 0x1);
        gbc.writeMem(0x7928, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe22c);
        EXPECT(gbc.pc(), 0x7929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01C0
        gbc.setState(0x5efc, 0x2f7b, 0xf40, 0x37cb, 0x1a05, 0x4ab3, 0x1, 0x1);
        gbc.writeMem(0x5efc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2f7b);
        EXPECT(gbc.pc(), 0x5efd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 01C1
        gbc.setState(0x83ee, 0xde72, 0xa3f0, 0xaa85, 0xb226, 0x5178, 0x0, 0x1);
        gbc.writeMem(0x83ee, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xde72);
        EXPECT(gbc.pc(), 0x83ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83ee), 0x81);
        // 81 01C2
        gbc.setState(0xb7f8, 0x8b58, 0xded0, 0x7680, 0x61ad, 0xe5d9, 0x0, 0x0);
        gbc.writeMem(0xb7f8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8b58);
        EXPECT(gbc.pc(), 0xb7f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7f8), 0x81);
        // 81 01C3
        gbc.setState(0x4f71, 0xcb06, 0x6580, 0xe2fb, 0x2b9b, 0x3a, 0x1, 0x1);
        gbc.writeMem(0x4f71, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xcb06);
        EXPECT(gbc.pc(), 0x4f72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01C4
        gbc.setState(0x1b98, 0xe59c, 0xaaa0, 0xc7a2, 0x4d7b, 0x433c, 0x0, 0x1);
        gbc.writeMem(0x1b98, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe59c);
        EXPECT(gbc.pc(), 0x1b99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01C5
        gbc.setState(0x356d, 0xcda1, 0xf230, 0x93d2, 0xb7a7, 0xfc60, 0x0, 0x0);
        gbc.writeMem(0x356d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xcda1);
        EXPECT(gbc.pc(), 0x356e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01C6
        gbc.setState(0xdf4b, 0xd30, 0x9210, 0xdb3b, 0x5e27, 0xf041, 0x0, 0x1);
        gbc.writeMem(0xdf4b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd30);
        EXPECT(gbc.pc(), 0xdf4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf4b), 0x81);
        // 81 01C7
        gbc.setState(0xa130, 0xcb95, 0xd470, 0x8fc2, 0x700a, 0xc953, 0x0, 0x1);
        gbc.writeMem(0xa130, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcb95);
        EXPECT(gbc.pc(), 0xa131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa130), 0x81);
        // 81 01C8
        gbc.setState(0x7c67, 0x7e0c, 0xb480, 0x23e2, 0xf9e7, 0x1366, 0x1, 0x1);
        gbc.writeMem(0x7c67, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7e0c);
        EXPECT(gbc.pc(), 0x7c68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01C9
        gbc.setState(0xd025, 0xcec2, 0x8590, 0x16c9, 0xf79d, 0x3438, 0x1, 0x1);
        gbc.writeMem(0xd025, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xcec2);
        EXPECT(gbc.pc(), 0xd026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd025), 0x81);
        // 81 01CA
        gbc.setState(0x662d, 0x4641, 0x20f0, 0x2eee, 0x95c4, 0xc6cc, 0x0, 0x1);
        gbc.writeMem(0x662d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4641);
        EXPECT(gbc.pc(), 0x662e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01CB
        gbc.setState(0xb626, 0x1115, 0x2850, 0xc157, 0x222e, 0xff33, 0x1, 0x1);
        gbc.writeMem(0xb626, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1115);
        EXPECT(gbc.pc(), 0xb627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb626), 0x81);
        // 81 01CD
        gbc.setState(0x7744, 0x36ac, 0xf3e0, 0x7fb4, 0xdc47, 0x5deb, 0x1, 0x1);
        gbc.writeMem(0x7744, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x36ac);
        EXPECT(gbc.pc(), 0x7745);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01CE
        gbc.setState(0x7ae, 0xdd58, 0xb6e0, 0xcf4a, 0xad96, 0xbf70, 0x1, 0x1);
        gbc.writeMem(0x7ae, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xdd58);
        EXPECT(gbc.pc(), 0x7af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01CF
        gbc.setState(0xedfe, 0xe7d7, 0xb2b0, 0x819f, 0x54b9, 0x3dcf, 0x1, 0x1);
        gbc.writeMem(0xedfe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe7d7);
        EXPECT(gbc.pc(), 0xedff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedfe), 0x81);
        // 81 01D0
        gbc.setState(0x6143, 0x5a19, 0x3950, 0xe606, 0x620b, 0x9740, 0x0, 0x0);
        gbc.writeMem(0x6143, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x5a19);
        EXPECT(gbc.pc(), 0x6144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01D1
        gbc.setState(0xefa0, 0x5a07, 0x9630, 0x41da, 0xaee5, 0x5bfd, 0x0, 0x1);
        gbc.writeMem(0xefa0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5a07);
        EXPECT(gbc.pc(), 0xefa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefa0), 0x81);
        // 81 01D2
        gbc.setState(0x93e0, 0xeaed, 0x7d0, 0x3588, 0xdca, 0x9de9, 0x1, 0x1);
        gbc.writeMem(0x93e0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xeaed);
        EXPECT(gbc.pc(), 0x93e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93e0), 0x81);
        // 81 01D3
        gbc.setState(0x5e2a, 0xb03f, 0x0, 0xbc25, 0xf7d2, 0x2548, 0x0, 0x1);
        gbc.writeMem(0x5e2a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb03f);
        EXPECT(gbc.pc(), 0x5e2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01D4
        gbc.setState(0x6067, 0xee57, 0x7d10, 0x9e4b, 0xa467, 0x5966, 0x0, 0x1);
        gbc.writeMem(0x6067, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xee57);
        EXPECT(gbc.pc(), 0x6068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 01D5
        gbc.setState(0x6ef4, 0xa454, 0x7690, 0xc877, 0x11c7, 0xe59d, 0x1, 0x1);
        gbc.writeMem(0x6ef4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa454);
        EXPECT(gbc.pc(), 0x6ef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01D6
        gbc.setState(0x1faf, 0xb70d, 0x76c0, 0x6404, 0xda14, 0xd77d, 0x0, 0x1);
        gbc.writeMem(0x1faf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb70d);
        EXPECT(gbc.pc(), 0x1fb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01D8
        gbc.setState(0x7293, 0xc3e3, 0xefa0, 0x1c0d, 0xce16, 0x7f27, 0x1, 0x0);
        gbc.writeMem(0x7293, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc3e3);
        EXPECT(gbc.pc(), 0x7294);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 01D9
        gbc.setState(0xdc6e, 0xb81, 0x83f0, 0xfb27, 0x81, 0x290f, 0x0, 0x0);
        gbc.writeMem(0xdc6e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xb81);
        EXPECT(gbc.pc(), 0xdc6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc6e), 0x81);
        // 81 01DA
        gbc.setState(0x84b2, 0xc367, 0x8270, 0x55d8, 0x1f00, 0xd215, 0x0, 0x1);
        gbc.writeMem(0x84b2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc367);
        EXPECT(gbc.pc(), 0x84b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b2), 0x81);
        // 81 01DB
        gbc.setState(0xebcd, 0x67ca, 0xa380, 0x3cf3, 0x6093, 0xf33, 0x0, 0x0);
        gbc.writeMem(0xebcd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x67ca);
        EXPECT(gbc.pc(), 0xebce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebcd), 0x81);
        // 81 01DC
        gbc.setState(0xd4fe, 0x5ba5, 0x310, 0x4a39, 0xdee7, 0xc79, 0x0, 0x0);
        gbc.writeMem(0xd4fe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x5ba5);
        EXPECT(gbc.pc(), 0xd4ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4fe), 0x81);
        // 81 01DD
        gbc.setState(0x5b20, 0xa37a, 0x95a0, 0xaa2, 0x53, 0xbc2d, 0x0, 0x1);
        gbc.writeMem(0x5b20, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa37a);
        EXPECT(gbc.pc(), 0x5b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01DE
        gbc.setState(0x8021, 0x143f, 0x8500, 0x25, 0xfb33, 0x99f0, 0x1, 0x1);
        gbc.writeMem(0x8021, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x143f);
        EXPECT(gbc.pc(), 0x8022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8021), 0x81);
        // 81 01DF
        gbc.setState(0x5432, 0xae83, 0xbe30, 0x3ecb, 0x51ae, 0x4448, 0x0, 0x1);
        gbc.writeMem(0x5432, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xae83);
        EXPECT(gbc.pc(), 0x5433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01E0
        gbc.setState(0x5324, 0x6d7b, 0x1070, 0xd1be, 0xcdba, 0x373a, 0x0, 0x0);
        gbc.writeMem(0x5324, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6d7b);
        EXPECT(gbc.pc(), 0x5325);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01E1
        gbc.setState(0x5879, 0xc1e8, 0x8ef0, 0xb07c, 0xaf10, 0xfcfb, 0x1, 0x0);
        gbc.writeMem(0x5879, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc1e8);
        EXPECT(gbc.pc(), 0x587a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01E2
        gbc.setState(0x55f, 0xf503, 0xe900, 0x1b41, 0x9966, 0x4d49, 0x1, 0x1);
        gbc.writeMem(0x55f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf503);
        EXPECT(gbc.pc(), 0x560);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01E3
        gbc.setState(0xbb2f, 0xdd3, 0x19d0, 0x7e4b, 0x1d06, 0x1de, 0x1, 0x1);
        gbc.writeMem(0xbb2f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xdd3);
        EXPECT(gbc.pc(), 0xbb30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb2f), 0x81);
        // 81 01E4
        gbc.setState(0x1ed, 0x8ae6, 0x2d20, 0xb116, 0x123c, 0xdc2e, 0x1, 0x1);
        gbc.writeMem(0x1ed, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8ae6);
        EXPECT(gbc.pc(), 0x1ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 01E5
        gbc.setState(0xa778, 0x1d3d, 0x5e20, 0xc287, 0x7361, 0x78b6, 0x1, 0x0);
        gbc.writeMem(0xa778, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1d3d);
        EXPECT(gbc.pc(), 0xa779);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa778), 0x81);
        // 81 01E6
        gbc.setState(0xb217, 0xaa26, 0xe1d0, 0xde00, 0xd99, 0xacb7, 0x0, 0x1);
        gbc.writeMem(0xb217, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xaa26);
        EXPECT(gbc.pc(), 0xb218);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb217), 0x81);
        // 81 01E7
        gbc.setState(0x8db0, 0xac05, 0xbdf0, 0x4bf0, 0x1b4c, 0x6cf1, 0x0, 0x1);
        gbc.writeMem(0x8db0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xac05);
        EXPECT(gbc.pc(), 0x8db1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8db0), 0x81);
        // 81 01E8
        gbc.setState(0x9b71, 0x775e, 0x8a50, 0xe761, 0x9e99, 0xe536, 0x1, 0x1);
        gbc.writeMem(0x9b71, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x775e);
        EXPECT(gbc.pc(), 0x9b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b71), 0x81);
        // 81 01E9
        gbc.setState(0x8ef1, 0x9a20, 0xe790, 0x14b0, 0xd6cb, 0xc2a0, 0x1, 0x1);
        gbc.writeMem(0x8ef1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9a20);
        EXPECT(gbc.pc(), 0x8ef2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ef1), 0x81);
        // 81 01EA
        gbc.setState(0xa628, 0x5cf6, 0xa9a0, 0xb9d2, 0xe188, 0x1edb, 0x1, 0x0);
        gbc.writeMem(0xa628, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5cf6);
        EXPECT(gbc.pc(), 0xa629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa628), 0x81);
        // 81 01EB
        gbc.setState(0x871f, 0xfa41, 0xc610, 0xff33, 0xba84, 0x9aa6, 0x0, 0x1);
        gbc.writeMem(0x871f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xfa41);
        EXPECT(gbc.pc(), 0x8720);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x871f), 0x81);
        // 81 01EC
        gbc.setState(0x6a14, 0x6f80, 0x9fa0, 0xc1dc, 0xc45, 0x37ac, 0x1, 0x0);
        gbc.writeMem(0x6a14, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6f80);
        EXPECT(gbc.pc(), 0x6a15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01ED
        gbc.setState(0x78d9, 0xd9c2, 0xf180, 0x8824, 0x96a2, 0x7922, 0x1, 0x0);
        gbc.writeMem(0x78d9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd9c2);
        EXPECT(gbc.pc(), 0x78da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01EE
        gbc.setState(0x5bf6, 0x171c, 0x1fc0, 0x9f24, 0x33cf, 0x4cb0, 0x1, 0x0);
        gbc.writeMem(0x5bf6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x171c);
        EXPECT(gbc.pc(), 0x5bf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 01EF
        gbc.setState(0x4d67, 0xa96e, 0x6c70, 0xc6eb, 0x6044, 0xdd16, 0x1, 0x1);
        gbc.writeMem(0x4d67, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa96e);
        EXPECT(gbc.pc(), 0x4d68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01F0
        gbc.setState(0xeed2, 0x2d22, 0xaac0, 0xa599, 0x3bac, 0x3d08, 0x1, 0x1);
        gbc.writeMem(0xeed2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2d22);
        EXPECT(gbc.pc(), 0xeed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeed2), 0x81);
        // 81 01F1
        gbc.setState(0x30fb, 0xed1f, 0x5a20, 0x573b, 0x28d9, 0x4607, 0x0, 0x0);
        gbc.writeMem(0x30fb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xed1f);
        EXPECT(gbc.pc(), 0x30fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 01F2
        gbc.setState(0x14c7, 0xa5c5, 0x7d50, 0x9ce2, 0x71b, 0xa1d3, 0x1, 0x1);
        gbc.writeMem(0x14c7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xa5c5);
        EXPECT(gbc.pc(), 0x14c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 01F3
        gbc.setState(0xb62f, 0xadc6, 0x45e0, 0xe9f, 0x7c0c, 0xebd9, 0x0, 0x0);
        gbc.writeMem(0xb62f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xadc6);
        EXPECT(gbc.pc(), 0xb630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb62f), 0x81);
        // 81 01F4
        gbc.setState(0x6161, 0x6981, 0x9510, 0xf7cf, 0x4dcd, 0x878d, 0x0, 0x0);
        gbc.writeMem(0x6161, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x6981);
        EXPECT(gbc.pc(), 0x6162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01F5
        gbc.setState(0x836a, 0xf31, 0xaec0, 0x269c, 0x8bda, 0xa8bc, 0x0, 0x0);
        gbc.writeMem(0x836a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf31);
        EXPECT(gbc.pc(), 0x836b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x836a), 0x81);
        // 81 01F6
        gbc.setState(0x9e76, 0xaa31, 0x1700, 0x8c8c, 0xe787, 0x3e09, 0x1, 0x0);
        gbc.writeMem(0x9e76, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xaa31);
        EXPECT(gbc.pc(), 0x9e77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e76), 0x81);
        // 81 01F7
        gbc.setState(0xee69, 0x6e9a, 0x47e0, 0x8e82, 0x48f7, 0x6d21, 0x0, 0x1);
        gbc.writeMem(0xee69, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6e9a);
        EXPECT(gbc.pc(), 0xee6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee69), 0x81);
        // 81 01F8
        gbc.setState(0xdedd, 0x8239, 0xf440, 0xa3ad, 0x72de, 0x1a49, 0x0, 0x1);
        gbc.writeMem(0xdedd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8239);
        EXPECT(gbc.pc(), 0xdede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdedd), 0x81);
        // 81 01F9
        gbc.setState(0xaf8, 0xffc0, 0xeb10, 0x97e, 0x3b0b, 0x1f1b, 0x0, 0x1);
        gbc.writeMem(0xaf8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xffc0);
        EXPECT(gbc.pc(), 0xaf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 01FA
        gbc.setState(0x541a, 0xfc5e, 0x6a80, 0x7d25, 0xbdd, 0x4f4, 0x0, 0x0);
        gbc.writeMem(0x541a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xfc5e);
        EXPECT(gbc.pc(), 0x541b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01FB
        gbc.setState(0xa4ab, 0x3cb, 0x1a40, 0xd66b, 0xde86, 0x4350, 0x1, 0x1);
        gbc.writeMem(0xa4ab, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3cb);
        EXPECT(gbc.pc(), 0xa4ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4ab), 0x81);
        // 81 01FC
        gbc.setState(0x69b2, 0x8258, 0x4d0, 0x7762, 0x7519, 0x4610, 0x0, 0x1);
        gbc.writeMem(0x69b2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8258);
        EXPECT(gbc.pc(), 0x69b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 01FD
        gbc.setState(0xa818, 0xac06, 0xcf60, 0xc5a0, 0x9845, 0x168c, 0x1, 0x1);
        gbc.writeMem(0xa818, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xac06);
        EXPECT(gbc.pc(), 0xa819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa818), 0x81);
        // 81 01FE
        gbc.setState(0xe64e, 0xab1e, 0x3e70, 0x50cd, 0x2ae4, 0xeb, 0x0, 0x1);
        gbc.writeMem(0xe64e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xab1e);
        EXPECT(gbc.pc(), 0xe64f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe64e), 0x81);
        // 81 01FF
        gbc.setState(0xe4d9, 0x311, 0x3e20, 0xa0fb, 0xb6cd, 0x3ba4, 0x1, 0x0);
        gbc.writeMem(0xe4d9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x311);
        EXPECT(gbc.pc(), 0xe4da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4d9), 0x81);
        // 81 0200
        gbc.setState(0x671f, 0x7ff2, 0x16b0, 0x5f95, 0x5ad4, 0x9d9f, 0x0, 0x0);
        gbc.writeMem(0x671f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x7ff2);
        EXPECT(gbc.pc(), 0x6720);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0201
        gbc.setState(0x2e57, 0xba0b, 0x8750, 0xb673, 0xd49e, 0xf52c, 0x1, 0x0);
        gbc.writeMem(0x2e57, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xba0b);
        EXPECT(gbc.pc(), 0x2e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0202
        gbc.setState(0x9da2, 0x492, 0xd130, 0xe640, 0x90d6, 0x793f, 0x0, 0x1);
        gbc.writeMem(0x9da2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x492);
        EXPECT(gbc.pc(), 0x9da3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9da2), 0x81);
        // 81 0203
        gbc.setState(0x29b0, 0xd986, 0xe1d0, 0xc88e, 0x6c2, 0x7b97, 0x1, 0x1);
        gbc.writeMem(0x29b0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd986);
        EXPECT(gbc.pc(), 0x29b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0204
        gbc.setState(0x72cd, 0xc92b, 0xb010, 0x3335, 0xe182, 0x8ce7, 0x1, 0x1);
        gbc.writeMem(0x72cd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc92b);
        EXPECT(gbc.pc(), 0x72ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0205
        gbc.setState(0x4412, 0x98d, 0x89d0, 0x52cf, 0x437a, 0x4a04, 0x0, 0x1);
        gbc.writeMem(0x4412, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x98d);
        EXPECT(gbc.pc(), 0x4413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0206
        gbc.setState(0x47f9, 0x3ced, 0x4a90, 0xfc27, 0x75ae, 0x4b71, 0x1, 0x0);
        gbc.writeMem(0x47f9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x3ced);
        EXPECT(gbc.pc(), 0x47fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0207
        gbc.setState(0x2c6, 0xda48, 0xbf30, 0x9d7f, 0xbed8, 0x62cb, 0x0, 0x0);
        gbc.writeMem(0x2c6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xda48);
        EXPECT(gbc.pc(), 0x2c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0208
        gbc.setState(0xe419, 0xcb9d, 0xa5f0, 0xc364, 0x4d54, 0x411d, 0x0, 0x0);
        gbc.writeMem(0xe419, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xcb9d);
        EXPECT(gbc.pc(), 0xe41a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe419), 0x81);
        // 81 0209
        gbc.setState(0x1afa, 0xa9dd, 0x550, 0xf6fc, 0x58ce, 0x6510, 0x0, 0x1);
        gbc.writeMem(0x1afa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa9dd);
        EXPECT(gbc.pc(), 0x1afb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 020A
        gbc.setState(0x7da6, 0x8c5b, 0x7fb0, 0x4343, 0xe51c, 0x77d1, 0x1, 0x1);
        gbc.writeMem(0x7da6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8c5b);
        EXPECT(gbc.pc(), 0x7da7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 020B
        gbc.setState(0x83e6, 0x5960, 0xacd0, 0x6a48, 0xf4c3, 0x5f6a, 0x1, 0x1);
        gbc.writeMem(0x83e6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5960);
        EXPECT(gbc.pc(), 0x83e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e6), 0x81);
        // 81 020C
        gbc.setState(0x7329, 0xbeae, 0xa830, 0xd19, 0xa106, 0xc75b, 0x0, 0x0);
        gbc.writeMem(0x7329, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbeae);
        EXPECT(gbc.pc(), 0x732a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 020D
        gbc.setState(0x5513, 0xb9dc, 0x680, 0xa962, 0x3a43, 0xedfa, 0x1, 0x0);
        gbc.writeMem(0x5513, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb9dc);
        EXPECT(gbc.pc(), 0x5514);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 020E
        gbc.setState(0xbd3, 0xb389, 0x4920, 0xf909, 0x23fa, 0xfa6c, 0x0, 0x0);
        gbc.writeMem(0xbd3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xb389);
        EXPECT(gbc.pc(), 0xbd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 020F
        gbc.setState(0xb20f, 0xa2f2, 0x3dc0, 0xc0c3, 0x9f86, 0xace4, 0x0, 0x0);
        gbc.writeMem(0xb20f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa2f2);
        EXPECT(gbc.pc(), 0xb210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb20f), 0x81);
        // 81 0210
        gbc.setState(0x7645, 0xac3d, 0x30, 0x1373, 0x71d8, 0x73b8, 0x1, 0x1);
        gbc.writeMem(0x7645, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xac3d);
        EXPECT(gbc.pc(), 0x7646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0211
        gbc.setState(0x6f0e, 0x3684, 0xb610, 0x610, 0x84e1, 0x5345, 0x0, 0x0);
        gbc.writeMem(0x6f0e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3684);
        EXPECT(gbc.pc(), 0x6f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0212
        gbc.setState(0x5687, 0x87a4, 0xb3a0, 0x6792, 0x43f9, 0xf08c, 0x1, 0x1);
        gbc.writeMem(0x5687, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x87a4);
        EXPECT(gbc.pc(), 0x5688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0213
        gbc.setState(0x4f4f, 0xcb2f, 0x9f50, 0x946d, 0xaf42, 0xe078, 0x0, 0x0);
        gbc.writeMem(0x4f4f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcb2f);
        EXPECT(gbc.pc(), 0x4f50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0214
        gbc.setState(0x35c, 0xac47, 0x7c00, 0xd9fe, 0x8b2d, 0xaec4, 0x1, 0x0);
        gbc.writeMem(0x35c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xac47);
        EXPECT(gbc.pc(), 0x35d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0215
        gbc.setState(0x53f0, 0x3e15, 0xa240, 0xa860, 0xf265, 0x1067, 0x0, 0x0);
        gbc.writeMem(0x53f0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x3e15);
        EXPECT(gbc.pc(), 0x53f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0217
        gbc.setState(0x8503, 0xe75a, 0x6350, 0x2fec, 0xa758, 0x1f9e, 0x1, 0x1);
        gbc.writeMem(0x8503, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe75a);
        EXPECT(gbc.pc(), 0x8504);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8503), 0x81);
        // 81 0218
        gbc.setState(0xad00, 0xb1f5, 0xfb00, 0xdee2, 0x643c, 0x7b98, 0x0, 0x0);
        gbc.writeMem(0xad00, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb1f5);
        EXPECT(gbc.pc(), 0xad01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad00), 0x81);
        // 81 0219
        gbc.setState(0x2038, 0x8849, 0x8b40, 0x32e6, 0xfce, 0xbb67, 0x1, 0x1);
        gbc.writeMem(0x2038, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x8849);
        EXPECT(gbc.pc(), 0x2039);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 021A
        gbc.setState(0x7e2e, 0x8e52, 0xb9e0, 0xf05e, 0x7ae8, 0xbf5, 0x0, 0x1);
        gbc.writeMem(0x7e2e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8e52);
        EXPECT(gbc.pc(), 0x7e2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 021B
        gbc.setState(0xdb7, 0x317b, 0x3d90, 0x8955, 0x580, 0x2a67, 0x1, 0x1);
        gbc.writeMem(0xdb7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x317b);
        EXPECT(gbc.pc(), 0xdb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 021C
        gbc.setState(0x2d4b, 0xd396, 0x1680, 0xf2bc, 0x1dac, 0xff8f, 0x1, 0x0);
        gbc.writeMem(0x2d4b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd396);
        EXPECT(gbc.pc(), 0x2d4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 021D
        gbc.setState(0x1784, 0x24a2, 0xaef0, 0x4698, 0xcaf8, 0x4c0e, 0x1, 0x0);
        gbc.writeMem(0x1784, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x24a2);
        EXPECT(gbc.pc(), 0x1785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 021F
        gbc.setState(0x4f54, 0x3ac8, 0x7c20, 0x81b4, 0x23d2, 0x9242, 0x0, 0x0);
        gbc.writeMem(0x4f54, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3ac8);
        EXPECT(gbc.pc(), 0x4f55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0220
        gbc.setState(0xbe03, 0xfb4d, 0x8c20, 0x2ae8, 0x1841, 0xdf6a, 0x0, 0x0);
        gbc.writeMem(0xbe03, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xfb4d);
        EXPECT(gbc.pc(), 0xbe04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe03), 0x81);
        // 81 0221
        gbc.setState(0x464a, 0x7277, 0x8910, 0xf2e0, 0xe88, 0xa56f, 0x1, 0x0);
        gbc.writeMem(0x464a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7277);
        EXPECT(gbc.pc(), 0x464b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0222
        gbc.setState(0x33bb, 0xc1a7, 0x1e10, 0x38e, 0xff7, 0x3b01, 0x0, 0x1);
        gbc.writeMem(0x33bb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc1a7);
        EXPECT(gbc.pc(), 0x33bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0223
        gbc.setState(0x9be5, 0xb24a, 0xc5b0, 0xf1e0, 0x7860, 0x3d5b, 0x0, 0x1);
        gbc.writeMem(0x9be5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb24a);
        EXPECT(gbc.pc(), 0x9be6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9be5), 0x81);
        // 81 0224
        gbc.setState(0xa79b, 0xe9b6, 0xf780, 0x59d1, 0x1af8, 0xb3fd, 0x1, 0x1);
        gbc.writeMem(0xa79b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe9b6);
        EXPECT(gbc.pc(), 0xa79c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa79b), 0x81);
        // 81 0225
        gbc.setState(0xbd65, 0xfff2, 0x1390, 0xc972, 0x4429, 0x2171, 0x0, 0x0);
        gbc.writeMem(0xbd65, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xfff2);
        EXPECT(gbc.pc(), 0xbd66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd65), 0x81);
        // 81 0226
        gbc.setState(0xa6e3, 0xaf25, 0x5da0, 0xf432, 0xccc1, 0x6cb, 0x1, 0x1);
        gbc.writeMem(0xa6e3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xaf25);
        EXPECT(gbc.pc(), 0xa6e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e3), 0x81);
        // 81 0227
        gbc.setState(0x225d, 0x3173, 0xecd0, 0xdb0a, 0xdbdb, 0x20c0, 0x0, 0x0);
        gbc.writeMem(0x225d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3173);
        EXPECT(gbc.pc(), 0x225e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0228
        gbc.setState(0x32be, 0x89d0, 0x1f00, 0x854a, 0x95e, 0x5e53, 0x0, 0x0);
        gbc.writeMem(0x32be, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x89d0);
        EXPECT(gbc.pc(), 0x32bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0229
        gbc.setState(0xd414, 0xa4e7, 0xf410, 0xdbc4, 0xbcb0, 0xf6e, 0x0, 0x1);
        gbc.writeMem(0xd414, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xa4e7);
        EXPECT(gbc.pc(), 0xd415);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd414), 0x81);
        // 81 022A
        gbc.setState(0x44df, 0x8477, 0x7000, 0x20af, 0xe103, 0x7cab, 0x1, 0x1);
        gbc.writeMem(0x44df, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x8477);
        EXPECT(gbc.pc(), 0x44e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 022B
        gbc.setState(0x7c54, 0x2d98, 0xf620, 0xe0c2, 0x2835, 0x2374, 0x0, 0x1);
        gbc.writeMem(0x7c54, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x2d98);
        EXPECT(gbc.pc(), 0x7c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 022C
        gbc.setState(0xcb61, 0x831c, 0xec20, 0xbb6b, 0xba18, 0x9968, 0x1, 0x1);
        gbc.writeMem(0xcb61, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x831c);
        EXPECT(gbc.pc(), 0xcb62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb61), 0x81);
        // 81 022D
        gbc.setState(0x4c43, 0x9496, 0xe2e0, 0xe0f9, 0x1e3e, 0xdef7, 0x1, 0x0);
        gbc.writeMem(0x4c43, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9496);
        EXPECT(gbc.pc(), 0x4c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 022E
        gbc.setState(0x560a, 0x53a, 0x68c0, 0x6d37, 0xb5c, 0x7a36, 0x1, 0x1);
        gbc.writeMem(0x560a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x53a);
        EXPECT(gbc.pc(), 0x560b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 022F
        gbc.setState(0xe296, 0xa7fa, 0xca10, 0x11ec, 0x6bf1, 0x14ac, 0x1, 0x0);
        gbc.writeMem(0xe296, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa7fa);
        EXPECT(gbc.pc(), 0xe297);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe296), 0x81);
        // 81 0230
        gbc.setState(0x1a0c, 0xfff2, 0x6de0, 0x9910, 0x21ae, 0xe2fc, 0x0, 0x1);
        gbc.writeMem(0x1a0c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xfff2);
        EXPECT(gbc.pc(), 0x1a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0231
        gbc.setState(0x6d64, 0xd875, 0xda00, 0x4f6, 0xbd7f, 0xa68d, 0x1, 0x0);
        gbc.writeMem(0x6d64, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd875);
        EXPECT(gbc.pc(), 0x6d65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0232
        gbc.setState(0xe5d4, 0xdde9, 0x7380, 0x9036, 0x3e99, 0xfb06, 0x1, 0x0);
        gbc.writeMem(0xe5d4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xdde9);
        EXPECT(gbc.pc(), 0xe5d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d4), 0x81);
        // 81 0233
        gbc.setState(0x9ce8, 0x1986, 0x93c0, 0xb38d, 0x7560, 0xce24, 0x1, 0x0);
        gbc.writeMem(0x9ce8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x1986);
        EXPECT(gbc.pc(), 0x9ce9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ce8), 0x81);
        // 81 0234
        gbc.setState(0x1b65, 0x287a, 0xf750, 0x3d1b, 0x2ddd, 0xfabb, 0x1, 0x1);
        gbc.writeMem(0x1b65, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x287a);
        EXPECT(gbc.pc(), 0x1b66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0235
        gbc.setState(0x9d61, 0x8709, 0x3840, 0x4243, 0x511c, 0xf71e, 0x0, 0x0);
        gbc.writeMem(0x9d61, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8709);
        EXPECT(gbc.pc(), 0x9d62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d61), 0x81);
        // 81 0236
        gbc.setState(0x61f9, 0xc2f5, 0xf710, 0x80d2, 0x72e0, 0xadad, 0x1, 0x1);
        gbc.writeMem(0x61f9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc2f5);
        EXPECT(gbc.pc(), 0x61fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0237
        gbc.setState(0x2f61, 0x409d, 0x97c0, 0x9b78, 0xe8d9, 0xe955, 0x1, 0x1);
        gbc.writeMem(0x2f61, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x409d);
        EXPECT(gbc.pc(), 0x2f62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0238
        gbc.setState(0xa1f2, 0x2016, 0x5800, 0x5d48, 0xdc2b, 0x73e9, 0x0, 0x1);
        gbc.writeMem(0xa1f2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2016);
        EXPECT(gbc.pc(), 0xa1f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1f2), 0x81);
        // 81 0239
        gbc.setState(0x3913, 0x7ebf, 0xe10, 0xe4f, 0xef9c, 0xe3fb, 0x0, 0x1);
        gbc.writeMem(0x3913, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7ebf);
        EXPECT(gbc.pc(), 0x3914);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 023A
        gbc.setState(0x98aa, 0xaa7a, 0x7f80, 0x1639, 0x7fea, 0x8d0e, 0x0, 0x1);
        gbc.writeMem(0x98aa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xaa7a);
        EXPECT(gbc.pc(), 0x98ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98aa), 0x81);
        // 81 023B
        gbc.setState(0x80d9, 0xc5d2, 0x4bd0, 0x2198, 0x5d0, 0x4f2f, 0x0, 0x1);
        gbc.writeMem(0x80d9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xc5d2);
        EXPECT(gbc.pc(), 0x80da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80d9), 0x81);
        // 81 023C
        gbc.setState(0x9d61, 0x1ae5, 0x7af0, 0xafcf, 0x49cb, 0x3a25, 0x1, 0x0);
        gbc.writeMem(0x9d61, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1ae5);
        EXPECT(gbc.pc(), 0x9d62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d61), 0x81);
        // 81 023E
        gbc.setState(0x3a35, 0x2ad6, 0xb4c0, 0xb1e8, 0xde23, 0xbb15, 0x1, 0x0);
        gbc.writeMem(0x3a35, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x2ad6);
        EXPECT(gbc.pc(), 0x3a36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 023F
        gbc.setState(0x4f17, 0x6583, 0x1970, 0xa218, 0xd1da, 0xe1d4, 0x0, 0x0);
        gbc.writeMem(0x4f17, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6583);
        EXPECT(gbc.pc(), 0x4f18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0240
        gbc.setState(0xbfa7, 0xff65, 0x2ff0, 0x31d8, 0x95da, 0x5205, 0x0, 0x0);
        gbc.writeMem(0xbfa7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xff65);
        EXPECT(gbc.pc(), 0xbfa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfa7), 0x81);
        // 81 0241
        gbc.setState(0x66de, 0x3ac5, 0x6080, 0xfb69, 0x8214, 0x64dc, 0x0, 0x0);
        gbc.writeMem(0x66de, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3ac5);
        EXPECT(gbc.pc(), 0x66df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0242
        gbc.setState(0x7c43, 0x865, 0x7c60, 0x81ef, 0xa925, 0xfbdc, 0x1, 0x1);
        gbc.writeMem(0x7c43, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x865);
        EXPECT(gbc.pc(), 0x7c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0243
        gbc.setState(0xb675, 0x543a, 0x2720, 0xb5ce, 0x8b43, 0x84c4, 0x1, 0x1);
        gbc.writeMem(0xb675, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x543a);
        EXPECT(gbc.pc(), 0xb676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb675), 0x81);
        // 81 0244
        gbc.setState(0x4989, 0x1ad, 0x18f0, 0x1c4f, 0xff9c, 0x355e, 0x0, 0x1);
        gbc.writeMem(0x4989, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x1ad);
        EXPECT(gbc.pc(), 0x498a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0245
        gbc.setState(0x4651, 0x7532, 0x8210, 0x1437, 0x5383, 0x5ed0, 0x0, 0x1);
        gbc.writeMem(0x4651, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7532);
        EXPECT(gbc.pc(), 0x4652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0246
        gbc.setState(0x766c, 0xbf2c, 0xdad0, 0xcc4c, 0x1775, 0x64a6, 0x0, 0x1);
        gbc.writeMem(0x766c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbf2c);
        EXPECT(gbc.pc(), 0x766d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0247
        gbc.setState(0x47d7, 0x1f37, 0xffd0, 0xa86, 0x77c2, 0xb3dc, 0x0, 0x0);
        gbc.writeMem(0x47d7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1f37);
        EXPECT(gbc.pc(), 0x47d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0248
        gbc.setState(0xad10, 0xbe4e, 0x7460, 0xe5a6, 0x32bd, 0xe36, 0x0, 0x1);
        gbc.writeMem(0xad10, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xbe4e);
        EXPECT(gbc.pc(), 0xad11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad10), 0x81);
        // 81 0249
        gbc.setState(0x63d7, 0xedb3, 0x2c90, 0x6d, 0xe134, 0xc161, 0x0, 0x0);
        gbc.writeMem(0x63d7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xedb3);
        EXPECT(gbc.pc(), 0x63d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 024A
        gbc.setState(0x9d95, 0xf679, 0xa170, 0x1b2b, 0x3dd6, 0xc0fe, 0x1, 0x0);
        gbc.writeMem(0x9d95, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xf679);
        EXPECT(gbc.pc(), 0x9d96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d95), 0x81);
        // 81 024B
        gbc.setState(0x5647, 0x8bd5, 0x26b0, 0x313d, 0x18c5, 0xfa8e, 0x0, 0x0);
        gbc.writeMem(0x5647, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8bd5);
        EXPECT(gbc.pc(), 0x5648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 024C
        gbc.setState(0x1524, 0x9a66, 0xf9a0, 0xe7f6, 0x7a74, 0xef7b, 0x0, 0x0);
        gbc.writeMem(0x1524, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x9a66);
        EXPECT(gbc.pc(), 0x1525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 024D
        gbc.setState(0x56ce, 0x1be6, 0x8ad0, 0x92ed, 0xb8c9, 0xaa19, 0x1, 0x1);
        gbc.writeMem(0x56ce, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1be6);
        EXPECT(gbc.pc(), 0x56cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 024E
        gbc.setState(0x699a, 0xba66, 0x34d0, 0xd831, 0x73d1, 0x47d7, 0x1, 0x0);
        gbc.writeMem(0x699a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xba66);
        EXPECT(gbc.pc(), 0x699b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 024F
        gbc.setState(0xc47a, 0x5673, 0xe20, 0x5a94, 0x69fb, 0x34c6, 0x1, 0x0);
        gbc.writeMem(0xc47a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5673);
        EXPECT(gbc.pc(), 0xc47b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc47a), 0x81);
        // 81 0250
        gbc.setState(0xb230, 0x1ef8, 0x6730, 0x9f91, 0xc44a, 0x1d1c, 0x0, 0x1);
        gbc.writeMem(0xb230, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1ef8);
        EXPECT(gbc.pc(), 0xb231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb230), 0x81);
        // 81 0251
        gbc.setState(0x6101, 0x5d08, 0x68c0, 0xc79c, 0x7e59, 0x8410, 0x1, 0x1);
        gbc.writeMem(0x6101, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5d08);
        EXPECT(gbc.pc(), 0x6102);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0252
        gbc.setState(0x6a2, 0xdec0, 0x2200, 0xa0a4, 0xae98, 0x7409, 0x1, 0x1);
        gbc.writeMem(0x6a2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdec0);
        EXPECT(gbc.pc(), 0x6a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0253
        gbc.setState(0xe1b5, 0x7448, 0xaa90, 0x3203, 0x1651, 0xafc, 0x1, 0x0);
        gbc.writeMem(0xe1b5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x7448);
        EXPECT(gbc.pc(), 0xe1b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1b5), 0x81);
        // 81 0254
        gbc.setState(0xb3a5, 0x949, 0x6ae0, 0x3006, 0xdc24, 0x6233, 0x0, 0x0);
        gbc.writeMem(0xb3a5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x949);
        EXPECT(gbc.pc(), 0xb3a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3a5), 0x81);
        // 81 0255
        gbc.setState(0x9ad4, 0x8714, 0x7680, 0x56dc, 0xda5c, 0xde62, 0x0, 0x0);
        gbc.writeMem(0x9ad4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8714);
        EXPECT(gbc.pc(), 0x9ad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ad4), 0x81);
        // 81 0256
        gbc.setState(0xe0f3, 0x2aff, 0x7740, 0xe660, 0x6ff8, 0xe7e3, 0x0, 0x0);
        gbc.writeMem(0xe0f3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2aff);
        EXPECT(gbc.pc(), 0xe0f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0f3), 0x81);
        // 81 0257
        gbc.setState(0xa7dd, 0x840c, 0x3790, 0x946c, 0x641f, 0xc98c, 0x0, 0x1);
        gbc.writeMem(0xa7dd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x840c);
        EXPECT(gbc.pc(), 0xa7de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7dd), 0x81);
        // 81 0258
        gbc.setState(0x2662, 0x12d0, 0x6360, 0x79a0, 0xbc04, 0x6d0b, 0x0, 0x1);
        gbc.writeMem(0x2662, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x12d0);
        EXPECT(gbc.pc(), 0x2663);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0259
        gbc.setState(0xc2d0, 0x7822, 0x2e80, 0x215d, 0x3a95, 0xb5d3, 0x1, 0x0);
        gbc.writeMem(0xc2d0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7822);
        EXPECT(gbc.pc(), 0xc2d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2d0), 0x81);
        // 81 025A
        gbc.setState(0x607b, 0x111b, 0x1e70, 0xdef8, 0xf434, 0xddc3, 0x1, 0x0);
        gbc.writeMem(0x607b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x111b);
        EXPECT(gbc.pc(), 0x607c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 025B
        gbc.setState(0xa423, 0x9c33, 0x4c70, 0xafa5, 0x7029, 0x9071, 0x1, 0x0);
        gbc.writeMem(0xa423, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x9c33);
        EXPECT(gbc.pc(), 0xa424);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa423), 0x81);
        // 81 025C
        gbc.setState(0xd43f, 0x69c9, 0x8a70, 0x5ecd, 0xbcf5, 0xef21, 0x1, 0x0);
        gbc.writeMem(0xd43f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x69c9);
        EXPECT(gbc.pc(), 0xd440);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd43f), 0x81);
        // 81 025D
        gbc.setState(0x47e9, 0x9838, 0x9ef0, 0x32ff, 0x946c, 0xfac8, 0x0, 0x1);
        gbc.writeMem(0x47e9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9838);
        EXPECT(gbc.pc(), 0x47ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 025E
        gbc.setState(0xc01f, 0x14fb, 0x7e80, 0xea82, 0xeb5d, 0xdfc4, 0x1, 0x0);
        gbc.writeMem(0xc01f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x14fb);
        EXPECT(gbc.pc(), 0xc020);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc01f), 0x81);
        // 81 025F
        gbc.setState(0x1274, 0x6ad, 0x28f0, 0xa95a, 0xfb80, 0x36d7, 0x0, 0x1);
        gbc.writeMem(0x1274, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x6ad);
        EXPECT(gbc.pc(), 0x1275);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0260
        gbc.setState(0x8464, 0xfd5, 0x7e80, 0xe738, 0xcae5, 0x5695, 0x0, 0x0);
        gbc.writeMem(0x8464, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xfd5);
        EXPECT(gbc.pc(), 0x8465);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8464), 0x81);
        // 81 0261
        gbc.setState(0xbe27, 0x5be4, 0xf9a0, 0xcd33, 0x112e, 0xca7b, 0x1, 0x1);
        gbc.writeMem(0xbe27, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x5be4);
        EXPECT(gbc.pc(), 0xbe28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe27), 0x81);
        // 81 0263
        gbc.setState(0xc1f4, 0x854f, 0x5fe0, 0xab6c, 0x3ed3, 0x9112, 0x0, 0x1);
        gbc.writeMem(0xc1f4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x854f);
        EXPECT(gbc.pc(), 0xc1f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1f4), 0x81);
        // 81 0264
        gbc.setState(0xaa15, 0x1a0c, 0x1b30, 0xb9f0, 0x5f45, 0x9003, 0x0, 0x1);
        gbc.writeMem(0xaa15, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x1a0c);
        EXPECT(gbc.pc(), 0xaa16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa15), 0x81);
        // 81 0265
        gbc.setState(0x9ae9, 0xd36a, 0x8990, 0xeb5, 0xa5ac, 0x8766, 0x1, 0x1);
        gbc.writeMem(0x9ae9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd36a);
        EXPECT(gbc.pc(), 0x9aea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae9), 0x81);
        // 81 0266
        gbc.setState(0x21bc, 0xed, 0x14a0, 0x99f5, 0x5300, 0x3c56, 0x0, 0x0);
        gbc.writeMem(0x21bc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xed);
        EXPECT(gbc.pc(), 0x21bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0267
        gbc.setState(0x4a30, 0x133d, 0x90e0, 0xf943, 0x3876, 0x26b1, 0x0, 0x1);
        gbc.writeMem(0x4a30, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x133d);
        EXPECT(gbc.pc(), 0x4a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0268
        gbc.setState(0x83d3, 0x22ad, 0x8250, 0x4675, 0xa496, 0xe452, 0x0, 0x0);
        gbc.writeMem(0x83d3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x22ad);
        EXPECT(gbc.pc(), 0x83d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d3), 0x81);
        // 81 0269
        gbc.setState(0x35cb, 0xc109, 0xd9f0, 0xe77f, 0xb404, 0x5a0f, 0x1, 0x1);
        gbc.writeMem(0x35cb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc109);
        EXPECT(gbc.pc(), 0x35cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 026A
        gbc.setState(0x3291, 0xc675, 0x9be0, 0x7b61, 0xf0e0, 0xee4f, 0x0, 0x1);
        gbc.writeMem(0x3291, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xc675);
        EXPECT(gbc.pc(), 0x3292);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 026B
        gbc.setState(0xbd95, 0x27aa, 0x4110, 0xab9a, 0x3ab2, 0x2556, 0x1, 0x0);
        gbc.writeMem(0xbd95, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x27aa);
        EXPECT(gbc.pc(), 0xbd96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd95), 0x81);
        // 81 026C
        gbc.setState(0x1cf7, 0x81ef, 0xc370, 0x1fef, 0x486b, 0xb80f, 0x0, 0x1);
        gbc.writeMem(0x1cf7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x81ef);
        EXPECT(gbc.pc(), 0x1cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 026D
        gbc.setState(0xa521, 0xad96, 0x6a10, 0xd65e, 0xe686, 0xf6c5, 0x0, 0x0);
        gbc.writeMem(0xa521, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xad96);
        EXPECT(gbc.pc(), 0xa522);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa521), 0x81);
        // 81 026E
        gbc.setState(0x59d1, 0x7409, 0x52d0, 0x7093, 0xb7d6, 0x1a31, 0x1, 0x1);
        gbc.writeMem(0x59d1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7409);
        EXPECT(gbc.pc(), 0x59d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 026F
        gbc.setState(0xace8, 0xa882, 0xf310, 0x91de, 0x2467, 0xe2dd, 0x0, 0x0);
        gbc.writeMem(0xace8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xa882);
        EXPECT(gbc.pc(), 0xace9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace8), 0x81);
        // 81 0270
        gbc.setState(0xdb7b, 0xe7f5, 0x2030, 0xbcc0, 0x2a6c, 0x9cd1, 0x1, 0x1);
        gbc.writeMem(0xdb7b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe7f5);
        EXPECT(gbc.pc(), 0xdb7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb7b), 0x81);
        // 81 0271
        gbc.setState(0x14f4, 0x8066, 0xa6f0, 0x3e05, 0x3bc8, 0x5f38, 0x1, 0x0);
        gbc.writeMem(0x14f4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8066);
        EXPECT(gbc.pc(), 0x14f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0273
        gbc.setState(0xd3d, 0x3d43, 0xf720, 0x77b0, 0x6610, 0x3120, 0x1, 0x0);
        gbc.writeMem(0xd3d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x3d43);
        EXPECT(gbc.pc(), 0xd3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0274
        gbc.setState(0x5e13, 0x1a51, 0x9600, 0x6e65, 0xf50f, 0x1293, 0x0, 0x1);
        gbc.writeMem(0x5e13, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1a51);
        EXPECT(gbc.pc(), 0x5e14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0275
        gbc.setState(0x4269, 0x5684, 0x4a20, 0x1f96, 0x4c71, 0xa856, 0x0, 0x1);
        gbc.writeMem(0x4269, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5684);
        EXPECT(gbc.pc(), 0x426a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0276
        gbc.setState(0x1452, 0xff90, 0xe1a0, 0x4945, 0xee6e, 0xaedd, 0x0, 0x1);
        gbc.writeMem(0x1452, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xff90);
        EXPECT(gbc.pc(), 0x1453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0277
        gbc.setState(0x482e, 0xc5c5, 0x6650, 0x5567, 0x2bee, 0xade7, 0x0, 0x1);
        gbc.writeMem(0x482e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc5c5);
        EXPECT(gbc.pc(), 0x482f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0278
        gbc.setState(0xa3d0, 0xfe4, 0x9b70, 0x40ed, 0x8a7e, 0xdfc0, 0x1, 0x0);
        gbc.writeMem(0xa3d0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xfe4);
        EXPECT(gbc.pc(), 0xa3d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3d0), 0x81);
        // 81 0279
        gbc.setState(0xd20, 0x6d4f, 0x4e30, 0x7e16, 0xfaa8, 0x2c3f, 0x1, 0x0);
        gbc.writeMem(0xd20, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x6d4f);
        EXPECT(gbc.pc(), 0xd21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 027A
        gbc.setState(0x9412, 0x12cb, 0x4840, 0x73b3, 0xfa03, 0x95df, 0x1, 0x0);
        gbc.writeMem(0x9412, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x12cb);
        EXPECT(gbc.pc(), 0x9413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9412), 0x81);
        // 81 027B
        gbc.setState(0x19b6, 0x4b6e, 0xc510, 0x7c8c, 0xb7e, 0x735e, 0x1, 0x1);
        gbc.writeMem(0x19b6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4b6e);
        EXPECT(gbc.pc(), 0x19b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 027C
        gbc.setState(0x7132, 0xe125, 0x4b50, 0xf017, 0x775e, 0x3e7f, 0x1, 0x1);
        gbc.writeMem(0x7132, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe125);
        EXPECT(gbc.pc(), 0x7133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 027D
        gbc.setState(0xe3ba, 0xce2a, 0x3fa0, 0xe1a1, 0xcd30, 0xf735, 0x0, 0x0);
        gbc.writeMem(0xe3ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xce2a);
        EXPECT(gbc.pc(), 0xe3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3ba), 0x81);
        // 81 027F
        gbc.setState(0x3bf5, 0x5305, 0xd990, 0xe18, 0xc03e, 0x72d1, 0x0, 0x0);
        gbc.writeMem(0x3bf5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x5305);
        EXPECT(gbc.pc(), 0x3bf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0280
        gbc.setState(0x7abe, 0x4cd0, 0x6b50, 0xea5, 0xf19e, 0x3af4, 0x0, 0x0);
        gbc.writeMem(0x7abe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4cd0);
        EXPECT(gbc.pc(), 0x7abf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0281
        gbc.setState(0x16c3, 0xa615, 0xc4b0, 0x5293, 0xc2e7, 0xb686, 0x0, 0x0);
        gbc.writeMem(0x16c3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa615);
        EXPECT(gbc.pc(), 0x16c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0282
        gbc.setState(0x21d2, 0xffd0, 0x2af0, 0x8c44, 0xeecc, 0x94e0, 0x0, 0x0);
        gbc.writeMem(0x21d2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xffd0);
        EXPECT(gbc.pc(), 0x21d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0283
        gbc.setState(0x3379, 0x7b16, 0x5d40, 0x745f, 0xfdcc, 0x22ca, 0x1, 0x0);
        gbc.writeMem(0x3379, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7b16);
        EXPECT(gbc.pc(), 0x337a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0284
        gbc.setState(0x87f7, 0x1603, 0xe550, 0xa187, 0x84ce, 0xa221, 0x1, 0x0);
        gbc.writeMem(0x87f7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1603);
        EXPECT(gbc.pc(), 0x87f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87f7), 0x81);
        // 81 0285
        gbc.setState(0xd84a, 0x2b7b, 0x9e90, 0x312f, 0x6585, 0x53b1, 0x0, 0x1);
        gbc.writeMem(0xd84a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2b7b);
        EXPECT(gbc.pc(), 0xd84b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd84a), 0x81);
        // 81 0286
        gbc.setState(0xb204, 0xbfe, 0xdfe0, 0x9870, 0x54e8, 0x2325, 0x0, 0x0);
        gbc.writeMem(0xb204, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xbfe);
        EXPECT(gbc.pc(), 0xb205);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb204), 0x81);
        // 81 0288
        gbc.setState(0x1110, 0x2260, 0x4180, 0x43ce, 0xc81e, 0x99e2, 0x0, 0x0);
        gbc.writeMem(0x1110, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2260);
        EXPECT(gbc.pc(), 0x1111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0289
        gbc.setState(0x839d, 0x7949, 0x1770, 0xe342, 0x1207, 0x2194, 0x1, 0x0);
        gbc.writeMem(0x839d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x7949);
        EXPECT(gbc.pc(), 0x839e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x839d), 0x81);
        // 81 028A
        gbc.setState(0x33b9, 0xc978, 0x64b0, 0x3eb, 0x75d5, 0x4996, 0x0, 0x1);
        gbc.writeMem(0x33b9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc978);
        EXPECT(gbc.pc(), 0x33ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 028C
        gbc.setState(0x3086, 0x1d85, 0x1cc0, 0x63d6, 0x3834, 0x22b5, 0x0, 0x0);
        gbc.writeMem(0x3086, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1d85);
        EXPECT(gbc.pc(), 0x3087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 028D
        gbc.setState(0x88f0, 0xd998, 0x52b0, 0x294, 0x83bd, 0x23fa, 0x0, 0x0);
        gbc.writeMem(0x88f0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd998);
        EXPECT(gbc.pc(), 0x88f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88f0), 0x81);
        // 81 028E
        gbc.setState(0x40b4, 0x54a2, 0xb780, 0x7c57, 0x9894, 0x9732, 0x1, 0x0);
        gbc.writeMem(0x40b4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x54a2);
        EXPECT(gbc.pc(), 0x40b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 028F
        gbc.setState(0x1b76, 0x8dc6, 0xfbd0, 0x6bdf, 0x6722, 0x5db1, 0x0, 0x1);
        gbc.writeMem(0x1b76, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8dc6);
        EXPECT(gbc.pc(), 0x1b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0290
        gbc.setState(0x7baa, 0x406, 0xd430, 0xd66f, 0x20a2, 0x245a, 0x0, 0x0);
        gbc.writeMem(0x7baa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x406);
        EXPECT(gbc.pc(), 0x7bab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0291
        gbc.setState(0x5684, 0xd289, 0xe390, 0x4361, 0x1ee2, 0x6ff5, 0x1, 0x0);
        gbc.writeMem(0x5684, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xd289);
        EXPECT(gbc.pc(), 0x5685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0292
        gbc.setState(0x422c, 0x7994, 0x7500, 0x5436, 0xf824, 0x3cb0, 0x1, 0x1);
        gbc.writeMem(0x422c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7994);
        EXPECT(gbc.pc(), 0x422d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0293
        gbc.setState(0x1828, 0x5b50, 0xae30, 0x5752, 0x7062, 0x21da, 0x0, 0x0);
        gbc.writeMem(0x1828, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5b50);
        EXPECT(gbc.pc(), 0x1829);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0294
        gbc.setState(0xc922, 0xeade, 0x36a0, 0x66da, 0xf383, 0xc16d, 0x1, 0x1);
        gbc.writeMem(0xc922, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xeade);
        EXPECT(gbc.pc(), 0xc923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc922), 0x81);
        // 81 0296
        gbc.setState(0x8, 0x3a6d, 0x2650, 0xe79a, 0x60e, 0xd396, 0x1, 0x1);
        gbc.writeMem(0x8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3a6d);
        EXPECT(gbc.pc(), 0x9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0297
        gbc.setState(0xd21b, 0xa7f8, 0x9860, 0x165, 0x5227, 0x3df5, 0x1, 0x1);
        gbc.writeMem(0xd21b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa7f8);
        EXPECT(gbc.pc(), 0xd21c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd21b), 0x81);
        // 81 0298
        gbc.setState(0x4463, 0x739b, 0xc7b0, 0x65c9, 0xf66c, 0x239d, 0x1, 0x0);
        gbc.writeMem(0x4463, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x739b);
        EXPECT(gbc.pc(), 0x4464);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0299
        gbc.setState(0xaedb, 0xcf00, 0x5bc0, 0xa02, 0x1ded, 0xd9cf, 0x0, 0x0);
        gbc.writeMem(0xaedb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xcf00);
        EXPECT(gbc.pc(), 0xaedc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaedb), 0x81);
        // 81 029A
        gbc.setState(0x3caa, 0x8486, 0x8f80, 0x478f, 0x4c1d, 0xfa2f, 0x0, 0x0);
        gbc.writeMem(0x3caa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8486);
        EXPECT(gbc.pc(), 0x3cab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 029B
        gbc.setState(0xe303, 0xcbb7, 0xedb0, 0x8597, 0x3cb5, 0xe91, 0x0, 0x1);
        gbc.writeMem(0xe303, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xcbb7);
        EXPECT(gbc.pc(), 0xe304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe303), 0x81);
        // 81 029C
        gbc.setState(0xb805, 0x5c38, 0x7b00, 0xbce5, 0x2a73, 0x4a22, 0x1, 0x0);
        gbc.writeMem(0xb805, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x5c38);
        EXPECT(gbc.pc(), 0xb806);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb805), 0x81);
        // 81 029D
        gbc.setState(0x11, 0xcd54, 0x1290, 0x86f7, 0xc853, 0xf356, 0x0, 0x0);
        gbc.writeMem(0x11, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xcd54);
        EXPECT(gbc.pc(), 0x12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 029E
        gbc.setState(0x429e, 0xb59e, 0x2000, 0x2c6, 0x748e, 0xa9d4, 0x0, 0x0);
        gbc.writeMem(0x429e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb59e);
        EXPECT(gbc.pc(), 0x429f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 029F
        gbc.setState(0x4560, 0x61b3, 0x5b00, 0xb401, 0x8b40, 0xe316, 0x0, 0x1);
        gbc.writeMem(0x4560, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x61b3);
        EXPECT(gbc.pc(), 0x4561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02A0
        gbc.setState(0xed91, 0x5e40, 0xd180, 0x3b3d, 0xe168, 0x79b2, 0x0, 0x0);
        gbc.writeMem(0xed91, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5e40);
        EXPECT(gbc.pc(), 0xed92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed91), 0x81);
        // 81 02A1
        gbc.setState(0x8b73, 0xb4e2, 0xf910, 0x919d, 0xf417, 0x11b4, 0x1, 0x0);
        gbc.writeMem(0x8b73, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb4e2);
        EXPECT(gbc.pc(), 0x8b74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b73), 0x81);
        // 81 02A2
        gbc.setState(0xc52, 0x30dd, 0xf570, 0xe81e, 0x66b3, 0xc796, 0x1, 0x0);
        gbc.writeMem(0xc52, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x30dd);
        EXPECT(gbc.pc(), 0xc53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02A3
        gbc.setState(0x8fed, 0x4cff, 0x2380, 0x1a57, 0xec91, 0xdb22, 0x0, 0x0);
        gbc.writeMem(0x8fed, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4cff);
        EXPECT(gbc.pc(), 0x8fee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fed), 0x81);
        // 81 02A4
        gbc.setState(0x276a, 0x17cf, 0xa440, 0xf0e2, 0x67ae, 0x525, 0x1, 0x1);
        gbc.writeMem(0x276a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x17cf);
        EXPECT(gbc.pc(), 0x276b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02A5
        gbc.setState(0xbebf, 0x948d, 0x8c40, 0xe612, 0x2064, 0xb8ae, 0x0, 0x0);
        gbc.writeMem(0xbebf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x948d);
        EXPECT(gbc.pc(), 0xbec0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbebf), 0x81);
        // 81 02A6
        gbc.setState(0xd49c, 0x147e, 0x49b0, 0xbbcd, 0xbc70, 0xed5f, 0x1, 0x1);
        gbc.writeMem(0xd49c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x147e);
        EXPECT(gbc.pc(), 0xd49d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd49c), 0x81);
        // 81 02A7
        gbc.setState(0x2676, 0x61ba, 0x2230, 0xd18a, 0xc606, 0x128a, 0x1, 0x0);
        gbc.writeMem(0x2676, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x61ba);
        EXPECT(gbc.pc(), 0x2677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02A8
        gbc.setState(0x67e9, 0x13c7, 0xdcd0, 0x8d1b, 0x8e5a, 0xaa37, 0x1, 0x1);
        gbc.writeMem(0x67e9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x13c7);
        EXPECT(gbc.pc(), 0x67ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02A9
        gbc.setState(0x4294, 0x8c22, 0x9db0, 0x53db, 0xc1e4, 0x46af, 0x0, 0x1);
        gbc.writeMem(0x4294, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8c22);
        EXPECT(gbc.pc(), 0x4295);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02AA
        gbc.setState(0xc443, 0xe84c, 0x9540, 0xdd99, 0x9cc6, 0x6824, 0x0, 0x1);
        gbc.writeMem(0xc443, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe84c);
        EXPECT(gbc.pc(), 0xc444);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc443), 0x81);
        // 81 02AB
        gbc.setState(0x7d7a, 0xe198, 0x1760, 0xe379, 0x87ad, 0x54cb, 0x1, 0x0);
        gbc.writeMem(0x7d7a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe198);
        EXPECT(gbc.pc(), 0x7d7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02AC
        gbc.setState(0x3b58, 0xe606, 0x44a0, 0x9093, 0x4c06, 0x2cd4, 0x0, 0x0);
        gbc.writeMem(0x3b58, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe606);
        EXPECT(gbc.pc(), 0x3b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02AD
        gbc.setState(0x6974, 0xdc73, 0xee40, 0x47ae, 0x686b, 0xb544, 0x0, 0x1);
        gbc.writeMem(0x6974, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdc73);
        EXPECT(gbc.pc(), 0x6975);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02AE
        gbc.setState(0x1dc4, 0xea6, 0xa3f0, 0x42e8, 0xda5d, 0x116d, 0x0, 0x0);
        gbc.writeMem(0x1dc4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xea6);
        EXPECT(gbc.pc(), 0x1dc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02AF
        gbc.setState(0x3541, 0x61d4, 0xb920, 0x9583, 0x7831, 0x60d4, 0x0, 0x0);
        gbc.writeMem(0x3541, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x61d4);
        EXPECT(gbc.pc(), 0x3542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02B0
        gbc.setState(0x28fc, 0x1ed3, 0xd5a0, 0x2e8d, 0xb09e, 0x52b6, 0x1, 0x0);
        gbc.writeMem(0x28fc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1ed3);
        EXPECT(gbc.pc(), 0x28fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02B1
        gbc.setState(0xec46, 0xca70, 0x5fc0, 0xecfc, 0xe85a, 0x3e19, 0x0, 0x0);
        gbc.writeMem(0xec46, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xca70);
        EXPECT(gbc.pc(), 0xec47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec46), 0x81);
        // 81 02B2
        gbc.setState(0xbe9f, 0xad9a, 0x1e60, 0x7357, 0xabbc, 0x4a5, 0x0, 0x0);
        gbc.writeMem(0xbe9f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xad9a);
        EXPECT(gbc.pc(), 0xbea0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe9f), 0x81);
        // 81 02B3
        gbc.setState(0x2625, 0xa7fe, 0xd2f0, 0x7610, 0x470c, 0xd20b, 0x0, 0x1);
        gbc.writeMem(0x2625, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa7fe);
        EXPECT(gbc.pc(), 0x2626);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02B4
        gbc.setState(0xb429, 0xe181, 0xc20, 0xffe, 0xabea, 0x3861, 0x1, 0x0);
        gbc.writeMem(0xb429, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe181);
        EXPECT(gbc.pc(), 0xb42a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb429), 0x81);
        // 81 02B5
        gbc.setState(0x6762, 0x4c2c, 0xb930, 0xb268, 0x2416, 0x1090, 0x0, 0x0);
        gbc.writeMem(0x6762, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4c2c);
        EXPECT(gbc.pc(), 0x6763);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02B6
        gbc.setState(0x432f, 0xda4e, 0xcb30, 0x5ef3, 0x44a, 0xfc76, 0x1, 0x0);
        gbc.writeMem(0x432f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xda4e);
        EXPECT(gbc.pc(), 0x4330);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02B7
        gbc.setState(0x265c, 0x6f, 0x32b0, 0x2b08, 0x5d50, 0x4c5d, 0x1, 0x1);
        gbc.writeMem(0x265c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6f);
        EXPECT(gbc.pc(), 0x265d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02B8
        gbc.setState(0x7bf, 0xea7a, 0x24a0, 0xdae0, 0x995e, 0xdd16, 0x0, 0x0);
        gbc.writeMem(0x7bf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xea7a);
        EXPECT(gbc.pc(), 0x7c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02B9
        gbc.setState(0x2e95, 0x6fb0, 0xda20, 0xfb4b, 0x798, 0x5350, 0x0, 0x1);
        gbc.writeMem(0x2e95, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x6fb0);
        EXPECT(gbc.pc(), 0x2e96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02BA
        gbc.setState(0x4920, 0x1a73, 0x5ca0, 0xf274, 0x75d5, 0xd6d1, 0x0, 0x1);
        gbc.writeMem(0x4920, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1a73);
        EXPECT(gbc.pc(), 0x4921);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02BB
        gbc.setState(0xc463, 0xe1e4, 0xf8b0, 0xbf57, 0x2b15, 0x4303, 0x0, 0x0);
        gbc.writeMem(0xc463, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe1e4);
        EXPECT(gbc.pc(), 0xc464);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc463), 0x81);
        // 81 02BD
        gbc.setState(0xd6b3, 0x9277, 0xeec0, 0x7066, 0x5bdc, 0xf39a, 0x1, 0x0);
        gbc.writeMem(0xd6b3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9277);
        EXPECT(gbc.pc(), 0xd6b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6b3), 0x81);
        // 81 02BE
        gbc.setState(0x3893, 0x26d5, 0x9d10, 0x6449, 0xc2e3, 0x1363, 0x1, 0x0);
        gbc.writeMem(0x3893, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x26d5);
        EXPECT(gbc.pc(), 0x3894);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02BF
        gbc.setState(0xb09, 0x3fa9, 0x9ab0, 0x5642, 0x4cb5, 0x6bcf, 0x0, 0x1);
        gbc.writeMem(0xb09, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3fa9);
        EXPECT(gbc.pc(), 0xb0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02C0
        gbc.setState(0x4353, 0x4d52, 0x9640, 0x16e, 0x390, 0x1b8d, 0x0, 0x0);
        gbc.writeMem(0x4353, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4d52);
        EXPECT(gbc.pc(), 0x4354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02C1
        gbc.setState(0x5d0c, 0x2049, 0xabe0, 0xbb9, 0xec9d, 0xd832, 0x0, 0x0);
        gbc.writeMem(0x5d0c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2049);
        EXPECT(gbc.pc(), 0x5d0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02C2
        gbc.setState(0x939a, 0xdbfc, 0xf520, 0xe987, 0x8686, 0xd70d, 0x0, 0x0);
        gbc.writeMem(0x939a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdbfc);
        EXPECT(gbc.pc(), 0x939b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x939a), 0x81);
        // 81 02C3
        gbc.setState(0xd4e7, 0x1f64, 0x36b0, 0xffd7, 0xa570, 0xe234, 0x1, 0x1);
        gbc.writeMem(0xd4e7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1f64);
        EXPECT(gbc.pc(), 0xd4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4e7), 0x81);
        // 81 02C4
        gbc.setState(0xc25e, 0x752c, 0x85a0, 0x7047, 0xd29a, 0xd2ce, 0x0, 0x1);
        gbc.writeMem(0xc25e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x752c);
        EXPECT(gbc.pc(), 0xc25f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc25e), 0x81);
        // 81 02C5
        gbc.setState(0xa323, 0xe243, 0xc030, 0xafd5, 0x55c0, 0x1019, 0x0, 0x1);
        gbc.writeMem(0xa323, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe243);
        EXPECT(gbc.pc(), 0xa324);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa323), 0x81);
        // 81 02C6
        gbc.setState(0x2e0f, 0xfee9, 0xd160, 0xf5b3, 0x471d, 0x6454, 0x0, 0x0);
        gbc.writeMem(0x2e0f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xfee9);
        EXPECT(gbc.pc(), 0x2e10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02C8
        gbc.setState(0xbc15, 0x7620, 0x9980, 0x861e, 0xa573, 0x62b7, 0x1, 0x1);
        gbc.writeMem(0xbc15, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7620);
        EXPECT(gbc.pc(), 0xbc16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc15), 0x81);
        // 81 02C9
        gbc.setState(0x4e9c, 0xd1d0, 0x9970, 0xec89, 0xffd7, 0x639, 0x1, 0x0);
        gbc.writeMem(0x4e9c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd1d0);
        EXPECT(gbc.pc(), 0x4e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02CA
        gbc.setState(0x5b0, 0x2b1b, 0x4e00, 0x7706, 0x313e, 0xa311, 0x0, 0x1);
        gbc.writeMem(0x5b0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2b1b);
        EXPECT(gbc.pc(), 0x5b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02CB
        gbc.setState(0x324e, 0x463e, 0xb5a0, 0xef48, 0x8e53, 0xe5f6, 0x1, 0x0);
        gbc.writeMem(0x324e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x463e);
        EXPECT(gbc.pc(), 0x324f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02CC
        gbc.setState(0x396, 0x45aa, 0x7ee0, 0x6118, 0xb3d5, 0x3ec2, 0x1, 0x0);
        gbc.writeMem(0x396, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x45aa);
        EXPECT(gbc.pc(), 0x397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02CD
        gbc.setState(0x7888, 0xd19e, 0xa230, 0x7d0, 0x829e, 0x65ea, 0x0, 0x1);
        gbc.writeMem(0x7888, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd19e);
        EXPECT(gbc.pc(), 0x7889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02CE
        gbc.setState(0xa309, 0x28ef, 0xae50, 0xd1a9, 0x33f2, 0xe823, 0x1, 0x1);
        gbc.writeMem(0xa309, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x28ef);
        EXPECT(gbc.pc(), 0xa30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa309), 0x81);
        // 81 02D0
        gbc.setState(0x9ae8, 0xc657, 0x9c20, 0xec3e, 0x511b, 0x77b3, 0x0, 0x1);
        gbc.writeMem(0x9ae8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc657);
        EXPECT(gbc.pc(), 0x9ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ae8), 0x81);
        // 81 02D1
        gbc.setState(0x5c38, 0x963a, 0xe0f0, 0x86c1, 0x6ab, 0xc308, 0x0, 0x1);
        gbc.writeMem(0x5c38, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x963a);
        EXPECT(gbc.pc(), 0x5c39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02D2
        gbc.setState(0x2d1a, 0xc688, 0x6220, 0xb830, 0x22fa, 0x83cd, 0x0, 0x1);
        gbc.writeMem(0x2d1a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc688);
        EXPECT(gbc.pc(), 0x2d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02D3
        gbc.setState(0xa2a0, 0x55a9, 0x2e00, 0xfdb7, 0x3bc0, 0xdff0, 0x0, 0x0);
        gbc.writeMem(0xa2a0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x55a9);
        EXPECT(gbc.pc(), 0xa2a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2a0), 0x81);
        // 81 02D4
        gbc.setState(0x2f60, 0xd109, 0x7170, 0xf510, 0x38ef, 0x55ff, 0x0, 0x1);
        gbc.writeMem(0x2f60, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd109);
        EXPECT(gbc.pc(), 0x2f61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02D5
        gbc.setState(0x83fd, 0x8ee6, 0x1af0, 0xc8dd, 0xfa98, 0xe1f4, 0x0, 0x1);
        gbc.writeMem(0x83fd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8ee6);
        EXPECT(gbc.pc(), 0x83fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83fd), 0x81);
        // 81 02D6
        gbc.setState(0x6d7e, 0x8ee9, 0x6ac0, 0x6695, 0xd8b3, 0x24a, 0x1, 0x1);
        gbc.writeMem(0x6d7e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x8ee9);
        EXPECT(gbc.pc(), 0x6d7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02D7
        gbc.setState(0xe087, 0xa047, 0xbcd0, 0xe1, 0xda9f, 0xb194, 0x1, 0x1);
        gbc.writeMem(0xe087, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa047);
        EXPECT(gbc.pc(), 0xe088);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe087), 0x81);
        // 81 02D8
        gbc.setState(0xc7b0, 0x82ef, 0xaed0, 0x3b0d, 0x6552, 0xf8e1, 0x1, 0x1);
        gbc.writeMem(0xc7b0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x82ef);
        EXPECT(gbc.pc(), 0xc7b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b0), 0x81);
        // 81 02D9
        gbc.setState(0xdf9, 0x3b5b, 0xb570, 0x3b71, 0xeb9b, 0x6616, 0x0, 0x1);
        gbc.writeMem(0xdf9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x3b5b);
        EXPECT(gbc.pc(), 0xdfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02DA
        gbc.setState(0x7ea7, 0xcd6e, 0xaf50, 0xc18b, 0x6afc, 0x3126, 0x0, 0x0);
        gbc.writeMem(0x7ea7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcd6e);
        EXPECT(gbc.pc(), 0x7ea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02DB
        gbc.setState(0x45c6, 0x752c, 0x9360, 0xc013, 0xb463, 0x942a, 0x1, 0x0);
        gbc.writeMem(0x45c6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x752c);
        EXPECT(gbc.pc(), 0x45c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02DC
        gbc.setState(0x6919, 0xf63b, 0xd000, 0xd7b9, 0xdc31, 0x807c, 0x1, 0x0);
        gbc.writeMem(0x6919, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf63b);
        EXPECT(gbc.pc(), 0x691a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02DD
        gbc.setState(0x2ab8, 0xc042, 0x6080, 0x71e7, 0xcc69, 0x39e0, 0x1, 0x0);
        gbc.writeMem(0x2ab8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc042);
        EXPECT(gbc.pc(), 0x2ab9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02DE
        gbc.setState(0x89f9, 0x15cc, 0xf900, 0x347c, 0x6b7a, 0xceb1, 0x1, 0x1);
        gbc.writeMem(0x89f9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x15cc);
        EXPECT(gbc.pc(), 0x89fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89f9), 0x81);
        // 81 02DF
        gbc.setState(0x331b, 0x1f98, 0x75e0, 0xb719, 0xa9c4, 0xdc93, 0x0, 0x1);
        gbc.writeMem(0x331b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1f98);
        EXPECT(gbc.pc(), 0x331c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02E0
        gbc.setState(0x3435, 0xf37f, 0xbc30, 0xdbcf, 0xb660, 0x453a, 0x0, 0x0);
        gbc.writeMem(0x3435, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf37f);
        EXPECT(gbc.pc(), 0x3436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02E1
        gbc.setState(0xa872, 0xe4bb, 0x7e90, 0xb526, 0x6d09, 0x4c10, 0x0, 0x1);
        gbc.writeMem(0xa872, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xe4bb);
        EXPECT(gbc.pc(), 0xa873);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa872), 0x81);
        // 81 02E2
        gbc.setState(0x38e0, 0x58b7, 0xf670, 0x944, 0xf5ef, 0x6497, 0x0, 0x0);
        gbc.writeMem(0x38e0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x58b7);
        EXPECT(gbc.pc(), 0x38e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02E3
        gbc.setState(0xdda7, 0xb77c, 0x8400, 0xd640, 0x5c41, 0xab94, 0x1, 0x0);
        gbc.writeMem(0xdda7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xb77c);
        EXPECT(gbc.pc(), 0xdda8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdda7), 0x81);
        // 81 02E5
        gbc.setState(0x3ab4, 0xdea3, 0x2ea0, 0x16e9, 0x327, 0x332f, 0x0, 0x1);
        gbc.writeMem(0x3ab4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xdea3);
        EXPECT(gbc.pc(), 0x3ab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 02E6
        gbc.setState(0xed37, 0xc814, 0x2d60, 0x6b54, 0x7e87, 0xaa88, 0x0, 0x1);
        gbc.writeMem(0xed37, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xc814);
        EXPECT(gbc.pc(), 0xed38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed37), 0x81);
        // 81 02E7
        gbc.setState(0xe63b, 0xbc4a, 0x2920, 0xada3, 0x3270, 0xaa3c, 0x0, 0x0);
        gbc.writeMem(0xe63b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xbc4a);
        EXPECT(gbc.pc(), 0xe63c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe63b), 0x81);
        // 81 02E8
        gbc.setState(0x871c, 0xc4ca, 0x4140, 0x8a1f, 0x64c7, 0xfd05, 0x0, 0x1);
        gbc.writeMem(0x871c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xc4ca);
        EXPECT(gbc.pc(), 0x871d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x871c), 0x81);
        // 81 02E9
        gbc.setState(0x856e, 0xca60, 0xe360, 0x3046, 0x795a, 0x6c8c, 0x0, 0x0);
        gbc.writeMem(0x856e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xca60);
        EXPECT(gbc.pc(), 0x856f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x856e), 0x81);
        // 81 02EA
        gbc.setState(0x7026, 0xdae6, 0x5b0, 0xed48, 0xe9b3, 0xf6f4, 0x1, 0x0);
        gbc.writeMem(0x7026, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xdae6);
        EXPECT(gbc.pc(), 0x7027);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02EB
        gbc.setState(0xc8d1, 0x2bec, 0x1e10, 0x6d06, 0x314e, 0xac4a, 0x0, 0x1);
        gbc.writeMem(0xc8d1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2bec);
        EXPECT(gbc.pc(), 0xc8d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8d1), 0x81);
        // 81 02EC
        gbc.setState(0x764, 0x7050, 0x5be0, 0xa99b, 0x8a9f, 0x1498, 0x0, 0x1);
        gbc.writeMem(0x764, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7050);
        EXPECT(gbc.pc(), 0x765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 02ED
        gbc.setState(0xdb9f, 0xace4, 0x3d00, 0xd434, 0xc3d2, 0x89c, 0x1, 0x1);
        gbc.writeMem(0xdb9f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xace4);
        EXPECT(gbc.pc(), 0xdba0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb9f), 0x81);
        // 81 02EE
        gbc.setState(0xc0dc, 0xb34f, 0x2f00, 0xb536, 0x375f, 0x7acf, 0x1, 0x0);
        gbc.writeMem(0xc0dc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb34f);
        EXPECT(gbc.pc(), 0xc0dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0dc), 0x81);
        // 81 02EF
        gbc.setState(0xd001, 0x39ae, 0xe5c0, 0x4ea5, 0xa60c, 0x3602, 0x1, 0x0);
        gbc.writeMem(0xd001, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x39ae);
        EXPECT(gbc.pc(), 0xd002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd001), 0x81);
        // 81 02F0
        gbc.setState(0x9f32, 0x4069, 0x6fc0, 0x4a44, 0xa741, 0x1380, 0x0, 0x1);
        gbc.writeMem(0x9f32, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x4069);
        EXPECT(gbc.pc(), 0x9f33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f32), 0x81);
        // 81 02F1
        gbc.setState(0x1839, 0x686e, 0xfc60, 0x5d73, 0xc419, 0x6cf4, 0x1, 0x1);
        gbc.writeMem(0x1839, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x686e);
        EXPECT(gbc.pc(), 0x183a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02F2
        gbc.setState(0xe1e6, 0xaa57, 0x4aa0, 0x331a, 0x25d6, 0xf87f, 0x0, 0x1);
        gbc.writeMem(0xe1e6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xaa57);
        EXPECT(gbc.pc(), 0xe1e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e6), 0x81);
        // 81 02F3
        gbc.setState(0x790, 0xe21a, 0xb120, 0xeb72, 0x450b, 0xb664, 0x1, 0x0);
        gbc.writeMem(0x790, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe21a);
        EXPECT(gbc.pc(), 0x791);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02F4
        gbc.setState(0x96fa, 0x7fc3, 0x2490, 0x77fd, 0xe2a3, 0x949c, 0x1, 0x1);
        gbc.writeMem(0x96fa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x7fc3);
        EXPECT(gbc.pc(), 0x96fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96fa), 0x81);
        // 81 02F5
        gbc.setState(0xea22, 0x11c7, 0x4de0, 0xaa5b, 0x20f2, 0xe049, 0x1, 0x1);
        gbc.writeMem(0xea22, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x11c7);
        EXPECT(gbc.pc(), 0xea23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea22), 0x81);
        // 81 02F6
        gbc.setState(0xc81f, 0x1267, 0xec90, 0xe22f, 0x6e0c, 0x63e8, 0x1, 0x1);
        gbc.writeMem(0xc81f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1267);
        EXPECT(gbc.pc(), 0xc820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc81f), 0x81);
        // 81 02F7
        gbc.setState(0xc73a, 0xc990, 0x8fe0, 0x96fa, 0x897f, 0x429e, 0x0, 0x0);
        gbc.writeMem(0xc73a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc990);
        EXPECT(gbc.pc(), 0xc73b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc73a), 0x81);
        // 81 02F8
        gbc.setState(0x1bf1, 0x3269, 0x5950, 0x7a71, 0x568f, 0x23f7, 0x1, 0x1);
        gbc.writeMem(0x1bf1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3269);
        EXPECT(gbc.pc(), 0x1bf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02F9
        gbc.setState(0x47b8, 0x7e23, 0xa190, 0x7412, 0x67b1, 0xbddf, 0x0, 0x1);
        gbc.writeMem(0x47b8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7e23);
        EXPECT(gbc.pc(), 0x47b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02FA
        gbc.setState(0x2be7, 0xa8ff, 0x92d0, 0xee4b, 0x61c3, 0xe403, 0x0, 0x0);
        gbc.writeMem(0x2be7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa8ff);
        EXPECT(gbc.pc(), 0x2be8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 02FB
        gbc.setState(0x5d2b, 0xe476, 0x93d0, 0xc975, 0x4b69, 0xb435, 0x0, 0x0);
        gbc.writeMem(0x5d2b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe476);
        EXPECT(gbc.pc(), 0x5d2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 02FC
        gbc.setState(0xd93a, 0x7c96, 0x26e0, 0x5441, 0x44db, 0x6500, 0x1, 0x1);
        gbc.writeMem(0xd93a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7c96);
        EXPECT(gbc.pc(), 0xd93b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd93a), 0x81);
        // 81 02FD
        gbc.setState(0xbe3a, 0xf861, 0x8860, 0xf321, 0x5aa6, 0x1e4f, 0x0, 0x0);
        gbc.writeMem(0xbe3a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf861);
        EXPECT(gbc.pc(), 0xbe3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe3a), 0x81);
        // 81 02FE
        gbc.setState(0xcb0f, 0x2055, 0x1580, 0xec62, 0xeec6, 0xe8b2, 0x1, 0x0);
        gbc.writeMem(0xcb0f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x2055);
        EXPECT(gbc.pc(), 0xcb10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb0f), 0x81);
        // 81 0300
        gbc.setState(0xc44d, 0xcf4a, 0xcc60, 0x5850, 0x8c78, 0xfc4a, 0x1, 0x1);
        gbc.writeMem(0xc44d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xcf4a);
        EXPECT(gbc.pc(), 0xc44e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc44d), 0x81);
        // 81 0301
        gbc.setState(0xb82d, 0xd72, 0xc710, 0x892a, 0xde4c, 0x7e35, 0x1, 0x0);
        gbc.writeMem(0xb82d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xd72);
        EXPECT(gbc.pc(), 0xb82e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb82d), 0x81);
        // 81 0302
        gbc.setState(0xdba9, 0xf17, 0x4de0, 0x3213, 0x8f9e, 0x69b3, 0x0, 0x0);
        gbc.writeMem(0xdba9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf17);
        EXPECT(gbc.pc(), 0xdbaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdba9), 0x81);
        // 81 0303
        gbc.setState(0x693d, 0x5b, 0xcd90, 0x4e47, 0x29a3, 0xcfe9, 0x1, 0x1);
        gbc.writeMem(0x693d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5b);
        EXPECT(gbc.pc(), 0x693e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0304
        gbc.setState(0x9bb0, 0x2fb, 0x30a0, 0xf709, 0x5f8b, 0x37d0, 0x0, 0x1);
        gbc.writeMem(0x9bb0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x2fb);
        EXPECT(gbc.pc(), 0x9bb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb0), 0x81);
        // 81 0305
        gbc.setState(0xe40, 0x290a, 0xf8a0, 0xe9cd, 0x5d2a, 0xb95a, 0x1, 0x0);
        gbc.writeMem(0xe40, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x290a);
        EXPECT(gbc.pc(), 0xe41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0306
        gbc.setState(0xcaba, 0x82a, 0x39f0, 0x3e4b, 0xf3d, 0x41b4, 0x1, 0x0);
        gbc.writeMem(0xcaba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x82a);
        EXPECT(gbc.pc(), 0xcabb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaba), 0x81);
        // 81 0307
        gbc.setState(0x60d4, 0xc627, 0xda30, 0xca88, 0x7d1b, 0x452e, 0x0, 0x1);
        gbc.writeMem(0x60d4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc627);
        EXPECT(gbc.pc(), 0x60d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0308
        gbc.setState(0x376a, 0xe1a4, 0x150, 0x66, 0xbedd, 0x466, 0x0, 0x0);
        gbc.writeMem(0x376a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe1a4);
        EXPECT(gbc.pc(), 0x376b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0309
        gbc.setState(0xbbea, 0x8aa0, 0x3010, 0xe90c, 0xd83, 0x98a1, 0x0, 0x1);
        gbc.writeMem(0xbbea, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8aa0);
        EXPECT(gbc.pc(), 0xbbeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbea), 0x81);
        // 81 030A
        gbc.setState(0xd4f4, 0x453e, 0x3a50, 0xa114, 0xff34, 0x7270, 0x0, 0x1);
        gbc.writeMem(0xd4f4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x453e);
        EXPECT(gbc.pc(), 0xd4f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4f4), 0x81);
        // 81 030B
        gbc.setState(0xdccb, 0x26f7, 0xd990, 0x1afa, 0xadd3, 0x43d1, 0x0, 0x1);
        gbc.writeMem(0xdccb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x26f7);
        EXPECT(gbc.pc(), 0xdccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdccb), 0x81);
        // 81 030C
        gbc.setState(0xa34, 0x1c0f, 0x8800, 0x4d44, 0x85de, 0x5071, 0x1, 0x1);
        gbc.writeMem(0xa34, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1c0f);
        EXPECT(gbc.pc(), 0xa35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 030D
        gbc.setState(0xdb02, 0xe9a0, 0xa8d0, 0x1fa6, 0xd5e7, 0x91f3, 0x1, 0x0);
        gbc.writeMem(0xdb02, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe9a0);
        EXPECT(gbc.pc(), 0xdb03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb02), 0x81);
        // 81 030E
        gbc.setState(0x1831, 0xd2c7, 0x2780, 0xc2a5, 0xd37b, 0x79d4, 0x1, 0x0);
        gbc.writeMem(0x1831, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xd2c7);
        EXPECT(gbc.pc(), 0x1832);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 030F
        gbc.setState(0xdfe3, 0x283, 0xd0d0, 0x716, 0x3b05, 0xa4a5, 0x1, 0x1);
        gbc.writeMem(0xdfe3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x283);
        EXPECT(gbc.pc(), 0xdfe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe3), 0x81);
        // 81 0310
        gbc.setState(0x479, 0x5d8b, 0xc290, 0xade8, 0x8354, 0x280d, 0x0, 0x0);
        gbc.writeMem(0x479, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5d8b);
        EXPECT(gbc.pc(), 0x47a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0311
        gbc.setState(0x1c27, 0x4ab, 0x4f20, 0x9b70, 0x8479, 0x6963, 0x0, 0x1);
        gbc.writeMem(0x1c27, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x4ab);
        EXPECT(gbc.pc(), 0x1c28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0312
        gbc.setState(0xe7db, 0xd432, 0xe130, 0x9964, 0x7e4, 0xdbf, 0x1, 0x1);
        gbc.writeMem(0xe7db, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd432);
        EXPECT(gbc.pc(), 0xe7dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7db), 0x81);
        // 81 0314
        gbc.setState(0xcc23, 0x1ef8, 0xcd40, 0x6f46, 0xee68, 0x991f, 0x1, 0x1);
        gbc.writeMem(0xcc23, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1ef8);
        EXPECT(gbc.pc(), 0xcc24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc23), 0x81);
        // 81 0315
        gbc.setState(0x88e8, 0xac34, 0x1870, 0xe21, 0x68c3, 0x4675, 0x0, 0x1);
        gbc.writeMem(0x88e8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xac34);
        EXPECT(gbc.pc(), 0x88e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e8), 0x81);
        // 81 0317
        gbc.setState(0x772b, 0x9b76, 0x51c0, 0x89fc, 0xf6a0, 0x84e9, 0x1, 0x0);
        gbc.writeMem(0x772b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9b76);
        EXPECT(gbc.pc(), 0x772c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0318
        gbc.setState(0x4fc6, 0xcdd7, 0x35a0, 0x75cf, 0x8a7c, 0xe418, 0x1, 0x1);
        gbc.writeMem(0x4fc6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xcdd7);
        EXPECT(gbc.pc(), 0x4fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0319
        gbc.setState(0x3c44, 0x20e5, 0xa990, 0x7e20, 0xc4ae, 0x5755, 0x0, 0x0);
        gbc.writeMem(0x3c44, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x20e5);
        EXPECT(gbc.pc(), 0x3c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 031A
        gbc.setState(0xd0fb, 0x435c, 0x79d0, 0xeb07, 0x8974, 0xdad4, 0x1, 0x1);
        gbc.writeMem(0xd0fb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x435c);
        EXPECT(gbc.pc(), 0xd0fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0fb), 0x81);
        // 81 031B
        gbc.setState(0x7fd5, 0x5d42, 0x5b70, 0x5432, 0xc226, 0xf374, 0x0, 0x1);
        gbc.writeMem(0x7fd5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5d42);
        EXPECT(gbc.pc(), 0x7fd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 031C
        gbc.setState(0x8fd6, 0xed72, 0xed80, 0x546d, 0x5961, 0x6019, 0x0, 0x0);
        gbc.writeMem(0x8fd6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xed72);
        EXPECT(gbc.pc(), 0x8fd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fd6), 0x81);
        // 81 031D
        gbc.setState(0x64fe, 0xea9c, 0x770, 0x2146, 0xac28, 0xdbfc, 0x0, 0x0);
        gbc.writeMem(0x64fe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xea9c);
        EXPECT(gbc.pc(), 0x64ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 031E
        gbc.setState(0xa6a7, 0xf4c5, 0xf3d0, 0x77ca, 0x7bcc, 0x953a, 0x1, 0x0);
        gbc.writeMem(0xa6a7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf4c5);
        EXPECT(gbc.pc(), 0xa6a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6a7), 0x81);
        // 81 031F
        gbc.setState(0x4cf6, 0xfdbe, 0xecd0, 0x4778, 0x39d, 0x20a, 0x0, 0x0);
        gbc.writeMem(0x4cf6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xfdbe);
        EXPECT(gbc.pc(), 0x4cf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0320
        gbc.setState(0x97f6, 0xdd1, 0x6440, 0x30e4, 0x7186, 0xc89c, 0x0, 0x0);
        gbc.writeMem(0x97f6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xdd1);
        EXPECT(gbc.pc(), 0x97f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97f6), 0x81);
        // 81 0321
        gbc.setState(0x2bb3, 0x29a0, 0x73a0, 0x77f9, 0x635e, 0x8dcd, 0x0, 0x0);
        gbc.writeMem(0x2bb3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x29a0);
        EXPECT(gbc.pc(), 0x2bb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0322
        gbc.setState(0x5499, 0x5143, 0xd800, 0xf142, 0x9900, 0xa8c7, 0x0, 0x1);
        gbc.writeMem(0x5499, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5143);
        EXPECT(gbc.pc(), 0x549a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0323
        gbc.setState(0x3b5e, 0x6628, 0xe0e0, 0xcc0b, 0xf498, 0xf56c, 0x0, 0x1);
        gbc.writeMem(0x3b5e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6628);
        EXPECT(gbc.pc(), 0x3b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0324
        gbc.setState(0xec76, 0xb1f, 0xd360, 0x36f8, 0x443c, 0xf35e, 0x0, 0x1);
        gbc.writeMem(0xec76, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xb1f);
        EXPECT(gbc.pc(), 0xec77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec76), 0x81);
        // 81 0325
        gbc.setState(0xe078, 0xb028, 0x7ee0, 0x5c49, 0x95de, 0xf72, 0x1, 0x1);
        gbc.writeMem(0xe078, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xb028);
        EXPECT(gbc.pc(), 0xe079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe078), 0x81);
        // 81 0326
        gbc.setState(0xc7fa, 0x4cfe, 0x8510, 0x5e5e, 0x2a9f, 0xec5d, 0x0, 0x0);
        gbc.writeMem(0xc7fa, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4cfe);
        EXPECT(gbc.pc(), 0xc7fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7fa), 0x81);
        // 81 0327
        gbc.setState(0xcdad, 0x53e6, 0x4800, 0x9e42, 0x2113, 0x6148, 0x0, 0x0);
        gbc.writeMem(0xcdad, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x53e6);
        EXPECT(gbc.pc(), 0xcdae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdad), 0x81);
        // 81 0328
        gbc.setState(0x5ade, 0xcb2a, 0x960, 0x47ec, 0x895, 0xf239, 0x0, 0x0);
        gbc.writeMem(0x5ade, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xcb2a);
        EXPECT(gbc.pc(), 0x5adf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0329
        gbc.setState(0x352b, 0x5b5f, 0x75b0, 0xcff7, 0x56e0, 0xd63, 0x0, 0x1);
        gbc.writeMem(0x352b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5b5f);
        EXPECT(gbc.pc(), 0x352c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 032A
        gbc.setState(0xe140, 0x5a2a, 0x9250, 0x1606, 0xef83, 0x60c8, 0x0, 0x1);
        gbc.writeMem(0xe140, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5a2a);
        EXPECT(gbc.pc(), 0xe141);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe140), 0x81);
        // 81 032B
        gbc.setState(0x4565, 0x40c3, 0x130, 0x38f9, 0x481b, 0xe20b, 0x0, 0x0);
        gbc.writeMem(0x4565, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x40c3);
        EXPECT(gbc.pc(), 0x4566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 032C
        gbc.setState(0xd45e, 0x26f5, 0x2b90, 0x9d34, 0x6d8f, 0x2546, 0x0, 0x0);
        gbc.writeMem(0xd45e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x26f5);
        EXPECT(gbc.pc(), 0xd45f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd45e), 0x81);
        // 81 032D
        gbc.setState(0x59fe, 0xaaff, 0x6b20, 0x830b, 0x3b4a, 0x160e, 0x0, 0x0);
        gbc.writeMem(0x59fe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xaaff);
        EXPECT(gbc.pc(), 0x59ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 032E
        gbc.setState(0x663b, 0x6233, 0xd170, 0x423d, 0x545e, 0x6ed1, 0x0, 0x0);
        gbc.writeMem(0x663b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6233);
        EXPECT(gbc.pc(), 0x663c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0330
        gbc.setState(0xafe5, 0x68fe, 0xd910, 0x9012, 0x59fc, 0x6fd1, 0x1, 0x0);
        gbc.writeMem(0xafe5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x68fe);
        EXPECT(gbc.pc(), 0xafe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafe5), 0x81);
        // 81 0331
        gbc.setState(0xb348, 0x3789, 0xa880, 0xc9b5, 0xd3da, 0xc4e4, 0x0, 0x0);
        gbc.writeMem(0xb348, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3789);
        EXPECT(gbc.pc(), 0xb349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb348), 0x81);
        // 81 0332
        gbc.setState(0xaf93, 0x4ca1, 0xd840, 0x93f2, 0x8ddb, 0x5741, 0x1, 0x1);
        gbc.writeMem(0xaf93, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4ca1);
        EXPECT(gbc.pc(), 0xaf94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf93), 0x81);
        // 81 0333
        gbc.setState(0x8906, 0x1ef3, 0x2470, 0xfe24, 0xf6ca, 0xd2d9, 0x0, 0x1);
        gbc.writeMem(0x8906, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x1ef3);
        EXPECT(gbc.pc(), 0x8907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8906), 0x81);
        // 81 0334
        gbc.setState(0xa06b, 0x5b94, 0xbfc0, 0x2ea3, 0x8160, 0xa1fb, 0x1, 0x1);
        gbc.writeMem(0xa06b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x5b94);
        EXPECT(gbc.pc(), 0xa06c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa06b), 0x81);
        // 81 0335
        gbc.setState(0x381b, 0x1161, 0xc500, 0x8c1b, 0x9cf3, 0x2c77, 0x0, 0x1);
        gbc.writeMem(0x381b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1161);
        EXPECT(gbc.pc(), 0x381c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0336
        gbc.setState(0x6709, 0x2f44, 0x56e0, 0x4e88, 0xb8e4, 0x3877, 0x0, 0x1);
        gbc.writeMem(0x6709, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x2f44);
        EXPECT(gbc.pc(), 0x670a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0337
        gbc.setState(0x4a31, 0xc32e, 0x3bd0, 0xc666, 0xb150, 0x9676, 0x0, 0x0);
        gbc.writeMem(0x4a31, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc32e);
        EXPECT(gbc.pc(), 0x4a32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0338
        gbc.setState(0x8891, 0x8496, 0x5d90, 0xcf3a, 0x93d2, 0xb5be, 0x1, 0x0);
        gbc.writeMem(0x8891, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8496);
        EXPECT(gbc.pc(), 0x8892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8891), 0x81);
        // 81 0339
        gbc.setState(0xa0cb, 0x52c0, 0x63a0, 0x88f2, 0xa984, 0x74db, 0x0, 0x1);
        gbc.writeMem(0xa0cb, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x52c0);
        EXPECT(gbc.pc(), 0xa0cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0cb), 0x81);
        // 81 033A
        gbc.setState(0x98ba, 0x7bd5, 0x1130, 0x49c, 0x3c2a, 0xd046, 0x0, 0x1);
        gbc.writeMem(0x98ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7bd5);
        EXPECT(gbc.pc(), 0x98bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98ba), 0x81);
        // 81 033B
        gbc.setState(0x5779, 0x9cea, 0x96b0, 0x2f35, 0xc38a, 0x6d37, 0x1, 0x1);
        gbc.writeMem(0x5779, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9cea);
        EXPECT(gbc.pc(), 0x577a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 033C
        gbc.setState(0xdc66, 0x2da7, 0xf160, 0x4708, 0x797a, 0x65f4, 0x0, 0x0);
        gbc.writeMem(0xdc66, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2da7);
        EXPECT(gbc.pc(), 0xdc67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc66), 0x81);
        // 81 033D
        gbc.setState(0xaaf, 0x5d9a, 0x8ed0, 0xe75a, 0x77a7, 0x46dd, 0x0, 0x0);
        gbc.writeMem(0xaaf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x5d9a);
        EXPECT(gbc.pc(), 0xab0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 033E
        gbc.setState(0xbd33, 0x8ce4, 0x40e0, 0xe39a, 0xba71, 0xd07c, 0x0, 0x1);
        gbc.writeMem(0xbd33, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8ce4);
        EXPECT(gbc.pc(), 0xbd34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd33), 0x81);
        // 81 033F
        gbc.setState(0x5a94, 0x59e3, 0x8980, 0xf737, 0x8c65, 0xd073, 0x0, 0x0);
        gbc.writeMem(0x5a94, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x59e3);
        EXPECT(gbc.pc(), 0x5a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0340
        gbc.setState(0x452b, 0x5ac1, 0x5420, 0x84a0, 0x2511, 0xd3de, 0x1, 0x1);
        gbc.writeMem(0x452b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5ac1);
        EXPECT(gbc.pc(), 0x452c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0341
        gbc.setState(0xcbe2, 0xe918, 0x4fb0, 0xc743, 0xb73f, 0xcc70, 0x0, 0x1);
        gbc.writeMem(0xcbe2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe918);
        EXPECT(gbc.pc(), 0xcbe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe2), 0x81);
        // 81 0342
        gbc.setState(0x99e9, 0xff86, 0xb40, 0x9efb, 0xd953, 0x627f, 0x0, 0x1);
        gbc.writeMem(0x99e9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xff86);
        EXPECT(gbc.pc(), 0x99ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99e9), 0x81);
        // 81 0343
        gbc.setState(0x9ec3, 0xc5a1, 0xdb60, 0x19aa, 0x3be2, 0xc442, 0x1, 0x0);
        gbc.writeMem(0x9ec3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xc5a1);
        EXPECT(gbc.pc(), 0x9ec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec3), 0x81);
        // 81 0344
        gbc.setState(0x53f3, 0x35b0, 0x3490, 0x3edc, 0x926, 0x4d46, 0x0, 0x1);
        gbc.writeMem(0x53f3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x35b0);
        EXPECT(gbc.pc(), 0x53f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0345
        gbc.setState(0x2a28, 0xdaae, 0xf1e0, 0xda4e, 0x9e8d, 0x78fc, 0x0, 0x1);
        gbc.writeMem(0x2a28, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xdaae);
        EXPECT(gbc.pc(), 0x2a29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0346
        gbc.setState(0xe1d1, 0x4b65, 0x4940, 0x18c4, 0xb139, 0x9307, 0x0, 0x0);
        gbc.writeMem(0xe1d1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4b65);
        EXPECT(gbc.pc(), 0xe1d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1d1), 0x81);
        // 81 0347
        gbc.setState(0x74, 0xf3d6, 0xe5f0, 0xe3a6, 0x355c, 0x16c7, 0x1, 0x0);
        gbc.writeMem(0x74, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf3d6);
        EXPECT(gbc.pc(), 0x75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0348
        gbc.setState(0x8a2d, 0x11d2, 0xf550, 0xd407, 0x3b3e, 0x16ca, 0x1, 0x1);
        gbc.writeMem(0x8a2d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x11d2);
        EXPECT(gbc.pc(), 0x8a2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a2d), 0x81);
        // 81 0349
        gbc.setState(0x61a9, 0x6268, 0x28e0, 0x676c, 0x2017, 0x6314, 0x0, 0x1);
        gbc.writeMem(0x61a9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6268);
        EXPECT(gbc.pc(), 0x61aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 034A
        gbc.setState(0xb269, 0x899b, 0x1990, 0x83ed, 0x1fcd, 0x1a2a, 0x1, 0x0);
        gbc.writeMem(0xb269, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x899b);
        EXPECT(gbc.pc(), 0xb26a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb269), 0x81);
        // 81 034B
        gbc.setState(0x9c58, 0x8bd6, 0x5590, 0x9814, 0x3131, 0xed94, 0x0, 0x0);
        gbc.writeMem(0x9c58, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x8bd6);
        EXPECT(gbc.pc(), 0x9c59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c58), 0x81);
        // 81 034C
        gbc.setState(0x5d3, 0xd695, 0x67d0, 0x9a69, 0x7a05, 0x9d59, 0x0, 0x0);
        gbc.writeMem(0x5d3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd695);
        EXPECT(gbc.pc(), 0x5d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 034D
        gbc.setState(0x1861, 0x1cda, 0xb790, 0x2b0b, 0xd856, 0x5d18, 0x1, 0x0);
        gbc.writeMem(0x1861, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1cda);
        EXPECT(gbc.pc(), 0x1862);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 034E
        gbc.setState(0xd4d1, 0xfa31, 0x6360, 0xdffb, 0x613a, 0x584e, 0x1, 0x1);
        gbc.writeMem(0xd4d1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xfa31);
        EXPECT(gbc.pc(), 0xd4d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4d1), 0x81);
        // 81 034F
        gbc.setState(0x72d3, 0xea20, 0xa9a0, 0xa34b, 0x5377, 0x8ad6, 0x0, 0x0);
        gbc.writeMem(0x72d3, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xea20);
        EXPECT(gbc.pc(), 0x72d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0350
        gbc.setState(0xce8e, 0xb185, 0x2ad0, 0xe765, 0xe422, 0xa516, 0x1, 0x1);
        gbc.writeMem(0xce8e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb185);
        EXPECT(gbc.pc(), 0xce8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce8e), 0x81);
        // 81 0351
        gbc.setState(0xd035, 0xb088, 0x43c0, 0xf5d0, 0xb039, 0x5af9, 0x1, 0x1);
        gbc.writeMem(0xd035, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb088);
        EXPECT(gbc.pc(), 0xd036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd035), 0x81);
        // 81 0352
        gbc.setState(0x709b, 0xdae1, 0x1e00, 0xe826, 0x7af7, 0xa0a4, 0x1, 0x1);
        gbc.writeMem(0x709b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdae1);
        EXPECT(gbc.pc(), 0x709c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0353
        gbc.setState(0xeac0, 0x11f9, 0x7030, 0x5c29, 0x17f9, 0x44aa, 0x0, 0x1);
        gbc.writeMem(0xeac0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x11f9);
        EXPECT(gbc.pc(), 0xeac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeac0), 0x81);
        // 81 0354
        gbc.setState(0x97c7, 0x99ed, 0x940, 0xa044, 0x22d6, 0x38c8, 0x1, 0x0);
        gbc.writeMem(0x97c7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x99ed);
        EXPECT(gbc.pc(), 0x97c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c7), 0x81);
        // 81 0355
        gbc.setState(0x11b9, 0x3fbe, 0xcd10, 0x354e, 0xeb81, 0x3a2a, 0x1, 0x1);
        gbc.writeMem(0x11b9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x3fbe);
        EXPECT(gbc.pc(), 0x11ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0356
        gbc.setState(0x321a, 0xcc8, 0xbfc0, 0xcb06, 0x4c9f, 0xe84a, 0x0, 0x0);
        gbc.writeMem(0x321a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xcc8);
        EXPECT(gbc.pc(), 0x321b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0357
        gbc.setState(0xb5ed, 0x5c4b, 0x840, 0xdaf3, 0x281f, 0x999a, 0x0, 0x1);
        gbc.writeMem(0xb5ed, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x5c4b);
        EXPECT(gbc.pc(), 0xb5ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ed), 0x81);
        // 81 0358
        gbc.setState(0xed30, 0xb394, 0xe050, 0x9233, 0xe689, 0xaefa, 0x0, 0x1);
        gbc.writeMem(0xed30, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb394);
        EXPECT(gbc.pc(), 0xed31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed30), 0x81);
        // 81 0359
        gbc.setState(0xa2db, 0x2448, 0x9440, 0xb5f8, 0xfbdd, 0x56ca, 0x1, 0x0);
        gbc.writeMem(0xa2db, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x2448);
        EXPECT(gbc.pc(), 0xa2dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2db), 0x81);
        // 81 035A
        gbc.setState(0xc6ba, 0xc3e0, 0x9360, 0xc71a, 0x789f, 0x1f2, 0x1, 0x1);
        gbc.writeMem(0xc6ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc3e0);
        EXPECT(gbc.pc(), 0xc6bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ba), 0x81);
        // 81 035B
        gbc.setState(0xa0e4, 0xc06e, 0x5bd0, 0x22e6, 0x56ce, 0x3302, 0x0, 0x0);
        gbc.writeMem(0xa0e4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc06e);
        EXPECT(gbc.pc(), 0xa0e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0e4), 0x81);
        // 81 035E
        gbc.setState(0xecb6, 0x288, 0x49f0, 0x6d74, 0x5737, 0x6437, 0x0, 0x1);
        gbc.writeMem(0xecb6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x288);
        EXPECT(gbc.pc(), 0xecb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecb6), 0x81);
        // 81 035F
        gbc.setState(0x7913, 0x92a6, 0xbcf0, 0x4232, 0x8480, 0x44cc, 0x0, 0x0);
        gbc.writeMem(0x7913, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x92a6);
        EXPECT(gbc.pc(), 0x7914);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0360
        gbc.setState(0x430c, 0x6f68, 0x6140, 0xeb0b, 0xfb08, 0x4e64, 0x1, 0x1);
        gbc.writeMem(0x430c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6f68);
        EXPECT(gbc.pc(), 0x430d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0361
        gbc.setState(0x3a9f, 0xcb2e, 0x3e80, 0x9cea, 0xe375, 0x9c7b, 0x1, 0x1);
        gbc.writeMem(0x3a9f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xcb2e);
        EXPECT(gbc.pc(), 0x3aa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0362
        gbc.setState(0x3de0, 0xbc0b, 0x72a0, 0x30a8, 0xaec3, 0xcc59, 0x0, 0x0);
        gbc.writeMem(0x3de0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xbc0b);
        EXPECT(gbc.pc(), 0x3de1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0363
        gbc.setState(0x754b, 0xf667, 0xd120, 0x5c84, 0xe8a9, 0x2b31, 0x0, 0x1);
        gbc.writeMem(0x754b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf667);
        EXPECT(gbc.pc(), 0x754c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0364
        gbc.setState(0x8439, 0x1066, 0xaa10, 0x19c5, 0xb2fd, 0xd364, 0x0, 0x1);
        gbc.writeMem(0x8439, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1066);
        EXPECT(gbc.pc(), 0x843a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8439), 0x81);
        // 81 0365
        gbc.setState(0x105f, 0xd4db, 0x3ba0, 0xe2fc, 0xd180, 0xfec6, 0x0, 0x1);
        gbc.writeMem(0x105f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xd4db);
        EXPECT(gbc.pc(), 0x1060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0366
        gbc.setState(0xe577, 0x4649, 0x6720, 0x5c19, 0x413f, 0xa95, 0x0, 0x1);
        gbc.writeMem(0xe577, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4649);
        EXPECT(gbc.pc(), 0xe578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe577), 0x81);
        // 81 0367
        gbc.setState(0x4909, 0xc580, 0x6a70, 0xcf8, 0x17e1, 0x974, 0x1, 0x0);
        gbc.writeMem(0x4909, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc580);
        EXPECT(gbc.pc(), 0x490a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0368
        gbc.setState(0x473a, 0xda84, 0x3d50, 0xeec5, 0x8e6d, 0x7b2e, 0x0, 0x0);
        gbc.writeMem(0x473a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xda84);
        EXPECT(gbc.pc(), 0x473b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0369
        gbc.setState(0xe1dd, 0x2515, 0x89e0, 0x2b58, 0x58a1, 0xe51, 0x0, 0x0);
        gbc.writeMem(0xe1dd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2515);
        EXPECT(gbc.pc(), 0xe1de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1dd), 0x81);
        // 81 036A
        gbc.setState(0x7f35, 0xd86e, 0x3ee0, 0xb2a7, 0xae61, 0x9282, 0x1, 0x1);
        gbc.writeMem(0x7f35, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd86e);
        EXPECT(gbc.pc(), 0x7f36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 036B
        gbc.setState(0x3385, 0x2085, 0xb2a0, 0x15dd, 0x2705, 0x8a0f, 0x0, 0x1);
        gbc.writeMem(0x3385, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x2085);
        EXPECT(gbc.pc(), 0x3386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 036C
        gbc.setState(0xa9bc, 0x3cb4, 0x8aa0, 0x4a0a, 0x1006, 0x19f4, 0x1, 0x0);
        gbc.writeMem(0xa9bc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3cb4);
        EXPECT(gbc.pc(), 0xa9bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9bc), 0x81);
        // 81 036D
        gbc.setState(0x8c80, 0xaf7e, 0x7c50, 0x5f3d, 0xd90c, 0x5040, 0x1, 0x1);
        gbc.writeMem(0x8c80, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xaf7e);
        EXPECT(gbc.pc(), 0x8c81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c80), 0x81);
        // 81 036E
        gbc.setState(0x73c7, 0x12d5, 0xc930, 0x24a2, 0x9d17, 0x9c63, 0x1, 0x1);
        gbc.writeMem(0x73c7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x12d5);
        EXPECT(gbc.pc(), 0x73c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 036F
        gbc.setState(0xa118, 0x34a2, 0x4810, 0xbeb9, 0xdff0, 0xb9bf, 0x1, 0x1);
        gbc.writeMem(0xa118, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x34a2);
        EXPECT(gbc.pc(), 0xa119);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa118), 0x81);
        // 81 0370
        gbc.setState(0xe555, 0x9b72, 0x4370, 0x7d47, 0x732f, 0xaef8, 0x1, 0x0);
        gbc.writeMem(0xe555, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9b72);
        EXPECT(gbc.pc(), 0xe556);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe555), 0x81);
        // 81 0371
        gbc.setState(0x6aff, 0x9c51, 0x72e0, 0xa130, 0x6714, 0x3e2b, 0x1, 0x0);
        gbc.writeMem(0x6aff, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9c51);
        EXPECT(gbc.pc(), 0x6b00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0372
        gbc.setState(0x722c, 0x357a, 0x4ad0, 0xcfe0, 0x418b, 0x54b0, 0x0, 0x1);
        gbc.writeMem(0x722c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x357a);
        EXPECT(gbc.pc(), 0x722d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0373
        gbc.setState(0x5693, 0x5750, 0x6420, 0x1eeb, 0x1d9b, 0xcbec, 0x0, 0x0);
        gbc.writeMem(0x5693, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5750);
        EXPECT(gbc.pc(), 0x5694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0374
        gbc.setState(0x5a5, 0x2c51, 0x1890, 0x89b9, 0x6dc3, 0x1120, 0x1, 0x1);
        gbc.writeMem(0x5a5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2c51);
        EXPECT(gbc.pc(), 0x5a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0375
        gbc.setState(0xac12, 0xfa3a, 0x1720, 0xadfd, 0xa565, 0xd779, 0x0, 0x1);
        gbc.writeMem(0xac12, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xfa3a);
        EXPECT(gbc.pc(), 0xac13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac12), 0x81);
        // 81 0377
        gbc.setState(0x53ac, 0xc295, 0x9a50, 0x2c39, 0x4f5f, 0xbdbd, 0x1, 0x1);
        gbc.writeMem(0x53ac, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc295);
        EXPECT(gbc.pc(), 0x53ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0378
        gbc.setState(0x4a0f, 0x4dd9, 0xf5e0, 0x4e04, 0xffeb, 0xbe98, 0x0, 0x0);
        gbc.writeMem(0x4a0f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4dd9);
        EXPECT(gbc.pc(), 0x4a10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0379
        gbc.setState(0x2b19, 0xe675, 0x9d40, 0x614a, 0xa24e, 0x5325, 0x0, 0x1);
        gbc.writeMem(0x2b19, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe675);
        EXPECT(gbc.pc(), 0x2b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 037A
        gbc.setState(0x12d, 0xcf23, 0xa880, 0xce0c, 0xbe06, 0x75e0, 0x1, 0x0);
        gbc.writeMem(0x12d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xcf23);
        EXPECT(gbc.pc(), 0x12e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 037B
        gbc.setState(0x39fe, 0x9d97, 0x2740, 0x1ef6, 0x6930, 0x776a, 0x0, 0x0);
        gbc.writeMem(0x39fe, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9d97);
        EXPECT(gbc.pc(), 0x39ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 037C
        gbc.setState(0x2f0b, 0xbbe7, 0xdc00, 0x6fee, 0xf08b, 0xd811, 0x0, 0x0);
        gbc.writeMem(0x2f0b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xbbe7);
        EXPECT(gbc.pc(), 0x2f0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 037D
        gbc.setState(0x44a6, 0xb941, 0xe220, 0xf36d, 0xed6f, 0x7bc4, 0x0, 0x1);
        gbc.writeMem(0x44a6, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb941);
        EXPECT(gbc.pc(), 0x44a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 037E
        gbc.setState(0xdf40, 0x243c, 0x1150, 0x7d73, 0x2904, 0x2439, 0x1, 0x0);
        gbc.writeMem(0xdf40, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x243c);
        EXPECT(gbc.pc(), 0xdf41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf40), 0x81);
        // 81 037F
        gbc.setState(0x9a15, 0xddbb, 0xe270, 0x4240, 0xd8ad, 0x191b, 0x1, 0x0);
        gbc.writeMem(0x9a15, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xddbb);
        EXPECT(gbc.pc(), 0x9a16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a15), 0x81);
        // 81 0380
        gbc.setState(0x15a4, 0x5de0, 0x5090, 0xe4c2, 0x697e, 0x4e75, 0x1, 0x0);
        gbc.writeMem(0x15a4, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5de0);
        EXPECT(gbc.pc(), 0x15a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0381
        gbc.setState(0xd82d, 0xe67d, 0xe30, 0xb787, 0x4a6c, 0x3b1a, 0x1, 0x0);
        gbc.writeMem(0xd82d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xe67d);
        EXPECT(gbc.pc(), 0xd82e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd82d), 0x81);
        // 81 0382
        gbc.setState(0x764, 0xbd59, 0xfe10, 0xa650, 0x6f59, 0x444, 0x1, 0x1);
        gbc.writeMem(0x764, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xbd59);
        EXPECT(gbc.pc(), 0x765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0384
        gbc.setState(0x1500, 0x7543, 0x62b0, 0xde0a, 0xb0f, 0x852b, 0x1, 0x1);
        gbc.writeMem(0x1500, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7543);
        EXPECT(gbc.pc(), 0x1501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0385
        gbc.setState(0x7359, 0x5c80, 0xd2f0, 0x9ed6, 0xb704, 0x4f62, 0x1, 0x0);
        gbc.writeMem(0x7359, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x5c80);
        EXPECT(gbc.pc(), 0x735a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 0386
        gbc.setState(0xbc74, 0x19c2, 0xb530, 0x2bff, 0x2904, 0xca47, 0x1, 0x0);
        gbc.writeMem(0xbc74, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x19c2);
        EXPECT(gbc.pc(), 0xbc75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc74), 0x81);
        // 81 0387
        gbc.setState(0x98e7, 0x7647, 0x8ae0, 0x882e, 0x3393, 0x6fb6, 0x1, 0x1);
        gbc.writeMem(0x98e7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x7647);
        EXPECT(gbc.pc(), 0x98e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98e7), 0x81);
        // 81 0388
        gbc.setState(0x2ecd, 0x14d3, 0xecd0, 0x4516, 0xffee, 0xb76d, 0x0, 0x0);
        gbc.writeMem(0x2ecd, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x14d3);
        EXPECT(gbc.pc(), 0x2ece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 0389
        gbc.setState(0x657d, 0xeb07, 0xb300, 0x777f, 0x86ef, 0x8d55, 0x0, 0x1);
        gbc.writeMem(0x657d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xeb07);
        EXPECT(gbc.pc(), 0x657e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 038A
        gbc.setState(0xd1be, 0xc921, 0x4fd0, 0xbe4f, 0xdd00, 0xeaf4, 0x0, 0x1);
        gbc.writeMem(0xd1be, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc921);
        EXPECT(gbc.pc(), 0xd1bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1be), 0x81);
        // 81 038B
        gbc.setState(0x1962, 0xf804, 0x8090, 0xeb7, 0x1651, 0x234f, 0x1, 0x0);
        gbc.writeMem(0x1962, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf804);
        EXPECT(gbc.pc(), 0x1963);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 038C
        gbc.setState(0x5cda, 0x314, 0x4180, 0x3791, 0x8e89, 0x512, 0x0, 0x1);
        gbc.writeMem(0x5cda, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x314);
        EXPECT(gbc.pc(), 0x5cdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 038E
        gbc.setState(0x9da9, 0x72f3, 0x35e0, 0x563a, 0xd414, 0x3c94, 0x1, 0x0);
        gbc.writeMem(0x9da9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x72f3);
        EXPECT(gbc.pc(), 0x9daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9da9), 0x81);
        // 81 038F
        gbc.setState(0x4519, 0x78a9, 0x3f30, 0x4994, 0x9d86, 0x19b4, 0x1, 0x0);
        gbc.writeMem(0x4519, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x78a9);
        EXPECT(gbc.pc(), 0x451a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0390
        gbc.setState(0xcaa2, 0xa8cb, 0x8810, 0xf98b, 0x5ff, 0x53ae, 0x0, 0x1);
        gbc.writeMem(0xcaa2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa8cb);
        EXPECT(gbc.pc(), 0xcaa3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaa2), 0x81);
        // 81 0391
        gbc.setState(0x7f3a, 0xcb80, 0x7750, 0x37a, 0x50c6, 0xb23b, 0x0, 0x1);
        gbc.writeMem(0x7f3a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xcb80);
        EXPECT(gbc.pc(), 0x7f3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0392
        gbc.setState(0x1eae, 0x56ed, 0x11c0, 0xaf90, 0xc073, 0x6f6a, 0x0, 0x0);
        gbc.writeMem(0x1eae, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x56ed);
        EXPECT(gbc.pc(), 0x1eaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0393
        gbc.setState(0x3701, 0x5011, 0x6ae0, 0x465e, 0x861b, 0xc4f7, 0x1, 0x1);
        gbc.writeMem(0x3701, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5011);
        EXPECT(gbc.pc(), 0x3702);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0394
        gbc.setState(0x8cde, 0x193e, 0xb880, 0x7667, 0x27de, 0x57c6, 0x1, 0x1);
        gbc.writeMem(0x8cde, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x193e);
        EXPECT(gbc.pc(), 0x8cdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cde), 0x81);
        // 81 0395
        gbc.setState(0x9924, 0xd3af, 0x2a0, 0xa2ab, 0xfa60, 0x4346, 0x0, 0x1);
        gbc.writeMem(0x9924, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd3af);
        EXPECT(gbc.pc(), 0x9925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9924), 0x81);
        // 81 0396
        gbc.setState(0x2f8b, 0xf9e4, 0x1190, 0x257a, 0xc2e7, 0x91c, 0x1, 0x0);
        gbc.writeMem(0x2f8b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf9e4);
        EXPECT(gbc.pc(), 0x2f8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0397
        gbc.setState(0x4464, 0x6ec2, 0x3e60, 0xc18e, 0x3b30, 0x6a55, 0x1, 0x1);
        gbc.writeMem(0x4464, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6ec2);
        EXPECT(gbc.pc(), 0x4465);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 0398
        gbc.setState(0x78c2, 0x20f4, 0xb110, 0x9721, 0xf8ff, 0xe61b, 0x0, 0x1);
        gbc.writeMem(0x78c2, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x20f4);
        EXPECT(gbc.pc(), 0x78c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 0399
        gbc.setState(0x5717, 0xe839, 0xe8e0, 0xc435, 0x52cf, 0x33c7, 0x0, 0x1);
        gbc.writeMem(0x5717, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xe839);
        EXPECT(gbc.pc(), 0x5718);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 039A
        gbc.setState(0x2c60, 0xdc17, 0x2670, 0xe553, 0xae5f, 0xd52a, 0x0, 0x1);
        gbc.writeMem(0x2c60, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdc17);
        EXPECT(gbc.pc(), 0x2c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 039B
        gbc.setState(0x64f5, 0xfd7e, 0x9b10, 0xcdb3, 0x1e40, 0x42b, 0x0, 0x1);
        gbc.writeMem(0x64f5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xfd7e);
        EXPECT(gbc.pc(), 0x64f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 039C
        gbc.setState(0x3cf1, 0xb103, 0x1800, 0xa511, 0x743, 0xbf7b, 0x1, 0x1);
        gbc.writeMem(0x3cf1, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb103);
        EXPECT(gbc.pc(), 0x3cf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 039D
        gbc.setState(0x8c8e, 0xc238, 0x7d90, 0xe497, 0x5658, 0xb235, 0x1, 0x1);
        gbc.writeMem(0x8c8e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc238);
        EXPECT(gbc.pc(), 0x8c8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c8e), 0x81);
        // 81 039E
        gbc.setState(0x64a0, 0xc40c, 0x1980, 0x63d3, 0x24a5, 0x37ea, 0x0, 0x0);
        gbc.writeMem(0x64a0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc40c);
        EXPECT(gbc.pc(), 0x64a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 039F
        gbc.setState(0x6283, 0xc39f, 0xfb80, 0xac3f, 0xc66b, 0x1c3b, 0x0, 0x0);
        gbc.writeMem(0x6283, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc39f);
        EXPECT(gbc.pc(), 0x6284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03A0
        gbc.setState(0x39da, 0xa8ee, 0xd7b0, 0xae85, 0x151b, 0x1c5f, 0x1, 0x0);
        gbc.writeMem(0x39da, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa8ee);
        EXPECT(gbc.pc(), 0x39db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03A1
        gbc.setState(0x27ca, 0x23c2, 0x33e0, 0x37d6, 0x3b34, 0x9bef, 0x0, 0x0);
        gbc.writeMem(0x27ca, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x23c2);
        EXPECT(gbc.pc(), 0x27cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03A3
        gbc.setState(0x204a, 0xcd80, 0xb610, 0x6121, 0x19d6, 0xc29b, 0x1, 0x0);
        gbc.writeMem(0x204a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcd80);
        EXPECT(gbc.pc(), 0x204b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03A4
        gbc.setState(0x9146, 0x5fe3, 0xef30, 0x71fe, 0x7f45, 0xc6e5, 0x1, 0x1);
        gbc.writeMem(0x9146, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x5fe3);
        EXPECT(gbc.pc(), 0x9147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9146), 0x81);
        // 81 03A5
        gbc.setState(0x724e, 0xe8fd, 0x4260, 0x98d4, 0xd809, 0x9501, 0x0, 0x0);
        gbc.writeMem(0x724e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe8fd);
        EXPECT(gbc.pc(), 0x724f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03A6
        gbc.setState(0x7676, 0x57bc, 0xa620, 0x8efc, 0x41ab, 0x11c3, 0x0, 0x0);
        gbc.writeMem(0x7676, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x57bc);
        EXPECT(gbc.pc(), 0x7677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03A7
        gbc.setState(0xa633, 0x12e4, 0xb0f0, 0x42e5, 0x822e, 0xb832, 0x0, 0x1);
        gbc.writeMem(0xa633, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x12e4);
        EXPECT(gbc.pc(), 0xa634);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa633), 0x81);
        // 81 03A8
        gbc.setState(0xcd1b, 0xb0eb, 0x4ed0, 0x9176, 0xac14, 0x55e2, 0x1, 0x1);
        gbc.writeMem(0xcd1b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb0eb);
        EXPECT(gbc.pc(), 0xcd1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd1b), 0x81);
        // 81 03A9
        gbc.setState(0x32e9, 0x9655, 0x51f0, 0xe761, 0x6910, 0xda74, 0x0, 0x1);
        gbc.writeMem(0x32e9, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x9655);
        EXPECT(gbc.pc(), 0x32ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03AA
        gbc.setState(0x52ec, 0xc85c, 0xa0e0, 0x9fc5, 0xb433, 0x2d55, 0x1, 0x0);
        gbc.writeMem(0x52ec, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc85c);
        EXPECT(gbc.pc(), 0x52ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03AB
        gbc.setState(0x7987, 0x654b, 0x28a0, 0xc7ba, 0x26ab, 0x48cb, 0x1, 0x1);
        gbc.writeMem(0x7987, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x654b);
        EXPECT(gbc.pc(), 0x7988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03AC
        gbc.setState(0xd762, 0xdece, 0x6040, 0xf255, 0xf263, 0x132d, 0x0, 0x0);
        gbc.writeMem(0xd762, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xdece);
        EXPECT(gbc.pc(), 0xd763);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd762), 0x81);
        // 81 03AD
        gbc.setState(0x5d68, 0xa3e5, 0x3160, 0xecf, 0x4322, 0xf888, 0x0, 0x0);
        gbc.writeMem(0x5d68, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa3e5);
        EXPECT(gbc.pc(), 0x5d69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03AE
        gbc.setState(0xd816, 0x2ebe, 0x4210, 0x80ee, 0x158b, 0xb509, 0x0, 0x1);
        gbc.writeMem(0xd816, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x2ebe);
        EXPECT(gbc.pc(), 0xd817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd816), 0x81);
        // 81 03AF
        gbc.setState(0x3169, 0xdfc0, 0x5320, 0xa812, 0x7b30, 0xe7e2, 0x1, 0x1);
        gbc.writeMem(0x3169, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xdfc0);
        EXPECT(gbc.pc(), 0x316a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03B0
        gbc.setState(0xd13c, 0x4756, 0x9f30, 0xe0b6, 0x536d, 0xaf57, 0x0, 0x1);
        gbc.writeMem(0xd13c, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4756);
        EXPECT(gbc.pc(), 0xd13d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd13c), 0x81);
        // 81 03B1
        gbc.setState(0x3b5e, 0x48d0, 0x9180, 0x452c, 0x984b, 0x4a26, 0x0, 0x0);
        gbc.writeMem(0x3b5e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x48d0);
        EXPECT(gbc.pc(), 0x3b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03B2
        gbc.setState(0xbe5f, 0xf3c8, 0x2360, 0xce62, 0xf9bb, 0x569b, 0x0, 0x1);
        gbc.writeMem(0xbe5f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf3c8);
        EXPECT(gbc.pc(), 0xbe60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe5f), 0x81);
        // 81 03B3
        gbc.setState(0x4a4a, 0x5d23, 0x3f40, 0xce61, 0x3753, 0x1fc3, 0x1, 0x0);
        gbc.writeMem(0x4a4a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5d23);
        EXPECT(gbc.pc(), 0x4a4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03B4
        gbc.setState(0xe21a, 0x15c5, 0x56d0, 0x6d56, 0x8a26, 0xf4b7, 0x1, 0x1);
        gbc.writeMem(0xe21a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x15c5);
        EXPECT(gbc.pc(), 0xe21b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe21a), 0x81);
        // 81 03B5
        gbc.setState(0x90ad, 0x9014, 0x53e0, 0x455, 0xb7bc, 0xd755, 0x1, 0x0);
        gbc.writeMem(0x90ad, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9014);
        EXPECT(gbc.pc(), 0x90ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ad), 0x81);
        // 81 03B6
        gbc.setState(0xb813, 0xd0a7, 0x4570, 0xbf2c, 0x6ac3, 0x331f, 0x1, 0x1);
        gbc.writeMem(0xb813, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd0a7);
        EXPECT(gbc.pc(), 0xb814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb813), 0x81);
        // 81 03B7
        gbc.setState(0xdd7d, 0xea9e, 0x6480, 0x7023, 0x8a19, 0xa081, 0x0, 0x1);
        gbc.writeMem(0xdd7d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xea9e);
        EXPECT(gbc.pc(), 0xdd7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd7d), 0x81);
        // 81 03B8
        gbc.setState(0x7c24, 0x4e79, 0x3c00, 0xff2b, 0x388b, 0xe29f, 0x0, 0x0);
        gbc.writeMem(0x7c24, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4e79);
        EXPECT(gbc.pc(), 0x7c25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03B9
        gbc.setState(0x7857, 0x3ac8, 0x9050, 0x2549, 0x660a, 0x183a, 0x1, 0x1);
        gbc.writeMem(0x7857, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3ac8);
        EXPECT(gbc.pc(), 0x7858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03BA
        gbc.setState(0xce42, 0xcfb8, 0x90e0, 0x4951, 0xbaba, 0x7c07, 0x1, 0x0);
        gbc.writeMem(0xce42, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xcfb8);
        EXPECT(gbc.pc(), 0xce43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce42), 0x81);
        // 81 03BB
        gbc.setState(0x566f, 0xd57, 0xec90, 0x20c0, 0xdc1c, 0xc672, 0x0, 0x0);
        gbc.writeMem(0x566f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd57);
        EXPECT(gbc.pc(), 0x5670);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03BD
        gbc.setState(0x735, 0xdfc, 0xaa40, 0x360b, 0x9592, 0x7ba1, 0x1, 0x0);
        gbc.writeMem(0x735, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xdfc);
        EXPECT(gbc.pc(), 0x736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03BE
        gbc.setState(0xbfb0, 0xed3a, 0x6b20, 0x473d, 0xcb0f, 0x72a1, 0x0, 0x1);
        gbc.writeMem(0xbfb0, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xed3a);
        EXPECT(gbc.pc(), 0xbfb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfb0), 0x81);
        // 81 03C0
        gbc.setState(0x6ef, 0x9570, 0xb6d0, 0xa9df, 0x2fcd, 0x1726, 0x0, 0x1);
        gbc.writeMem(0x6ef, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9570);
        EXPECT(gbc.pc(), 0x6f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03C1
        gbc.setState(0x241d, 0x4bd5, 0xb590, 0x7bd6, 0x7764, 0xfd3b, 0x0, 0x0);
        gbc.writeMem(0x241d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4bd5);
        EXPECT(gbc.pc(), 0x241e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03C2
        gbc.setState(0x6577, 0xba90, 0xd610, 0x4d58, 0xb261, 0xaa44, 0x0, 0x1);
        gbc.writeMem(0x6577, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xba90);
        EXPECT(gbc.pc(), 0x6578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 81 03C3
        gbc.setState(0xe6a, 0xaf4, 0xbd90, 0x7c05, 0xab5, 0xc86e, 0x1, 0x1);
        gbc.writeMem(0xe6a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xaf4);
        EXPECT(gbc.pc(), 0xe6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03C4
        gbc.setState(0x9070, 0xac2d, 0xd180, 0x4949, 0xdb5c, 0x56f6, 0x0, 0x0);
        gbc.writeMem(0x9070, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xac2d);
        EXPECT(gbc.pc(), 0x9071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9070), 0x81);
        // 81 03C5
        gbc.setState(0xda76, 0x7dfc, 0x5860, 0xde5a, 0xb416, 0x4cb6, 0x1, 0x0);
        gbc.writeMem(0xda76, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x7dfc);
        EXPECT(gbc.pc(), 0xda77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda76), 0x81);
        // 81 03C6
        gbc.setState(0xc3e5, 0xd231, 0xc8e0, 0x8d9f, 0xf9ca, 0xb8d5, 0x1, 0x0);
        gbc.writeMem(0xc3e5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd231);
        EXPECT(gbc.pc(), 0xc3e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3e5), 0x81);
        // 81 03C7
        gbc.setState(0x3643, 0xad57, 0x1670, 0x1b0d, 0xbc4d, 0x3ed5, 0x1, 0x0);
        gbc.writeMem(0x3643, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xad57);
        EXPECT(gbc.pc(), 0x3644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03C8
        gbc.setState(0x8274, 0xd5d0, 0x6660, 0x4043, 0xd425, 0x1e85, 0x1, 0x0);
        gbc.writeMem(0x8274, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd5d0);
        EXPECT(gbc.pc(), 0x8275);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8274), 0x81);
        // 81 03C9
        gbc.setState(0xd61e, 0xe4c8, 0x8430, 0x1900, 0x8ec2, 0x311c, 0x0, 0x0);
        gbc.writeMem(0xd61e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe4c8);
        EXPECT(gbc.pc(), 0xd61f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd61e), 0x81);
        // 81 03CA
        gbc.setState(0x95b8, 0x68ab, 0xc120, 0x8933, 0xb407, 0xd6bd, 0x1, 0x0);
        gbc.writeMem(0x95b8, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x68ab);
        EXPECT(gbc.pc(), 0x95b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95b8), 0x81);
        // 81 03CB
        gbc.setState(0x3817, 0xfdc9, 0x3cd0, 0xb959, 0x529e, 0xf17f, 0x0, 0x0);
        gbc.writeMem(0x3817, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xfdc9);
        EXPECT(gbc.pc(), 0x3818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03CC
        gbc.setState(0xd50d, 0x6d08, 0x27f0, 0x424, 0x9d01, 0xac00, 0x1, 0x1);
        gbc.writeMem(0xd50d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x6d08);
        EXPECT(gbc.pc(), 0xd50e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd50d), 0x81);
        // 81 03CD
        gbc.setState(0xe105, 0xe12c, 0x0, 0xd011, 0x9166, 0xd184, 0x1, 0x1);
        gbc.writeMem(0xe105, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe12c);
        EXPECT(gbc.pc(), 0xe106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe105), 0x81);
        // 81 03CE
        gbc.setState(0x6139, 0x9a75, 0x12a0, 0x6f38, 0x36bc, 0x2204, 0x0, 0x0);
        gbc.writeMem(0x6139, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9a75);
        EXPECT(gbc.pc(), 0x613a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03CF
        gbc.setState(0xc123, 0x296d, 0x3a50, 0x40e, 0x26c4, 0xaa97, 0x1, 0x0);
        gbc.writeMem(0xc123, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x296d);
        EXPECT(gbc.pc(), 0xc124);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc123), 0x81);
        // 81 03D0
        gbc.setState(0xd75b, 0x38, 0x3390, 0x99b1, 0x2a24, 0xa133, 0x1, 0x1);
        gbc.writeMem(0xd75b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x38);
        EXPECT(gbc.pc(), 0xd75c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd75b), 0x81);
        // 81 03D1
        gbc.setState(0xbb61, 0xb123, 0xd170, 0x64e, 0xea84, 0x895c, 0x1, 0x1);
        gbc.writeMem(0xbb61, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb123);
        EXPECT(gbc.pc(), 0xbb62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb61), 0x81);
        // 81 03D2
        gbc.setState(0x835e, 0x7eff, 0x9780, 0x4164, 0xfb85, 0xb619, 0x1, 0x0);
        gbc.writeMem(0x835e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7eff);
        EXPECT(gbc.pc(), 0x835f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x835e), 0x81);
        // 81 03D3
        gbc.setState(0x8195, 0x9da, 0xcf00, 0x5ede, 0x6b2f, 0xe4d0, 0x0, 0x0);
        gbc.writeMem(0x8195, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9da);
        EXPECT(gbc.pc(), 0x8196);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8195), 0x81);
        // 81 03D4
        gbc.setState(0xce31, 0x948b, 0xa70, 0x975, 0x179e, 0xe190, 0x1, 0x0);
        gbc.writeMem(0xce31, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x948b);
        EXPECT(gbc.pc(), 0xce32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce31), 0x81);
        // 81 03D5
        gbc.setState(0x5f4b, 0x6b17, 0x2a10, 0x7de9, 0xa66, 0x8447, 0x1, 0x0);
        gbc.writeMem(0x5f4b, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x6b17);
        EXPECT(gbc.pc(), 0x5f4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03D6
        gbc.setState(0xba57, 0x2135, 0xa7b0, 0x4372, 0xd66f, 0xb5aa, 0x0, 0x1);
        gbc.writeMem(0xba57, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x2135);
        EXPECT(gbc.pc(), 0xba58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba57), 0x81);
        // 81 03D7
        gbc.setState(0xbef7, 0xc864, 0x740, 0xd986, 0x3d40, 0x1454, 0x0, 0x1);
        gbc.writeMem(0xbef7, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc864);
        EXPECT(gbc.pc(), 0xbef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbef7), 0x81);
        // 81 03D8
        gbc.setState(0x3bf5, 0x6564, 0x87d0, 0xebfb, 0x549f, 0x38c4, 0x1, 0x0);
        gbc.writeMem(0x3bf5, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x6564);
        EXPECT(gbc.pc(), 0x3bf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03D9
        gbc.setState(0xb138, 0xf7ec, 0x28d0, 0x8889, 0x7d54, 0x4856, 0x1, 0x1);
        gbc.writeMem(0xb138, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf7ec);
        EXPECT(gbc.pc(), 0xb139);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb138), 0x81);
        // 81 03DA
        gbc.setState(0x716f, 0xa2a2, 0x8d50, 0x65e, 0xd8d0, 0x3532, 0x1, 0x1);
        gbc.writeMem(0x716f, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xa2a2);
        EXPECT(gbc.pc(), 0x7170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03DC
        gbc.setState(0x4d52, 0x7715, 0x3340, 0xdcb3, 0x4b3d, 0x5779, 0x1, 0x0);
        gbc.writeMem(0x4d52, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7715);
        EXPECT(gbc.pc(), 0x4d53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03DD
        gbc.setState(0x7a8e, 0x170f, 0x38f0, 0x5055, 0xd27, 0xe55b, 0x0, 0x0);
        gbc.writeMem(0x7a8e, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x170f);
        EXPECT(gbc.pc(), 0x7a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03DE
        gbc.setState(0x754d, 0x4f58, 0x3740, 0x6730, 0x9df6, 0xafd, 0x1, 0x0);
        gbc.writeMem(0x754d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4f58);
        EXPECT(gbc.pc(), 0x754e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03DF
        gbc.setState(0x8faf, 0x4123, 0x990, 0x4c68, 0xea71, 0x36ea, 0x0, 0x0);
        gbc.writeMem(0x8faf, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4123);
        EXPECT(gbc.pc(), 0x8fb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8faf), 0x81);
        // 81 03E0
        gbc.setState(0x698d, 0x5192, 0x350, 0xc321, 0x7fd8, 0x7aae, 0x0, 0x0);
        gbc.writeMem(0x698d, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x5192);
        EXPECT(gbc.pc(), 0x698e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 81 03E1
        gbc.setState(0xe5ed, 0x46a6, 0xe5c0, 0x9c06, 0x4d6e, 0x840e, 0x1, 0x1);
        gbc.writeMem(0xe5ed, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x46a6);
        EXPECT(gbc.pc(), 0xe5ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ed), 0x81);
        // 81 03E2
        gbc.setState(0x4559, 0xf310, 0x3f30, 0x65f9, 0x251d, 0x7286, 0x0, 0x1);
        gbc.writeMem(0x4559, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf310);
        EXPECT(gbc.pc(), 0x455a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 81 03E3
        gbc.setState(0x1ba, 0x7b22, 0x39a0, 0x4f9d, 0xbfbd, 0x4777, 0x0, 0x0);
        gbc.writeMem(0x1ba, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7b22);
        EXPECT(gbc.pc(), 0x1bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 81 03E4
        gbc.setState(0xcfcc, 0x1652, 0x70e0, 0x61e7, 0xa8cd, 0xebbd, 0x0, 0x1);
        gbc.writeMem(0xcfcc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x1652);
        EXPECT(gbc.pc(), 0xcfcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfcc), 0x81);
        // 81 03E6
        gbc.setState(0x85ff, 0x9a98, 0x3e20, 0x1971, 0x58c8, 0xf48, 0x0, 0x0);
        gbc.writeMem(0x85ff, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x9a98);
        EXPECT(gbc.pc(), 0x8600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ff), 0x81);
        // 81 03E7
        gbc.setState(0x417a, 0x465b, 0x2970, 0x43ab, 0xc007, 0xb17b, 0x0, 0x0);
        gbc.writeMem(0x417a, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x465b);
        EXPECT(gbc.pc(), 0x417b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
