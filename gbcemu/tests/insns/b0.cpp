#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_b0)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_b0) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // B0 0000
        gbc.setState(0x8e59, 0x5d95, 0x84e0, 0xd8e3, 0xe270, 0xd27e, 0x0, 0x1);
        gbc.writeMem(0x8e59, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5d95);
        EXPECT(gbc.pc(), 0x8e5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e59), 0xb0);
        // B0 0001
        gbc.setState(0x6b2e, 0xf326, 0xf2d0, 0xad85, 0x8e38, 0xa57b, 0x0, 0x1);
        gbc.writeMem(0x6b2e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf326);
        EXPECT(gbc.pc(), 0x6b2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0002
        gbc.setState(0xa839, 0xea00, 0x87a0, 0x7b3d, 0xc068, 0xa01c, 0x0, 0x1);
        gbc.writeMem(0xa839, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xea00);
        EXPECT(gbc.pc(), 0xa83a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa839), 0xb0);
        // B0 0003
        gbc.setState(0x3ebc, 0xd156, 0x5180, 0xe638, 0x62d1, 0xc319, 0x0, 0x0);
        gbc.writeMem(0x3ebc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xd156);
        EXPECT(gbc.pc(), 0x3ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0004
        gbc.setState(0xd781, 0x43b7, 0x3150, 0xa2a0, 0x5de7, 0x8ee6, 0x1, 0x0);
        gbc.writeMem(0xd781, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x43b7);
        EXPECT(gbc.pc(), 0xd782);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd781), 0xb0);
        // B0 0005
        gbc.setState(0xc0f, 0x6a26, 0x6400, 0x445b, 0xf60c, 0x9082, 0x0, 0x0);
        gbc.writeMem(0xc0f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6a26);
        EXPECT(gbc.pc(), 0xc10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0006
        gbc.setState(0xd0c0, 0xa301, 0x15b0, 0x55e1, 0xe899, 0x1143, 0x0, 0x1);
        gbc.writeMem(0xd0c0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xa301);
        EXPECT(gbc.pc(), 0xd0c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0c0), 0xb0);
        // B0 0007
        gbc.setState(0x15d2, 0xc49d, 0x7060, 0x7a80, 0x708e, 0xa311, 0x0, 0x0);
        gbc.writeMem(0x15d2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc49d);
        EXPECT(gbc.pc(), 0x15d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0008
        gbc.setState(0x4588, 0xa587, 0xc5e0, 0xce6f, 0x4ae8, 0x6a41, 0x1, 0x0);
        gbc.writeMem(0x4588, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa587);
        EXPECT(gbc.pc(), 0x4589);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0009
        gbc.setState(0x8f5e, 0xb48e, 0x3a70, 0x1d35, 0xd32d, 0x5a7d, 0x0, 0x0);
        gbc.writeMem(0x8f5e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb48e);
        EXPECT(gbc.pc(), 0x8f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f5e), 0xb0);
        // B0 000A
        gbc.setState(0xb9b3, 0x122c, 0xf740, 0x5e4b, 0xe103, 0x17be, 0x1, 0x1);
        gbc.writeMem(0xb9b3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x122c);
        EXPECT(gbc.pc(), 0xb9b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9b3), 0xb0);
        // B0 000B
        gbc.setState(0xbb88, 0xff30, 0xbf10, 0xb957, 0x66f9, 0x299c, 0x0, 0x0);
        gbc.writeMem(0xbb88, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xff30);
        EXPECT(gbc.pc(), 0xbb89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb88), 0xb0);
        // B0 000C
        gbc.setState(0x664f, 0x759, 0x3c0, 0x91d8, 0xd6f8, 0x2bd9, 0x1, 0x1);
        gbc.writeMem(0x664f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x759);
        EXPECT(gbc.pc(), 0x6650);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 000D
        gbc.setState(0xc834, 0x3092, 0xbd60, 0x474f, 0xf349, 0x4c25, 0x1, 0x0);
        gbc.writeMem(0xc834, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3092);
        EXPECT(gbc.pc(), 0xc835);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc834), 0xb0);
        // B0 000E
        gbc.setState(0xe, 0x37ef, 0x75a0, 0x3e15, 0x12de, 0xebe4, 0x1, 0x1);
        gbc.writeMem(0xe, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x37ef);
        EXPECT(gbc.pc(), 0xf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 000F
        gbc.setState(0x4cbc, 0xcd58, 0x96a0, 0x3eb6, 0xca2a, 0x2b2c, 0x1, 0x1);
        gbc.writeMem(0x4cbc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xcd58);
        EXPECT(gbc.pc(), 0x4cbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0010
        gbc.setState(0xeb7d, 0x1dca, 0xe430, 0x7c45, 0x8c65, 0x788f, 0x1, 0x0);
        gbc.writeMem(0xeb7d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1dca);
        EXPECT(gbc.pc(), 0xeb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb7d), 0xb0);
        // B0 0011
        gbc.setState(0x83f, 0x4c4b, 0x8620, 0xa179, 0x7e1b, 0x2ee2, 0x0, 0x1);
        gbc.writeMem(0x83f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x4c4b);
        EXPECT(gbc.pc(), 0x840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0012
        gbc.setState(0x866a, 0xd793, 0x8a70, 0xe642, 0xc938, 0x7c69, 0x1, 0x1);
        gbc.writeMem(0x866a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd793);
        EXPECT(gbc.pc(), 0x866b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x866a), 0xb0);
        // B0 0014
        gbc.setState(0x9530, 0x3545, 0x5270, 0xe545, 0xa5f1, 0xcbf6, 0x1, 0x1);
        gbc.writeMem(0x9530, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x3545);
        EXPECT(gbc.pc(), 0x9531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9530), 0xb0);
        // B0 0015
        gbc.setState(0xa98c, 0x9cf7, 0x4ea0, 0x52a0, 0x6a83, 0xdba0, 0x1, 0x1);
        gbc.writeMem(0xa98c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9cf7);
        EXPECT(gbc.pc(), 0xa98d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa98c), 0xb0);
        // B0 0016
        gbc.setState(0xd2c7, 0xbabd, 0x9a60, 0xe02c, 0x5fd, 0xf123, 0x0, 0x0);
        gbc.writeMem(0xd2c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xbabd);
        EXPECT(gbc.pc(), 0xd2c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2c7), 0xb0);
        // B0 0017
        gbc.setState(0x8a47, 0x9d64, 0xcfd0, 0x829f, 0xb84f, 0x798, 0x0, 0x0);
        gbc.writeMem(0x8a47, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9d64);
        EXPECT(gbc.pc(), 0x8a48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a47), 0xb0);
        // B0 0018
        gbc.setState(0xc4db, 0x41fe, 0x6720, 0xcdef, 0x2c7a, 0x3d83, 0x1, 0x1);
        gbc.writeMem(0xc4db, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x41fe);
        EXPECT(gbc.pc(), 0xc4dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4db), 0xb0);
        // B0 001A
        gbc.setState(0x8359, 0x8643, 0xe630, 0x147, 0xd5c0, 0xfb40, 0x0, 0x0);
        gbc.writeMem(0x8359, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8643);
        EXPECT(gbc.pc(), 0x835a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8359), 0xb0);
        // B0 001B
        gbc.setState(0x82d0, 0x5a8f, 0xaf0, 0x2f9c, 0xee3e, 0x974e, 0x1, 0x1);
        gbc.writeMem(0x82d0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x5a8f);
        EXPECT(gbc.pc(), 0x82d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82d0), 0xb0);
        // B0 001C
        gbc.setState(0x603e, 0x7856, 0xdbd0, 0xb130, 0x6e2, 0xd8b9, 0x0, 0x1);
        gbc.writeMem(0x603e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7856);
        EXPECT(gbc.pc(), 0x603f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 001D
        gbc.setState(0xa445, 0x67cf, 0xe270, 0xddae, 0xff51, 0x47d9, 0x1, 0x0);
        gbc.writeMem(0xa445, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x67cf);
        EXPECT(gbc.pc(), 0xa446);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa445), 0xb0);
        // B0 001E
        gbc.setState(0x4384, 0x584d, 0xe1f0, 0x4d77, 0x50e1, 0xd942, 0x0, 0x0);
        gbc.writeMem(0x4384, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x584d);
        EXPECT(gbc.pc(), 0x4385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 001F
        gbc.setState(0x1abc, 0x5693, 0xeb30, 0x30a3, 0x82c9, 0x6874, 0x0, 0x1);
        gbc.writeMem(0x1abc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5693);
        EXPECT(gbc.pc(), 0x1abd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0020
        gbc.setState(0xe8c1, 0x25ce, 0x7230, 0xd8ed, 0x75df, 0x265e, 0x1, 0x0);
        gbc.writeMem(0xe8c1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x25ce);
        EXPECT(gbc.pc(), 0xe8c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c1), 0xb0);
        // B0 0021
        gbc.setState(0x2017, 0x43fd, 0x2340, 0xa775, 0xd724, 0x44c3, 0x0, 0x0);
        gbc.writeMem(0x2017, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x43fd);
        EXPECT(gbc.pc(), 0x2018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0022
        gbc.setState(0x48d7, 0xb16d, 0xfe10, 0x53ab, 0x6f24, 0x8feb, 0x1, 0x0);
        gbc.writeMem(0x48d7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb16d);
        EXPECT(gbc.pc(), 0x48d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0023
        gbc.setState(0x5fde, 0x3bc0, 0x9e60, 0x164, 0x8464, 0x1cad, 0x1, 0x0);
        gbc.writeMem(0x5fde, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3bc0);
        EXPECT(gbc.pc(), 0x5fdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0024
        gbc.setState(0x1d6c, 0xf755, 0xf790, 0x1372, 0x73d0, 0x87cc, 0x0, 0x1);
        gbc.writeMem(0x1d6c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf755);
        EXPECT(gbc.pc(), 0x1d6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0025
        gbc.setState(0x974f, 0x52df, 0xd2d0, 0x93e0, 0x665c, 0x61d1, 0x0, 0x1);
        gbc.writeMem(0x974f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x52df);
        EXPECT(gbc.pc(), 0x9750);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x974f), 0xb0);
        // B0 0026
        gbc.setState(0x5433, 0x4633, 0xd720, 0x864a, 0x483c, 0x3881, 0x1, 0x1);
        gbc.writeMem(0x5433, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x4633);
        EXPECT(gbc.pc(), 0x5434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0027
        gbc.setState(0xc15b, 0xbe16, 0x9350, 0x66f5, 0xa68f, 0xdd3f, 0x0, 0x1);
        gbc.writeMem(0xc15b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbe16);
        EXPECT(gbc.pc(), 0xc15c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc15b), 0xb0);
        // B0 0028
        gbc.setState(0xa45e, 0x8275, 0xdad0, 0x5ac6, 0x2d78, 0x85c9, 0x1, 0x1);
        gbc.writeMem(0xa45e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8275);
        EXPECT(gbc.pc(), 0xa45f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa45e), 0xb0);
        // B0 0029
        gbc.setState(0x73db, 0x1fdd, 0x7ac0, 0x3ccd, 0x782b, 0xa974, 0x1, 0x0);
        gbc.writeMem(0x73db, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1fdd);
        EXPECT(gbc.pc(), 0x73dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 002A
        gbc.setState(0x232e, 0x1952, 0x4a30, 0xc204, 0x740b, 0x4b3e, 0x0, 0x1);
        gbc.writeMem(0x232e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1952);
        EXPECT(gbc.pc(), 0x232f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 002B
        gbc.setState(0x4095, 0xff8c, 0x4d20, 0x42fc, 0xf807, 0xcd19, 0x1, 0x0);
        gbc.writeMem(0x4095, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xff8c);
        EXPECT(gbc.pc(), 0x4096);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 002C
        gbc.setState(0xdf94, 0x2456, 0xcf00, 0xc635, 0xe925, 0xa9d6, 0x1, 0x1);
        gbc.writeMem(0xdf94, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2456);
        EXPECT(gbc.pc(), 0xdf95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf94), 0xb0);
        // B0 002D
        gbc.setState(0x8f5, 0x95ca, 0xb910, 0xf5c0, 0xb9d, 0x32ee, 0x0, 0x0);
        gbc.writeMem(0x8f5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x95ca);
        EXPECT(gbc.pc(), 0x8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 002E
        gbc.setState(0xc8a9, 0xd53e, 0x9b90, 0xadc, 0xeece, 0x8f37, 0x0, 0x0);
        gbc.writeMem(0xc8a9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xd53e);
        EXPECT(gbc.pc(), 0xc8aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a9), 0xb0);
        // B0 002F
        gbc.setState(0x173c, 0xee25, 0x6b60, 0x49b4, 0xa36f, 0xaee, 0x0, 0x0);
        gbc.writeMem(0x173c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xee25);
        EXPECT(gbc.pc(), 0x173d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0030
        gbc.setState(0x3f70, 0xb907, 0x9e20, 0x806b, 0xe3ae, 0xd7, 0x1, 0x1);
        gbc.writeMem(0x3f70, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb907);
        EXPECT(gbc.pc(), 0x3f71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0031
        gbc.setState(0x633e, 0xcd72, 0x35a0, 0xd6da, 0xdcc3, 0x5c9, 0x0, 0x0);
        gbc.writeMem(0x633e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xcd72);
        EXPECT(gbc.pc(), 0x633f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0032
        gbc.setState(0xa47f, 0x5378, 0xed50, 0xe634, 0x858a, 0x3b6e, 0x1, 0x1);
        gbc.writeMem(0xa47f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5378);
        EXPECT(gbc.pc(), 0xa480);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa47f), 0xb0);
        // B0 0033
        gbc.setState(0xaccb, 0xe8b6, 0xd370, 0x9766, 0x79d6, 0x8dde, 0x1, 0x1);
        gbc.writeMem(0xaccb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe8b6);
        EXPECT(gbc.pc(), 0xaccc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaccb), 0xb0);
        // B0 0034
        gbc.setState(0x505, 0x6a25, 0x3c70, 0xa06, 0x2793, 0x513c, 0x1, 0x0);
        gbc.writeMem(0x505, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6a25);
        EXPECT(gbc.pc(), 0x506);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0035
        gbc.setState(0xc3c7, 0x6f7f, 0x8bd0, 0x270a, 0xf3bb, 0xd178, 0x1, 0x0);
        gbc.writeMem(0xc3c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x6f7f);
        EXPECT(gbc.pc(), 0xc3c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3c7), 0xb0);
        // B0 0036
        gbc.setState(0xc6ff, 0xe905, 0x6a70, 0x5fef, 0x6d55, 0x6392, 0x0, 0x1);
        gbc.writeMem(0xc6ff, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe905);
        EXPECT(gbc.pc(), 0xc700);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ff), 0xb0);
        // B0 0037
        gbc.setState(0x86d, 0x9108, 0x9640, 0x82d2, 0x7c3, 0xa398, 0x1, 0x0);
        gbc.writeMem(0x86d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9108);
        EXPECT(gbc.pc(), 0x86e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0038
        gbc.setState(0x7995, 0xf9fe, 0xcad0, 0x6b59, 0x5ea6, 0x587, 0x0, 0x1);
        gbc.writeMem(0x7995, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xf9fe);
        EXPECT(gbc.pc(), 0x7996);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0039
        gbc.setState(0x956a, 0xf3b5, 0x5360, 0xca36, 0x1be9, 0x1a85, 0x1, 0x1);
        gbc.writeMem(0x956a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf3b5);
        EXPECT(gbc.pc(), 0x956b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x956a), 0xb0);
        // B0 003A
        gbc.setState(0x5bc4, 0x7a01, 0x1600, 0x364a, 0x379f, 0xe9d0, 0x1, 0x0);
        gbc.writeMem(0x5bc4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7a01);
        EXPECT(gbc.pc(), 0x5bc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 003B
        gbc.setState(0x905f, 0x724f, 0x9e00, 0x8ce, 0x41f9, 0x3f18, 0x0, 0x1);
        gbc.writeMem(0x905f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x724f);
        EXPECT(gbc.pc(), 0x9060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x905f), 0xb0);
        // B0 003C
        gbc.setState(0x1a53, 0x217a, 0xd550, 0xedc, 0x5139, 0x9187, 0x0, 0x1);
        gbc.writeMem(0x1a53, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x217a);
        EXPECT(gbc.pc(), 0x1a54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 003D
        gbc.setState(0xdac2, 0x6f77, 0xfd10, 0xd734, 0xe90e, 0x9c7d, 0x1, 0x1);
        gbc.writeMem(0xdac2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6f77);
        EXPECT(gbc.pc(), 0xdac3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac2), 0xb0);
        // B0 003E
        gbc.setState(0x781c, 0xa35, 0x1480, 0x6c33, 0xac9d, 0xcfe5, 0x1, 0x0);
        gbc.writeMem(0x781c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa35);
        EXPECT(gbc.pc(), 0x781d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 003F
        gbc.setState(0xdb6, 0x3371, 0x420, 0xb828, 0xae6a, 0xd3c8, 0x0, 0x1);
        gbc.writeMem(0xdb6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3371);
        EXPECT(gbc.pc(), 0xdb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0040
        gbc.setState(0x55ef, 0x7202, 0x6e50, 0xdad2, 0x5157, 0xc153, 0x1, 0x1);
        gbc.writeMem(0x55ef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7202);
        EXPECT(gbc.pc(), 0x55f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0041
        gbc.setState(0x4fb7, 0x1521, 0xb210, 0x675c, 0xdd16, 0x5185, 0x1, 0x0);
        gbc.writeMem(0x4fb7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1521);
        EXPECT(gbc.pc(), 0x4fb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0042
        gbc.setState(0x3862, 0xcfc0, 0x7d30, 0x490b, 0xf11b, 0x8907, 0x1, 0x1);
        gbc.writeMem(0x3862, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xcfc0);
        EXPECT(gbc.pc(), 0x3863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0043
        gbc.setState(0x706c, 0x3f1c, 0x3040, 0x64ae, 0xded9, 0x583c, 0x0, 0x1);
        gbc.writeMem(0x706c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3f1c);
        EXPECT(gbc.pc(), 0x706d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0044
        gbc.setState(0xcf89, 0x63dc, 0xabc0, 0xce4b, 0x5837, 0x7483, 0x1, 0x0);
        gbc.writeMem(0xcf89, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x63dc);
        EXPECT(gbc.pc(), 0xcf8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf89), 0xb0);
        // B0 0045
        gbc.setState(0x2452, 0x1dd9, 0x33e0, 0xb255, 0x58aa, 0xaf55, 0x1, 0x0);
        gbc.writeMem(0x2452, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1dd9);
        EXPECT(gbc.pc(), 0x2453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0046
        gbc.setState(0xa182, 0x473e, 0xda30, 0x4f17, 0x5b58, 0xaa73, 0x1, 0x0);
        gbc.writeMem(0xa182, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x473e);
        EXPECT(gbc.pc(), 0xa183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa182), 0xb0);
        // B0 0047
        gbc.setState(0xcdf3, 0xced3, 0x5930, 0xd369, 0xbc2, 0xf65f, 0x1, 0x0);
        gbc.writeMem(0xcdf3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xced3);
        EXPECT(gbc.pc(), 0xcdf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf3), 0xb0);
        // B0 0048
        gbc.setState(0x1876, 0x1e9a, 0xf600, 0x4c26, 0xd4ab, 0x7cf9, 0x1, 0x1);
        gbc.writeMem(0x1876, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x1e9a);
        EXPECT(gbc.pc(), 0x1877);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 004A
        gbc.setState(0xb8e3, 0x4ba2, 0xe650, 0x9d47, 0x2171, 0xcd70, 0x0, 0x0);
        gbc.writeMem(0xb8e3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4ba2);
        EXPECT(gbc.pc(), 0xb8e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e3), 0xb0);
        // B0 004B
        gbc.setState(0xa0e2, 0x95d6, 0xc5d0, 0xeade, 0x9176, 0x9b0c, 0x0, 0x1);
        gbc.writeMem(0xa0e2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x95d6);
        EXPECT(gbc.pc(), 0xa0e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0e2), 0xb0);
        // B0 004C
        gbc.setState(0x4e6c, 0x374, 0xcd40, 0x2fd2, 0xbafd, 0xe5f, 0x1, 0x0);
        gbc.writeMem(0x4e6c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x374);
        EXPECT(gbc.pc(), 0x4e6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 004D
        gbc.setState(0x2c43, 0x733e, 0xa100, 0x5a06, 0x3aaa, 0x22ae, 0x1, 0x0);
        gbc.writeMem(0x2c43, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x733e);
        EXPECT(gbc.pc(), 0x2c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 004E
        gbc.setState(0x7aa, 0x4684, 0x11c0, 0xa948, 0xa995, 0x2fb5, 0x1, 0x1);
        gbc.writeMem(0x7aa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4684);
        EXPECT(gbc.pc(), 0x7ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 004F
        gbc.setState(0xef59, 0x7eee, 0x6700, 0xee2c, 0x623d, 0x63f8, 0x1, 0x0);
        gbc.writeMem(0xef59, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x7eee);
        EXPECT(gbc.pc(), 0xef5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef59), 0xb0);
        // B0 0050
        gbc.setState(0xaa14, 0x4280, 0x3300, 0x6e2d, 0x60d2, 0xabc7, 0x0, 0x0);
        gbc.writeMem(0xaa14, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x4280);
        EXPECT(gbc.pc(), 0xaa15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa14), 0xb0);
        // B0 0051
        gbc.setState(0x385, 0x1250, 0x120, 0x1d78, 0x2966, 0x2e9, 0x0, 0x1);
        gbc.writeMem(0x385, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1250);
        EXPECT(gbc.pc(), 0x386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0052
        gbc.setState(0x888, 0x29ab, 0x2890, 0x5455, 0x557, 0x3891, 0x1, 0x0);
        gbc.writeMem(0x888, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x29ab);
        EXPECT(gbc.pc(), 0x889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0053
        gbc.setState(0x7ad4, 0x51, 0x490, 0xad24, 0x9207, 0xeb9e, 0x1, 0x1);
        gbc.writeMem(0x7ad4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x51);
        EXPECT(gbc.pc(), 0x7ad5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0055
        gbc.setState(0x8fce, 0x3b38, 0x1ca0, 0x86d2, 0x7a77, 0xd52d, 0x1, 0x1);
        gbc.writeMem(0x8fce, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3b38);
        EXPECT(gbc.pc(), 0x8fcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fce), 0xb0);
        // B0 0056
        gbc.setState(0x385e, 0x4d73, 0xba10, 0x24ba, 0xa8be, 0xf0c6, 0x0, 0x0);
        gbc.writeMem(0x385e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4d73);
        EXPECT(gbc.pc(), 0x385f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0057
        gbc.setState(0x2c32, 0x5f4d, 0xd0d0, 0x89a6, 0x77c4, 0x3902, 0x1, 0x0);
        gbc.writeMem(0x2c32, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5f4d);
        EXPECT(gbc.pc(), 0x2c33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0058
        gbc.setState(0x9275, 0x8994, 0x1e60, 0x3b87, 0xf384, 0x4a90, 0x0, 0x0);
        gbc.writeMem(0x9275, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8994);
        EXPECT(gbc.pc(), 0x9276);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9275), 0xb0);
        // B0 0059
        gbc.setState(0x173e, 0xaa05, 0x2a20, 0x21ea, 0x8f3c, 0xcf89, 0x0, 0x0);
        gbc.writeMem(0x173e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xaa05);
        EXPECT(gbc.pc(), 0x173f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 005A
        gbc.setState(0x589a, 0xaa99, 0xe8d0, 0x14f9, 0x5545, 0xecf9, 0x1, 0x0);
        gbc.writeMem(0x589a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xaa99);
        EXPECT(gbc.pc(), 0x589b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 005B
        gbc.setState(0xa8fc, 0xabad, 0x6f20, 0xb2ac, 0x6ed2, 0x949c, 0x0, 0x0);
        gbc.writeMem(0xa8fc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xabad);
        EXPECT(gbc.pc(), 0xa8fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8fc), 0xb0);
        // B0 005C
        gbc.setState(0x96ab, 0x4c6, 0xfde0, 0xf3ca, 0xe8da, 0x81a, 0x1, 0x1);
        gbc.writeMem(0x96ab, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4c6);
        EXPECT(gbc.pc(), 0x96ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ab), 0xb0);
        // B0 005D
        gbc.setState(0x4491, 0x5c10, 0x1d00, 0x4468, 0x4bb6, 0x35f, 0x0, 0x0);
        gbc.writeMem(0x4491, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x5c10);
        EXPECT(gbc.pc(), 0x4492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 005E
        gbc.setState(0x9826, 0xb4d4, 0x8770, 0x2d15, 0xfe9e, 0xed80, 0x1, 0x1);
        gbc.writeMem(0x9826, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb4d4);
        EXPECT(gbc.pc(), 0x9827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9826), 0xb0);
        // B0 005F
        gbc.setState(0x3853, 0xc5ef, 0xd110, 0x8097, 0xb8e8, 0xdad5, 0x1, 0x0);
        gbc.writeMem(0x3853, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xc5ef);
        EXPECT(gbc.pc(), 0x3854);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0060
        gbc.setState(0x4b15, 0xf5, 0x5660, 0x3e5e, 0xae76, 0x7220, 0x0, 0x1);
        gbc.writeMem(0x4b15, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf5);
        EXPECT(gbc.pc(), 0x4b16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0061
        gbc.setState(0xe0a5, 0xa377, 0x7aa0, 0x506f, 0xc79f, 0xa582, 0x1, 0x0);
        gbc.writeMem(0xe0a5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa377);
        EXPECT(gbc.pc(), 0xe0a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a5), 0xb0);
        // B0 0062
        gbc.setState(0xd53f, 0x547d, 0x5f90, 0xf8e8, 0x762c, 0xeec4, 0x1, 0x0);
        gbc.writeMem(0xd53f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x547d);
        EXPECT(gbc.pc(), 0xd540);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd53f), 0xb0);
        // B0 0063
        gbc.setState(0xaa63, 0xedcc, 0x7a50, 0xfef9, 0x3c5a, 0x4dae, 0x1, 0x1);
        gbc.writeMem(0xaa63, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xedcc);
        EXPECT(gbc.pc(), 0xaa64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa63), 0xb0);
        // B0 0066
        gbc.setState(0xb79c, 0xbcb9, 0x6e50, 0xa949, 0xdac9, 0x891, 0x0, 0x0);
        gbc.writeMem(0xb79c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xbcb9);
        EXPECT(gbc.pc(), 0xb79d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79c), 0xb0);
        // B0 0068
        gbc.setState(0x3bda, 0xa81a, 0x4360, 0xe0f3, 0x964a, 0x14ad, 0x1, 0x1);
        gbc.writeMem(0x3bda, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xa81a);
        EXPECT(gbc.pc(), 0x3bdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 006A
        gbc.setState(0x64e5, 0x355a, 0xe320, 0xb812, 0x91c7, 0x66cf, 0x1, 0x0);
        gbc.writeMem(0x64e5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x355a);
        EXPECT(gbc.pc(), 0x64e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 006B
        gbc.setState(0xd020, 0x9d14, 0x1f0, 0x3c45, 0x7d41, 0xc175, 0x0, 0x1);
        gbc.writeMem(0xd020, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x9d14);
        EXPECT(gbc.pc(), 0xd021);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd020), 0xb0);
        // B0 006C
        gbc.setState(0xc754, 0x9700, 0xd90, 0x982e, 0x5cc4, 0xbaa9, 0x0, 0x0);
        gbc.writeMem(0xc754, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9700);
        EXPECT(gbc.pc(), 0xc755);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc754), 0xb0);
        // B0 006D
        gbc.setState(0xe6b9, 0xe631, 0xc490, 0x4044, 0xec9a, 0xd57d, 0x1, 0x0);
        gbc.writeMem(0xe6b9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe631);
        EXPECT(gbc.pc(), 0xe6ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b9), 0xb0);
        // B0 006E
        gbc.setState(0x820a, 0x24a5, 0x1510, 0xec4f, 0xef48, 0xf87, 0x0, 0x1);
        gbc.writeMem(0x820a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x24a5);
        EXPECT(gbc.pc(), 0x820b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x820a), 0xb0);
        // B0 006F
        gbc.setState(0xa24e, 0x7c64, 0xf960, 0x1485, 0xb79c, 0x8f31, 0x0, 0x0);
        gbc.writeMem(0xa24e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7c64);
        EXPECT(gbc.pc(), 0xa24f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa24e), 0xb0);
        // B0 0070
        gbc.setState(0x33, 0xb938, 0x1dd0, 0xce6d, 0xb4a4, 0xe054, 0x1, 0x1);
        gbc.writeMem(0x33, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xb938);
        EXPECT(gbc.pc(), 0x34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0071
        gbc.setState(0xd734, 0x2c0, 0x9410, 0x81ad, 0x425b, 0x94fa, 0x0, 0x1);
        gbc.writeMem(0xd734, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2c0);
        EXPECT(gbc.pc(), 0xd735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd734), 0xb0);
        // B0 0072
        gbc.setState(0x265b, 0x5b2f, 0x600, 0x8815, 0xdf4a, 0x4eef, 0x0, 0x1);
        gbc.writeMem(0x265b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5b2f);
        EXPECT(gbc.pc(), 0x265c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0073
        gbc.setState(0xdb30, 0xdf1f, 0xe750, 0x2497, 0x5a04, 0x2a4f, 0x0, 0x0);
        gbc.writeMem(0xdb30, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xdf1f);
        EXPECT(gbc.pc(), 0xdb31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb30), 0xb0);
        // B0 0074
        gbc.setState(0xf42, 0xe5d2, 0xd980, 0xb196, 0xfb61, 0x7b7c, 0x1, 0x1);
        gbc.writeMem(0xf42, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe5d2);
        EXPECT(gbc.pc(), 0xf43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0075
        gbc.setState(0xe8bc, 0xcc9, 0x6920, 0xb7b3, 0x26c7, 0x34cb, 0x1, 0x1);
        gbc.writeMem(0xe8bc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xcc9);
        EXPECT(gbc.pc(), 0xe8bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8bc), 0xb0);
        // B0 0076
        gbc.setState(0x9bc4, 0xe241, 0x7400, 0x9a08, 0x5827, 0x730c, 0x1, 0x1);
        gbc.writeMem(0x9bc4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe241);
        EXPECT(gbc.pc(), 0x9bc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bc4), 0xb0);
        // B0 0077
        gbc.setState(0x3af9, 0x69df, 0x98c0, 0xb7ea, 0x6806, 0x93f0, 0x1, 0x0);
        gbc.writeMem(0x3af9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x69df);
        EXPECT(gbc.pc(), 0x3afa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0078
        gbc.setState(0x6564, 0x14e3, 0xf9c0, 0xeba6, 0x8ba4, 0x8b4d, 0x1, 0x1);
        gbc.writeMem(0x6564, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x14e3);
        EXPECT(gbc.pc(), 0x6565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0079
        gbc.setState(0x5882, 0xe49b, 0xb690, 0xbb89, 0xe700, 0x71f1, 0x0, 0x1);
        gbc.writeMem(0x5882, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe49b);
        EXPECT(gbc.pc(), 0x5883);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 007A
        gbc.setState(0x1793, 0xaa45, 0x7c70, 0x761e, 0x8aa8, 0x9a4f, 0x1, 0x0);
        gbc.writeMem(0x1793, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xaa45);
        EXPECT(gbc.pc(), 0x1794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 007B
        gbc.setState(0x98eb, 0xf49e, 0xc450, 0x1e51, 0x135a, 0xa5ee, 0x0, 0x1);
        gbc.writeMem(0x98eb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf49e);
        EXPECT(gbc.pc(), 0x98ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98eb), 0xb0);
        // B0 007D
        gbc.setState(0x38f9, 0x4325, 0x1890, 0x8357, 0xdf05, 0x5959, 0x1, 0x0);
        gbc.writeMem(0x38f9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4325);
        EXPECT(gbc.pc(), 0x38fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 007E
        gbc.setState(0x2a2c, 0x95d9, 0xe3d0, 0x2b6c, 0xdcb5, 0x3439, 0x0, 0x1);
        gbc.writeMem(0x2a2c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x95d9);
        EXPECT(gbc.pc(), 0x2a2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 007F
        gbc.setState(0x1ffb, 0x932b, 0x17a0, 0x5a03, 0x7a18, 0xacd7, 0x0, 0x1);
        gbc.writeMem(0x1ffb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x932b);
        EXPECT(gbc.pc(), 0x1ffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0080
        gbc.setState(0x3723, 0x6f0e, 0x9a10, 0xdda8, 0xf9b7, 0xdfe9, 0x0, 0x1);
        gbc.writeMem(0x3723, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6f0e);
        EXPECT(gbc.pc(), 0x3724);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0081
        gbc.setState(0x5e20, 0x1307, 0x2710, 0xca7b, 0xa3df, 0xbf8d, 0x1, 0x1);
        gbc.writeMem(0x5e20, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x1307);
        EXPECT(gbc.pc(), 0x5e21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0082
        gbc.setState(0xe8e1, 0x4a77, 0xb480, 0x3fa2, 0x1d9e, 0x3ce7, 0x1, 0x1);
        gbc.writeMem(0xe8e1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4a77);
        EXPECT(gbc.pc(), 0xe8e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e1), 0xb0);
        // B0 0083
        gbc.setState(0x481e, 0x8dc9, 0x3300, 0x86ca, 0x44a6, 0x18f2, 0x1, 0x0);
        gbc.writeMem(0x481e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8dc9);
        EXPECT(gbc.pc(), 0x481f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0084
        gbc.setState(0x964, 0x6e80, 0xf7c0, 0x298a, 0xdda1, 0x518c, 0x0, 0x1);
        gbc.writeMem(0x964, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6e80);
        EXPECT(gbc.pc(), 0x965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0085
        gbc.setState(0x828a, 0x2a2a, 0x5400, 0xc2d5, 0x3526, 0x9a23, 0x0, 0x1);
        gbc.writeMem(0x828a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2a2a);
        EXPECT(gbc.pc(), 0x828b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x828a), 0xb0);
        // B0 0086
        gbc.setState(0x7b7b, 0xb9b, 0xc910, 0x6fa4, 0xa64c, 0x4330, 0x0, 0x0);
        gbc.writeMem(0x7b7b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb9b);
        EXPECT(gbc.pc(), 0x7b7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0087
        gbc.setState(0x915a, 0x5cb0, 0x80d0, 0xc708, 0x8549, 0x671e, 0x0, 0x0);
        gbc.writeMem(0x915a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5cb0);
        EXPECT(gbc.pc(), 0x915b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x915a), 0xb0);
        // B0 0089
        gbc.setState(0xe446, 0xc0f7, 0x29d0, 0xa8bb, 0x9140, 0x7e57, 0x0, 0x1);
        gbc.writeMem(0xe446, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xc0f7);
        EXPECT(gbc.pc(), 0xe447);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe446), 0xb0);
        // B0 008A
        gbc.setState(0x6e0, 0x5ffb, 0xa660, 0xeec2, 0xa9bf, 0x1eb3, 0x0, 0x0);
        gbc.writeMem(0x6e0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5ffb);
        EXPECT(gbc.pc(), 0x6e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 008B
        gbc.setState(0x81f6, 0x6703, 0x3bb0, 0x6669, 0x7c79, 0x4122, 0x1, 0x0);
        gbc.writeMem(0x81f6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6703);
        EXPECT(gbc.pc(), 0x81f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f6), 0xb0);
        // B0 008C
        gbc.setState(0x452, 0xf0df, 0x8ef0, 0x37e7, 0xb721, 0x2705, 0x0, 0x1);
        gbc.writeMem(0x452, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf0df);
        EXPECT(gbc.pc(), 0x453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 008D
        gbc.setState(0x21e8, 0xe290, 0x62a0, 0xfda7, 0x9bf5, 0x5c2, 0x1, 0x0);
        gbc.writeMem(0x21e8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe290);
        EXPECT(gbc.pc(), 0x21e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 008E
        gbc.setState(0x8a8, 0xceb6, 0x2910, 0x9514, 0xf753, 0x1bbd, 0x0, 0x1);
        gbc.writeMem(0x8a8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xceb6);
        EXPECT(gbc.pc(), 0x8a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0090
        gbc.setState(0x2efe, 0x447b, 0x55f0, 0xce31, 0xa323, 0x47c9, 0x1, 0x1);
        gbc.writeMem(0x2efe, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x447b);
        EXPECT(gbc.pc(), 0x2eff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0091
        gbc.setState(0xcd1a, 0x44e2, 0xb610, 0x19a0, 0x27b9, 0xabfe, 0x1, 0x1);
        gbc.writeMem(0xcd1a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x44e2);
        EXPECT(gbc.pc(), 0xcd1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd1a), 0xb0);
        // B0 0092
        gbc.setState(0x656f, 0x7fe9, 0xb2b0, 0xa26d, 0x4b3e, 0xbec4, 0x1, 0x0);
        gbc.writeMem(0x656f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7fe9);
        EXPECT(gbc.pc(), 0x6570);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0093
        gbc.setState(0x7b83, 0x7696, 0x21d0, 0xccd8, 0x550e, 0xd26b, 0x1, 0x0);
        gbc.writeMem(0x7b83, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7696);
        EXPECT(gbc.pc(), 0x7b84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0094
        gbc.setState(0x31b7, 0x2d33, 0x6af0, 0x793b, 0xffee, 0x4772, 0x1, 0x1);
        gbc.writeMem(0x31b7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2d33);
        EXPECT(gbc.pc(), 0x31b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0095
        gbc.setState(0x76f3, 0x34d8, 0xb260, 0xf1b5, 0x6139, 0xb0af, 0x0, 0x0);
        gbc.writeMem(0x76f3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x34d8);
        EXPECT(gbc.pc(), 0x76f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0096
        gbc.setState(0x1ede, 0x3deb, 0x69b0, 0x5e9, 0x2312, 0x18fb, 0x1, 0x1);
        gbc.writeMem(0x1ede, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x3deb);
        EXPECT(gbc.pc(), 0x1edf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0097
        gbc.setState(0xc483, 0x479a, 0xf160, 0x3451, 0xd77f, 0x7b35, 0x0, 0x0);
        gbc.writeMem(0xc483, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x479a);
        EXPECT(gbc.pc(), 0xc484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc483), 0xb0);
        // B0 0098
        gbc.setState(0x44e2, 0x351e, 0x5150, 0xa5ba, 0xf8cf, 0x6cb0, 0x1, 0x1);
        gbc.writeMem(0x44e2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x351e);
        EXPECT(gbc.pc(), 0x44e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0099
        gbc.setState(0xa526, 0x32bf, 0x2060, 0x1c30, 0x9083, 0x3c92, 0x1, 0x1);
        gbc.writeMem(0xa526, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x32bf);
        EXPECT(gbc.pc(), 0xa527);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa526), 0xb0);
        // B0 009A
        gbc.setState(0x4ad2, 0xf5be, 0xe2d0, 0x9be8, 0xfbda, 0x257b, 0x0, 0x1);
        gbc.writeMem(0x4ad2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf5be);
        EXPECT(gbc.pc(), 0x4ad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 009B
        gbc.setState(0x2497, 0x9808, 0xb6f0, 0xe55f, 0x4c33, 0xc16a, 0x0, 0x0);
        gbc.writeMem(0x2497, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9808);
        EXPECT(gbc.pc(), 0x2498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 009D
        gbc.setState(0x418b, 0x366, 0x3a90, 0x4026, 0x6720, 0x3e80, 0x0, 0x1);
        gbc.writeMem(0x418b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x366);
        EXPECT(gbc.pc(), 0x418c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 009E
        gbc.setState(0x8c04, 0xb1ce, 0x54c0, 0xed0, 0x68a6, 0x66ee, 0x1, 0x1);
        gbc.writeMem(0x8c04, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb1ce);
        EXPECT(gbc.pc(), 0x8c05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c04), 0xb0);
        // B0 009F
        gbc.setState(0xad6f, 0x9512, 0x2db0, 0x659d, 0x6af6, 0x9f0a, 0x1, 0x1);
        gbc.writeMem(0xad6f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9512);
        EXPECT(gbc.pc(), 0xad70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad6f), 0xb0);
        // B0 00A0
        gbc.setState(0x5214, 0x92aa, 0x65b0, 0x9673, 0xdf27, 0x97fd, 0x1, 0x1);
        gbc.writeMem(0x5214, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x92aa);
        EXPECT(gbc.pc(), 0x5215);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00A1
        gbc.setState(0x4cf8, 0x2209, 0x18b0, 0xeba3, 0xeb78, 0x6708, 0x0, 0x0);
        gbc.writeMem(0x4cf8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2209);
        EXPECT(gbc.pc(), 0x4cf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00A2
        gbc.setState(0x8a81, 0xed40, 0x21b0, 0x66fe, 0x9821, 0x35c0, 0x0, 0x1);
        gbc.writeMem(0x8a81, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xed40);
        EXPECT(gbc.pc(), 0x8a82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a81), 0xb0);
        // B0 00A3
        gbc.setState(0x81c2, 0xd718, 0x8ba0, 0x76c, 0xc2e5, 0x9a2b, 0x1, 0x0);
        gbc.writeMem(0x81c2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd718);
        EXPECT(gbc.pc(), 0x81c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c2), 0xb0);
        // B0 00A4
        gbc.setState(0x4676, 0x75a8, 0xd530, 0x5ec4, 0x991c, 0xd785, 0x0, 0x1);
        gbc.writeMem(0x4676, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x75a8);
        EXPECT(gbc.pc(), 0x4677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00A5
        gbc.setState(0x9a91, 0xf56b, 0xdf0, 0xf1ce, 0x5728, 0x498f, 0x1, 0x1);
        gbc.writeMem(0x9a91, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf56b);
        EXPECT(gbc.pc(), 0x9a92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a91), 0xb0);
        // B0 00A6
        gbc.setState(0x824b, 0x296e, 0xdd60, 0xe5c3, 0xc862, 0xd049, 0x0, 0x1);
        gbc.writeMem(0x824b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x296e);
        EXPECT(gbc.pc(), 0x824c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x824b), 0xb0);
        // B0 00A7
        gbc.setState(0x5aef, 0xff43, 0x44d0, 0xb77d, 0x98f5, 0x76ff, 0x1, 0x0);
        gbc.writeMem(0x5aef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xff43);
        EXPECT(gbc.pc(), 0x5af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00A8
        gbc.setState(0x22f0, 0x95f9, 0x40a0, 0x8955, 0xa1c9, 0x96d2, 0x0, 0x0);
        gbc.writeMem(0x22f0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x95f9);
        EXPECT(gbc.pc(), 0x22f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00A9
        gbc.setState(0x6d65, 0x1923, 0xfd90, 0x8b6b, 0x6681, 0xccd6, 0x1, 0x1);
        gbc.writeMem(0x6d65, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1923);
        EXPECT(gbc.pc(), 0x6d66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00AA
        gbc.setState(0x8af9, 0xb8ba, 0xb120, 0xc3e2, 0x4e25, 0xa5ca, 0x1, 0x0);
        gbc.writeMem(0x8af9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb8ba);
        EXPECT(gbc.pc(), 0x8afa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8af9), 0xb0);
        // B0 00AB
        gbc.setState(0xa690, 0xe055, 0x9d0, 0x78ac, 0xc1f1, 0x3e6, 0x1, 0x1);
        gbc.writeMem(0xa690, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xe055);
        EXPECT(gbc.pc(), 0xa691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa690), 0xb0);
        // B0 00AC
        gbc.setState(0x2b2a, 0x9d33, 0xe950, 0x31db, 0x78e8, 0xef0f, 0x1, 0x0);
        gbc.writeMem(0x2b2a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x9d33);
        EXPECT(gbc.pc(), 0x2b2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00AD
        gbc.setState(0x9564, 0xe21d, 0xb6b0, 0x3729, 0xe941, 0xc8b6, 0x0, 0x0);
        gbc.writeMem(0x9564, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe21d);
        EXPECT(gbc.pc(), 0x9565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9564), 0xb0);
        // B0 00AE
        gbc.setState(0x2772, 0xd44d, 0xf070, 0xc49b, 0x4d1e, 0xb7c8, 0x1, 0x1);
        gbc.writeMem(0x2772, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd44d);
        EXPECT(gbc.pc(), 0x2773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00AF
        gbc.setState(0xacf1, 0x6f6e, 0x3340, 0x9157, 0xb611, 0xeade, 0x0, 0x1);
        gbc.writeMem(0xacf1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6f6e);
        EXPECT(gbc.pc(), 0xacf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf1), 0xb0);
        // B0 00B0
        gbc.setState(0x484d, 0xa308, 0x5c30, 0x1bff, 0x491, 0x50e, 0x1, 0x1);
        gbc.writeMem(0x484d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa308);
        EXPECT(gbc.pc(), 0x484e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B1
        gbc.setState(0x226c, 0xe462, 0x7ea0, 0x73ff, 0x5d52, 0x83d6, 0x0, 0x1);
        gbc.writeMem(0x226c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe462);
        EXPECT(gbc.pc(), 0x226d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B2
        gbc.setState(0x4729, 0x5f65, 0x5fb0, 0x4b57, 0x552b, 0x1148, 0x1, 0x1);
        gbc.writeMem(0x4729, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5f65);
        EXPECT(gbc.pc(), 0x472a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B3
        gbc.setState(0x9b6e, 0x2727, 0xedd0, 0x472a, 0x6163, 0xdee9, 0x0, 0x0);
        gbc.writeMem(0x9b6e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2727);
        EXPECT(gbc.pc(), 0x9b6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b6e), 0xb0);
        // B0 00B4
        gbc.setState(0x7ec8, 0x956f, 0x27f0, 0x35fb, 0xb1e6, 0x4550, 0x1, 0x1);
        gbc.writeMem(0x7ec8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x956f);
        EXPECT(gbc.pc(), 0x7ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B5
        gbc.setState(0x2bf, 0x6e67, 0xf980, 0xe4ce, 0x8503, 0x3d72, 0x1, 0x1);
        gbc.writeMem(0x2bf, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6e67);
        EXPECT(gbc.pc(), 0x2c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B6
        gbc.setState(0x1743, 0x1391, 0xa4b0, 0x2424, 0x1b5c, 0x7dcf, 0x0, 0x0);
        gbc.writeMem(0x1743, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1391);
        EXPECT(gbc.pc(), 0x1744);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B7
        gbc.setState(0x5861, 0x4ec3, 0x8b10, 0x2300, 0x9973, 0x294a, 0x0, 0x1);
        gbc.writeMem(0x5861, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x4ec3);
        EXPECT(gbc.pc(), 0x5862);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00B8
        gbc.setState(0x87f2, 0xabd1, 0x4900, 0x4cb2, 0xb632, 0x87e0, 0x0, 0x0);
        gbc.writeMem(0x87f2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xabd1);
        EXPECT(gbc.pc(), 0x87f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87f2), 0xb0);
        // B0 00B9
        gbc.setState(0x8cfb, 0xdb8c, 0x32a0, 0xa1cb, 0x334a, 0x8bc6, 0x1, 0x1);
        gbc.writeMem(0x8cfb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xdb8c);
        EXPECT(gbc.pc(), 0x8cfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cfb), 0xb0);
        // B0 00BA
        gbc.setState(0x8859, 0xa523, 0x3e10, 0x2e6c, 0x58b8, 0x828a, 0x1, 0x0);
        gbc.writeMem(0x8859, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa523);
        EXPECT(gbc.pc(), 0x885a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8859), 0xb0);
        // B0 00BB
        gbc.setState(0x9d, 0x9840, 0x1d50, 0xb602, 0x163f, 0x5b8e, 0x1, 0x0);
        gbc.writeMem(0x9d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9840);
        EXPECT(gbc.pc(), 0x9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00BC
        gbc.setState(0x554a, 0xcbd1, 0x7f30, 0x8c22, 0x1938, 0x6806, 0x0, 0x1);
        gbc.writeMem(0x554a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcbd1);
        EXPECT(gbc.pc(), 0x554b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00BD
        gbc.setState(0xe710, 0xcdca, 0x8000, 0x903d, 0x6693, 0x1a13, 0x1, 0x1);
        gbc.writeMem(0xe710, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xcdca);
        EXPECT(gbc.pc(), 0xe711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe710), 0xb0);
        // B0 00BE
        gbc.setState(0x16b, 0xfb75, 0x66a0, 0x6d35, 0x4140, 0x20c6, 0x0, 0x0);
        gbc.writeMem(0x16b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xfb75);
        EXPECT(gbc.pc(), 0x16c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00BF
        gbc.setState(0xcc36, 0xa34d, 0xe580, 0xcb0e, 0x5d41, 0x2702, 0x1, 0x0);
        gbc.writeMem(0xcc36, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa34d);
        EXPECT(gbc.pc(), 0xcc37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc36), 0xb0);
        // B0 00C0
        gbc.setState(0xde58, 0xeb22, 0x12f0, 0x4369, 0xed6e, 0xe56e, 0x0, 0x1);
        gbc.writeMem(0xde58, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xeb22);
        EXPECT(gbc.pc(), 0xde59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde58), 0xb0);
        // B0 00C1
        gbc.setState(0x56d4, 0x1338, 0xd370, 0xce39, 0x9066, 0x1731, 0x0, 0x0);
        gbc.writeMem(0x56d4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1338);
        EXPECT(gbc.pc(), 0x56d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00C2
        gbc.setState(0x5140, 0x53c3, 0x7cb0, 0x3677, 0xb50a, 0x9d85, 0x0, 0x0);
        gbc.writeMem(0x5140, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x53c3);
        EXPECT(gbc.pc(), 0x5141);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00C3
        gbc.setState(0x9809, 0xd1f8, 0x21c0, 0x8103, 0x8d6e, 0xcffb, 0x1, 0x1);
        gbc.writeMem(0x9809, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd1f8);
        EXPECT(gbc.pc(), 0x980a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9809), 0xb0);
        // B0 00C4
        gbc.setState(0x7b4d, 0x4000, 0x3ff0, 0xccfe, 0x4f18, 0x763f, 0x0, 0x1);
        gbc.writeMem(0x7b4d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4000);
        EXPECT(gbc.pc(), 0x7b4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00C5
        gbc.setState(0xd892, 0x243, 0x4750, 0x7341, 0x82a4, 0x4ee8, 0x0, 0x1);
        gbc.writeMem(0xd892, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x243);
        EXPECT(gbc.pc(), 0xd893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd892), 0xb0);
        // B0 00C6
        gbc.setState(0xbf8f, 0xc159, 0x6870, 0x8169, 0x4574, 0x54bb, 0x0, 0x0);
        gbc.writeMem(0xbf8f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc159);
        EXPECT(gbc.pc(), 0xbf90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf8f), 0xb0);
        // B0 00C7
        gbc.setState(0x4271, 0xdbd5, 0x7a10, 0x7132, 0x3486, 0x336c, 0x0, 0x0);
        gbc.writeMem(0x4271, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xdbd5);
        EXPECT(gbc.pc(), 0x4272);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00C8
        gbc.setState(0x6fb5, 0x8638, 0x3ba0, 0xb36e, 0xa01e, 0xce90, 0x1, 0x1);
        gbc.writeMem(0x6fb5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8638);
        EXPECT(gbc.pc(), 0x6fb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00C9
        gbc.setState(0x7668, 0x4ce5, 0xa670, 0x35b5, 0x8575, 0xd00c, 0x0, 0x0);
        gbc.writeMem(0x7668, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4ce5);
        EXPECT(gbc.pc(), 0x7669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00CA
        gbc.setState(0x1dd5, 0xe015, 0x8f40, 0xb2b8, 0x86c8, 0xcc0, 0x0, 0x1);
        gbc.writeMem(0x1dd5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe015);
        EXPECT(gbc.pc(), 0x1dd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00CB
        gbc.setState(0xb861, 0xf0bf, 0x7130, 0x140c, 0x8530, 0xf9ff, 0x1, 0x0);
        gbc.writeMem(0xb861, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf0bf);
        EXPECT(gbc.pc(), 0xb862);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb861), 0xb0);
        // B0 00CC
        gbc.setState(0x7e62, 0x302, 0x4690, 0xb1ab, 0xebd5, 0x5921, 0x0, 0x0);
        gbc.writeMem(0x7e62, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x302);
        EXPECT(gbc.pc(), 0x7e63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00CD
        gbc.setState(0xc09f, 0xb237, 0x2830, 0x4062, 0xa096, 0x834b, 0x1, 0x1);
        gbc.writeMem(0xc09f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb237);
        EXPECT(gbc.pc(), 0xc0a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc09f), 0xb0);
        // B0 00CE
        gbc.setState(0x6e29, 0xd484, 0x2c0, 0xf053, 0x5d5f, 0x1195, 0x1, 0x1);
        gbc.writeMem(0x6e29, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xd484);
        EXPECT(gbc.pc(), 0x6e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00CF
        gbc.setState(0x8b7a, 0x39f6, 0xf430, 0xf8b8, 0x6dbf, 0x284, 0x0, 0x0);
        gbc.writeMem(0x8b7a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x39f6);
        EXPECT(gbc.pc(), 0x8b7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b7a), 0xb0);
        // B0 00D0
        gbc.setState(0xe446, 0x235f, 0xc480, 0x6ebf, 0xd1b3, 0x58a1, 0x0, 0x0);
        gbc.writeMem(0xe446, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x235f);
        EXPECT(gbc.pc(), 0xe447);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe446), 0xb0);
        // B0 00D1
        gbc.setState(0x3c60, 0xbcc3, 0xc1f0, 0x707d, 0xfdd7, 0x8237, 0x1, 0x1);
        gbc.writeMem(0x3c60, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xbcc3);
        EXPECT(gbc.pc(), 0x3c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00D2
        gbc.setState(0xbf74, 0x87c, 0x4f40, 0x3caf, 0x1f69, 0x3eae, 0x1, 0x0);
        gbc.writeMem(0xbf74, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x87c);
        EXPECT(gbc.pc(), 0xbf75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf74), 0xb0);
        // B0 00D3
        gbc.setState(0xa35f, 0x480f, 0xe800, 0x34e1, 0x4c1d, 0xb7e7, 0x0, 0x1);
        gbc.writeMem(0xa35f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x480f);
        EXPECT(gbc.pc(), 0xa360);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa35f), 0xb0);
        // B0 00D4
        gbc.setState(0x560e, 0xa279, 0x1a70, 0x5fdf, 0x18d7, 0xd14c, 0x1, 0x1);
        gbc.writeMem(0x560e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa279);
        EXPECT(gbc.pc(), 0x560f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00D5
        gbc.setState(0x6e93, 0x7e87, 0x8450, 0x5ebf, 0x4843, 0x7f07, 0x1, 0x1);
        gbc.writeMem(0x6e93, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7e87);
        EXPECT(gbc.pc(), 0x6e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00D6
        gbc.setState(0x7839, 0x3848, 0x3ee0, 0x8cc4, 0x189d, 0x88b5, 0x0, 0x0);
        gbc.writeMem(0x7839, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3848);
        EXPECT(gbc.pc(), 0x783a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00D7
        gbc.setState(0x280, 0x4c29, 0x31c0, 0x5661, 0x18cc, 0x2bc2, 0x1, 0x1);
        gbc.writeMem(0x280, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4c29);
        EXPECT(gbc.pc(), 0x281);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00D8
        gbc.setState(0x254d, 0x8bf3, 0xe130, 0x9a43, 0xbcb7, 0xd8fc, 0x0, 0x0);
        gbc.writeMem(0x254d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8bf3);
        EXPECT(gbc.pc(), 0x254e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00D9
        gbc.setState(0xc7ef, 0xfff, 0x12c0, 0x2602, 0xfc73, 0xb10b, 0x1, 0x1);
        gbc.writeMem(0xc7ef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xfff);
        EXPECT(gbc.pc(), 0xc7f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ef), 0xb0);
        // B0 00DA
        gbc.setState(0x5f33, 0x5ab1, 0xfe50, 0x29a7, 0xc632, 0xfd76, 0x0, 0x1);
        gbc.writeMem(0x5f33, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5ab1);
        EXPECT(gbc.pc(), 0x5f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00DB
        gbc.setState(0x13b3, 0xc839, 0xf4c0, 0xd18e, 0x7318, 0xa56a, 0x0, 0x1);
        gbc.writeMem(0x13b3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc839);
        EXPECT(gbc.pc(), 0x13b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00DC
        gbc.setState(0x18d8, 0xcc03, 0xaa10, 0xef94, 0xe512, 0x7063, 0x0, 0x0);
        gbc.writeMem(0x18d8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xcc03);
        EXPECT(gbc.pc(), 0x18d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00DD
        gbc.setState(0x3256, 0x2df3, 0xd270, 0x9751, 0x997f, 0x20d1, 0x1, 0x1);
        gbc.writeMem(0x3256, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2df3);
        EXPECT(gbc.pc(), 0x3257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00DE
        gbc.setState(0x338b, 0x1b9e, 0x7310, 0xfaac, 0x3d07, 0x4080, 0x1, 0x1);
        gbc.writeMem(0x338b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1b9e);
        EXPECT(gbc.pc(), 0x338c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00DF
        gbc.setState(0xdf2c, 0xbc4f, 0x43c0, 0xb257, 0x870c, 0x5ef2, 0x0, 0x0);
        gbc.writeMem(0xdf2c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xbc4f);
        EXPECT(gbc.pc(), 0xdf2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf2c), 0xb0);
        // B0 00E0
        gbc.setState(0x5225, 0xe507, 0x9490, 0x28ea, 0x8bf3, 0xc613, 0x0, 0x1);
        gbc.writeMem(0x5225, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xe507);
        EXPECT(gbc.pc(), 0x5226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00E1
        gbc.setState(0x5979, 0x60b9, 0x6300, 0x48b0, 0x24ae, 0x9469, 0x1, 0x1);
        gbc.writeMem(0x5979, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x60b9);
        EXPECT(gbc.pc(), 0x597a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00E2
        gbc.setState(0xce52, 0x33b0, 0x1cb0, 0x2434, 0xa3ce, 0xccf6, 0x0, 0x1);
        gbc.writeMem(0xce52, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x33b0);
        EXPECT(gbc.pc(), 0xce53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce52), 0xb0);
        // B0 00E3
        gbc.setState(0x37b0, 0x75e4, 0xed90, 0x4c63, 0x5b51, 0x3b9f, 0x0, 0x1);
        gbc.writeMem(0x37b0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x75e4);
        EXPECT(gbc.pc(), 0x37b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00E4
        gbc.setState(0x1070, 0x54ca, 0x40e0, 0xe56b, 0x6082, 0x67ed, 0x1, 0x0);
        gbc.writeMem(0x1070, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x54ca);
        EXPECT(gbc.pc(), 0x1071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00E5
        gbc.setState(0x7502, 0xc4aa, 0xa330, 0x96a6, 0x3797, 0x22ca, 0x1, 0x1);
        gbc.writeMem(0x7502, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xc4aa);
        EXPECT(gbc.pc(), 0x7503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00E7
        gbc.setState(0xdc1d, 0x194d, 0xd340, 0x2356, 0xa1b8, 0x450b, 0x1, 0x1);
        gbc.writeMem(0xdc1d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x194d);
        EXPECT(gbc.pc(), 0xdc1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc1d), 0xb0);
        // B0 00E8
        gbc.setState(0xdf8c, 0xd379, 0xf150, 0xd878, 0x1931, 0x8843, 0x1, 0x0);
        gbc.writeMem(0xdf8c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xd379);
        EXPECT(gbc.pc(), 0xdf8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf8c), 0xb0);
        // B0 00E9
        gbc.setState(0x5d31, 0xe45, 0x5b70, 0x5fdb, 0x7931, 0x6c9d, 0x0, 0x0);
        gbc.writeMem(0x5d31, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xe45);
        EXPECT(gbc.pc(), 0x5d32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00EA
        gbc.setState(0x3ca0, 0x31f5, 0x52f0, 0xa3d2, 0xdbf2, 0xe84, 0x1, 0x1);
        gbc.writeMem(0x3ca0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x31f5);
        EXPECT(gbc.pc(), 0x3ca1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00EB
        gbc.setState(0x4edc, 0xa985, 0x8be0, 0xc654, 0x1ccb, 0xecd8, 0x0, 0x1);
        gbc.writeMem(0x4edc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa985);
        EXPECT(gbc.pc(), 0x4edd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00EC
        gbc.setState(0x3b2a, 0xef92, 0xad80, 0xc24f, 0x6cf6, 0xd9bc, 0x0, 0x0);
        gbc.writeMem(0x3b2a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xef92);
        EXPECT(gbc.pc(), 0x3b2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00ED
        gbc.setState(0x55e0, 0xfbf2, 0x8430, 0x44f, 0xe64c, 0xf648, 0x1, 0x1);
        gbc.writeMem(0x55e0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xfbf2);
        EXPECT(gbc.pc(), 0x55e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00EE
        gbc.setState(0x82e2, 0x2c25, 0x7020, 0x2bb0, 0x4ce1, 0x32bf, 0x1, 0x0);
        gbc.writeMem(0x82e2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2c25);
        EXPECT(gbc.pc(), 0x82e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82e2), 0xb0);
        // B0 00EF
        gbc.setState(0x3af5, 0x1de4, 0xb90, 0x6a3e, 0x963e, 0xcb92, 0x0, 0x0);
        gbc.writeMem(0x3af5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1de4);
        EXPECT(gbc.pc(), 0x3af6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F0
        gbc.setState(0x2b5d, 0x3626, 0xc6b0, 0x42a6, 0xb1a9, 0xef9e, 0x1, 0x0);
        gbc.writeMem(0x2b5d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3626);
        EXPECT(gbc.pc(), 0x2b5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F1
        gbc.setState(0x24b8, 0x6477, 0xa240, 0x7d5d, 0xb058, 0xb965, 0x0, 0x1);
        gbc.writeMem(0x24b8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x6477);
        EXPECT(gbc.pc(), 0x24b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F2
        gbc.setState(0x18aa, 0xd9ff, 0x39e0, 0xb20, 0x57bc, 0x90f0, 0x0, 0x1);
        gbc.writeMem(0x18aa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd9ff);
        EXPECT(gbc.pc(), 0x18ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F3
        gbc.setState(0xd6b, 0xf9e7, 0x16a0, 0xcd83, 0x16d8, 0x67e0, 0x1, 0x1);
        gbc.writeMem(0xd6b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf9e7);
        EXPECT(gbc.pc(), 0xd6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F4
        gbc.setState(0x4af5, 0x8657, 0xd710, 0x9ae, 0x2a55, 0x9e6a, 0x0, 0x0);
        gbc.writeMem(0x4af5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x8657);
        EXPECT(gbc.pc(), 0x4af6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F6
        gbc.setState(0xd12a, 0x33b9, 0xa4a0, 0x438e, 0xecba, 0xc27d, 0x1, 0x1);
        gbc.writeMem(0xd12a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x33b9);
        EXPECT(gbc.pc(), 0xd12b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12a), 0xb0);
        // B0 00F7
        gbc.setState(0x82fa, 0x193e, 0x4120, 0x8eff, 0xcf39, 0x4112, 0x1, 0x1);
        gbc.writeMem(0x82fa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x193e);
        EXPECT(gbc.pc(), 0x82fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82fa), 0xb0);
        // B0 00F8
        gbc.setState(0x32e0, 0x9bf9, 0x4370, 0x1edf, 0x37ca, 0x4158, 0x1, 0x0);
        gbc.writeMem(0x32e0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9bf9);
        EXPECT(gbc.pc(), 0x32e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00F9
        gbc.setState(0x3d13, 0xa1d1, 0xee70, 0x2845, 0xb8a0, 0x702f, 0x1, 0x0);
        gbc.writeMem(0x3d13, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa1d1);
        EXPECT(gbc.pc(), 0x3d14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00FA
        gbc.setState(0x9f0, 0x7da9, 0x660, 0xa3b1, 0x7ba0, 0xbda5, 0x0, 0x1);
        gbc.writeMem(0x9f0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7da9);
        EXPECT(gbc.pc(), 0x9f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00FB
        gbc.setState(0x40e6, 0x3f22, 0xa420, 0x2366, 0x2ed1, 0x645c, 0x1, 0x1);
        gbc.writeMem(0x40e6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3f22);
        EXPECT(gbc.pc(), 0x40e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00FC
        gbc.setState(0x5ca7, 0x62c4, 0xf5c0, 0xabf3, 0x98d0, 0xac6d, 0x0, 0x0);
        gbc.writeMem(0x5ca7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x62c4);
        EXPECT(gbc.pc(), 0x5ca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 00FD
        gbc.setState(0xed33, 0x129, 0x4f60, 0x3c45, 0x4f5d, 0x9563, 0x1, 0x1);
        gbc.writeMem(0xed33, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x129);
        EXPECT(gbc.pc(), 0xed34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed33), 0xb0);
        // B0 00FE
        gbc.setState(0xc793, 0x115f, 0xae50, 0x6da4, 0xd591, 0xf17c, 0x1, 0x0);
        gbc.writeMem(0xc793, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x115f);
        EXPECT(gbc.pc(), 0xc794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc793), 0xb0);
        // B0 00FF
        gbc.setState(0x34e7, 0x401, 0x7e70, 0xfbd4, 0x625b, 0xbcfe, 0x1, 0x0);
        gbc.writeMem(0x34e7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x401);
        EXPECT(gbc.pc(), 0x34e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0100
        gbc.setState(0xe929, 0x1c4, 0x3940, 0x7f39, 0x3b93, 0xb509, 0x1, 0x1);
        gbc.writeMem(0xe929, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1c4);
        EXPECT(gbc.pc(), 0xe92a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe929), 0xb0);
        // B0 0101
        gbc.setState(0x4ce8, 0x44de, 0x5880, 0x2e7a, 0x47d, 0x7acf, 0x0, 0x1);
        gbc.writeMem(0x4ce8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x44de);
        EXPECT(gbc.pc(), 0x4ce9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0102
        gbc.setState(0xc2c1, 0x1f09, 0x53c0, 0x7d88, 0x9e5e, 0x5e5f, 0x0, 0x1);
        gbc.writeMem(0xc2c1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1f09);
        EXPECT(gbc.pc(), 0xc2c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c1), 0xb0);
        // B0 0103
        gbc.setState(0x15a4, 0x3f0b, 0xaa20, 0xe708, 0x3d72, 0x7429, 0x0, 0x1);
        gbc.writeMem(0x15a4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3f0b);
        EXPECT(gbc.pc(), 0x15a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0104
        gbc.setState(0x73e4, 0x634e, 0x3050, 0x3155, 0xdaa8, 0xa796, 0x0, 0x0);
        gbc.writeMem(0x73e4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x634e);
        EXPECT(gbc.pc(), 0x73e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0105
        gbc.setState(0x2295, 0x4ec1, 0xcc40, 0x415f, 0x87bd, 0x1d41, 0x1, 0x0);
        gbc.writeMem(0x2295, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4ec1);
        EXPECT(gbc.pc(), 0x2296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0106
        gbc.setState(0x3b64, 0x95c3, 0xf800, 0x5114, 0x4c6d, 0x7b38, 0x0, 0x1);
        gbc.writeMem(0x3b64, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x95c3);
        EXPECT(gbc.pc(), 0x3b65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0107
        gbc.setState(0x59c8, 0x4672, 0x7ab0, 0x536d, 0xf214, 0x1d9c, 0x1, 0x1);
        gbc.writeMem(0x59c8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4672);
        EXPECT(gbc.pc(), 0x59c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0108
        gbc.setState(0x90e1, 0x30ff, 0x2e40, 0x4158, 0x9507, 0xae4a, 0x0, 0x0);
        gbc.writeMem(0x90e1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x30ff);
        EXPECT(gbc.pc(), 0x90e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e1), 0xb0);
        // B0 0109
        gbc.setState(0x284c, 0x88d2, 0xd310, 0x1c79, 0xf61a, 0xa8a2, 0x1, 0x1);
        gbc.writeMem(0x284c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x88d2);
        EXPECT(gbc.pc(), 0x284d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 010A
        gbc.setState(0x8f08, 0xfdd0, 0xdec0, 0x92cc, 0x4113, 0x47c3, 0x1, 0x0);
        gbc.writeMem(0x8f08, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xfdd0);
        EXPECT(gbc.pc(), 0x8f09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f08), 0xb0);
        // B0 010B
        gbc.setState(0x4cc5, 0x260b, 0x50a0, 0x9a92, 0x950e, 0xc283, 0x1, 0x0);
        gbc.writeMem(0x4cc5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x260b);
        EXPECT(gbc.pc(), 0x4cc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 010D
        gbc.setState(0xd03e, 0xc961, 0x3050, 0x556a, 0x67f0, 0x5f0d, 0x0, 0x1);
        gbc.writeMem(0xd03e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc961);
        EXPECT(gbc.pc(), 0xd03f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd03e), 0xb0);
        // B0 010E
        gbc.setState(0x9067, 0x8c58, 0x18f0, 0x6f, 0xb6d9, 0xab12, 0x1, 0x0);
        gbc.writeMem(0x9067, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8c58);
        EXPECT(gbc.pc(), 0x9068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9067), 0xb0);
        // B0 010F
        gbc.setState(0x5f0b, 0x4a16, 0x7120, 0x269b, 0xcfca, 0xf7ed, 0x0, 0x1);
        gbc.writeMem(0x5f0b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4a16);
        EXPECT(gbc.pc(), 0x5f0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0110
        gbc.setState(0x6e4e, 0x427d, 0x99e0, 0x1501, 0x403b, 0xda6a, 0x1, 0x1);
        gbc.writeMem(0x6e4e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x427d);
        EXPECT(gbc.pc(), 0x6e4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0111
        gbc.setState(0x4afa, 0x4fc3, 0x73e0, 0x545f, 0x5990, 0xf71e, 0x0, 0x0);
        gbc.writeMem(0x4afa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4fc3);
        EXPECT(gbc.pc(), 0x4afb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0112
        gbc.setState(0x4245, 0x97b, 0x9c30, 0xe4f3, 0x34ad, 0xe299, 0x1, 0x0);
        gbc.writeMem(0x4245, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x97b);
        EXPECT(gbc.pc(), 0x4246);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0114
        gbc.setState(0xd130, 0x977d, 0x6d00, 0x4ee9, 0xe6ca, 0x2909, 0x0, 0x0);
        gbc.writeMem(0xd130, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x977d);
        EXPECT(gbc.pc(), 0xd131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd130), 0xb0);
        // B0 0115
        gbc.setState(0x793a, 0x32ab, 0xcdf0, 0xcb6c, 0x5591, 0x85d0, 0x0, 0x1);
        gbc.writeMem(0x793a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x32ab);
        EXPECT(gbc.pc(), 0x793b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0116
        gbc.setState(0x3622, 0x9254, 0xc6d0, 0x89d3, 0xb680, 0x10d5, 0x1, 0x1);
        gbc.writeMem(0x3622, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9254);
        EXPECT(gbc.pc(), 0x3623);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0117
        gbc.setState(0x9dbd, 0x888e, 0x75a0, 0x5597, 0x64a1, 0xbff4, 0x0, 0x0);
        gbc.writeMem(0x9dbd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x888e);
        EXPECT(gbc.pc(), 0x9dbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dbd), 0xb0);
        // B0 0118
        gbc.setState(0x24ce, 0x3a9f, 0x17c0, 0x5b62, 0x5e19, 0x7dd9, 0x1, 0x0);
        gbc.writeMem(0x24ce, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3a9f);
        EXPECT(gbc.pc(), 0x24cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0119
        gbc.setState(0xa23e, 0x11f4, 0xb2c0, 0xa8e8, 0x2adc, 0x36fb, 0x0, 0x0);
        gbc.writeMem(0xa23e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x11f4);
        EXPECT(gbc.pc(), 0xa23f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa23e), 0xb0);
        // B0 011A
        gbc.setState(0xc9ca, 0x932d, 0x1ae0, 0x25d6, 0x7210, 0x693e, 0x1, 0x0);
        gbc.writeMem(0xc9ca, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x932d);
        EXPECT(gbc.pc(), 0xc9cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ca), 0xb0);
        // B0 011B
        gbc.setState(0x3799, 0x9321, 0x2800, 0x6052, 0x873f, 0x38cf, 0x0, 0x1);
        gbc.writeMem(0x3799, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9321);
        EXPECT(gbc.pc(), 0x379a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 011C
        gbc.setState(0x4d8f, 0x5bf0, 0x9e40, 0xf6c5, 0xed0e, 0x83de, 0x0, 0x1);
        gbc.writeMem(0x4d8f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5bf0);
        EXPECT(gbc.pc(), 0x4d90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 011D
        gbc.setState(0x7f7b, 0x227b, 0x8860, 0xde65, 0x79a7, 0xa0ac, 0x1, 0x0);
        gbc.writeMem(0x7f7b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x227b);
        EXPECT(gbc.pc(), 0x7f7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 011E
        gbc.setState(0x504e, 0x1d22, 0xfdf0, 0x95b2, 0x775a, 0x4c05, 0x1, 0x0);
        gbc.writeMem(0x504e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x1d22);
        EXPECT(gbc.pc(), 0x504f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 011F
        gbc.setState(0x81c1, 0x3fe0, 0xadf0, 0x7a10, 0xeae, 0x505a, 0x0, 0x0);
        gbc.writeMem(0x81c1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x3fe0);
        EXPECT(gbc.pc(), 0x81c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c1), 0xb0);
        // B0 0120
        gbc.setState(0xf41, 0x67f5, 0x91d0, 0x6a6b, 0x73e9, 0xcaab, 0x0, 0x1);
        gbc.writeMem(0xf41, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x67f5);
        EXPECT(gbc.pc(), 0xf42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0121
        gbc.setState(0xa93f, 0x9c42, 0xb7a0, 0xa4b3, 0xff01, 0xae65, 0x0, 0x1);
        gbc.writeMem(0xa93f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9c42);
        EXPECT(gbc.pc(), 0xa940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa93f), 0xb0);
        // B0 0122
        gbc.setState(0x779b, 0xc828, 0xac70, 0xd22f, 0xbb44, 0xedd2, 0x0, 0x1);
        gbc.writeMem(0x779b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc828);
        EXPECT(gbc.pc(), 0x779c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0123
        gbc.setState(0x8e83, 0x2bb5, 0xba90, 0xa7d7, 0x51c0, 0xbf71, 0x1, 0x1);
        gbc.writeMem(0x8e83, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2bb5);
        EXPECT(gbc.pc(), 0x8e84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e83), 0xb0);
        // B0 0124
        gbc.setState(0x696f, 0xb47e, 0x4360, 0x3d34, 0xe030, 0x21fd, 0x0, 0x1);
        gbc.writeMem(0x696f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb47e);
        EXPECT(gbc.pc(), 0x6970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0125
        gbc.setState(0x2f8f, 0x692, 0x1210, 0x5824, 0x77df, 0x3be3, 0x0, 0x0);
        gbc.writeMem(0x2f8f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x692);
        EXPECT(gbc.pc(), 0x2f90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0127
        gbc.setState(0x525, 0x40c1, 0x7110, 0x3008, 0xa616, 0x68f0, 0x1, 0x1);
        gbc.writeMem(0x525, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x40c1);
        EXPECT(gbc.pc(), 0x526);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0128
        gbc.setState(0xafa9, 0xe3d0, 0x4b90, 0xff37, 0xcb56, 0xa64e, 0x0, 0x1);
        gbc.writeMem(0xafa9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe3d0);
        EXPECT(gbc.pc(), 0xafaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa9), 0xb0);
        // B0 0129
        gbc.setState(0x93e, 0xee05, 0xe3b0, 0x9127, 0xd5a5, 0x39af, 0x1, 0x0);
        gbc.writeMem(0x93e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xee05);
        EXPECT(gbc.pc(), 0x93f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 012A
        gbc.setState(0x24bc, 0xa04f, 0xdfa0, 0xa043, 0xa9c0, 0x4956, 0x0, 0x1);
        gbc.writeMem(0x24bc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xa04f);
        EXPECT(gbc.pc(), 0x24bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 012B
        gbc.setState(0xe3c7, 0x117, 0xcea0, 0xbbb4, 0x4f7e, 0xfe47, 0x1, 0x1);
        gbc.writeMem(0xe3c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x117);
        EXPECT(gbc.pc(), 0xe3c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3c7), 0xb0);
        // B0 012C
        gbc.setState(0x7b6c, 0xef77, 0x3f40, 0x3e91, 0x1914, 0xd9e9, 0x0, 0x1);
        gbc.writeMem(0x7b6c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xef77);
        EXPECT(gbc.pc(), 0x7b6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 012D
        gbc.setState(0xef35, 0x9b5b, 0xc8e0, 0x73d1, 0xfd04, 0x4054, 0x1, 0x1);
        gbc.writeMem(0xef35, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9b5b);
        EXPECT(gbc.pc(), 0xef36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef35), 0xb0);
        // B0 012E
        gbc.setState(0x62a, 0x7a53, 0xc1b0, 0x62a7, 0x44ba, 0xa7a8, 0x0, 0x1);
        gbc.writeMem(0x62a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7a53);
        EXPECT(gbc.pc(), 0x62b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 012F
        gbc.setState(0x6c76, 0x29b1, 0x3780, 0x6b4c, 0x1cdd, 0x993f, 0x0, 0x1);
        gbc.writeMem(0x6c76, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x29b1);
        EXPECT(gbc.pc(), 0x6c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0130
        gbc.setState(0x68a3, 0x1fc, 0xb770, 0xeadd, 0xe405, 0xaa9d, 0x1, 0x0);
        gbc.writeMem(0x68a3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x1fc);
        EXPECT(gbc.pc(), 0x68a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0131
        gbc.setState(0xe4ae, 0xdb73, 0xc8b0, 0x1001, 0xbb02, 0xad52, 0x1, 0x1);
        gbc.writeMem(0xe4ae, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xdb73);
        EXPECT(gbc.pc(), 0xe4af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4ae), 0xb0);
        // B0 0132
        gbc.setState(0x1c7b, 0x9c33, 0xd5b0, 0x89f8, 0x727f, 0xdc76, 0x0, 0x0);
        gbc.writeMem(0x1c7b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9c33);
        EXPECT(gbc.pc(), 0x1c7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0133
        gbc.setState(0x92c4, 0xab08, 0x1430, 0xe7ef, 0x17e2, 0x7e46, 0x1, 0x1);
        gbc.writeMem(0x92c4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xab08);
        EXPECT(gbc.pc(), 0x92c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92c4), 0xb0);
        // B0 0134
        gbc.setState(0x9b3d, 0x589e, 0x6960, 0xa146, 0x8e38, 0xa5fc, 0x0, 0x0);
        gbc.writeMem(0x9b3d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x589e);
        EXPECT(gbc.pc(), 0x9b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b3d), 0xb0);
        // B0 0135
        gbc.setState(0x6c64, 0x9160, 0x5320, 0x1084, 0x6aee, 0x5f19, 0x1, 0x1);
        gbc.writeMem(0x6c64, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9160);
        EXPECT(gbc.pc(), 0x6c65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0136
        gbc.setState(0x9cd2, 0xa576, 0x4500, 0x55ef, 0xc6ad, 0xd981, 0x1, 0x0);
        gbc.writeMem(0x9cd2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa576);
        EXPECT(gbc.pc(), 0x9cd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cd2), 0xb0);
        // B0 0138
        gbc.setState(0x20e0, 0x6848, 0xeac0, 0x14b3, 0x315d, 0x3d18, 0x0, 0x0);
        gbc.writeMem(0x20e0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6848);
        EXPECT(gbc.pc(), 0x20e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 013A
        gbc.setState(0x4867, 0x2466, 0x1f90, 0xa4df, 0x441d, 0x4634, 0x0, 0x0);
        gbc.writeMem(0x4867, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x2466);
        EXPECT(gbc.pc(), 0x4868);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 013B
        gbc.setState(0x7c07, 0x354, 0x6f70, 0x79f7, 0xedd5, 0x2480, 0x1, 0x1);
        gbc.writeMem(0x7c07, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x354);
        EXPECT(gbc.pc(), 0x7c08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 013C
        gbc.setState(0x77aa, 0x8feb, 0xdc0, 0xd5eb, 0xa250, 0xd1cd, 0x0, 0x1);
        gbc.writeMem(0x77aa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x8feb);
        EXPECT(gbc.pc(), 0x77ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 013D
        gbc.setState(0x1950, 0xfd51, 0xd040, 0x719f, 0xdb9c, 0xc74d, 0x1, 0x1);
        gbc.writeMem(0x1950, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xfd51);
        EXPECT(gbc.pc(), 0x1951);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 013E
        gbc.setState(0xd10c, 0x655e, 0x3290, 0x3beb, 0x837b, 0x9ec4, 0x1, 0x1);
        gbc.writeMem(0xd10c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x655e);
        EXPECT(gbc.pc(), 0xd10d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd10c), 0xb0);
        // B0 013F
        gbc.setState(0x8eba, 0x8511, 0xe410, 0xe701, 0xa45a, 0x2314, 0x0, 0x1);
        gbc.writeMem(0x8eba, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8511);
        EXPECT(gbc.pc(), 0x8ebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eba), 0xb0);
        // B0 0140
        gbc.setState(0xb3c1, 0x5576, 0x57d0, 0xbf83, 0x642b, 0xeab7, 0x0, 0x0);
        gbc.writeMem(0xb3c1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x5576);
        EXPECT(gbc.pc(), 0xb3c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3c1), 0xb0);
        // B0 0141
        gbc.setState(0xb00, 0x175, 0x36d0, 0x62f1, 0x5645, 0xe059, 0x1, 0x0);
        gbc.writeMem(0xb00, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x175);
        EXPECT(gbc.pc(), 0xb01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0142
        gbc.setState(0x8690, 0x3448, 0x5200, 0x969a, 0xc168, 0x4565, 0x0, 0x1);
        gbc.writeMem(0x8690, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3448);
        EXPECT(gbc.pc(), 0x8691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8690), 0xb0);
        // B0 0143
        gbc.setState(0x512b, 0xa5ba, 0xd5c0, 0xdb5d, 0xd740, 0x7f41, 0x1, 0x1);
        gbc.writeMem(0x512b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa5ba);
        EXPECT(gbc.pc(), 0x512c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0144
        gbc.setState(0xd47a, 0x5df, 0xda30, 0x9d27, 0xd850, 0xfe49, 0x0, 0x1);
        gbc.writeMem(0xd47a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5df);
        EXPECT(gbc.pc(), 0xd47b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd47a), 0xb0);
        // B0 0145
        gbc.setState(0xc01e, 0x7ea3, 0x9040, 0xdfc2, 0xae6a, 0x4773, 0x0, 0x1);
        gbc.writeMem(0xc01e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x7ea3);
        EXPECT(gbc.pc(), 0xc01f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc01e), 0xb0);
        // B0 0146
        gbc.setState(0xa43f, 0x9129, 0xc050, 0x4730, 0xb210, 0x8ca5, 0x1, 0x1);
        gbc.writeMem(0xa43f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x9129);
        EXPECT(gbc.pc(), 0xa440);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa43f), 0xb0);
        // B0 0147
        gbc.setState(0x9f66, 0x50e6, 0xe290, 0x6785, 0x426d, 0x6c5, 0x0, 0x0);
        gbc.writeMem(0x9f66, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x50e6);
        EXPECT(gbc.pc(), 0x9f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f66), 0xb0);
        // B0 0148
        gbc.setState(0xe664, 0x2f92, 0xe0b0, 0xa823, 0x902f, 0x27fa, 0x0, 0x1);
        gbc.writeMem(0xe664, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2f92);
        EXPECT(gbc.pc(), 0xe665);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe664), 0xb0);
        // B0 0149
        gbc.setState(0xba37, 0x541, 0x34a0, 0x7584, 0xd699, 0xe834, 0x0, 0x0);
        gbc.writeMem(0xba37, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x541);
        EXPECT(gbc.pc(), 0xba38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba37), 0xb0);
        // B0 014A
        gbc.setState(0xccc3, 0x60db, 0xe9f0, 0xb474, 0xb7b7, 0x35f, 0x1, 0x1);
        gbc.writeMem(0xccc3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x60db);
        EXPECT(gbc.pc(), 0xccc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccc3), 0xb0);
        // B0 014B
        gbc.setState(0xc1ab, 0x6b48, 0xc6f0, 0x5ad2, 0xd8b1, 0xd039, 0x0, 0x0);
        gbc.writeMem(0xc1ab, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6b48);
        EXPECT(gbc.pc(), 0xc1ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1ab), 0xb0);
        // B0 014C
        gbc.setState(0x99bd, 0x3fe0, 0x5c10, 0x88ff, 0x40cb, 0x7ed1, 0x1, 0x0);
        gbc.writeMem(0x99bd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3fe0);
        EXPECT(gbc.pc(), 0x99be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99bd), 0xb0);
        // B0 014D
        gbc.setState(0x4500, 0x828e, 0x15b0, 0xed99, 0x891d, 0xf9c6, 0x1, 0x0);
        gbc.writeMem(0x4500, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x828e);
        EXPECT(gbc.pc(), 0x4501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 014E
        gbc.setState(0x4283, 0x9994, 0x3460, 0x6840, 0x7c66, 0x5767, 0x0, 0x1);
        gbc.writeMem(0x4283, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x9994);
        EXPECT(gbc.pc(), 0x4284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 014F
        gbc.setState(0xec23, 0x71a9, 0x78e0, 0x81fa, 0xec49, 0x9b31, 0x1, 0x1);
        gbc.writeMem(0xec23, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x71a9);
        EXPECT(gbc.pc(), 0xec24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec23), 0xb0);
        // B0 0150
        gbc.setState(0x7fd3, 0xf385, 0xc1c0, 0x88ed, 0xa229, 0xab9e, 0x0, 0x1);
        gbc.writeMem(0x7fd3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xf385);
        EXPECT(gbc.pc(), 0x7fd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0151
        gbc.setState(0x5159, 0xfe3b, 0xb6d0, 0xc6ad, 0xcc16, 0x613e, 0x1, 0x0);
        gbc.writeMem(0x5159, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xfe3b);
        EXPECT(gbc.pc(), 0x515a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0152
        gbc.setState(0xa4b1, 0xb192, 0xfc30, 0xec4c, 0x6983, 0x2557, 0x1, 0x1);
        gbc.writeMem(0xa4b1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb192);
        EXPECT(gbc.pc(), 0xa4b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4b1), 0xb0);
        // B0 0153
        gbc.setState(0xaf87, 0xc90e, 0xd440, 0x840d, 0x378, 0x8701, 0x1, 0x1);
        gbc.writeMem(0xaf87, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc90e);
        EXPECT(gbc.pc(), 0xaf88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf87), 0xb0);
        // B0 0154
        gbc.setState(0x2bc8, 0xd940, 0x6bb0, 0x78be, 0x5216, 0x220a, 0x1, 0x0);
        gbc.writeMem(0x2bc8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd940);
        EXPECT(gbc.pc(), 0x2bc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0156
        gbc.setState(0xc730, 0xac7d, 0xf1d0, 0x4d82, 0x3d0e, 0x34ae, 0x1, 0x1);
        gbc.writeMem(0xc730, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xac7d);
        EXPECT(gbc.pc(), 0xc731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc730), 0xb0);
        // B0 0157
        gbc.setState(0xcaa7, 0x5d5c, 0xb090, 0x2064, 0xb42b, 0xc87a, 0x1, 0x1);
        gbc.writeMem(0xcaa7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5d5c);
        EXPECT(gbc.pc(), 0xcaa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaa7), 0xb0);
        // B0 0158
        gbc.setState(0x7496, 0xfd9d, 0xac20, 0x322c, 0xb572, 0xaf6d, 0x0, 0x1);
        gbc.writeMem(0x7496, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xfd9d);
        EXPECT(gbc.pc(), 0x7497);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0159
        gbc.setState(0x8ca9, 0x4163, 0x2760, 0x4f5e, 0xb08c, 0xf4d9, 0x0, 0x0);
        gbc.writeMem(0x8ca9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4163);
        EXPECT(gbc.pc(), 0x8caa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca9), 0xb0);
        // B0 015A
        gbc.setState(0x2715, 0xa4ae, 0xb760, 0x54be, 0x89e4, 0x5946, 0x1, 0x0);
        gbc.writeMem(0x2715, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa4ae);
        EXPECT(gbc.pc(), 0x2716);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 015B
        gbc.setState(0xb0, 0x1afa, 0x34d0, 0x3cb8, 0x5d42, 0x4c80, 0x1, 0x0);
        gbc.writeMem(0xb0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1afa);
        EXPECT(gbc.pc(), 0xb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 015C
        gbc.setState(0x72cf, 0x3fad, 0x8960, 0x6856, 0xfb0b, 0x1499, 0x1, 0x0);
        gbc.writeMem(0x72cf, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3fad);
        EXPECT(gbc.pc(), 0x72d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 015E
        gbc.setState(0x1e43, 0xf0ed, 0x5f30, 0x315c, 0x5993, 0x6e75, 0x1, 0x0);
        gbc.writeMem(0x1e43, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf0ed);
        EXPECT(gbc.pc(), 0x1e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 015F
        gbc.setState(0x8d99, 0x998b, 0x1010, 0xe698, 0xee96, 0x3405, 0x0, 0x0);
        gbc.writeMem(0x8d99, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x998b);
        EXPECT(gbc.pc(), 0x8d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d99), 0xb0);
        // B0 0160
        gbc.setState(0xe06f, 0xe032, 0xecf0, 0x4883, 0xcbf2, 0x1146, 0x0, 0x0);
        gbc.writeMem(0xe06f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe032);
        EXPECT(gbc.pc(), 0xe070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe06f), 0xb0);
        // B0 0161
        gbc.setState(0x35f9, 0x27c6, 0xba0, 0xe584, 0xb265, 0x248, 0x1, 0x0);
        gbc.writeMem(0x35f9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x27c6);
        EXPECT(gbc.pc(), 0x35fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0162
        gbc.setState(0xe0ab, 0x151a, 0x7c30, 0x52e2, 0x4917, 0x2db0, 0x0, 0x1);
        gbc.writeMem(0xe0ab, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x151a);
        EXPECT(gbc.pc(), 0xe0ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0ab), 0xb0);
        // B0 0163
        gbc.setState(0x5d15, 0x75ca, 0x1a70, 0xc9cc, 0x8303, 0xee67, 0x0, 0x0);
        gbc.writeMem(0x5d15, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x75ca);
        EXPECT(gbc.pc(), 0x5d16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0164
        gbc.setState(0x738e, 0x50a2, 0x6940, 0x77c0, 0xc8f3, 0xfe4b, 0x0, 0x1);
        gbc.writeMem(0x738e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x50a2);
        EXPECT(gbc.pc(), 0x738f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0165
        gbc.setState(0x87b4, 0x1c44, 0x5be0, 0x290b, 0xb7d1, 0x36d2, 0x1, 0x0);
        gbc.writeMem(0x87b4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1c44);
        EXPECT(gbc.pc(), 0x87b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87b4), 0xb0);
        // B0 0166
        gbc.setState(0xdb6c, 0x432b, 0x3aa0, 0xd014, 0xa59e, 0x557d, 0x1, 0x1);
        gbc.writeMem(0xdb6c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x432b);
        EXPECT(gbc.pc(), 0xdb6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb6c), 0xb0);
        // B0 0167
        gbc.setState(0x4ec8, 0x5fa4, 0xcb50, 0x777d, 0x8079, 0x759c, 0x1, 0x1);
        gbc.writeMem(0x4ec8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x5fa4);
        EXPECT(gbc.pc(), 0x4ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0168
        gbc.setState(0xef11, 0x7678, 0xf5b0, 0x82b, 0xc26, 0x8901, 0x1, 0x0);
        gbc.writeMem(0xef11, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7678);
        EXPECT(gbc.pc(), 0xef12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef11), 0xb0);
        // B0 0169
        gbc.setState(0x7c6f, 0x7ce5, 0x8690, 0x9123, 0x24d7, 0xa316, 0x1, 0x1);
        gbc.writeMem(0x7c6f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7ce5);
        EXPECT(gbc.pc(), 0x7c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 016A
        gbc.setState(0xd497, 0x96bc, 0x7420, 0x9269, 0x1f4e, 0xddbb, 0x0, 0x1);
        gbc.writeMem(0xd497, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x96bc);
        EXPECT(gbc.pc(), 0xd498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd497), 0xb0);
        // B0 016B
        gbc.setState(0xee96, 0x2f4a, 0x1b80, 0xe311, 0x907c, 0xf803, 0x1, 0x0);
        gbc.writeMem(0xee96, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2f4a);
        EXPECT(gbc.pc(), 0xee97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee96), 0xb0);
        // B0 016C
        gbc.setState(0x4e02, 0xc810, 0x5f90, 0x1160, 0x8c91, 0xd090, 0x1, 0x0);
        gbc.writeMem(0x4e02, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc810);
        EXPECT(gbc.pc(), 0x4e03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 016D
        gbc.setState(0xa37d, 0x147d, 0x3750, 0x7780, 0xb8c3, 0x14c2, 0x0, 0x1);
        gbc.writeMem(0xa37d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x147d);
        EXPECT(gbc.pc(), 0xa37e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa37d), 0xb0);
        // B0 016E
        gbc.setState(0xe057, 0x7687, 0x8b40, 0x399f, 0xff76, 0xf59, 0x1, 0x0);
        gbc.writeMem(0xe057, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x7687);
        EXPECT(gbc.pc(), 0xe058);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe057), 0xb0);
        // B0 016F
        gbc.setState(0x3cc4, 0x6d10, 0x68c0, 0x6038, 0x67fd, 0x409b, 0x1, 0x0);
        gbc.writeMem(0x3cc4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6d10);
        EXPECT(gbc.pc(), 0x3cc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0170
        gbc.setState(0xef2b, 0xe4c, 0xc130, 0x597e, 0xb864, 0x5b67, 0x1, 0x0);
        gbc.writeMem(0xef2b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xe4c);
        EXPECT(gbc.pc(), 0xef2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef2b), 0xb0);
        // B0 0171
        gbc.setState(0x2101, 0x4ea7, 0x24c0, 0x7134, 0x5302, 0xbfc4, 0x1, 0x1);
        gbc.writeMem(0x2101, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x4ea7);
        EXPECT(gbc.pc(), 0x2102);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0172
        gbc.setState(0x8b7b, 0xc7dc, 0xd280, 0x5fe2, 0xaa8d, 0xed9a, 0x0, 0x0);
        gbc.writeMem(0x8b7b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc7dc);
        EXPECT(gbc.pc(), 0x8b7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b7b), 0xb0);
        // B0 0173
        gbc.setState(0x6664, 0xd080, 0xe4e0, 0xe990, 0x4af3, 0x68ef, 0x1, 0x1);
        gbc.writeMem(0x6664, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd080);
        EXPECT(gbc.pc(), 0x6665);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0174
        gbc.setState(0x4b03, 0xedf, 0x4380, 0x3d4f, 0x3923, 0x81cc, 0x1, 0x1);
        gbc.writeMem(0x4b03, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xedf);
        EXPECT(gbc.pc(), 0x4b04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0175
        gbc.setState(0xaf48, 0x8da5, 0x1c30, 0xa99b, 0x9bb3, 0x3993, 0x1, 0x1);
        gbc.writeMem(0xaf48, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8da5);
        EXPECT(gbc.pc(), 0xaf49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf48), 0xb0);
        // B0 0176
        gbc.setState(0x1af7, 0xcd9b, 0x4730, 0x214d, 0xad02, 0x626f, 0x0, 0x0);
        gbc.writeMem(0x1af7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcd9b);
        EXPECT(gbc.pc(), 0x1af8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0177
        gbc.setState(0x9942, 0x6207, 0x5e90, 0x75f7, 0x4b5, 0xe0aa, 0x0, 0x0);
        gbc.writeMem(0x9942, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x6207);
        EXPECT(gbc.pc(), 0x9943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9942), 0xb0);
        // B0 0178
        gbc.setState(0x6ef4, 0x6248, 0x8250, 0xc94b, 0x7c52, 0x1478, 0x0, 0x1);
        gbc.writeMem(0x6ef4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x6248);
        EXPECT(gbc.pc(), 0x6ef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0179
        gbc.setState(0xa0e, 0xc7e6, 0xb040, 0xa8af, 0xb8b5, 0xc71d, 0x0, 0x0);
        gbc.writeMem(0xa0e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc7e6);
        EXPECT(gbc.pc(), 0xa0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 017A
        gbc.setState(0xc01, 0x81d6, 0xee50, 0x7b06, 0xab1a, 0x320f, 0x0, 0x0);
        gbc.writeMem(0xc01, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x81d6);
        EXPECT(gbc.pc(), 0xc02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 017B
        gbc.setState(0xb946, 0xee26, 0xc5b0, 0xc000, 0x17ba, 0x47a1, 0x1, 0x0);
        gbc.writeMem(0xb946, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xee26);
        EXPECT(gbc.pc(), 0xb947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb946), 0xb0);
        // B0 017C
        gbc.setState(0xc309, 0xe432, 0x5e10, 0x2e30, 0xb147, 0x48c3, 0x1, 0x0);
        gbc.writeMem(0xc309, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xe432);
        EXPECT(gbc.pc(), 0xc30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc309), 0xb0);
        // B0 017D
        gbc.setState(0x530d, 0x2678, 0xfe40, 0x7668, 0xbbda, 0x8bab, 0x0, 0x1);
        gbc.writeMem(0x530d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2678);
        EXPECT(gbc.pc(), 0x530e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 017E
        gbc.setState(0x7b90, 0xd547, 0x1f00, 0x56b2, 0xfabb, 0x26c1, 0x1, 0x0);
        gbc.writeMem(0x7b90, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd547);
        EXPECT(gbc.pc(), 0x7b91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 017F
        gbc.setState(0xbd7a, 0xbcd0, 0x8cf0, 0x4318, 0x5ad3, 0xb38b, 0x1, 0x0);
        gbc.writeMem(0xbd7a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xbcd0);
        EXPECT(gbc.pc(), 0xbd7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd7a), 0xb0);
        // B0 0180
        gbc.setState(0x6688, 0xaa33, 0xbdf0, 0x1414, 0x13ea, 0x2999, 0x1, 0x1);
        gbc.writeMem(0x6688, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xaa33);
        EXPECT(gbc.pc(), 0x6689);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0181
        gbc.setState(0x9212, 0x84, 0x3d80, 0x41f7, 0x6806, 0xe169, 0x1, 0x0);
        gbc.writeMem(0x9212, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x84);
        EXPECT(gbc.pc(), 0x9213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9212), 0xb0);
        // B0 0183
        gbc.setState(0x3f4f, 0xf645, 0xd5a0, 0x4593, 0x7684, 0x7465, 0x1, 0x0);
        gbc.writeMem(0x3f4f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf645);
        EXPECT(gbc.pc(), 0x3f50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0184
        gbc.setState(0x9fb2, 0x450d, 0x6bb0, 0xa938, 0xb439, 0x78f3, 0x0, 0x0);
        gbc.writeMem(0x9fb2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x450d);
        EXPECT(gbc.pc(), 0x9fb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fb2), 0xb0);
        // B0 0185
        gbc.setState(0xb7ca, 0xbbb7, 0xd8a0, 0x9f5c, 0xaf8d, 0xc72e, 0x0, 0x0);
        gbc.writeMem(0xb7ca, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xbbb7);
        EXPECT(gbc.pc(), 0xb7cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7ca), 0xb0);
        // B0 0186
        gbc.setState(0xa816, 0x9673, 0x55a0, 0xe07e, 0xe779, 0x3cd, 0x0, 0x0);
        gbc.writeMem(0xa816, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9673);
        EXPECT(gbc.pc(), 0xa817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa816), 0xb0);
        // B0 0187
        gbc.setState(0x564f, 0x4d83, 0x4480, 0x2eea, 0xbb9, 0x1a84, 0x0, 0x1);
        gbc.writeMem(0x564f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4d83);
        EXPECT(gbc.pc(), 0x5650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0188
        gbc.setState(0x5147, 0x800e, 0x8e10, 0xa73f, 0xf9b, 0x830a, 0x1, 0x0);
        gbc.writeMem(0x5147, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x800e);
        EXPECT(gbc.pc(), 0x5148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0189
        gbc.setState(0xc54f, 0x1221, 0xf570, 0x887e, 0xb161, 0x70e3, 0x0, 0x1);
        gbc.writeMem(0xc54f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x1221);
        EXPECT(gbc.pc(), 0xc550);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc54f), 0xb0);
        // B0 018A
        gbc.setState(0x46b4, 0x2e67, 0xa7f0, 0x59e5, 0xe356, 0xfa31, 0x1, 0x0);
        gbc.writeMem(0x46b4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2e67);
        EXPECT(gbc.pc(), 0x46b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 018B
        gbc.setState(0x4247, 0x78a6, 0x8dd0, 0x1ecf, 0x7c53, 0x8226, 0x1, 0x0);
        gbc.writeMem(0x4247, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x78a6);
        EXPECT(gbc.pc(), 0x4248);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 018C
        gbc.setState(0xda66, 0x7558, 0x1f70, 0x712a, 0xa7c8, 0xe4f5, 0x1, 0x1);
        gbc.writeMem(0xda66, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x7558);
        EXPECT(gbc.pc(), 0xda67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda66), 0xb0);
        // B0 018D
        gbc.setState(0x32f3, 0x786e, 0x7a50, 0x3b18, 0x6f5b, 0x1cbf, 0x0, 0x1);
        gbc.writeMem(0x32f3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x786e);
        EXPECT(gbc.pc(), 0x32f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 018E
        gbc.setState(0x5e07, 0x6fa4, 0xbb50, 0x6f2b, 0xd8ad, 0x47a1, 0x0, 0x1);
        gbc.writeMem(0x5e07, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6fa4);
        EXPECT(gbc.pc(), 0x5e08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 018F
        gbc.setState(0xcd95, 0xaf13, 0x6e0, 0x998d, 0x8261, 0xc189, 0x1, 0x1);
        gbc.writeMem(0xcd95, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xaf13);
        EXPECT(gbc.pc(), 0xcd96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd95), 0xb0);
        // B0 0190
        gbc.setState(0x4f36, 0xe4bc, 0xfd40, 0x3285, 0xb5ff, 0x6684, 0x1, 0x1);
        gbc.writeMem(0x4f36, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe4bc);
        EXPECT(gbc.pc(), 0x4f37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0191
        gbc.setState(0x7225, 0xeadf, 0xc7a0, 0x9b10, 0xff82, 0x98b1, 0x1, 0x1);
        gbc.writeMem(0x7225, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xeadf);
        EXPECT(gbc.pc(), 0x7226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0192
        gbc.setState(0xd572, 0x4b29, 0x6e50, 0xc449, 0xced7, 0xe13b, 0x1, 0x1);
        gbc.writeMem(0xd572, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4b29);
        EXPECT(gbc.pc(), 0xd573);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd572), 0xb0);
        // B0 0193
        gbc.setState(0xba, 0x210d, 0x3070, 0xae64, 0x329a, 0x3418, 0x1, 0x0);
        gbc.writeMem(0xba, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x210d);
        EXPECT(gbc.pc(), 0xbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0194
        gbc.setState(0x770c, 0x7c6e, 0xfe50, 0xe522, 0x865d, 0xf54d, 0x1, 0x1);
        gbc.writeMem(0x770c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x7c6e);
        EXPECT(gbc.pc(), 0x770d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0195
        gbc.setState(0x7702, 0xe987, 0x1ac0, 0x9403, 0xe0b0, 0x7793, 0x0, 0x1);
        gbc.writeMem(0x7702, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xe987);
        EXPECT(gbc.pc(), 0x7703);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0197
        gbc.setState(0x1cca, 0x64b9, 0xb4a0, 0x44a6, 0xb124, 0xdd4f, 0x1, 0x0);
        gbc.writeMem(0x1cca, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x64b9);
        EXPECT(gbc.pc(), 0x1ccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0199
        gbc.setState(0xc5a5, 0x8deb, 0x5c00, 0x3025, 0xd830, 0x22b8, 0x0, 0x1);
        gbc.writeMem(0xc5a5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8deb);
        EXPECT(gbc.pc(), 0xc5a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5a5), 0xb0);
        // B0 019A
        gbc.setState(0x9db6, 0x7f69, 0x4b60, 0x50c0, 0x93a2, 0x8f2, 0x0, 0x1);
        gbc.writeMem(0x9db6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x7f69);
        EXPECT(gbc.pc(), 0x9db7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9db6), 0xb0);
        // B0 019B
        gbc.setState(0x98ba, 0xfbe9, 0xb60, 0x6b21, 0x8495, 0x75f8, 0x1, 0x0);
        gbc.writeMem(0x98ba, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xfbe9);
        EXPECT(gbc.pc(), 0x98bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98ba), 0xb0);
        // B0 019C
        gbc.setState(0x2458, 0x4b84, 0xe460, 0x772, 0x5e2e, 0x2eb4, 0x0, 0x1);
        gbc.writeMem(0x2458, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4b84);
        EXPECT(gbc.pc(), 0x2459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 019D
        gbc.setState(0x61f1, 0xc007, 0xc810, 0x76ee, 0x9d25, 0x5cc7, 0x1, 0x1);
        gbc.writeMem(0x61f1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc007);
        EXPECT(gbc.pc(), 0x61f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 019E
        gbc.setState(0x962e, 0x9298, 0xe9e0, 0xa402, 0x4aac, 0x4e0c, 0x0, 0x1);
        gbc.writeMem(0x962e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x9298);
        EXPECT(gbc.pc(), 0x962f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x962e), 0xb0);
        // B0 019F
        gbc.setState(0xdb30, 0xac6b, 0xedd0, 0x88a9, 0xb3a1, 0x23e9, 0x1, 0x0);
        gbc.writeMem(0xdb30, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xac6b);
        EXPECT(gbc.pc(), 0xdb31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb30), 0xb0);
        // B0 01A0
        gbc.setState(0xd014, 0x392f, 0x88a0, 0x4618, 0x3421, 0x8193, 0x0, 0x1);
        gbc.writeMem(0xd014, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x392f);
        EXPECT(gbc.pc(), 0xd015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd014), 0xb0);
        // B0 01A1
        gbc.setState(0x57d3, 0x8171, 0x9fe0, 0x3caa, 0xc286, 0x9ca9, 0x1, 0x1);
        gbc.writeMem(0x57d3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8171);
        EXPECT(gbc.pc(), 0x57d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01A2
        gbc.setState(0xda6d, 0x7b4a, 0x5d60, 0xf519, 0x2b0b, 0x16e9, 0x0, 0x0);
        gbc.writeMem(0xda6d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7b4a);
        EXPECT(gbc.pc(), 0xda6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda6d), 0xb0);
        // B0 01A3
        gbc.setState(0x4073, 0xf7b2, 0xb620, 0x886d, 0x9fc6, 0x38eb, 0x0, 0x1);
        gbc.writeMem(0x4073, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf7b2);
        EXPECT(gbc.pc(), 0x4074);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01A4
        gbc.setState(0x9616, 0xeb4b, 0xeb60, 0x6a8b, 0xec28, 0xa846, 0x0, 0x0);
        gbc.writeMem(0x9616, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xeb4b);
        EXPECT(gbc.pc(), 0x9617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9616), 0xb0);
        // B0 01A6
        gbc.setState(0x9910, 0x32c, 0x84a0, 0x5d13, 0x640d, 0x7fec, 0x1, 0x0);
        gbc.writeMem(0x9910, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x32c);
        EXPECT(gbc.pc(), 0x9911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9910), 0xb0);
        // B0 01A7
        gbc.setState(0x52db, 0x2155, 0xb610, 0xd03a, 0x6a3a, 0xfef2, 0x0, 0x0);
        gbc.writeMem(0x52db, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2155);
        EXPECT(gbc.pc(), 0x52dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01A8
        gbc.setState(0x6d3f, 0xb32d, 0x26a0, 0xb761, 0xa17d, 0x8ae7, 0x0, 0x1);
        gbc.writeMem(0x6d3f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb32d);
        EXPECT(gbc.pc(), 0x6d40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01A9
        gbc.setState(0x3a89, 0x8f7, 0x5370, 0xc953, 0xf662, 0xeecd, 0x1, 0x0);
        gbc.writeMem(0x3a89, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x8f7);
        EXPECT(gbc.pc(), 0x3a8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01AA
        gbc.setState(0x1d8b, 0x1a07, 0x6870, 0x2edf, 0xdcee, 0x7b, 0x1, 0x1);
        gbc.writeMem(0x1d8b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1a07);
        EXPECT(gbc.pc(), 0x1d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01AB
        gbc.setState(0x7fa1, 0xfefd, 0xb700, 0xf2b4, 0x8c6f, 0x5d58, 0x0, 0x0);
        gbc.writeMem(0x7fa1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xfefd);
        EXPECT(gbc.pc(), 0x7fa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01AC
        gbc.setState(0xecef, 0x610d, 0xc7b0, 0x30, 0xec18, 0xa6e4, 0x1, 0x1);
        gbc.writeMem(0xecef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x610d);
        EXPECT(gbc.pc(), 0xecf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecef), 0xb0);
        // B0 01AD
        gbc.setState(0x8fe, 0x8671, 0x30e0, 0x2400, 0xd307, 0x2a1a, 0x1, 0x0);
        gbc.writeMem(0x8fe, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x8671);
        EXPECT(gbc.pc(), 0x8ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01AE
        gbc.setState(0x1f4c, 0x7b71, 0x8df0, 0x8aa5, 0x598f, 0x47e, 0x0, 0x0);
        gbc.writeMem(0x1f4c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7b71);
        EXPECT(gbc.pc(), 0x1f4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01AF
        gbc.setState(0x5324, 0x8805, 0x8640, 0xcbe, 0x9479, 0x382c, 0x1, 0x0);
        gbc.writeMem(0x5324, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x8805);
        EXPECT(gbc.pc(), 0x5325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01B0
        gbc.setState(0xeb1c, 0x60c, 0x39f0, 0x9efb, 0xb6a7, 0x802, 0x0, 0x1);
        gbc.writeMem(0xeb1c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x60c);
        EXPECT(gbc.pc(), 0xeb1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb1c), 0xb0);
        // B0 01B1
        gbc.setState(0x8ca5, 0xe526, 0x9cc0, 0x11e6, 0x8dea, 0xbfa1, 0x1, 0x0);
        gbc.writeMem(0x8ca5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe526);
        EXPECT(gbc.pc(), 0x8ca6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca5), 0xb0);
        // B0 01B2
        gbc.setState(0x3d4b, 0x425e, 0xce10, 0x12f0, 0x8a3e, 0xc787, 0x0, 0x0);
        gbc.writeMem(0x3d4b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x425e);
        EXPECT(gbc.pc(), 0x3d4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01B3
        gbc.setState(0x25bf, 0x882e, 0x47e0, 0xf8c5, 0x5d1b, 0x6dcb, 0x1, 0x0);
        gbc.writeMem(0x25bf, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x882e);
        EXPECT(gbc.pc(), 0x25c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01B4
        gbc.setState(0xa054, 0x9da, 0x3280, 0x9f47, 0x635e, 0x98b6, 0x0, 0x0);
        gbc.writeMem(0xa054, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9da);
        EXPECT(gbc.pc(), 0xa055);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa054), 0xb0);
        // B0 01B5
        gbc.setState(0x5c89, 0xa74, 0x320, 0x1496, 0x2b44, 0x42af, 0x1, 0x1);
        gbc.writeMem(0x5c89, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa74);
        EXPECT(gbc.pc(), 0x5c8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01B6
        gbc.setState(0x287, 0xe295, 0x6fd0, 0x8142, 0x7138, 0x2a1e, 0x0, 0x1);
        gbc.writeMem(0x287, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe295);
        EXPECT(gbc.pc(), 0x288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01B7
        gbc.setState(0xeef, 0xf6ba, 0x7150, 0xeaa, 0x9943, 0x5940, 0x0, 0x1);
        gbc.writeMem(0xeef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xf6ba);
        EXPECT(gbc.pc(), 0xef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01B8
        gbc.setState(0x8e72, 0x241a, 0xc3e0, 0xaeff, 0x8e31, 0xd169, 0x1, 0x1);
        gbc.writeMem(0x8e72, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x241a);
        EXPECT(gbc.pc(), 0x8e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e72), 0xb0);
        // B0 01B9
        gbc.setState(0x204a, 0xfa70, 0xe670, 0x5f95, 0xe2c0, 0x2027, 0x1, 0x0);
        gbc.writeMem(0x204a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xfa70);
        EXPECT(gbc.pc(), 0x204b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01BA
        gbc.setState(0x7bc, 0x895b, 0x6a90, 0x38f5, 0x63ca, 0xf420, 0x0, 0x1);
        gbc.writeMem(0x7bc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x895b);
        EXPECT(gbc.pc(), 0x7bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01BB
        gbc.setState(0x9389, 0xde49, 0x58c0, 0x2272, 0xd776, 0x171e, 0x1, 0x0);
        gbc.writeMem(0x9389, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xde49);
        EXPECT(gbc.pc(), 0x938a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9389), 0xb0);
        // B0 01BC
        gbc.setState(0xb072, 0xb57f, 0x7240, 0x6cb2, 0x4bf0, 0xbb28, 0x0, 0x1);
        gbc.writeMem(0xb072, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb57f);
        EXPECT(gbc.pc(), 0xb073);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb072), 0xb0);
        // B0 01BD
        gbc.setState(0xcd68, 0xf1cb, 0x9aa0, 0x7a0, 0x4389, 0x9017, 0x0, 0x0);
        gbc.writeMem(0xcd68, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf1cb);
        EXPECT(gbc.pc(), 0xcd69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd68), 0xb0);
        // B0 01BE
        gbc.setState(0xa572, 0x9a8c, 0xd680, 0x5764, 0x44f5, 0x31c6, 0x0, 0x1);
        gbc.writeMem(0xa572, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x9a8c);
        EXPECT(gbc.pc(), 0xa573);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa572), 0xb0);
        // B0 01BF
        gbc.setState(0x84a7, 0x7360, 0x4a20, 0x54cf, 0xf96, 0x1886, 0x1, 0x0);
        gbc.writeMem(0x84a7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7360);
        EXPECT(gbc.pc(), 0x84a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84a7), 0xb0);
        // B0 01C0
        gbc.setState(0xe38a, 0x9bb7, 0xb5d0, 0x19fe, 0x7ac1, 0x70f7, 0x1, 0x0);
        gbc.writeMem(0xe38a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9bb7);
        EXPECT(gbc.pc(), 0xe38b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe38a), 0xb0);
        // B0 01C1
        gbc.setState(0x2182, 0x119, 0xa270, 0x9128, 0x511a, 0xe8d3, 0x0, 0x1);
        gbc.writeMem(0x2182, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x119);
        EXPECT(gbc.pc(), 0x2183);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01C2
        gbc.setState(0x27c7, 0x92b8, 0xa390, 0x98a3, 0xc59d, 0xc3a4, 0x1, 0x0);
        gbc.writeMem(0x27c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x92b8);
        EXPECT(gbc.pc(), 0x27c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01C3
        gbc.setState(0xcbd8, 0xc48e, 0x6910, 0x9782, 0xb5d2, 0x1445, 0x1, 0x1);
        gbc.writeMem(0xcbd8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc48e);
        EXPECT(gbc.pc(), 0xcbd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbd8), 0xb0);
        // B0 01C4
        gbc.setState(0xd2a3, 0x1925, 0xfbf0, 0xba7a, 0xe270, 0x87fd, 0x1, 0x1);
        gbc.writeMem(0xd2a3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1925);
        EXPECT(gbc.pc(), 0xd2a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a3), 0xb0);
        // B0 01C5
        gbc.setState(0x16c2, 0x869a, 0xcbf0, 0x622b, 0xa87c, 0x6986, 0x0, 0x0);
        gbc.writeMem(0x16c2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x869a);
        EXPECT(gbc.pc(), 0x16c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01C6
        gbc.setState(0xc97e, 0xeb35, 0x9640, 0xe306, 0x9a95, 0x72f2, 0x1, 0x0);
        gbc.writeMem(0xc97e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xeb35);
        EXPECT(gbc.pc(), 0xc97f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc97e), 0xb0);
        // B0 01C7
        gbc.setState(0x93aa, 0x23a9, 0x2a70, 0xa3c4, 0x6845, 0x4ae9, 0x1, 0x0);
        gbc.writeMem(0x93aa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x23a9);
        EXPECT(gbc.pc(), 0x93ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93aa), 0xb0);
        // B0 01C8
        gbc.setState(0x7e82, 0xe580, 0x4b80, 0x3f87, 0xa241, 0xac8c, 0x0, 0x0);
        gbc.writeMem(0x7e82, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe580);
        EXPECT(gbc.pc(), 0x7e83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01C9
        gbc.setState(0x4f06, 0xdd29, 0x3570, 0x8906, 0x5218, 0xcfc2, 0x1, 0x0);
        gbc.writeMem(0x4f06, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xdd29);
        EXPECT(gbc.pc(), 0x4f07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01CA
        gbc.setState(0x368a, 0x991b, 0xd580, 0x6e25, 0x8ac0, 0xd3d2, 0x1, 0x1);
        gbc.writeMem(0x368a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x991b);
        EXPECT(gbc.pc(), 0x368b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01CB
        gbc.setState(0x6202, 0x28c9, 0x12b0, 0xe186, 0x5424, 0xf7ad, 0x1, 0x1);
        gbc.writeMem(0x6202, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x28c9);
        EXPECT(gbc.pc(), 0x6203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01CC
        gbc.setState(0xb31, 0x20ab, 0x3160, 0x3e78, 0x8064, 0xaa1, 0x1, 0x1);
        gbc.writeMem(0xb31, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x20ab);
        EXPECT(gbc.pc(), 0xb32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01CD
        gbc.setState(0xc057, 0x3c91, 0x63e0, 0xaee, 0x2239, 0xbe2d, 0x0, 0x0);
        gbc.writeMem(0xc057, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3c91);
        EXPECT(gbc.pc(), 0xc058);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc057), 0xb0);
        // B0 01CE
        gbc.setState(0xbf3b, 0x70, 0xc40, 0xf929, 0xc790, 0xe50b, 0x1, 0x0);
        gbc.writeMem(0xbf3b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x70);
        EXPECT(gbc.pc(), 0xbf3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf3b), 0xb0);
        // B0 01CF
        gbc.setState(0x31fe, 0x5c7a, 0x85e0, 0xb3c3, 0xc599, 0x13b0, 0x0, 0x0);
        gbc.writeMem(0x31fe, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5c7a);
        EXPECT(gbc.pc(), 0x31ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01D0
        gbc.setState(0x40b7, 0xaf01, 0x3f20, 0x2ae3, 0x7491, 0x38cb, 0x0, 0x1);
        gbc.writeMem(0x40b7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xaf01);
        EXPECT(gbc.pc(), 0x40b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01D1
        gbc.setState(0xb7de, 0xd1e8, 0xb570, 0x3685, 0x5db1, 0x9ffc, 0x0, 0x1);
        gbc.writeMem(0xb7de, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd1e8);
        EXPECT(gbc.pc(), 0xb7df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7de), 0xb0);
        // B0 01D2
        gbc.setState(0x893c, 0xfb99, 0x7e80, 0xf80a, 0x7d8f, 0xe5ab, 0x1, 0x1);
        gbc.writeMem(0x893c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xfb99);
        EXPECT(gbc.pc(), 0x893d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x893c), 0xb0);
        // B0 01D3
        gbc.setState(0x3481, 0xd58d, 0x2fc0, 0x79cc, 0x5e66, 0x62c6, 0x0, 0x0);
        gbc.writeMem(0x3481, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xd58d);
        EXPECT(gbc.pc(), 0x3482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01D4
        gbc.setState(0xe141, 0xd281, 0x59a0, 0xf754, 0xa8b7, 0xe3c3, 0x0, 0x0);
        gbc.writeMem(0xe141, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xd281);
        EXPECT(gbc.pc(), 0xe142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe141), 0xb0);
        // B0 01D5
        gbc.setState(0x2216, 0xe5d2, 0x88b0, 0x95da, 0xe2c1, 0xc2b6, 0x0, 0x0);
        gbc.writeMem(0x2216, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe5d2);
        EXPECT(gbc.pc(), 0x2217);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01D6
        gbc.setState(0x9aec, 0x6614, 0x6190, 0xf1bf, 0x9a7c, 0x1156, 0x0, 0x0);
        gbc.writeMem(0x9aec, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6614);
        EXPECT(gbc.pc(), 0x9aed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aec), 0xb0);
        // B0 01D7
        gbc.setState(0x77c3, 0x4f91, 0xa700, 0x7ce2, 0xf0bc, 0x9631, 0x1, 0x0);
        gbc.writeMem(0x77c3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x4f91);
        EXPECT(gbc.pc(), 0x77c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01D9
        gbc.setState(0xe2b1, 0x68cf, 0x94a0, 0xfe78, 0x96f5, 0xa609, 0x1, 0x0);
        gbc.writeMem(0xe2b1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x68cf);
        EXPECT(gbc.pc(), 0xe2b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b1), 0xb0);
        // B0 01DA
        gbc.setState(0x7cde, 0x7dfe, 0xdcf0, 0xc36c, 0x8329, 0x7c86, 0x0, 0x1);
        gbc.writeMem(0x7cde, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7dfe);
        EXPECT(gbc.pc(), 0x7cdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01DB
        gbc.setState(0xd74f, 0x7c9b, 0x40c0, 0x360e, 0x7114, 0xe490, 0x1, 0x1);
        gbc.writeMem(0xd74f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7c9b);
        EXPECT(gbc.pc(), 0xd750);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd74f), 0xb0);
        // B0 01DD
        gbc.setState(0xc45b, 0x9842, 0xefc0, 0xa5a8, 0xdab7, 0x2147, 0x0, 0x1);
        gbc.writeMem(0xc45b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9842);
        EXPECT(gbc.pc(), 0xc45c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc45b), 0xb0);
        // B0 01DE
        gbc.setState(0x952b, 0x85dc, 0x4140, 0x5bc2, 0x8b40, 0x29c4, 0x0, 0x0);
        gbc.writeMem(0x952b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x85dc);
        EXPECT(gbc.pc(), 0x952c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x952b), 0xb0);
        // B0 01DF
        gbc.setState(0x4e76, 0xc01c, 0xb1f0, 0xc328, 0xf59d, 0x168d, 0x0, 0x0);
        gbc.writeMem(0x4e76, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc01c);
        EXPECT(gbc.pc(), 0x4e77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01E0
        gbc.setState(0xe079, 0xc7f3, 0xf620, 0xf0c4, 0x7b66, 0x7cad, 0x0, 0x1);
        gbc.writeMem(0xe079, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc7f3);
        EXPECT(gbc.pc(), 0xe07a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe079), 0xb0);
        // B0 01E1
        gbc.setState(0x83ef, 0x441f, 0x1f40, 0x3981, 0x9233, 0xde5a, 0x0, 0x0);
        gbc.writeMem(0x83ef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x441f);
        EXPECT(gbc.pc(), 0x83f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ef), 0xb0);
        // B0 01E2
        gbc.setState(0x1558, 0x9b39, 0xa6c0, 0x32a4, 0x9d23, 0xfe0c, 0x0, 0x1);
        gbc.writeMem(0x1558, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x9b39);
        EXPECT(gbc.pc(), 0x1559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01E4
        gbc.setState(0x6da7, 0xe9e6, 0xd1e0, 0x5d7d, 0xc60a, 0xc0b9, 0x1, 0x0);
        gbc.writeMem(0x6da7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe9e6);
        EXPECT(gbc.pc(), 0x6da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01E5
        gbc.setState(0x2233, 0x417b, 0x5040, 0xd4b6, 0xa54f, 0x4661, 0x1, 0x1);
        gbc.writeMem(0x2233, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x417b);
        EXPECT(gbc.pc(), 0x2234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01E6
        gbc.setState(0x76d6, 0x5cd, 0x5f90, 0x952b, 0x32a3, 0xd175, 0x1, 0x1);
        gbc.writeMem(0x76d6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5cd);
        EXPECT(gbc.pc(), 0x76d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01E7
        gbc.setState(0x5297, 0x71f2, 0xe110, 0x7e23, 0x235d, 0xf3a9, 0x1, 0x0);
        gbc.writeMem(0x5297, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x71f2);
        EXPECT(gbc.pc(), 0x5298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01E8
        gbc.setState(0xb3c4, 0x2a80, 0x8db0, 0xb1d8, 0xc022, 0xed32, 0x0, 0x0);
        gbc.writeMem(0xb3c4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2a80);
        EXPECT(gbc.pc(), 0xb3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3c4), 0xb0);
        // B0 01E9
        gbc.setState(0x626a, 0xc47e, 0x120, 0x3cea, 0x8743, 0x1b83, 0x1, 0x0);
        gbc.writeMem(0x626a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc47e);
        EXPECT(gbc.pc(), 0x626b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01EA
        gbc.setState(0x9599, 0xccdb, 0x38e0, 0xaee6, 0xd494, 0xa726, 0x1, 0x0);
        gbc.writeMem(0x9599, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xccdb);
        EXPECT(gbc.pc(), 0x959a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9599), 0xb0);
        // B0 01EB
        gbc.setState(0xbd24, 0x1664, 0xfdc0, 0x2a84, 0xc58f, 0xfd85, 0x1, 0x0);
        gbc.writeMem(0xbd24, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1664);
        EXPECT(gbc.pc(), 0xbd25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd24), 0xb0);
        // B0 01EC
        gbc.setState(0xef7, 0xe3eb, 0x8880, 0xee31, 0x763, 0x1b7f, 0x0, 0x0);
        gbc.writeMem(0xef7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe3eb);
        EXPECT(gbc.pc(), 0xef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01ED
        gbc.setState(0xa1b2, 0x2d43, 0x2d70, 0x2c7c, 0x6ac5, 0x37ef, 0x0, 0x0);
        gbc.writeMem(0xa1b2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2d43);
        EXPECT(gbc.pc(), 0xa1b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1b2), 0xb0);
        // B0 01EF
        gbc.setState(0x5f85, 0xf84, 0x9480, 0xac93, 0x817d, 0xb31a, 0x1, 0x1);
        gbc.writeMem(0x5f85, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf84);
        EXPECT(gbc.pc(), 0x5f86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01F0
        gbc.setState(0x7a54, 0x1a68, 0x4620, 0xebac, 0x696c, 0x7eb3, 0x1, 0x1);
        gbc.writeMem(0x7a54, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1a68);
        EXPECT(gbc.pc(), 0x7a55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01F1
        gbc.setState(0x692f, 0x90e2, 0x7f70, 0x7225, 0x57b, 0x44ea, 0x1, 0x1);
        gbc.writeMem(0x692f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x90e2);
        EXPECT(gbc.pc(), 0x6930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01F2
        gbc.setState(0x7c3, 0x5d52, 0x9c60, 0xdb11, 0xd2f9, 0xa568, 0x0, 0x1);
        gbc.writeMem(0x7c3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5d52);
        EXPECT(gbc.pc(), 0x7c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01F3
        gbc.setState(0x545a, 0xef17, 0x27a0, 0xe82b, 0x1158, 0x17b, 0x0, 0x1);
        gbc.writeMem(0x545a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xef17);
        EXPECT(gbc.pc(), 0x545b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01F4
        gbc.setState(0xedd7, 0x58c2, 0x9750, 0x1f19, 0x26b9, 0x1141, 0x1, 0x1);
        gbc.writeMem(0xedd7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x58c2);
        EXPECT(gbc.pc(), 0xedd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedd7), 0xb0);
        // B0 01F5
        gbc.setState(0xaa4e, 0xa75d, 0x1090, 0xbc9f, 0xf8d1, 0x433e, 0x1, 0x0);
        gbc.writeMem(0xaa4e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa75d);
        EXPECT(gbc.pc(), 0xaa4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa4e), 0xb0);
        // B0 01F6
        gbc.setState(0x7d4d, 0x487c, 0xfe0, 0x7f07, 0xead1, 0x194e, 0x1, 0x1);
        gbc.writeMem(0x7d4d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x487c);
        EXPECT(gbc.pc(), 0x7d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01F7
        gbc.setState(0xdaff, 0xa223, 0x4c20, 0xf71c, 0xb9f1, 0x7a6e, 0x1, 0x1);
        gbc.writeMem(0xdaff, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xa223);
        EXPECT(gbc.pc(), 0xdb00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaff), 0xb0);
        // B0 01F8
        gbc.setState(0xbc8e, 0xb025, 0x4bb0, 0x517a, 0xc909, 0x8262, 0x0, 0x0);
        gbc.writeMem(0xbc8e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xb025);
        EXPECT(gbc.pc(), 0xbc8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc8e), 0xb0);
        // B0 01F9
        gbc.setState(0xb89e, 0x6ada, 0x6a00, 0xd9e8, 0x23bf, 0x5a8c, 0x0, 0x1);
        gbc.writeMem(0xb89e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6ada);
        EXPECT(gbc.pc(), 0xb89f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89e), 0xb0);
        // B0 01FA
        gbc.setState(0xbcc8, 0x5208, 0xa2c0, 0x86a0, 0x78a7, 0x1d98, 0x0, 0x1);
        gbc.writeMem(0xbcc8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x5208);
        EXPECT(gbc.pc(), 0xbcc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcc8), 0xb0);
        // B0 01FB
        gbc.setState(0xded6, 0xee4a, 0x9c10, 0xae19, 0xfabc, 0x3eeb, 0x1, 0x0);
        gbc.writeMem(0xded6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xee4a);
        EXPECT(gbc.pc(), 0xded7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xded6), 0xb0);
        // B0 01FC
        gbc.setState(0xa06a, 0xf29, 0x6c0, 0x27de, 0x630b, 0x8b09, 0x1, 0x0);
        gbc.writeMem(0xa06a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xf29);
        EXPECT(gbc.pc(), 0xa06b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa06a), 0xb0);
        // B0 01FD
        gbc.setState(0x213b, 0x945f, 0xa430, 0xa4ea, 0x21b0, 0xb668, 0x1, 0x1);
        gbc.writeMem(0x213b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x945f);
        EXPECT(gbc.pc(), 0x213c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01FE
        gbc.setState(0x4bbb, 0xa387, 0xe670, 0x9935, 0x189a, 0x50f6, 0x1, 0x0);
        gbc.writeMem(0x4bbb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xa387);
        EXPECT(gbc.pc(), 0x4bbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 01FF
        gbc.setState(0xaa89, 0x64ee, 0xf1c0, 0xadc0, 0xf939, 0xedbb, 0x1, 0x0);
        gbc.writeMem(0xaa89, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x64ee);
        EXPECT(gbc.pc(), 0xaa8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa89), 0xb0);
        // B0 0200
        gbc.setState(0xeddd, 0xcf19, 0x4460, 0x8db5, 0xa764, 0xdbf3, 0x1, 0x0);
        gbc.writeMem(0xeddd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xcf19);
        EXPECT(gbc.pc(), 0xedde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeddd), 0xb0);
        // B0 0201
        gbc.setState(0xd617, 0x8da7, 0xfde0, 0x85f8, 0x9706, 0x515f, 0x1, 0x1);
        gbc.writeMem(0xd617, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8da7);
        EXPECT(gbc.pc(), 0xd618);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd617), 0xb0);
        // B0 0203
        gbc.setState(0x38c2, 0x69e, 0x8fe0, 0x55aa, 0xe9ce, 0xd15, 0x1, 0x1);
        gbc.writeMem(0x38c2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x69e);
        EXPECT(gbc.pc(), 0x38c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0204
        gbc.setState(0xe6e9, 0x1f36, 0x3a10, 0x31b6, 0xa83b, 0x1494, 0x1, 0x1);
        gbc.writeMem(0xe6e9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1f36);
        EXPECT(gbc.pc(), 0xe6ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6e9), 0xb0);
        // B0 0205
        gbc.setState(0xcd50, 0xe8ef, 0xfb00, 0xf4d2, 0xd7fe, 0x3c88, 0x0, 0x1);
        gbc.writeMem(0xcd50, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe8ef);
        EXPECT(gbc.pc(), 0xcd51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd50), 0xb0);
        // B0 0206
        gbc.setState(0x71fa, 0x45ad, 0xf100, 0x2df3, 0x40c1, 0xced, 0x1, 0x0);
        gbc.writeMem(0x71fa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x45ad);
        EXPECT(gbc.pc(), 0x71fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0207
        gbc.setState(0x2c03, 0xca35, 0x45e0, 0x175, 0x7e84, 0xca52, 0x1, 0x0);
        gbc.writeMem(0x2c03, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xca35);
        EXPECT(gbc.pc(), 0x2c04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0208
        gbc.setState(0x509e, 0xbe3e, 0xed00, 0x6305, 0x3f0a, 0x63e6, 0x0, 0x0);
        gbc.writeMem(0x509e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xbe3e);
        EXPECT(gbc.pc(), 0x509f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0209
        gbc.setState(0x5a68, 0x723e, 0xf850, 0x2db1, 0x4a00, 0xffb5, 0x0, 0x1);
        gbc.writeMem(0x5a68, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x723e);
        EXPECT(gbc.pc(), 0x5a69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 020A
        gbc.setState(0xe226, 0x8c6e, 0x5aa0, 0xef8b, 0x4bef, 0xe1df, 0x0, 0x0);
        gbc.writeMem(0xe226, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8c6e);
        EXPECT(gbc.pc(), 0xe227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe226), 0xb0);
        // B0 020B
        gbc.setState(0x5285, 0x6306, 0x6ac0, 0x6685, 0xbe84, 0x9295, 0x0, 0x1);
        gbc.writeMem(0x5285, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6306);
        EXPECT(gbc.pc(), 0x5286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 020D
        gbc.setState(0x1639, 0xf9ef, 0x1440, 0xdfef, 0x28ba, 0x98d2, 0x0, 0x1);
        gbc.writeMem(0x1639, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf9ef);
        EXPECT(gbc.pc(), 0x163a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 020E
        gbc.setState(0x4547, 0x9f7, 0x6300, 0x6300, 0x7d9c, 0xf453, 0x1, 0x1);
        gbc.writeMem(0x4547, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9f7);
        EXPECT(gbc.pc(), 0x4548);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 020F
        gbc.setState(0x36be, 0x9280, 0x6450, 0x59d4, 0x8c91, 0x260d, 0x1, 0x0);
        gbc.writeMem(0x36be, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9280);
        EXPECT(gbc.pc(), 0x36bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0210
        gbc.setState(0xeaa4, 0x419e, 0x3e70, 0x26e1, 0x2c7c, 0xdd10, 0x1, 0x1);
        gbc.writeMem(0xeaa4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x419e);
        EXPECT(gbc.pc(), 0xeaa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaa4), 0xb0);
        // B0 0211
        gbc.setState(0x20e7, 0x201a, 0xbcb0, 0xdeb3, 0xcc4d, 0x5a03, 0x1, 0x1);
        gbc.writeMem(0x20e7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x201a);
        EXPECT(gbc.pc(), 0x20e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0212
        gbc.setState(0xc38e, 0x4bed, 0x28c0, 0xe025, 0x8c4d, 0x259f, 0x1, 0x0);
        gbc.writeMem(0xc38e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4bed);
        EXPECT(gbc.pc(), 0xc38f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc38e), 0xb0);
        // B0 0213
        gbc.setState(0x2c25, 0x7bf4, 0xc7b0, 0xf239, 0x9b5d, 0x23b3, 0x1, 0x1);
        gbc.writeMem(0x2c25, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7bf4);
        EXPECT(gbc.pc(), 0x2c26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0214
        gbc.setState(0xb469, 0xc100, 0xf2e0, 0x6cf6, 0x45b5, 0xdac0, 0x0, 0x0);
        gbc.writeMem(0xb469, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc100);
        EXPECT(gbc.pc(), 0xb46a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb469), 0xb0);
        // B0 0216
        gbc.setState(0x840c, 0x5668, 0xaf40, 0x9aff, 0x4919, 0xf669, 0x0, 0x0);
        gbc.writeMem(0x840c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5668);
        EXPECT(gbc.pc(), 0x840d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x840c), 0xb0);
        // B0 0217
        gbc.setState(0xd513, 0x957d, 0x3460, 0xcb03, 0xca31, 0x91b, 0x0, 0x1);
        gbc.writeMem(0xd513, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x957d);
        EXPECT(gbc.pc(), 0xd514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd513), 0xb0);
        // B0 0218
        gbc.setState(0xfa9, 0x8f0f, 0x34d0, 0xc3d4, 0xd782, 0xbfce, 0x0, 0x0);
        gbc.writeMem(0xfa9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8f0f);
        EXPECT(gbc.pc(), 0xfaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0219
        gbc.setState(0x6512, 0xa79c, 0xe40, 0xc30d, 0x3534, 0x1205, 0x1, 0x1);
        gbc.writeMem(0x6512, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa79c);
        EXPECT(gbc.pc(), 0x6513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 021A
        gbc.setState(0x62a9, 0x1609, 0x2670, 0xa3e6, 0x300a, 0x2aa4, 0x0, 0x0);
        gbc.writeMem(0x62a9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1609);
        EXPECT(gbc.pc(), 0x62aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 021B
        gbc.setState(0xb1b2, 0xf8b3, 0x3d30, 0xf66c, 0x606d, 0x25ae, 0x0, 0x1);
        gbc.writeMem(0xb1b2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf8b3);
        EXPECT(gbc.pc(), 0xb1b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b2), 0xb0);
        // B0 021C
        gbc.setState(0xdf8c, 0xe155, 0x45d0, 0x8809, 0xe933, 0xe0be, 0x0, 0x0);
        gbc.writeMem(0xdf8c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe155);
        EXPECT(gbc.pc(), 0xdf8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf8c), 0xb0);
        // B0 021E
        gbc.setState(0x8cfb, 0xc137, 0x62d0, 0xf46, 0x7000, 0x8db8, 0x0, 0x0);
        gbc.writeMem(0x8cfb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc137);
        EXPECT(gbc.pc(), 0x8cfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cfb), 0xb0);
        // B0 021F
        gbc.setState(0x94c8, 0xb4cb, 0xdad0, 0xb1f0, 0x8a53, 0x26b9, 0x1, 0x0);
        gbc.writeMem(0x94c8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb4cb);
        EXPECT(gbc.pc(), 0x94c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94c8), 0xb0);
        // B0 0220
        gbc.setState(0xe137, 0xa8ca, 0x5e50, 0x35a, 0x1417, 0x9ed2, 0x1, 0x1);
        gbc.writeMem(0xe137, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa8ca);
        EXPECT(gbc.pc(), 0xe138);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe137), 0xb0);
        // B0 0221
        gbc.setState(0xc761, 0x4d48, 0x7890, 0x6f1b, 0xb63c, 0x6dec, 0x0, 0x0);
        gbc.writeMem(0xc761, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4d48);
        EXPECT(gbc.pc(), 0xc762);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc761), 0xb0);
        // B0 0222
        gbc.setState(0x6203, 0xc582, 0x5bc0, 0xed82, 0xa5e8, 0x527d, 0x1, 0x0);
        gbc.writeMem(0x6203, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc582);
        EXPECT(gbc.pc(), 0x6204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0223
        gbc.setState(0x7f30, 0xd445, 0xd1c0, 0xf5c8, 0x611f, 0x22b3, 0x0, 0x1);
        gbc.writeMem(0x7f30, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd445);
        EXPECT(gbc.pc(), 0x7f31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0224
        gbc.setState(0x50f7, 0x4a40, 0x71c0, 0x2fc1, 0xc5f2, 0x7712, 0x0, 0x0);
        gbc.writeMem(0x50f7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4a40);
        EXPECT(gbc.pc(), 0x50f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0225
        gbc.setState(0x9872, 0x5605, 0x8b80, 0x8b9f, 0x3d95, 0xae76, 0x0, 0x0);
        gbc.writeMem(0x9872, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5605);
        EXPECT(gbc.pc(), 0x9873);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9872), 0xb0);
        // B0 0226
        gbc.setState(0x343d, 0xc813, 0xdb70, 0x4788, 0xaf17, 0x3a51, 0x1, 0x0);
        gbc.writeMem(0x343d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc813);
        EXPECT(gbc.pc(), 0x343e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0227
        gbc.setState(0x32c7, 0xa53b, 0xeac0, 0xdcdb, 0xd712, 0x190f, 0x1, 0x1);
        gbc.writeMem(0x32c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa53b);
        EXPECT(gbc.pc(), 0x32c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0228
        gbc.setState(0x2fc3, 0x519d, 0xfff0, 0xa185, 0x20c8, 0x32c2, 0x0, 0x1);
        gbc.writeMem(0x2fc3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x519d);
        EXPECT(gbc.pc(), 0x2fc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0229
        gbc.setState(0xdcae, 0x1132, 0x34a0, 0x8905, 0x7103, 0x2660, 0x0, 0x1);
        gbc.writeMem(0xdcae, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1132);
        EXPECT(gbc.pc(), 0xdcaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcae), 0xb0);
        // B0 022A
        gbc.setState(0x8d6c, 0x2513, 0x740, 0x3a02, 0x6608, 0x3970, 0x1, 0x1);
        gbc.writeMem(0x8d6c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2513);
        EXPECT(gbc.pc(), 0x8d6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d6c), 0xb0);
        // B0 022B
        gbc.setState(0xc346, 0xe7a, 0x58b0, 0x1189, 0x2a0c, 0x34b7, 0x1, 0x1);
        gbc.writeMem(0xc346, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe7a);
        EXPECT(gbc.pc(), 0xc347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc346), 0xb0);
        // B0 022C
        gbc.setState(0x51c4, 0xf038, 0x86c0, 0x2da7, 0xe09, 0xe5be, 0x1, 0x1);
        gbc.writeMem(0x51c4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xf038);
        EXPECT(gbc.pc(), 0x51c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 022D
        gbc.setState(0x1bd3, 0x2f9a, 0x9cb0, 0xff2a, 0xe3e6, 0x7cfb, 0x1, 0x1);
        gbc.writeMem(0x1bd3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2f9a);
        EXPECT(gbc.pc(), 0x1bd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 022E
        gbc.setState(0xafa7, 0xd255, 0xef20, 0x4349, 0x4f0b, 0xa6b2, 0x1, 0x1);
        gbc.writeMem(0xafa7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd255);
        EXPECT(gbc.pc(), 0xafa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa7), 0xb0);
        // B0 022F
        gbc.setState(0x1f0e, 0x6fae, 0xc690, 0x1f21, 0x55ba, 0x33f5, 0x0, 0x0);
        gbc.writeMem(0x1f0e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6fae);
        EXPECT(gbc.pc(), 0x1f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0230
        gbc.setState(0x6fdc, 0x8953, 0x2b80, 0x9d68, 0x90f1, 0x751b, 0x1, 0x0);
        gbc.writeMem(0x6fdc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8953);
        EXPECT(gbc.pc(), 0x6fdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0231
        gbc.setState(0x34c3, 0x99e5, 0xe170, 0x2568, 0x32d3, 0x96d2, 0x1, 0x1);
        gbc.writeMem(0x34c3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x99e5);
        EXPECT(gbc.pc(), 0x34c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0232
        gbc.setState(0xb4bd, 0x4f42, 0x770, 0xd0b5, 0xfc40, 0xf664, 0x1, 0x1);
        gbc.writeMem(0xb4bd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4f42);
        EXPECT(gbc.pc(), 0xb4be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4bd), 0xb0);
        // B0 0233
        gbc.setState(0xc188, 0xa229, 0x3c00, 0xdb11, 0xfde8, 0xc859, 0x0, 0x0);
        gbc.writeMem(0xc188, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa229);
        EXPECT(gbc.pc(), 0xc189);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc188), 0xb0);
        // B0 0234
        gbc.setState(0x2281, 0x4d32, 0xdd40, 0xf674, 0x55c1, 0x8b81, 0x0, 0x0);
        gbc.writeMem(0x2281, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x4d32);
        EXPECT(gbc.pc(), 0x2282);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0235
        gbc.setState(0x6f7, 0xd60a, 0xc500, 0x615a, 0x7fca, 0x7b8a, 0x1, 0x0);
        gbc.writeMem(0x6f7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd60a);
        EXPECT(gbc.pc(), 0x6f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0236
        gbc.setState(0x4241, 0xe0a7, 0x7ab0, 0x810c, 0x3dc6, 0xc3ea, 0x0, 0x1);
        gbc.writeMem(0x4241, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xe0a7);
        EXPECT(gbc.pc(), 0x4242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0237
        gbc.setState(0x2e01, 0xbf0c, 0x4ae0, 0xfafa, 0x3c1f, 0xdc80, 0x0, 0x1);
        gbc.writeMem(0x2e01, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbf0c);
        EXPECT(gbc.pc(), 0x2e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0238
        gbc.setState(0xd064, 0x7f2e, 0x11b0, 0x7f9a, 0x2cdf, 0x3482, 0x1, 0x1);
        gbc.writeMem(0xd064, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7f2e);
        EXPECT(gbc.pc(), 0xd065);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd064), 0xb0);
        // B0 0239
        gbc.setState(0xdd7b, 0x1442, 0x9a50, 0x2ea1, 0xa4ab, 0xb62d, 0x1, 0x0);
        gbc.writeMem(0xdd7b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1442);
        EXPECT(gbc.pc(), 0xdd7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd7b), 0xb0);
        // B0 023A
        gbc.setState(0x756b, 0x60d, 0x49e0, 0xa85a, 0x5630, 0x501c, 0x0, 0x0);
        gbc.writeMem(0x756b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x60d);
        EXPECT(gbc.pc(), 0x756c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 023B
        gbc.setState(0x47dc, 0xa89b, 0x6f10, 0xbece, 0x531f, 0xdb07, 0x1, 0x0);
        gbc.writeMem(0x47dc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa89b);
        EXPECT(gbc.pc(), 0x47dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 023C
        gbc.setState(0x4a16, 0x6380, 0xf370, 0xac30, 0x6885, 0x17f2, 0x0, 0x1);
        gbc.writeMem(0x4a16, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6380);
        EXPECT(gbc.pc(), 0x4a17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 023D
        gbc.setState(0xdd1a, 0xa593, 0x86a0, 0xa5de, 0xc0b9, 0xe6da, 0x0, 0x0);
        gbc.writeMem(0xdd1a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa593);
        EXPECT(gbc.pc(), 0xdd1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1a), 0xb0);
        // B0 023F
        gbc.setState(0x8486, 0xdf20, 0xc890, 0x57fd, 0x1f25, 0x62ef, 0x1, 0x1);
        gbc.writeMem(0x8486, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xdf20);
        EXPECT(gbc.pc(), 0x8487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8486), 0xb0);
        // B0 0240
        gbc.setState(0x9d73, 0x769, 0xe1e0, 0x9ac0, 0x5556, 0xe370, 0x0, 0x0);
        gbc.writeMem(0x9d73, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x769);
        EXPECT(gbc.pc(), 0x9d74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d73), 0xb0);
        // B0 0241
        gbc.setState(0xc6ad, 0x7c2, 0x4770, 0x7bd7, 0x38de, 0x85a, 0x0, 0x1);
        gbc.writeMem(0xc6ad, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x7c2);
        EXPECT(gbc.pc(), 0xc6ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ad), 0xb0);
        // B0 0242
        gbc.setState(0x71a6, 0x2c67, 0x2db0, 0xbbe9, 0xe175, 0x6c11, 0x0, 0x0);
        gbc.writeMem(0x71a6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2c67);
        EXPECT(gbc.pc(), 0x71a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0243
        gbc.setState(0x6d1f, 0xd283, 0xb320, 0xd30a, 0xa46b, 0xf8d8, 0x1, 0x1);
        gbc.writeMem(0x6d1f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd283);
        EXPECT(gbc.pc(), 0x6d20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0244
        gbc.setState(0x6104, 0x5cc6, 0x65b0, 0xfaf6, 0xb2ce, 0xd91c, 0x1, 0x1);
        gbc.writeMem(0x6104, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5cc6);
        EXPECT(gbc.pc(), 0x6105);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0245
        gbc.setState(0x7ac8, 0xbe83, 0xcda0, 0x1a94, 0xecb7, 0x8c55, 0x0, 0x1);
        gbc.writeMem(0x7ac8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xbe83);
        EXPECT(gbc.pc(), 0x7ac9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0246
        gbc.setState(0x4410, 0xe984, 0x7490, 0x8ae5, 0xb0b2, 0x7733, 0x0, 0x0);
        gbc.writeMem(0x4410, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe984);
        EXPECT(gbc.pc(), 0x4411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0248
        gbc.setState(0x6bd, 0xcad8, 0x3a50, 0xf06d, 0x63e3, 0x89ae, 0x1, 0x0);
        gbc.writeMem(0x6bd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xcad8);
        EXPECT(gbc.pc(), 0x6be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0249
        gbc.setState(0xa3ce, 0x8563, 0xbc0, 0xb95e, 0xfd30, 0xf31d, 0x0, 0x0);
        gbc.writeMem(0xa3ce, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8563);
        EXPECT(gbc.pc(), 0xa3cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ce), 0xb0);
        // B0 024A
        gbc.setState(0x1798, 0x6f8b, 0xe5f0, 0xca50, 0x9e1c, 0x98b, 0x0, 0x0);
        gbc.writeMem(0x1798, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6f8b);
        EXPECT(gbc.pc(), 0x1799);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 024B
        gbc.setState(0x8e05, 0x24a9, 0x87f0, 0xfc63, 0xff76, 0x1df7, 0x0, 0x0);
        gbc.writeMem(0x8e05, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x24a9);
        EXPECT(gbc.pc(), 0x8e06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e05), 0xb0);
        // B0 024C
        gbc.setState(0xc334, 0xbed6, 0xe960, 0xb5cb, 0x3258, 0x7704, 0x1, 0x1);
        gbc.writeMem(0xc334, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xbed6);
        EXPECT(gbc.pc(), 0xc335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc334), 0xb0);
        // B0 024D
        gbc.setState(0xa54b, 0xa4e1, 0xb930, 0x4252, 0xec00, 0xd788, 0x0, 0x0);
        gbc.writeMem(0xa54b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa4e1);
        EXPECT(gbc.pc(), 0xa54c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa54b), 0xb0);
        // B0 024E
        gbc.setState(0xa13f, 0x4d76, 0xafc0, 0xf2cd, 0xe792, 0xcb9d, 0x0, 0x0);
        gbc.writeMem(0xa13f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x4d76);
        EXPECT(gbc.pc(), 0xa140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa13f), 0xb0);
        // B0 024F
        gbc.setState(0x745, 0x465f, 0xd570, 0x25cf, 0x2294, 0x8687, 0x0, 0x1);
        gbc.writeMem(0x745, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x465f);
        EXPECT(gbc.pc(), 0x746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0251
        gbc.setState(0x1e1f, 0x994b, 0x1280, 0xab1c, 0xfd94, 0x937, 0x0, 0x1);
        gbc.writeMem(0x1e1f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x994b);
        EXPECT(gbc.pc(), 0x1e20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0252
        gbc.setState(0x96e1, 0xf72e, 0x8380, 0xc0b6, 0x3919, 0x73f8, 0x0, 0x0);
        gbc.writeMem(0x96e1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xf72e);
        EXPECT(gbc.pc(), 0x96e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96e1), 0xb0);
        // B0 0253
        gbc.setState(0xd1c0, 0xda7d, 0x6d00, 0x34b6, 0x43e0, 0xfc5f, 0x0, 0x0);
        gbc.writeMem(0xd1c0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xda7d);
        EXPECT(gbc.pc(), 0xd1c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1c0), 0xb0);
        // B0 0254
        gbc.setState(0x9f1e, 0x71f8, 0x5140, 0x1889, 0x4923, 0x393, 0x0, 0x0);
        gbc.writeMem(0x9f1e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x71f8);
        EXPECT(gbc.pc(), 0x9f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f1e), 0xb0);
        // B0 0255
        gbc.setState(0x1e19, 0x2959, 0xd180, 0x3da5, 0x7c54, 0x6386, 0x0, 0x0);
        gbc.writeMem(0x1e19, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2959);
        EXPECT(gbc.pc(), 0x1e1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0256
        gbc.setState(0xbc54, 0x1161, 0x50a0, 0x3d1, 0x8ab5, 0x19df, 0x0, 0x1);
        gbc.writeMem(0xbc54, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1161);
        EXPECT(gbc.pc(), 0xbc55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc54), 0xb0);
        // B0 0257
        gbc.setState(0x9bfa, 0xdae6, 0x7d80, 0x557b, 0xa59d, 0xffee, 0x0, 0x0);
        gbc.writeMem(0x9bfa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xdae6);
        EXPECT(gbc.pc(), 0x9bfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bfa), 0xb0);
        // B0 0258
        gbc.setState(0x4bbd, 0xdf04, 0x9e40, 0x9c42, 0xea11, 0x9c00, 0x1, 0x1);
        gbc.writeMem(0x4bbd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdf04);
        EXPECT(gbc.pc(), 0x4bbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0259
        gbc.setState(0xb458, 0x65dc, 0x4d00, 0x1484, 0xa706, 0x5c76, 0x0, 0x0);
        gbc.writeMem(0xb458, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x65dc);
        EXPECT(gbc.pc(), 0xb459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb458), 0xb0);
        // B0 025A
        gbc.setState(0xa10f, 0xdf64, 0x21b0, 0xe680, 0xaf6d, 0x546d, 0x0, 0x0);
        gbc.writeMem(0xa10f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xdf64);
        EXPECT(gbc.pc(), 0xa110);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa10f), 0xb0);
        // B0 025B
        gbc.setState(0xaa2b, 0x2483, 0xc380, 0xa177, 0x19a6, 0x9114, 0x1, 0x1);
        gbc.writeMem(0xaa2b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2483);
        EXPECT(gbc.pc(), 0xaa2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa2b), 0xb0);
        // B0 025C
        gbc.setState(0x9aa9, 0xe505, 0xf5a0, 0xd91f, 0x62c4, 0x857d, 0x0, 0x0);
        gbc.writeMem(0x9aa9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe505);
        EXPECT(gbc.pc(), 0x9aaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aa9), 0xb0);
        // B0 025D
        gbc.setState(0x365c, 0x5c25, 0x3e70, 0xa013, 0x84c3, 0x9b42, 0x1, 0x0);
        gbc.writeMem(0x365c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x5c25);
        EXPECT(gbc.pc(), 0x365d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 025E
        gbc.setState(0x7117, 0xc4df, 0x2210, 0x7523, 0x45db, 0xb359, 0x1, 0x0);
        gbc.writeMem(0x7117, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc4df);
        EXPECT(gbc.pc(), 0x7118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 025F
        gbc.setState(0x8025, 0x62df, 0x14e0, 0xb542, 0x5142, 0xbcd2, 0x1, 0x0);
        gbc.writeMem(0x8025, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x62df);
        EXPECT(gbc.pc(), 0x8026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8025), 0xb0);
        // B0 0260
        gbc.setState(0x4082, 0x3d7e, 0xb6f0, 0xed1f, 0x7e31, 0xb6e3, 0x1, 0x1);
        gbc.writeMem(0x4082, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3d7e);
        EXPECT(gbc.pc(), 0x4083);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0261
        gbc.setState(0x50c4, 0xe756, 0x4d40, 0x7822, 0x36ee, 0x1b1e, 0x0, 0x1);
        gbc.writeMem(0x50c4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe756);
        EXPECT(gbc.pc(), 0x50c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0262
        gbc.setState(0x26db, 0xa618, 0xbf10, 0xc5ed, 0xa42e, 0x8e8f, 0x0, 0x1);
        gbc.writeMem(0x26db, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xa618);
        EXPECT(gbc.pc(), 0x26dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0263
        gbc.setState(0x762d, 0x623a, 0xa1f0, 0xe84c, 0xd9da, 0x141f, 0x0, 0x0);
        gbc.writeMem(0x762d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x623a);
        EXPECT(gbc.pc(), 0x762e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0264
        gbc.setState(0x9bc0, 0x79c1, 0x15e0, 0x6e76, 0x91d3, 0x355a, 0x1, 0x0);
        gbc.writeMem(0x9bc0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x79c1);
        EXPECT(gbc.pc(), 0x9bc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bc0), 0xb0);
        // B0 0265
        gbc.setState(0x1b37, 0x9589, 0x2850, 0x50f5, 0x35b3, 0xce2f, 0x1, 0x0);
        gbc.writeMem(0x1b37, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9589);
        EXPECT(gbc.pc(), 0x1b38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0266
        gbc.setState(0xbaaa, 0xf816, 0x3450, 0xa2e6, 0x18a6, 0xbb49, 0x1, 0x0);
        gbc.writeMem(0xbaaa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf816);
        EXPECT(gbc.pc(), 0xbaab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaaa), 0xb0);
        // B0 0267
        gbc.setState(0x4e94, 0x3eb8, 0xe620, 0x849f, 0xcb97, 0x148d, 0x1, 0x1);
        gbc.writeMem(0x4e94, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3eb8);
        EXPECT(gbc.pc(), 0x4e95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0268
        gbc.setState(0x444a, 0xe048, 0x83e0, 0x1a, 0xdb28, 0xe04e, 0x0, 0x0);
        gbc.writeMem(0x444a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe048);
        EXPECT(gbc.pc(), 0x444b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0269
        gbc.setState(0x113d, 0x8884, 0x78f0, 0x3fa7, 0x5206, 0xe90, 0x1, 0x1);
        gbc.writeMem(0x113d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8884);
        EXPECT(gbc.pc(), 0x113e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 026A
        gbc.setState(0x2fcb, 0xa54a, 0x1600, 0xfcd7, 0x6629, 0xbafc, 0x0, 0x0);
        gbc.writeMem(0x2fcb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa54a);
        EXPECT(gbc.pc(), 0x2fcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 026B
        gbc.setState(0xcd31, 0xbeca, 0x2ba0, 0x4683, 0x425c, 0xbce1, 0x1, 0x1);
        gbc.writeMem(0xcd31, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xbeca);
        EXPECT(gbc.pc(), 0xcd32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd31), 0xb0);
        // B0 026C
        gbc.setState(0x59ba, 0x5523, 0xa150, 0x3c7d, 0x6f0, 0x3f76, 0x1, 0x1);
        gbc.writeMem(0x59ba, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5523);
        EXPECT(gbc.pc(), 0x59bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 026D
        gbc.setState(0xbe7d, 0x2f4f, 0x2100, 0xd1be, 0x7a95, 0xd9bd, 0x1, 0x1);
        gbc.writeMem(0xbe7d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2f4f);
        EXPECT(gbc.pc(), 0xbe7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe7d), 0xb0);
        // B0 026E
        gbc.setState(0xd82f, 0xbf61, 0xbfd0, 0x97de, 0xcf9e, 0x910a, 0x0, 0x1);
        gbc.writeMem(0xd82f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xbf61);
        EXPECT(gbc.pc(), 0xd830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd82f), 0xb0);
        // B0 026F
        gbc.setState(0x70c, 0xc217, 0xd590, 0x1624, 0x38ad, 0x4d17, 0x1, 0x1);
        gbc.writeMem(0x70c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc217);
        EXPECT(gbc.pc(), 0x70d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0270
        gbc.setState(0xd56, 0x15df, 0x5b30, 0xcea4, 0x43d5, 0x1981, 0x0, 0x0);
        gbc.writeMem(0xd56, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x15df);
        EXPECT(gbc.pc(), 0xd57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0271
        gbc.setState(0x7e2c, 0xd77c, 0x9e0, 0x2e33, 0x5eb5, 0x6fe1, 0x1, 0x0);
        gbc.writeMem(0x7e2c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xd77c);
        EXPECT(gbc.pc(), 0x7e2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0272
        gbc.setState(0x787c, 0xc5d9, 0x99f0, 0x734d, 0x7a6e, 0xeca4, 0x0, 0x1);
        gbc.writeMem(0x787c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc5d9);
        EXPECT(gbc.pc(), 0x787d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0273
        gbc.setState(0xc9c6, 0xcbbb, 0xcb50, 0x9674, 0xeec, 0xadba, 0x1, 0x1);
        gbc.writeMem(0xc9c6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcbbb);
        EXPECT(gbc.pc(), 0xc9c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9c6), 0xb0);
        // B0 0274
        gbc.setState(0xc9ee, 0x56af, 0x2990, 0xfa1a, 0x94a1, 0xf31f, 0x0, 0x0);
        gbc.writeMem(0xc9ee, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x56af);
        EXPECT(gbc.pc(), 0xc9ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ee), 0xb0);
        // B0 0275
        gbc.setState(0x6d63, 0xa7a2, 0x3ac0, 0xda22, 0x8346, 0x96fb, 0x1, 0x1);
        gbc.writeMem(0x6d63, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa7a2);
        EXPECT(gbc.pc(), 0x6d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0276
        gbc.setState(0x6dc2, 0xbcda, 0x25c0, 0x6c9b, 0xe9fe, 0x5b1, 0x0, 0x1);
        gbc.writeMem(0x6dc2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xbcda);
        EXPECT(gbc.pc(), 0x6dc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0278
        gbc.setState(0x3373, 0xa062, 0x7d50, 0xe5bf, 0xfadb, 0x899c, 0x0, 0x1);
        gbc.writeMem(0x3373, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa062);
        EXPECT(gbc.pc(), 0x3374);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0279
        gbc.setState(0x7780, 0x2e9f, 0xac0, 0xdb01, 0x43cb, 0x3990, 0x0, 0x1);
        gbc.writeMem(0x7780, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2e9f);
        EXPECT(gbc.pc(), 0x7781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 027A
        gbc.setState(0x1f15, 0x3953, 0x4e50, 0xcc08, 0x932, 0x7f34, 0x1, 0x1);
        gbc.writeMem(0x1f15, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3953);
        EXPECT(gbc.pc(), 0x1f16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 027C
        gbc.setState(0x49ec, 0xcd63, 0x4fd0, 0x522a, 0xb3c8, 0xfa6f, 0x1, 0x1);
        gbc.writeMem(0x49ec, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcd63);
        EXPECT(gbc.pc(), 0x49ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 027D
        gbc.setState(0xadf1, 0xc91e, 0xa0c0, 0xc55e, 0x1056, 0x6d2e, 0x1, 0x1);
        gbc.writeMem(0xadf1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc91e);
        EXPECT(gbc.pc(), 0xadf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadf1), 0xb0);
        // B0 027E
        gbc.setState(0x38b1, 0x525, 0xe690, 0x42c4, 0x5bcd, 0xbe5c, 0x0, 0x1);
        gbc.writeMem(0x38b1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x525);
        EXPECT(gbc.pc(), 0x38b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 027F
        gbc.setState(0x7d1c, 0x4e26, 0x33a0, 0x8041, 0x40e3, 0x3f6a, 0x1, 0x0);
        gbc.writeMem(0x7d1c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x4e26);
        EXPECT(gbc.pc(), 0x7d1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0280
        gbc.setState(0xca12, 0x18aa, 0x7c90, 0xb7e4, 0xda79, 0x6c12, 0x1, 0x0);
        gbc.writeMem(0xca12, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x18aa);
        EXPECT(gbc.pc(), 0xca13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca12), 0xb0);
        // B0 0281
        gbc.setState(0x7c8a, 0xa6ca, 0xd5d0, 0x9007, 0xf04f, 0x1c2e, 0x1, 0x0);
        gbc.writeMem(0x7c8a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa6ca);
        EXPECT(gbc.pc(), 0x7c8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0282
        gbc.setState(0xd727, 0xeeec, 0xb310, 0xaba8, 0xb91, 0xcddf, 0x0, 0x1);
        gbc.writeMem(0xd727, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xeeec);
        EXPECT(gbc.pc(), 0xd728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd727), 0xb0);
        // B0 0283
        gbc.setState(0x24d7, 0x5d51, 0x92a0, 0x4470, 0xc255, 0xde3d, 0x1, 0x1);
        gbc.writeMem(0x24d7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5d51);
        EXPECT(gbc.pc(), 0x24d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0284
        gbc.setState(0x4769, 0xa15a, 0x6ef0, 0x71b7, 0xd402, 0x5d36, 0x1, 0x0);
        gbc.writeMem(0x4769, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa15a);
        EXPECT(gbc.pc(), 0x476a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0285
        gbc.setState(0x4b54, 0x6569, 0x2670, 0xcf26, 0xa2d3, 0xe6e6, 0x0, 0x0);
        gbc.writeMem(0x4b54, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6569);
        EXPECT(gbc.pc(), 0x4b55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0286
        gbc.setState(0x6dad, 0x4b6d, 0x11f0, 0xcb86, 0xd768, 0x775f, 0x1, 0x0);
        gbc.writeMem(0x6dad, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4b6d);
        EXPECT(gbc.pc(), 0x6dae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0287
        gbc.setState(0x380c, 0x5b5a, 0xb840, 0x4c1a, 0x5083, 0x6c23, 0x1, 0x0);
        gbc.writeMem(0x380c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x5b5a);
        EXPECT(gbc.pc(), 0x380d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0288
        gbc.setState(0x5a3a, 0xb68d, 0x28a0, 0x333b, 0x577, 0x2601, 0x1, 0x1);
        gbc.writeMem(0x5a3a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb68d);
        EXPECT(gbc.pc(), 0x5a3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0289
        gbc.setState(0x5954, 0xb8e0, 0xdf80, 0xf346, 0x3311, 0xc7d0, 0x0, 0x0);
        gbc.writeMem(0x5954, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb8e0);
        EXPECT(gbc.pc(), 0x5955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 028A
        gbc.setState(0x77e7, 0x42d, 0x9d20, 0x8151, 0x47e3, 0x13a9, 0x1, 0x0);
        gbc.writeMem(0x77e7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x42d);
        EXPECT(gbc.pc(), 0x77e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 028B
        gbc.setState(0xac6e, 0xbc54, 0xe6d0, 0xb69c, 0x14a1, 0x8a1, 0x0, 0x1);
        gbc.writeMem(0xac6e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xbc54);
        EXPECT(gbc.pc(), 0xac6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac6e), 0xb0);
        // B0 028C
        gbc.setState(0xeda9, 0xac7b, 0x8bb0, 0x6105, 0x6abe, 0xba3b, 0x0, 0x1);
        gbc.writeMem(0xeda9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xac7b);
        EXPECT(gbc.pc(), 0xedaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeda9), 0xb0);
        // B0 028D
        gbc.setState(0x74a8, 0x55bc, 0xc780, 0xdbf1, 0xd274, 0xa546, 0x1, 0x1);
        gbc.writeMem(0x74a8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x55bc);
        EXPECT(gbc.pc(), 0x74a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 028E
        gbc.setState(0x1206, 0xbeea, 0xa4e0, 0x9abc, 0xbb81, 0x955, 0x0, 0x1);
        gbc.writeMem(0x1206, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xbeea);
        EXPECT(gbc.pc(), 0x1207);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 028F
        gbc.setState(0xe3c6, 0x1b3e, 0x2750, 0x4a51, 0xcc2, 0x3cb2, 0x1, 0x0);
        gbc.writeMem(0xe3c6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1b3e);
        EXPECT(gbc.pc(), 0xe3c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3c6), 0xb0);
        // B0 0290
        gbc.setState(0xecc9, 0x2331, 0x12f0, 0x6a35, 0xd4e6, 0x757c, 0x0, 0x1);
        gbc.writeMem(0xecc9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2331);
        EXPECT(gbc.pc(), 0xecca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecc9), 0xb0);
        // B0 0291
        gbc.setState(0x95a3, 0x334d, 0xebd0, 0x6cb6, 0x80cb, 0x3e87, 0x0, 0x0);
        gbc.writeMem(0x95a3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x334d);
        EXPECT(gbc.pc(), 0x95a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a3), 0xb0);
        // B0 0292
        gbc.setState(0xdd9d, 0xe058, 0xfba0, 0x1704, 0x8883, 0x1b8d, 0x1, 0x0);
        gbc.writeMem(0xdd9d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe058);
        EXPECT(gbc.pc(), 0xdd9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd9d), 0xb0);
        // B0 0293
        gbc.setState(0x1a81, 0x36bf, 0xcd90, 0x446e, 0x30e2, 0x7e76, 0x0, 0x0);
        gbc.writeMem(0x1a81, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x36bf);
        EXPECT(gbc.pc(), 0x1a82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0294
        gbc.setState(0xa31b, 0x307a, 0xf50, 0xe3a3, 0x65c6, 0xc7db, 0x1, 0x1);
        gbc.writeMem(0xa31b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x307a);
        EXPECT(gbc.pc(), 0xa31c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa31b), 0xb0);
        // B0 0295
        gbc.setState(0x2553, 0x25a4, 0xa730, 0x1afb, 0xd7a0, 0x6825, 0x0, 0x0);
        gbc.writeMem(0x2553, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x25a4);
        EXPECT(gbc.pc(), 0x2554);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0296
        gbc.setState(0xee09, 0xb934, 0x7c30, 0x3c86, 0x7cf3, 0x7706, 0x0, 0x0);
        gbc.writeMem(0xee09, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb934);
        EXPECT(gbc.pc(), 0xee0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee09), 0xb0);
        // B0 0297
        gbc.setState(0x74ee, 0x624e, 0xe060, 0x9bf1, 0x4a0e, 0x737e, 0x1, 0x1);
        gbc.writeMem(0x74ee, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x624e);
        EXPECT(gbc.pc(), 0x74ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0298
        gbc.setState(0x9e83, 0x7e30, 0xd880, 0xa40c, 0x454d, 0x4b84, 0x0, 0x0);
        gbc.writeMem(0x9e83, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7e30);
        EXPECT(gbc.pc(), 0x9e84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e83), 0xb0);
        // B0 029A
        gbc.setState(0x9b60, 0xefc8, 0xaca0, 0x1e2d, 0xd2e4, 0x6df2, 0x1, 0x0);
        gbc.writeMem(0x9b60, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xefc8);
        EXPECT(gbc.pc(), 0x9b61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b60), 0xb0);
        // B0 029B
        gbc.setState(0xdd6d, 0x3c29, 0xb8f0, 0x1ba0, 0xcc59, 0xe341, 0x0, 0x0);
        gbc.writeMem(0xdd6d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3c29);
        EXPECT(gbc.pc(), 0xdd6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd6d), 0xb0);
        // B0 029C
        gbc.setState(0x9add, 0x57cf, 0x8d00, 0x5d88, 0xe348, 0x32ec, 0x0, 0x1);
        gbc.writeMem(0x9add, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x57cf);
        EXPECT(gbc.pc(), 0x9ade);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9add), 0xb0);
        // B0 029D
        gbc.setState(0x585e, 0x37fc, 0xc6e0, 0xb40b, 0xa37e, 0xfb91, 0x0, 0x1);
        gbc.writeMem(0x585e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x37fc);
        EXPECT(gbc.pc(), 0x585f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 029E
        gbc.setState(0xe312, 0xb94b, 0x15a0, 0x4be8, 0x4a72, 0x1508, 0x1, 0x0);
        gbc.writeMem(0xe312, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb94b);
        EXPECT(gbc.pc(), 0xe313);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe312), 0xb0);
        // B0 029F
        gbc.setState(0xd0eb, 0x1f7e, 0xc360, 0x819, 0x2cd2, 0x9f36, 0x1, 0x0);
        gbc.writeMem(0xd0eb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1f7e);
        EXPECT(gbc.pc(), 0xd0ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0eb), 0xb0);
        // B0 02A0
        gbc.setState(0x69f4, 0x2fa1, 0x5030, 0x7f2a, 0xc418, 0x114d, 0x1, 0x0);
        gbc.writeMem(0x69f4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2fa1);
        EXPECT(gbc.pc(), 0x69f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02A2
        gbc.setState(0x8fc5, 0xa175, 0xab40, 0xcb57, 0xadd3, 0x449e, 0x1, 0x0);
        gbc.writeMem(0x8fc5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa175);
        EXPECT(gbc.pc(), 0x8fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fc5), 0xb0);
        // B0 02A3
        gbc.setState(0x56b, 0xc05c, 0x4170, 0x1764, 0xbbca, 0xc1e6, 0x1, 0x1);
        gbc.writeMem(0x56b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc05c);
        EXPECT(gbc.pc(), 0x56c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02A4
        gbc.setState(0x2ec2, 0xd618, 0xde40, 0x8e91, 0xef7f, 0x8131, 0x1, 0x1);
        gbc.writeMem(0x2ec2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd618);
        EXPECT(gbc.pc(), 0x2ec3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02A5
        gbc.setState(0xdec3, 0xfc76, 0xd200, 0xd919, 0x538c, 0xf381, 0x1, 0x0);
        gbc.writeMem(0xdec3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xfc76);
        EXPECT(gbc.pc(), 0xdec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdec3), 0xb0);
        // B0 02A6
        gbc.setState(0xbdff, 0x7b4d, 0x8e80, 0xa710, 0x677b, 0x3b35, 0x0, 0x0);
        gbc.writeMem(0xbdff, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7b4d);
        EXPECT(gbc.pc(), 0xbe00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdff), 0xb0);
        // B0 02A7
        gbc.setState(0x73a3, 0xfc4, 0x3c50, 0x9318, 0xd420, 0xe6a0, 0x0, 0x0);
        gbc.writeMem(0x73a3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xfc4);
        EXPECT(gbc.pc(), 0x73a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02A8
        gbc.setState(0x889a, 0xecfb, 0x3610, 0x4b50, 0x70c1, 0x940, 0x0, 0x0);
        gbc.writeMem(0x889a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xecfb);
        EXPECT(gbc.pc(), 0x889b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x889a), 0xb0);
        // B0 02A9
        gbc.setState(0x7e48, 0xa417, 0xc850, 0x409c, 0xa15c, 0xb2bd, 0x0, 0x0);
        gbc.writeMem(0x7e48, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa417);
        EXPECT(gbc.pc(), 0x7e49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02AA
        gbc.setState(0x80be, 0xe928, 0xf310, 0xe0f9, 0x7f3, 0x5e09, 0x0, 0x0);
        gbc.writeMem(0x80be, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe928);
        EXPECT(gbc.pc(), 0x80bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80be), 0xb0);
        // B0 02AB
        gbc.setState(0xb247, 0x71c9, 0xc6c0, 0xdb77, 0xd30f, 0x7281, 0x0, 0x0);
        gbc.writeMem(0xb247, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x71c9);
        EXPECT(gbc.pc(), 0xb248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb247), 0xb0);
        // B0 02AC
        gbc.setState(0x27b6, 0x133b, 0x8220, 0x569b, 0x452d, 0xe19c, 0x0, 0x1);
        gbc.writeMem(0x27b6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x133b);
        EXPECT(gbc.pc(), 0x27b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02AD
        gbc.setState(0xe4d8, 0xace2, 0xbc00, 0xaf39, 0x4a08, 0x31af, 0x1, 0x1);
        gbc.writeMem(0xe4d8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xace2);
        EXPECT(gbc.pc(), 0xe4d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d8), 0xb0);
        // B0 02AE
        gbc.setState(0x2864, 0x9afa, 0xa590, 0x6c96, 0x6801, 0x5516, 0x0, 0x0);
        gbc.writeMem(0x2864, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9afa);
        EXPECT(gbc.pc(), 0x2865);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02AF
        gbc.setState(0x5e1e, 0x4d70, 0xfab0, 0xfeb5, 0x2628, 0x559, 0x0, 0x1);
        gbc.writeMem(0x5e1e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4d70);
        EXPECT(gbc.pc(), 0x5e1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02B0
        gbc.setState(0xded2, 0x2bff, 0xb630, 0x42ac, 0x68ca, 0x389c, 0x1, 0x0);
        gbc.writeMem(0xded2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2bff);
        EXPECT(gbc.pc(), 0xded3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xded2), 0xb0);
        // B0 02B1
        gbc.setState(0x9e0f, 0x170b, 0x5580, 0x27c0, 0x6624, 0x2401, 0x0, 0x0);
        gbc.writeMem(0x9e0f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x170b);
        EXPECT(gbc.pc(), 0x9e10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e0f), 0xb0);
        // B0 02B2
        gbc.setState(0xdca0, 0x94aa, 0x55f0, 0x8c41, 0xafcf, 0x2dc0, 0x0, 0x1);
        gbc.writeMem(0xdca0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x94aa);
        EXPECT(gbc.pc(), 0xdca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdca0), 0xb0);
        // B0 02B3
        gbc.setState(0xd510, 0xa3bc, 0xdcd0, 0x366c, 0x12e8, 0xc9d, 0x0, 0x0);
        gbc.writeMem(0xd510, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa3bc);
        EXPECT(gbc.pc(), 0xd511);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd510), 0xb0);
        // B0 02B4
        gbc.setState(0xaeb0, 0x420d, 0xa0a0, 0xb20a, 0x92e4, 0xa11, 0x1, 0x0);
        gbc.writeMem(0xaeb0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x420d);
        EXPECT(gbc.pc(), 0xaeb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeb0), 0xb0);
        // B0 02B5
        gbc.setState(0x2ce1, 0x6f21, 0xc670, 0x956f, 0x40af, 0x2c1d, 0x0, 0x0);
        gbc.writeMem(0x2ce1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x6f21);
        EXPECT(gbc.pc(), 0x2ce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02B6
        gbc.setState(0x1e54, 0x177d, 0x3820, 0xf69, 0x8987, 0xdeac, 0x1, 0x0);
        gbc.writeMem(0x1e54, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x177d);
        EXPECT(gbc.pc(), 0x1e55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02B7
        gbc.setState(0x740, 0x149, 0xec0, 0x6d3f, 0xbb9d, 0xc657, 0x0, 0x1);
        gbc.writeMem(0x740, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x149);
        EXPECT(gbc.pc(), 0x741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02B8
        gbc.setState(0x7436, 0x134f, 0x3c80, 0x6c56, 0x82fb, 0xf16d, 0x0, 0x1);
        gbc.writeMem(0x7436, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x134f);
        EXPECT(gbc.pc(), 0x7437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02B9
        gbc.setState(0x4935, 0xb746, 0x35d0, 0x311f, 0xa413, 0x43e6, 0x1, 0x1);
        gbc.writeMem(0x4935, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xb746);
        EXPECT(gbc.pc(), 0x4936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02BA
        gbc.setState(0xb68b, 0x5192, 0xfa80, 0x5191, 0xf391, 0x49c3, 0x0, 0x0);
        gbc.writeMem(0xb68b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5192);
        EXPECT(gbc.pc(), 0xb68c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68b), 0xb0);
        // B0 02BB
        gbc.setState(0xb85c, 0xfeb4, 0x3da0, 0x4c13, 0x3b41, 0xc7fb, 0x0, 0x0);
        gbc.writeMem(0xb85c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xfeb4);
        EXPECT(gbc.pc(), 0xb85d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb85c), 0xb0);
        // B0 02BC
        gbc.setState(0x2c59, 0xa95f, 0x4e10, 0xd40f, 0xc2c8, 0x3519, 0x1, 0x1);
        gbc.writeMem(0x2c59, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa95f);
        EXPECT(gbc.pc(), 0x2c5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02BD
        gbc.setState(0x1ed8, 0x8a78, 0xa1d0, 0x1d3e, 0x7b8d, 0xe194, 0x1, 0x0);
        gbc.writeMem(0x1ed8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x8a78);
        EXPECT(gbc.pc(), 0x1ed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02BE
        gbc.setState(0x7d3f, 0x6bfd, 0x8fb0, 0xeb49, 0xd54d, 0x7555, 0x1, 0x1);
        gbc.writeMem(0x7d3f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6bfd);
        EXPECT(gbc.pc(), 0x7d40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02BF
        gbc.setState(0xb9b0, 0x9079, 0x8440, 0x1ee3, 0x4cda, 0xa083, 0x0, 0x1);
        gbc.writeMem(0xb9b0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9079);
        EXPECT(gbc.pc(), 0xb9b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9b0), 0xb0);
        // B0 02C0
        gbc.setState(0xbf81, 0x2ab5, 0xc3a0, 0xf7a6, 0x27ee, 0x7389, 0x1, 0x1);
        gbc.writeMem(0xbf81, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2ab5);
        EXPECT(gbc.pc(), 0xbf82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf81), 0xb0);
        // B0 02C1
        gbc.setState(0x9643, 0x8b66, 0x3770, 0x2db7, 0x38d2, 0x473b, 0x1, 0x0);
        gbc.writeMem(0x9643, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8b66);
        EXPECT(gbc.pc(), 0x9644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9643), 0xb0);
        // B0 02C2
        gbc.setState(0x6c42, 0xdd6c, 0x82e0, 0xc427, 0xccf9, 0x32f0, 0x0, 0x1);
        gbc.writeMem(0x6c42, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xdd6c);
        EXPECT(gbc.pc(), 0x6c43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02C3
        gbc.setState(0xc772, 0x7df2, 0x390, 0x6dd7, 0x123e, 0x2eca, 0x1, 0x1);
        gbc.writeMem(0xc772, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7df2);
        EXPECT(gbc.pc(), 0xc773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc772), 0xb0);
        // B0 02C4
        gbc.setState(0xe79, 0x69e6, 0xc6e0, 0x5560, 0x83d2, 0x4506, 0x1, 0x0);
        gbc.writeMem(0xe79, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x69e6);
        EXPECT(gbc.pc(), 0xe7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02C5
        gbc.setState(0xea3a, 0x9f9f, 0xdd50, 0x9f1e, 0x260d, 0xf2c8, 0x1, 0x0);
        gbc.writeMem(0xea3a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9f9f);
        EXPECT(gbc.pc(), 0xea3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea3a), 0xb0);
        // B0 02C6
        gbc.setState(0x8bfa, 0x5dc7, 0xa6b0, 0xc230, 0x94fb, 0xefb6, 0x1, 0x1);
        gbc.writeMem(0x8bfa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x5dc7);
        EXPECT(gbc.pc(), 0x8bfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bfa), 0xb0);
        // B0 02C7
        gbc.setState(0xac32, 0xf2a2, 0x4520, 0x877e, 0xf162, 0x14fc, 0x0, 0x0);
        gbc.writeMem(0xac32, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xf2a2);
        EXPECT(gbc.pc(), 0xac33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac32), 0xb0);
        // B0 02C8
        gbc.setState(0x8a0, 0x48f8, 0xb8f0, 0x8326, 0x104f, 0x7774, 0x1, 0x1);
        gbc.writeMem(0x8a0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x48f8);
        EXPECT(gbc.pc(), 0x8a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02C9
        gbc.setState(0xacf3, 0x951, 0x9840, 0x9aca, 0xdcc1, 0x12e5, 0x1, 0x1);
        gbc.writeMem(0xacf3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x951);
        EXPECT(gbc.pc(), 0xacf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf3), 0xb0);
        // B0 02CA
        gbc.setState(0xe8ca, 0x3edb, 0x41e0, 0xb241, 0x44a3, 0xa3d1, 0x0, 0x1);
        gbc.writeMem(0xe8ca, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3edb);
        EXPECT(gbc.pc(), 0xe8cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8ca), 0xb0);
        // B0 02CB
        gbc.setState(0xdb9a, 0xca1, 0xdd10, 0x354f, 0x40e9, 0x610, 0x0, 0x0);
        gbc.writeMem(0xdb9a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xca1);
        EXPECT(gbc.pc(), 0xdb9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb9a), 0xb0);
        // B0 02CC
        gbc.setState(0xc515, 0x4fcb, 0xed10, 0xad27, 0xe7e5, 0x7f41, 0x0, 0x1);
        gbc.writeMem(0xc515, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4fcb);
        EXPECT(gbc.pc(), 0xc516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc515), 0xb0);
        // B0 02CD
        gbc.setState(0xd50a, 0x3eb9, 0xacf0, 0xb440, 0x4ea6, 0xbf13, 0x0, 0x0);
        gbc.writeMem(0xd50a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3eb9);
        EXPECT(gbc.pc(), 0xd50b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd50a), 0xb0);
        // B0 02CF
        gbc.setState(0xb9b, 0xde77, 0x8ae0, 0x4d11, 0x754, 0x397f, 0x1, 0x0);
        gbc.writeMem(0xb9b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xde77);
        EXPECT(gbc.pc(), 0xb9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D0
        gbc.setState(0x7dcd, 0xa987, 0xeb40, 0x9684, 0xa4f7, 0x57fa, 0x0, 0x1);
        gbc.writeMem(0x7dcd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa987);
        EXPECT(gbc.pc(), 0x7dce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D1
        gbc.setState(0x5050, 0x363c, 0x2fb0, 0xa501, 0xb7b6, 0x35f2, 0x0, 0x0);
        gbc.writeMem(0x5050, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x363c);
        EXPECT(gbc.pc(), 0x5051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D2
        gbc.setState(0x41fc, 0xc303, 0x8430, 0xa3ec, 0x2e5c, 0xbd04, 0x1, 0x1);
        gbc.writeMem(0x41fc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc303);
        EXPECT(gbc.pc(), 0x41fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D3
        gbc.setState(0x1987, 0x450, 0x9cd0, 0xeeb6, 0xdf7d, 0xd1f5, 0x0, 0x1);
        gbc.writeMem(0x1987, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x450);
        EXPECT(gbc.pc(), 0x1988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D4
        gbc.setState(0xb3b7, 0xc84a, 0x340, 0x4b7d, 0xd4c7, 0x899a, 0x1, 0x1);
        gbc.writeMem(0xb3b7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc84a);
        EXPECT(gbc.pc(), 0xb3b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b7), 0xb0);
        // B0 02D5
        gbc.setState(0x5abd, 0x606, 0xe6a0, 0x3ad5, 0xf70d, 0x8de, 0x0, 0x0);
        gbc.writeMem(0x5abd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x606);
        EXPECT(gbc.pc(), 0x5abe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D6
        gbc.setState(0x1a5a, 0x4ae9, 0xa1e0, 0x9f42, 0xd87f, 0x33d2, 0x0, 0x0);
        gbc.writeMem(0x1a5a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4ae9);
        EXPECT(gbc.pc(), 0x1a5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D7
        gbc.setState(0x4069, 0x2ca1, 0x8710, 0x6d01, 0x9047, 0xf2c4, 0x0, 0x0);
        gbc.writeMem(0x4069, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2ca1);
        EXPECT(gbc.pc(), 0x406a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02D8
        gbc.setState(0xcb8c, 0x8229, 0x21c0, 0x3296, 0xa917, 0x8c6d, 0x0, 0x1);
        gbc.writeMem(0xcb8c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8229);
        EXPECT(gbc.pc(), 0xcb8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb8c), 0xb0);
        // B0 02D9
        gbc.setState(0xc03d, 0xce69, 0xdd70, 0x8a62, 0xd37, 0x93ff, 0x1, 0x1);
        gbc.writeMem(0xc03d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xce69);
        EXPECT(gbc.pc(), 0xc03e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc03d), 0xb0);
        // B0 02DA
        gbc.setState(0xb2b, 0x76f6, 0x59a0, 0xc9cc, 0xe53f, 0xf981, 0x0, 0x0);
        gbc.writeMem(0xb2b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x76f6);
        EXPECT(gbc.pc(), 0xb2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02DB
        gbc.setState(0xb8e2, 0xb1a1, 0xb100, 0xffd6, 0x996e, 0x4ae4, 0x0, 0x1);
        gbc.writeMem(0xb8e2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb1a1);
        EXPECT(gbc.pc(), 0xb8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e2), 0xb0);
        // B0 02DC
        gbc.setState(0x340a, 0xc1b, 0xc900, 0x807f, 0xa8fa, 0x580d, 0x1, 0x1);
        gbc.writeMem(0x340a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc1b);
        EXPECT(gbc.pc(), 0x340b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02DD
        gbc.setState(0x1f30, 0x5afa, 0x7d60, 0xa207, 0xb71b, 0x486d, 0x0, 0x0);
        gbc.writeMem(0x1f30, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x5afa);
        EXPECT(gbc.pc(), 0x1f31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02DE
        gbc.setState(0x8f42, 0x29b3, 0xbaa0, 0x186, 0x5abd, 0x1c54, 0x0, 0x0);
        gbc.writeMem(0x8f42, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x29b3);
        EXPECT(gbc.pc(), 0x8f43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f42), 0xb0);
        // B0 02DF
        gbc.setState(0x6ba2, 0xab0d, 0x5a30, 0x78bb, 0x6be1, 0xf2a5, 0x1, 0x0);
        gbc.writeMem(0x6ba2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xab0d);
        EXPECT(gbc.pc(), 0x6ba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02E0
        gbc.setState(0xbda1, 0xa651, 0x7160, 0xdf74, 0x6c93, 0x22d4, 0x0, 0x1);
        gbc.writeMem(0xbda1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa651);
        EXPECT(gbc.pc(), 0xbda2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda1), 0xb0);
        // B0 02E1
        gbc.setState(0xa167, 0xcac8, 0x1200, 0xde9a, 0x28ad, 0xf015, 0x0, 0x1);
        gbc.writeMem(0xa167, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xcac8);
        EXPECT(gbc.pc(), 0xa168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa167), 0xb0);
        // B0 02E2
        gbc.setState(0x6c36, 0xf3c6, 0xfa50, 0x146d, 0x22bf, 0x4f9b, 0x0, 0x1);
        gbc.writeMem(0x6c36, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf3c6);
        EXPECT(gbc.pc(), 0x6c37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02E3
        gbc.setState(0xeb84, 0x5309, 0x2bc0, 0xde27, 0xc51e, 0xaf41, 0x0, 0x0);
        gbc.writeMem(0xeb84, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x5309);
        EXPECT(gbc.pc(), 0xeb85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb84), 0xb0);
        // B0 02E4
        gbc.setState(0x250, 0x1ba2, 0x4dd0, 0x8101, 0x4c, 0x9303, 0x1, 0x0);
        gbc.writeMem(0x250, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x1ba2);
        EXPECT(gbc.pc(), 0x251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02E5
        gbc.setState(0xc12, 0x2066, 0x19f0, 0x10bb, 0xf0b9, 0x432, 0x0, 0x1);
        gbc.writeMem(0xc12, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2066);
        EXPECT(gbc.pc(), 0xc13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02E6
        gbc.setState(0x4d18, 0xff02, 0xf170, 0xde01, 0x8d23, 0x2dc1, 0x0, 0x0);
        gbc.writeMem(0x4d18, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xff02);
        EXPECT(gbc.pc(), 0x4d19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02E7
        gbc.setState(0x44fb, 0x9328, 0xe1a0, 0xe3e3, 0x317, 0xdfe4, 0x1, 0x1);
        gbc.writeMem(0x44fb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9328);
        EXPECT(gbc.pc(), 0x44fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02E8
        gbc.setState(0xdaf5, 0x3008, 0x8610, 0x902c, 0xa4ea, 0x18ce, 0x0, 0x1);
        gbc.writeMem(0xdaf5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3008);
        EXPECT(gbc.pc(), 0xdaf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf5), 0xb0);
        // B0 02E9
        gbc.setState(0xcd46, 0x95b2, 0x6b50, 0xcb0a, 0x3e11, 0x9a5d, 0x0, 0x1);
        gbc.writeMem(0xcd46, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x95b2);
        EXPECT(gbc.pc(), 0xcd47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd46), 0xb0);
        // B0 02EA
        gbc.setState(0xe4eb, 0xe3e2, 0xc4a0, 0x6d06, 0x3496, 0x6ccc, 0x1, 0x0);
        gbc.writeMem(0xe4eb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe3e2);
        EXPECT(gbc.pc(), 0xe4ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4eb), 0xb0);
        // B0 02EB
        gbc.setState(0x6970, 0x95da, 0x80f0, 0x2c36, 0xca2a, 0x3a5e, 0x1, 0x0);
        gbc.writeMem(0x6970, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x95da);
        EXPECT(gbc.pc(), 0x6971);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02EC
        gbc.setState(0x5ead, 0x3a2a, 0xbb10, 0xd6df, 0xecf7, 0xd3f, 0x0, 0x1);
        gbc.writeMem(0x5ead, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x3a2a);
        EXPECT(gbc.pc(), 0x5eae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02ED
        gbc.setState(0xdb79, 0xf8fd, 0xf640, 0xc731, 0xa8b3, 0xbf10, 0x1, 0x0);
        gbc.writeMem(0xdb79, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xf8fd);
        EXPECT(gbc.pc(), 0xdb7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb79), 0xb0);
        // B0 02EE
        gbc.setState(0x471b, 0x9aa2, 0x1340, 0x7015, 0x52cd, 0x2a8d, 0x0, 0x0);
        gbc.writeMem(0x471b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9aa2);
        EXPECT(gbc.pc(), 0x471c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02EF
        gbc.setState(0x6fc0, 0x2bd0, 0x9bf0, 0xab9, 0xb010, 0xf3d4, 0x1, 0x1);
        gbc.writeMem(0x6fc0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x2bd0);
        EXPECT(gbc.pc(), 0x6fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F0
        gbc.setState(0x6e00, 0x3296, 0xe590, 0xcbaf, 0xee62, 0x38a, 0x0, 0x0);
        gbc.writeMem(0x6e00, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3296);
        EXPECT(gbc.pc(), 0x6e01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F1
        gbc.setState(0x2c61, 0xb3f6, 0x46a0, 0x2281, 0xba8a, 0xf07c, 0x1, 0x0);
        gbc.writeMem(0x2c61, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb3f6);
        EXPECT(gbc.pc(), 0x2c62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F2
        gbc.setState(0x22be, 0x572b, 0x69f0, 0xd6a1, 0x3c55, 0x8165, 0x1, 0x0);
        gbc.writeMem(0x22be, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x572b);
        EXPECT(gbc.pc(), 0x22bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F3
        gbc.setState(0xa0a1, 0xd76, 0xa650, 0xc269, 0xf2de, 0x1606, 0x1, 0x1);
        gbc.writeMem(0xa0a1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd76);
        EXPECT(gbc.pc(), 0xa0a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a1), 0xb0);
        // B0 02F4
        gbc.setState(0x4743, 0x6a39, 0xb8e0, 0x7442, 0xc8b, 0x62e8, 0x1, 0x0);
        gbc.writeMem(0x4743, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6a39);
        EXPECT(gbc.pc(), 0x4744);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F5
        gbc.setState(0x9099, 0xa832, 0xbd30, 0x2a19, 0x280f, 0xd9af, 0x0, 0x0);
        gbc.writeMem(0x9099, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa832);
        EXPECT(gbc.pc(), 0x909a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9099), 0xb0);
        // B0 02F6
        gbc.setState(0x9cbf, 0x80c3, 0xec60, 0x58fe, 0x35ad, 0x8453, 0x1, 0x0);
        gbc.writeMem(0x9cbf, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x80c3);
        EXPECT(gbc.pc(), 0x9cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cbf), 0xb0);
        // B0 02F7
        gbc.setState(0x3e21, 0x82b3, 0xcf30, 0x662, 0x97f8, 0xeaab, 0x0, 0x1);
        gbc.writeMem(0x3e21, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x82b3);
        EXPECT(gbc.pc(), 0x3e22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F8
        gbc.setState(0x4dc0, 0x3a0b, 0xcef0, 0x24b6, 0xc1e, 0xf1c7, 0x0, 0x1);
        gbc.writeMem(0x4dc0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3a0b);
        EXPECT(gbc.pc(), 0x4dc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02F9
        gbc.setState(0x510e, 0xebf4, 0xacd0, 0x3df2, 0x6c71, 0x19fc, 0x0, 0x1);
        gbc.writeMem(0x510e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xebf4);
        EXPECT(gbc.pc(), 0x510f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02FA
        gbc.setState(0xa032, 0xde46, 0x1a00, 0xf05e, 0x31b0, 0x923e, 0x0, 0x0);
        gbc.writeMem(0xa032, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xde46);
        EXPECT(gbc.pc(), 0xa033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa032), 0xb0);
        // B0 02FB
        gbc.setState(0xddb6, 0xe0f7, 0xe940, 0x48a8, 0x3841, 0x8ba7, 0x1, 0x1);
        gbc.writeMem(0xddb6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe0f7);
        EXPECT(gbc.pc(), 0xddb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddb6), 0xb0);
        // B0 02FC
        gbc.setState(0xde3e, 0x20f8, 0x8d30, 0x6dc9, 0x2e52, 0xe016, 0x0, 0x0);
        gbc.writeMem(0xde3e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x20f8);
        EXPECT(gbc.pc(), 0xde3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde3e), 0xb0);
        // B0 02FD
        gbc.setState(0x480, 0xb249, 0xcff0, 0x9ffb, 0x1a70, 0xd243, 0x0, 0x1);
        gbc.writeMem(0x480, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb249);
        EXPECT(gbc.pc(), 0x481);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02FE
        gbc.setState(0x65d6, 0xfa89, 0xf130, 0x8a70, 0xf9ea, 0x7f7d, 0x1, 0x0);
        gbc.writeMem(0x65d6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xfa89);
        EXPECT(gbc.pc(), 0x65d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 02FF
        gbc.setState(0xcd8b, 0x1358, 0xbeb0, 0x598c, 0x8637, 0x7e44, 0x1, 0x1);
        gbc.writeMem(0xcd8b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x1358);
        EXPECT(gbc.pc(), 0xcd8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd8b), 0xb0);
        // B0 0300
        gbc.setState(0xe434, 0xbddd, 0x5ce0, 0xf006, 0xc6e3, 0xd66f, 0x0, 0x1);
        gbc.writeMem(0xe434, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbddd);
        EXPECT(gbc.pc(), 0xe435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe434), 0xb0);
        // B0 0301
        gbc.setState(0x42b0, 0x4e16, 0xa0, 0x31d7, 0xe87b, 0xe487, 0x1, 0x1);
        gbc.writeMem(0x42b0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x4e16);
        EXPECT(gbc.pc(), 0x42b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0302
        gbc.setState(0x75eb, 0x4f82, 0x3220, 0x6a23, 0x1da9, 0xe2c6, 0x0, 0x0);
        gbc.writeMem(0x75eb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4f82);
        EXPECT(gbc.pc(), 0x75ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0303
        gbc.setState(0x4cdb, 0x48c4, 0xf670, 0x7727, 0x1387, 0x6e3f, 0x1, 0x1);
        gbc.writeMem(0x4cdb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x48c4);
        EXPECT(gbc.pc(), 0x4cdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0304
        gbc.setState(0x3b7b, 0x58e7, 0x2980, 0x7b0b, 0xf904, 0xc398, 0x0, 0x0);
        gbc.writeMem(0x3b7b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x58e7);
        EXPECT(gbc.pc(), 0x3b7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0305
        gbc.setState(0xb874, 0x139d, 0xae90, 0x2c2f, 0xba60, 0xa754, 0x1, 0x1);
        gbc.writeMem(0xb874, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x139d);
        EXPECT(gbc.pc(), 0xb875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb874), 0xb0);
        // B0 0306
        gbc.setState(0x1b46, 0xdb46, 0x2430, 0x56e9, 0xc818, 0x29e0, 0x0, 0x1);
        gbc.writeMem(0x1b46, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xdb46);
        EXPECT(gbc.pc(), 0x1b47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0307
        gbc.setState(0xcc5e, 0x4843, 0xaa70, 0xd59a, 0xe0d, 0xd667, 0x0, 0x1);
        gbc.writeMem(0xcc5e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4843);
        EXPECT(gbc.pc(), 0xcc5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc5e), 0xb0);
        // B0 0308
        gbc.setState(0xb60a, 0xd0d2, 0xf9e0, 0x73db, 0xdac1, 0x8e6d, 0x1, 0x0);
        gbc.writeMem(0xb60a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xd0d2);
        EXPECT(gbc.pc(), 0xb60b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb60a), 0xb0);
        // B0 0309
        gbc.setState(0x1f93, 0x3299, 0xdc10, 0xa7d9, 0x658b, 0xf976, 0x0, 0x1);
        gbc.writeMem(0x1f93, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3299);
        EXPECT(gbc.pc(), 0x1f94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 030A
        gbc.setState(0x1327, 0xb561, 0xaff0, 0xfea3, 0x5eb0, 0x51e6, 0x1, 0x0);
        gbc.writeMem(0x1327, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xb561);
        EXPECT(gbc.pc(), 0x1328);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 030B
        gbc.setState(0xec4b, 0x8490, 0xc470, 0x5421, 0xcc68, 0xe7d8, 0x1, 0x0);
        gbc.writeMem(0xec4b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8490);
        EXPECT(gbc.pc(), 0xec4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec4b), 0xb0);
        // B0 030D
        gbc.setState(0x430, 0x6b4e, 0xabe0, 0x38a9, 0x640f, 0x8f61, 0x1, 0x1);
        gbc.writeMem(0x430, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6b4e);
        EXPECT(gbc.pc(), 0x431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 030E
        gbc.setState(0x77e1, 0xa906, 0xd2a0, 0x5b8, 0x127f, 0x3a3e, 0x1, 0x1);
        gbc.writeMem(0x77e1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa906);
        EXPECT(gbc.pc(), 0x77e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 030F
        gbc.setState(0xa620, 0xc2b, 0x620, 0x5dd3, 0xd8e1, 0xff9, 0x1, 0x1);
        gbc.writeMem(0xa620, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xc2b);
        EXPECT(gbc.pc(), 0xa621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa620), 0xb0);
        // B0 0310
        gbc.setState(0x9ee8, 0x71bc, 0xfbc0, 0x297e, 0xfb7a, 0xb7cc, 0x0, 0x0);
        gbc.writeMem(0x9ee8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x71bc);
        EXPECT(gbc.pc(), 0x9ee9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee8), 0xb0);
        // B0 0311
        gbc.setState(0xcf48, 0x72c4, 0x5320, 0xb4f0, 0xd09d, 0x4b96, 0x0, 0x0);
        gbc.writeMem(0xcf48, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x72c4);
        EXPECT(gbc.pc(), 0xcf49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf48), 0xb0);
        // B0 0312
        gbc.setState(0xd9cd, 0x7964, 0xfce0, 0xee1a, 0x8ee5, 0x9d31, 0x0, 0x1);
        gbc.writeMem(0xd9cd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7964);
        EXPECT(gbc.pc(), 0xd9ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9cd), 0xb0);
        // B0 0313
        gbc.setState(0xc4d7, 0xff0, 0x360, 0x8fb2, 0x3b9a, 0x6b27, 0x0, 0x0);
        gbc.writeMem(0xc4d7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xff0);
        EXPECT(gbc.pc(), 0xc4d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4d7), 0xb0);
        // B0 0314
        gbc.setState(0x66e5, 0x999, 0x9fb0, 0xd533, 0x4941, 0xbe23, 0x1, 0x0);
        gbc.writeMem(0x66e5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x999);
        EXPECT(gbc.pc(), 0x66e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0315
        gbc.setState(0x357e, 0x7aca, 0x6540, 0x2a0, 0xbbbe, 0xbd3f, 0x0, 0x0);
        gbc.writeMem(0x357e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x7aca);
        EXPECT(gbc.pc(), 0x357f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0316
        gbc.setState(0xb972, 0x7a1, 0xf3b0, 0xd9ff, 0xdd7e, 0x13de, 0x1, 0x1);
        gbc.writeMem(0xb972, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7a1);
        EXPECT(gbc.pc(), 0xb973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb972), 0xb0);
        // B0 0317
        gbc.setState(0x55c5, 0xb0ce, 0x9320, 0x20fa, 0x10f2, 0xa263, 0x1, 0x0);
        gbc.writeMem(0x55c5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb0ce);
        EXPECT(gbc.pc(), 0x55c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0318
        gbc.setState(0x7d, 0x7ad7, 0x73a0, 0xc208, 0x1edb, 0xda16, 0x1, 0x0);
        gbc.writeMem(0x7d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7ad7);
        EXPECT(gbc.pc(), 0x7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0319
        gbc.setState(0x131, 0xec81, 0x6320, 0x43e6, 0x7f49, 0x8169, 0x0, 0x0);
        gbc.writeMem(0x131, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xec81);
        EXPECT(gbc.pc(), 0x132);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 031A
        gbc.setState(0x2f15, 0xae9, 0x6ec0, 0xdbc1, 0x22ce, 0x7e61, 0x0, 0x0);
        gbc.writeMem(0x2f15, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xae9);
        EXPECT(gbc.pc(), 0x2f16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 031C
        gbc.setState(0x7dd3, 0x9708, 0x6eb0, 0x371, 0x6933, 0x9a64, 0x1, 0x0);
        gbc.writeMem(0x7dd3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9708);
        EXPECT(gbc.pc(), 0x7dd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 031D
        gbc.setState(0xa7c7, 0x5892, 0xb280, 0xa13, 0x9191, 0x3d9a, 0x0, 0x0);
        gbc.writeMem(0xa7c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x5892);
        EXPECT(gbc.pc(), 0xa7c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7c7), 0xb0);
        // B0 031E
        gbc.setState(0x223f, 0x681f, 0x4b60, 0xa69a, 0x1d48, 0xfbc0, 0x1, 0x0);
        gbc.writeMem(0x223f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x681f);
        EXPECT(gbc.pc(), 0x2240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 031F
        gbc.setState(0xdc5f, 0xdbc6, 0xd370, 0x2d98, 0xa2fa, 0x12da, 0x0, 0x1);
        gbc.writeMem(0xdc5f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xdbc6);
        EXPECT(gbc.pc(), 0xdc60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5f), 0xb0);
        // B0 0320
        gbc.setState(0xd28d, 0x3514, 0x2ad0, 0x626f, 0x17f8, 0x4125, 0x0, 0x1);
        gbc.writeMem(0xd28d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3514);
        EXPECT(gbc.pc(), 0xd28e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd28d), 0xb0);
        // B0 0321
        gbc.setState(0x6f55, 0xd79b, 0xc060, 0x7d36, 0x1e64, 0xb9eb, 0x0, 0x1);
        gbc.writeMem(0x6f55, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xd79b);
        EXPECT(gbc.pc(), 0x6f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0322
        gbc.setState(0xe557, 0xc75a, 0xb00, 0x99cd, 0x6e34, 0xf68b, 0x0, 0x0);
        gbc.writeMem(0xe557, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc75a);
        EXPECT(gbc.pc(), 0xe558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe557), 0xb0);
        // B0 0323
        gbc.setState(0xe4b2, 0x84b2, 0xd20, 0xf3f0, 0x50e4, 0x88c4, 0x1, 0x1);
        gbc.writeMem(0xe4b2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x84b2);
        EXPECT(gbc.pc(), 0xe4b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4b2), 0xb0);
        // B0 0324
        gbc.setState(0x14eb, 0x6515, 0xda10, 0xd5f9, 0x4fa5, 0xd718, 0x1, 0x0);
        gbc.writeMem(0x14eb, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6515);
        EXPECT(gbc.pc(), 0x14ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0325
        gbc.setState(0x32c7, 0x924, 0x12f0, 0x5e42, 0x50cb, 0x93e3, 0x0, 0x1);
        gbc.writeMem(0x32c7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x924);
        EXPECT(gbc.pc(), 0x32c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0326
        gbc.setState(0xb5d8, 0x6c56, 0xa410, 0xdafb, 0xc7d5, 0x4a5e, 0x1, 0x1);
        gbc.writeMem(0xb5d8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x6c56);
        EXPECT(gbc.pc(), 0xb5d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d8), 0xb0);
        // B0 0328
        gbc.setState(0xdcda, 0xa747, 0x8970, 0x43cb, 0x4b29, 0xb554, 0x0, 0x1);
        gbc.writeMem(0xdcda, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa747);
        EXPECT(gbc.pc(), 0xdcdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcda), 0xb0);
        // B0 0329
        gbc.setState(0xeeed, 0xaf8e, 0xcd0, 0x120a, 0x77c4, 0x13af, 0x1, 0x1);
        gbc.writeMem(0xeeed, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xaf8e);
        EXPECT(gbc.pc(), 0xeeee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeeed), 0xb0);
        // B0 032A
        gbc.setState(0xb49d, 0x1372, 0x39f0, 0x3b46, 0x3220, 0x9c41, 0x1, 0x0);
        gbc.writeMem(0xb49d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1372);
        EXPECT(gbc.pc(), 0xb49e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb49d), 0xb0);
        // B0 032B
        gbc.setState(0x8434, 0x3c89, 0x8680, 0xe842, 0xe4d5, 0xa0be, 0x1, 0x0);
        gbc.writeMem(0x8434, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3c89);
        EXPECT(gbc.pc(), 0x8435);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8434), 0xb0);
        // B0 032D
        gbc.setState(0x6bdd, 0xa8a8, 0x9740, 0x4653, 0xaf9d, 0xcd0d, 0x1, 0x0);
        gbc.writeMem(0x6bdd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa8a8);
        EXPECT(gbc.pc(), 0x6bde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 032F
        gbc.setState(0xb8e3, 0x1faf, 0xa900, 0x10bb, 0x557b, 0x57a7, 0x1, 0x0);
        gbc.writeMem(0xb8e3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1faf);
        EXPECT(gbc.pc(), 0xb8e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e3), 0xb0);
        // B0 0330
        gbc.setState(0x9b8e, 0xef2f, 0xb750, 0x90d5, 0x5e49, 0xc205, 0x0, 0x0);
        gbc.writeMem(0x9b8e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xef2f);
        EXPECT(gbc.pc(), 0x9b8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b8e), 0xb0);
        // B0 0331
        gbc.setState(0x10f4, 0xdb61, 0xc670, 0x73e3, 0x5414, 0x387a, 0x1, 0x0);
        gbc.writeMem(0x10f4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xdb61);
        EXPECT(gbc.pc(), 0x10f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0332
        gbc.setState(0x7b0d, 0x7d26, 0xa090, 0xe369, 0x1584, 0x5f8a, 0x1, 0x1);
        gbc.writeMem(0x7b0d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x7d26);
        EXPECT(gbc.pc(), 0x7b0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0333
        gbc.setState(0xe276, 0xcf5e, 0x31f0, 0x29d8, 0xcafc, 0x206d, 0x1, 0x1);
        gbc.writeMem(0xe276, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xcf5e);
        EXPECT(gbc.pc(), 0xe277);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe276), 0xb0);
        // B0 0334
        gbc.setState(0xbe4, 0x3aad, 0xd6d0, 0xbd64, 0x26ee, 0xf3a6, 0x1, 0x1);
        gbc.writeMem(0xbe4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3aad);
        EXPECT(gbc.pc(), 0xbe5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0335
        gbc.setState(0xbbc, 0x6694, 0xcd10, 0x9269, 0xab6e, 0xa448, 0x1, 0x1);
        gbc.writeMem(0xbbc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6694);
        EXPECT(gbc.pc(), 0xbbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0336
        gbc.setState(0x556c, 0xcc35, 0x6c90, 0x7d54, 0x3095, 0xcc3b, 0x0, 0x0);
        gbc.writeMem(0x556c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xcc35);
        EXPECT(gbc.pc(), 0x556d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0337
        gbc.setState(0x78c3, 0x650c, 0xfe50, 0x9f73, 0x1b24, 0xc8df, 0x0, 0x0);
        gbc.writeMem(0x78c3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x650c);
        EXPECT(gbc.pc(), 0x78c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0338
        gbc.setState(0xcc9f, 0x8363, 0xb580, 0x394c, 0xa7f0, 0xac29, 0x0, 0x1);
        gbc.writeMem(0xcc9f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8363);
        EXPECT(gbc.pc(), 0xcca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc9f), 0xb0);
        // B0 0339
        gbc.setState(0x434c, 0x727e, 0x1320, 0x14ab, 0xc5a6, 0xdc3b, 0x0, 0x1);
        gbc.writeMem(0x434c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x727e);
        EXPECT(gbc.pc(), 0x434d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 033A
        gbc.setState(0x6bde, 0x3783, 0x3c40, 0xb9d4, 0xa9ec, 0xf9ba, 0x1, 0x0);
        gbc.writeMem(0x6bde, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3783);
        EXPECT(gbc.pc(), 0x6bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 033B
        gbc.setState(0x2120, 0x2af7, 0xbe0, 0x8579, 0xc95b, 0x374d, 0x1, 0x1);
        gbc.writeMem(0x2120, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2af7);
        EXPECT(gbc.pc(), 0x2121);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 033C
        gbc.setState(0xdb44, 0x3e9a, 0x7970, 0xd616, 0x7ccd, 0xfb9, 0x1, 0x0);
        gbc.writeMem(0xdb44, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3e9a);
        EXPECT(gbc.pc(), 0xdb45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb44), 0xb0);
        // B0 033E
        gbc.setState(0xd8c5, 0x1149, 0x430, 0x42ff, 0x5d2b, 0xcd6f, 0x0, 0x0);
        gbc.writeMem(0xd8c5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1149);
        EXPECT(gbc.pc(), 0xd8c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8c5), 0xb0);
        // B0 033F
        gbc.setState(0x76f6, 0xb8d9, 0x5510, 0xd790, 0x526b, 0x4daf, 0x1, 0x0);
        gbc.writeMem(0x76f6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb8d9);
        EXPECT(gbc.pc(), 0x76f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0340
        gbc.setState(0x3f32, 0xa940, 0x2680, 0xd50f, 0xd1e5, 0xc9af, 0x1, 0x0);
        gbc.writeMem(0x3f32, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa940);
        EXPECT(gbc.pc(), 0x3f33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0341
        gbc.setState(0x3730, 0x4912, 0x4d70, 0xb3e6, 0x1f73, 0x9a9a, 0x1, 0x1);
        gbc.writeMem(0x3730, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4912);
        EXPECT(gbc.pc(), 0x3731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0342
        gbc.setState(0xd4e5, 0x87e, 0x3740, 0xc427, 0x9e03, 0x4cc3, 0x1, 0x1);
        gbc.writeMem(0xd4e5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x87e);
        EXPECT(gbc.pc(), 0xd4e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e5), 0xb0);
        // B0 0343
        gbc.setState(0x3372, 0x4e1f, 0x9bf0, 0xc42a, 0x178c, 0x5b44, 0x1, 0x1);
        gbc.writeMem(0x3372, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x4e1f);
        EXPECT(gbc.pc(), 0x3373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0344
        gbc.setState(0x756d, 0x91c5, 0xad40, 0x2187, 0xa3b4, 0x3b39, 0x0, 0x0);
        gbc.writeMem(0x756d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x91c5);
        EXPECT(gbc.pc(), 0x756e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0345
        gbc.setState(0x9a66, 0x1d72, 0xf3f0, 0x93f6, 0x7a10, 0xd160, 0x1, 0x0);
        gbc.writeMem(0x9a66, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1d72);
        EXPECT(gbc.pc(), 0x9a67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a66), 0xb0);
        // B0 0346
        gbc.setState(0x62d9, 0xf8d, 0x1660, 0xa956, 0x367, 0xb42d, 0x1, 0x1);
        gbc.writeMem(0x62d9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf8d);
        EXPECT(gbc.pc(), 0x62da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0347
        gbc.setState(0xd478, 0xe376, 0x7d20, 0x9261, 0x11a6, 0xd8a4, 0x0, 0x0);
        gbc.writeMem(0xd478, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe376);
        EXPECT(gbc.pc(), 0xd479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd478), 0xb0);
        // B0 0348
        gbc.setState(0x7bc0, 0xfd50, 0xee20, 0x7ac6, 0xf0b9, 0x4fda, 0x1, 0x0);
        gbc.writeMem(0x7bc0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xfd50);
        EXPECT(gbc.pc(), 0x7bc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0349
        gbc.setState(0x5c90, 0xe86b, 0xf610, 0x79d7, 0xd63d, 0x4787, 0x1, 0x1);
        gbc.writeMem(0x5c90, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe86b);
        EXPECT(gbc.pc(), 0x5c91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 034A
        gbc.setState(0xa6b1, 0x4ba3, 0x58a0, 0xbf61, 0x1b36, 0xa89, 0x1, 0x0);
        gbc.writeMem(0xa6b1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4ba3);
        EXPECT(gbc.pc(), 0xa6b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6b1), 0xb0);
        // B0 034B
        gbc.setState(0x3d6b, 0xe38a, 0x94a0, 0xb9d5, 0x3b3b, 0x9a86, 0x1, 0x1);
        gbc.writeMem(0x3d6b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe38a);
        EXPECT(gbc.pc(), 0x3d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 034C
        gbc.setState(0xeca6, 0xef6e, 0x48d0, 0xad16, 0x3d67, 0x977c, 0x0, 0x1);
        gbc.writeMem(0xeca6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xef6e);
        EXPECT(gbc.pc(), 0xeca7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeca6), 0xb0);
        // B0 034D
        gbc.setState(0xd888, 0xc561, 0x36f0, 0x6d8e, 0x2b68, 0x1ca3, 0x0, 0x0);
        gbc.writeMem(0xd888, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xc561);
        EXPECT(gbc.pc(), 0xd889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd888), 0xb0);
        // B0 034E
        gbc.setState(0xf43, 0x552b, 0x1ad0, 0x8b53, 0x5267, 0x2d67, 0x0, 0x0);
        gbc.writeMem(0xf43, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x552b);
        EXPECT(gbc.pc(), 0xf44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 034F
        gbc.setState(0xd8d0, 0x3dd1, 0xe660, 0x855b, 0xabcc, 0xe500, 0x1, 0x0);
        gbc.writeMem(0xd8d0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3dd1);
        EXPECT(gbc.pc(), 0xd8d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d0), 0xb0);
        // B0 0350
        gbc.setState(0xaf44, 0x4e36, 0x21b0, 0xc3a6, 0x95cd, 0xbdc6, 0x0, 0x0);
        gbc.writeMem(0xaf44, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4e36);
        EXPECT(gbc.pc(), 0xaf45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf44), 0xb0);
        // B0 0351
        gbc.setState(0x8a1e, 0xd60c, 0xce10, 0x8fea, 0x39d0, 0x2fb1, 0x1, 0x1);
        gbc.writeMem(0x8a1e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd60c);
        EXPECT(gbc.pc(), 0x8a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a1e), 0xb0);
        // B0 0352
        gbc.setState(0x6b35, 0xdac0, 0x18a0, 0xf345, 0x4d9a, 0xe9c5, 0x1, 0x0);
        gbc.writeMem(0x6b35, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xdac0);
        EXPECT(gbc.pc(), 0x6b36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0353
        gbc.setState(0xcc4d, 0x30, 0x4740, 0xb595, 0xfecb, 0x7fc7, 0x1, 0x0);
        gbc.writeMem(0xcc4d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x30);
        EXPECT(gbc.pc(), 0xcc4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc4d), 0xb0);
        // B0 0354
        gbc.setState(0x9a95, 0x8c25, 0x84b0, 0x97f, 0x6775, 0xc0de, 0x1, 0x0);
        gbc.writeMem(0x9a95, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8c25);
        EXPECT(gbc.pc(), 0x9a96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a95), 0xb0);
        // B0 0355
        gbc.setState(0xe9c5, 0x6b5, 0x3980, 0x8a6f, 0x40be, 0x86f5, 0x1, 0x0);
        gbc.writeMem(0xe9c5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6b5);
        EXPECT(gbc.pc(), 0xe9c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9c5), 0xb0);
        // B0 0357
        gbc.setState(0x8bce, 0xa4f2, 0x6fb0, 0xa681, 0x33ef, 0x485b, 0x1, 0x0);
        gbc.writeMem(0x8bce, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa4f2);
        EXPECT(gbc.pc(), 0x8bcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bce), 0xb0);
        // B0 0358
        gbc.setState(0x8c6, 0xb03e, 0x620, 0x5bb5, 0x4d7c, 0x5551, 0x0, 0x0);
        gbc.writeMem(0x8c6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xb03e);
        EXPECT(gbc.pc(), 0x8c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0359
        gbc.setState(0xd7c3, 0x3bae, 0x7d0, 0x5108, 0xb6f0, 0x2481, 0x1, 0x0);
        gbc.writeMem(0xd7c3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3bae);
        EXPECT(gbc.pc(), 0xd7c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c3), 0xb0);
        // B0 035A
        gbc.setState(0x5fa0, 0x89ab, 0xc3d0, 0x7a1e, 0xff49, 0x9120, 0x0, 0x1);
        gbc.writeMem(0x5fa0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x89ab);
        EXPECT(gbc.pc(), 0x5fa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 035B
        gbc.setState(0x54a3, 0x6e12, 0x69d0, 0x5473, 0xacff, 0x442c, 0x1, 0x1);
        gbc.writeMem(0x54a3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x6e12);
        EXPECT(gbc.pc(), 0x54a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 035C
        gbc.setState(0x8860, 0x747d, 0xc3c0, 0xeab6, 0x6cae, 0xd054, 0x1, 0x1);
        gbc.writeMem(0x8860, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x747d);
        EXPECT(gbc.pc(), 0x8861);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8860), 0xb0);
        // B0 035D
        gbc.setState(0x2164, 0xa129, 0xc310, 0x8e88, 0xd05, 0x3938, 0x1, 0x1);
        gbc.writeMem(0x2164, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa129);
        EXPECT(gbc.pc(), 0x2165);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 035E
        gbc.setState(0x2870, 0x6dc9, 0xf010, 0x333e, 0x913a, 0xb18a, 0x1, 0x0);
        gbc.writeMem(0x2870, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6dc9);
        EXPECT(gbc.pc(), 0x2871);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 035F
        gbc.setState(0xee7, 0x6336, 0x24e0, 0xf479, 0x1a3b, 0x7bd, 0x1, 0x0);
        gbc.writeMem(0xee7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6336);
        EXPECT(gbc.pc(), 0xee8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0360
        gbc.setState(0xb09f, 0x89f9, 0x19a0, 0xde27, 0x54cb, 0x2f46, 0x1, 0x0);
        gbc.writeMem(0xb09f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x89f9);
        EXPECT(gbc.pc(), 0xb0a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb09f), 0xb0);
        // B0 0361
        gbc.setState(0x9a55, 0x2d57, 0xaa20, 0xffac, 0x43e2, 0x124, 0x1, 0x0);
        gbc.writeMem(0x9a55, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2d57);
        EXPECT(gbc.pc(), 0x9a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a55), 0xb0);
        // B0 0362
        gbc.setState(0x89f, 0x77f7, 0xa800, 0x1d91, 0x9126, 0xab20, 0x1, 0x0);
        gbc.writeMem(0x89f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x77f7);
        EXPECT(gbc.pc(), 0x8a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0363
        gbc.setState(0x3882, 0xd5fa, 0xcda0, 0xefcf, 0x9702, 0x9ccd, 0x0, 0x1);
        gbc.writeMem(0x3882, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd5fa);
        EXPECT(gbc.pc(), 0x3883);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0365
        gbc.setState(0x1203, 0xe28b, 0xe460, 0x767, 0xcfd6, 0xa735, 0x1, 0x0);
        gbc.writeMem(0x1203, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe28b);
        EXPECT(gbc.pc(), 0x1204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0366
        gbc.setState(0xbb8e, 0x7380, 0x1cf0, 0xa563, 0xa2bc, 0xc07d, 0x1, 0x1);
        gbc.writeMem(0xbb8e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7380);
        EXPECT(gbc.pc(), 0xbb8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb8e), 0xb0);
        // B0 0367
        gbc.setState(0x49b5, 0x4d7c, 0x9990, 0x1230, 0x7f0a, 0x317a, 0x1, 0x1);
        gbc.writeMem(0x49b5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4d7c);
        EXPECT(gbc.pc(), 0x49b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0368
        gbc.setState(0xc695, 0xf315, 0x3020, 0x93ce, 0xedf8, 0xb23d, 0x1, 0x0);
        gbc.writeMem(0xc695, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf315);
        EXPECT(gbc.pc(), 0xc696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc695), 0xb0);
        // B0 0369
        gbc.setState(0x54c0, 0x46aa, 0xff60, 0xeae3, 0x8bc8, 0x16d, 0x1, 0x1);
        gbc.writeMem(0x54c0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x46aa);
        EXPECT(gbc.pc(), 0x54c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 036A
        gbc.setState(0x3fde, 0xfd27, 0x5710, 0xc7ac, 0x8abf, 0xf603, 0x1, 0x1);
        gbc.writeMem(0x3fde, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xfd27);
        EXPECT(gbc.pc(), 0x3fdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 036B
        gbc.setState(0x3bca, 0xfa7a, 0x58b0, 0xfe69, 0xdf8f, 0x485d, 0x1, 0x0);
        gbc.writeMem(0x3bca, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfa7a);
        EXPECT(gbc.pc(), 0x3bcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 036C
        gbc.setState(0x43d8, 0xb482, 0xc2f0, 0xd27d, 0xcca0, 0x4ed8, 0x0, 0x0);
        gbc.writeMem(0x43d8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb482);
        EXPECT(gbc.pc(), 0x43d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 036D
        gbc.setState(0x30c1, 0xdaa7, 0xd3e0, 0x1ff0, 0x7088, 0x15e7, 0x0, 0x1);
        gbc.writeMem(0x30c1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xdaa7);
        EXPECT(gbc.pc(), 0x30c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 036E
        gbc.setState(0x2f41, 0x117b, 0xdc70, 0x1fbe, 0xd0b, 0x3e0, 0x1, 0x1);
        gbc.writeMem(0x2f41, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x117b);
        EXPECT(gbc.pc(), 0x2f42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 036F
        gbc.setState(0xb014, 0xb74b, 0x5c10, 0x3ded, 0x71f6, 0x40f8, 0x0, 0x1);
        gbc.writeMem(0xb014, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb74b);
        EXPECT(gbc.pc(), 0xb015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb014), 0xb0);
        // B0 0370
        gbc.setState(0x7d0b, 0x5a0, 0x5170, 0x6bd4, 0xe6ed, 0x4469, 0x0, 0x1);
        gbc.writeMem(0x7d0b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5a0);
        EXPECT(gbc.pc(), 0x7d0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0371
        gbc.setState(0x71bf, 0xfd83, 0xf670, 0xadc6, 0x10f7, 0x3798, 0x1, 0x1);
        gbc.writeMem(0x71bf, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfd83);
        EXPECT(gbc.pc(), 0x71c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0372
        gbc.setState(0x2fe3, 0x2cce, 0xe4d0, 0xd5a3, 0x8bcf, 0x519, 0x1, 0x0);
        gbc.writeMem(0x2fe3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2cce);
        EXPECT(gbc.pc(), 0x2fe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0373
        gbc.setState(0xd4a8, 0x4c53, 0xf550, 0x943e, 0xed71, 0x1650, 0x0, 0x0);
        gbc.writeMem(0xd4a8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4c53);
        EXPECT(gbc.pc(), 0xd4a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4a8), 0xb0);
        // B0 0375
        gbc.setState(0x6f6a, 0xbbe6, 0x4d80, 0x94e0, 0xa444, 0x45bb, 0x1, 0x1);
        gbc.writeMem(0x6f6a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xbbe6);
        EXPECT(gbc.pc(), 0x6f6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0376
        gbc.setState(0xef4a, 0xcafb, 0x81b0, 0xf836, 0x9ba8, 0xa7c, 0x1, 0x0);
        gbc.writeMem(0xef4a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xcafb);
        EXPECT(gbc.pc(), 0xef4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef4a), 0xb0);
        // B0 0377
        gbc.setState(0x5c2b, 0x32d0, 0xf6a0, 0x7061, 0x3374, 0xc45b, 0x1, 0x1);
        gbc.writeMem(0x5c2b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x32d0);
        EXPECT(gbc.pc(), 0x5c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0378
        gbc.setState(0x1bd0, 0x7bb4, 0xc7b0, 0x35f4, 0x5358, 0x97be, 0x0, 0x1);
        gbc.writeMem(0x1bd0, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7bb4);
        EXPECT(gbc.pc(), 0x1bd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0379
        gbc.setState(0x3614, 0x2fb5, 0x44c0, 0x7aa0, 0xc205, 0xcd63, 0x1, 0x1);
        gbc.writeMem(0x3614, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2fb5);
        EXPECT(gbc.pc(), 0x3615);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 037A
        gbc.setState(0xc9b9, 0xb9c7, 0x47f0, 0xb9cb, 0x7093, 0x81af, 0x1, 0x0);
        gbc.writeMem(0xc9b9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb9c7);
        EXPECT(gbc.pc(), 0xc9ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9b9), 0xb0);
        // B0 037B
        gbc.setState(0x91e1, 0x4e40, 0xd1f0, 0x877f, 0xb0ef, 0xb370, 0x0, 0x1);
        gbc.writeMem(0x91e1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4e40);
        EXPECT(gbc.pc(), 0x91e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e1), 0xb0);
        // B0 037C
        gbc.setState(0x1fdd, 0x63c1, 0xf750, 0x3c04, 0x2f16, 0xf66, 0x0, 0x0);
        gbc.writeMem(0x1fdd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x63c1);
        EXPECT(gbc.pc(), 0x1fde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 037D
        gbc.setState(0x8add, 0x79ee, 0x8da0, 0xf35d, 0x67b5, 0x182f, 0x1, 0x1);
        gbc.writeMem(0x8add, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x79ee);
        EXPECT(gbc.pc(), 0x8ade);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8add), 0xb0);
        // B0 037E
        gbc.setState(0x3da4, 0x2520, 0xfda0, 0xe0ca, 0x2c7b, 0x5378, 0x1, 0x1);
        gbc.writeMem(0x3da4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x2520);
        EXPECT(gbc.pc(), 0x3da5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 037F
        gbc.setState(0x785a, 0x2fd3, 0xe8d0, 0xa487, 0x24e8, 0x8738, 0x1, 0x0);
        gbc.writeMem(0x785a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2fd3);
        EXPECT(gbc.pc(), 0x785b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0380
        gbc.setState(0xb72, 0x5b7b, 0xc280, 0xe8a8, 0xa626, 0x9e2f, 0x0, 0x0);
        gbc.writeMem(0xb72, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5b7b);
        EXPECT(gbc.pc(), 0xb73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0381
        gbc.setState(0xe7ac, 0x6811, 0xf240, 0x36a, 0x92df, 0xbaf8, 0x0, 0x0);
        gbc.writeMem(0xe7ac, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6811);
        EXPECT(gbc.pc(), 0xe7ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7ac), 0xb0);
        // B0 0383
        gbc.setState(0x5e17, 0xe894, 0xea20, 0xd97c, 0x4119, 0x5a8d, 0x1, 0x0);
        gbc.writeMem(0x5e17, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe894);
        EXPECT(gbc.pc(), 0x5e18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0384
        gbc.setState(0xa346, 0x3b78, 0xaeb0, 0x1370, 0x3af3, 0xa970, 0x1, 0x1);
        gbc.writeMem(0xa346, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3b78);
        EXPECT(gbc.pc(), 0xa347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa346), 0xb0);
        // B0 0385
        gbc.setState(0xabf1, 0xb189, 0x9470, 0xa248, 0x88df, 0x25f1, 0x1, 0x0);
        gbc.writeMem(0xabf1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb189);
        EXPECT(gbc.pc(), 0xabf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabf1), 0xb0);
        // B0 0386
        gbc.setState(0x4bf2, 0xfe4, 0x8f20, 0x6f66, 0x8af8, 0xee72, 0x0, 0x1);
        gbc.writeMem(0x4bf2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xfe4);
        EXPECT(gbc.pc(), 0x4bf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0387
        gbc.setState(0xac71, 0x1005, 0x6a70, 0x3d27, 0xa8b, 0x52f8, 0x1, 0x0);
        gbc.writeMem(0xac71, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1005);
        EXPECT(gbc.pc(), 0xac72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac71), 0xb0);
        // B0 0388
        gbc.setState(0xc411, 0x80a7, 0x15e0, 0x48eb, 0x6f9a, 0x5727, 0x1, 0x1);
        gbc.writeMem(0xc411, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x80a7);
        EXPECT(gbc.pc(), 0xc412);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc411), 0xb0);
        // B0 038A
        gbc.setState(0x2e06, 0x3dd6, 0xf210, 0x77ab, 0x2baa, 0x86f5, 0x1, 0x1);
        gbc.writeMem(0x2e06, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3dd6);
        EXPECT(gbc.pc(), 0x2e07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 038B
        gbc.setState(0xb4b8, 0xb5cc, 0x8350, 0x4f2e, 0xb5d0, 0x9715, 0x0, 0x1);
        gbc.writeMem(0xb4b8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb5cc);
        EXPECT(gbc.pc(), 0xb4b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4b8), 0xb0);
        // B0 038C
        gbc.setState(0x27fc, 0xd89d, 0xc000, 0xa171, 0xfa39, 0xc084, 0x0, 0x1);
        gbc.writeMem(0x27fc, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd89d);
        EXPECT(gbc.pc(), 0x27fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 038D
        gbc.setState(0x1ae3, 0xd27, 0x70f0, 0x3077, 0x2844, 0xc199, 0x1, 0x1);
        gbc.writeMem(0x1ae3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd27);
        EXPECT(gbc.pc(), 0x1ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 038E
        gbc.setState(0xedec, 0xd999, 0xac0, 0xb80a, 0x4b70, 0x82fb, 0x1, 0x1);
        gbc.writeMem(0xedec, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd999);
        EXPECT(gbc.pc(), 0xeded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedec), 0xb0);
        // B0 038F
        gbc.setState(0x77a3, 0x1e02, 0xf6d0, 0x20f7, 0x3017, 0x837a, 0x1, 0x1);
        gbc.writeMem(0x77a3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1e02);
        EXPECT(gbc.pc(), 0x77a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0390
        gbc.setState(0xbf49, 0xdd7, 0x1260, 0xfa78, 0xb43, 0x6c07, 0x0, 0x0);
        gbc.writeMem(0xbf49, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xdd7);
        EXPECT(gbc.pc(), 0xbf4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf49), 0xb0);
        // B0 0391
        gbc.setState(0x6745, 0xafbc, 0xc520, 0x9545, 0xeeba, 0xa8e1, 0x1, 0x0);
        gbc.writeMem(0x6745, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xafbc);
        EXPECT(gbc.pc(), 0x6746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0392
        gbc.setState(0x8fa6, 0xb679, 0x7a00, 0xe23b, 0xfd87, 0xaf39, 0x0, 0x1);
        gbc.writeMem(0x8fa6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb679);
        EXPECT(gbc.pc(), 0x8fa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fa6), 0xb0);
        // B0 0393
        gbc.setState(0xe8ca, 0x273f, 0xce30, 0xa38b, 0x93bf, 0x91e6, 0x0, 0x1);
        gbc.writeMem(0xe8ca, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x273f);
        EXPECT(gbc.pc(), 0xe8cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8ca), 0xb0);
        // B0 0395
        gbc.setState(0x33da, 0x9987, 0xc000, 0x1189, 0x2c2a, 0x636f, 0x0, 0x1);
        gbc.writeMem(0x33da, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9987);
        EXPECT(gbc.pc(), 0x33db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0396
        gbc.setState(0x3964, 0x9490, 0x8760, 0xb7cb, 0xc729, 0x766d, 0x0, 0x1);
        gbc.writeMem(0x3964, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x9490);
        EXPECT(gbc.pc(), 0x3965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0397
        gbc.setState(0x6fff, 0xe083, 0x3cd0, 0xac3, 0x40b2, 0x7156, 0x1, 0x0);
        gbc.writeMem(0x6fff, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe083);
        EXPECT(gbc.pc(), 0x7000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 0398
        gbc.setState(0x97ab, 0xb2df, 0xf610, 0x8898, 0x67fb, 0x9ba8, 0x0, 0x0);
        gbc.writeMem(0x97ab, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb2df);
        EXPECT(gbc.pc(), 0x97ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97ab), 0xb0);
        // B0 0399
        gbc.setState(0xe20d, 0xe9d6, 0x3dd0, 0xc10e, 0x4552, 0xf240, 0x0, 0x1);
        gbc.writeMem(0xe20d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe9d6);
        EXPECT(gbc.pc(), 0xe20e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe20d), 0xb0);
        // B0 039A
        gbc.setState(0x968d, 0x111a, 0x9d00, 0x3300, 0xf9ca, 0x6584, 0x0, 0x1);
        gbc.writeMem(0x968d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x111a);
        EXPECT(gbc.pc(), 0x968e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x968d), 0xb0);
        // B0 039B
        gbc.setState(0x281c, 0x6115, 0xb0c0, 0x8e44, 0xee33, 0xbb4d, 0x0, 0x0);
        gbc.writeMem(0x281c, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6115);
        EXPECT(gbc.pc(), 0x281d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 039C
        gbc.setState(0x16c5, 0x1104, 0x90, 0xb26d, 0xbdad, 0xf1a4, 0x1, 0x1);
        gbc.writeMem(0x16c5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1104);
        EXPECT(gbc.pc(), 0x16c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 039D
        gbc.setState(0x99f9, 0xdc4e, 0xdec0, 0xc2c, 0x81e0, 0x3b8b, 0x0, 0x0);
        gbc.writeMem(0x99f9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xdc4e);
        EXPECT(gbc.pc(), 0x99fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99f9), 0xb0);
        // B0 039E
        gbc.setState(0xbe71, 0x713d, 0x5ba0, 0x9702, 0x6ad5, 0xefca, 0x0, 0x1);
        gbc.writeMem(0xbe71, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x713d);
        EXPECT(gbc.pc(), 0xbe72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe71), 0xb0);
        // B0 039F
        gbc.setState(0xd848, 0xbe4a, 0xfbc0, 0x40d9, 0xd7a2, 0x430c, 0x0, 0x1);
        gbc.writeMem(0xd848, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xbe4a);
        EXPECT(gbc.pc(), 0xd849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd848), 0xb0);
        // B0 03A0
        gbc.setState(0x37c6, 0x9f3c, 0xd4f0, 0x257f, 0x4749, 0x566a, 0x0, 0x1);
        gbc.writeMem(0x37c6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9f3c);
        EXPECT(gbc.pc(), 0x37c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03A1
        gbc.setState(0xbd51, 0x24c7, 0x2c60, 0x45df, 0x7443, 0xc259, 0x1, 0x0);
        gbc.writeMem(0xbd51, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x24c7);
        EXPECT(gbc.pc(), 0xbd52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd51), 0xb0);
        // B0 03A3
        gbc.setState(0x362, 0x4dd2, 0x2b80, 0x2940, 0x83ba, 0xa4b9, 0x0, 0x0);
        gbc.writeMem(0x362, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4dd2);
        EXPECT(gbc.pc(), 0x363);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03A4
        gbc.setState(0xd7f4, 0x4a1e, 0x47e0, 0x51c0, 0x1e18, 0x2029, 0x1, 0x1);
        gbc.writeMem(0xd7f4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4a1e);
        EXPECT(gbc.pc(), 0xd7f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f4), 0xb0);
        // B0 03A5
        gbc.setState(0x6d62, 0x50c8, 0x27e0, 0x614d, 0x4a78, 0x6cd9, 0x0, 0x0);
        gbc.writeMem(0x6d62, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x50c8);
        EXPECT(gbc.pc(), 0x6d63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03A7
        gbc.setState(0xd1ef, 0x979b, 0x2810, 0xa24f, 0x3821, 0x2235, 0x1, 0x0);
        gbc.writeMem(0xd1ef, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x979b);
        EXPECT(gbc.pc(), 0xd1f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ef), 0xb0);
        // B0 03A8
        gbc.setState(0x30d9, 0x8d5d, 0x3140, 0x382e, 0x7bcc, 0xd40e, 0x1, 0x0);
        gbc.writeMem(0x30d9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8d5d);
        EXPECT(gbc.pc(), 0x30da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03A9
        gbc.setState(0xac4e, 0x1750, 0x1330, 0xfc7e, 0x6aa6, 0x7057, 0x1, 0x0);
        gbc.writeMem(0xac4e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x1750);
        EXPECT(gbc.pc(), 0xac4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac4e), 0xb0);
        // B0 03AA
        gbc.setState(0xbdb6, 0x1ff7, 0xe3f0, 0xa308, 0x2f9e, 0x1219, 0x1, 0x1);
        gbc.writeMem(0xbdb6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1ff7);
        EXPECT(gbc.pc(), 0xbdb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdb6), 0xb0);
        // B0 03AC
        gbc.setState(0x270f, 0xb9d, 0xc670, 0x30b6, 0x2347, 0x8ea8, 0x0, 0x0);
        gbc.writeMem(0x270f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb9d);
        EXPECT(gbc.pc(), 0x2710);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03AD
        gbc.setState(0x3fa, 0xd560, 0x2480, 0xe248, 0x497d, 0x8824, 0x0, 0x0);
        gbc.writeMem(0x3fa, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xd560);
        EXPECT(gbc.pc(), 0x3fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03AE
        gbc.setState(0xd598, 0xa3c0, 0x6290, 0x3149, 0xcc3d, 0xa1f3, 0x1, 0x1);
        gbc.writeMem(0xd598, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa3c0);
        EXPECT(gbc.pc(), 0xd599);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd598), 0xb0);
        // B0 03AF
        gbc.setState(0x12fd, 0xe010, 0xca30, 0x3d44, 0x7bd2, 0x192c, 0x1, 0x1);
        gbc.writeMem(0x12fd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe010);
        EXPECT(gbc.pc(), 0x12fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03B0
        gbc.setState(0xd12d, 0x1f5f, 0x70, 0x1c03, 0x3119, 0x2f2e, 0x0, 0x0);
        gbc.writeMem(0xd12d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1f5f);
        EXPECT(gbc.pc(), 0xd12e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12d), 0xb0);
        // B0 03B1
        gbc.setState(0xa709, 0x358d, 0x9c00, 0x3db6, 0x644f, 0x4ce4, 0x1, 0x1);
        gbc.writeMem(0xa709, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x358d);
        EXPECT(gbc.pc(), 0xa70a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa709), 0xb0);
        // B0 03B3
        gbc.setState(0xf92, 0xc24d, 0x2570, 0x2c32, 0xb269, 0x7a24, 0x1, 0x0);
        gbc.writeMem(0xf92, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc24d);
        EXPECT(gbc.pc(), 0xf93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03B4
        gbc.setState(0x7846, 0x997, 0x1d90, 0xa7c7, 0x18de, 0xef8f, 0x0, 0x0);
        gbc.writeMem(0x7846, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x997);
        EXPECT(gbc.pc(), 0x7847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03B5
        gbc.setState(0xda64, 0x7605, 0x3090, 0x9802, 0xd82c, 0x4483, 0x0, 0x1);
        gbc.writeMem(0xda64, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7605);
        EXPECT(gbc.pc(), 0xda65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda64), 0xb0);
        // B0 03B6
        gbc.setState(0x153e, 0x115, 0x45d0, 0xad14, 0xb0ec, 0x5c23, 0x1, 0x0);
        gbc.writeMem(0x153e, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x115);
        EXPECT(gbc.pc(), 0x153f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03B7
        gbc.setState(0x7195, 0xf053, 0x7a10, 0x7046, 0x2642, 0xc462, 0x1, 0x0);
        gbc.writeMem(0x7195, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf053);
        EXPECT(gbc.pc(), 0x7196);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03B8
        gbc.setState(0x6f01, 0x2db8, 0xf020, 0x3622, 0x4774, 0xff03, 0x1, 0x0);
        gbc.writeMem(0x6f01, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2db8);
        EXPECT(gbc.pc(), 0x6f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03B9
        gbc.setState(0xefb6, 0x382a, 0xd0f0, 0xdf67, 0xf8f4, 0xdbe2, 0x0, 0x0);
        gbc.writeMem(0xefb6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x382a);
        EXPECT(gbc.pc(), 0xefb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb6), 0xb0);
        // B0 03BA
        gbc.setState(0xb613, 0x2d4a, 0x71f0, 0x11, 0x4cc5, 0x73b2, 0x0, 0x0);
        gbc.writeMem(0xb613, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x2d4a);
        EXPECT(gbc.pc(), 0xb614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb613), 0xb0);
        // B0 03BB
        gbc.setState(0xa4cd, 0x7846, 0xd0c0, 0xe518, 0xab72, 0x4683, 0x0, 0x1);
        gbc.writeMem(0xa4cd, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7846);
        EXPECT(gbc.pc(), 0xa4ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4cd), 0xb0);
        // B0 03BC
        gbc.setState(0xde9b, 0x56f, 0x36b0, 0xdaf, 0xf323, 0x842e, 0x1, 0x1);
        gbc.writeMem(0xde9b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x56f);
        EXPECT(gbc.pc(), 0xde9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde9b), 0xb0);
        // B0 03BD
        gbc.setState(0x1dc6, 0x4775, 0xede0, 0x10c4, 0x8db5, 0x955b, 0x1, 0x1);
        gbc.writeMem(0x1dc6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4775);
        EXPECT(gbc.pc(), 0x1dc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03BF
        gbc.setState(0x9dd6, 0xd12f, 0x38f0, 0x73a9, 0x7334, 0xb758, 0x0, 0x0);
        gbc.writeMem(0x9dd6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd12f);
        EXPECT(gbc.pc(), 0x9dd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dd6), 0xb0);
        // B0 03C0
        gbc.setState(0x94f3, 0x5b4, 0xd280, 0xa06d, 0xae69, 0xfc37, 0x1, 0x0);
        gbc.writeMem(0x94f3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5b4);
        EXPECT(gbc.pc(), 0x94f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94f3), 0xb0);
        // B0 03C1
        gbc.setState(0x7be7, 0xab5, 0xbcc0, 0x6217, 0x5c8f, 0x1734, 0x0, 0x1);
        gbc.writeMem(0x7be7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xab5);
        EXPECT(gbc.pc(), 0x7be8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03C2
        gbc.setState(0xb090, 0xf701, 0xbd50, 0x8a3c, 0x563b, 0x7686, 0x1, 0x0);
        gbc.writeMem(0xb090, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf701);
        EXPECT(gbc.pc(), 0xb091);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb090), 0xb0);
        // B0 03C3
        gbc.setState(0xb13, 0xedda, 0xd9c0, 0x1829, 0x4d05, 0xa26c, 0x1, 0x1);
        gbc.writeMem(0xb13, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xedda);
        EXPECT(gbc.pc(), 0xb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03C4
        gbc.setState(0x4582, 0x66cd, 0x4900, 0xf022, 0x9a97, 0xd33d, 0x0, 0x0);
        gbc.writeMem(0x4582, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x66cd);
        EXPECT(gbc.pc(), 0x4583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03C5
        gbc.setState(0xe51a, 0xaad4, 0xcc50, 0x4ff1, 0x63b0, 0x29f, 0x0, 0x0);
        gbc.writeMem(0xe51a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xaad4);
        EXPECT(gbc.pc(), 0xe51b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe51a), 0xb0);
        // B0 03C6
        gbc.setState(0x2a6, 0x1fcf, 0x9d90, 0xd6ce, 0x9249, 0x1b32, 0x1, 0x0);
        gbc.writeMem(0x2a6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x1fcf);
        EXPECT(gbc.pc(), 0x2a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03C7
        gbc.setState(0x78b7, 0x17be, 0xd720, 0xf1c0, 0x7224, 0x7d33, 0x0, 0x0);
        gbc.writeMem(0x78b7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x17be);
        EXPECT(gbc.pc(), 0x78b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03C8
        gbc.setState(0xc4b7, 0x5e0f, 0xe8a0, 0x1651, 0xf654, 0xa292, 0x0, 0x0);
        gbc.writeMem(0xc4b7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5e0f);
        EXPECT(gbc.pc(), 0xc4b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4b7), 0xb0);
        // B0 03C9
        gbc.setState(0x7f50, 0xe40b, 0x5a40, 0x6e88, 0xb3e1, 0x58a9, 0x1, 0x1);
        gbc.writeMem(0x7f50, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe40b);
        EXPECT(gbc.pc(), 0x7f51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03CB
        gbc.setState(0x87e5, 0xffe8, 0x7630, 0x7449, 0x1d64, 0x1048, 0x1, 0x1);
        gbc.writeMem(0x87e5, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xffe8);
        EXPECT(gbc.pc(), 0x87e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e5), 0xb0);
        // B0 03CC
        gbc.setState(0xcd96, 0x9c3e, 0x620, 0x4bff, 0x25af, 0xc720, 0x0, 0x0);
        gbc.writeMem(0xcd96, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9c3e);
        EXPECT(gbc.pc(), 0xcd97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd96), 0xb0);
        // B0 03CD
        gbc.setState(0x803b, 0x3fa0, 0x6710, 0xfb42, 0x695b, 0xc0ca, 0x1, 0x1);
        gbc.writeMem(0x803b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x3fa0);
        EXPECT(gbc.pc(), 0x803c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x803b), 0xb0);
        // B0 03CE
        gbc.setState(0x46a, 0xfb57, 0x8a0, 0xf6d8, 0xf9dd, 0xedb2, 0x1, 0x1);
        gbc.writeMem(0x46a, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xfb57);
        EXPECT(gbc.pc(), 0x46b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03CF
        gbc.setState(0x35a8, 0x9f05, 0x3310, 0x84b, 0x8375, 0x8b4c, 0x1, 0x1);
        gbc.writeMem(0x35a8, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x9f05);
        EXPECT(gbc.pc(), 0x35a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03D0
        gbc.setState(0x2c29, 0xbeb3, 0x48b0, 0xda37, 0xf983, 0xf3a6, 0x1, 0x0);
        gbc.writeMem(0x2c29, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbeb3);
        EXPECT(gbc.pc(), 0x2c2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03D1
        gbc.setState(0xcce1, 0xbcbe, 0xf50, 0x9fc4, 0x36c3, 0x4024, 0x0, 0x1);
        gbc.writeMem(0xcce1, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xbcbe);
        EXPECT(gbc.pc(), 0xcce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcce1), 0xb0);
        // B0 03D3
        gbc.setState(0xe6f6, 0x50ec, 0xaa30, 0x28ef, 0x73d9, 0x599d, 0x0, 0x1);
        gbc.writeMem(0xe6f6, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x50ec);
        EXPECT(gbc.pc(), 0xe6f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f6), 0xb0);
        // B0 03D4
        gbc.setState(0xd5e2, 0xee16, 0xbab0, 0x3298, 0x8d02, 0x9735, 0x1, 0x1);
        gbc.writeMem(0xd5e2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xee16);
        EXPECT(gbc.pc(), 0xd5e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5e2), 0xb0);
        // B0 03D5
        gbc.setState(0x7af2, 0x1f54, 0x5f00, 0xfe25, 0x7aec, 0x69b5, 0x1, 0x1);
        gbc.writeMem(0x7af2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1f54);
        EXPECT(gbc.pc(), 0x7af3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03D6
        gbc.setState(0xb749, 0xb5ae, 0x43a0, 0xe0fb, 0x8d62, 0xd4b5, 0x1, 0x0);
        gbc.writeMem(0xb749, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb5ae);
        EXPECT(gbc.pc(), 0xb74a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb749), 0xb0);
        // B0 03D7
        gbc.setState(0xa6e3, 0x4695, 0x4800, 0x7781, 0x4c7f, 0x6e7f, 0x1, 0x1);
        gbc.writeMem(0xa6e3, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4695);
        EXPECT(gbc.pc(), 0xa6e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e3), 0xb0);
        // B0 03D8
        gbc.setState(0x6201, 0xdf31, 0x82b0, 0x3302, 0x8590, 0x6f68, 0x1, 0x0);
        gbc.writeMem(0x6201, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xdf31);
        EXPECT(gbc.pc(), 0x6202);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03D9
        gbc.setState(0x568d, 0x840c, 0xea60, 0xf2fd, 0x17a6, 0x364, 0x0, 0x1);
        gbc.writeMem(0x568d, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x840c);
        EXPECT(gbc.pc(), 0x568e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03DA
        gbc.setState(0x5564, 0x48cf, 0xa180, 0x58b9, 0x9f80, 0xceaa, 0x1, 0x0);
        gbc.writeMem(0x5564, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x48cf);
        EXPECT(gbc.pc(), 0x5565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03DB
        gbc.setState(0x2da9, 0x1b69, 0x7990, 0x36a7, 0x64e, 0xd36c, 0x1, 0x1);
        gbc.writeMem(0x2da9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x1b69);
        EXPECT(gbc.pc(), 0x2daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03DC
        gbc.setState(0x31f9, 0xb450, 0x1ed0, 0x1b87, 0x35b6, 0x3929, 0x0, 0x0);
        gbc.writeMem(0x31f9, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb450);
        EXPECT(gbc.pc(), 0x31fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03DD
        gbc.setState(0x6d42, 0x2c1, 0xd4a0, 0x26b2, 0x98f7, 0xc7f9, 0x1, 0x1);
        gbc.writeMem(0x6d42, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2c1);
        EXPECT(gbc.pc(), 0x6d43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03DE
        gbc.setState(0x5026, 0x432b, 0x35f0, 0x8a8f, 0x80a, 0xf81d, 0x0, 0x1);
        gbc.writeMem(0x5026, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x432b);
        EXPECT(gbc.pc(), 0x5027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03E0
        gbc.setState(0x3a96, 0xa197, 0x5fa0, 0xa2e8, 0x9a35, 0x16b2, 0x0, 0x0);
        gbc.writeMem(0x3a96, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xa197);
        EXPECT(gbc.pc(), 0x3a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03E1
        gbc.setState(0x40e2, 0xc747, 0x2020, 0x9d0f, 0xfab2, 0x8387, 0x0, 0x1);
        gbc.writeMem(0x40e2, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc747);
        EXPECT(gbc.pc(), 0x40e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03E2
        gbc.setState(0x7456, 0x4ba0, 0x7140, 0x2, 0xaa4, 0xc2b0, 0x1, 0x1);
        gbc.writeMem(0x7456, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4ba0);
        EXPECT(gbc.pc(), 0x7457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03E3
        gbc.setState(0x69d4, 0xa2a5, 0xd250, 0xd8c6, 0xc1ed, 0x476f, 0x0, 0x0);
        gbc.writeMem(0x69d4, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa2a5);
        EXPECT(gbc.pc(), 0x69d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03E4
        gbc.setState(0x8626, 0x8f2f, 0xa850, 0x89e8, 0x4497, 0xf919, 0x1, 0x0);
        gbc.writeMem(0x8626, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8f2f);
        EXPECT(gbc.pc(), 0x8627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8626), 0xb0);
        // B0 03E6
        gbc.setState(0x14ec, 0xc540, 0xbe90, 0x4668, 0x6bf9, 0x6e45, 0x0, 0x1);
        gbc.writeMem(0x14ec, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc540);
        EXPECT(gbc.pc(), 0x14ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B0 03E7
        gbc.setState(0xd0b7, 0x2c4b, 0x4d20, 0x1406, 0xb3f0, 0x241b, 0x1, 0x1);
        gbc.writeMem(0xd0b7, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2c4b);
        EXPECT(gbc.pc(), 0xd0b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0b7), 0xb0);
    }
}
#endif
