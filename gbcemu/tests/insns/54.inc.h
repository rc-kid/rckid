    TEST(gbcemu, opcode_54) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 54 0000
        gbc.setState(0x3548, 0xf267, 0xc430, 0x3996, 0xc83c, 0x2feb, 0x0, 0x0);
        gbc.writeMem(0x3548, { 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xf267, gbc.sp());
        EXPECT(0x3549, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0001
        gbc.setState(0x738b, 0x3aef, 0x41f0, 0x220f, 0xcbd0, 0x8659, 0x0, 0x0);
        gbc.writeMem(0x738b, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x3aef, gbc.sp());
        EXPECT(0x738c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0003
        gbc.setState(0x556f, 0x8153, 0x5020, 0xce49, 0xbeef, 0xc832, 0x1, 0x0);
        gbc.writeMem(0x556f, { 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x8153, gbc.sp());
        EXPECT(0x5570, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0005
        gbc.setState(0x7cf8, 0x81ea, 0x2510, 0xd472, 0x127, 0x114, 0x0, 0x1);
        gbc.writeMem(0x7cf8, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x81ea, gbc.sp());
        EXPECT(0x7cf9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0006
        gbc.setState(0xb701, 0xebbf, 0x8a50, 0xd0e7, 0x30ef, 0x4ac7, 0x0, 0x0);
        gbc.writeMem(0xb701, { 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xebbf, gbc.sp());
        EXPECT(0xb702, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb701));
        // 54 0007
        gbc.setState(0x3e87, 0x7dd3, 0xd1b0, 0x70c3, 0xcdd1, 0x3dba, 0x1, 0x0);
        gbc.writeMem(0x3e87, { 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x7dd3, gbc.sp());
        EXPECT(0x3e88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0008
        gbc.setState(0xd6bd, 0xc319, 0xdaa0, 0x1ae, 0x8d66, 0x1e08, 0x1, 0x1);
        gbc.writeMem(0xd6bd, { 0x54 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xc319, gbc.sp());
        EXPECT(0xd6be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd6bd));
        // 54 0009
        gbc.setState(0x6f4, 0x673d, 0x19b0, 0xc777, 0x6ea0, 0x5acf, 0x0, 0x0);
        gbc.writeMem(0x6f4, { 0x54 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x673d, gbc.sp());
        EXPECT(0x6f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 000A
        gbc.setState(0x2b2f, 0x55d8, 0x6550, 0x646e, 0x4cd1, 0xe140, 0x1, 0x1);
        gbc.writeMem(0x2b2f, { 0x54 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x55d8, gbc.sp());
        EXPECT(0x2b30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 000B
        gbc.setState(0x9113, 0x5ee2, 0xdc10, 0xb672, 0x7d24, 0xb901, 0x0, 0x1);
        gbc.writeMem(0x9113, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x5ee2, gbc.sp());
        EXPECT(0x9114, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9113));
        // 54 000C
        gbc.setState(0x65e8, 0x9fe2, 0xa0e0, 0x2cc3, 0x6105, 0x4b48, 0x1, 0x0);
        gbc.writeMem(0x65e8, { 0x54 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9fe2, gbc.sp());
        EXPECT(0x65e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 000D
        gbc.setState(0x9ffa, 0xbe99, 0x6400, 0xc505, 0x74be, 0x8898, 0x0, 0x1);
        gbc.writeMem(0x9ffa, { 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xbe99, gbc.sp());
        EXPECT(0x9ffb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9ffa));
        // 54 000E
        gbc.setState(0x2909, 0x5506, 0xf310, 0x94fc, 0x9f65, 0x80be, 0x0, 0x1);
        gbc.writeMem(0x2909, { 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x5506, gbc.sp());
        EXPECT(0x290a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 000F
        gbc.setState(0x465a, 0xecdd, 0xd960, 0x8ad2, 0x98a3, 0x270a, 0x0, 0x1);
        gbc.writeMem(0x465a, { 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xecdd, gbc.sp());
        EXPECT(0x465b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0010
        gbc.setState(0x56b6, 0x7cfe, 0xd3e0, 0xcc4b, 0xd5d1, 0x5e0b, 0x1, 0x1);
        gbc.writeMem(0x56b6, { 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7cfe, gbc.sp());
        EXPECT(0x56b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0011
        gbc.setState(0x85c1, 0xdd25, 0xf00, 0xfa48, 0xd3e0, 0x42b, 0x1, 0x0);
        gbc.writeMem(0x85c1, { 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xdd25, gbc.sp());
        EXPECT(0x85c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x85c1));
        // 54 0012
        gbc.setState(0x3b0a, 0x60aa, 0x9430, 0x8529, 0x89cf, 0x4778, 0x1, 0x0);
        gbc.writeMem(0x3b0a, { 0x54 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x60aa, gbc.sp());
        EXPECT(0x3b0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0013
        gbc.setState(0xeef3, 0xfbb2, 0xd020, 0x10e0, 0xdd65, 0x3528, 0x1, 0x0);
        gbc.writeMem(0xeef3, { 0x54 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xfbb2, gbc.sp());
        EXPECT(0xeef4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeef3));
        // 54 0014
        gbc.setState(0x90ec, 0xd931, 0x37c0, 0xa96c, 0xe01, 0x3b35, 0x0, 0x1);
        gbc.writeMem(0x90ec, { 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xd931, gbc.sp());
        EXPECT(0x90ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x90ec));
        // 54 0016
        gbc.setState(0x81aa, 0xd13f, 0x4e60, 0x67a6, 0x9d04, 0x3f28, 0x0, 0x1);
        gbc.writeMem(0x81aa, { 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xd13f, gbc.sp());
        EXPECT(0x81ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x81aa));
        // 54 0017
        gbc.setState(0xc684, 0x4aee, 0x9900, 0x70a2, 0xd3eb, 0x1486, 0x1, 0x0);
        gbc.writeMem(0xc684, { 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x4aee, gbc.sp());
        EXPECT(0xc685, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc684));
        // 54 0018
        gbc.setState(0x7874, 0x202a, 0x9cf0, 0x1f0c, 0xb101, 0x86df, 0x0, 0x1);
        gbc.writeMem(0x7874, { 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x202a, gbc.sp());
        EXPECT(0x7875, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0019
        gbc.setState(0x7e4f, 0x6d2c, 0x5a00, 0xe373, 0xeb41, 0xe430, 0x0, 0x0);
        gbc.writeMem(0x7e4f, { 0x54 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x6d2c, gbc.sp());
        EXPECT(0x7e50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 001A
        gbc.setState(0x52fe, 0x3c97, 0x8d10, 0x6743, 0x5d60, 0x4b14, 0x0, 0x1);
        gbc.writeMem(0x52fe, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x3c97, gbc.sp());
        EXPECT(0x52ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 001B
        gbc.setState(0x1852, 0x8fd2, 0x88f0, 0x144a, 0xb9d2, 0x7d64, 0x0, 0x0);
        gbc.writeMem(0x1852, { 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x8fd2, gbc.sp());
        EXPECT(0x1853, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 001C
        gbc.setState(0xd76d, 0x5a75, 0x41f0, 0x7f13, 0x5ae0, 0x46cb, 0x0, 0x1);
        gbc.writeMem(0xd76d, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x5a75, gbc.sp());
        EXPECT(0xd76e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd76d));
        // 54 001D
        gbc.setState(0x4041, 0x9ffd, 0xc20, 0xcb22, 0x340e, 0x80c9, 0x1, 0x0);
        gbc.writeMem(0x4041, { 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x9ffd, gbc.sp());
        EXPECT(0x4042, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 001E
        gbc.setState(0xdf0c, 0x33ee, 0x21b0, 0x155d, 0x9904, 0x88be, 0x1, 0x0);
        gbc.writeMem(0xdf0c, { 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x33ee, gbc.sp());
        EXPECT(0xdf0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf0c));
        // 54 001F
        gbc.setState(0xad36, 0x8c60, 0x8090, 0xa822, 0x3203, 0xa7fd, 0x0, 0x1);
        gbc.writeMem(0xad36, { 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x8c60, gbc.sp());
        EXPECT(0xad37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xad36));
        // 54 0020
        gbc.setState(0x7b19, 0x43d8, 0x5c50, 0x226e, 0x4946, 0x6872, 0x1, 0x1);
        gbc.writeMem(0x7b19, { 0x54 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x43d8, gbc.sp());
        EXPECT(0x7b1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0021
        gbc.setState(0xc74f, 0xd329, 0xee00, 0x62ed, 0x45f0, 0xfe7c, 0x0, 0x0);
        gbc.writeMem(0xc74f, { 0x54 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xd329, gbc.sp());
        EXPECT(0xc750, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc74f));
        // 54 0022
        gbc.setState(0x1ccd, 0xf746, 0x4910, 0x4c49, 0xd4c0, 0x337e, 0x0, 0x0);
        gbc.writeMem(0x1ccd, { 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xf746, gbc.sp());
        EXPECT(0x1cce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0023
        gbc.setState(0x2d93, 0xfc95, 0x80, 0xb593, 0x1782, 0xd8aa, 0x1, 0x1);
        gbc.writeMem(0x2d93, { 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xfc95, gbc.sp());
        EXPECT(0x2d94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0024
        gbc.setState(0xbcae, 0x6bce, 0x7b40, 0x1575, 0x4d4d, 0xd9e0, 0x0, 0x1);
        gbc.writeMem(0xbcae, { 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x6bce, gbc.sp());
        EXPECT(0xbcaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbcae));
        // 54 0025
        gbc.setState(0x1f24, 0xfb5b, 0xd4d0, 0x32a4, 0x2116, 0xea40, 0x0, 0x0);
        gbc.writeMem(0x1f24, { 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xfb5b, gbc.sp());
        EXPECT(0x1f25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0026
        gbc.setState(0xb4b1, 0x7d94, 0x9640, 0xe222, 0xbc54, 0xe97, 0x1, 0x1);
        gbc.writeMem(0xb4b1, { 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x7d94, gbc.sp());
        EXPECT(0xb4b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb4b1));
        // 54 0027
        gbc.setState(0x3fd, 0xd88b, 0xbe00, 0xcad1, 0xf441, 0xc84c, 0x1, 0x0);
        gbc.writeMem(0x3fd, { 0x54 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xd88b, gbc.sp());
        EXPECT(0x3fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0028
        gbc.setState(0x7ee3, 0xde3d, 0x7fb0, 0xe343, 0xfe0a, 0x6468, 0x0, 0x0);
        gbc.writeMem(0x7ee3, { 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xde3d, gbc.sp());
        EXPECT(0x7ee4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0029
        gbc.setState(0xe68, 0xdfc4, 0x40, 0x33d8, 0x7061, 0x5956, 0x1, 0x1);
        gbc.writeMem(0xe68, { 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xdfc4, gbc.sp());
        EXPECT(0xe69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 002B
        gbc.setState(0xb4fa, 0xb51d, 0xa250, 0xb912, 0xfd2, 0xca00, 0x1, 0x1);
        gbc.writeMem(0xb4fa, { 0x54 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xb51d, gbc.sp());
        EXPECT(0xb4fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb4fa));
        // 54 002C
        gbc.setState(0xd34e, 0xa7fe, 0xf880, 0x6fad, 0x98a7, 0x44e4, 0x1, 0x0);
        gbc.writeMem(0xd34e, { 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xa7fe, gbc.sp());
        EXPECT(0xd34f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd34e));
        // 54 002D
        gbc.setState(0x3a27, 0x7b16, 0x1c0, 0xfcf5, 0x4f7b, 0xbe0, 0x1, 0x1);
        gbc.writeMem(0x3a27, { 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x7b16, gbc.sp());
        EXPECT(0x3a28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 002E
        gbc.setState(0x1188, 0x2d31, 0x3880, 0xaaf, 0x7a3f, 0x453a, 0x0, 0x1);
        gbc.writeMem(0x1188, { 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x2d31, gbc.sp());
        EXPECT(0x1189, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 002F
        gbc.setState(0x3051, 0x2b10, 0x9b90, 0x627e, 0x7cd1, 0xce50, 0x0, 0x0);
        gbc.writeMem(0x3051, { 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x2b10, gbc.sp());
        EXPECT(0x3052, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0030
        gbc.setState(0xc1ff, 0x5516, 0x1550, 0x29b3, 0xb7c1, 0xc80, 0x1, 0x1);
        gbc.writeMem(0xc1ff, { 0x54 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x5516, gbc.sp());
        EXPECT(0xc200, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc1ff));
        // 54 0031
        gbc.setState(0x134e, 0x33bd, 0xe4e0, 0x760a, 0x380d, 0xa244, 0x1, 0x0);
        gbc.writeMem(0x134e, { 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x33bd, gbc.sp());
        EXPECT(0x134f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0032
        gbc.setState(0x8edf, 0x8709, 0xdd40, 0x621d, 0x1a13, 0x6e87, 0x1, 0x0);
        gbc.writeMem(0x8edf, { 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x8709, gbc.sp());
        EXPECT(0x8ee0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8edf));
        // 54 0033
        gbc.setState(0x1e23, 0xf23, 0x2320, 0x6b49, 0x1fc5, 0xaf31, 0x1, 0x1);
        gbc.writeMem(0x1e23, { 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xf23, gbc.sp());
        EXPECT(0x1e24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0034
        gbc.setState(0xb1ec, 0x683, 0xa8a0, 0x5d11, 0x80de, 0xcc5a, 0x1, 0x1);
        gbc.writeMem(0xb1ec, { 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x683, gbc.sp());
        EXPECT(0xb1ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb1ec));
        // 54 0035
        gbc.setState(0xc669, 0x68ee, 0xe2f0, 0xcc82, 0x5051, 0x64b, 0x0, 0x1);
        gbc.writeMem(0xc669, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x68ee, gbc.sp());
        EXPECT(0xc66a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc669));
        // 54 0036
        gbc.setState(0x8626, 0xc480, 0x4230, 0xd554, 0x3c16, 0x7fb7, 0x0, 0x1);
        gbc.writeMem(0x8626, { 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xc480, gbc.sp());
        EXPECT(0x8627, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8626));
        // 54 0037
        gbc.setState(0x7a0e, 0x8dd8, 0xd9c0, 0x74dc, 0x41d7, 0x4e9f, 0x0, 0x0);
        gbc.writeMem(0x7a0e, { 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x8dd8, gbc.sp());
        EXPECT(0x7a0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0038
        gbc.setState(0x99f3, 0x123f, 0x6b20, 0x3ba0, 0x34bf, 0x6c73, 0x0, 0x1);
        gbc.writeMem(0x99f3, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x123f, gbc.sp());
        EXPECT(0x99f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x99f3));
        // 54 0039
        gbc.setState(0xb901, 0xd779, 0x69c0, 0xe50c, 0x1b13, 0x8e9e, 0x0, 0x1);
        gbc.writeMem(0xb901, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xd779, gbc.sp());
        EXPECT(0xb902, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb901));
        // 54 003A
        gbc.setState(0xe813, 0x52e7, 0x6940, 0x8ea, 0x57bc, 0xfb31, 0x1, 0x0);
        gbc.writeMem(0xe813, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x52e7, gbc.sp());
        EXPECT(0xe814, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe813));
        // 54 003B
        gbc.setState(0x8f45, 0x4e0c, 0x2550, 0xfa72, 0x6a45, 0xdacd, 0x1, 0x0);
        gbc.writeMem(0x8f45, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x4e0c, gbc.sp());
        EXPECT(0x8f46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8f45));
        // 54 003C
        gbc.setState(0xcedd, 0xbf89, 0xa1b0, 0xfb1c, 0xe630, 0xf199, 0x0, 0x0);
        gbc.writeMem(0xcedd, { 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xbf89, gbc.sp());
        EXPECT(0xcede, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcedd));
        // 54 003D
        gbc.setState(0x835, 0xd62a, 0x3560, 0x9342, 0x45c4, 0x2965, 0x0, 0x1);
        gbc.writeMem(0x835, { 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xd62a, gbc.sp());
        EXPECT(0x836, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 003E
        gbc.setState(0xc5ca, 0xb32e, 0x5020, 0x56af, 0x5fa8, 0xfa3, 0x1, 0x0);
        gbc.writeMem(0xc5ca, { 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xb32e, gbc.sp());
        EXPECT(0xc5cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc5ca));
        // 54 003F
        gbc.setState(0xb7b5, 0x97d7, 0x8030, 0xd0e1, 0xbf09, 0xa241, 0x1, 0x0);
        gbc.writeMem(0xb7b5, { 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x97d7, gbc.sp());
        EXPECT(0xb7b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb7b5));
        // 54 0040
        gbc.setState(0x8878, 0x6d01, 0x91b0, 0xed95, 0x34b4, 0xb14a, 0x0, 0x1);
        gbc.writeMem(0x8878, { 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x6d01, gbc.sp());
        EXPECT(0x8879, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8878));
        // 54 0041
        gbc.setState(0x1674, 0xd09d, 0x6c90, 0x34, 0x1627, 0xcb96, 0x1, 0x1);
        gbc.writeMem(0x1674, { 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xd09d, gbc.sp());
        EXPECT(0x1675, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0042
        gbc.setState(0x345d, 0xf4bb, 0x810, 0xdb60, 0x63ff, 0x4041, 0x1, 0x0);
        gbc.writeMem(0x345d, { 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xf4bb, gbc.sp());
        EXPECT(0x345e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0043
        gbc.setState(0x330, 0xea53, 0x9790, 0x1fe, 0x6a2e, 0x1f6c, 0x0, 0x0);
        gbc.writeMem(0x330, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xea53, gbc.sp());
        EXPECT(0x331, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0044
        gbc.setState(0x7761, 0xf8bb, 0x79d0, 0x11c8, 0xba2a, 0x8a57, 0x0, 0x0);
        gbc.writeMem(0x7761, { 0x54 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xf8bb, gbc.sp());
        EXPECT(0x7762, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0045
        gbc.setState(0xb8c4, 0xa157, 0xce70, 0x8ba1, 0x6d8a, 0xd79, 0x0, 0x0);
        gbc.writeMem(0xb8c4, { 0x54 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa157, gbc.sp());
        EXPECT(0xb8c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb8c4));
        // 54 0046
        gbc.setState(0xcb59, 0x74f0, 0x5860, 0xdbbe, 0x1db3, 0x8ceb, 0x0, 0x1);
        gbc.writeMem(0xcb59, { 0x54 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x74f0, gbc.sp());
        EXPECT(0xcb5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcb59));
        // 54 0047
        gbc.setState(0xe05c, 0x9439, 0xee60, 0x7f78, 0x24a6, 0x4f9c, 0x0, 0x0);
        gbc.writeMem(0xe05c, { 0x54 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x9439, gbc.sp());
        EXPECT(0xe05d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe05c));
        // 54 0048
        gbc.setState(0xa1a7, 0xefe4, 0x2c20, 0xcd79, 0xc539, 0xec7c, 0x1, 0x1);
        gbc.writeMem(0xa1a7, { 0x54 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xefe4, gbc.sp());
        EXPECT(0xa1a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa1a7));
        // 54 004A
        gbc.setState(0x4bf4, 0x80aa, 0x5f50, 0x1eca, 0xb90c, 0x9672, 0x0, 0x0);
        gbc.writeMem(0x4bf4, { 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x80aa, gbc.sp());
        EXPECT(0x4bf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 004B
        gbc.setState(0xeb47, 0x903f, 0xefc0, 0x82d3, 0x3a89, 0x1756, 0x0, 0x0);
        gbc.writeMem(0xeb47, { 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x903f, gbc.sp());
        EXPECT(0xeb48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeb47));
        // 54 004C
        gbc.setState(0x2595, 0xc442, 0x1a80, 0x841c, 0x86a3, 0x713e, 0x1, 0x0);
        gbc.writeMem(0x2595, { 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xc442, gbc.sp());
        EXPECT(0x2596, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 004D
        gbc.setState(0xcfe0, 0xaebe, 0xca60, 0xd6b, 0x63c5, 0x89a4, 0x0, 0x1);
        gbc.writeMem(0xcfe0, { 0x54 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xaebe, gbc.sp());
        EXPECT(0xcfe1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcfe0));
        // 54 004E
        gbc.setState(0xc074, 0xf93a, 0x2ff0, 0x83d8, 0x5f3b, 0xd24d, 0x0, 0x0);
        gbc.writeMem(0xc074, { 0x54 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf93a, gbc.sp());
        EXPECT(0xc075, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc074));
        // 54 004F
        gbc.setState(0xc9b1, 0x2230, 0xda0, 0x7d7d, 0x55c7, 0xe827, 0x1, 0x1);
        gbc.writeMem(0xc9b1, { 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x2230, gbc.sp());
        EXPECT(0xc9b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc9b1));
        // 54 0050
        gbc.setState(0xd333, 0x1ab4, 0xa130, 0x4f63, 0x67d5, 0x2627, 0x0, 0x1);
        gbc.writeMem(0xd333, { 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x1ab4, gbc.sp());
        EXPECT(0xd334, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd333));
        // 54 0051
        gbc.setState(0x599b, 0xca76, 0xe350, 0x483, 0x484d, 0xfee1, 0x1, 0x0);
        gbc.writeMem(0x599b, { 0x54 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xca76, gbc.sp());
        EXPECT(0x599c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0052
        gbc.setState(0x26d4, 0x2612, 0xa30, 0xa659, 0xbbd8, 0x6201, 0x0, 0x0);
        gbc.writeMem(0x26d4, { 0x54 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x2612, gbc.sp());
        EXPECT(0x26d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0053
        gbc.setState(0xd47d, 0xed40, 0x8530, 0xbc6a, 0xc7ec, 0x6ce8, 0x0, 0x1);
        gbc.writeMem(0xd47d, { 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xed40, gbc.sp());
        EXPECT(0xd47e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd47d));
        // 54 0054
        gbc.setState(0xe4c2, 0x9f25, 0x41b0, 0xa0fa, 0xa166, 0x7f8e, 0x1, 0x1);
        gbc.writeMem(0xe4c2, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x9f25, gbc.sp());
        EXPECT(0xe4c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe4c2));
        // 54 0055
        gbc.setState(0xe06a, 0x8945, 0x8850, 0x5a5b, 0xfbcf, 0xb48e, 0x0, 0x0);
        gbc.writeMem(0xe06a, { 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x8945, gbc.sp());
        EXPECT(0xe06b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe06a));
        // 54 0056
        gbc.setState(0xedb6, 0xc7f0, 0x37c0, 0x9f5e, 0x8252, 0x4df6, 0x0, 0x1);
        gbc.writeMem(0xedb6, { 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc7f0, gbc.sp());
        EXPECT(0xedb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xedb6));
        // 54 0057
        gbc.setState(0x9d59, 0x76cf, 0x87a0, 0xc212, 0x15c3, 0x7b1b, 0x1, 0x1);
        gbc.writeMem(0x9d59, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x76cf, gbc.sp());
        EXPECT(0x9d5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9d59));
        // 54 0058
        gbc.setState(0x7a08, 0x8272, 0xc940, 0x4bcc, 0xd12a, 0x5f03, 0x0, 0x1);
        gbc.writeMem(0x7a08, { 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x8272, gbc.sp());
        EXPECT(0x7a09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0059
        gbc.setState(0xb914, 0xa63e, 0x1a30, 0xa7e5, 0x999e, 0xc55f, 0x1, 0x0);
        gbc.writeMem(0xb914, { 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xa63e, gbc.sp());
        EXPECT(0xb915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb914));
        // 54 005A
        gbc.setState(0x2357, 0xd67b, 0xbf60, 0x3de4, 0xd071, 0x3dc1, 0x0, 0x1);
        gbc.writeMem(0x2357, { 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xd67b, gbc.sp());
        EXPECT(0x2358, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 005B
        gbc.setState(0x1569, 0x17a5, 0xe060, 0xcf5, 0x91, 0x9dea, 0x1, 0x1);
        gbc.writeMem(0x1569, { 0x54 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x17a5, gbc.sp());
        EXPECT(0x156a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 005C
        gbc.setState(0x7a0f, 0x9e2d, 0xb630, 0x1e77, 0x513f, 0x82ce, 0x0, 0x0);
        gbc.writeMem(0x7a0f, { 0x54 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x9e2d, gbc.sp());
        EXPECT(0x7a10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 005D
        gbc.setState(0x4626, 0x7355, 0xa9b0, 0xa2bd, 0x7cb9, 0xb5b5, 0x0, 0x0);
        gbc.writeMem(0x4626, { 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x7355, gbc.sp());
        EXPECT(0x4627, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 005F
        gbc.setState(0xeaaa, 0x46b1, 0x43e0, 0xd6c9, 0x6edd, 0x3c56, 0x0, 0x0);
        gbc.writeMem(0xeaaa, { 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x46b1, gbc.sp());
        EXPECT(0xeaab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeaaa));
        // 54 0060
        gbc.setState(0x21e2, 0x308c, 0xe80, 0xedce, 0xd6db, 0x19de, 0x0, 0x0);
        gbc.writeMem(0x21e2, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x308c, gbc.sp());
        EXPECT(0x21e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0061
        gbc.setState(0xd802, 0xf364, 0x2880, 0x6f36, 0xf2d1, 0x55c3, 0x0, 0x0);
        gbc.writeMem(0xd802, { 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xf364, gbc.sp());
        EXPECT(0xd803, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd802));
        // 54 0062
        gbc.setState(0xddcf, 0x2fdb, 0x1320, 0xb68, 0xfa52, 0x474c, 0x1, 0x1);
        gbc.writeMem(0xddcf, { 0x54 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2fdb, gbc.sp());
        EXPECT(0xddd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xddcf));
        // 54 0063
        gbc.setState(0xafe2, 0x530b, 0x4da0, 0x1f91, 0x9074, 0x69bd, 0x1, 0x1);
        gbc.writeMem(0xafe2, { 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x530b, gbc.sp());
        EXPECT(0xafe3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xafe2));
        // 54 0064
        gbc.setState(0x6c97, 0xbe65, 0xc370, 0xbbc5, 0x7f36, 0x130f, 0x0, 0x0);
        gbc.writeMem(0x6c97, { 0x54 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xbe65, gbc.sp());
        EXPECT(0x6c98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0065
        gbc.setState(0xc862, 0x1ba5, 0x5a90, 0x197e, 0x8af, 0xc721, 0x1, 0x0);
        gbc.writeMem(0xc862, { 0x54 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1ba5, gbc.sp());
        EXPECT(0xc863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc862));
        // 54 0066
        gbc.setState(0x1467, 0xd9d3, 0x940, 0xf9b7, 0xe789, 0x43a7, 0x0, 0x0);
        gbc.writeMem(0x1467, { 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xd9d3, gbc.sp());
        EXPECT(0x1468, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0067
        gbc.setState(0xb6f, 0xa757, 0x4ef0, 0x8abd, 0x2678, 0xad2b, 0x1, 0x0);
        gbc.writeMem(0xb6f, { 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xa757, gbc.sp());
        EXPECT(0xb70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0068
        gbc.setState(0x7c5e, 0x7446, 0xf780, 0x399b, 0xe185, 0x401e, 0x0, 0x0);
        gbc.writeMem(0x7c5e, { 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x7446, gbc.sp());
        EXPECT(0x7c5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0069
        gbc.setState(0xb349, 0x8889, 0x5830, 0x1d53, 0xe91c, 0xca4f, 0x0, 0x0);
        gbc.writeMem(0xb349, { 0x54 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x8889, gbc.sp());
        EXPECT(0xb34a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb349));
        // 54 006B
        gbc.setState(0x4f9c, 0x9d55, 0xefd0, 0xadb1, 0x23e7, 0x46ea, 0x0, 0x0);
        gbc.writeMem(0x4f9c, { 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x9d55, gbc.sp());
        EXPECT(0x4f9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 006C
        gbc.setState(0x7519, 0xa60c, 0xcc00, 0xbacc, 0x6cbf, 0x844d, 0x0, 0x0);
        gbc.writeMem(0x7519, { 0x54 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xa60c, gbc.sp());
        EXPECT(0x751a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 006D
        gbc.setState(0x46f6, 0x4b22, 0x1cc0, 0x4acb, 0x1651, 0x44a0, 0x1, 0x1);
        gbc.writeMem(0x46f6, { 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x4b22, gbc.sp());
        EXPECT(0x46f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 006E
        gbc.setState(0x3455, 0x76de, 0x25e0, 0x7f5d, 0xeef3, 0x383b, 0x1, 0x0);
        gbc.writeMem(0x3455, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x76de, gbc.sp());
        EXPECT(0x3456, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 006F
        gbc.setState(0x576, 0xa700, 0x6b30, 0x31b3, 0x436, 0x23f0, 0x1, 0x1);
        gbc.writeMem(0x576, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xa700, gbc.sp());
        EXPECT(0x577, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0070
        gbc.setState(0x947e, 0x5626, 0xdc10, 0x8ef9, 0xd6ac, 0xe71b, 0x1, 0x0);
        gbc.writeMem(0x947e, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x5626, gbc.sp());
        EXPECT(0x947f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x947e));
        // 54 0071
        gbc.setState(0x5652, 0x6b, 0x5270, 0xfa5a, 0xc872, 0x92db, 0x0, 0x1);
        gbc.writeMem(0x5652, { 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x6b, gbc.sp());
        EXPECT(0x5653, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0072
        gbc.setState(0xac26, 0x9d64, 0x6f50, 0xd844, 0xa68e, 0x2d26, 0x1, 0x1);
        gbc.writeMem(0xac26, { 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x9d64, gbc.sp());
        EXPECT(0xac27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xac26));
        // 54 0073
        gbc.setState(0x4b40, 0xdd7a, 0x4de0, 0xb31d, 0xb749, 0xcab, 0x1, 0x0);
        gbc.writeMem(0x4b40, { 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xdd7a, gbc.sp());
        EXPECT(0x4b41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0075
        gbc.setState(0x3186, 0xf72e, 0xf350, 0xa8a0, 0x665, 0x85d1, 0x0, 0x0);
        gbc.writeMem(0x3186, { 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xf72e, gbc.sp());
        EXPECT(0x3187, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0076
        gbc.setState(0x51a6, 0x27fd, 0x7630, 0x2c77, 0xb82b, 0x8364, 0x0, 0x0);
        gbc.writeMem(0x51a6, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x27fd, gbc.sp());
        EXPECT(0x51a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0077
        gbc.setState(0x8dbc, 0xc51a, 0x59e0, 0xff65, 0x4bf0, 0x60, 0x1, 0x1);
        gbc.writeMem(0x8dbc, { 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xc51a, gbc.sp());
        EXPECT(0x8dbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8dbc));
        // 54 0079
        gbc.setState(0x4d0e, 0x87f4, 0xf8b0, 0x2cb, 0xff43, 0x932c, 0x0, 0x0);
        gbc.writeMem(0x4d0e, { 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x87f4, gbc.sp());
        EXPECT(0x4d0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 007A
        gbc.setState(0x7ce5, 0xe256, 0xbb20, 0xd27b, 0x74a8, 0xe9e5, 0x1, 0x1);
        gbc.writeMem(0x7ce5, { 0x54 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xe256, gbc.sp());
        EXPECT(0x7ce6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 007B
        gbc.setState(0xad8, 0xf3da, 0x93d0, 0x34de, 0x40c0, 0xd489, 0x1, 0x0);
        gbc.writeMem(0xad8, { 0x54 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xf3da, gbc.sp());
        EXPECT(0xad9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 007D
        gbc.setState(0x4944, 0x527c, 0xc560, 0x3eb5, 0xd225, 0xb9d1, 0x1, 0x1);
        gbc.writeMem(0x4944, { 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x527c, gbc.sp());
        EXPECT(0x4945, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 007E
        gbc.setState(0xa0f, 0xf9dc, 0x2940, 0x9a50, 0xde57, 0x84f, 0x1, 0x0);
        gbc.writeMem(0xa0f, { 0x54 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xf9dc, gbc.sp());
        EXPECT(0xa10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 007F
        gbc.setState(0x520a, 0xc227, 0xde70, 0x896c, 0xfd14, 0xbc9a, 0x1, 0x1);
        gbc.writeMem(0x520a, { 0x54 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xc227, gbc.sp());
        EXPECT(0x520b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0080
        gbc.setState(0x7099, 0x4b4f, 0x1390, 0xf9e0, 0x7ae6, 0xaa16, 0x0, 0x0);
        gbc.writeMem(0x7099, { 0x54 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x4b4f, gbc.sp());
        EXPECT(0x709a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0081
        gbc.setState(0xc98f, 0x1f8b, 0xe220, 0x505a, 0xc483, 0x7045, 0x0, 0x1);
        gbc.writeMem(0xc98f, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x1f8b, gbc.sp());
        EXPECT(0xc990, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc98f));
        // 54 0082
        gbc.setState(0x7c08, 0xd2bc, 0xa350, 0x29e9, 0x5059, 0x4916, 0x1, 0x1);
        gbc.writeMem(0x7c08, { 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xd2bc, gbc.sp());
        EXPECT(0x7c09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0083
        gbc.setState(0x102d, 0xc1cd, 0x74e0, 0x2bd1, 0xccfc, 0x5736, 0x0, 0x0);
        gbc.writeMem(0x102d, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xc1cd, gbc.sp());
        EXPECT(0x102e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0084
        gbc.setState(0x560a, 0xf2d8, 0x1510, 0x1f59, 0x9817, 0x35a, 0x0, 0x0);
        gbc.writeMem(0x560a, { 0x54 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xf2d8, gbc.sp());
        EXPECT(0x560b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0085
        gbc.setState(0x62ee, 0xdc29, 0x3510, 0xbf70, 0xeb7e, 0xca7f, 0x1, 0x0);
        gbc.writeMem(0x62ee, { 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xdc29, gbc.sp());
        EXPECT(0x62ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0086
        gbc.setState(0xcb62, 0xbcff, 0x9e20, 0xd91e, 0xbb8, 0x67d7, 0x1, 0x0);
        gbc.writeMem(0xcb62, { 0x54 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xbcff, gbc.sp());
        EXPECT(0xcb63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcb62));
        // 54 0087
        gbc.setState(0x8a51, 0x93fd, 0x8da0, 0x5f73, 0x3fd8, 0x67d, 0x0, 0x0);
        gbc.writeMem(0x8a51, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x93fd, gbc.sp());
        EXPECT(0x8a52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8a51));
        // 54 0088
        gbc.setState(0x422d, 0xe10e, 0x86c0, 0xa76b, 0x95b2, 0xc6b4, 0x0, 0x1);
        gbc.writeMem(0x422d, { 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xe10e, gbc.sp());
        EXPECT(0x422e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0089
        gbc.setState(0xba3, 0xda93, 0xd250, 0xb8bf, 0x87af, 0x2b9b, 0x1, 0x0);
        gbc.writeMem(0xba3, { 0x54 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xda93, gbc.sp());
        EXPECT(0xba4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 008A
        gbc.setState(0x6e36, 0x55e3, 0xee30, 0x377b, 0x6155, 0x360a, 0x0, 0x1);
        gbc.writeMem(0x6e36, { 0x54 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x55e3, gbc.sp());
        EXPECT(0x6e37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 008C
        gbc.setState(0xdfbd, 0x1d7a, 0x8790, 0xa265, 0x62f3, 0xec12, 0x1, 0x0);
        gbc.writeMem(0xdfbd, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x1d7a, gbc.sp());
        EXPECT(0xdfbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdfbd));
        // 54 008D
        gbc.setState(0xe46f, 0x2799, 0xad20, 0x16f1, 0x460a, 0x987a, 0x1, 0x0);
        gbc.writeMem(0xe46f, { 0x54 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x2799, gbc.sp());
        EXPECT(0xe470, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe46f));
        // 54 008E
        gbc.setState(0x5136, 0x82ab, 0x3d80, 0xa71f, 0xda5b, 0xbf02, 0x1, 0x0);
        gbc.writeMem(0x5136, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x82ab, gbc.sp());
        EXPECT(0x5137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 008F
        gbc.setState(0xe4aa, 0x38e5, 0x3090, 0xfcbc, 0xb654, 0x6559, 0x1, 0x1);
        gbc.writeMem(0xe4aa, { 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x38e5, gbc.sp());
        EXPECT(0xe4ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe4aa));
        // 54 0090
        gbc.setState(0x33c5, 0x4f1c, 0xdde0, 0x36b8, 0xd7b3, 0xef35, 0x1, 0x1);
        gbc.writeMem(0x33c5, { 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x4f1c, gbc.sp());
        EXPECT(0x33c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0091
        gbc.setState(0x1cde, 0xcee4, 0xefe0, 0x3057, 0x3c46, 0xfe74, 0x0, 0x1);
        gbc.writeMem(0x1cde, { 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xcee4, gbc.sp());
        EXPECT(0x1cdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0092
        gbc.setState(0xdde5, 0x5cbb, 0x7dc0, 0x98f3, 0x21af, 0x85e3, 0x0, 0x0);
        gbc.writeMem(0xdde5, { 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x5cbb, gbc.sp());
        EXPECT(0xdde6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdde5));
        // 54 0093
        gbc.setState(0xb1c, 0x169, 0xce20, 0x63bc, 0x3d4, 0x775d, 0x0, 0x1);
        gbc.writeMem(0xb1c, { 0x54 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x169, gbc.sp());
        EXPECT(0xb1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0094
        gbc.setState(0x5927, 0x37fb, 0x30a0, 0x9af6, 0xc23, 0xfc90, 0x1, 0x0);
        gbc.writeMem(0x5927, { 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x37fb, gbc.sp());
        EXPECT(0x5928, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0095
        gbc.setState(0xba27, 0x798d, 0x3710, 0xe3bc, 0x34c6, 0x2358, 0x0, 0x1);
        gbc.writeMem(0xba27, { 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x798d, gbc.sp());
        EXPECT(0xba28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xba27));
        // 54 0096
        gbc.setState(0x708f, 0x1c45, 0x4220, 0xa5ed, 0x6562, 0x7d68, 0x1, 0x1);
        gbc.writeMem(0x708f, { 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x1c45, gbc.sp());
        EXPECT(0x7090, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0097
        gbc.setState(0x41eb, 0xe1af, 0x8f10, 0x31d, 0xe888, 0xa4c5, 0x0, 0x1);
        gbc.writeMem(0x41eb, { 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xe1af, gbc.sp());
        EXPECT(0x41ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0098
        gbc.setState(0x5883, 0xff0f, 0xf920, 0x5fb, 0x5920, 0xad98, 0x1, 0x0);
        gbc.writeMem(0x5883, { 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xff0f, gbc.sp());
        EXPECT(0x5884, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0099
        gbc.setState(0x6f5, 0x12e0, 0x2150, 0xcf19, 0xb118, 0x7b50, 0x0, 0x1);
        gbc.writeMem(0x6f5, { 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x12e0, gbc.sp());
        EXPECT(0x6f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 009A
        gbc.setState(0x5719, 0x8d7f, 0xf9c0, 0x1007, 0x63ca, 0x2e85, 0x1, 0x0);
        gbc.writeMem(0x5719, { 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x8d7f, gbc.sp());
        EXPECT(0x571a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 009B
        gbc.setState(0x9f6c, 0x19e6, 0x3db0, 0xc892, 0x645c, 0xd453, 0x1, 0x1);
        gbc.writeMem(0x9f6c, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x19e6, gbc.sp());
        EXPECT(0x9f6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9f6c));
        // 54 009C
        gbc.setState(0x8cb6, 0x1523, 0x5ee0, 0xae80, 0xff33, 0x86ef, 0x1, 0x1);
        gbc.writeMem(0x8cb6, { 0x54 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x1523, gbc.sp());
        EXPECT(0x8cb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8cb6));
        // 54 009D
        gbc.setState(0xaa24, 0xdf0b, 0xc170, 0xf5da, 0x4974, 0x4cf, 0x0, 0x0);
        gbc.writeMem(0xaa24, { 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xdf0b, gbc.sp());
        EXPECT(0xaa25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xaa24));
        // 54 009E
        gbc.setState(0x6444, 0xc8f9, 0x4760, 0x8625, 0xf467, 0x6fdb, 0x1, 0x0);
        gbc.writeMem(0x6444, { 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xc8f9, gbc.sp());
        EXPECT(0x6445, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 009F
        gbc.setState(0xb718, 0x990, 0x6040, 0x6037, 0x547a, 0x6e48, 0x0, 0x1);
        gbc.writeMem(0xb718, { 0x54 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x990, gbc.sp());
        EXPECT(0xb719, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb718));
        // 54 00A0
        gbc.setState(0xc1d1, 0x37ff, 0x3800, 0x2e71, 0x6ad9, 0x730d, 0x1, 0x0);
        gbc.writeMem(0xc1d1, { 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x37ff, gbc.sp());
        EXPECT(0xc1d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc1d1));
        // 54 00A1
        gbc.setState(0xeb65, 0xfb74, 0x2a20, 0x8ccf, 0x4a6, 0xcf6a, 0x1, 0x1);
        gbc.writeMem(0xeb65, { 0x54 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xfb74, gbc.sp());
        EXPECT(0xeb66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeb65));
        // 54 00A2
        gbc.setState(0xe9c7, 0x7c77, 0x86e0, 0xc2a5, 0x990e, 0x93d, 0x0, 0x0);
        gbc.writeMem(0xe9c7, { 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x7c77, gbc.sp());
        EXPECT(0xe9c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe9c7));
        // 54 00A3
        gbc.setState(0xba77, 0x8147, 0x2700, 0x2e98, 0x1192, 0x1266, 0x1, 0x0);
        gbc.writeMem(0xba77, { 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x8147, gbc.sp());
        EXPECT(0xba78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xba77));
        // 54 00A4
        gbc.setState(0x3cab, 0x7f91, 0x6d60, 0x1797, 0x8253, 0xc75a, 0x1, 0x1);
        gbc.writeMem(0x3cab, { 0x54 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x7f91, gbc.sp());
        EXPECT(0x3cac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00A5
        gbc.setState(0x471a, 0xc50b, 0xad60, 0xf1b6, 0xa487, 0xcdf, 0x0, 0x0);
        gbc.writeMem(0x471a, { 0x54 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xc50b, gbc.sp());
        EXPECT(0x471b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00A6
        gbc.setState(0x77e3, 0xd10b, 0x1ce0, 0xc542, 0x26b0, 0x9126, 0x1, 0x1);
        gbc.writeMem(0x77e3, { 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xd10b, gbc.sp());
        EXPECT(0x77e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00A7
        gbc.setState(0xf96, 0x9854, 0x7e90, 0xe29c, 0xc722, 0x2938, 0x0, 0x0);
        gbc.writeMem(0xf96, { 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x9854, gbc.sp());
        EXPECT(0xf97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00A8
        gbc.setState(0x83ec, 0x73e8, 0x70c0, 0xcf25, 0x2fdf, 0x968e, 0x0, 0x1);
        gbc.writeMem(0x83ec, { 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x73e8, gbc.sp());
        EXPECT(0x83ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x83ec));
        // 54 00A9
        gbc.setState(0x2550, 0x17f6, 0x7810, 0x3b33, 0x8d15, 0xeef3, 0x1, 0x1);
        gbc.writeMem(0x2550, { 0x54 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x17f6, gbc.sp());
        EXPECT(0x2551, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00AA
        gbc.setState(0x74ff, 0x8ebc, 0x5b20, 0xbbb8, 0x8cd5, 0x5605, 0x0, 0x0);
        gbc.writeMem(0x74ff, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8ebc, gbc.sp());
        EXPECT(0x7500, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00AB
        gbc.setState(0x9666, 0xc3a7, 0xb980, 0x6780, 0xe1bc, 0x3e78, 0x1, 0x1);
        gbc.writeMem(0x9666, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xc3a7, gbc.sp());
        EXPECT(0x9667, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9666));
        // 54 00AC
        gbc.setState(0xb6e6, 0x3c8c, 0x55e0, 0xdea4, 0x206d, 0xd89d, 0x1, 0x1);
        gbc.writeMem(0xb6e6, { 0x54 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x3c8c, gbc.sp());
        EXPECT(0xb6e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb6e6));
        // 54 00AD
        gbc.setState(0x32e, 0xba, 0x88c0, 0x564, 0x9de9, 0xee30, 0x1, 0x0);
        gbc.writeMem(0x32e, { 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xba, gbc.sp());
        EXPECT(0x32f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00AE
        gbc.setState(0x841c, 0xd917, 0x9450, 0xd5ee, 0xb365, 0xd4a6, 0x1, 0x0);
        gbc.writeMem(0x841c, { 0x54 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xd917, gbc.sp());
        EXPECT(0x841d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x841c));
        // 54 00AF
        gbc.setState(0xd295, 0xefd6, 0x74b0, 0xdb1b, 0x92e1, 0xd7a6, 0x1, 0x0);
        gbc.writeMem(0xd295, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xefd6, gbc.sp());
        EXPECT(0xd296, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd295));
        // 54 00B0
        gbc.setState(0x9bc7, 0xe72a, 0x7400, 0x6a28, 0xdc0b, 0xe1a6, 0x0, 0x0);
        gbc.writeMem(0x9bc7, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xe72a, gbc.sp());
        EXPECT(0x9bc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9bc7));
        // 54 00B1
        gbc.setState(0x8e85, 0x419f, 0x1300, 0x319e, 0x4478, 0xf152, 0x1, 0x1);
        gbc.writeMem(0x8e85, { 0x54 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x419f, gbc.sp());
        EXPECT(0x8e86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8e85));
        // 54 00B2
        gbc.setState(0xe72a, 0x6112, 0xb470, 0x91fe, 0xeb8d, 0x45c7, 0x1, 0x1);
        gbc.writeMem(0xe72a, { 0x54 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x6112, gbc.sp());
        EXPECT(0xe72b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe72a));
        // 54 00B3
        gbc.setState(0x7b22, 0x4ccb, 0x1480, 0xa95c, 0x64ee, 0x8326, 0x1, 0x1);
        gbc.writeMem(0x7b22, { 0x54 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x4ccb, gbc.sp());
        EXPECT(0x7b23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00B4
        gbc.setState(0xbea7, 0xd47e, 0x7c00, 0x9c58, 0x70a5, 0x85cc, 0x0, 0x0);
        gbc.writeMem(0xbea7, { 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xd47e, gbc.sp());
        EXPECT(0xbea8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbea7));
        // 54 00B5
        gbc.setState(0x35ad, 0x63ed, 0xb2b0, 0xc4a6, 0x10dc, 0x3849, 0x0, 0x1);
        gbc.writeMem(0x35ad, { 0x54 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x63ed, gbc.sp());
        EXPECT(0x35ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00B6
        gbc.setState(0xfb1, 0x379f, 0xbbf0, 0xe28e, 0x98f1, 0xda27, 0x1, 0x1);
        gbc.writeMem(0xfb1, { 0x54 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x379f, gbc.sp());
        EXPECT(0xfb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00B7
        gbc.setState(0x1e18, 0x88cb, 0x3a0, 0xc8bb, 0xf55a, 0xad9f, 0x1, 0x0);
        gbc.writeMem(0x1e18, { 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x88cb, gbc.sp());
        EXPECT(0x1e19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00B8
        gbc.setState(0x93a0, 0xdb7f, 0x7ae0, 0x427c, 0x44e9, 0xdc67, 0x1, 0x0);
        gbc.writeMem(0x93a0, { 0x54 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xdb7f, gbc.sp());
        EXPECT(0x93a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x93a0));
        // 54 00B9
        gbc.setState(0x5caa, 0xa786, 0xddd0, 0xca42, 0x3a4e, 0x2359, 0x0, 0x1);
        gbc.writeMem(0x5caa, { 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xa786, gbc.sp());
        EXPECT(0x5cab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00BA
        gbc.setState(0xdf11, 0xa968, 0x83c0, 0x788e, 0xa703, 0xb9c3, 0x0, 0x0);
        gbc.writeMem(0xdf11, { 0x54 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xa968, gbc.sp());
        EXPECT(0xdf12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf11));
        // 54 00BB
        gbc.setState(0x77ab, 0x2548, 0x66f0, 0xd52f, 0xa044, 0xf7aa, 0x1, 0x0);
        gbc.writeMem(0x77ab, { 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x2548, gbc.sp());
        EXPECT(0x77ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00BC
        gbc.setState(0xe7f4, 0x8a11, 0x9750, 0x4cdf, 0x3603, 0x5ade, 0x1, 0x1);
        gbc.writeMem(0xe7f4, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x8a11, gbc.sp());
        EXPECT(0xe7f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe7f4));
        // 54 00BD
        gbc.setState(0x353d, 0x70a2, 0x2ef0, 0x73ee, 0x791a, 0x36e2, 0x0, 0x0);
        gbc.writeMem(0x353d, { 0x54 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x70a2, gbc.sp());
        EXPECT(0x353e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00BE
        gbc.setState(0x6a94, 0xc9ae, 0xa970, 0xb289, 0xb581, 0x18e0, 0x0, 0x1);
        gbc.writeMem(0x6a94, { 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xc9ae, gbc.sp());
        EXPECT(0x6a95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00BF
        gbc.setState(0xe8b6, 0xa9bf, 0x6d20, 0x744c, 0xb09, 0xe000, 0x0, 0x0);
        gbc.writeMem(0xe8b6, { 0x54 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xa9bf, gbc.sp());
        EXPECT(0xe8b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe8b6));
        // 54 00C0
        gbc.setState(0x4626, 0x8f67, 0xc670, 0x4f82, 0x8ebb, 0x9f66, 0x1, 0x1);
        gbc.writeMem(0x4626, { 0x54 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x8f67, gbc.sp());
        EXPECT(0x4627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00C1
        gbc.setState(0x5147, 0xa, 0x2930, 0x19c6, 0x29e, 0x146d, 0x1, 0x0);
        gbc.writeMem(0x5147, { 0x54 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xa, gbc.sp());
        EXPECT(0x5148, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00C2
        gbc.setState(0x5307, 0x4e22, 0x8b50, 0xed35, 0xea9f, 0xe0e6, 0x0, 0x1);
        gbc.writeMem(0x5307, { 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x4e22, gbc.sp());
        EXPECT(0x5308, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00C3
        gbc.setState(0x7c2a, 0xef19, 0xf010, 0xccd3, 0x3627, 0x9acd, 0x0, 0x0);
        gbc.writeMem(0x7c2a, { 0x54 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xef19, gbc.sp());
        EXPECT(0x7c2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00C4
        gbc.setState(0x1bcd, 0xe12b, 0x5630, 0x7c3c, 0x6d23, 0x44c, 0x0, 0x1);
        gbc.writeMem(0x1bcd, { 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xe12b, gbc.sp());
        EXPECT(0x1bce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00C5
        gbc.setState(0x61b6, 0x3eff, 0xa6f0, 0x6bdc, 0xdd5c, 0x2e73, 0x0, 0x1);
        gbc.writeMem(0x61b6, { 0x54 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x3eff, gbc.sp());
        EXPECT(0x61b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00C6
        gbc.setState(0xb9e0, 0x2c5e, 0x9de0, 0xba54, 0xcf3b, 0x14e7, 0x1, 0x1);
        gbc.writeMem(0xb9e0, { 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x2c5e, gbc.sp());
        EXPECT(0xb9e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb9e0));
        // 54 00C7
        gbc.setState(0xdf8a, 0xe29c, 0xd7f0, 0x8b2b, 0x420f, 0x2681, 0x0, 0x0);
        gbc.writeMem(0xdf8a, { 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xe29c, gbc.sp());
        EXPECT(0xdf8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf8a));
        // 54 00C8
        gbc.setState(0x9986, 0x37af, 0x42e0, 0xba4d, 0xded7, 0x25a4, 0x1, 0x1);
        gbc.writeMem(0x9986, { 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x37af, gbc.sp());
        EXPECT(0x9987, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9986));
        // 54 00C9
        gbc.setState(0x5750, 0x804c, 0xbdb0, 0x1b70, 0x31a, 0x43f3, 0x1, 0x1);
        gbc.writeMem(0x5750, { 0x54 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x804c, gbc.sp());
        EXPECT(0x5751, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00CA
        gbc.setState(0xbc0d, 0x78f7, 0xd0c0, 0xab81, 0xbd85, 0x8a39, 0x0, 0x0);
        gbc.writeMem(0xbc0d, { 0x54 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x78f7, gbc.sp());
        EXPECT(0xbc0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbc0d));
        // 54 00CB
        gbc.setState(0x31ab, 0xfa94, 0x41b0, 0x1256, 0x35cd, 0x28fd, 0x0, 0x1);
        gbc.writeMem(0x31ab, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xfa94, gbc.sp());
        EXPECT(0x31ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00CC
        gbc.setState(0x261a, 0x1a24, 0xe6a0, 0x6d9d, 0x7f29, 0x5940, 0x1, 0x0);
        gbc.writeMem(0x261a, { 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1a24, gbc.sp());
        EXPECT(0x261b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00CD
        gbc.setState(0xb47d, 0x6bba, 0xdcd0, 0xf584, 0x1adb, 0xf48d, 0x0, 0x1);
        gbc.writeMem(0xb47d, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x6bba, gbc.sp());
        EXPECT(0xb47e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb47d));
        // 54 00CE
        gbc.setState(0x6354, 0xb957, 0x8500, 0x50e, 0x1627, 0xd613, 0x1, 0x1);
        gbc.writeMem(0x6354, { 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xb957, gbc.sp());
        EXPECT(0x6355, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00CF
        gbc.setState(0xb65, 0xab9e, 0xb9a0, 0xc7bb, 0xe027, 0x9b15, 0x1, 0x1);
        gbc.writeMem(0xb65, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xab9e, gbc.sp());
        EXPECT(0xb66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00D0
        gbc.setState(0x28a9, 0xc595, 0xcb00, 0x349a, 0xbdd9, 0xf937, 0x0, 0x0);
        gbc.writeMem(0x28a9, { 0x54 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xc595, gbc.sp());
        EXPECT(0x28aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00D1
        gbc.setState(0x9e74, 0x98e4, 0xdff0, 0x379a, 0x9ede, 0x4a1b, 0x0, 0x0);
        gbc.writeMem(0x9e74, { 0x54 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x98e4, gbc.sp());
        EXPECT(0x9e75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9e74));
        // 54 00D2
        gbc.setState(0x8e74, 0xa176, 0x2610, 0x716f, 0xb2d4, 0x9086, 0x1, 0x0);
        gbc.writeMem(0x8e74, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xa176, gbc.sp());
        EXPECT(0x8e75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8e74));
        // 54 00D3
        gbc.setState(0x57a6, 0x7127, 0xe90, 0xcbfd, 0x3ddc, 0x9906, 0x1, 0x1);
        gbc.writeMem(0x57a6, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x7127, gbc.sp());
        EXPECT(0x57a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00D4
        gbc.setState(0x7304, 0x1c5b, 0xbce0, 0xbc46, 0x419e, 0x335b, 0x1, 0x1);
        gbc.writeMem(0x7304, { 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x1c5b, gbc.sp());
        EXPECT(0x7305, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00D5
        gbc.setState(0x677e, 0xba18, 0xfc00, 0xac7e, 0x43d5, 0x2f92, 0x0, 0x0);
        gbc.writeMem(0x677e, { 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xba18, gbc.sp());
        EXPECT(0x677f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00D6
        gbc.setState(0x3d25, 0x9122, 0xe200, 0xd6e9, 0x2088, 0x5807, 0x0, 0x0);
        gbc.writeMem(0x3d25, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x9122, gbc.sp());
        EXPECT(0x3d26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00D7
        gbc.setState(0x72f9, 0x28aa, 0x39a0, 0x55ae, 0x6476, 0x8f2b, 0x0, 0x0);
        gbc.writeMem(0x72f9, { 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x28aa, gbc.sp());
        EXPECT(0x72fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00D8
        gbc.setState(0xb05d, 0xbf15, 0xc7a0, 0x163, 0xb86a, 0xac41, 0x0, 0x0);
        gbc.writeMem(0xb05d, { 0x54 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xbf15, gbc.sp());
        EXPECT(0xb05e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb05d));
        // 54 00D9
        gbc.setState(0x4e8d, 0xafd0, 0x53c0, 0xf0fd, 0x594b, 0xa111, 0x1, 0x0);
        gbc.writeMem(0x4e8d, { 0x54 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xafd0, gbc.sp());
        EXPECT(0x4e8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00DA
        gbc.setState(0xbed5, 0x3ba9, 0x1220, 0x2a4a, 0x59f0, 0xdcec, 0x1, 0x0);
        gbc.writeMem(0xbed5, { 0x54 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3ba9, gbc.sp());
        EXPECT(0xbed6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbed5));
        // 54 00DB
        gbc.setState(0x3451, 0x2c70, 0x6690, 0xca11, 0xa93a, 0xeead, 0x1, 0x0);
        gbc.writeMem(0x3451, { 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x2c70, gbc.sp());
        EXPECT(0x3452, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00DC
        gbc.setState(0xd0d9, 0x769d, 0xc000, 0x65c, 0x58d3, 0x5fac, 0x0, 0x1);
        gbc.writeMem(0xd0d9, { 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x769d, gbc.sp());
        EXPECT(0xd0da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd0d9));
        // 54 00DD
        gbc.setState(0xd6a, 0x6972, 0xc90, 0xf960, 0xe379, 0x179d, 0x0, 0x1);
        gbc.writeMem(0xd6a, { 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x6972, gbc.sp());
        EXPECT(0xd6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00DE
        gbc.setState(0x4859, 0xe4db, 0x240, 0xb828, 0xdb27, 0x8e97, 0x1, 0x0);
        gbc.writeMem(0x4859, { 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xe4db, gbc.sp());
        EXPECT(0x485a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00DF
        gbc.setState(0x2934, 0x409a, 0x51c0, 0x370a, 0x91fe, 0x69c5, 0x1, 0x1);
        gbc.writeMem(0x2934, { 0x54 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x409a, gbc.sp());
        EXPECT(0x2935, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00E0
        gbc.setState(0x10b8, 0x4680, 0xe670, 0x52db, 0xc256, 0x34f3, 0x0, 0x1);
        gbc.writeMem(0x10b8, { 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x4680, gbc.sp());
        EXPECT(0x10b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00E1
        gbc.setState(0x6249, 0x904f, 0xb870, 0xfd3f, 0xf15b, 0xe2a3, 0x1, 0x1);
        gbc.writeMem(0x6249, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x904f, gbc.sp());
        EXPECT(0x624a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00E2
        gbc.setState(0x649a, 0x61a9, 0xd570, 0xb6fc, 0x2d4c, 0x35b0, 0x1, 0x0);
        gbc.writeMem(0x649a, { 0x54 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x61a9, gbc.sp());
        EXPECT(0x649b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00E3
        gbc.setState(0xd272, 0x216b, 0x3330, 0x74d8, 0xb3a1, 0x9e18, 0x1, 0x0);
        gbc.writeMem(0xd272, { 0x54 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x216b, gbc.sp());
        EXPECT(0xd273, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd272));
        // 54 00E4
        gbc.setState(0x554a, 0x2088, 0x9f50, 0x7c54, 0xf675, 0xeebe, 0x1, 0x1);
        gbc.writeMem(0x554a, { 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x2088, gbc.sp());
        EXPECT(0x554b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00E5
        gbc.setState(0x6af0, 0x3727, 0x5630, 0x8a89, 0x69f9, 0x664a, 0x0, 0x0);
        gbc.writeMem(0x6af0, { 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x3727, gbc.sp());
        EXPECT(0x6af1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00E6
        gbc.setState(0x8e3d, 0x522a, 0xd270, 0xb0d2, 0x26d1, 0xde3b, 0x1, 0x0);
        gbc.writeMem(0x8e3d, { 0x54 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x522a, gbc.sp());
        EXPECT(0x8e3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8e3d));
        // 54 00E7
        gbc.setState(0xb749, 0xe315, 0x4c70, 0xb29a, 0xcb4d, 0x3324, 0x0, 0x0);
        gbc.writeMem(0xb749, { 0x54 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xe315, gbc.sp());
        EXPECT(0xb74a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb749));
        // 54 00E8
        gbc.setState(0x42ed, 0x63b4, 0xd4c0, 0xb59b, 0x5d4, 0x4fbd, 0x1, 0x1);
        gbc.writeMem(0x42ed, { 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x63b4, gbc.sp());
        EXPECT(0x42ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00E9
        gbc.setState(0x8c81, 0xe8c, 0x88b0, 0x89cc, 0x5450, 0xc12, 0x0, 0x1);
        gbc.writeMem(0x8c81, { 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xe8c, gbc.sp());
        EXPECT(0x8c82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8c81));
        // 54 00EA
        gbc.setState(0xba, 0x68, 0x69f0, 0xb834, 0x3d9, 0xf653, 0x1, 0x0);
        gbc.writeMem(0xba, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x68, gbc.sp());
        EXPECT(0xbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00EB
        gbc.setState(0xa741, 0x3b6c, 0xa2f0, 0xfd76, 0xcacf, 0x2bd6, 0x0, 0x0);
        gbc.writeMem(0xa741, { 0x54 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x3b6c, gbc.sp());
        EXPECT(0xa742, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa741));
        // 54 00EC
        gbc.setState(0x412e, 0xc219, 0xb760, 0x1118, 0x93c8, 0x6792, 0x1, 0x1);
        gbc.writeMem(0x412e, { 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xc219, gbc.sp());
        EXPECT(0x412f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00ED
        gbc.setState(0xc65b, 0x303, 0xe0d0, 0xdae8, 0xb56d, 0x5a25, 0x0, 0x0);
        gbc.writeMem(0xc65b, { 0x54 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x303, gbc.sp());
        EXPECT(0xc65c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc65b));
        // 54 00EF
        gbc.setState(0xd39b, 0xbf59, 0x5c10, 0x8e76, 0x3ebb, 0x8b11, 0x1, 0x1);
        gbc.writeMem(0xd39b, { 0x54 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xbf59, gbc.sp());
        EXPECT(0xd39c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd39b));
        // 54 00F0
        gbc.setState(0x6233, 0xd1c7, 0x2050, 0x77b1, 0xe7a1, 0xbb05, 0x1, 0x0);
        gbc.writeMem(0x6233, { 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd1c7, gbc.sp());
        EXPECT(0x6234, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00F1
        gbc.setState(0xcbb2, 0x2ece, 0x6140, 0xc5de, 0x696f, 0x26e, 0x1, 0x1);
        gbc.writeMem(0xcbb2, { 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x2ece, gbc.sp());
        EXPECT(0xcbb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcbb2));
        // 54 00F2
        gbc.setState(0x9e6b, 0x99e0, 0x76b0, 0x21d0, 0x86fe, 0xc040, 0x1, 0x0);
        gbc.writeMem(0x9e6b, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x99e0, gbc.sp());
        EXPECT(0x9e6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9e6b));
        // 54 00F4
        gbc.setState(0x401a, 0x7cb7, 0xe570, 0xa1, 0x2a45, 0x1c1d, 0x0, 0x0);
        gbc.writeMem(0x401a, { 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x7cb7, gbc.sp());
        EXPECT(0x401b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00F5
        gbc.setState(0x2ca5, 0x5611, 0x8d10, 0xaf01, 0x9ec9, 0x2b83, 0x1, 0x0);
        gbc.writeMem(0x2ca5, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x5611, gbc.sp());
        EXPECT(0x2ca6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 00F8
        gbc.setState(0xd9a1, 0x41a6, 0xaf00, 0x90c4, 0x526f, 0x4b51, 0x0, 0x1);
        gbc.writeMem(0xd9a1, { 0x54 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x41a6, gbc.sp());
        EXPECT(0xd9a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd9a1));
        // 54 00F9
        gbc.setState(0xca36, 0xa269, 0x34a0, 0x2786, 0x9abf, 0x940a, 0x1, 0x0);
        gbc.writeMem(0xca36, { 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xa269, gbc.sp());
        EXPECT(0xca37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xca36));
        // 54 00FA
        gbc.setState(0x1ad4, 0xc2bb, 0x39e0, 0x4b48, 0x4fca, 0xd5c0, 0x1, 0x0);
        gbc.writeMem(0x1ad4, { 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xc2bb, gbc.sp());
        EXPECT(0x1ad5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00FB
        gbc.setState(0xd2cf, 0x40b6, 0x5950, 0xcf30, 0x7851, 0xde86, 0x1, 0x0);
        gbc.writeMem(0xd2cf, { 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x40b6, gbc.sp());
        EXPECT(0xd2d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd2cf));
        // 54 00FD
        gbc.setState(0x59b8, 0xd5f6, 0x74e0, 0x907c, 0xefea, 0xc80e, 0x1, 0x1);
        gbc.writeMem(0x59b8, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xd5f6, gbc.sp());
        EXPECT(0x59b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 00FE
        gbc.setState(0xdbf8, 0xee41, 0x6020, 0x36dc, 0x6a34, 0xbb49, 0x0, 0x1);
        gbc.writeMem(0xdbf8, { 0x54 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xee41, gbc.sp());
        EXPECT(0xdbf9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdbf8));
        // 54 00FF
        gbc.setState(0x497d, 0xe7c5, 0xb860, 0xa800, 0xb0c4, 0x338, 0x1, 0x0);
        gbc.writeMem(0x497d, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xe7c5, gbc.sp());
        EXPECT(0x497e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0100
        gbc.setState(0x8f32, 0x496c, 0xd220, 0xfdc9, 0x7e23, 0x4351, 0x0, 0x0);
        gbc.writeMem(0x8f32, { 0x54 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x496c, gbc.sp());
        EXPECT(0x8f33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8f32));
        // 54 0101
        gbc.setState(0xc9b, 0x449f, 0x9830, 0x5f7d, 0xae60, 0x2805, 0x0, 0x1);
        gbc.writeMem(0xc9b, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x449f, gbc.sp());
        EXPECT(0xc9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0102
        gbc.setState(0x7780, 0xfee, 0x8790, 0xec57, 0xcb45, 0x5edf, 0x1, 0x1);
        gbc.writeMem(0x7780, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xfee, gbc.sp());
        EXPECT(0x7781, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0103
        gbc.setState(0xbd8d, 0x2f89, 0xa7f0, 0x18d3, 0xd598, 0x48cd, 0x1, 0x0);
        gbc.writeMem(0xbd8d, { 0x54 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x2f89, gbc.sp());
        EXPECT(0xbd8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbd8d));
        // 54 0104
        gbc.setState(0xb9a7, 0xe5ec, 0xbbb0, 0x42f4, 0x6720, 0x15aa, 0x1, 0x0);
        gbc.writeMem(0xb9a7, { 0x54 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xe5ec, gbc.sp());
        EXPECT(0xb9a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb9a7));
        // 54 0105
        gbc.setState(0x8b80, 0xf26a, 0x56b0, 0x19f1, 0xa94e, 0xf58a, 0x1, 0x0);
        gbc.writeMem(0x8b80, { 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xf26a, gbc.sp());
        EXPECT(0x8b81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8b80));
        // 54 0106
        gbc.setState(0x5334, 0x5709, 0x5490, 0x6178, 0xe568, 0x2ba8, 0x1, 0x0);
        gbc.writeMem(0x5334, { 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x5709, gbc.sp());
        EXPECT(0x5335, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0107
        gbc.setState(0x827, 0xf47, 0x6f20, 0x98cb, 0x53b0, 0x7cfd, 0x1, 0x1);
        gbc.writeMem(0x827, { 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xf47, gbc.sp());
        EXPECT(0x828, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0108
        gbc.setState(0xe243, 0x33a7, 0x7990, 0x1fa6, 0x1fc4, 0x3cec, 0x0, 0x0);
        gbc.writeMem(0xe243, { 0x54 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x33a7, gbc.sp());
        EXPECT(0xe244, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe243));
        // 54 0109
        gbc.setState(0x3cc8, 0xb76a, 0x25c0, 0x574d, 0xc2cf, 0x31a0, 0x1, 0x0);
        gbc.writeMem(0x3cc8, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xb76a, gbc.sp());
        EXPECT(0x3cc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 010A
        gbc.setState(0x634, 0x164e, 0x4cd0, 0xa816, 0x8b2b, 0x3dca, 0x1, 0x1);
        gbc.writeMem(0x634, { 0x54 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x164e, gbc.sp());
        EXPECT(0x635, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 010B
        gbc.setState(0x559c, 0xb858, 0xf70, 0x9bcb, 0x83b0, 0x1527, 0x1, 0x0);
        gbc.writeMem(0x559c, { 0x54 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xb858, gbc.sp());
        EXPECT(0x559d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 010C
        gbc.setState(0xedfc, 0xb05e, 0x8a60, 0xfa60, 0x5c68, 0x904b, 0x0, 0x0);
        gbc.writeMem(0xedfc, { 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xb05e, gbc.sp());
        EXPECT(0xedfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xedfc));
        // 54 010D
        gbc.setState(0x53da, 0xc5e2, 0xac50, 0x9a38, 0x2dbd, 0xbd55, 0x0, 0x1);
        gbc.writeMem(0x53da, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xc5e2, gbc.sp());
        EXPECT(0x53db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 010E
        gbc.setState(0x5d2d, 0xf382, 0xd880, 0xe9c3, 0xfe, 0x5bd3, 0x1, 0x1);
        gbc.writeMem(0x5d2d, { 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xf382, gbc.sp());
        EXPECT(0x5d2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0110
        gbc.setState(0xb022, 0xd17e, 0xf690, 0x72b2, 0x22e2, 0xbe5e, 0x0, 0x0);
        gbc.writeMem(0xb022, { 0x54 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xd17e, gbc.sp());
        EXPECT(0xb023, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb022));
        // 54 0111
        gbc.setState(0xa512, 0xc312, 0xd3e0, 0x6f4d, 0xb341, 0x9fab, 0x0, 0x1);
        gbc.writeMem(0xa512, { 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xc312, gbc.sp());
        EXPECT(0xa513, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa512));
        // 54 0112
        gbc.setState(0xc144, 0xe4eb, 0x9e40, 0x66d, 0xa80f, 0xe3b5, 0x0, 0x0);
        gbc.writeMem(0xc144, { 0x54 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xe4eb, gbc.sp());
        EXPECT(0xc145, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc144));
        // 54 0113
        gbc.setState(0x25a1, 0x642b, 0xf0, 0x9d13, 0x47ba, 0x7c42, 0x1, 0x1);
        gbc.writeMem(0x25a1, { 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x642b, gbc.sp());
        EXPECT(0x25a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0114
        gbc.setState(0xd352, 0x490e, 0x7130, 0x541a, 0x9090, 0x815b, 0x0, 0x1);
        gbc.writeMem(0xd352, { 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x490e, gbc.sp());
        EXPECT(0xd353, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd352));
        // 54 0115
        gbc.setState(0x796e, 0x9d5f, 0xb9c0, 0xc6ce, 0xe7d7, 0x3c63, 0x0, 0x1);
        gbc.writeMem(0x796e, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x9d5f, gbc.sp());
        EXPECT(0x796f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0116
        gbc.setState(0xd91a, 0xf25a, 0x85e0, 0xdffd, 0xea0c, 0xf08c, 0x1, 0x1);
        gbc.writeMem(0xd91a, { 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xf25a, gbc.sp());
        EXPECT(0xd91b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd91a));
        // 54 0117
        gbc.setState(0xe82, 0xbcb5, 0x4200, 0xae8e, 0xf5dd, 0x9fe1, 0x0, 0x1);
        gbc.writeMem(0xe82, { 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xbcb5, gbc.sp());
        EXPECT(0xe83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0118
        gbc.setState(0xeddf, 0xf99f, 0xd970, 0x5d3b, 0x3ca3, 0xec29, 0x1, 0x1);
        gbc.writeMem(0xeddf, { 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xf99f, gbc.sp());
        EXPECT(0xede0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeddf));
        // 54 011A
        gbc.setState(0x4c8d, 0x8c89, 0xb860, 0xfb2d, 0x46d5, 0x73f2, 0x1, 0x1);
        gbc.writeMem(0x4c8d, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x8c89, gbc.sp());
        EXPECT(0x4c8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 011B
        gbc.setState(0x70b2, 0x6486, 0xc360, 0x14c4, 0x7963, 0x8616, 0x0, 0x1);
        gbc.writeMem(0x70b2, { 0x54 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x6486, gbc.sp());
        EXPECT(0x70b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 011C
        gbc.setState(0x8b13, 0x322a, 0xa80, 0x9ae, 0x5500, 0xe063, 0x1, 0x0);
        gbc.writeMem(0x8b13, { 0x54 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x322a, gbc.sp());
        EXPECT(0x8b14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8b13));
        // 54 011E
        gbc.setState(0x2081, 0xbb31, 0xcc50, 0x9c42, 0xc3ac, 0x69dc, 0x0, 0x0);
        gbc.writeMem(0x2081, { 0x54 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xbb31, gbc.sp());
        EXPECT(0x2082, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 011F
        gbc.setState(0x6eee, 0x765e, 0x9b60, 0x35f0, 0x87ba, 0xef77, 0x1, 0x0);
        gbc.writeMem(0x6eee, { 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x765e, gbc.sp());
        EXPECT(0x6eef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0120
        gbc.setState(0xbf34, 0xd1a5, 0x3d0, 0x19f, 0x313e, 0xe1ff, 0x0, 0x1);
        gbc.writeMem(0xbf34, { 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xd1a5, gbc.sp());
        EXPECT(0xbf35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbf34));
        // 54 0121
        gbc.setState(0xc957, 0x4e1b, 0xe8f0, 0xd4e9, 0xa18a, 0x7fe4, 0x0, 0x1);
        gbc.writeMem(0xc957, { 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4e1b, gbc.sp());
        EXPECT(0xc958, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc957));
        // 54 0122
        gbc.setState(0xaee4, 0x64d6, 0x7670, 0x4508, 0xfcd3, 0x63ad, 0x1, 0x0);
        gbc.writeMem(0xaee4, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x64d6, gbc.sp());
        EXPECT(0xaee5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xaee4));
        // 54 0123
        gbc.setState(0xdf2c, 0xd0c8, 0xa4f0, 0xa7da, 0x91d5, 0x9ec0, 0x0, 0x0);
        gbc.writeMem(0xdf2c, { 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xd0c8, gbc.sp());
        EXPECT(0xdf2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf2c));
        // 54 0124
        gbc.setState(0x47f9, 0xa6f4, 0x1d80, 0xceb0, 0x1c6c, 0x5bdf, 0x1, 0x1);
        gbc.writeMem(0x47f9, { 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xa6f4, gbc.sp());
        EXPECT(0x47fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0125
        gbc.setState(0x256a, 0xc82f, 0x1820, 0x5467, 0x5dbd, 0x180c, 0x1, 0x1);
        gbc.writeMem(0x256a, { 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xc82f, gbc.sp());
        EXPECT(0x256b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0126
        gbc.setState(0x746a, 0xdb0a, 0xd70, 0xc3d9, 0x26ad, 0x99f6, 0x0, 0x1);
        gbc.writeMem(0x746a, { 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xdb0a, gbc.sp());
        EXPECT(0x746b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0127
        gbc.setState(0xae50, 0xe397, 0xca90, 0x7073, 0x63da, 0x70da, 0x1, 0x0);
        gbc.writeMem(0xae50, { 0x54 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xe397, gbc.sp());
        EXPECT(0xae51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xae50));
        // 54 0128
        gbc.setState(0x61bb, 0x1c8a, 0x8ae0, 0x24b0, 0x5d6e, 0x465c, 0x0, 0x1);
        gbc.writeMem(0x61bb, { 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x1c8a, gbc.sp());
        EXPECT(0x61bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0129
        gbc.setState(0x6666, 0x43dc, 0x9be0, 0xd718, 0x3476, 0x450, 0x1, 0x1);
        gbc.writeMem(0x6666, { 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x43dc, gbc.sp());
        EXPECT(0x6667, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 012A
        gbc.setState(0x84d0, 0xb602, 0x81f0, 0xa0da, 0x232e, 0x2e1a, 0x0, 0x0);
        gbc.writeMem(0x84d0, { 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xb602, gbc.sp());
        EXPECT(0x84d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x84d0));
        // 54 012B
        gbc.setState(0x3557, 0x105f, 0x6ee0, 0x947c, 0x9f8, 0xa226, 0x0, 0x0);
        gbc.writeMem(0x3557, { 0x54 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x105f, gbc.sp());
        EXPECT(0x3558, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 012C
        gbc.setState(0x4a9, 0xabbc, 0xd1c0, 0xe043, 0x1206, 0xa97c, 0x0, 0x0);
        gbc.writeMem(0x4a9, { 0x54 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xabbc, gbc.sp());
        EXPECT(0x4aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 012D
        gbc.setState(0x8d80, 0xbe89, 0x380, 0x5c42, 0xb401, 0x7016, 0x1, 0x1);
        gbc.writeMem(0x8d80, { 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xbe89, gbc.sp());
        EXPECT(0x8d81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8d80));
        // 54 012E
        gbc.setState(0x8707, 0xd9d6, 0xac80, 0x355b, 0xa79b, 0x427a, 0x1, 0x1);
        gbc.writeMem(0x8707, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xd9d6, gbc.sp());
        EXPECT(0x8708, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8707));
        // 54 012F
        gbc.setState(0x9c89, 0xd60b, 0xde50, 0x6366, 0xcda6, 0x839, 0x0, 0x1);
        gbc.writeMem(0x9c89, { 0x54 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xd60b, gbc.sp());
        EXPECT(0x9c8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9c89));
        // 54 0130
        gbc.setState(0xb60b, 0xf66f, 0xb070, 0x8d0e, 0x9ebc, 0xa643, 0x0, 0x1);
        gbc.writeMem(0xb60b, { 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf66f, gbc.sp());
        EXPECT(0xb60c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb60b));
        // 54 0131
        gbc.setState(0x7607, 0xde01, 0xa8f0, 0xd898, 0x730b, 0xda25, 0x1, 0x1);
        gbc.writeMem(0x7607, { 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xde01, gbc.sp());
        EXPECT(0x7608, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0132
        gbc.setState(0x77b8, 0xd06e, 0x3120, 0x41d0, 0x8558, 0xaf63, 0x1, 0x0);
        gbc.writeMem(0x77b8, { 0x54 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xd06e, gbc.sp());
        EXPECT(0x77b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0133
        gbc.setState(0x22a1, 0xddbd, 0xd7f0, 0x74d2, 0xbd50, 0xccc5, 0x0, 0x0);
        gbc.writeMem(0x22a1, { 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xddbd, gbc.sp());
        EXPECT(0x22a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0134
        gbc.setState(0x1a99, 0x5635, 0xf430, 0x20fd, 0xa11b, 0x9ec4, 0x0, 0x1);
        gbc.writeMem(0x1a99, { 0x54 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x5635, gbc.sp());
        EXPECT(0x1a9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0135
        gbc.setState(0x49e7, 0xae56, 0x4c20, 0xd563, 0xda20, 0xb35d, 0x0, 0x0);
        gbc.writeMem(0x49e7, { 0x54 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xae56, gbc.sp());
        EXPECT(0x49e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0136
        gbc.setState(0xadd, 0xee90, 0xc440, 0x4eee, 0x739f, 0xd900, 0x0, 0x0);
        gbc.writeMem(0xadd, { 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xee90, gbc.sp());
        EXPECT(0xade, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0137
        gbc.setState(0x9835, 0xbbb0, 0x3dd0, 0xeefb, 0x32a5, 0xe0e, 0x1, 0x0);
        gbc.writeMem(0x9835, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xbbb0, gbc.sp());
        EXPECT(0x9836, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9835));
        // 54 0138
        gbc.setState(0x2ce5, 0x3bff, 0x6a50, 0x2aa1, 0x7057, 0x8e3d, 0x0, 0x1);
        gbc.writeMem(0x2ce5, { 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x3bff, gbc.sp());
        EXPECT(0x2ce6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0139
        gbc.setState(0x3e61, 0x225c, 0x3070, 0xa3c0, 0x7e25, 0x4af5, 0x0, 0x1);
        gbc.writeMem(0x3e61, { 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x225c, gbc.sp());
        EXPECT(0x3e62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 013A
        gbc.setState(0x54f2, 0xd166, 0x8a50, 0xe145, 0x9dc9, 0xc4d2, 0x1, 0x1);
        gbc.writeMem(0x54f2, { 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xd166, gbc.sp());
        EXPECT(0x54f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 013B
        gbc.setState(0x2ab1, 0x83fa, 0x2c80, 0xe012, 0x95cf, 0x53c9, 0x1, 0x1);
        gbc.writeMem(0x2ab1, { 0x54 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x83fa, gbc.sp());
        EXPECT(0x2ab2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 013C
        gbc.setState(0xbeab, 0xeb8b, 0x5010, 0x4d0e, 0x8a5b, 0xfd68, 0x0, 0x0);
        gbc.writeMem(0xbeab, { 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xeb8b, gbc.sp());
        EXPECT(0xbeac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbeab));
        // 54 013D
        gbc.setState(0xb59e, 0xc98a, 0xa560, 0x2e88, 0x7c7a, 0x5bb6, 0x1, 0x0);
        gbc.writeMem(0xb59e, { 0x54 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xc98a, gbc.sp());
        EXPECT(0xb59f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb59e));
        // 54 013E
        gbc.setState(0xd9b4, 0x6a31, 0xe480, 0x7f2c, 0x80db, 0xcf84, 0x0, 0x1);
        gbc.writeMem(0xd9b4, { 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6a31, gbc.sp());
        EXPECT(0xd9b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd9b4));
        // 54 013F
        gbc.setState(0x6aed, 0xe02d, 0x2d50, 0x93c5, 0x1ae7, 0x8da0, 0x1, 0x1);
        gbc.writeMem(0x6aed, { 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xe02d, gbc.sp());
        EXPECT(0x6aee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0141
        gbc.setState(0x6f4d, 0x331, 0x55c0, 0x81a9, 0x5930, 0x34db, 0x0, 0x1);
        gbc.writeMem(0x6f4d, { 0x54 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x331, gbc.sp());
        EXPECT(0x6f4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0142
        gbc.setState(0x31b, 0x7db0, 0x1660, 0x2b7d, 0x9f61, 0x536e, 0x0, 0x0);
        gbc.writeMem(0x31b, { 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x7db0, gbc.sp());
        EXPECT(0x31c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0143
        gbc.setState(0xcdf4, 0xcfb7, 0x1c30, 0xb27f, 0x572d, 0x4f3f, 0x0, 0x1);
        gbc.writeMem(0xcdf4, { 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xcfb7, gbc.sp());
        EXPECT(0xcdf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcdf4));
        // 54 0144
        gbc.setState(0xb0ad, 0x6af9, 0x9770, 0x37, 0xcff1, 0x8321, 0x0, 0x0);
        gbc.writeMem(0xb0ad, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x6af9, gbc.sp());
        EXPECT(0xb0ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb0ad));
        // 54 0145
        gbc.setState(0x573b, 0x4f63, 0x70f0, 0x8ea8, 0xb65, 0x9789, 0x1, 0x0);
        gbc.writeMem(0x573b, { 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x4f63, gbc.sp());
        EXPECT(0x573c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0146
        gbc.setState(0xdd64, 0xf971, 0x23a0, 0x9c2a, 0xdb4c, 0xe0b, 0x0, 0x0);
        gbc.writeMem(0xdd64, { 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xf971, gbc.sp());
        EXPECT(0xdd65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdd64));
        // 54 0147
        gbc.setState(0xbc70, 0x4271, 0x3d00, 0x7c36, 0x8d23, 0xc92f, 0x0, 0x0);
        gbc.writeMem(0xbc70, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x4271, gbc.sp());
        EXPECT(0xbc71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbc70));
        // 54 0148
        gbc.setState(0x4ce1, 0xcd55, 0x5660, 0x9e64, 0x9893, 0xfbbd, 0x1, 0x0);
        gbc.writeMem(0x4ce1, { 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xcd55, gbc.sp());
        EXPECT(0x4ce2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0149
        gbc.setState(0x4f06, 0xd7e7, 0x7580, 0xea70, 0x3a0, 0x79d6, 0x0, 0x1);
        gbc.writeMem(0x4f06, { 0x54 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xd7e7, gbc.sp());
        EXPECT(0x4f07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 014A
        gbc.setState(0x350e, 0x3168, 0x9890, 0x9cc4, 0x3d4, 0x1dbe, 0x0, 0x1);
        gbc.writeMem(0x350e, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x3168, gbc.sp());
        EXPECT(0x350f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 014B
        gbc.setState(0xd543, 0x4316, 0x95f0, 0x96f8, 0x90b6, 0xadca, 0x1, 0x1);
        gbc.writeMem(0xd543, { 0x54 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x4316, gbc.sp());
        EXPECT(0xd544, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd543));
        // 54 014C
        gbc.setState(0x79c1, 0x6f48, 0x7dc0, 0x2409, 0x7aa5, 0x5cf3, 0x0, 0x1);
        gbc.writeMem(0x79c1, { 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x6f48, gbc.sp());
        EXPECT(0x79c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 014D
        gbc.setState(0x42b6, 0xea8c, 0x8de0, 0x1f3a, 0x2c9b, 0x10aa, 0x1, 0x1);
        gbc.writeMem(0x42b6, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xea8c, gbc.sp());
        EXPECT(0x42b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 014E
        gbc.setState(0x533, 0xede4, 0x3d60, 0x7291, 0xe6fb, 0x5421, 0x0, 0x0);
        gbc.writeMem(0x533, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xede4, gbc.sp());
        EXPECT(0x534, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 014F
        gbc.setState(0xd81b, 0x68be, 0x7640, 0xfd6e, 0x2440, 0xc559, 0x1, 0x0);
        gbc.writeMem(0xd81b, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x68be, gbc.sp());
        EXPECT(0xd81c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd81b));
        // 54 0150
        gbc.setState(0x351f, 0xa9bd, 0x5bc0, 0xbef8, 0xbcde, 0x8a1c, 0x0, 0x0);
        gbc.writeMem(0x351f, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xa9bd, gbc.sp());
        EXPECT(0x3520, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0151
        gbc.setState(0x9fa5, 0xca79, 0x8eb0, 0x5e5e, 0x9a2c, 0xc325, 0x1, 0x0);
        gbc.writeMem(0x9fa5, { 0x54 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xca79, gbc.sp());
        EXPECT(0x9fa6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9fa5));
        // 54 0152
        gbc.setState(0x3ba1, 0x49ad, 0x4190, 0x4869, 0x403e, 0x2b52, 0x1, 0x1);
        gbc.writeMem(0x3ba1, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x49ad, gbc.sp());
        EXPECT(0x3ba2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0154
        gbc.setState(0x40b8, 0x80c3, 0xc460, 0x3cc0, 0x27e5, 0xa342, 0x1, 0x1);
        gbc.writeMem(0x40b8, { 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x80c3, gbc.sp());
        EXPECT(0x40b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0155
        gbc.setState(0x3e17, 0x7f8, 0x4240, 0x500f, 0x591c, 0x184, 0x0, 0x1);
        gbc.writeMem(0x3e17, { 0x54 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x7f8, gbc.sp());
        EXPECT(0x3e18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0156
        gbc.setState(0x638c, 0x36e5, 0xa250, 0xb614, 0x13ec, 0xd9f6, 0x0, 0x1);
        gbc.writeMem(0x638c, { 0x54 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x36e5, gbc.sp());
        EXPECT(0x638d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0157
        gbc.setState(0x16a, 0x3f42, 0x27d0, 0x402b, 0xf66b, 0x354d, 0x1, 0x1);
        gbc.writeMem(0x16a, { 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x3f42, gbc.sp());
        EXPECT(0x16b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0158
        gbc.setState(0xbe7, 0x72d0, 0xc100, 0x1af1, 0xb49b, 0x3f2a, 0x0, 0x1);
        gbc.writeMem(0xbe7, { 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x72d0, gbc.sp());
        EXPECT(0xbe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0159
        gbc.setState(0x93cb, 0x50e3, 0x64e0, 0xab22, 0xdf, 0x5f8b, 0x1, 0x0);
        gbc.writeMem(0x93cb, { 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x50e3, gbc.sp());
        EXPECT(0x93cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x93cb));
        // 54 015A
        gbc.setState(0xc52e, 0x196e, 0x4d20, 0x98f8, 0xaaaa, 0x5ed9, 0x0, 0x0);
        gbc.writeMem(0xc52e, { 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x196e, gbc.sp());
        EXPECT(0xc52f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc52e));
        // 54 015B
        gbc.setState(0x5f47, 0x24b, 0x3480, 0x8dc, 0xbb85, 0xec0c, 0x1, 0x0);
        gbc.writeMem(0x5f47, { 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x24b, gbc.sp());
        EXPECT(0x5f48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 015C
        gbc.setState(0xe014, 0x55ab, 0x9c70, 0xf8e6, 0x1cc7, 0xa934, 0x0, 0x0);
        gbc.writeMem(0xe014, { 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x55ab, gbc.sp());
        EXPECT(0xe015, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe014));
        // 54 015D
        gbc.setState(0xe6bd, 0x55dd, 0x4c40, 0xaffd, 0xddbf, 0x4354, 0x0, 0x1);
        gbc.writeMem(0xe6bd, { 0x54 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x55dd, gbc.sp());
        EXPECT(0xe6be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe6bd));
        // 54 015E
        gbc.setState(0xcfd8, 0xbc3a, 0xe490, 0x7c3f, 0x4ee5, 0x2e2f, 0x0, 0x1);
        gbc.writeMem(0xcfd8, { 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xbc3a, gbc.sp());
        EXPECT(0xcfd9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcfd8));
        // 54 015F
        gbc.setState(0x4fca, 0x45a8, 0x6590, 0xfb47, 0xc122, 0xb9bf, 0x1, 0x0);
        gbc.writeMem(0x4fca, { 0x54 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x45a8, gbc.sp());
        EXPECT(0x4fcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0160
        gbc.setState(0x9807, 0x7166, 0x9cc0, 0xce1d, 0xe55a, 0x12a5, 0x0, 0x1);
        gbc.writeMem(0x9807, { 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x7166, gbc.sp());
        EXPECT(0x9808, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9807));
        // 54 0161
        gbc.setState(0x2c01, 0x1dea, 0x640, 0x21a4, 0x6bc9, 0xa3c8, 0x0, 0x1);
        gbc.writeMem(0x2c01, { 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x1dea, gbc.sp());
        EXPECT(0x2c02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0162
        gbc.setState(0x7b90, 0x55c9, 0x2510, 0xba45, 0x664, 0xca0e, 0x0, 0x0);
        gbc.writeMem(0x7b90, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x55c9, gbc.sp());
        EXPECT(0x7b91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0163
        gbc.setState(0x7f09, 0xf20, 0xa0a0, 0xe1ed, 0x9f34, 0x4645, 0x1, 0x1);
        gbc.writeMem(0x7f09, { 0x54 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xf20, gbc.sp());
        EXPECT(0x7f0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0164
        gbc.setState(0x1fd9, 0x85e8, 0xfc30, 0x3817, 0x710a, 0x48e5, 0x0, 0x1);
        gbc.writeMem(0x1fd9, { 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x85e8, gbc.sp());
        EXPECT(0x1fda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0165
        gbc.setState(0x3b43, 0x5db2, 0x4f10, 0xb823, 0x813a, 0x1585, 0x1, 0x1);
        gbc.writeMem(0x3b43, { 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x5db2, gbc.sp());
        EXPECT(0x3b44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0166
        gbc.setState(0x9bc, 0xc31b, 0x7840, 0x75a3, 0x8498, 0xb646, 0x0, 0x1);
        gbc.writeMem(0x9bc, { 0x54 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc31b, gbc.sp());
        EXPECT(0x9bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0167
        gbc.setState(0x9628, 0x4b5, 0x1820, 0x8ee9, 0x2b1e, 0x541, 0x0, 0x1);
        gbc.writeMem(0x9628, { 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x4b5, gbc.sp());
        EXPECT(0x9629, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9628));
        // 54 0168
        gbc.setState(0xd678, 0xca1b, 0x4550, 0x2e10, 0x2634, 0x2b87, 0x0, 0x0);
        gbc.writeMem(0xd678, { 0x54 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xca1b, gbc.sp());
        EXPECT(0xd679, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd678));
        // 54 0169
        gbc.setState(0x2485, 0xa702, 0xc870, 0xd54b, 0x5e45, 0x4094, 0x0, 0x0);
        gbc.writeMem(0x2485, { 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xa702, gbc.sp());
        EXPECT(0x2486, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 016A
        gbc.setState(0x4453, 0x9655, 0x35f0, 0x5477, 0x9116, 0x68de, 0x0, 0x0);
        gbc.writeMem(0x4453, { 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x9655, gbc.sp());
        EXPECT(0x4454, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 016B
        gbc.setState(0x4374, 0x9546, 0x4e0, 0xd8ec, 0x28d8, 0xe3d0, 0x1, 0x1);
        gbc.writeMem(0x4374, { 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x9546, gbc.sp());
        EXPECT(0x4375, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 016C
        gbc.setState(0x6f86, 0x69c9, 0x7460, 0x53a0, 0x8d2d, 0xf219, 0x1, 0x1);
        gbc.writeMem(0x6f86, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x69c9, gbc.sp());
        EXPECT(0x6f87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 016D
        gbc.setState(0xb535, 0x2905, 0x6c80, 0xfe58, 0xdc02, 0xb657, 0x1, 0x1);
        gbc.writeMem(0xb535, { 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x2905, gbc.sp());
        EXPECT(0xb536, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb535));
        // 54 0170
        gbc.setState(0xed6c, 0xf7d5, 0x50, 0x7ea0, 0xda34, 0x704a, 0x1, 0x1);
        gbc.writeMem(0xed6c, { 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xf7d5, gbc.sp());
        EXPECT(0xed6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xed6c));
        // 54 0171
        gbc.setState(0xde4c, 0x2803, 0xd550, 0x642, 0x2982, 0x4b3, 0x1, 0x1);
        gbc.writeMem(0xde4c, { 0x54 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x2803, gbc.sp());
        EXPECT(0xde4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xde4c));
        // 54 0172
        gbc.setState(0xae5c, 0xf679, 0x4330, 0xd93a, 0x9d24, 0xe748, 0x1, 0x0);
        gbc.writeMem(0xae5c, { 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xf679, gbc.sp());
        EXPECT(0xae5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xae5c));
        // 54 0173
        gbc.setState(0x20e1, 0x6569, 0x7a10, 0x3b24, 0xf9c0, 0x5a0a, 0x1, 0x0);
        gbc.writeMem(0x20e1, { 0x54 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x6569, gbc.sp());
        EXPECT(0x20e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0174
        gbc.setState(0x14ab, 0x1044, 0xa120, 0x3331, 0x5940, 0xe775, 0x1, 0x0);
        gbc.writeMem(0x14ab, { 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x1044, gbc.sp());
        EXPECT(0x14ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0175
        gbc.setState(0x6fe7, 0x5aa, 0x2b70, 0x9320, 0x94bf, 0x5dbf, 0x0, 0x1);
        gbc.writeMem(0x6fe7, { 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x5aa, gbc.sp());
        EXPECT(0x6fe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0176
        gbc.setState(0xb064, 0x13e3, 0x9880, 0x5d25, 0xe995, 0xcf4c, 0x0, 0x1);
        gbc.writeMem(0xb064, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x13e3, gbc.sp());
        EXPECT(0xb065, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb064));
        // 54 0177
        gbc.setState(0xd913, 0xc3c1, 0x990, 0x6718, 0xc124, 0xe45b, 0x1, 0x1);
        gbc.writeMem(0xd913, { 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xc3c1, gbc.sp());
        EXPECT(0xd914, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd913));
        // 54 0178
        gbc.setState(0x926, 0x5d15, 0x3600, 0x62e, 0xd55b, 0x3aa8, 0x0, 0x1);
        gbc.writeMem(0x926, { 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x5d15, gbc.sp());
        EXPECT(0x927, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0179
        gbc.setState(0xbd18, 0xd96a, 0x20c0, 0xe0b2, 0x8fda, 0x7109, 0x1, 0x1);
        gbc.writeMem(0xbd18, { 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xd96a, gbc.sp());
        EXPECT(0xbd19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbd18));
        // 54 017A
        gbc.setState(0x4a72, 0x8476, 0xd750, 0xb572, 0x98f6, 0xec2b, 0x1, 0x0);
        gbc.writeMem(0x4a72, { 0x54 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x8476, gbc.sp());
        EXPECT(0x4a73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 017B
        gbc.setState(0x8826, 0x5475, 0x9d90, 0x3600, 0x51aa, 0x26e8, 0x0, 0x0);
        gbc.writeMem(0x8826, { 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5475, gbc.sp());
        EXPECT(0x8827, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8826));
        // 54 017C
        gbc.setState(0xa3f6, 0x5ec6, 0x54d0, 0x5272, 0xc53, 0xc5ae, 0x0, 0x0);
        gbc.writeMem(0xa3f6, { 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x5ec6, gbc.sp());
        EXPECT(0xa3f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa3f6));
        // 54 017D
        gbc.setState(0x1a2a, 0x458b, 0xbfa0, 0x74a6, 0xd93b, 0x461f, 0x0, 0x1);
        gbc.writeMem(0x1a2a, { 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x458b, gbc.sp());
        EXPECT(0x1a2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 017E
        gbc.setState(0xd410, 0x8472, 0x5b90, 0x960a, 0xc6a0, 0x5750, 0x1, 0x1);
        gbc.writeMem(0xd410, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x8472, gbc.sp());
        EXPECT(0xd411, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd410));
        // 54 017F
        gbc.setState(0xe4, 0xe659, 0x2930, 0xd636, 0x81bd, 0x6b0b, 0x0, 0x1);
        gbc.writeMem(0xe4, { 0x54 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xe659, gbc.sp());
        EXPECT(0xe5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0180
        gbc.setState(0xec34, 0xe8d, 0x7a00, 0x1617, 0xb900, 0x1825, 0x0, 0x0);
        gbc.writeMem(0xec34, { 0x54 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xe8d, gbc.sp());
        EXPECT(0xec35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xec34));
        // 54 0181
        gbc.setState(0xea46, 0x4df6, 0x7750, 0x86c6, 0xe976, 0xd264, 0x1, 0x1);
        gbc.writeMem(0xea46, { 0x54 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4df6, gbc.sp());
        EXPECT(0xea47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xea46));
        // 54 0182
        gbc.setState(0x5306, 0x9986, 0xc7c0, 0xc282, 0xe7bf, 0x7d75, 0x0, 0x1);
        gbc.writeMem(0x5306, { 0x54 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x9986, gbc.sp());
        EXPECT(0x5307, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0183
        gbc.setState(0xefb9, 0xf1d7, 0xb710, 0xbde1, 0x657f, 0xe378, 0x0, 0x0);
        gbc.writeMem(0xefb9, { 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xf1d7, gbc.sp());
        EXPECT(0xefba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xefb9));
        // 54 0184
        gbc.setState(0x82a1, 0xa46d, 0xab00, 0x726f, 0xeacb, 0xda10, 0x1, 0x1);
        gbc.writeMem(0x82a1, { 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xa46d, gbc.sp());
        EXPECT(0x82a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x82a1));
        // 54 0185
        gbc.setState(0xae4b, 0x8883, 0x6a90, 0x9492, 0xf20a, 0x5d80, 0x1, 0x1);
        gbc.writeMem(0xae4b, { 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x8883, gbc.sp());
        EXPECT(0xae4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xae4b));
        // 54 0186
        gbc.setState(0x1039, 0xc48c, 0x66a0, 0xed2d, 0x538f, 0xe645, 0x1, 0x0);
        gbc.writeMem(0x1039, { 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xc48c, gbc.sp());
        EXPECT(0x103a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0187
        gbc.setState(0xe585, 0xcb0c, 0x80c0, 0x8482, 0xf3d, 0xe35e, 0x0, 0x1);
        gbc.writeMem(0xe585, { 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xcb0c, gbc.sp());
        EXPECT(0xe586, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe585));
        // 54 0188
        gbc.setState(0x9e3a, 0xd478, 0xece0, 0x71b5, 0x562c, 0x6ca1, 0x0, 0x0);
        gbc.writeMem(0x9e3a, { 0x54 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xd478, gbc.sp());
        EXPECT(0x9e3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9e3a));
        // 54 0189
        gbc.setState(0x2955, 0x999b, 0xd5d0, 0xbfd, 0x84cf, 0x1ee9, 0x0, 0x0);
        gbc.writeMem(0x2955, { 0x54 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x999b, gbc.sp());
        EXPECT(0x2956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 018A
        gbc.setState(0x6047, 0x4b7, 0x76c0, 0xed05, 0x89f1, 0x9c8b, 0x1, 0x1);
        gbc.writeMem(0x6047, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x4b7, gbc.sp());
        EXPECT(0x6048, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 018B
        gbc.setState(0xdbfd, 0x1862, 0xa410, 0x9fa0, 0x38c2, 0xbf4f, 0x0, 0x0);
        gbc.writeMem(0xdbfd, { 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x1862, gbc.sp());
        EXPECT(0xdbfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdbfd));
        // 54 018D
        gbc.setState(0x830b, 0x658b, 0x2940, 0xebbf, 0xca5, 0x2b2e, 0x0, 0x0);
        gbc.writeMem(0x830b, { 0x54 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x658b, gbc.sp());
        EXPECT(0x830c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x830b));
        // 54 018E
        gbc.setState(0x8a4e, 0x3b64, 0xc0, 0x840c, 0x7a1a, 0x1a84, 0x1, 0x1);
        gbc.writeMem(0x8a4e, { 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x3b64, gbc.sp());
        EXPECT(0x8a4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8a4e));
        // 54 018F
        gbc.setState(0xa84c, 0x1c59, 0x7b20, 0x6109, 0xdf05, 0x3a8d, 0x0, 0x0);
        gbc.writeMem(0xa84c, { 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x1c59, gbc.sp());
        EXPECT(0xa84d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa84c));
        // 54 0190
        gbc.setState(0xb9c9, 0x4c36, 0xed60, 0xfbbe, 0xd75e, 0x4eef, 0x0, 0x0);
        gbc.writeMem(0xb9c9, { 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x4c36, gbc.sp());
        EXPECT(0xb9ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb9c9));
        // 54 0191
        gbc.setState(0x413b, 0x4cd2, 0x2d70, 0x8fec, 0x6270, 0x6309, 0x0, 0x1);
        gbc.writeMem(0x413b, { 0x54 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x4cd2, gbc.sp());
        EXPECT(0x413c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0192
        gbc.setState(0x8adb, 0xdd28, 0x45c0, 0xd779, 0x31e0, 0x2750, 0x1, 0x0);
        gbc.writeMem(0x8adb, { 0x54 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xdd28, gbc.sp());
        EXPECT(0x8adc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8adb));
        // 54 0193
        gbc.setState(0x689e, 0xf3f5, 0xbae0, 0x5bb7, 0x98c8, 0xa33c, 0x0, 0x0);
        gbc.writeMem(0x689e, { 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xf3f5, gbc.sp());
        EXPECT(0x689f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0194
        gbc.setState(0x41f9, 0xcc86, 0xe670, 0xb7c3, 0x19da, 0xef46, 0x0, 0x1);
        gbc.writeMem(0x41f9, { 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xcc86, gbc.sp());
        EXPECT(0x41fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0195
        gbc.setState(0x945f, 0x150c, 0xf930, 0x78b3, 0xb5e4, 0x8690, 0x0, 0x1);
        gbc.writeMem(0x945f, { 0x54 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x150c, gbc.sp());
        EXPECT(0x9460, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x945f));
        // 54 0196
        gbc.setState(0xb959, 0x1235, 0x83c0, 0xe3bd, 0x5dc7, 0xb911, 0x1, 0x0);
        gbc.writeMem(0xb959, { 0x54 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x1235, gbc.sp());
        EXPECT(0xb95a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb959));
        // 54 0197
        gbc.setState(0xcc3f, 0xda55, 0xae60, 0x1cd7, 0x8819, 0xc832, 0x0, 0x1);
        gbc.writeMem(0xcc3f, { 0x54 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xda55, gbc.sp());
        EXPECT(0xcc40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcc3f));
        // 54 0198
        gbc.setState(0xafaf, 0xc5c, 0xbc60, 0xa69, 0x1f0, 0xc91e, 0x0, 0x1);
        gbc.writeMem(0xafaf, { 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xc5c, gbc.sp());
        EXPECT(0xafb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xafaf));
        // 54 0199
        gbc.setState(0xb046, 0x787e, 0x91f0, 0xb93d, 0xd3d4, 0x6cf0, 0x1, 0x1);
        gbc.writeMem(0xb046, { 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x787e, gbc.sp());
        EXPECT(0xb047, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb046));
        // 54 019A
        gbc.setState(0x99d4, 0xa6d5, 0x6b50, 0x8587, 0x16f8, 0x9f72, 0x0, 0x0);
        gbc.writeMem(0x99d4, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa6d5, gbc.sp());
        EXPECT(0x99d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x99d4));
        // 54 019B
        gbc.setState(0x6fd6, 0xdf91, 0x9930, 0xa292, 0x1277, 0x6fcb, 0x0, 0x0);
        gbc.writeMem(0x6fd6, { 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xdf91, gbc.sp());
        EXPECT(0x6fd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 019C
        gbc.setState(0x56dc, 0xb94b, 0xe510, 0xf45, 0xd0f5, 0x796e, 0x1, 0x1);
        gbc.writeMem(0x56dc, { 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xb94b, gbc.sp());
        EXPECT(0x56dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 019D
        gbc.setState(0x4b97, 0xdc53, 0x8770, 0xc4d4, 0x9d70, 0xc624, 0x0, 0x1);
        gbc.writeMem(0x4b97, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xdc53, gbc.sp());
        EXPECT(0x4b98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 019E
        gbc.setState(0x9a20, 0xb35e, 0xdd70, 0xd1a7, 0x80cd, 0x53b4, 0x1, 0x0);
        gbc.writeMem(0x9a20, { 0x54 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xb35e, gbc.sp());
        EXPECT(0x9a21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9a20));
        // 54 019F
        gbc.setState(0xeef6, 0x5e52, 0xec10, 0x7d54, 0x113b, 0x21b6, 0x1, 0x1);
        gbc.writeMem(0xeef6, { 0x54 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x5e52, gbc.sp());
        EXPECT(0xeef7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeef6));
        // 54 01A0
        gbc.setState(0x86e2, 0x3e19, 0x2520, 0xa5cf, 0x23d1, 0x9221, 0x1, 0x1);
        gbc.writeMem(0x86e2, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x3e19, gbc.sp());
        EXPECT(0x86e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x86e2));
        // 54 01A1
        gbc.setState(0x7bc3, 0x3f6a, 0x7dc0, 0x9b54, 0xb34, 0xb51b, 0x0, 0x1);
        gbc.writeMem(0x7bc3, { 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x3f6a, gbc.sp());
        EXPECT(0x7bc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01A2
        gbc.setState(0xb0d1, 0x486f, 0x3700, 0xc381, 0xebeb, 0x160c, 0x1, 0x1);
        gbc.writeMem(0xb0d1, { 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x486f, gbc.sp());
        EXPECT(0xb0d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb0d1));
        // 54 01A3
        gbc.setState(0x6890, 0xbc06, 0x3ba0, 0xd2b4, 0xbab9, 0x1ade, 0x1, 0x0);
        gbc.writeMem(0x6890, { 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xbc06, gbc.sp());
        EXPECT(0x6891, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01A4
        gbc.setState(0x54d3, 0xc896, 0x7130, 0x61e2, 0x854e, 0xe1ad, 0x1, 0x0);
        gbc.writeMem(0x54d3, { 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xc896, gbc.sp());
        EXPECT(0x54d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01A5
        gbc.setState(0x861e, 0xcae5, 0x7450, 0xfca2, 0x27dc, 0xeb09, 0x1, 0x1);
        gbc.writeMem(0x861e, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xcae5, gbc.sp());
        EXPECT(0x861f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x861e));
        // 54 01A6
        gbc.setState(0x875a, 0x4aeb, 0xcdb0, 0x6bc5, 0xeb44, 0x170d, 0x1, 0x1);
        gbc.writeMem(0x875a, { 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x4aeb, gbc.sp());
        EXPECT(0x875b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x875a));
        // 54 01A7
        gbc.setState(0x276a, 0xe363, 0x930, 0x82b9, 0x2c8c, 0xeede, 0x1, 0x1);
        gbc.writeMem(0x276a, { 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xe363, gbc.sp());
        EXPECT(0x276b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01A8
        gbc.setState(0x8c23, 0x66d2, 0x6390, 0x7d23, 0x8446, 0x3d04, 0x0, 0x1);
        gbc.writeMem(0x8c23, { 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x66d2, gbc.sp());
        EXPECT(0x8c24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8c23));
        // 54 01A9
        gbc.setState(0xd01f, 0xd3, 0x8170, 0x9644, 0x49e7, 0xbcad, 0x0, 0x1);
        gbc.writeMem(0xd01f, { 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xd3, gbc.sp());
        EXPECT(0xd020, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd01f));
        // 54 01AA
        gbc.setState(0x7b8d, 0xdb6d, 0x4a00, 0x6f0, 0x605a, 0x762, 0x1, 0x0);
        gbc.writeMem(0x7b8d, { 0x54 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xdb6d, gbc.sp());
        EXPECT(0x7b8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01AB
        gbc.setState(0x8e50, 0x151a, 0x3170, 0x536a, 0x2c00, 0x7436, 0x0, 0x0);
        gbc.writeMem(0x8e50, { 0x54 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x151a, gbc.sp());
        EXPECT(0x8e51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8e50));
        // 54 01AC
        gbc.setState(0x3db5, 0xddfb, 0xd690, 0xcb0d, 0x1f0b, 0x11a9, 0x1, 0x0);
        gbc.writeMem(0x3db5, { 0x54 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xddfb, gbc.sp());
        EXPECT(0x3db6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01AD
        gbc.setState(0x666c, 0x6d19, 0xcd10, 0x837a, 0x492c, 0xc32e, 0x0, 0x0);
        gbc.writeMem(0x666c, { 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x6d19, gbc.sp());
        EXPECT(0x666d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01AE
        gbc.setState(0x527, 0xe61, 0xc490, 0x3dd7, 0x3882, 0x21b2, 0x0, 0x1);
        gbc.writeMem(0x527, { 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xe61, gbc.sp());
        EXPECT(0x528, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01B0
        gbc.setState(0x5956, 0x261a, 0xfea0, 0x699b, 0xf655, 0xa6eb, 0x0, 0x1);
        gbc.writeMem(0x5956, { 0x54 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x261a, gbc.sp());
        EXPECT(0x5957, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01B1
        gbc.setState(0x174b, 0xa880, 0x75a0, 0xf0ef, 0x3f6, 0x3079, 0x0, 0x0);
        gbc.writeMem(0x174b, { 0x54 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa880, gbc.sp());
        EXPECT(0x174c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01B2
        gbc.setState(0xc4fb, 0xf250, 0x5950, 0xdd87, 0xfaac, 0xbeaa, 0x0, 0x0);
        gbc.writeMem(0xc4fb, { 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xf250, gbc.sp());
        EXPECT(0xc4fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc4fb));
        // 54 01B3
        gbc.setState(0x5d00, 0x9435, 0xf5e0, 0x50b4, 0xf649, 0x79d0, 0x1, 0x1);
        gbc.writeMem(0x5d00, { 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x9435, gbc.sp());
        EXPECT(0x5d01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01B4
        gbc.setState(0x9871, 0x1cec, 0x2410, 0x3909, 0xe87c, 0x1f48, 0x1, 0x1);
        gbc.writeMem(0x9871, { 0x54 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x1cec, gbc.sp());
        EXPECT(0x9872, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9871));
        // 54 01B5
        gbc.setState(0xe999, 0xf64c, 0x1b80, 0x4b39, 0x2d56, 0x6ea2, 0x0, 0x1);
        gbc.writeMem(0xe999, { 0x54 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xf64c, gbc.sp());
        EXPECT(0xe99a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe999));
        // 54 01B6
        gbc.setState(0xe90, 0x38f2, 0xb210, 0xaf83, 0x3117, 0x87fd, 0x0, 0x1);
        gbc.writeMem(0xe90, { 0x54 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x38f2, gbc.sp());
        EXPECT(0xe91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01B7
        gbc.setState(0x4713, 0xfa85, 0x8700, 0xfe53, 0x6465, 0xe6ce, 0x1, 0x1);
        gbc.writeMem(0x4713, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xfa85, gbc.sp());
        EXPECT(0x4714, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01B8
        gbc.setState(0x2fc3, 0xdd5, 0x58c0, 0x45fc, 0x4c1a, 0x1a22, 0x1, 0x1);
        gbc.writeMem(0x2fc3, { 0x54 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xdd5, gbc.sp());
        EXPECT(0x2fc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01B9
        gbc.setState(0x319d, 0x1684, 0x26d0, 0xa8c0, 0xc25e, 0xca10, 0x1, 0x1);
        gbc.writeMem(0x319d, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x1684, gbc.sp());
        EXPECT(0x319e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01BA
        gbc.setState(0xcb9d, 0x8a06, 0x80b0, 0xa399, 0x3016, 0xd8cd, 0x1, 0x1);
        gbc.writeMem(0xcb9d, { 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x8a06, gbc.sp());
        EXPECT(0xcb9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcb9d));
        // 54 01BB
        gbc.setState(0xb2fb, 0xbf14, 0x9240, 0xee02, 0x3d05, 0x30cc, 0x1, 0x0);
        gbc.writeMem(0xb2fb, { 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xbf14, gbc.sp());
        EXPECT(0xb2fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb2fb));
        // 54 01BC
        gbc.setState(0x570f, 0x185d, 0xa40, 0x1226, 0x4c17, 0x2b9b, 0x0, 0x1);
        gbc.writeMem(0x570f, { 0x54 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x185d, gbc.sp());
        EXPECT(0x5710, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01BD
        gbc.setState(0x2486, 0x10a5, 0x3e40, 0x7c67, 0xb4e0, 0xdf0d, 0x1, 0x0);
        gbc.writeMem(0x2486, { 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x10a5, gbc.sp());
        EXPECT(0x2487, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01BF
        gbc.setState(0x1c32, 0x7faf, 0x8060, 0xa741, 0xd038, 0x8ed, 0x1, 0x1);
        gbc.writeMem(0x1c32, { 0x54 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x7faf, gbc.sp());
        EXPECT(0x1c33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01C0
        gbc.setState(0x4c38, 0x85cf, 0xfb90, 0xe0a9, 0xada3, 0x62e4, 0x0, 0x0);
        gbc.writeMem(0x4c38, { 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x85cf, gbc.sp());
        EXPECT(0x4c39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01C1
        gbc.setState(0xde04, 0x4b61, 0xba60, 0x6028, 0x3617, 0xa8d8, 0x0, 0x0);
        gbc.writeMem(0xde04, { 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x4b61, gbc.sp());
        EXPECT(0xde05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xde04));
        // 54 01C2
        gbc.setState(0x4b5e, 0xf9a, 0x1650, 0x828, 0xae48, 0x62ed, 0x0, 0x0);
        gbc.writeMem(0x4b5e, { 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xf9a, gbc.sp());
        EXPECT(0x4b5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01C3
        gbc.setState(0x7423, 0x2758, 0x4fd0, 0x541f, 0x26c5, 0x12b, 0x0, 0x0);
        gbc.writeMem(0x7423, { 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2758, gbc.sp());
        EXPECT(0x7424, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01C4
        gbc.setState(0x517a, 0x6710, 0x44d0, 0xadea, 0x29b0, 0xf4ee, 0x1, 0x0);
        gbc.writeMem(0x517a, { 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x6710, gbc.sp());
        EXPECT(0x517b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01C5
        gbc.setState(0x6596, 0xfbc5, 0xc030, 0x24e0, 0x102f, 0x803d, 0x0, 0x1);
        gbc.writeMem(0x6596, { 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xfbc5, gbc.sp());
        EXPECT(0x6597, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01C7
        gbc.setState(0x51d2, 0xca75, 0x7760, 0x8e18, 0xf06e, 0x4af0, 0x1, 0x0);
        gbc.writeMem(0x51d2, { 0x54 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xca75, gbc.sp());
        EXPECT(0x51d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01C9
        gbc.setState(0x39f9, 0x21b1, 0x66c0, 0xa7ae, 0xdf22, 0x966e, 0x1, 0x1);
        gbc.writeMem(0x39f9, { 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x21b1, gbc.sp());
        EXPECT(0x39fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01CA
        gbc.setState(0x2dfa, 0xf7c2, 0xb10, 0x815c, 0x785b, 0xc071, 0x0, 0x1);
        gbc.writeMem(0x2dfa, { 0x54 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xf7c2, gbc.sp());
        EXPECT(0x2dfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01CB
        gbc.setState(0xa6e1, 0x2da0, 0x4bf0, 0x1af1, 0xdc88, 0x1de4, 0x1, 0x1);
        gbc.writeMem(0xa6e1, { 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x2da0, gbc.sp());
        EXPECT(0xa6e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa6e1));
        // 54 01CC
        gbc.setState(0xdc9a, 0xa7a4, 0xc550, 0xf525, 0xc84c, 0x1b0e, 0x1, 0x1);
        gbc.writeMem(0xdc9a, { 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xa7a4, gbc.sp());
        EXPECT(0xdc9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdc9a));
        // 54 01CD
        gbc.setState(0x312d, 0xf970, 0xc9c0, 0x3950, 0x7ca9, 0x7a02, 0x0, 0x0);
        gbc.writeMem(0x312d, { 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xf970, gbc.sp());
        EXPECT(0x312e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01CE
        gbc.setState(0xd7b1, 0xb6b5, 0xa120, 0xbd52, 0x14a4, 0x5959, 0x1, 0x1);
        gbc.writeMem(0xd7b1, { 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xb6b5, gbc.sp());
        EXPECT(0xd7b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd7b1));
        // 54 01CF
        gbc.setState(0xef54, 0x7778, 0x19f0, 0x7ce1, 0x96f3, 0xf39, 0x1, 0x0);
        gbc.writeMem(0xef54, { 0x54 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x7778, gbc.sp());
        EXPECT(0xef55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xef54));
        // 54 01D0
        gbc.setState(0xedca, 0x14a, 0xaf0, 0x2f96, 0x368, 0xff17, 0x1, 0x1);
        gbc.writeMem(0xedca, { 0x54 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x14a, gbc.sp());
        EXPECT(0xedcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xedca));
        // 54 01D1
        gbc.setState(0xc3f3, 0x29ef, 0xf7a0, 0xb13c, 0x5c78, 0x1ef, 0x1, 0x0);
        gbc.writeMem(0xc3f3, { 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x29ef, gbc.sp());
        EXPECT(0xc3f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc3f3));
        // 54 01D2
        gbc.setState(0x1202, 0xb5bb, 0x3650, 0x77c9, 0x4468, 0x3256, 0x1, 0x1);
        gbc.writeMem(0x1202, { 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xb5bb, gbc.sp());
        EXPECT(0x1203, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01D3
        gbc.setState(0x6d60, 0xbaed, 0x1c40, 0x8fbe, 0x1cdd, 0x7f5b, 0x0, 0x0);
        gbc.writeMem(0x6d60, { 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xbaed, gbc.sp());
        EXPECT(0x6d61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01D5
        gbc.setState(0x69a, 0x7837, 0x3b10, 0xf16c, 0xca5a, 0x2066, 0x1, 0x1);
        gbc.writeMem(0x69a, { 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x7837, gbc.sp());
        EXPECT(0x69b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01D6
        gbc.setState(0x8da5, 0x1cc0, 0x8760, 0x8b8c, 0x2269, 0x853f, 0x1, 0x1);
        gbc.writeMem(0x8da5, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x1cc0, gbc.sp());
        EXPECT(0x8da6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8da5));
        // 54 01D7
        gbc.setState(0xf03, 0xb58f, 0xb3f0, 0x590f, 0x7efc, 0xa0c5, 0x1, 0x1);
        gbc.writeMem(0xf03, { 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xb58f, gbc.sp());
        EXPECT(0xf04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01D8
        gbc.setState(0x31c6, 0xcd8c, 0x5a10, 0xbc16, 0xd806, 0xdc5, 0x1, 0x0);
        gbc.writeMem(0x31c6, { 0x54 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xcd8c, gbc.sp());
        EXPECT(0x31c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01D9
        gbc.setState(0x379d, 0x707e, 0xe760, 0x847a, 0x6894, 0xd7af, 0x0, 0x0);
        gbc.writeMem(0x379d, { 0x54 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x707e, gbc.sp());
        EXPECT(0x379e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01DA
        gbc.setState(0x8c74, 0xa042, 0x70e0, 0x8db1, 0xf748, 0x5ed8, 0x0, 0x0);
        gbc.writeMem(0x8c74, { 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xa042, gbc.sp());
        EXPECT(0x8c75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8c74));
        // 54 01DB
        gbc.setState(0xac98, 0x2e7b, 0x9800, 0x830e, 0xe7b0, 0x7aed, 0x0, 0x1);
        gbc.writeMem(0xac98, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x2e7b, gbc.sp());
        EXPECT(0xac99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xac98));
        // 54 01DC
        gbc.setState(0x7fd0, 0x8641, 0x4440, 0x8c08, 0x1147, 0xcdf9, 0x1, 0x1);
        gbc.writeMem(0x7fd0, { 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x8641, gbc.sp());
        EXPECT(0x7fd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01DD
        gbc.setState(0x2e7d, 0xb86f, 0xfbf0, 0x7f32, 0x8975, 0x1709, 0x0, 0x1);
        gbc.writeMem(0x2e7d, { 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xb86f, gbc.sp());
        EXPECT(0x2e7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01DE
        gbc.setState(0xdfc7, 0x76ed, 0x2620, 0x89ea, 0xb78e, 0xa363, 0x0, 0x0);
        gbc.writeMem(0xdfc7, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x76ed, gbc.sp());
        EXPECT(0xdfc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdfc7));
        // 54 01DF
        gbc.setState(0x3761, 0x4e74, 0x7220, 0xf6b8, 0x14e2, 0xb29a, 0x0, 0x0);
        gbc.writeMem(0x3761, { 0x54 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x4e74, gbc.sp());
        EXPECT(0x3762, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01E0
        gbc.setState(0x5436, 0xcb22, 0x57f0, 0x7020, 0x5a47, 0x589d, 0x0, 0x1);
        gbc.writeMem(0x5436, { 0x54 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xcb22, gbc.sp());
        EXPECT(0x5437, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01E1
        gbc.setState(0xd272, 0xc88e, 0xe130, 0x6aaf, 0xa5ac, 0x89a1, 0x0, 0x1);
        gbc.writeMem(0xd272, { 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xc88e, gbc.sp());
        EXPECT(0xd273, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd272));
        // 54 01E2
        gbc.setState(0xc5a, 0x7728, 0x2f80, 0xbeb8, 0xc38b, 0xa4ab, 0x0, 0x1);
        gbc.writeMem(0xc5a, { 0x54 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x7728, gbc.sp());
        EXPECT(0xc5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01E3
        gbc.setState(0x7e45, 0x8493, 0x2c40, 0x5579, 0x27e2, 0xe9ba, 0x1, 0x1);
        gbc.writeMem(0x7e45, { 0x54 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x8493, gbc.sp());
        EXPECT(0x7e46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01E4
        gbc.setState(0x95a9, 0xca22, 0x2130, 0xe180, 0x22a6, 0xd23d, 0x0, 0x1);
        gbc.writeMem(0x95a9, { 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xca22, gbc.sp());
        EXPECT(0x95aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x95a9));
        // 54 01E5
        gbc.setState(0x42f9, 0x3ee6, 0x1a40, 0x7b91, 0x4c47, 0x2d11, 0x1, 0x0);
        gbc.writeMem(0x42f9, { 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x3ee6, gbc.sp());
        EXPECT(0x42fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01E6
        gbc.setState(0x7947, 0xdc6, 0x4490, 0xffe9, 0x3e5f, 0xe80b, 0x0, 0x0);
        gbc.writeMem(0x7947, { 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xdc6, gbc.sp());
        EXPECT(0x7948, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01E7
        gbc.setState(0x994f, 0x7b98, 0x130, 0x4c93, 0x9cdd, 0xcfb8, 0x0, 0x1);
        gbc.writeMem(0x994f, { 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x7b98, gbc.sp());
        EXPECT(0x9950, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x994f));
        // 54 01E8
        gbc.setState(0x6f6, 0x8b48, 0x2770, 0x42dd, 0xe0f1, 0xfc1d, 0x0, 0x1);
        gbc.writeMem(0x6f6, { 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x8b48, gbc.sp());
        EXPECT(0x6f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01E9
        gbc.setState(0x8f60, 0x8810, 0x4dc0, 0x5417, 0xa6b9, 0x8e01, 0x0, 0x1);
        gbc.writeMem(0x8f60, { 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x8810, gbc.sp());
        EXPECT(0x8f61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8f60));
        // 54 01EA
        gbc.setState(0xb7a3, 0x886b, 0xb000, 0x9f38, 0x408a, 0xa93e, 0x0, 0x0);
        gbc.writeMem(0xb7a3, { 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x886b, gbc.sp());
        EXPECT(0xb7a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb7a3));
        // 54 01EC
        gbc.setState(0x2a00, 0x7b1c, 0x7ef0, 0x71fc, 0xa9b5, 0xd35d, 0x1, 0x1);
        gbc.writeMem(0x2a00, { 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x7b1c, gbc.sp());
        EXPECT(0x2a01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01ED
        gbc.setState(0xbf28, 0xd710, 0x1d90, 0x8431, 0xa1dd, 0x8105, 0x0, 0x0);
        gbc.writeMem(0xbf28, { 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd710, gbc.sp());
        EXPECT(0xbf29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbf28));
        // 54 01EE
        gbc.setState(0xf81, 0xa406, 0x3b30, 0x1b7, 0xdb16, 0x5713, 0x0, 0x0);
        gbc.writeMem(0xf81, { 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xa406, gbc.sp());
        EXPECT(0xf82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01EF
        gbc.setState(0x124c, 0x111a, 0x24d0, 0xe958, 0xb993, 0xed01, 0x1, 0x1);
        gbc.writeMem(0x124c, { 0x54 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x111a, gbc.sp());
        EXPECT(0x124d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01F0
        gbc.setState(0xd1b7, 0x3af, 0x7a80, 0x3b6, 0x29be, 0xe46c, 0x0, 0x1);
        gbc.writeMem(0xd1b7, { 0x54 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x3af, gbc.sp());
        EXPECT(0xd1b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd1b7));
        // 54 01F1
        gbc.setState(0xdaaf, 0x3eea, 0xb860, 0xddba, 0xa80d, 0xa166, 0x1, 0x0);
        gbc.writeMem(0xdaaf, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x3eea, gbc.sp());
        EXPECT(0xdab0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdaaf));
        // 54 01F2
        gbc.setState(0x8fb2, 0xcc60, 0x5280, 0x2e21, 0x7344, 0xbd84, 0x0, 0x0);
        gbc.writeMem(0x8fb2, { 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xcc60, gbc.sp());
        EXPECT(0x8fb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8fb2));
        // 54 01F3
        gbc.setState(0x685e, 0xfadb, 0xd640, 0x8d3f, 0xa93b, 0xf47e, 0x1, 0x1);
        gbc.writeMem(0x685e, { 0x54 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xfadb, gbc.sp());
        EXPECT(0x685f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01F5
        gbc.setState(0x37f2, 0xc2ec, 0x9f20, 0x4f5, 0xc7a9, 0xab08, 0x0, 0x1);
        gbc.writeMem(0x37f2, { 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xc2ec, gbc.sp());
        EXPECT(0x37f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01F6
        gbc.setState(0xae63, 0xd360, 0xb150, 0xf0e9, 0x3208, 0x8cdc, 0x0, 0x1);
        gbc.writeMem(0xae63, { 0x54 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xd360, gbc.sp());
        EXPECT(0xae64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xae63));
        // 54 01F7
        gbc.setState(0x52bc, 0x9723, 0xd330, 0x49be, 0x4d1e, 0xbbdd, 0x1, 0x1);
        gbc.writeMem(0x52bc, { 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x9723, gbc.sp());
        EXPECT(0x52bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01F8
        gbc.setState(0x73cf, 0x24bb, 0xac50, 0x5, 0xfbba, 0x8b9e, 0x1, 0x0);
        gbc.writeMem(0x73cf, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x24bb, gbc.sp());
        EXPECT(0x73d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01F9
        gbc.setState(0xcc0f, 0x268a, 0xf400, 0x519e, 0xa700, 0x3631, 0x0, 0x1);
        gbc.writeMem(0xcc0f, { 0x54 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x268a, gbc.sp());
        EXPECT(0xcc10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcc0f));
        // 54 01FA
        gbc.setState(0x3017, 0x7a9f, 0x2230, 0x9e21, 0x2117, 0x7db7, 0x1, 0x1);
        gbc.writeMem(0x3017, { 0x54 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x7a9f, gbc.sp());
        EXPECT(0x3018, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 01FB
        gbc.setState(0xc387, 0x48ec, 0x1f10, 0x8bd9, 0xd58, 0xedc2, 0x0, 0x0);
        gbc.writeMem(0xc387, { 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x48ec, gbc.sp());
        EXPECT(0xc388, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc387));
        // 54 01FC
        gbc.setState(0xa33f, 0xb0e4, 0xb390, 0xfd0, 0x491c, 0x31dd, 0x0, 0x1);
        gbc.writeMem(0xa33f, { 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xb0e4, gbc.sp());
        EXPECT(0xa340, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa33f));
        // 54 01FD
        gbc.setState(0x6f00, 0x5083, 0x4ae0, 0x5bab, 0xc67b, 0x1f50, 0x1, 0x0);
        gbc.writeMem(0x6f00, { 0x54 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x5083, gbc.sp());
        EXPECT(0x6f01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 01FE
        gbc.setState(0xca58, 0x186, 0xb740, 0xa5b, 0xeb2f, 0xaf70, 0x0, 0x0);
        gbc.writeMem(0xca58, { 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x186, gbc.sp());
        EXPECT(0xca59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xca58));
        // 54 01FF
        gbc.setState(0x62c, 0x30d1, 0x4550, 0xfaeb, 0xe901, 0x4681, 0x1, 0x1);
        gbc.writeMem(0x62c, { 0x54 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x30d1, gbc.sp());
        EXPECT(0x62d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0200
        gbc.setState(0xac42, 0xc69b, 0x3b70, 0x3465, 0xeca4, 0x4611, 0x1, 0x0);
        gbc.writeMem(0xac42, { 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xc69b, gbc.sp());
        EXPECT(0xac43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xac42));
        // 54 0201
        gbc.setState(0x649a, 0x879f, 0xa920, 0x6549, 0x159, 0x58ab, 0x0, 0x1);
        gbc.writeMem(0x649a, { 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x879f, gbc.sp());
        EXPECT(0x649b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0202
        gbc.setState(0x63ad, 0xefb5, 0xf3f0, 0x466a, 0xb6bc, 0x6cf8, 0x1, 0x0);
        gbc.writeMem(0x63ad, { 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xefb5, gbc.sp());
        EXPECT(0x63ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0203
        gbc.setState(0xb0f1, 0xbe1a, 0x9710, 0xdd17, 0xb983, 0x6929, 0x0, 0x0);
        gbc.writeMem(0xb0f1, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xbe1a, gbc.sp());
        EXPECT(0xb0f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb0f1));
        // 54 0204
        gbc.setState(0x3826, 0x2ffd, 0xab80, 0xb025, 0x7edd, 0xea8d, 0x1, 0x1);
        gbc.writeMem(0x3826, { 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x2ffd, gbc.sp());
        EXPECT(0x3827, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0205
        gbc.setState(0x7908, 0x84a9, 0xc20, 0x47be, 0x5b2e, 0x626f, 0x0, 0x0);
        gbc.writeMem(0x7908, { 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x84a9, gbc.sp());
        EXPECT(0x7909, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0206
        gbc.setState(0x40e9, 0xb4e3, 0x4340, 0x242d, 0xf871, 0x73b7, 0x0, 0x0);
        gbc.writeMem(0x40e9, { 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xb4e3, gbc.sp());
        EXPECT(0x40ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0207
        gbc.setState(0x93db, 0x9a6d, 0x23d0, 0xa981, 0x8765, 0x4482, 0x1, 0x1);
        gbc.writeMem(0x93db, { 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9a6d, gbc.sp());
        EXPECT(0x93dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x93db));
        // 54 0208
        gbc.setState(0x8778, 0xaab9, 0x5400, 0x69da, 0xa2ab, 0xd0b3, 0x1, 0x1);
        gbc.writeMem(0x8778, { 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xaab9, gbc.sp());
        EXPECT(0x8779, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8778));
        // 54 0209
        gbc.setState(0xc13e, 0x87e8, 0x140, 0x20a4, 0xaabb, 0xff1f, 0x1, 0x1);
        gbc.writeMem(0xc13e, { 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x87e8, gbc.sp());
        EXPECT(0xc13f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc13e));
        // 54 020A
        gbc.setState(0x64b7, 0x2194, 0xf5a0, 0xf9ad, 0x9e44, 0x2dba, 0x0, 0x1);
        gbc.writeMem(0x64b7, { 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2194, gbc.sp());
        EXPECT(0x64b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 020B
        gbc.setState(0x4cf3, 0x3dc3, 0xa9e0, 0xe6f0, 0x7fca, 0xde8d, 0x0, 0x0);
        gbc.writeMem(0x4cf3, { 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x3dc3, gbc.sp());
        EXPECT(0x4cf4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 020C
        gbc.setState(0x9348, 0x2b47, 0xea20, 0x938, 0xb613, 0xd11b, 0x1, 0x0);
        gbc.writeMem(0x9348, { 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x2b47, gbc.sp());
        EXPECT(0x9349, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9348));
        // 54 020D
        gbc.setState(0xda83, 0x4683, 0xe5d0, 0x69ea, 0xe2b, 0xe5de, 0x1, 0x1);
        gbc.writeMem(0xda83, { 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x4683, gbc.sp());
        EXPECT(0xda84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xda83));
        // 54 020E
        gbc.setState(0xab7d, 0x75e3, 0xef0, 0x1407, 0xe032, 0xe3bd, 0x1, 0x0);
        gbc.writeMem(0xab7d, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x75e3, gbc.sp());
        EXPECT(0xab7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xab7d));
        // 54 020F
        gbc.setState(0xc4cf, 0x95c, 0x2120, 0xd779, 0xad4a, 0x279b, 0x1, 0x0);
        gbc.writeMem(0xc4cf, { 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x95c, gbc.sp());
        EXPECT(0xc4d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc4cf));
        // 54 0210
        gbc.setState(0x6424, 0x28ed, 0x4190, 0xb38f, 0xf5a6, 0x7932, 0x1, 0x1);
        gbc.writeMem(0x6424, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x28ed, gbc.sp());
        EXPECT(0x6425, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0211
        gbc.setState(0xacd, 0x9653, 0x8380, 0x8e76, 0x46e5, 0x4127, 0x0, 0x0);
        gbc.writeMem(0xacd, { 0x54 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x9653, gbc.sp());
        EXPECT(0xace, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0212
        gbc.setState(0x9025, 0x2381, 0x37a0, 0x6083, 0x1d7b, 0x1ba8, 0x0, 0x1);
        gbc.writeMem(0x9025, { 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x2381, gbc.sp());
        EXPECT(0x9026, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9025));
        // 54 0213
        gbc.setState(0x53b5, 0xe719, 0xeb80, 0x93a9, 0x5a7c, 0x77f3, 0x0, 0x1);
        gbc.writeMem(0x53b5, { 0x54 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xe719, gbc.sp());
        EXPECT(0x53b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0214
        gbc.setState(0xa5de, 0x2a7f, 0xcd30, 0xdca8, 0xc6b7, 0x1b4c, 0x1, 0x0);
        gbc.writeMem(0xa5de, { 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2a7f, gbc.sp());
        EXPECT(0xa5df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa5de));
        // 54 0215
        gbc.setState(0x1799, 0xbfdc, 0xc70, 0xe561, 0x99, 0x41d, 0x1, 0x0);
        gbc.writeMem(0x1799, { 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xbfdc, gbc.sp());
        EXPECT(0x179a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0216
        gbc.setState(0xb84b, 0xeed3, 0x9860, 0x6764, 0x210a, 0xa494, 0x0, 0x1);
        gbc.writeMem(0xb84b, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xeed3, gbc.sp());
        EXPECT(0xb84c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb84b));
        // 54 0217
        gbc.setState(0xecea, 0xf93c, 0xe2a0, 0x9419, 0x8bf0, 0xfe21, 0x1, 0x1);
        gbc.writeMem(0xecea, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xf93c, gbc.sp());
        EXPECT(0xeceb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xecea));
        // 54 0218
        gbc.setState(0x7c50, 0x6267, 0xe1a0, 0x8407, 0x6c68, 0x55b4, 0x0, 0x0);
        gbc.writeMem(0x7c50, { 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x6267, gbc.sp());
        EXPECT(0x7c51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0219
        gbc.setState(0x5247, 0x6083, 0xa150, 0x36ed, 0xe819, 0xf44f, 0x1, 0x0);
        gbc.writeMem(0x5247, { 0x54 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x6083, gbc.sp());
        EXPECT(0x5248, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 021A
        gbc.setState(0x5f6c, 0x54d7, 0x9a60, 0xf2d1, 0x66c9, 0xa661, 0x1, 0x0);
        gbc.writeMem(0x5f6c, { 0x54 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x54d7, gbc.sp());
        EXPECT(0x5f6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 021B
        gbc.setState(0x8c92, 0x961e, 0x8b60, 0x8914, 0xf970, 0xa1d1, 0x1, 0x1);
        gbc.writeMem(0x8c92, { 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x961e, gbc.sp());
        EXPECT(0x8c93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8c92));
        // 54 021C
        gbc.setState(0xb113, 0xa79a, 0x8160, 0x8dc3, 0x73db, 0x9483, 0x0, 0x0);
        gbc.writeMem(0xb113, { 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xa79a, gbc.sp());
        EXPECT(0xb114, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb113));
        // 54 021D
        gbc.setState(0x7f0, 0x5ccb, 0x3ca0, 0x9bc, 0xe2af, 0xd922, 0x1, 0x0);
        gbc.writeMem(0x7f0, { 0x54 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x5ccb, gbc.sp());
        EXPECT(0x7f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 021E
        gbc.setState(0xc5d1, 0x26a0, 0xe90, 0xf0d1, 0x7c0, 0xcbaa, 0x1, 0x1);
        gbc.writeMem(0xc5d1, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x26a0, gbc.sp());
        EXPECT(0xc5d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc5d1));
        // 54 021F
        gbc.setState(0x10c3, 0xf1df, 0x96b0, 0x85af, 0x8972, 0x31bd, 0x0, 0x1);
        gbc.writeMem(0x10c3, { 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xf1df, gbc.sp());
        EXPECT(0x10c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0220
        gbc.setState(0xa34b, 0xe582, 0xc260, 0x8125, 0x1012, 0xa2ec, 0x0, 0x0);
        gbc.writeMem(0xa34b, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xe582, gbc.sp());
        EXPECT(0xa34c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa34b));
        // 54 0221
        gbc.setState(0x78a4, 0x75a1, 0x5f70, 0xffcd, 0x9fed, 0x3e10, 0x0, 0x1);
        gbc.writeMem(0x78a4, { 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x75a1, gbc.sp());
        EXPECT(0x78a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0222
        gbc.setState(0xf98, 0x66e4, 0x5900, 0xeaee, 0x5e21, 0xd5f, 0x1, 0x0);
        gbc.writeMem(0xf98, { 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x66e4, gbc.sp());
        EXPECT(0xf99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0223
        gbc.setState(0x3e00, 0x7568, 0x73d0, 0x3730, 0x8026, 0xe387, 0x0, 0x0);
        gbc.writeMem(0x3e00, { 0x54 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x7568, gbc.sp());
        EXPECT(0x3e01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0224
        gbc.setState(0x98e, 0x630d, 0xc140, 0xb3cd, 0xe1cb, 0x36b2, 0x0, 0x1);
        gbc.writeMem(0x98e, { 0x54 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x630d, gbc.sp());
        EXPECT(0x98f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0225
        gbc.setState(0x62e9, 0x5ad1, 0x74a0, 0x15fd, 0xf7d1, 0xd1b1, 0x1, 0x0);
        gbc.writeMem(0x62e9, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x5ad1, gbc.sp());
        EXPECT(0x62ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0226
        gbc.setState(0x78de, 0x956a, 0x1120, 0x2e06, 0x2344, 0x608, 0x1, 0x1);
        gbc.writeMem(0x78de, { 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x956a, gbc.sp());
        EXPECT(0x78df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0227
        gbc.setState(0x8dd2, 0xd6fb, 0xc2f0, 0xf6b1, 0x5f29, 0x278e, 0x1, 0x1);
        gbc.writeMem(0x8dd2, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xd6fb, gbc.sp());
        EXPECT(0x8dd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8dd2));
        // 54 0228
        gbc.setState(0xa205, 0x527b, 0x51a0, 0x4595, 0x3b85, 0xdabb, 0x1, 0x0);
        gbc.writeMem(0xa205, { 0x54 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x527b, gbc.sp());
        EXPECT(0xa206, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa205));
        // 54 0229
        gbc.setState(0x7dda, 0xbaad, 0xa490, 0xeec7, 0xc13c, 0x225e, 0x1, 0x0);
        gbc.writeMem(0x7dda, { 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xbaad, gbc.sp());
        EXPECT(0x7ddb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 022A
        gbc.setState(0xc850, 0x9f48, 0xdc20, 0x8c54, 0x9986, 0x598a, 0x0, 0x0);
        gbc.writeMem(0xc850, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x9f48, gbc.sp());
        EXPECT(0xc851, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc850));
        // 54 022B
        gbc.setState(0x124, 0xc20, 0x7090, 0xd97f, 0xf09b, 0xb903, 0x0, 0x1);
        gbc.writeMem(0x124, { 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xc20, gbc.sp());
        EXPECT(0x125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 022C
        gbc.setState(0x1234, 0xff7f, 0xb910, 0xc934, 0x8804, 0xce1f, 0x1, 0x0);
        gbc.writeMem(0x1234, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xff7f, gbc.sp());
        EXPECT(0x1235, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 022D
        gbc.setState(0x99b, 0x4a59, 0xd0f0, 0x7122, 0xba9c, 0x8a5d, 0x1, 0x0);
        gbc.writeMem(0x99b, { 0x54 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x4a59, gbc.sp());
        EXPECT(0x99c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 022E
        gbc.setState(0x8e60, 0x1351, 0x3e10, 0x7c39, 0xeab1, 0x93, 0x0, 0x1);
        gbc.writeMem(0x8e60, { 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x1351, gbc.sp());
        EXPECT(0x8e61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8e60));
        // 54 022F
        gbc.setState(0x4a4e, 0xb3cc, 0x7490, 0xffb9, 0xf44, 0x7196, 0x1, 0x0);
        gbc.writeMem(0x4a4e, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xb3cc, gbc.sp());
        EXPECT(0x4a4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0230
        gbc.setState(0xef34, 0x4156, 0x9bc0, 0x553b, 0xf342, 0x31a7, 0x0, 0x0);
        gbc.writeMem(0xef34, { 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x4156, gbc.sp());
        EXPECT(0xef35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xef34));
        // 54 0231
        gbc.setState(0xc87c, 0xe651, 0xab90, 0x6a01, 0xe3aa, 0x2e75, 0x0, 0x0);
        gbc.writeMem(0xc87c, { 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xe651, gbc.sp());
        EXPECT(0xc87d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc87c));
        // 54 0232
        gbc.setState(0x9abf, 0x2c64, 0xd440, 0x11f7, 0x60c0, 0xdb07, 0x0, 0x0);
        gbc.writeMem(0x9abf, { 0x54 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x2c64, gbc.sp());
        EXPECT(0x9ac0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9abf));
        // 54 0233
        gbc.setState(0xc981, 0xc95f, 0x5bb0, 0xba8, 0x1275, 0xc792, 0x1, 0x1);
        gbc.writeMem(0xc981, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xc95f, gbc.sp());
        EXPECT(0xc982, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc981));
        // 54 0234
        gbc.setState(0x509b, 0xf487, 0xb4c0, 0x333c, 0xd097, 0xa20f, 0x0, 0x1);
        gbc.writeMem(0x509b, { 0x54 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xf487, gbc.sp());
        EXPECT(0x509c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0235
        gbc.setState(0xd7db, 0xa7fe, 0xed50, 0xb9da, 0x243, 0xd303, 0x0, 0x0);
        gbc.writeMem(0xd7db, { 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xa7fe, gbc.sp());
        EXPECT(0xd7dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd7db));
        // 54 0236
        gbc.setState(0x346b, 0x37b, 0x8ee0, 0xcbff, 0xb7ca, 0x30c1, 0x1, 0x1);
        gbc.writeMem(0x346b, { 0x54 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x37b, gbc.sp());
        EXPECT(0x346c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0237
        gbc.setState(0x719b, 0xefdd, 0x3f00, 0x5aa2, 0x6bc7, 0xca10, 0x0, 0x0);
        gbc.writeMem(0x719b, { 0x54 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xefdd, gbc.sp());
        EXPECT(0x719c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0238
        gbc.setState(0xa98a, 0xf36b, 0x7c70, 0xf06d, 0x120e, 0x9c48, 0x1, 0x0);
        gbc.writeMem(0xa98a, { 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xf36b, gbc.sp());
        EXPECT(0xa98b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa98a));
        // 54 0239
        gbc.setState(0x5c8b, 0x42b8, 0xb560, 0x120, 0xc7ef, 0x4e2b, 0x1, 0x1);
        gbc.writeMem(0x5c8b, { 0x54 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x42b8, gbc.sp());
        EXPECT(0x5c8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 023A
        gbc.setState(0x484a, 0x54f0, 0x6660, 0x8c08, 0x2c1c, 0xe4d9, 0x1, 0x0);
        gbc.writeMem(0x484a, { 0x54 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x54f0, gbc.sp());
        EXPECT(0x484b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 023B
        gbc.setState(0x94e, 0x8fc2, 0x7190, 0xc4ab, 0x2bf6, 0xc106, 0x0, 0x1);
        gbc.writeMem(0x94e, { 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x8fc2, gbc.sp());
        EXPECT(0x94f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 023C
        gbc.setState(0x5a30, 0xf697, 0xe870, 0xcb94, 0x574, 0x4574, 0x0, 0x0);
        gbc.writeMem(0x5a30, { 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xf697, gbc.sp());
        EXPECT(0x5a31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 023D
        gbc.setState(0xe1ee, 0x1810, 0x2040, 0xd2c4, 0x3d20, 0x337f, 0x1, 0x1);
        gbc.writeMem(0xe1ee, { 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x1810, gbc.sp());
        EXPECT(0xe1ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe1ee));
        // 54 023E
        gbc.setState(0x8594, 0x8f12, 0x1ac0, 0xced, 0xe58b, 0x130a, 0x1, 0x0);
        gbc.writeMem(0x8594, { 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x8f12, gbc.sp());
        EXPECT(0x8595, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8594));
        // 54 023F
        gbc.setState(0x90c9, 0x5be2, 0x9890, 0x53fe, 0x1e4, 0xc23a, 0x0, 0x0);
        gbc.writeMem(0x90c9, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x5be2, gbc.sp());
        EXPECT(0x90ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x90c9));
        // 54 0240
        gbc.setState(0x440c, 0x2c71, 0x9a70, 0xef5b, 0xfc1f, 0xb0cc, 0x0, 0x1);
        gbc.writeMem(0x440c, { 0x54 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x2c71, gbc.sp());
        EXPECT(0x440d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0241
        gbc.setState(0x700e, 0x54d4, 0x47b0, 0x92a8, 0xd9de, 0xd60b, 0x1, 0x1);
        gbc.writeMem(0x700e, { 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x54d4, gbc.sp());
        EXPECT(0x700f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0242
        gbc.setState(0xa3e, 0xc222, 0x49c0, 0x3f83, 0xcdc8, 0x47eb, 0x1, 0x1);
        gbc.writeMem(0xa3e, { 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xc222, gbc.sp());
        EXPECT(0xa3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0243
        gbc.setState(0x61c, 0xf08e, 0x6270, 0xaee4, 0x2aa0, 0xfd6c, 0x0, 0x0);
        gbc.writeMem(0x61c, { 0x54 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xf08e, gbc.sp());
        EXPECT(0x61d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0244
        gbc.setState(0x1784, 0x7592, 0xae60, 0x4220, 0x6c46, 0x3f47, 0x1, 0x0);
        gbc.writeMem(0x1784, { 0x54 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x7592, gbc.sp());
        EXPECT(0x1785, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0245
        gbc.setState(0x3e82, 0x9aea, 0x61e0, 0xd1eb, 0xb919, 0xbd9c, 0x1, 0x0);
        gbc.writeMem(0x3e82, { 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x9aea, gbc.sp());
        EXPECT(0x3e83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0247
        gbc.setState(0x8bee, 0x3baf, 0xdfa0, 0xf292, 0xc2f0, 0x2d4b, 0x0, 0x1);
        gbc.writeMem(0x8bee, { 0x54 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x3baf, gbc.sp());
        EXPECT(0x8bef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8bee));
        // 54 0248
        gbc.setState(0x5014, 0xdde8, 0x9680, 0x3623, 0x74a1, 0x7e1b, 0x1, 0x0);
        gbc.writeMem(0x5014, { 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xdde8, gbc.sp());
        EXPECT(0x5015, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 024A
        gbc.setState(0x5640, 0x268f, 0x6710, 0x546d, 0x58bc, 0x5a03, 0x1, 0x1);
        gbc.writeMem(0x5640, { 0x54 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x268f, gbc.sp());
        EXPECT(0x5641, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 024B
        gbc.setState(0x87d6, 0x4c29, 0xe810, 0x55f4, 0xb6b, 0x76c6, 0x1, 0x1);
        gbc.writeMem(0x87d6, { 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x4c29, gbc.sp());
        EXPECT(0x87d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x87d6));
        // 54 024C
        gbc.setState(0xdfaf, 0x690e, 0xc290, 0x9eaa, 0xd808, 0xbbb8, 0x0, 0x0);
        gbc.writeMem(0xdfaf, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x690e, gbc.sp());
        EXPECT(0xdfb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdfaf));
        // 54 024D
        gbc.setState(0x358, 0x4d87, 0x65f0, 0x7aa5, 0xf331, 0xb52, 0x1, 0x0);
        gbc.writeMem(0x358, { 0x54 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x4d87, gbc.sp());
        EXPECT(0x359, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 024E
        gbc.setState(0x3c8f, 0x2a47, 0xc030, 0x1769, 0xd65f, 0x8c2b, 0x0, 0x1);
        gbc.writeMem(0x3c8f, { 0x54 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2a47, gbc.sp());
        EXPECT(0x3c90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 024F
        gbc.setState(0xdbb8, 0x2cca, 0x69f0, 0x44fa, 0xe980, 0xbdcb, 0x1, 0x0);
        gbc.writeMem(0xdbb8, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x2cca, gbc.sp());
        EXPECT(0xdbb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdbb8));
        // 54 0250
        gbc.setState(0x6e68, 0xb8c6, 0x1ac0, 0xd91e, 0x3b85, 0xb81a, 0x1, 0x1);
        gbc.writeMem(0x6e68, { 0x54 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xb8c6, gbc.sp());
        EXPECT(0x6e69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0251
        gbc.setState(0x2fd, 0xda09, 0x85e0, 0xfc2e, 0xf9c3, 0x713f, 0x1, 0x1);
        gbc.writeMem(0x2fd, { 0x54 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xda09, gbc.sp());
        EXPECT(0x2fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0252
        gbc.setState(0x13f5, 0x1975, 0x8630, 0xbb4, 0xa110, 0xd32b, 0x0, 0x0);
        gbc.writeMem(0x13f5, { 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x1975, gbc.sp());
        EXPECT(0x13f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0255
        gbc.setState(0xd656, 0xe2d7, 0x9270, 0xede6, 0x1a36, 0x33eb, 0x1, 0x1);
        gbc.writeMem(0xd656, { 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xe2d7, gbc.sp());
        EXPECT(0xd657, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd656));
        // 54 0256
        gbc.setState(0x5428, 0x876b, 0x8460, 0x9187, 0x12e4, 0x6306, 0x0, 0x0);
        gbc.writeMem(0x5428, { 0x54 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x876b, gbc.sp());
        EXPECT(0x5429, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0257
        gbc.setState(0x5171, 0xc2b9, 0x6960, 0x7006, 0x3690, 0x3217, 0x0, 0x0);
        gbc.writeMem(0x5171, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xc2b9, gbc.sp());
        EXPECT(0x5172, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0258
        gbc.setState(0xbab3, 0x79ce, 0x9090, 0x553f, 0x5803, 0xafef, 0x0, 0x0);
        gbc.writeMem(0xbab3, { 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x79ce, gbc.sp());
        EXPECT(0xbab4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbab3));
        // 54 0259
        gbc.setState(0x4996, 0x8287, 0x9f30, 0x873a, 0xd576, 0x883, 0x1, 0x0);
        gbc.writeMem(0x4996, { 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x8287, gbc.sp());
        EXPECT(0x4997, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 025B
        gbc.setState(0x4d0a, 0xe52e, 0x7000, 0xe8be, 0x6b64, 0xc502, 0x1, 0x0);
        gbc.writeMem(0x4d0a, { 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xe52e, gbc.sp());
        EXPECT(0x4d0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 025C
        gbc.setState(0x64aa, 0xbb03, 0xe9f0, 0x9e20, 0x2df0, 0xa7c6, 0x0, 0x1);
        gbc.writeMem(0x64aa, { 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xbb03, gbc.sp());
        EXPECT(0x64ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 025D
        gbc.setState(0x1940, 0x4d39, 0x49c0, 0xa046, 0x265e, 0xa5a5, 0x1, 0x1);
        gbc.writeMem(0x1940, { 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x4d39, gbc.sp());
        EXPECT(0x1941, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 025E
        gbc.setState(0xcc17, 0xe0e4, 0x5480, 0xbc42, 0xd636, 0x9b01, 0x1, 0x0);
        gbc.writeMem(0xcc17, { 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xe0e4, gbc.sp());
        EXPECT(0xcc18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcc17));
        // 54 0260
        gbc.setState(0x30a1, 0x9d0b, 0xece0, 0xfece, 0x939b, 0x4f33, 0x0, 0x1);
        gbc.writeMem(0x30a1, { 0x54 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x9d0b, gbc.sp());
        EXPECT(0x30a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0261
        gbc.setState(0xa9aa, 0x1393, 0x1170, 0x52ea, 0x9e22, 0x5968, 0x1, 0x0);
        gbc.writeMem(0xa9aa, { 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x1393, gbc.sp());
        EXPECT(0xa9ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa9aa));
        // 54 0262
        gbc.setState(0xe1a6, 0x95ea, 0xa080, 0xdf1e, 0x3400, 0x8844, 0x1, 0x1);
        gbc.writeMem(0xe1a6, { 0x54 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x95ea, gbc.sp());
        EXPECT(0xe1a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe1a6));
        // 54 0263
        gbc.setState(0x417f, 0x8f20, 0x5b70, 0xd49d, 0xd3a7, 0x18be, 0x1, 0x0);
        gbc.writeMem(0x417f, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x8f20, gbc.sp());
        EXPECT(0x4180, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0264
        gbc.setState(0xc24d, 0x5267, 0xe920, 0x700e, 0x46ea, 0xb0ec, 0x1, 0x0);
        gbc.writeMem(0xc24d, { 0x54 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x5267, gbc.sp());
        EXPECT(0xc24e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc24d));
        // 54 0265
        gbc.setState(0x581a, 0xbbe9, 0x5420, 0x62a6, 0x7749, 0x5691, 0x0, 0x1);
        gbc.writeMem(0x581a, { 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xbbe9, gbc.sp());
        EXPECT(0x581b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0266
        gbc.setState(0x10ec, 0x6f6b, 0x5b10, 0x85a3, 0x9a30, 0x2444, 0x1, 0x0);
        gbc.writeMem(0x10ec, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6f6b, gbc.sp());
        EXPECT(0x10ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0267
        gbc.setState(0x7044, 0x7500, 0xe70, 0x961c, 0x96ce, 0x958, 0x1, 0x0);
        gbc.writeMem(0x7044, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x7500, gbc.sp());
        EXPECT(0x7045, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0268
        gbc.setState(0x1c77, 0x9442, 0x33e0, 0x9812, 0x2c55, 0x9432, 0x0, 0x0);
        gbc.writeMem(0x1c77, { 0x54 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x9442, gbc.sp());
        EXPECT(0x1c78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0269
        gbc.setState(0xdf0d, 0x514c, 0x7cc0, 0x3df3, 0xf128, 0x9734, 0x0, 0x0);
        gbc.writeMem(0xdf0d, { 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x514c, gbc.sp());
        EXPECT(0xdf0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf0d));
        // 54 026A
        gbc.setState(0x9ca0, 0x7c9f, 0xcf60, 0x669a, 0x7ae9, 0x4f51, 0x0, 0x0);
        gbc.writeMem(0x9ca0, { 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x7c9f, gbc.sp());
        EXPECT(0x9ca1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9ca0));
        // 54 026B
        gbc.setState(0x179e, 0xcc6d, 0x6a50, 0xb344, 0xd63, 0x2a61, 0x0, 0x1);
        gbc.writeMem(0x179e, { 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xcc6d, gbc.sp());
        EXPECT(0x179f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 026C
        gbc.setState(0x7a1, 0xafeb, 0x9be0, 0x3962, 0x5686, 0xae92, 0x1, 0x1);
        gbc.writeMem(0x7a1, { 0x54 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xafeb, gbc.sp());
        EXPECT(0x7a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 026D
        gbc.setState(0x107b, 0xe438, 0x7060, 0xbe89, 0x7933, 0x72a6, 0x1, 0x1);
        gbc.writeMem(0x107b, { 0x54 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xe438, gbc.sp());
        EXPECT(0x107c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 026E
        gbc.setState(0x7598, 0x2e82, 0x1620, 0x2317, 0x5733, 0xc17a, 0x0, 0x0);
        gbc.writeMem(0x7598, { 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x2e82, gbc.sp());
        EXPECT(0x7599, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 026F
        gbc.setState(0xaf90, 0x43a1, 0x3130, 0x31b0, 0x30e1, 0xe6a6, 0x0, 0x0);
        gbc.writeMem(0xaf90, { 0x54 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x43a1, gbc.sp());
        EXPECT(0xaf91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xaf90));
        // 54 0270
        gbc.setState(0xd5d5, 0x5d0e, 0x2670, 0x2a01, 0xb55e, 0x67b0, 0x1, 0x1);
        gbc.writeMem(0xd5d5, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x5d0e, gbc.sp());
        EXPECT(0xd5d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd5d5));
        // 54 0271
        gbc.setState(0x5d02, 0xbd12, 0x1b50, 0x7907, 0x9f9a, 0x739e, 0x1, 0x0);
        gbc.writeMem(0x5d02, { 0x54 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xbd12, gbc.sp());
        EXPECT(0x5d03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0272
        gbc.setState(0x71bd, 0x5a6c, 0x32c0, 0x3d6, 0xd36a, 0x9d4d, 0x1, 0x1);
        gbc.writeMem(0x71bd, { 0x54 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x5a6c, gbc.sp());
        EXPECT(0x71be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0273
        gbc.setState(0xb100, 0xc38, 0x6b50, 0x34ce, 0x5539, 0x5f5, 0x1, 0x0);
        gbc.writeMem(0xb100, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xc38, gbc.sp());
        EXPECT(0xb101, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb100));
        // 54 0274
        gbc.setState(0xb0b2, 0x7cb7, 0xc870, 0xaa33, 0xfa01, 0xec66, 0x1, 0x1);
        gbc.writeMem(0xb0b2, { 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x7cb7, gbc.sp());
        EXPECT(0xb0b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb0b2));
        // 54 0275
        gbc.setState(0x891, 0xb261, 0x260, 0x1552, 0x70c4, 0x3445, 0x1, 0x0);
        gbc.writeMem(0x891, { 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xb261, gbc.sp());
        EXPECT(0x892, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0276
        gbc.setState(0xc0e3, 0xdf88, 0x4df0, 0x8676, 0x6d68, 0x5cd8, 0x1, 0x1);
        gbc.writeMem(0xc0e3, { 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xdf88, gbc.sp());
        EXPECT(0xc0e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc0e3));
        // 54 0277
        gbc.setState(0xa9d4, 0xc60f, 0x790, 0x11fa, 0x5fd7, 0x66c2, 0x1, 0x0);
        gbc.writeMem(0xa9d4, { 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xc60f, gbc.sp());
        EXPECT(0xa9d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa9d4));
        // 54 0278
        gbc.setState(0x75c8, 0x22f3, 0x5460, 0xe247, 0xe65a, 0x5550, 0x1, 0x1);
        gbc.writeMem(0x75c8, { 0x54 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x22f3, gbc.sp());
        EXPECT(0x75c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0279
        gbc.setState(0x3d7d, 0x6b21, 0x7600, 0xc51b, 0x6a8c, 0xdeca, 0x0, 0x0);
        gbc.writeMem(0x3d7d, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x6b21, gbc.sp());
        EXPECT(0x3d7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 027A
        gbc.setState(0x3a3, 0x970e, 0x6410, 0x5762, 0xab0b, 0x2b76, 0x0, 0x0);
        gbc.writeMem(0x3a3, { 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x970e, gbc.sp());
        EXPECT(0x3a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 027B
        gbc.setState(0x6360, 0x8c8f, 0xa4d0, 0xcf43, 0x565e, 0xacb1, 0x0, 0x0);
        gbc.writeMem(0x6360, { 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x8c8f, gbc.sp());
        EXPECT(0x6361, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 027C
        gbc.setState(0x6acb, 0x533c, 0x7140, 0xc72a, 0x1347, 0x6da6, 0x1, 0x1);
        gbc.writeMem(0x6acb, { 0x54 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x533c, gbc.sp());
        EXPECT(0x6acc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 027D
        gbc.setState(0x20d6, 0x86d5, 0xf340, 0x3fd, 0xbcaf, 0x4c43, 0x0, 0x1);
        gbc.writeMem(0x20d6, { 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x86d5, gbc.sp());
        EXPECT(0x20d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 027E
        gbc.setState(0xabc5, 0xcf8c, 0xf690, 0xec0c, 0x7907, 0x3158, 0x0, 0x0);
        gbc.writeMem(0xabc5, { 0x54 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xcf8c, gbc.sp());
        EXPECT(0xabc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xabc5));
        // 54 027F
        gbc.setState(0xadb9, 0x60e6, 0x3ab0, 0x67c1, 0xfb2d, 0x6771, 0x1, 0x1);
        gbc.writeMem(0xadb9, { 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x60e6, gbc.sp());
        EXPECT(0xadba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xadb9));
        // 54 0280
        gbc.setState(0x7fea, 0x6e7, 0x25b0, 0xd76a, 0xa5e4, 0x8990, 0x1, 0x1);
        gbc.writeMem(0x7fea, { 0x54 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x6e7, gbc.sp());
        EXPECT(0x7feb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0281
        gbc.setState(0x28ff, 0x8bbc, 0xe0c0, 0x83f1, 0xb8f8, 0xfe27, 0x0, 0x1);
        gbc.writeMem(0x28ff, { 0x54 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x8bbc, gbc.sp());
        EXPECT(0x2900, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0282
        gbc.setState(0xc1ab, 0xb9e9, 0xc310, 0x86a8, 0xcb4a, 0xc1b0, 0x0, 0x0);
        gbc.writeMem(0xc1ab, { 0x54 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xb9e9, gbc.sp());
        EXPECT(0xc1ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc1ab));
        // 54 0283
        gbc.setState(0x3d8f, 0x841b, 0x1240, 0xb350, 0x9970, 0xe567, 0x1, 0x0);
        gbc.writeMem(0x3d8f, { 0x54 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x841b, gbc.sp());
        EXPECT(0x3d90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0285
        gbc.setState(0xae01, 0xee1, 0xcfa0, 0x4fb2, 0x9537, 0xf2f7, 0x1, 0x1);
        gbc.writeMem(0xae01, { 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xee1, gbc.sp());
        EXPECT(0xae02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xae01));
        // 54 0286
        gbc.setState(0x3b72, 0xff46, 0x7ea0, 0xca01, 0xd6f2, 0xa285, 0x1, 0x0);
        gbc.writeMem(0x3b72, { 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xff46, gbc.sp());
        EXPECT(0x3b73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0287
        gbc.setState(0x40d6, 0xd3c6, 0x6970, 0xeb5, 0x96ae, 0xfb0d, 0x1, 0x1);
        gbc.writeMem(0x40d6, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xd3c6, gbc.sp());
        EXPECT(0x40d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0289
        gbc.setState(0x7c54, 0xfc69, 0xb6f0, 0x9654, 0x29f6, 0x6b3e, 0x1, 0x0);
        gbc.writeMem(0x7c54, { 0x54 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xfc69, gbc.sp());
        EXPECT(0x7c55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 028A
        gbc.setState(0x222b, 0x847c, 0xdec0, 0x5f19, 0xf1c, 0x87d, 0x0, 0x1);
        gbc.writeMem(0x222b, { 0x54 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x847c, gbc.sp());
        EXPECT(0x222c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 028B
        gbc.setState(0x6038, 0x9274, 0xb6a0, 0x2dcf, 0x5b87, 0x9876, 0x1, 0x0);
        gbc.writeMem(0x6038, { 0x54 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x9274, gbc.sp());
        EXPECT(0x6039, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 028C
        gbc.setState(0xb49a, 0xb7f4, 0x1610, 0x59eb, 0xacd3, 0x9d30, 0x1, 0x1);
        gbc.writeMem(0xb49a, { 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xb7f4, gbc.sp());
        EXPECT(0xb49b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb49a));
        // 54 028D
        gbc.setState(0xba90, 0x3c44, 0xb700, 0xd51d, 0xfa3f, 0x2f63, 0x1, 0x1);
        gbc.writeMem(0xba90, { 0x54 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x3c44, gbc.sp());
        EXPECT(0xba91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xba90));
        // 54 028E
        gbc.setState(0x7a6c, 0xd032, 0xd370, 0x1ef, 0xd929, 0x4e3e, 0x1, 0x1);
        gbc.writeMem(0x7a6c, { 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xd032, gbc.sp());
        EXPECT(0x7a6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 028F
        gbc.setState(0xab3, 0xcbc3, 0xe820, 0x1da5, 0x66ea, 0xfdc9, 0x1, 0x1);
        gbc.writeMem(0xab3, { 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xcbc3, gbc.sp());
        EXPECT(0xab4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0290
        gbc.setState(0x1926, 0x22c7, 0xd990, 0xe315, 0x7305, 0x7fad, 0x0, 0x0);
        gbc.writeMem(0x1926, { 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x22c7, gbc.sp());
        EXPECT(0x1927, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0291
        gbc.setState(0x4999, 0x48fa, 0x45f0, 0xfcac, 0x231c, 0xe6c6, 0x1, 0x1);
        gbc.writeMem(0x4999, { 0x54 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x48fa, gbc.sp());
        EXPECT(0x499a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0292
        gbc.setState(0x3f21, 0x99aa, 0x3de0, 0x8d6e, 0x3670, 0x3c35, 0x0, 0x1);
        gbc.writeMem(0x3f21, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x99aa, gbc.sp());
        EXPECT(0x3f22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0293
        gbc.setState(0x51d, 0x3110, 0xedd0, 0xcf0d, 0x3514, 0xeccd, 0x1, 0x0);
        gbc.writeMem(0x51d, { 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x3110, gbc.sp());
        EXPECT(0x51e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0295
        gbc.setState(0xede, 0x77ce, 0x9180, 0x7dfd, 0x250c, 0xc9c8, 0x1, 0x1);
        gbc.writeMem(0xede, { 0x54 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x77ce, gbc.sp());
        EXPECT(0xedf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0296
        gbc.setState(0xd75, 0x580c, 0xfc20, 0xd7b9, 0xb58d, 0x871d, 0x0, 0x1);
        gbc.writeMem(0xd75, { 0x54 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x580c, gbc.sp());
        EXPECT(0xd76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0297
        gbc.setState(0xe8e4, 0x1751, 0xdfb0, 0xd68d, 0xfbed, 0xc0c6, 0x0, 0x0);
        gbc.writeMem(0xe8e4, { 0x54 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x1751, gbc.sp());
        EXPECT(0xe8e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe8e4));
        // 54 0298
        gbc.setState(0x282e, 0xbc79, 0xce70, 0x8ab0, 0xf814, 0xc7d, 0x1, 0x0);
        gbc.writeMem(0x282e, { 0x54 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xbc79, gbc.sp());
        EXPECT(0x282f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0299
        gbc.setState(0x64bb, 0x8d3f, 0xe660, 0xb310, 0x48c7, 0xb715, 0x0, 0x0);
        gbc.writeMem(0x64bb, { 0x54 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x8d3f, gbc.sp());
        EXPECT(0x64bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 029A
        gbc.setState(0xaa6a, 0xbf58, 0x2ce0, 0x5a70, 0x48a8, 0xf59c, 0x0, 0x1);
        gbc.writeMem(0xaa6a, { 0x54 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xbf58, gbc.sp());
        EXPECT(0xaa6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xaa6a));
        // 54 029B
        gbc.setState(0x3b61, 0xa7f3, 0x8f10, 0x5c13, 0x28df, 0x497e, 0x1, 0x1);
        gbc.writeMem(0x3b61, { 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xa7f3, gbc.sp());
        EXPECT(0x3b62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 029C
        gbc.setState(0xd6b3, 0xdb0c, 0x53a0, 0x4c3d, 0x83fb, 0x5118, 0x1, 0x0);
        gbc.writeMem(0xd6b3, { 0x54 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xdb0c, gbc.sp());
        EXPECT(0xd6b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd6b3));
        // 54 029D
        gbc.setState(0x29b6, 0xb32b, 0x20e0, 0xeac4, 0x407f, 0xdb7b, 0x0, 0x0);
        gbc.writeMem(0x29b6, { 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb32b, gbc.sp());
        EXPECT(0x29b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 029E
        gbc.setState(0x14d6, 0x95d9, 0xc4b0, 0x2d9c, 0xb49a, 0xeec6, 0x1, 0x0);
        gbc.writeMem(0x14d6, { 0x54 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x95d9, gbc.sp());
        EXPECT(0x14d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 029F
        gbc.setState(0x94e9, 0x87e6, 0x2300, 0x185d, 0x850, 0x1a81, 0x0, 0x1);
        gbc.writeMem(0x94e9, { 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x87e6, gbc.sp());
        EXPECT(0x94ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x94e9));
        // 54 02A0
        gbc.setState(0xdcbb, 0xd493, 0x1e40, 0x5457, 0xe95d, 0x177b, 0x0, 0x0);
        gbc.writeMem(0xdcbb, { 0x54 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xd493, gbc.sp());
        EXPECT(0xdcbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdcbb));
        // 54 02A1
        gbc.setState(0xbae8, 0x67db, 0xf7d0, 0x8c1b, 0xa2e6, 0xaea3, 0x1, 0x1);
        gbc.writeMem(0xbae8, { 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x67db, gbc.sp());
        EXPECT(0xbae9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbae8));
        // 54 02A2
        gbc.setState(0xb01f, 0xf12, 0xe180, 0x6769, 0x9883, 0x222f, 0x1, 0x1);
        gbc.writeMem(0xb01f, { 0x54 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xf12, gbc.sp());
        EXPECT(0xb020, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb01f));
        // 54 02A3
        gbc.setState(0x29bb, 0x9e08, 0xbc50, 0x62dc, 0x3b88, 0x27f7, 0x1, 0x0);
        gbc.writeMem(0x29bb, { 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x9e08, gbc.sp());
        EXPECT(0x29bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02A4
        gbc.setState(0x862f, 0xea5d, 0xb630, 0x45bd, 0xf4b2, 0xc716, 0x1, 0x0);
        gbc.writeMem(0x862f, { 0x54 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xea5d, gbc.sp());
        EXPECT(0x8630, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x862f));
        // 54 02A5
        gbc.setState(0xdc16, 0x30f4, 0x7df0, 0xffc4, 0xa76b, 0x3e3f, 0x0, 0x1);
        gbc.writeMem(0xdc16, { 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x30f4, gbc.sp());
        EXPECT(0xdc17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdc16));
        // 54 02A6
        gbc.setState(0x4ab, 0xb781, 0xe40, 0x248e, 0x77b6, 0xb95a, 0x1, 0x1);
        gbc.writeMem(0x4ab, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xb781, gbc.sp());
        EXPECT(0x4ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02A7
        gbc.setState(0x8228, 0xd0aa, 0x5ce0, 0x8d2f, 0x299e, 0x47a0, 0x0, 0x1);
        gbc.writeMem(0x8228, { 0x54 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xd0aa, gbc.sp());
        EXPECT(0x8229, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8228));
        // 54 02A8
        gbc.setState(0x7e39, 0xa1d2, 0x3a30, 0xe84e, 0x9a76, 0xe747, 0x1, 0x1);
        gbc.writeMem(0x7e39, { 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xa1d2, gbc.sp());
        EXPECT(0x7e3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02A9
        gbc.setState(0xea62, 0xd2fa, 0x7e20, 0x1095, 0x9d9, 0xd289, 0x0, 0x1);
        gbc.writeMem(0xea62, { 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xd2fa, gbc.sp());
        EXPECT(0xea63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xea62));
        // 54 02AA
        gbc.setState(0xe650, 0x5b61, 0x5fc0, 0x1176, 0x340b, 0x32b8, 0x0, 0x0);
        gbc.writeMem(0xe650, { 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x5b61, gbc.sp());
        EXPECT(0xe651, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe650));
        // 54 02AB
        gbc.setState(0xb96f, 0x5631, 0x67b0, 0xceb0, 0x6b59, 0x7bd0, 0x0, 0x0);
        gbc.writeMem(0xb96f, { 0x54 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x5631, gbc.sp());
        EXPECT(0xb970, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb96f));
        // 54 02AC
        gbc.setState(0xbf25, 0x30cf, 0x5eb0, 0x4b12, 0xea3d, 0xf1f8, 0x0, 0x0);
        gbc.writeMem(0xbf25, { 0x54 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x30cf, gbc.sp());
        EXPECT(0xbf26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbf25));
        // 54 02AD
        gbc.setState(0xc49b, 0x8457, 0xc280, 0x20d8, 0xc1cc, 0x7ce9, 0x1, 0x1);
        gbc.writeMem(0xc49b, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8457, gbc.sp());
        EXPECT(0xc49c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc49b));
        // 54 02AE
        gbc.setState(0xdb6a, 0x990, 0x70, 0x1603, 0xcc68, 0xc693, 0x1, 0x0);
        gbc.writeMem(0xdb6a, { 0x54 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x990, gbc.sp());
        EXPECT(0xdb6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdb6a));
        // 54 02AF
        gbc.setState(0x3ab4, 0xfe3d, 0xc920, 0x67a0, 0x428c, 0xba53, 0x1, 0x0);
        gbc.writeMem(0x3ab4, { 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xfe3d, gbc.sp());
        EXPECT(0x3ab5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02B0
        gbc.setState(0x4879, 0x8bd0, 0x5bc0, 0xc539, 0x586b, 0xae15, 0x0, 0x0);
        gbc.writeMem(0x4879, { 0x54 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x8bd0, gbc.sp());
        EXPECT(0x487a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02B1
        gbc.setState(0xae35, 0x8cb, 0x26c0, 0xd83c, 0xe099, 0x33b7, 0x0, 0x1);
        gbc.writeMem(0xae35, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x8cb, gbc.sp());
        EXPECT(0xae36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xae35));
        // 54 02B2
        gbc.setState(0x532a, 0x4f6a, 0x8ec0, 0x68cd, 0x3701, 0x4b13, 0x0, 0x0);
        gbc.writeMem(0x532a, { 0x54 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x4f6a, gbc.sp());
        EXPECT(0x532b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02B3
        gbc.setState(0x3548, 0x7b7, 0xbe90, 0xe61b, 0x273c, 0x1059, 0x0, 0x1);
        gbc.writeMem(0x3548, { 0x54 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x7b7, gbc.sp());
        EXPECT(0x3549, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02B4
        gbc.setState(0x523b, 0x3d82, 0x6c40, 0xe7, 0xfdfd, 0xcd2c, 0x0, 0x1);
        gbc.writeMem(0x523b, { 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x3d82, gbc.sp());
        EXPECT(0x523c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02B5
        gbc.setState(0x40b0, 0xbf08, 0x9cd0, 0xcb9e, 0xef72, 0x4f90, 0x0, 0x1);
        gbc.writeMem(0x40b0, { 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xbf08, gbc.sp());
        EXPECT(0x40b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02B6
        gbc.setState(0xe47f, 0x7652, 0x7bc0, 0x84ad, 0xebe8, 0x9efe, 0x0, 0x1);
        gbc.writeMem(0xe47f, { 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x7652, gbc.sp());
        EXPECT(0xe480, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe47f));
        // 54 02B7
        gbc.setState(0x1b1b, 0x487e, 0x3f90, 0xcd21, 0xa253, 0x975a, 0x1, 0x1);
        gbc.writeMem(0x1b1b, { 0x54 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x487e, gbc.sp());
        EXPECT(0x1b1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02B8
        gbc.setState(0x7b7a, 0x9d3c, 0xa640, 0xb491, 0xcf56, 0x5485, 0x0, 0x0);
        gbc.writeMem(0x7b7a, { 0x54 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x9d3c, gbc.sp());
        EXPECT(0x7b7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02B9
        gbc.setState(0x78fe, 0x4f5, 0x7fa0, 0x5bf, 0x28cc, 0xe64, 0x1, 0x1);
        gbc.writeMem(0x78fe, { 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4f5, gbc.sp());
        EXPECT(0x78ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02BA
        gbc.setState(0xde82, 0x8959, 0xf420, 0xbc1d, 0xa088, 0x1de7, 0x0, 0x1);
        gbc.writeMem(0xde82, { 0x54 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x8959, gbc.sp());
        EXPECT(0xde83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xde82));
        // 54 02BB
        gbc.setState(0xad26, 0xfeda, 0x3db0, 0x503b, 0xd246, 0x233d, 0x1, 0x0);
        gbc.writeMem(0xad26, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xfeda, gbc.sp());
        EXPECT(0xad27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xad26));
        // 54 02BC
        gbc.setState(0xd08e, 0x5e8f, 0xda40, 0x3373, 0x5ab3, 0x3a63, 0x1, 0x0);
        gbc.writeMem(0xd08e, { 0x54 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x5e8f, gbc.sp());
        EXPECT(0xd08f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd08e));
        // 54 02BD
        gbc.setState(0xaa7d, 0x8ba8, 0x35c0, 0x1c46, 0xc8f4, 0xc6f8, 0x1, 0x0);
        gbc.writeMem(0xaa7d, { 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8ba8, gbc.sp());
        EXPECT(0xaa7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xaa7d));
        // 54 02BE
        gbc.setState(0xd585, 0x3ad9, 0x6ae0, 0x88cd, 0xe9de, 0x2848, 0x1, 0x0);
        gbc.writeMem(0xd585, { 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x3ad9, gbc.sp());
        EXPECT(0xd586, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd585));
        // 54 02BF
        gbc.setState(0x9257, 0x7347, 0xc210, 0xb031, 0xf93, 0x2705, 0x0, 0x1);
        gbc.writeMem(0x9257, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x7347, gbc.sp());
        EXPECT(0x9258, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9257));
        // 54 02C0
        gbc.setState(0xa51e, 0x7937, 0x4d80, 0xc1f2, 0x35cd, 0x3c3a, 0x0, 0x0);
        gbc.writeMem(0xa51e, { 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x7937, gbc.sp());
        EXPECT(0xa51f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa51e));
        // 54 02C1
        gbc.setState(0xc663, 0x3549, 0x1410, 0xc071, 0x5da0, 0xa9c8, 0x0, 0x0);
        gbc.writeMem(0xc663, { 0x54 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x3549, gbc.sp());
        EXPECT(0xc664, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc663));
        // 54 02C2
        gbc.setState(0xe0ca, 0xcc88, 0xc820, 0xc270, 0xdae1, 0x38f1, 0x0, 0x1);
        gbc.writeMem(0xe0ca, { 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xcc88, gbc.sp());
        EXPECT(0xe0cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe0ca));
        // 54 02C3
        gbc.setState(0x1992, 0x28c2, 0x1930, 0x7232, 0x3378, 0xe968, 0x1, 0x0);
        gbc.writeMem(0x1992, { 0x54 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x28c2, gbc.sp());
        EXPECT(0x1993, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02C4
        gbc.setState(0x51a4, 0x41e2, 0xafd0, 0xa846, 0xb881, 0xdeeb, 0x0, 0x1);
        gbc.writeMem(0x51a4, { 0x54 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x41e2, gbc.sp());
        EXPECT(0x51a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02C5
        gbc.setState(0x5557, 0x9bb0, 0x4a80, 0xd6e4, 0x9918, 0x736d, 0x0, 0x0);
        gbc.writeMem(0x5557, { 0x54 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x9bb0, gbc.sp());
        EXPECT(0x5558, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02C6
        gbc.setState(0x6b0b, 0xdf7d, 0x4050, 0xe803, 0x42b, 0xe393, 0x0, 0x0);
        gbc.writeMem(0x6b0b, { 0x54 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xdf7d, gbc.sp());
        EXPECT(0x6b0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02C7
        gbc.setState(0x3e6, 0x472e, 0x6f90, 0x2a21, 0xba95, 0x1c15, 0x1, 0x1);
        gbc.writeMem(0x3e6, { 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x472e, gbc.sp());
        EXPECT(0x3e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02C8
        gbc.setState(0x36a, 0x12d7, 0x51a0, 0xe3e9, 0x8b23, 0x4cde, 0x0, 0x1);
        gbc.writeMem(0x36a, { 0x54 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x12d7, gbc.sp());
        EXPECT(0x36b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02C9
        gbc.setState(0x7ca3, 0xe3c8, 0x7a0, 0x1f5, 0xf1df, 0x6d94, 0x0, 0x1);
        gbc.writeMem(0x7ca3, { 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xe3c8, gbc.sp());
        EXPECT(0x7ca4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02CA
        gbc.setState(0x1254, 0x84da, 0x76d0, 0x63ab, 0x823c, 0xfb51, 0x0, 0x1);
        gbc.writeMem(0x1254, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x84da, gbc.sp());
        EXPECT(0x1255, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02CB
        gbc.setState(0x9c4c, 0xd00d, 0xff00, 0x5570, 0x23e1, 0x321b, 0x1, 0x0);
        gbc.writeMem(0x9c4c, { 0x54 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xd00d, gbc.sp());
        EXPECT(0x9c4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9c4c));
        // 54 02CC
        gbc.setState(0x5b85, 0xaab7, 0x68d0, 0xc60b, 0x723d, 0xe0a7, 0x0, 0x0);
        gbc.writeMem(0x5b85, { 0x54 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xaab7, gbc.sp());
        EXPECT(0x5b86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02CE
        gbc.setState(0x85a6, 0x7b6e, 0xc270, 0xdb45, 0x2df9, 0x6ea6, 0x1, 0x0);
        gbc.writeMem(0x85a6, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x7b6e, gbc.sp());
        EXPECT(0x85a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x85a6));
        // 54 02CF
        gbc.setState(0x821f, 0x3e58, 0x1f90, 0xd711, 0xf0b, 0xf530, 0x0, 0x1);
        gbc.writeMem(0x821f, { 0x54 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x3e58, gbc.sp());
        EXPECT(0x8220, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x821f));
        // 54 02D0
        gbc.setState(0xc64, 0xb0f, 0xace0, 0xeb3d, 0x1f2c, 0x4787, 0x1, 0x0);
        gbc.writeMem(0xc64, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xb0f, gbc.sp());
        EXPECT(0xc65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02D1
        gbc.setState(0x81c8, 0x2a8f, 0xcdc0, 0xc5af, 0xda1d, 0xedcf, 0x1, 0x1);
        gbc.writeMem(0x81c8, { 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2a8f, gbc.sp());
        EXPECT(0x81c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x81c8));
        // 54 02D2
        gbc.setState(0xa877, 0x6d97, 0xe720, 0x1e47, 0x4385, 0x1b4, 0x0, 0x1);
        gbc.writeMem(0xa877, { 0x54 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x6d97, gbc.sp());
        EXPECT(0xa878, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa877));
        // 54 02D3
        gbc.setState(0xdb9, 0x7a86, 0xe8c0, 0x937e, 0xa4c9, 0x8b67, 0x1, 0x0);
        gbc.writeMem(0xdb9, { 0x54 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x7a86, gbc.sp());
        EXPECT(0xdba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02D4
        gbc.setState(0xd889, 0xd64a, 0x57f0, 0x7af8, 0xeba7, 0x47de, 0x1, 0x0);
        gbc.writeMem(0xd889, { 0x54 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xd64a, gbc.sp());
        EXPECT(0xd88a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd889));
        // 54 02D5
        gbc.setState(0x8b0e, 0xe857, 0x6140, 0x25f5, 0xef33, 0xc8bd, 0x0, 0x0);
        gbc.writeMem(0x8b0e, { 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xe857, gbc.sp());
        EXPECT(0x8b0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8b0e));
        // 54 02D6
        gbc.setState(0x9c08, 0x39db, 0xbce0, 0xef67, 0x32e, 0xf2c1, 0x1, 0x0);
        gbc.writeMem(0x9c08, { 0x54 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x39db, gbc.sp());
        EXPECT(0x9c09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9c08));
        // 54 02D7
        gbc.setState(0x2900, 0x5909, 0xc880, 0xc57a, 0x778, 0x229, 0x0, 0x1);
        gbc.writeMem(0x2900, { 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x5909, gbc.sp());
        EXPECT(0x2901, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02D8
        gbc.setState(0x3796, 0x277f, 0x3080, 0x4b2c, 0xb262, 0x829b, 0x1, 0x1);
        gbc.writeMem(0x3796, { 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x277f, gbc.sp());
        EXPECT(0x3797, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02D9
        gbc.setState(0xa33d, 0xf3e4, 0x1ea0, 0xcc4e, 0x8ac4, 0xcc4, 0x0, 0x0);
        gbc.writeMem(0xa33d, { 0x54 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xf3e4, gbc.sp());
        EXPECT(0xa33e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa33d));
        // 54 02DA
        gbc.setState(0x4f34, 0x6ae, 0x6170, 0x4e7e, 0xbf01, 0x87a6, 0x0, 0x1);
        gbc.writeMem(0x4f34, { 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x6ae, gbc.sp());
        EXPECT(0x4f35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02DB
        gbc.setState(0x6298, 0x7f7b, 0xa350, 0x8d07, 0x25ca, 0xb343, 0x0, 0x1);
        gbc.writeMem(0x6298, { 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x7f7b, gbc.sp());
        EXPECT(0x6299, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02DC
        gbc.setState(0x3aba, 0x6463, 0xeb50, 0x5a55, 0x89fa, 0x38db, 0x1, 0x1);
        gbc.writeMem(0x3aba, { 0x54 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x6463, gbc.sp());
        EXPECT(0x3abb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02DD
        gbc.setState(0x6c8a, 0x8016, 0x4950, 0xde6e, 0x289, 0x6d42, 0x0, 0x0);
        gbc.writeMem(0x6c8a, { 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x8016, gbc.sp());
        EXPECT(0x6c8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02DE
        gbc.setState(0x895f, 0x1471, 0xdf0, 0xc1c5, 0xdf73, 0xd8cc, 0x0, 0x1);
        gbc.writeMem(0x895f, { 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x1471, gbc.sp());
        EXPECT(0x8960, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x895f));
        // 54 02DF
        gbc.setState(0xf1c, 0x756d, 0x3490, 0x4cba, 0x2141, 0x68a2, 0x0, 0x0);
        gbc.writeMem(0xf1c, { 0x54 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x756d, gbc.sp());
        EXPECT(0xf1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02E0
        gbc.setState(0x5b39, 0x81cf, 0x6ca0, 0xe87c, 0xe915, 0x6372, 0x1, 0x0);
        gbc.writeMem(0x5b39, { 0x54 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x81cf, gbc.sp());
        EXPECT(0x5b3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02E2
        gbc.setState(0xdb97, 0x89f9, 0x4170, 0xa500, 0xef28, 0x5cf3, 0x0, 0x0);
        gbc.writeMem(0xdb97, { 0x54 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x89f9, gbc.sp());
        EXPECT(0xdb98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdb97));
        // 54 02E3
        gbc.setState(0x16e, 0x43bd, 0x7c90, 0x850a, 0x47ae, 0xf02f, 0x0, 0x1);
        gbc.writeMem(0x16e, { 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x43bd, gbc.sp());
        EXPECT(0x16f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02E4
        gbc.setState(0x94bb, 0xfc79, 0x27d0, 0x2c2c, 0xe19e, 0xea9e, 0x1, 0x0);
        gbc.writeMem(0x94bb, { 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xfc79, gbc.sp());
        EXPECT(0x94bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x94bb));
        // 54 02E5
        gbc.setState(0xa604, 0xca5b, 0x9700, 0x226d, 0xc556, 0xf315, 0x1, 0x0);
        gbc.writeMem(0xa604, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xca5b, gbc.sp());
        EXPECT(0xa605, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa604));
        // 54 02E6
        gbc.setState(0x1412, 0x9782, 0x3eb0, 0x5b94, 0x91c2, 0xbd74, 0x0, 0x1);
        gbc.writeMem(0x1412, { 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x9782, gbc.sp());
        EXPECT(0x1413, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02E7
        gbc.setState(0x8971, 0x34f2, 0xe5c0, 0x3ef, 0xefbf, 0x6213, 0x1, 0x1);
        gbc.writeMem(0x8971, { 0x54 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x34f2, gbc.sp());
        EXPECT(0x8972, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8971));
        // 54 02E8
        gbc.setState(0x2452, 0x3f28, 0x3660, 0x97c8, 0xba29, 0x5cf4, 0x1, 0x1);
        gbc.writeMem(0x2452, { 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x3f28, gbc.sp());
        EXPECT(0x2453, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02E9
        gbc.setState(0x902c, 0xf8ab, 0xcc00, 0xb93b, 0xaefa, 0xd80b, 0x0, 0x0);
        gbc.writeMem(0x902c, { 0x54 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xf8ab, gbc.sp());
        EXPECT(0x902d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x902c));
        // 54 02EC
        gbc.setState(0x5a60, 0x9113, 0x1710, 0x30c6, 0xaea0, 0xceee, 0x0, 0x0);
        gbc.writeMem(0x5a60, { 0x54 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x9113, gbc.sp());
        EXPECT(0x5a61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02ED
        gbc.setState(0x4e1f, 0x1222, 0x5580, 0x124e, 0xa42e, 0x1b98, 0x1, 0x1);
        gbc.writeMem(0x4e1f, { 0x54 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x1222, gbc.sp());
        EXPECT(0x4e20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02EE
        gbc.setState(0xca8a, 0xbdbf, 0x10b0, 0xe6d0, 0x43dc, 0x3feb, 0x0, 0x0);
        gbc.writeMem(0xca8a, { 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xbdbf, gbc.sp());
        EXPECT(0xca8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xca8a));
        // 54 02EF
        gbc.setState(0x3932, 0x1771, 0xfae0, 0x9922, 0x4c51, 0x231, 0x1, 0x0);
        gbc.writeMem(0x3932, { 0x54 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x1771, gbc.sp());
        EXPECT(0x3933, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02F0
        gbc.setState(0xe768, 0xc09d, 0x6f40, 0x3ab4, 0xe8ed, 0x8a53, 0x0, 0x1);
        gbc.writeMem(0xe768, { 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xc09d, gbc.sp());
        EXPECT(0xe769, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe768));
        // 54 02F1
        gbc.setState(0x2b73, 0x6c25, 0xd080, 0xbadd, 0x2570, 0x8130, 0x1, 0x0);
        gbc.writeMem(0x2b73, { 0x54 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x6c25, gbc.sp());
        EXPECT(0x2b74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02F2
        gbc.setState(0x1998, 0x3bfa, 0xbf70, 0x1a69, 0xa776, 0x764e, 0x0, 0x1);
        gbc.writeMem(0x1998, { 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x3bfa, gbc.sp());
        EXPECT(0x1999, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02F3
        gbc.setState(0x937a, 0xb021, 0xefd0, 0x6272, 0x7943, 0xb6fd, 0x1, 0x1);
        gbc.writeMem(0x937a, { 0x54 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xb021, gbc.sp());
        EXPECT(0x937b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x937a));
        // 54 02F4
        gbc.setState(0x36f0, 0xd781, 0xb900, 0x64, 0xf83, 0x3523, 0x1, 0x1);
        gbc.writeMem(0x36f0, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd781, gbc.sp());
        EXPECT(0x36f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02F5
        gbc.setState(0x760d, 0xe1d2, 0xce30, 0xb4ef, 0xe277, 0xdc9c, 0x1, 0x0);
        gbc.writeMem(0x760d, { 0x54 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xe1d2, gbc.sp());
        EXPECT(0x760e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02F6
        gbc.setState(0x7f6f, 0x5358, 0x1100, 0xe82, 0xbe04, 0x8843, 0x1, 0x0);
        gbc.writeMem(0x7f6f, { 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x5358, gbc.sp());
        EXPECT(0x7f70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02F7
        gbc.setState(0xa9a4, 0x5106, 0x5230, 0x76f0, 0x2c1d, 0x1322, 0x1, 0x1);
        gbc.writeMem(0xa9a4, { 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x5106, gbc.sp());
        EXPECT(0xa9a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa9a4));
        // 54 02F8
        gbc.setState(0x32b7, 0xe053, 0x7cc0, 0x4081, 0x2f7f, 0x4916, 0x0, 0x1);
        gbc.writeMem(0x32b7, { 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xe053, gbc.sp());
        EXPECT(0x32b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 02F9
        gbc.setState(0x2ff8, 0xe926, 0xef0, 0x5637, 0x2392, 0xe86e, 0x1, 0x0);
        gbc.writeMem(0x2ff8, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe926, gbc.sp());
        EXPECT(0x2ff9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02FA
        gbc.setState(0x71b0, 0x6df3, 0xb3b0, 0x770c, 0x70b7, 0x35bf, 0x1, 0x1);
        gbc.writeMem(0x71b0, { 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x6df3, gbc.sp());
        EXPECT(0x71b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02FB
        gbc.setState(0x960b, 0xaef1, 0xa80, 0xfff9, 0x4d89, 0x57fb, 0x0, 0x0);
        gbc.writeMem(0x960b, { 0x54 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xaef1, gbc.sp());
        EXPECT(0x960c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x960b));
        // 54 02FC
        gbc.setState(0xb55c, 0x5cd, 0x73c0, 0x230a, 0x5423, 0x50f0, 0x0, 0x0);
        gbc.writeMem(0xb55c, { 0x54 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5cd, gbc.sp());
        EXPECT(0xb55d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb55c));
        // 54 02FD
        gbc.setState(0x5715, 0x2964, 0x8bd0, 0x7dc1, 0x9c1f, 0xfb6d, 0x1, 0x0);
        gbc.writeMem(0x5715, { 0x54 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x2964, gbc.sp());
        EXPECT(0x5716, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 02FE
        gbc.setState(0x99eb, 0xac8, 0x99a0, 0xb992, 0x9c22, 0xa8d2, 0x0, 0x0);
        gbc.writeMem(0x99eb, { 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xac8, gbc.sp());
        EXPECT(0x99ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x99eb));
        // 54 02FF
        gbc.setState(0xcaa4, 0x6366, 0xe3f0, 0xb9bc, 0x9fef, 0x2b3d, 0x0, 0x1);
        gbc.writeMem(0xcaa4, { 0x54 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x6366, gbc.sp());
        EXPECT(0xcaa5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcaa4));
        // 54 0301
        gbc.setState(0xa4bd, 0xe14, 0xd00, 0x5aab, 0xfa7c, 0xc7b5, 0x1, 0x1);
        gbc.writeMem(0xa4bd, { 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xe14, gbc.sp());
        EXPECT(0xa4be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa4bd));
        // 54 0302
        gbc.setState(0x9c09, 0xbecd, 0xe70, 0xc202, 0x770b, 0x3c20, 0x1, 0x1);
        gbc.writeMem(0x9c09, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xbecd, gbc.sp());
        EXPECT(0x9c0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9c09));
        // 54 0303
        gbc.setState(0x4e4e, 0xa7b3, 0xdac0, 0x8183, 0x37e5, 0x4695, 0x1, 0x0);
        gbc.writeMem(0x4e4e, { 0x54 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xa7b3, gbc.sp());
        EXPECT(0x4e4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0304
        gbc.setState(0x5e64, 0x979e, 0x7ff0, 0xf38a, 0xbb7c, 0x21db, 0x0, 0x1);
        gbc.writeMem(0x5e64, { 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x979e, gbc.sp());
        EXPECT(0x5e65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0305
        gbc.setState(0xda83, 0x82a0, 0xa380, 0xbfdc, 0x5709, 0xa699, 0x1, 0x1);
        gbc.writeMem(0xda83, { 0x54 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x82a0, gbc.sp());
        EXPECT(0xda84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xda83));
        // 54 0306
        gbc.setState(0xb23e, 0x712f, 0x1e90, 0x999e, 0xfa07, 0xd39b, 0x1, 0x0);
        gbc.writeMem(0xb23e, { 0x54 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x712f, gbc.sp());
        EXPECT(0xb23f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb23e));
        // 54 0308
        gbc.setState(0x9e19, 0x5216, 0x1640, 0x3780, 0x36ff, 0xf1ce, 0x0, 0x0);
        gbc.writeMem(0x9e19, { 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x5216, gbc.sp());
        EXPECT(0x9e1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9e19));
        // 54 0309
        gbc.setState(0xb407, 0xc2d, 0x62f0, 0xdad5, 0x25ee, 0xf1c6, 0x0, 0x1);
        gbc.writeMem(0xb407, { 0x54 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xc2d, gbc.sp());
        EXPECT(0xb408, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb407));
        // 54 030A
        gbc.setState(0xb944, 0x454, 0x7cb0, 0x292b, 0xa86d, 0xd86e, 0x0, 0x0);
        gbc.writeMem(0xb944, { 0x54 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x454, gbc.sp());
        EXPECT(0xb945, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb944));
        // 54 030B
        gbc.setState(0xe43e, 0xc422, 0x56b0, 0x89f0, 0xea2c, 0xeba7, 0x1, 0x0);
        gbc.writeMem(0xe43e, { 0x54 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xc422, gbc.sp());
        EXPECT(0xe43f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe43e));
        // 54 030C
        gbc.setState(0x7f6f, 0xf1f9, 0x3b20, 0x3a44, 0xdfd5, 0xec31, 0x1, 0x1);
        gbc.writeMem(0x7f6f, { 0x54 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xf1f9, gbc.sp());
        EXPECT(0x7f70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 030D
        gbc.setState(0x9072, 0x46c, 0x9f70, 0xcdf1, 0x4a93, 0x81ac, 0x0, 0x0);
        gbc.writeMem(0x9072, { 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x46c, gbc.sp());
        EXPECT(0x9073, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9072));
        // 54 030E
        gbc.setState(0x8f5c, 0x3348, 0x4300, 0x8ac1, 0xf2e3, 0x7068, 0x1, 0x0);
        gbc.writeMem(0x8f5c, { 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x3348, gbc.sp());
        EXPECT(0x8f5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8f5c));
        // 54 030F
        gbc.setState(0xbf2e, 0x41ed, 0xfbb0, 0x730f, 0x9129, 0xe233, 0x0, 0x1);
        gbc.writeMem(0xbf2e, { 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x41ed, gbc.sp());
        EXPECT(0xbf2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbf2e));
        // 54 0310
        gbc.setState(0x7eab, 0x8188, 0xf5d0, 0x6991, 0x9326, 0xfb17, 0x1, 0x1);
        gbc.writeMem(0x7eab, { 0x54 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x8188, gbc.sp());
        EXPECT(0x7eac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0311
        gbc.setState(0xb61b, 0x56b1, 0x1b60, 0x1fc5, 0xa6f0, 0x909a, 0x1, 0x1);
        gbc.writeMem(0xb61b, { 0x54 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x56b1, gbc.sp());
        EXPECT(0xb61c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb61b));
        // 54 0313
        gbc.setState(0x795e, 0xe799, 0xb890, 0xa579, 0x155, 0x4190, 0x0, 0x0);
        gbc.writeMem(0x795e, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xe799, gbc.sp());
        EXPECT(0x795f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0314
        gbc.setState(0x9bbb, 0xe88e, 0x8d0, 0x3cd5, 0xf685, 0xf5c0, 0x0, 0x0);
        gbc.writeMem(0x9bbb, { 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xe88e, gbc.sp());
        EXPECT(0x9bbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9bbb));
        // 54 0315
        gbc.setState(0x40a2, 0x7462, 0x690, 0x2d0b, 0xe132, 0xfc34, 0x1, 0x0);
        gbc.writeMem(0x40a2, { 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x7462, gbc.sp());
        EXPECT(0x40a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0316
        gbc.setState(0x1a60, 0x9889, 0x8d50, 0x66c4, 0x4ccf, 0xa9d3, 0x1, 0x1);
        gbc.writeMem(0x1a60, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x9889, gbc.sp());
        EXPECT(0x1a61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0317
        gbc.setState(0xcfef, 0x14ee, 0x2a0, 0xe273, 0x5d9f, 0x2699, 0x1, 0x1);
        gbc.writeMem(0xcfef, { 0x54 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x14ee, gbc.sp());
        EXPECT(0xcff0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcfef));
        // 54 0318
        gbc.setState(0x9754, 0x5577, 0xf210, 0xfa2, 0xd6f3, 0x1f79, 0x1, 0x0);
        gbc.writeMem(0x9754, { 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x5577, gbc.sp());
        EXPECT(0x9755, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9754));
        // 54 0319
        gbc.setState(0xd47a, 0xd357, 0xff40, 0x2d3e, 0xf995, 0x84f6, 0x1, 0x1);
        gbc.writeMem(0xd47a, { 0x54 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xd357, gbc.sp());
        EXPECT(0xd47b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd47a));
        // 54 031A
        gbc.setState(0x1c88, 0x6c52, 0xb030, 0xcae2, 0xf1fc, 0xf3fa, 0x1, 0x0);
        gbc.writeMem(0x1c88, { 0x54 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x6c52, gbc.sp());
        EXPECT(0x1c89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 031B
        gbc.setState(0x2b55, 0x7d48, 0x3e30, 0x5a32, 0x7a7a, 0xa9f, 0x0, 0x1);
        gbc.writeMem(0x2b55, { 0x54 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x7d48, gbc.sp());
        EXPECT(0x2b56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 031C
        gbc.setState(0x293b, 0xa7c4, 0x6490, 0xc4ec, 0xc30, 0xb194, 0x0, 0x1);
        gbc.writeMem(0x293b, { 0x54 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xa7c4, gbc.sp());
        EXPECT(0x293c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 031D
        gbc.setState(0xacda, 0x2f52, 0x9e90, 0xe60e, 0xccf5, 0xbc6c, 0x0, 0x1);
        gbc.writeMem(0xacda, { 0x54 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x2f52, gbc.sp());
        EXPECT(0xacdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xacda));
        // 54 031E
        gbc.setState(0x87ea, 0xca70, 0x1ee0, 0x5c80, 0x7a88, 0xc597, 0x1, 0x1);
        gbc.writeMem(0x87ea, { 0x54 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xca70, gbc.sp());
        EXPECT(0x87eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x87ea));
        // 54 031F
        gbc.setState(0x4d34, 0xbe9, 0xfab0, 0x81c2, 0x8243, 0xfe10, 0x0, 0x0);
        gbc.writeMem(0x4d34, { 0x54 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xbe9, gbc.sp());
        EXPECT(0x4d35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0320
        gbc.setState(0xc7f6, 0x7326, 0xfbc0, 0xd1c8, 0xa963, 0xe87e, 0x0, 0x0);
        gbc.writeMem(0xc7f6, { 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x7326, gbc.sp());
        EXPECT(0xc7f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc7f6));
        // 54 0321
        gbc.setState(0xa9aa, 0x94bd, 0xc00, 0x75b6, 0xa9b2, 0x3c0a, 0x1, 0x0);
        gbc.writeMem(0xa9aa, { 0x54 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x94bd, gbc.sp());
        EXPECT(0xa9ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa9aa));
        // 54 0322
        gbc.setState(0xb8ab, 0x45e4, 0x4b80, 0x33e5, 0x79da, 0x37a5, 0x1, 0x1);
        gbc.writeMem(0xb8ab, { 0x54 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x45e4, gbc.sp());
        EXPECT(0xb8ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb8ab));
        // 54 0323
        gbc.setState(0x55d4, 0x278c, 0xb520, 0xf41, 0x5734, 0xee31, 0x1, 0x1);
        gbc.writeMem(0x55d4, { 0x54 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x278c, gbc.sp());
        EXPECT(0x55d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0324
        gbc.setState(0x12f5, 0x236b, 0xe20, 0x3c79, 0xada7, 0x2385, 0x0, 0x1);
        gbc.writeMem(0x12f5, { 0x54 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x236b, gbc.sp());
        EXPECT(0x12f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0325
        gbc.setState(0x981a, 0x6376, 0x2800, 0x1ab5, 0x767, 0x8dee, 0x1, 0x0);
        gbc.writeMem(0x981a, { 0x54 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x6376, gbc.sp());
        EXPECT(0x981b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x981a));
        // 54 0326
        gbc.setState(0x3301, 0x12c4, 0x3810, 0xf9a2, 0x98e2, 0xcc08, 0x0, 0x1);
        gbc.writeMem(0x3301, { 0x54 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x12c4, gbc.sp());
        EXPECT(0x3302, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0327
        gbc.setState(0x1c0e, 0x1ec4, 0xc5c0, 0xcfe, 0xac14, 0x7cc2, 0x1, 0x1);
        gbc.writeMem(0x1c0e, { 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x1ec4, gbc.sp());
        EXPECT(0x1c0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0328
        gbc.setState(0x5b28, 0x3cd9, 0x7670, 0xecd, 0xd6c2, 0xbfa, 0x1, 0x0);
        gbc.writeMem(0x5b28, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x3cd9, gbc.sp());
        EXPECT(0x5b29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0329
        gbc.setState(0xa119, 0x2c, 0x4780, 0xc2e9, 0x3166, 0x88d4, 0x1, 0x0);
        gbc.writeMem(0xa119, { 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x2c, gbc.sp());
        EXPECT(0xa11a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa119));
        // 54 032A
        gbc.setState(0x1d69, 0xf3f9, 0x9030, 0x642d, 0x3bc7, 0xca17, 0x0, 0x1);
        gbc.writeMem(0x1d69, { 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xf3f9, gbc.sp());
        EXPECT(0x1d6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 032B
        gbc.setState(0x31c5, 0x4dd3, 0xfb50, 0x9e57, 0xfdca, 0x8ad1, 0x0, 0x1);
        gbc.writeMem(0x31c5, { 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x4dd3, gbc.sp());
        EXPECT(0x31c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 032C
        gbc.setState(0x3e0, 0x8a16, 0x17c0, 0x52f5, 0xfecc, 0xb5b6, 0x1, 0x0);
        gbc.writeMem(0x3e0, { 0x54 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x8a16, gbc.sp());
        EXPECT(0x3e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 032D
        gbc.setState(0x2041, 0xab2c, 0xe0a0, 0x6563, 0xff6e, 0x7a99, 0x1, 0x1);
        gbc.writeMem(0x2041, { 0x54 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xab2c, gbc.sp());
        EXPECT(0x2042, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 032E
        gbc.setState(0xa761, 0x91fb, 0xba90, 0xd1a, 0xd70f, 0x70c5, 0x1, 0x0);
        gbc.writeMem(0xa761, { 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x91fb, gbc.sp());
        EXPECT(0xa762, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa761));
        // 54 032F
        gbc.setState(0xc65e, 0x4410, 0xdfd0, 0x486f, 0xe86f, 0xa20b, 0x1, 0x1);
        gbc.writeMem(0xc65e, { 0x54 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x4410, gbc.sp());
        EXPECT(0xc65f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc65e));
        // 54 0330
        gbc.setState(0x9789, 0xb764, 0x8100, 0x9484, 0xb714, 0xfd45, 0x0, 0x1);
        gbc.writeMem(0x9789, { 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xb764, gbc.sp());
        EXPECT(0x978a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9789));
        // 54 0332
        gbc.setState(0xbe54, 0x18ea, 0x330, 0x534d, 0x73df, 0xfc50, 0x0, 0x1);
        gbc.writeMem(0xbe54, { 0x54 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x18ea, gbc.sp());
        EXPECT(0xbe55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbe54));
        // 54 0333
        gbc.setState(0x3cfe, 0xf1e0, 0x8af0, 0x4505, 0x8716, 0x5d6, 0x1, 0x1);
        gbc.writeMem(0x3cfe, { 0x54 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xf1e0, gbc.sp());
        EXPECT(0x3cff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0334
        gbc.setState(0x23d3, 0x9883, 0x7e00, 0x23f1, 0x719f, 0x2daa, 0x0, 0x0);
        gbc.writeMem(0x23d3, { 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x9883, gbc.sp());
        EXPECT(0x23d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0335
        gbc.setState(0xefc4, 0x763b, 0x1c30, 0xa4a2, 0x761d, 0x150e, 0x1, 0x1);
        gbc.writeMem(0xefc4, { 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x763b, gbc.sp());
        EXPECT(0xefc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xefc4));
        // 54 0336
        gbc.setState(0x9263, 0x9d25, 0xa5f0, 0xf8a9, 0x791, 0x5535, 0x1, 0x0);
        gbc.writeMem(0x9263, { 0x54 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x9d25, gbc.sp());
        EXPECT(0x9264, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9263));
        // 54 0337
        gbc.setState(0x4303, 0xea98, 0xdce0, 0xb611, 0x854, 0xe13e, 0x1, 0x1);
        gbc.writeMem(0x4303, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xea98, gbc.sp());
        EXPECT(0x4304, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0338
        gbc.setState(0x775d, 0xe7dd, 0x3d40, 0xfbe2, 0x2e70, 0xc6aa, 0x1, 0x1);
        gbc.writeMem(0x775d, { 0x54 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xe7dd, gbc.sp());
        EXPECT(0x775e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0339
        gbc.setState(0x1363, 0xefa1, 0xea60, 0x60eb, 0x7eab, 0xb459, 0x0, 0x0);
        gbc.writeMem(0x1363, { 0x54 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xefa1, gbc.sp());
        EXPECT(0x1364, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 033A
        gbc.setState(0xc7b7, 0x1145, 0x7820, 0x1c90, 0x1437, 0xd22a, 0x1, 0x1);
        gbc.writeMem(0xc7b7, { 0x54 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x1145, gbc.sp());
        EXPECT(0xc7b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc7b7));
        // 54 033B
        gbc.setState(0xb41b, 0x9c60, 0x1790, 0xa952, 0x1189, 0x14f2, 0x1, 0x1);
        gbc.writeMem(0xb41b, { 0x54 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x9c60, gbc.sp());
        EXPECT(0xb41c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb41b));
        // 54 033C
        gbc.setState(0xc096, 0xac80, 0x5930, 0x10f1, 0xdd76, 0x13fa, 0x1, 0x0);
        gbc.writeMem(0xc096, { 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xac80, gbc.sp());
        EXPECT(0xc097, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc096));
        // 54 033D
        gbc.setState(0x3d1f, 0xf8e8, 0x39c0, 0xf7f, 0xb06c, 0xf250, 0x0, 0x0);
        gbc.writeMem(0x3d1f, { 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xf8e8, gbc.sp());
        EXPECT(0x3d20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 033E
        gbc.setState(0xcee5, 0x6827, 0x9630, 0x59b8, 0xf2f9, 0xbf8, 0x0, 0x0);
        gbc.writeMem(0xcee5, { 0x54 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x6827, gbc.sp());
        EXPECT(0xcee6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcee5));
        // 54 033F
        gbc.setState(0xc90e, 0x158b, 0xd330, 0xa887, 0x643a, 0x5129, 0x0, 0x0);
        gbc.writeMem(0xc90e, { 0x54 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x158b, gbc.sp());
        EXPECT(0xc90f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc90e));
        // 54 0340
        gbc.setState(0x69b5, 0xc86e, 0xf260, 0x79ae, 0xb47e, 0x80fd, 0x1, 0x1);
        gbc.writeMem(0x69b5, { 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xc86e, gbc.sp());
        EXPECT(0x69b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0341
        gbc.setState(0x2e4d, 0xd920, 0xe300, 0x64d4, 0x7e31, 0x9890, 0x1, 0x0);
        gbc.writeMem(0x2e4d, { 0x54 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xd920, gbc.sp());
        EXPECT(0x2e4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0342
        gbc.setState(0x1cf5, 0xf074, 0x4e60, 0x1129, 0x5fca, 0x2779, 0x0, 0x1);
        gbc.writeMem(0x1cf5, { 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xf074, gbc.sp());
        EXPECT(0x1cf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0343
        gbc.setState(0xb44a, 0x96d, 0x1820, 0xc03b, 0xedb8, 0x4ea4, 0x0, 0x0);
        gbc.writeMem(0xb44a, { 0x54 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x96d, gbc.sp());
        EXPECT(0xb44b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb44a));
        // 54 0344
        gbc.setState(0x4ad3, 0x1a82, 0xb870, 0x8294, 0x93cb, 0xb143, 0x0, 0x0);
        gbc.writeMem(0x4ad3, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x1a82, gbc.sp());
        EXPECT(0x4ad4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0345
        gbc.setState(0x8a42, 0x974, 0xa660, 0x7b35, 0xdc8f, 0x6b37, 0x0, 0x0);
        gbc.writeMem(0x8a42, { 0x54 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x974, gbc.sp());
        EXPECT(0x8a43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8a42));
        // 54 0346
        gbc.setState(0xb90a, 0xa9f9, 0xb4a0, 0xb45f, 0xd195, 0x565, 0x1, 0x1);
        gbc.writeMem(0xb90a, { 0x54 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xa9f9, gbc.sp());
        EXPECT(0xb90b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb90a));
        // 54 0348
        gbc.setState(0x8b43, 0x35b, 0xbab0, 0x49eb, 0x343d, 0xf224, 0x1, 0x0);
        gbc.writeMem(0x8b43, { 0x54 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x35b, gbc.sp());
        EXPECT(0x8b44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8b43));
        // 54 0349
        gbc.setState(0x87d4, 0x6b79, 0xf3b0, 0xf462, 0x964, 0xd998, 0x0, 0x0);
        gbc.writeMem(0x87d4, { 0x54 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x6b79, gbc.sp());
        EXPECT(0x87d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x87d4));
        // 54 034A
        gbc.setState(0x8321, 0x9b5e, 0xeec0, 0x9028, 0x2923, 0xf142, 0x0, 0x1);
        gbc.writeMem(0x8321, { 0x54 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x9b5e, gbc.sp());
        EXPECT(0x8322, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8321));
        // 54 034B
        gbc.setState(0x2cb0, 0x79ac, 0x98f0, 0xec93, 0x88bc, 0xbbfa, 0x1, 0x1);
        gbc.writeMem(0x2cb0, { 0x54 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x79ac, gbc.sp());
        EXPECT(0x2cb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 034C
        gbc.setState(0xd645, 0xe9b9, 0x9560, 0x9cea, 0xafb9, 0xcfe4, 0x0, 0x1);
        gbc.writeMem(0xd645, { 0x54 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xe9b9, gbc.sp());
        EXPECT(0xd646, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd645));
        // 54 034D
        gbc.setState(0xa786, 0x5c7f, 0x2ec0, 0xfda5, 0xc70e, 0xe80b, 0x1, 0x0);
        gbc.writeMem(0xa786, { 0x54 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x5c7f, gbc.sp());
        EXPECT(0xa787, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa786));
        // 54 034E
        gbc.setState(0xd567, 0x2aee, 0x6560, 0x1e84, 0x7a71, 0x76cf, 0x0, 0x1);
        gbc.writeMem(0xd567, { 0x54 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2aee, gbc.sp());
        EXPECT(0xd568, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd567));
        // 54 034F
        gbc.setState(0x8e6b, 0xde35, 0x3070, 0xba0f, 0x5a1f, 0xcd29, 0x0, 0x1);
        gbc.writeMem(0x8e6b, { 0x54 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xde35, gbc.sp());
        EXPECT(0x8e6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8e6b));
        // 54 0351
        gbc.setState(0x8c3e, 0xd757, 0x5960, 0x4, 0xabf6, 0xc3ed, 0x1, 0x0);
        gbc.writeMem(0x8c3e, { 0x54 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xd757, gbc.sp());
        EXPECT(0x8c3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8c3e));
        // 54 0352
        gbc.setState(0x8978, 0xcc23, 0x110, 0xba51, 0x821c, 0xd40d, 0x1, 0x1);
        gbc.writeMem(0x8978, { 0x54 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xcc23, gbc.sp());
        EXPECT(0x8979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8978));
        // 54 0353
        gbc.setState(0x9d4f, 0x8756, 0x7f50, 0x9492, 0xd8f2, 0xc7f1, 0x0, 0x0);
        gbc.writeMem(0x9d4f, { 0x54 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x8756, gbc.sp());
        EXPECT(0x9d50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9d4f));
        // 54 0354
        gbc.setState(0xe557, 0x6e99, 0x6360, 0x573b, 0xa664, 0x603, 0x1, 0x0);
        gbc.writeMem(0xe557, { 0x54 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x6e99, gbc.sp());
        EXPECT(0xe558, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe557));
        // 54 0355
        gbc.setState(0xdb1a, 0x66be, 0xae40, 0xc9e5, 0x5db5, 0x46e7, 0x0, 0x0);
        gbc.writeMem(0xdb1a, { 0x54 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x66be, gbc.sp());
        EXPECT(0xdb1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdb1a));
        // 54 0356
        gbc.setState(0xc384, 0xf14e, 0x1130, 0x3cd5, 0x4168, 0xd0f8, 0x1, 0x0);
        gbc.writeMem(0xc384, { 0x54 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf14e, gbc.sp());
        EXPECT(0xc385, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc384));
        // 54 0357
        gbc.setState(0x28fe, 0x6179, 0x1080, 0xd669, 0x55b, 0x3337, 0x0, 0x0);
        gbc.writeMem(0x28fe, { 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x6179, gbc.sp());
        EXPECT(0x28ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0358
        gbc.setState(0x88ae, 0x77a, 0x35f0, 0xdc24, 0x58bb, 0x6a85, 0x1, 0x1);
        gbc.writeMem(0x88ae, { 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x77a, gbc.sp());
        EXPECT(0x88af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x88ae));
        // 54 0359
        gbc.setState(0xe4b9, 0xf69f, 0x5cb0, 0x389, 0x7044, 0xfd88, 0x0, 0x1);
        gbc.writeMem(0xe4b9, { 0x54 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xf69f, gbc.sp());
        EXPECT(0xe4ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe4b9));
        // 54 035A
        gbc.setState(0xbc94, 0x6494, 0xaec0, 0x28ac, 0x886a, 0x2bb7, 0x0, 0x1);
        gbc.writeMem(0xbc94, { 0x54 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x6494, gbc.sp());
        EXPECT(0xbc95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbc94));
        // 54 035B
        gbc.setState(0x35cb, 0xec90, 0x1560, 0x82f2, 0x9d5d, 0x1702, 0x1, 0x0);
        gbc.writeMem(0x35cb, { 0x54 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xec90, gbc.sp());
        EXPECT(0x35cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 035C
        gbc.setState(0x62e8, 0xd85e, 0x8130, 0x1f8, 0x302c, 0xf11b, 0x0, 0x0);
        gbc.writeMem(0x62e8, { 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xd85e, gbc.sp());
        EXPECT(0x62e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 035D
        gbc.setState(0x648f, 0xf5ab, 0x9a0, 0xb700, 0xb701, 0xb891, 0x0, 0x0);
        gbc.writeMem(0x648f, { 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xf5ab, gbc.sp());
        EXPECT(0x6490, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 035E
        gbc.setState(0xb005, 0x62b5, 0x3750, 0x57a9, 0x926c, 0x1548, 0x0, 0x1);
        gbc.writeMem(0xb005, { 0x54 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x62b5, gbc.sp());
        EXPECT(0xb006, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb005));
        // 54 035F
        gbc.setState(0x17e3, 0x792c, 0xa410, 0xc0af, 0xe5c7, 0xcdcb, 0x1, 0x0);
        gbc.writeMem(0x17e3, { 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x792c, gbc.sp());
        EXPECT(0x17e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0360
        gbc.setState(0x1e62, 0xb42a, 0xd40, 0x613d, 0x9e8e, 0xf7bd, 0x0, 0x1);
        gbc.writeMem(0x1e62, { 0x54 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xb42a, gbc.sp());
        EXPECT(0x1e63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0361
        gbc.setState(0x3171, 0x8772, 0x8830, 0xf069, 0x110f, 0x9dbf, 0x1, 0x0);
        gbc.writeMem(0x3171, { 0x54 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x8772, gbc.sp());
        EXPECT(0x3172, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0362
        gbc.setState(0xcc04, 0x598d, 0x6b30, 0x7d63, 0xd9fb, 0x5963, 0x1, 0x0);
        gbc.writeMem(0xcc04, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x598d, gbc.sp());
        EXPECT(0xcc05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcc04));
        // 54 0363
        gbc.setState(0x6741, 0x19b5, 0x46e0, 0x8134, 0x3367, 0xf2c3, 0x0, 0x1);
        gbc.writeMem(0x6741, { 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x19b5, gbc.sp());
        EXPECT(0x6742, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0364
        gbc.setState(0x78c4, 0xfc32, 0x3650, 0x21ad, 0x7d3a, 0x8421, 0x1, 0x1);
        gbc.writeMem(0x78c4, { 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xfc32, gbc.sp());
        EXPECT(0x78c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0365
        gbc.setState(0x802f, 0xc12c, 0x9e50, 0x13ea, 0xcca5, 0x17ac, 0x1, 0x0);
        gbc.writeMem(0x802f, { 0x54 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xc12c, gbc.sp());
        EXPECT(0x8030, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x802f));
        // 54 0366
        gbc.setState(0x2eac, 0x36cc, 0x1c20, 0xf48c, 0x5615, 0x4b0c, 0x0, 0x1);
        gbc.writeMem(0x2eac, { 0x54 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x36cc, gbc.sp());
        EXPECT(0x2ead, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0367
        gbc.setState(0x55b0, 0x6ee7, 0x2770, 0xceaf, 0x95ec, 0xf3fc, 0x1, 0x1);
        gbc.writeMem(0x55b0, { 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x6ee7, gbc.sp());
        EXPECT(0x55b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0368
        gbc.setState(0x5d81, 0x1030, 0xfd70, 0x3738, 0x9dcd, 0xbf66, 0x1, 0x1);
        gbc.writeMem(0x5d81, { 0x54 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x1030, gbc.sp());
        EXPECT(0x5d82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0369
        gbc.setState(0x49, 0x2d05, 0x8fa0, 0x9ab5, 0x7ae1, 0xb646, 0x1, 0x0);
        gbc.writeMem(0x49, { 0x54 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x2d05, gbc.sp());
        EXPECT(0x4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 036A
        gbc.setState(0x98b5, 0x6ba4, 0x6240, 0x8737, 0x6563, 0x5eec, 0x0, 0x0);
        gbc.writeMem(0x98b5, { 0x54 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x6ba4, gbc.sp());
        EXPECT(0x98b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x98b5));
        // 54 036B
        gbc.setState(0x1a90, 0x8b13, 0x7230, 0xe29d, 0xc974, 0x73f4, 0x0, 0x1);
        gbc.writeMem(0x1a90, { 0x54 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x8b13, gbc.sp());
        EXPECT(0x1a91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 036C
        gbc.setState(0xe75a, 0x6a4e, 0x9290, 0x17a6, 0xbcb, 0x7f80, 0x0, 0x0);
        gbc.writeMem(0xe75a, { 0x54 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x6a4e, gbc.sp());
        EXPECT(0xe75b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe75a));
        // 54 036D
        gbc.setState(0x7cbd, 0x1766, 0xaca0, 0x1b87, 0x799e, 0x65e5, 0x0, 0x1);
        gbc.writeMem(0x7cbd, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x1766, gbc.sp());
        EXPECT(0x7cbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 036E
        gbc.setState(0xe5e, 0x568e, 0x3640, 0x32a6, 0x1d65, 0xee4c, 0x1, 0x1);
        gbc.writeMem(0xe5e, { 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x568e, gbc.sp());
        EXPECT(0xe5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 036F
        gbc.setState(0x4860, 0xa778, 0xcda0, 0xec66, 0x2247, 0x5765, 0x1, 0x0);
        gbc.writeMem(0x4860, { 0x54 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xa778, gbc.sp());
        EXPECT(0x4861, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0370
        gbc.setState(0xafa0, 0x871d, 0x7430, 0x6a97, 0xa0ec, 0x2163, 0x1, 0x0);
        gbc.writeMem(0xafa0, { 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x871d, gbc.sp());
        EXPECT(0xafa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xafa0));
        // 54 0371
        gbc.setState(0xcd55, 0x877b, 0x9030, 0x5492, 0x37d9, 0x690a, 0x1, 0x0);
        gbc.writeMem(0xcd55, { 0x54 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x877b, gbc.sp());
        EXPECT(0xcd56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcd55));
        // 54 0372
        gbc.setState(0xafa5, 0xb5eb, 0x6f60, 0x60c7, 0xfa2a, 0x33a1, 0x0, 0x1);
        gbc.writeMem(0xafa5, { 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xb5eb, gbc.sp());
        EXPECT(0xafa6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xafa5));
        // 54 0373
        gbc.setState(0x3b6b, 0xf708, 0x1020, 0x4e12, 0xf65e, 0x1daf, 0x0, 0x1);
        gbc.writeMem(0x3b6b, { 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xf708, gbc.sp());
        EXPECT(0x3b6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0374
        gbc.setState(0x1049, 0x116e, 0x2070, 0x8341, 0x1a3e, 0x8445, 0x1, 0x1);
        gbc.writeMem(0x1049, { 0x54 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x116e, gbc.sp());
        EXPECT(0x104a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0375
        gbc.setState(0xb066, 0x1e8a, 0xcf20, 0x6b23, 0xa659, 0xb7fd, 0x0, 0x0);
        gbc.writeMem(0xb066, { 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x1e8a, gbc.sp());
        EXPECT(0xb067, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb066));
        // 54 0376
        gbc.setState(0xc657, 0x6c04, 0x9cd0, 0x19ad, 0xdf3f, 0xe05, 0x0, 0x1);
        gbc.writeMem(0xc657, { 0x54 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x6c04, gbc.sp());
        EXPECT(0xc658, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc657));
        // 54 0377
        gbc.setState(0xa4eb, 0x132, 0x3920, 0xf1ba, 0x5455, 0x60be, 0x1, 0x1);
        gbc.writeMem(0xa4eb, { 0x54 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x132, gbc.sp());
        EXPECT(0xa4ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa4eb));
        // 54 0378
        gbc.setState(0x7a61, 0xf0e0, 0xebb0, 0x29ba, 0x27b4, 0x6b4d, 0x1, 0x0);
        gbc.writeMem(0x7a61, { 0x54 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf0e0, gbc.sp());
        EXPECT(0x7a62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0379
        gbc.setState(0x99c0, 0xf7ce, 0xe210, 0x6444, 0xd514, 0x7b0e, 0x1, 0x1);
        gbc.writeMem(0x99c0, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xf7ce, gbc.sp());
        EXPECT(0x99c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x99c0));
        // 54 037A
        gbc.setState(0xe9d2, 0x7259, 0xb340, 0x35fd, 0x4df9, 0x1792, 0x1, 0x1);
        gbc.writeMem(0xe9d2, { 0x54 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x7259, gbc.sp());
        EXPECT(0xe9d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe9d2));
        // 54 037B
        gbc.setState(0x822a, 0xafcc, 0x9df0, 0x669c, 0xa260, 0x7431, 0x1, 0x1);
        gbc.writeMem(0x822a, { 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xafcc, gbc.sp());
        EXPECT(0x822b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x822a));
        // 54 037C
        gbc.setState(0x7a9f, 0xa4d2, 0xc570, 0x426d, 0x142, 0xf404, 0x0, 0x1);
        gbc.writeMem(0x7a9f, { 0x54 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xa4d2, gbc.sp());
        EXPECT(0x7aa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 037D
        gbc.setState(0xdb51, 0xa49f, 0x6b60, 0xb1be, 0x4824, 0x57db, 0x1, 0x0);
        gbc.writeMem(0xdb51, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xa49f, gbc.sp());
        EXPECT(0xdb52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdb51));
        // 54 037E
        gbc.setState(0xdf6c, 0x37cb, 0xc950, 0x1650, 0xe27, 0xbc05, 0x0, 0x1);
        gbc.writeMem(0xdf6c, { 0x54 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x37cb, gbc.sp());
        EXPECT(0xdf6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf6c));
        // 54 0380
        gbc.setState(0x8553, 0xb994, 0xe3b0, 0x9d64, 0x446d, 0x4a38, 0x1, 0x1);
        gbc.writeMem(0x8553, { 0x54 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xb994, gbc.sp());
        EXPECT(0x8554, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8553));
        // 54 0381
        gbc.setState(0x1be4, 0xeb3a, 0x7d90, 0xed7f, 0x5c0d, 0x907a, 0x0, 0x1);
        gbc.writeMem(0x1be4, { 0x54 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xeb3a, gbc.sp());
        EXPECT(0x1be5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0382
        gbc.setState(0xb654, 0x1380, 0xe270, 0x57dd, 0x5b99, 0xe445, 0x0, 0x0);
        gbc.writeMem(0xb654, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x1380, gbc.sp());
        EXPECT(0xb655, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb654));
        // 54 0383
        gbc.setState(0x5230, 0x9988, 0xf860, 0xae9a, 0x97f, 0x3162, 0x0, 0x1);
        gbc.writeMem(0x5230, { 0x54 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9988, gbc.sp());
        EXPECT(0x5231, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0384
        gbc.setState(0x74ef, 0xf47b, 0xdcd0, 0x6704, 0xb5ef, 0xa9, 0x0, 0x1);
        gbc.writeMem(0x74ef, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf47b, gbc.sp());
        EXPECT(0x74f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0385
        gbc.setState(0x3685, 0x114c, 0xac80, 0x994e, 0xc723, 0x7479, 0x1, 0x1);
        gbc.writeMem(0x3685, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x114c, gbc.sp());
        EXPECT(0x3686, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0386
        gbc.setState(0x9d13, 0xbf20, 0x4e80, 0x14c0, 0x68b8, 0xc8d4, 0x1, 0x1);
        gbc.writeMem(0x9d13, { 0x54 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xbf20, gbc.sp());
        EXPECT(0x9d14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9d13));
        // 54 0387
        gbc.setState(0xc887, 0xda1b, 0xc2a0, 0x6152, 0xdf65, 0xc692, 0x1, 0x0);
        gbc.writeMem(0xc887, { 0x54 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xda1b, gbc.sp());
        EXPECT(0xc888, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc887));
        // 54 0388
        gbc.setState(0x33ee, 0x4019, 0x9af0, 0x9863, 0xa8bf, 0x893a, 0x0, 0x1);
        gbc.writeMem(0x33ee, { 0x54 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x4019, gbc.sp());
        EXPECT(0x33ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 0389
        gbc.setState(0x4a1f, 0x9c1b, 0x61e0, 0x363d, 0xd804, 0xe56f, 0x0, 0x0);
        gbc.writeMem(0x4a1f, { 0x54 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x9c1b, gbc.sp());
        EXPECT(0x4a20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 038A
        gbc.setState(0x130, 0x6aaf, 0x26d0, 0xe388, 0x8f9e, 0x640a, 0x0, 0x0);
        gbc.writeMem(0x130, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x6aaf, gbc.sp());
        EXPECT(0x131, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 038B
        gbc.setState(0xcf0e, 0x5fc5, 0x9980, 0xf3c7, 0x357f, 0xb162, 0x0, 0x0);
        gbc.writeMem(0xcf0e, { 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x5fc5, gbc.sp());
        EXPECT(0xcf0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcf0e));
        // 54 038C
        gbc.setState(0xab0a, 0xee05, 0xf670, 0x139f, 0x95bd, 0x3a9e, 0x0, 0x0);
        gbc.writeMem(0xab0a, { 0x54 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xee05, gbc.sp());
        EXPECT(0xab0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xab0a));
        // 54 038D
        gbc.setState(0xe82a, 0x9284, 0x4370, 0x6fa, 0x1208, 0x6719, 0x0, 0x0);
        gbc.writeMem(0xe82a, { 0x54 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x9284, gbc.sp());
        EXPECT(0xe82b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe82a));
        // 54 038E
        gbc.setState(0x69a4, 0x1a86, 0x1020, 0x9d4b, 0x35d2, 0xe5b5, 0x0, 0x1);
        gbc.writeMem(0x69a4, { 0x54 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x1a86, gbc.sp());
        EXPECT(0x69a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 038F
        gbc.setState(0xe28b, 0xbfb1, 0x6e30, 0xcf6f, 0x204a, 0xa35b, 0x1, 0x0);
        gbc.writeMem(0xe28b, { 0x54 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xbfb1, gbc.sp());
        EXPECT(0xe28c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe28b));
        // 54 0390
        gbc.setState(0x408f, 0xd7da, 0xed20, 0x5a22, 0x4ce, 0x9fb, 0x1, 0x1);
        gbc.writeMem(0x408f, { 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xd7da, gbc.sp());
        EXPECT(0x4090, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0391
        gbc.setState(0x13fe, 0xf611, 0x82e0, 0x46ee, 0x148c, 0x78b4, 0x1, 0x0);
        gbc.writeMem(0x13fe, { 0x54 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xf611, gbc.sp());
        EXPECT(0x13ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0392
        gbc.setState(0xe44a, 0x8bd1, 0x6a50, 0xfbf6, 0x1b10, 0xaa69, 0x0, 0x0);
        gbc.writeMem(0xe44a, { 0x54 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x8bd1, gbc.sp());
        EXPECT(0xe44b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe44a));
        // 54 0393
        gbc.setState(0xbc22, 0x1a99, 0x50c0, 0xf0c4, 0x682a, 0xb98f, 0x0, 0x0);
        gbc.writeMem(0xbc22, { 0x54 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x1a99, gbc.sp());
        EXPECT(0xbc23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xbc22));
        // 54 0394
        gbc.setState(0xf78, 0xff5a, 0x7a0, 0x30f9, 0x7e0d, 0xf743, 0x1, 0x0);
        gbc.writeMem(0xf78, { 0x54 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xff5a, gbc.sp());
        EXPECT(0xf79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 0395
        gbc.setState(0xb5b3, 0x75e3, 0xe2f0, 0x1595, 0xddc5, 0x3230, 0x0, 0x1);
        gbc.writeMem(0xb5b3, { 0x54 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x75e3, gbc.sp());
        EXPECT(0xb5b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb5b3));
        // 54 0396
        gbc.setState(0x8494, 0xcae, 0x9760, 0x7974, 0x82b1, 0x78b1, 0x1, 0x1);
        gbc.writeMem(0x8494, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xcae, gbc.sp());
        EXPECT(0x8495, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8494));
        // 54 0398
        gbc.setState(0x93f1, 0xb50f, 0x6fe0, 0xece4, 0x9a12, 0xfad4, 0x1, 0x0);
        gbc.writeMem(0x93f1, { 0x54 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xb50f, gbc.sp());
        EXPECT(0x93f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x93f1));
        // 54 0399
        gbc.setState(0x68e1, 0xf171, 0x1dc0, 0x9a91, 0xfbc4, 0x758b, 0x0, 0x0);
        gbc.writeMem(0x68e1, { 0x54 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xf171, gbc.sp());
        EXPECT(0x68e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 039A
        gbc.setState(0x9d43, 0x10d5, 0x5f10, 0xaed2, 0xa42b, 0xb51c, 0x0, 0x1);
        gbc.writeMem(0x9d43, { 0x54 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x10d5, gbc.sp());
        EXPECT(0x9d44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9d43));
        // 54 039B
        gbc.setState(0xb1e8, 0xc3f5, 0x670, 0x850a, 0x8ea9, 0x4777, 0x0, 0x1);
        gbc.writeMem(0xb1e8, { 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xc3f5, gbc.sp());
        EXPECT(0xb1e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb1e8));
        // 54 039C
        gbc.setState(0x9d0a, 0xaaef, 0xc8f0, 0xcca4, 0xd6e, 0x32e4, 0x1, 0x0);
        gbc.writeMem(0x9d0a, { 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xaaef, gbc.sp());
        EXPECT(0x9d0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9d0a));
        // 54 039D
        gbc.setState(0xdf2d, 0x3712, 0xdc10, 0x22f, 0xd892, 0x1fbe, 0x1, 0x0);
        gbc.writeMem(0xdf2d, { 0x54 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x3712, gbc.sp());
        EXPECT(0xdf2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xdf2d));
        // 54 039E
        gbc.setState(0x43a3, 0xd0b2, 0x86e0, 0x5740, 0xead1, 0xa6d2, 0x1, 0x1);
        gbc.writeMem(0x43a3, { 0x54 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xd0b2, gbc.sp());
        EXPECT(0x43a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 039F
        gbc.setState(0x8f6f, 0xc8b0, 0x6500, 0xa1f1, 0xf414, 0xc788, 0x1, 0x0);
        gbc.writeMem(0x8f6f, { 0x54 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xc8b0, gbc.sp());
        EXPECT(0x8f70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8f6f));
        // 54 03A0
        gbc.setState(0xce53, 0x1be5, 0x1640, 0x43b, 0x5b79, 0x8014, 0x0, 0x1);
        gbc.writeMem(0xce53, { 0x54 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x1be5, gbc.sp());
        EXPECT(0xce54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xce53));
        // 54 03A1
        gbc.setState(0x4920, 0x1a1e, 0x2360, 0xb5fd, 0x63e, 0xa7f4, 0x0, 0x1);
        gbc.writeMem(0x4920, { 0x54 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x1a1e, gbc.sp());
        EXPECT(0x4921, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03A2
        gbc.setState(0xca21, 0xaefc, 0xfba0, 0x311b, 0xb942, 0x3eb6, 0x0, 0x0);
        gbc.writeMem(0xca21, { 0x54 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xaefc, gbc.sp());
        EXPECT(0xca22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xca21));
        // 54 03A3
        gbc.setState(0x506d, 0x6e02, 0x2b90, 0x137f, 0xc949, 0xe3aa, 0x0, 0x0);
        gbc.writeMem(0x506d, { 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x6e02, gbc.sp());
        EXPECT(0x506e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03A4
        gbc.setState(0xe28f, 0x3df0, 0xa720, 0x11b9, 0x3502, 0x24bf, 0x0, 0x1);
        gbc.writeMem(0xe28f, { 0x54 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x3df0, gbc.sp());
        EXPECT(0xe290, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe28f));
        // 54 03A6
        gbc.setState(0x87cb, 0x40fe, 0x46b0, 0xbe79, 0x7a18, 0xbf8, 0x1, 0x0);
        gbc.writeMem(0x87cb, { 0x54 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x40fe, gbc.sp());
        EXPECT(0x87cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x87cb));
        // 54 03AA
        gbc.setState(0x4f3b, 0x3362, 0xfd20, 0xad5e, 0xd4cb, 0xf90b, 0x0, 0x0);
        gbc.writeMem(0x4f3b, { 0x54 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x3362, gbc.sp());
        EXPECT(0x4f3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03AB
        gbc.setState(0xa940, 0x9f42, 0x2bd0, 0x5221, 0x37af, 0xf435, 0x0, 0x1);
        gbc.writeMem(0xa940, { 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x9f42, gbc.sp());
        EXPECT(0xa941, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xa940));
        // 54 03AC
        gbc.setState(0x8ac0, 0xd603, 0x6910, 0xbb2e, 0x4471, 0xf6c5, 0x1, 0x0);
        gbc.writeMem(0x8ac0, { 0x54 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xd603, gbc.sp());
        EXPECT(0x8ac1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8ac0));
        // 54 03AD
        gbc.setState(0x116, 0xf978, 0x9780, 0x47df, 0x225, 0xff1f, 0x0, 0x0);
        gbc.writeMem(0x116, { 0x54 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xf978, gbc.sp());
        EXPECT(0x117, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03AE
        gbc.setState(0x509d, 0xc4d0, 0x22b0, 0x199e, 0x5c43, 0x2579, 0x0, 0x0);
        gbc.writeMem(0x509d, { 0x54 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xc4d0, gbc.sp());
        EXPECT(0x509e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03AF
        gbc.setState(0x4558, 0x860f, 0x6b60, 0x8f41, 0x4fee, 0xf377, 0x0, 0x1);
        gbc.writeMem(0x4558, { 0x54 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x860f, gbc.sp());
        EXPECT(0x4559, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03B0
        gbc.setState(0xb926, 0x3235, 0x3aa0, 0x729b, 0xd59d, 0x3c25, 0x1, 0x1);
        gbc.writeMem(0xb926, { 0x54 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x3235, gbc.sp());
        EXPECT(0xb927, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb926));
        // 54 03B1
        gbc.setState(0xd231, 0x33ea, 0xd810, 0x2313, 0x90cd, 0xc898, 0x0, 0x1);
        gbc.writeMem(0xd231, { 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x33ea, gbc.sp());
        EXPECT(0xd232, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd231));
        // 54 03B2
        gbc.setState(0x1d53, 0x94e9, 0x4ff0, 0xd7e2, 0xe84b, 0x8c60, 0x1, 0x1);
        gbc.writeMem(0x1d53, { 0x54 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x94e9, gbc.sp());
        EXPECT(0x1d54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03B3
        gbc.setState(0x2927, 0x8d60, 0xe400, 0xb93e, 0x6acb, 0xeed, 0x0, 0x1);
        gbc.writeMem(0x2927, { 0x54 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x8d60, gbc.sp());
        EXPECT(0x2928, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03B4
        gbc.setState(0x81e, 0x4dc4, 0x27a0, 0x560c, 0xeac2, 0xe14, 0x0, 0x0);
        gbc.writeMem(0x81e, { 0x54 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x4dc4, gbc.sp());
        EXPECT(0x81f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03B5
        gbc.setState(0x2311, 0x3ab7, 0xa870, 0x7bb7, 0x4560, 0x850f, 0x0, 0x0);
        gbc.writeMem(0x2311, { 0x54 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x3ab7, gbc.sp());
        EXPECT(0x2312, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03B6
        gbc.setState(0xef21, 0x7548, 0xcf30, 0x21cc, 0x4b8e, 0x6bf4, 0x1, 0x1);
        gbc.writeMem(0xef21, { 0x54 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x7548, gbc.sp());
        EXPECT(0xef22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xef21));
        // 54 03B7
        gbc.setState(0x1696, 0xee83, 0x6b0, 0x6929, 0x1b1c, 0x9c4b, 0x0, 0x1);
        gbc.writeMem(0x1696, { 0x54 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xee83, gbc.sp());
        EXPECT(0x1697, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03B8
        gbc.setState(0x8fa9, 0xb05b, 0xd810, 0x4783, 0xc660, 0x8660, 0x0, 0x1);
        gbc.writeMem(0x8fa9, { 0x54 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xb05b, gbc.sp());
        EXPECT(0x8faa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8fa9));
        // 54 03B9
        gbc.setState(0x4430, 0xa1a0, 0x3540, 0x89f, 0x175e, 0xa8bd, 0x0, 0x1);
        gbc.writeMem(0x4430, { 0x54 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xa1a0, gbc.sp());
        EXPECT(0x4431, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03BA
        gbc.setState(0x55ab, 0xe454, 0x13c0, 0x468, 0x55f0, 0xe4ac, 0x0, 0x1);
        gbc.writeMem(0x55ab, { 0x54 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xe454, gbc.sp());
        EXPECT(0x55ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03BB
        gbc.setState(0x1cbf, 0x2b3a, 0x8750, 0xe8e1, 0xf0f3, 0xd291, 0x1, 0x1);
        gbc.writeMem(0x1cbf, { 0x54 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x2b3a, gbc.sp());
        EXPECT(0x1cc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03BC
        gbc.setState(0x58a6, 0xbf5b, 0x2640, 0xe3ff, 0xd04d, 0x8b5a, 0x0, 0x0);
        gbc.writeMem(0x58a6, { 0x54 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xbf5b, gbc.sp());
        EXPECT(0x58a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03BD
        gbc.setState(0xd3cf, 0x5233, 0xb1a0, 0x4c4b, 0xbd6e, 0xfe51, 0x1, 0x1);
        gbc.writeMem(0xd3cf, { 0x54 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x5233, gbc.sp());
        EXPECT(0xd3d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd3cf));
        // 54 03BE
        gbc.setState(0x8ee8, 0xc49d, 0x8d40, 0xb2f8, 0x56bd, 0xfe2c, 0x0, 0x0);
        gbc.writeMem(0x8ee8, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xc49d, gbc.sp());
        EXPECT(0x8ee9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8ee8));
        // 54 03BF
        gbc.setState(0xd491, 0x3722, 0x9d20, 0x6bb4, 0x79ea, 0x5164, 0x0, 0x1);
        gbc.writeMem(0xd491, { 0x54 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x3722, gbc.sp());
        EXPECT(0xd492, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd491));
        // 54 03C0
        gbc.setState(0x9e35, 0x6190, 0x9ea0, 0x89f0, 0xd1e4, 0xed22, 0x0, 0x0);
        gbc.writeMem(0x9e35, { 0x54 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x6190, gbc.sp());
        EXPECT(0x9e36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9e35));
        // 54 03C1
        gbc.setState(0x3f01, 0x7092, 0xe7e0, 0x896d, 0x4af5, 0x690c, 0x0, 0x1);
        gbc.writeMem(0x3f01, { 0x54 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x7092, gbc.sp());
        EXPECT(0x3f02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03C2
        gbc.setState(0xeced, 0x2d40, 0xbec0, 0x8adc, 0xef, 0xcff4, 0x1, 0x0);
        gbc.writeMem(0xeced, { 0x54 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x2d40, gbc.sp());
        EXPECT(0xecee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xeced));
        // 54 03C3
        gbc.setState(0x444a, 0xb57e, 0x2b10, 0x36d2, 0x3772, 0x55f7, 0x1, 0x0);
        gbc.writeMem(0x444a, { 0x54 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xb57e, gbc.sp());
        EXPECT(0x444b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03C4
        gbc.setState(0x7153, 0xcb4a, 0x1bd0, 0x4599, 0x5a75, 0x251a, 0x1, 0x0);
        gbc.writeMem(0x7153, { 0x54 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xcb4a, gbc.sp());
        EXPECT(0x7154, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03C5
        gbc.setState(0xc4c, 0x80e5, 0xac90, 0xf5ec, 0x4c65, 0x6d1c, 0x0, 0x1);
        gbc.writeMem(0xc4c, { 0x54 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x80e5, gbc.sp());
        EXPECT(0xc4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03C6
        gbc.setState(0x352f, 0xf86d, 0x24c0, 0x3387, 0xceec, 0x169d, 0x1, 0x0);
        gbc.writeMem(0x352f, { 0x54 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xf86d, gbc.sp());
        EXPECT(0x3530, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03C7
        gbc.setState(0x6081, 0x4af6, 0xb880, 0xf30a, 0x6bda, 0x1228, 0x1, 0x0);
        gbc.writeMem(0x6081, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x4af6, gbc.sp());
        EXPECT(0x6082, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03C8
        gbc.setState(0x199e, 0xf9fc, 0x7b60, 0x8e97, 0xb0ad, 0x2e4f, 0x1, 0x0);
        gbc.writeMem(0x199e, { 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xf9fc, gbc.sp());
        EXPECT(0x199f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03C9
        gbc.setState(0x91a6, 0x49bb, 0xab10, 0xf09, 0x7318, 0x701d, 0x1, 0x0);
        gbc.writeMem(0x91a6, { 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x49bb, gbc.sp());
        EXPECT(0x91a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x91a6));
        // 54 03CA
        gbc.setState(0x642d, 0x1ba2, 0xa950, 0x6f5e, 0x5f72, 0xfa6a, 0x0, 0x1);
        gbc.writeMem(0x642d, { 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x1ba2, gbc.sp());
        EXPECT(0x642e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03CB
        gbc.setState(0x8624, 0xfa75, 0xb90, 0xac54, 0x329e, 0x913c, 0x0, 0x1);
        gbc.writeMem(0x8624, { 0x54 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xfa75, gbc.sp());
        EXPECT(0x8625, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8624));
        // 54 03CC
        gbc.setState(0x855c, 0x5467, 0x7610, 0x2c38, 0xae2b, 0xeb6f, 0x0, 0x0);
        gbc.writeMem(0x855c, { 0x54 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x5467, gbc.sp());
        EXPECT(0x855d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x855c));
        // 54 03CD
        gbc.setState(0x6743, 0xbb35, 0x7e50, 0x7667, 0xd30f, 0x29ab, 0x1, 0x1);
        gbc.writeMem(0x6743, { 0x54 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xbb35, gbc.sp());
        EXPECT(0x6744, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03CE
        gbc.setState(0x2fae, 0x3c64, 0x490, 0xc011, 0x78dd, 0xbb99, 0x0, 0x0);
        gbc.writeMem(0x2fae, { 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x3c64, gbc.sp());
        EXPECT(0x2faf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03CF
        gbc.setState(0x2b52, 0x5669, 0x8d60, 0xa0dc, 0x30a, 0x3029, 0x1, 0x0);
        gbc.writeMem(0x2b52, { 0x54 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x5669, gbc.sp());
        EXPECT(0x2b53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03D0
        gbc.setState(0xe7f4, 0xda29, 0x9e0, 0x1424, 0x4a38, 0x433c, 0x1, 0x1);
        gbc.writeMem(0xe7f4, { 0x54 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xda29, gbc.sp());
        EXPECT(0xe7f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xe7f4));
        // 54 03D1
        gbc.setState(0x402b, 0xb8d0, 0x4920, 0x9e37, 0x78e2, 0xbf8, 0x1, 0x1);
        gbc.writeMem(0x402b, { 0x54 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xb8d0, gbc.sp());
        EXPECT(0x402c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03D2
        gbc.setState(0xcca0, 0x5055, 0xa570, 0x5b08, 0xb9fb, 0x179e, 0x1, 0x0);
        gbc.writeMem(0xcca0, { 0x54 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x5055, gbc.sp());
        EXPECT(0xcca1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xcca0));
        // 54 03D3
        gbc.setState(0x6241, 0xcd9d, 0xc870, 0x8fe, 0x36fc, 0x3477, 0x1, 0x1);
        gbc.writeMem(0x6241, { 0x54 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xcd9d, gbc.sp());
        EXPECT(0x6242, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03D4
        gbc.setState(0x8a71, 0xd11a, 0xf7e0, 0x6d16, 0x1061, 0x9c6d, 0x0, 0x1);
        gbc.writeMem(0x8a71, { 0x54 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xd11a, gbc.sp());
        EXPECT(0x8a72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8a71));
        // 54 03D5
        gbc.setState(0x381a, 0x4302, 0xdbf0, 0x7898, 0x1fc0, 0x368e, 0x0, 0x0);
        gbc.writeMem(0x381a, { 0x54 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x4302, gbc.sp());
        EXPECT(0x381b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03D6
        gbc.setState(0xee19, 0x61c4, 0x6500, 0x7c64, 0xe957, 0xa0ae, 0x0, 0x1);
        gbc.writeMem(0xee19, { 0x54 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x61c4, gbc.sp());
        EXPECT(0xee1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xee19));
        // 54 03D8
        gbc.setState(0x7d22, 0xf135, 0x9990, 0xd2f4, 0x27ea, 0x7f5a, 0x0, 0x0);
        gbc.writeMem(0x7d22, { 0x54 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xf135, gbc.sp());
        EXPECT(0x7d23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03D9
        gbc.setState(0xee26, 0xe0c, 0x410, 0x5839, 0x9afa, 0xbe5, 0x1, 0x1);
        gbc.writeMem(0xee26, { 0x54 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xe0c, gbc.sp());
        EXPECT(0xee27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xee26));
        // 54 03DA
        gbc.setState(0x64db, 0xd977, 0x48d0, 0xc80, 0x33ba, 0xe1b8, 0x1, 0x0);
        gbc.writeMem(0x64db, { 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xd977, gbc.sp());
        EXPECT(0x64dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03DB
        gbc.setState(0x5c1e, 0xe9c2, 0x4480, 0xa053, 0xef81, 0x84fe, 0x0, 0x0);
        gbc.writeMem(0x5c1e, { 0x54 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xe9c2, gbc.sp());
        EXPECT(0x5c1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03DC
        gbc.setState(0xb846, 0x7590, 0xb9a0, 0xe612, 0x86d7, 0xbf58, 0x1, 0x0);
        gbc.writeMem(0xb846, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x7590, gbc.sp());
        EXPECT(0xb847, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xb846));
        // 54 03DD
        gbc.setState(0x9158, 0xd4b, 0xd9a0, 0x46fd, 0xe73e, 0x9998, 0x0, 0x0);
        gbc.writeMem(0x9158, { 0x54 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xd4b, gbc.sp());
        EXPECT(0x9159, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9158));
        // 54 03DE
        gbc.setState(0x4471, 0x7786, 0x52f0, 0x8f9a, 0x99a9, 0x334c, 0x1, 0x0);
        gbc.writeMem(0x4471, { 0x54 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x7786, gbc.sp());
        EXPECT(0x4472, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03DF
        gbc.setState(0x9231, 0x5a25, 0xedb0, 0x483, 0x5fa6, 0xfab, 0x1, 0x1);
        gbc.writeMem(0x9231, { 0x54 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x5a25, gbc.sp());
        EXPECT(0x9232, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x9231));
        // 54 03E0
        gbc.setState(0x80de, 0xd93c, 0x2110, 0xc907, 0xf974, 0xd14c, 0x0, 0x1);
        gbc.writeMem(0x80de, { 0x54 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xd93c, gbc.sp());
        EXPECT(0x80df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x80de));
        // 54 03E1
        gbc.setState(0x7a79, 0x8124, 0xb8e0, 0xb4a9, 0x8179, 0x5acf, 0x0, 0x0);
        gbc.writeMem(0x7a79, { 0x54 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x8124, gbc.sp());
        EXPECT(0x7a7a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 54 03E2
        gbc.setState(0x3a9f, 0xd7ed, 0xf2d0, 0x83e5, 0x4a0c, 0x523c, 0x0, 0x1);
        gbc.writeMem(0x3a9f, { 0x54 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xd7ed, gbc.sp());
        EXPECT(0x3aa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03E3
        gbc.setState(0x646d, 0x3042, 0x3670, 0x21ea, 0x624c, 0x9d88, 0x0, 0x0);
        gbc.writeMem(0x646d, { 0x54 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x3042, gbc.sp());
        EXPECT(0x646e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03E4
        gbc.setState(0x1d1c, 0x36b9, 0xb990, 0x1c8e, 0x5967, 0xd7f5, 0x0, 0x0);
        gbc.writeMem(0x1d1c, { 0x54 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x36b9, gbc.sp());
        EXPECT(0x1d1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 54 03E5
        gbc.setState(0x8382, 0x8d4e, 0x4730, 0x95d, 0x216, 0xf28a, 0x1, 0x0);
        gbc.writeMem(0x8382, { 0x54 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x8d4e, gbc.sp());
        EXPECT(0x8383, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0x8382));
        // 54 03E7
        gbc.setState(0xd390, 0x4d4d, 0xc760, 0x99f2, 0x8bfc, 0x96f4, 0x1, 0x1);
        gbc.writeMem(0xd390, { 0x54 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x4d4d, gbc.sp());
        EXPECT(0xd391, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xd390));
    }
